{"version":3,"file":"features/comments-overview/snippet.js","mappings":"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","sources":["webpack://ckeditor5/./node_modules/umberto/source/ckeditor5/44.1.0/_snippets/features/comments-overview.js"],"sourcesContent":["/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/* globals window, document, CS_CONFIG, EditorWatchdog, ClassicEditor, LICENSE_KEY, MentionPlugin */\n\n// Application data will be available under a global variable `appData`.\nconst appData = {\n\t// Users data.\n\tusers: [\n\t\t{\n\t\t\tid: 'user-1',\n\t\t\tname: 'Mex Haddox'\n\t\t},\n\t\t{\n\t\t\tid: 'user-2',\n\t\t\tname: 'Zee Croce'\n\t\t}\n\t],\n\n\t// The ID of the current user.\n\tuserId: 'user-1'\n};\n\nclass CommentsAdapter {\n\tconstructor( editor ) {\n\t\tthis.editor = editor;\n\t}\n\n\tstatic get requires() {\n\t\treturn [ 'CommentsRepository' ];\n\t}\n\n\tinit() {\n\t\tconst usersPlugin = this.editor.plugins.get( 'Users' );\n\t\tconst commentsRepositoryPlugin = this.editor.plugins.get( 'CommentsRepository' );\n\n\t\t// Load the users data.\n\t\tfor ( const user of appData.users ) {\n\t\t\tusersPlugin.addUser( user );\n\t\t}\n\n\t\t// Set the current user.\n\t\tusersPlugin.defineMe( 'user-1' );\n\n\t\tcommentsRepositoryPlugin.adapter = {\n\t\t\taddComment: () => Promise.resolve(),\n\t\t\tupdateComment: () => Promise.resolve(),\n\t\t\tremoveComment: () => Promise.resolve(),\n\n\t\t\tgetCommentThread() {\n\t\t\t\tconst initialCommentThreadData = {\n\t\t\t\t\tthreadId: 'thread-1',\n\t\t\t\t\tcomments: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcommentId: 'comment-1',\n\t\t\t\t\t\t\tauthorId: 'user-2',\n\t\t\t\t\t\t\tcontent: '<p>Are we sure we want to use a made-up disorder name?</p>',\n\t\t\t\t\t\t\tcreatedAt: new Date()\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t};\n\n\t\t\t\treturn Promise.resolve( initialCommentThreadData );\n\t\t\t},\n\t\t\taddCommentThread: () => Promise.resolve( { comments: [] } ),\n\t\t\tupdateCommentThread: () => Promise.resolve(),\n\t\t\tresolveCommentThread: () => Promise.resolve( { resolvedAt: new Date(), resolvedBy: usersPlugin.me.id } ),\n\t\t\treopenCommentThread: () => Promise.resolve(),\n\t\t\tremoveCommentThread: () => Promise.resolve()\n\t\t};\n\t}\n}\n\nconst initialData =\n\t`<h2>\n\t\t<comment-start name=\"thread-1\"></comment-start>\n\t\tBilingual Personality Disorder\n\t\t<comment-end name=\"thread-1\"></comment-end>\n\t</h2>\n\t<p>\n\t\tThis may be the first time you hear about this made-up disorder but it actually isn’t so far from the truth.\n\t\tAs recent studies show, the language you speak has more effects on you than you realize.\n\t\tAccording to the studies, the language a person speaks affects their cognition,\n\t\tbehavior, emotions, and hence <strong>their personality</strong>.\n\t</p>\n\t<figure class=\"image image-style-side\">\n\t\t<img src=\"../../../assets/img/collaboration-demo-img.jpg\">\n\t\t<figcaption>\n\t\t\tOne language, one person.\n\t\t</figcaption>\n\t</figure>\n\t<p>\n\t\tThis shouldn’t come as a surprise\n\t\t<a href=\"https://en.wikipedia.org/wiki/Lateralization_of_brain_function\">since we already know</a>\n\t\tthat different regions of the brain become more active depending on the activity.\n\t\tThe structure, information, and especially <strong>the culture</strong> of languages vary substantially\n\t\tand the language a person speaks is an essential element of daily life.\n\t</p>`;\n\nconst watchdog = new EditorWatchdog( ClassicEditor );\nwindow.watchdog = watchdog;\n\nwatchdog.setCreator( ( el, config ) => {\n\treturn ClassicEditor.create( el, config )\n\t\t.then( editor => {\n\t\t\t// Switch between inline, narrow sidebar and wide sidebar according to the window size.\n\t\t\tconst row = document.querySelector( '.live-snippet__container' );\n\t\t\tconst annotationsUIs = editor.plugins.get( 'AnnotationsUIs' );\n\t\t\tconst sidebarElement = document.querySelector( '.sidebar' );\n\n\t\t\tfunction refreshDisplayMode() {\n\t\t\t\tif ( row.offsetWidth < 650 ) {\n\t\t\t\t\tsidebarElement.classList.remove( 'narrow' );\n\t\t\t\t\tsidebarElement.classList.add( 'hidden' );\n\t\t\t\t\tannotationsUIs.switchTo( 'inline' );\n\t\t\t\t}\n\t\t\t\telse if ( row.offsetWidth < 870 ) {\n\t\t\t\t\tsidebarElement.classList.remove( 'hidden' );\n\t\t\t\t\tsidebarElement.classList.add( 'narrow' );\n\t\t\t\t\tannotationsUIs.switchTo( 'narrowSidebar' );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsidebarElement.classList.remove( 'hidden', 'narrow' );\n\t\t\t\t\tannotationsUIs.switchTo( 'wideSidebar' );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\teditor.ui.view.listenTo( window, 'resize', refreshDisplayMode );\n\t\t\trefreshDisplayMode();\n\n\t\t\twindow.attachTourBalloon( {\n\t\t\t\ttarget: window.findToolbarItem(\n\t\t\t\t\teditor.ui.view.toolbar, item => item.label && item.label === 'Comment'\n\t\t\t\t),\n\t\t\t\ttext: 'Select a passage to add comment.',\n\t\t\t\teditor,\n\t\t\t\ttippyOptions: {\n\t\t\t\t\tplacement: 'bottom-start'\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\treturn editor;\n\t\t} );\n} );\n\nwatchdog.create( document.querySelector( '.comments-adapter .editor' ), {\n\tinitialData,\n\textraPlugins: [ CommentsAdapter, MentionPlugin ],\n\ttoolbar: {\n\t\titems: [\n\t\t\t'undo', 'redo',\n\t\t\t'|', 'comment', 'commentsArchive',\n\t\t\t'|', 'heading',\n\t\t\t'|', 'bold', 'italic',\n\t\t\t'|', 'link', 'insertImage', 'insertTable',\n\t\t\t'|', 'bulletedList', 'numberedList'\n\t\t]\n\t},\n\tlicenseKey: LICENSE_KEY,\n\tsidebar: {\n\t\tcontainer: document.querySelector( '.comments-adapter .sidebar' )\n\t},\n\timage: {\n\t\ttoolbar: [\n\t\t\t'imageStyle:inline', 'imageStyle:block', 'imageStyle:wrapText', '|',\n\t\t\t'imageTextAlternative', 'ckboxImageEdit', '|', 'comment'\n\t\t]\n\t},\n\tckbox: {\n\t\tallowExternalImagesEditing: [ /^data:/, 'origin', /ckbox/ ],\n\t\tforceDemoLabel: true\n\t},\n\tcloudServices: CS_CONFIG,\n\tui: {\n\t\tviewportOffset: {\n\t\t\ttop: window.getViewportTopOffsetConfig()\n\t\t}\n\t},\n\tcomments: {\n\t\teditorConfig: {\n\t\t\textraPlugins: ClassicEditor.builtinPlugins.filter( plugin => {\n\t\t\t\treturn [ 'Bold', 'Italic', 'Underline', 'List', 'Autoformat' ].includes( plugin.pluginName );\n\t\t\t} )\n\t\t}\n\t},\n\tmention: {\n\t\tfeeds: [\n\t\t\t{\n\t\t\t\tmarker: '@',\n\t\t\t\tfeed: [ '@Barney', '@Lily', '@Marry Ann', '@Marshall', '@Robin', '@Ted' ]\n\t\t\t}\n\t\t]\n\t}\n} );\n"],"names":["appData","id","name","watchdog","EditorWatchdog","ClassicEditor","window","setCreator","el","config","create","then","editor","row","document","querySelector","annotationsUIs","plugins","get","sidebarElement","refreshDisplayMode","offsetWidth","classList","remove","add","switchTo","ui","view","listenTo","attachTourBalloon","target","findToolbarItem","toolbar","item","label","text","tippyOptions","placement","initialData","extraPlugins","constructor","this","requires","init","usersPlugin","commentsRepositoryPlugin","user","addUser","defineMe","adapter","addComment","Promise","resolve","updateComment","removeComment","getCommentThread","initialCommentThreadData","threadId","comments","commentId","authorId","content","createdAt","Date","addCommentThread","updateCommentThread","resolveCommentThread","resolvedAt","resolvedBy","me","reopenCommentThread","removeCommentThread","MentionPlugin","items","licenseKey","sidebar","container","image","ckbox","allowExternalImagesEditing","forceDemoLabel","cloudServices","viewportOffset","top","getViewportTopOffsetConfig","editorConfig","builtinPlugins","filter","plugin","includes","pluginName","mention","feeds","marker","feed"],"sourceRoot":""}