{"version":3,"file":"features/word-count-update/snippet.js","mappings":";;;sBAWO,MAIMA,EAAY,CACxBC,SALwB,kGAMxBC,UAJyB,8CCHpBC,EAAgB,IAChBC,EAAYC,SAASC,cAAe,gBACpCC,EAAiBF,SAASC,cAAe,+BACzCE,EAAgBH,SAASC,cAAe,mCACxCG,EAAWJ,SAASC,cAAe,uBACnCI,EAAsBC,KAAKC,MAAO,EAAID,KAAKE,GAAKN,EAAeO,aAAc,MAC7EC,EAAaV,SAASC,cAAe,sBAE3CS,EAAWC,iBAAkB,SAAS,KACrCC,OAAOC,MAAO,aAAc,IAG7BC,cACEC,OAAQf,SAASC,cAAe,wBAA0B,CAC1De,cAAerB,EACfsB,QAAS,CACRC,MAAO,CACN,OAAQ,OACR,IAAK,UACL,IAAK,OAAQ,SACb,IAAK,OAAQ,cAAe,cAAe,aAC3C,IAAK,eAAgB,eAAgB,UAAW,WAGlDC,GAAI,CACHC,eAAgB,CACfC,IAAKT,OAAOU,+BAGdC,MAAO,CACN3B,SC9BsB,kCD+BtB4B,2BAA4B,CAAE,SAAU,SAAU,SAClDC,gBAAgB,GAEjBC,YAAa,mBACbC,MAAO,CACNV,QAAS,CACR,oBACA,mBACA,sBACA,IACA,qBACA,uBACA,IACA,mBAGFW,MAAO,CACNC,eAAgB,CAAE,cAAe,WAAY,oBAE9CC,UAAW,CACVC,SAAUC,IACT,MAAMC,EAAqBD,EAAME,WAAapC,EAAgBO,EACxD8B,EAAkBH,EAAME,WAAapC,EACrCsC,GAAkBD,GAAmBH,EAAME,WAAapC,GACxDuC,EAAkB/B,KAAKgC,IAAKL,EAAoB5B,GAGtDH,EAAeqC,aAAc,mBAAoB,GAAIF,KAAqBhC,KAKzEF,EAAcqC,YADVL,EACwB,KAAKH,EAAME,WAAapC,GAExBkC,EAAME,WAGnC9B,EAASoC,YAAc,sBAAuBR,EAAMS,QAGpD1C,EAAU2C,UAAUC,OAAQ,2BAA4BP,GAGxDrC,EAAU2C,UAAUC,OAAQ,8BAA+BR,GAG3DzB,EAAWkC,gBAAiB,WAAYT,EAAiB,GAG3DU,WAAY,QAEZC,OAAOC,IACPC,QAAQC,MAAOF,EAAIG,MAAO,G","sources":["webpack://ckeditor5/./packages/ckeditor5-cloud-services/tests/_utils/cloud-services-config.js","webpack://ckeditor5/./node_modules/umberto/source/ckeditor5/44.1.0/_snippets/features/word-count-update.js","webpack://ckeditor5/./packages/ckeditor5-ckbox/tests/_utils/ckbox-config.js"],"sourcesContent":["/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n// WARNING: The URLs below should not be used for any other purpose than Easy Image plugin development.\n// Images uploaded using the testing token service may be deleted automatically at any moment.\n// If you would like to try the Easy Image service, please sign up for a free trial (https://ckeditor.com/ckeditor-cloud-services/).\n// Images uploaded during the free trial will not be deleted for the whole trial period and additionally the trial service can be converted\n// into a subscription at any moment, allowing you to preserve all uploaded images.\n\nexport const TOKEN_URL = 'https://33333.cke-cs.com/token/dev/ijrDsqFix838Gh3wGO3F77FSW94BwcLXprJ4APSp3XQ26xsUHTi0jcb1hoBt';\n\nexport const UPLOAD_URL = 'https://33333.cke-cs.com/easyimage/upload/';\n\nexport const CS_CONFIG = {\n\ttokenUrl: TOKEN_URL,\n\tuploadUrl: UPLOAD_URL\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/* global window, document, console, BalloonEditor */\n\nimport { CS_CONFIG } from '@ckeditor/ckeditor5-cloud-services/tests/_utils/cloud-services-config.js';\nimport { TOKEN_URL } from '@ckeditor/ckeditor5-ckbox/tests/_utils/ckbox-config.js';\n\nconst maxCharacters = 120;\nconst container = document.querySelector( '.demo-update' );\nconst progressCircle = document.querySelector( '.demo-update__chart__circle' );\nconst charactersBox = document.querySelector( '.demo-update__chart__characters' );\nconst wordsBox = document.querySelector( '.demo-update__words' );\nconst circleCircumference = Math.floor( 2 * Math.PI * progressCircle.getAttribute( 'r' ) );\nconst sendButton = document.querySelector( '.demo-update__send' );\n\nsendButton.addEventListener( 'click', () => {\n\twindow.alert( 'Post sent!' ); // eslint-disable-line no-alert\n} );\n\nBalloonEditor\n\t.create( document.querySelector( '#demo-update__editor' ), {\n\t\tcloudServices: CS_CONFIG,\n\t\ttoolbar: {\n\t\t\titems: [\n\t\t\t\t'undo', 'redo',\n\t\t\t\t'|', 'heading',\n\t\t\t\t'|', 'bold', 'italic',\n\t\t\t\t'|', 'link', 'insertImage', 'insertTable', 'mediaEmbed',\n\t\t\t\t'|', 'bulletedList', 'numberedList', 'outdent', 'indent'\n\t\t\t]\n\t\t},\n\t\tui: {\n\t\t\tviewportOffset: {\n\t\t\t\ttop: window.getViewportTopOffsetConfig()\n\t\t\t}\n\t\t},\n\t\tckbox: {\n\t\t\ttokenUrl: TOKEN_URL,\n\t\t\tallowExternalImagesEditing: [ /^data:/, 'origin', /ckbox/ ],\n\t\t\tforceDemoLabel: true\n\t\t},\n\t\tplaceholder: 'Text of the post',\n\t\timage: {\n\t\t\ttoolbar: [\n\t\t\t\t'imageStyle:inline',\n\t\t\t\t'imageStyle:block',\n\t\t\t\t'imageStyle:wrapText',\n\t\t\t\t'|',\n\t\t\t\t'toggleImageCaption',\n\t\t\t\t'imageTextAlternative',\n\t\t\t\t'|',\n\t\t\t\t'ckboxImageEdit'\n\t\t\t]\n\t\t},\n\t\ttable: {\n\t\t\tcontentToolbar: [ 'tableColumn', 'tableRow', 'mergeTableCells' ]\n\t\t},\n\t\twordCount: {\n\t\t\tonUpdate: stats => {\n\t\t\t\tconst charactersProgress = stats.characters / maxCharacters * circleCircumference;\n\t\t\t\tconst isLimitExceeded = stats.characters > maxCharacters;\n\t\t\t\tconst isCloseToLimit = !isLimitExceeded && stats.characters > maxCharacters * .8;\n\t\t\t\tconst circleDashArray = Math.min( charactersProgress, circleCircumference );\n\n\t\t\t\t// Set the stroke of the circle to show how many characters were typed.\n\t\t\t\tprogressCircle.setAttribute( 'stroke-dasharray', `${ circleDashArray },${ circleCircumference }` );\n\n\t\t\t\t// Display the number of characters in the progress chart. When the limit is exceeded,\n\t\t\t\t// display how many characters should be removed.\n\t\t\t\tif ( isLimitExceeded ) {\n\t\t\t\t\tcharactersBox.textContent = `-${ stats.characters - maxCharacters }`;\n\t\t\t\t} else {\n\t\t\t\t\tcharactersBox.textContent = stats.characters;\n\t\t\t\t}\n\n\t\t\t\twordsBox.textContent = `Words in the post: ${ stats.words }`;\n\n\t\t\t\t// If the content length is close to the characters limit, add a CSS class to warn the user.\n\t\t\t\tcontainer.classList.toggle( 'demo-update__limit-close', isCloseToLimit );\n\n\t\t\t\t// If the character limit is exceeded, add a CSS class that makes the content's background red.\n\t\t\t\tcontainer.classList.toggle( 'demo-update__limit-exceeded', isLimitExceeded );\n\n\t\t\t\t// If the character limit is exceeded, disable the send button.\n\t\t\t\tsendButton.toggleAttribute( 'disabled', isLimitExceeded );\n\t\t\t}\n\t\t},\n\t\tlicenseKey: 'GPL'\n\t} )\n\t.catch( err => {\n\t\tconsole.error( err.stack );\n\t} );\n\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n// WARNING: The URLs below should not be used for any other purpose than CKBox plugin development.\n// Images uploaded using the testing token service may be deleted automatically at any moment.\n// If you would like to try the CKBox service, please sign up for a free trial.\n// Images uploaded during the free trial will not be deleted for the whole trial period and additionally the trial service can be converted\n// into a subscription at any moment, allowing you to preserve all uploaded images.\nexport const TOKEN_URL = 'https://api.ckbox.io/token/demo';\n\n// If you want to play with non-superadmin tokens, use:\n// export const TOKEN_URL = 'https://preview.ckbox.io/cke-workspaces-demo/?page=token&role=user&workspaces=some-id1,some-id2';\n"],"names":["CS_CONFIG","tokenUrl","uploadUrl","maxCharacters","container","document","querySelector","progressCircle","charactersBox","wordsBox","circleCircumference","Math","floor","PI","getAttribute","sendButton","addEventListener","window","alert","BalloonEditor","create","cloudServices","toolbar","items","ui","viewportOffset","top","getViewportTopOffsetConfig","ckbox","allowExternalImagesEditing","forceDemoLabel","placeholder","image","table","contentToolbar","wordCount","onUpdate","stats","charactersProgress","characters","isLimitExceeded","isCloseToLimit","circleDashArray","min","setAttribute","textContent","words","classList","toggle","toggleAttribute","licenseKey","catch","err","console","error","stack"],"sourceRoot":""}