{"version":3,"file":"features/revision-history-adapter/snippet.js","mappings":"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","sources":["webpack://ckeditor5/./node_modules/umberto/source/ckeditor5/44.1.0/_snippets/features/revision-history-adapter.js"],"sourcesContent":["/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/* globals window, document, LICENSE_KEY, CS_CONFIG, ClassicEditor */\n/* eslint-disable */\n\nconst appData = {\n    // The initial editor data.\n\tdata: `<figure class=\"image\"><img src=\"../../../assets/img/revision-history-demo.png\"></figure><h1>PUBLISHING AGREEMENT</h1><h3>Introduction</h3><p>This publishing contract, the ‚Äúcontract‚Äù, is entered into as of 1st June 2020 by and between The Lower Shelf, the ‚ÄúPublisher‚Äù, and John Smith, the ‚ÄúAuthor‚Äù.</p><h3>Grant of Rights</h3><p>The Author grants the Publisher full right and title to the following, in perpetuity:</p><ul><li>To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.</li><li>To create or devise modified, abridged, or derivative works based on the works listed.</li><li>To allow others to use the listed works at their discretion, without providing additional compensation to the Author.</li></ul><p>These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.</p><p>Any rights not granted to the Publisher above remain with the Author.</p><p>The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.</p>`,\n\n\t// The user data.\n\tuser: {\n\t\tid: 'u1',\n\t\tname: 'Mex Haddox'\n\t},\n\n\t// The ID of the current user.\n\tuserId: 'u1'\n}\n\nclass RevisionHistoryAdapter {\n\tconstructor( editor ) {\n\t\tthis.editor = editor;\n\t}\n\n\tstatic get pluginName() {\n\t\treturn 'RevisionHistoryAdapter';\n\t}\n\n\tstatic get requires() {\n\t\treturn [ 'RevisionHistory' ];\n\t}\n\n\tasync init() {\n\t\tconst revisionHistory = this.editor.plugins.get( 'RevisionHistory' );\n\n\t\trevisionHistory.adapter = {\n\t\t\tgetRevision: ( { revisionId } ) => {\n\t\t\t\tlet revisionData;\n\n\t\t\t\t// Get the revision data based on its ID.\n\t\t\t\t// This should be an asynchronous request to your database.\n\t\t\t\tswitch ( revisionId ) {\n\t\t\t\t\tcase 'initial':\n\t\t\t\t\t\trevisionData = {\n\t\t\t\t\t\t\t\"id\": \"initial\",\n\t\t\t\t\t\t\t\"name\": \"Initial revision\",\n\t\t\t\t\t\t\t\"creatorId\": \"u1\",\n\t\t\t\t\t\t\t\"authorsIds\": [ \"u1\" ],\n\t\t\t\t\t\t\t\"diffData\": {\n\t\t\t\t\t\t\t\t\"main\": {\n\t\t\t\t\t\t\t\t\t\"insertions\": '[{\"name\":\"h1\",\"attributes\":[],\"children\":[\"PUBLISHING AGREEMENT\"]},{\"name\":\"h3\",\"attributes\":[],\"children\":[\"Introduction\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"This publishing contract, the ‚Äúcontract‚Äù, is entered into as of ‚Ä¶‚Ä¶‚Ä¶‚Ä¶ by and between The Lower Shelf, the ‚ÄúPublisher‚Äù, and ‚Ä¶‚Ä¶‚Ä¶‚Ä¶, the ‚ÄúAuthor‚Äù.\"]},{\"name\":\"h3\",\"attributes\":[],\"children\":[\"Grant of Rights\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"The Author grants the Publisher full right and title to the following, in perpetuity:\"]},{\"name\":\"ul\",\"attributes\":[],\"children\":[{\"name\":\"li\",\"attributes\":[],\"children\":[\"To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.\"]},{\"name\":\"li\",\"attributes\":[],\"children\":[\"To create or devise modified, abridged, or derivative works based on the works listed.\"]},{\"name\":\"li\",\"attributes\":[],\"children\":[\"To allow others to use the listed works at their discretion, without providing additional compensation to the Author.\"]}]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"These rights are granted by the Author on behalf of him/herself and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"Any rights not granted to the Publisher above remain with the Author.\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"Publishing formats are enumerated in Appendix A.\"]}]',\n\t\t\t\t\t\t\t\t\t\"deletions\": '[{\"name\":\"h1\",\"attributes\":[],\"children\":[\"PUBLISHING AGREEMENT\"]},{\"name\":\"h3\",\"attributes\":[],\"children\":[\"Introduction\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"This publishing contract, the ‚Äúcontract‚Äù, is entered into as of ‚Ä¶‚Ä¶‚Ä¶‚Ä¶ by and between The Lower Shelf, the ‚ÄúPublisher‚Äù, and ‚Ä¶‚Ä¶‚Ä¶‚Ä¶, the ‚ÄúAuthor‚Äù.\"]},{\"name\":\"h3\",\"attributes\":[],\"children\":[\"Grant of Rights\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"The Author grants the Publisher full right and title to the following, in perpetuity:\"]},{\"name\":\"ul\",\"attributes\":[],\"children\":[{\"name\":\"li\",\"attributes\":[],\"children\":[\"To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.\"]},{\"name\":\"li\",\"attributes\":[],\"children\":[\"To create or devise modified, abridged, or derivative works based on the works listed.\"]},{\"name\":\"li\",\"attributes\":[],\"children\":[\"To allow others to use the listed works at their discretion, without providing additional compensation to the Author.\"]}]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"These rights are granted by the Author on behalf of him/herself and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"Any rights not granted to the Publisher above remain with the Author.\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"Publishing formats are enumerated in Appendix A.\"]}]'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"createdAt\": \"2021-05-27T13:22:59.077Z\",\n\t\t\t\t\t\t\t\"attributes\": {},\n\t\t\t\t\t\t\t\"fromVersion\": 1,\n\t\t\t\t\t\t\t\"toVersion\": 1\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'e6f80e6be6ee6057fd5a449ab13fba25d':\n\t\t\t\t\t\trevisionData = {\n\t\t\t\t\t\t\t\"id\": \"e6f80e6be6ee6057fd5a449ab13fba25d\",\n\t\t\t\t\t\t\t\"name\": \"Updated with the actual data\",\n\t\t\t\t\t\t\t\"creatorId\": \"u1\",\n\t\t\t\t\t\t\t\"authorsIds\": [ \"u1\" ],\n\t\t\t\t\t\t\t\"diffData\": {\n\t\t\t\t\t\t\t\t\"main\": {\n\t\t\t\t\t\t\t\t\t\"insertions\": '[{\"name\":\"h1\",\"attributes\":[],\"children\":[\"PUBLISHING AGREEMENT\"]},{\"name\":\"h3\",\"attributes\":[],\"children\":[\"Introduction\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"This publishing contract, the ‚Äúcontract‚Äù, is entered into as of \",{\"name\":\"revision-start\",\"attributes\":[[\"name\",\"insertion:u1:0\"]],\"children\":[]},\"1st\",{\"name\":\"revision-end\",\"attributes\":[[\"name\",\"insertion:u1:0\"]],\"children\":[]},\" \",{\"name\":\"revision-start\",\"attributes\":[[\"name\",\"insertion:u1:1\"]],\"children\":[]},\"June 2020 \",{\"name\":\"revision-end\",\"attributes\":[[\"name\",\"insertion:u1:1\"]],\"children\":[]},\"by and between The Lower Shelf, the ‚ÄúPublisher‚Äù, and \",{\"name\":\"revision-start\",\"attributes\":[[\"name\",\"insertion:u1:2\"]],\"children\":[]},\"John Smith\",{\"name\":\"revision-end\",\"attributes\":[[\"name\",\"insertion:u1:2\"]],\"children\":[]},\", the ‚ÄúAuthor‚Äù.\"]},{\"name\":\"h3\",\"attributes\":[],\"children\":[\"Grant of Rights\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"The Author grants the Publisher full right and title to the following, in perpetuity:\"]},{\"name\":\"ul\",\"attributes\":[],\"children\":[{\"name\":\"li\",\"attributes\":[],\"children\":[\"To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.\"]},{\"name\":\"li\",\"attributes\":[],\"children\":[\"To create or devise modified, abridged, or derivative works based on the works listed.\"]},{\"name\":\"li\",\"attributes\":[],\"children\":[\"To allow others to use the listed works at their discretion, without providing additional compensation to the Author.\"]}]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"Any rights not granted to the Publisher above remain with the Author.\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.\"]}]',\n\t\t\t\t\t\t\t\t\t\"deletions\": '[{\"name\":\"h1\",\"attributes\":[],\"children\":[\"PUBLISHING AGREEMENT\"]},{\"name\":\"h3\",\"attributes\":[],\"children\":[\"Introduction\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"This publishing contract, the ‚Äúcontract‚Äù, is entered into as of \",{\"name\":\"revision-start\",\"attributes\":[[\"name\",\"deletion:u1:0\"]],\"children\":[]},\"‚Ä¶‚Ä¶‚Ä¶‚Ä¶\",{\"name\":\"revision-end\",\"attributes\":[[\"name\",\"deletion:u1:0\"]],\"children\":[]},\" by and between The Lower Shelf, the ‚ÄúPublisher‚Äù, and \",{\"name\":\"revision-start\",\"attributes\":[[\"name\",\"deletion:u1:1\"]],\"children\":[]},\"‚Ä¶‚Ä¶‚Ä¶‚Ä¶\",{\"name\":\"revision-end\",\"attributes\":[[\"name\",\"deletion:u1:1\"]],\"children\":[]},\", the ‚ÄúAuthor‚Äù.\"]},{\"name\":\"h3\",\"attributes\":[],\"children\":[\"Grant of Rights\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"The Author grants the Publisher full right and title to the following, in perpetuity:\"]},{\"name\":\"ul\",\"attributes\":[],\"children\":[{\"name\":\"li\",\"attributes\":[],\"children\":[\"To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.\"]},{\"name\":\"li\",\"attributes\":[],\"children\":[\"To create or devise modified, abridged, or derivative works based on the works listed.\"]},{\"name\":\"li\",\"attributes\":[],\"children\":[\"To allow others to use the listed works at their discretion, without providing additional compensation to the Author.\"]}]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"These rights are granted by the Author on behalf of him\",{\"name\":\"revision-start\",\"attributes\":[[\"name\",\"deletion:u1:2\"]],\"children\":[]},\"/herself\",{\"name\":\"revision-end\",\"attributes\":[[\"name\",\"deletion:u1:2\"]],\"children\":[]},\" and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"Any rights not granted to the Publisher above remain with the Author.\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.\",{\"name\":\"revision-start\",\"attributes\":[[\"name\",\"deletion:u1:3\"]],\"children\":[]}]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"Publishing formats are enumerated in Appendix A.\",{\"name\":\"revision-end\",\"attributes\":[[\"name\",\"deletion:u1:3\"]],\"children\":[]}]}]'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"createdAt\": \"2021-05-27T13:23:52.553Z\",\n\t\t\t\t\t\t\t\"attributes\": {},\n\t\t\t\t\t\t\t\"fromVersion\": 1,\n\t\t\t\t\t\t\t\"toVersion\": 20\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'e6590c50ccbc86acacb7d27231ad32064':\n\t\t\t\t\t\trevisionData = {\n\t\t\t\t\t\t\t\"id\": \"e6590c50ccbc86acacb7d27231ad32064\",\n\t\t\t\t\t\t\t\"name\": \"Inserted logo\",\n\t\t\t\t\t\t\t\"creatorId\": \"u1\",\n\t\t\t\t\t\t\t\"authorsIds\": [ \"u1\" ],\n\t\t\t\t\t\t\t\"diffData\": {\n\t\t\t\t\t\t\t\t\"main\": {\n\t\t\t\t\t\t\t\t\t\"insertions\": '[{\"name\":\"figure\",\"attributes\":[[\"data-revision-start-before\",\"insertion:u1:0\"],[\"class\",\"image\"]],\"children\":[{\"name\":\"img\",\"attributes\":[[\"src\",\"../../../assets/img/revision-history-demo.png\"]],\"children\":[]}]},{\"name\":\"h1\",\"attributes\":[],\"children\":[{\"name\":\"revision-end\",\"attributes\":[[\"name\",\"insertion:u1:0\"]],\"children\":[]},\"PUBLISHING AGREEMENT\"]},{\"name\":\"h3\",\"attributes\":[],\"children\":[\"Introduction\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"This publishing contract, the ‚Äúcontract‚Äù, is entered into as of 1st June 2020 by and between The Lower Shelf, the ‚ÄúPublisher‚Äù, and John Smith, the ‚ÄúAuthor‚Äù.\"]},{\"name\":\"h3\",\"attributes\":[],\"children\":[\"Grant of Rights\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"The Author grants the Publisher full right and title to the following, in perpetuity:\"]},{\"name\":\"ul\",\"attributes\":[],\"children\":[{\"name\":\"li\",\"attributes\":[],\"children\":[\"To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.\"]},{\"name\":\"li\",\"attributes\":[],\"children\":[\"To create or devise modified, abridged, or derivative works based on the works listed.\"]},{\"name\":\"li\",\"attributes\":[],\"children\":[\"To allow others to use the listed works at their discretion, without providing additional compensation to the Author.\"]}]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"Any rights not granted to the Publisher above remain with the Author.\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.\"]}]',\n\t\t\t\t\t\t\t\t\t\"deletions\": '[{\"name\":\"h1\",\"attributes\":[[\"data-revision-start-before\",\"deletion:u1:0\"]],\"children\":[{\"name\":\"revision-end\",\"attributes\":[[\"name\",\"deletion:u1:0\"]],\"children\":[]},\"PUBLISHING AGREEMENT\"]},{\"name\":\"h3\",\"attributes\":[],\"children\":[\"Introduction\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"This publishing contract, the ‚Äúcontract‚Äù, is entered into as of 1st June 2020 by and between The Lower Shelf, the ‚ÄúPublisher‚Äù, and John Smith, the ‚ÄúAuthor‚Äù.\"]},{\"name\":\"h3\",\"attributes\":[],\"children\":[\"Grant of Rights\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"The Author grants the Publisher full right and title to the following, in perpetuity:\"]},{\"name\":\"ul\",\"attributes\":[],\"children\":[{\"name\":\"li\",\"attributes\":[],\"children\":[\"To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.\"]},{\"name\":\"li\",\"attributes\":[],\"children\":[\"To create or devise modified, abridged, or derivative works based on the works listed.\"]},{\"name\":\"li\",\"attributes\":[],\"children\":[\"To allow others to use the listed works at their discretion, without providing additional compensation to the Author.\"]}]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"Any rights not granted to the Publisher above remain with the Author.\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.\"]}]'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"createdAt\": \"2021-05-27T13:26:39.252Z\",\n\t\t\t\t\t\t\t\"attributes\": {},\n\t\t\t\t\t\t\t\"fromVersion\": 20,\n\t\t\t\t\t\t\t\"toVersion\": 24\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'egh91t5jccbi894cacxx7dz7t36aj3k021':\n\t\t\t\t\t\trevisionData = {\n\t\t\t\t\t\t\t\"id\": \"egh91t5jccbi894cacxx7dz7t36aj3k021\",\n\t\t\t\t\t\t\t\"name\": null,\n\t\t\t\t\t\t\t\"creatorId\": null,\n\t\t\t\t\t\t\t\"authorsIds\": [],\n\t\t\t\t\t\t\t\"diffData\": {\n\t\t\t\t\t\t\t\t\"main\": {\n\t\t\t\t\t\t\t\t\t\"insertions\": '[{\"name\":\"figure\",\"attributes\":[[\"class\",\"image\"]],\"children\":[{\"name\":\"img\",\"attributes\":[[\"src\",\"../../../assets/img/revision-history-demo.png\"]],\"children\":[]}]},{\"name\":\"h1\",\"attributes\":[],\"children\":[\"PUBLISHING AGREEMENT\"]},{\"name\":\"h3\",\"attributes\":[],\"children\":[\"Introduction\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"This publishing contract, the ‚Äúcontract‚Äù, is entered into as of 1st June 2020 by and between The Lower Shelf, the ‚ÄúPublisher‚Äù, and John Smith, the ‚ÄúAuthor‚Äù.\"]},{\"name\":\"h3\",\"attributes\":[],\"children\":[\"Grant of Rights\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"The Author grants the Publisher full right and title to the following, in perpetuity:\"]},{\"name\":\"ul\",\"attributes\":[],\"children\":[{\"name\":\"li\",\"attributes\":[],\"children\":[\"To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.\"]},{\"name\":\"li\",\"attributes\":[],\"children\":[\"To create or devise modified, abridged, or derivative works based on the works listed.\"]},{\"name\":\"li\",\"attributes\":[],\"children\":[\"To allow others to use the listed works at their discretion, without providing additional compensation to the Author.\"]}]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"Any rights not granted to the Publisher above remain with the Author.\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.\"]}]',\n\t\t\t\t\t\t\t\t\t\"deletions\": '[{\"name\":\"h1\",\"attributes\":[],\"children\":[\"PUBLISHING AGREEMENT\"]},{\"name\":\"h3\",\"attributes\":[],\"children\":[\"Introduction\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"This publishing contract, the ‚Äúcontract‚Äù, is entered into as of 1st June 2020 by and between The Lower Shelf, the ‚ÄúPublisher‚Äù, and John Smith, the ‚ÄúAuthor‚Äù.\"]},{\"name\":\"h3\",\"attributes\":[],\"children\":[\"Grant of Rights\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"The Author grants the Publisher full right and title to the following, in perpetuity:\"]},{\"name\":\"ul\",\"attributes\":[],\"children\":[{\"name\":\"li\",\"attributes\":[],\"children\":[\"To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.\"]},{\"name\":\"li\",\"attributes\":[],\"children\":[\"To create or devise modified, abridged, or derivative works based on the works listed.\"]},{\"name\":\"li\",\"attributes\":[],\"children\":[\"To allow others to use the listed works at their discretion, without providing additional compensation to the Author.\"]}]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"Any rights not granted to the Publisher above remain with the Author.\"]},{\"name\":\"p\",\"attributes\":[],\"children\":[\"The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.\"]}]'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"createdAt\": \"2021-05-27T13:26:39.252Z\",\n\t\t\t\t\t\t\t\"attributes\": {},\n\t\t\t\t\t\t\t\"fromVersion\": 24,\n\t\t\t\t\t\t\t\"toVersion\": 24\n\t\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tupdateConsole( 'getRevision()', revisionData );\n\n\t\t\t\treturn Promise.resolve( revisionData );\n\t\t\t},\n\t\t\tupdateRevisions: revisionsData => {\n\t\t\t\tupdateConsole( 'updateRevisions()', revisionsData );\n\n\t\t\t\t// This should be an asynchronous request to your database.\n\t\t\t\treturn Promise.resolve();\n\t\t\t}\n\t\t};\n\n\t\t// Add the revisions data for existing revisions.\n\t\t// You can either dump the revisions data straight in the source code or\n\t\t// you can fetch the data asynchronously from your database (as this example shows).\n\t\t//\n\t\t// Note that the revisions data does not contain the `diffData` property.\n\t\t// The `diffData` property may be big and will be fetched on demand by `adapter.getRevision()`.\n\t\t//\n\t\tconst revisionsData = await this._fetchRevisionsData();\n\n\t\tfor ( const revisionData of revisionsData ) {\n\t\t\trevisionHistory.addRevisionData( revisionData );\n\t\t}\n\t}\n\n\tasync _fetchRevisionsData() {\n\t\t// Make an asynchronous call to your database.\n\t\treturn Promise.resolve(\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"initial\",\n\t\t\t\t\t\"name\": \"Initial revision\",\n\t\t\t\t\t\"creatorId\": \"u1\",\n\t\t\t\t\t\"authorsIds\": [ \"u1\" ],\n\t\t\t\t\t\"createdAt\": \"2021-05-27T13:22:59.077Z\",\n\t\t\t\t\t\"attributes\": {},\n\t\t\t\t\t\"fromVersion\": 1,\n\t\t\t\t\t\"toVersion\": 1\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"e6f80e6be6ee6057fd5a449ab13fba25d\",\n\t\t\t\t\t\"name\": \"Updated with the actual data\",\n\t\t\t\t\t\"creatorId\": \"u1\",\n\t\t\t\t\t\"authorsIds\": [ \"u1\" ],\n\t\t\t\t\t\"createdAt\": \"2021-05-27T13:23:52.553Z\",\n\t\t\t\t\t\"attributes\": {},\n\t\t\t\t\t\"fromVersion\": 1,\n\t\t\t\t\t\"toVersion\": 20\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"e6590c50ccbc86acacb7d27231ad32064\",\n\t\t\t\t\t\"name\": \"Inserted logo\",\n\t\t\t\t\t\"creatorId\": \"u1\",\n\t\t\t\t\t\"authorsIds\": [ \"u1\" ],\n\t\t\t\t\t\"createdAt\": \"2021-05-27T13:26:39.252Z\",\n\t\t\t\t\t\"attributes\": {},\n\t\t\t\t\t\"fromVersion\": 20,\n\t\t\t\t\t\"toVersion\": 24\n\t\t\t\t},\n\t\t\t\t// An empty current revision.\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"egh91t5jccbi894cacxx7dz7t36aj3k021\",\n\t\t\t\t\t\"name\": null,\n\t\t\t\t\t\"creatorId\": null,\n\t\t\t\t\t\"authorsIds\": [],\n\t\t\t\t\t\"createdAt\": \"2021-05-27T13:26:39.252Z\",\n\t\t\t\t\t\"attributes\": {},\n\t\t\t\t\t\"fromVersion\": 24,\n\t\t\t\t\t\"toVersion\": 24\n\t\t\t\t}\n\t\t\t]\n\t\t);\n\t}\n}\n\nclass UsersInit {\n\tconstructor( editor ) {\n\t\tthis.editor = editor;\n\t}\n\n\tstatic get pluginName() {\n\t\treturn 'UsersInit';\n\t}\n\n\tstatic get requires() {\n\t\treturn [ 'Users' ];\n\t}\n\n\tinit() {\n\t\tconst users = this.editor.plugins.get( 'Users' );\n\n\t\tusers.addUser( appData.user );\n\t\tusers.defineMe( appData.userId );\n\t}\n}\n\nconst barEl = document.getElementById( 'revision-adapter-console' );\nlet lastUpdate = 0;\n\nfunction updateConsole( methodName, data ) {\n\tconst actionNameEl = document.createElement( 'div' );\n\tconst dataEl = document.createElement( 'div' );\n\tconst timeNow = new Date().getTime();\n\n\tbarEl.classList.add( 'updated' );\n\n\tactionNameEl.className = 'revision-adapter-console__action';\n\tactionNameEl.textContent = methodName;\n\n\tdataEl.className = 'revision-adapter-console__data';\n\tdataEl.textContent = JSON.stringify( data );\n\n\tif ( lastUpdate < timeNow - 500 ) {\n\t\tbarEl.innerHTML = '';\n\t}\n\n\tbarEl.appendChild( actionNameEl );\n\tbarEl.appendChild( dataEl );\n\n\tsetTimeout( () => {\n\t\tbarEl.classList.remove( 'updated' );\n\t}, 500 );\n\n\tlastUpdate = timeNow;\n\n\treturn Promise.resolve( data );\n}\n\nClassicEditor.create( document.querySelector( '.revision-adapter #editor' ), {\n\textraPlugins: [ UsersInit, RevisionHistoryAdapter ],\n\ttoolbar: {\n\t\titems: [\n\t\t\t'undo', 'redo',\n\t\t\t'|', 'revisionHistory', '|', 'trackChanges', 'comment', 'commentsArchive',\n\t\t\t'|', 'heading',\n\t\t\t{\n\t\t\t\tlabel: 'Font styles',\n\t\t\t\ticon: 'text',\n\t\t\t\titems: [ 'fontsize', 'fontfamily', 'fontColor', 'fontBackgroundColor' ]\n\t\t\t},\n\t\t\t'-', 'bold', 'italic', 'underline',\n\t\t\t'|', 'link', 'insertImage', 'insertTable', 'blockQuote', 'codeBlock',\n\t\t\t'|', 'alignment',\n\t\t\t'|', 'bulletedList', 'numberedList'\n\t\t],\n\t\tshouldNotGroupWhenFull: true\n\t},\n\timage: {\n\t\ttoolbar: [\n\t\t\t'imageStyle:inline',\n\t\t\t'imageStyle:block',\n\t\t\t'imageStyle:wrapText',\n\t\t\t'|',\n\t\t\t'imageTextAlternative',\n\t\t\t'ckboxImageEdit'\n\t\t]\n\t},\n\tckbox: {\n\t\tallowExternalImagesEditing: [ /^data:/, 'origin', /ckbox/ ],\n\t\tforceDemoLabel: true\n\t},\n\ttyping: {\n\t\ttransformations: {\n\t\t\textra: [\n\t\t\t\t{ from: ':)', to: 'üôÇ' },\n\t\t\t\t{ from: ':+1:', to: 'üëç' },\n\t\t\t\t{ from: ':tada:', to: 'üéâ' }\n\t\t\t]\n\t\t}\n\t},\n\ttable: {\n\t\tcontentToolbar: [ 'tableColumn', 'tableRow', 'mergeTableCells', 'tableProperties', 'tableCellProperties' ],\n\t\ttableToolbar: [ 'bold', 'italic' ]\n\t},\n\theading: {\n\t\toptions: [\n\t\t\t{ model: 'paragraph', title: 'Paragraph', class: 'ck-heading_paragraph' },\n\t\t\t{ model: 'heading1', view: 'h1', title: 'Heading 1', class: 'ck-heading_heading1' },\n\t\t\t{ model: 'heading2', view: 'h2', title: 'Heading 2', class: 'ck-heading_heading2' },\n\t\t\t{ model: 'heading3', view: 'h3', title: 'Heading 3', class: 'ck-heading_heading3' },\n\t\t]\n\t},\n\tcloudServices: CS_CONFIG,\n\tlicenseKey: LICENSE_KEY,\n\tui: {\n\t\tviewportOffset: {\n\t\t\ttop: window.getViewportTopOffsetConfig()\n\t\t}\n\t},\n\tsidebar: {\n\t\tcontainer: document.querySelector( '.revision-adapter #sidebar-container' )\n\t},\n\trevisionHistory: {\n\t\teditorContainer: document.querySelector( '.revision-adapter #editor-container' ),\n\t\tviewerContainer: document.querySelector( '.revision-adapter #revision-viewer-container' ),\n\t\tviewerEditorElement: document.querySelector( '.revision-adapter #revision-viewer-editor' ),\n\t\tviewerSidebarContainer: document.querySelector( '.revision-adapter #revision-viewer-sidebar' )\n\t},\n\tcomments: {\n\t\teditorConfig: {}\n\t},\n\tmention: {\n\t\tfeeds: [\n\t\t\t{\n\t\t\t\tmarker: '@',\n\t\t\t\tfeed: [ '@Barney', '@Lily', '@Marry Ann', '@Marshall', '@Robin', '@Ted' ]\n\t\t\t}\n\t\t]\n\t},\n\tinitialData: appData.data\n} )\n.then( editor => {\n\twindow.adapterEditor = editor;\n} );\n"],"names":["appData","data","user","id","name","userId","barEl","document","getElementById","lastUpdate","updateConsole","methodName","actionNameEl","createElement","dataEl","timeNow","Date","getTime","classList","add","className","textContent","JSON","stringify","innerHTML","appendChild","setTimeout","remove","Promise","resolve","ClassicEditor","create","querySelector","extraPlugins","constructor","editor","this","pluginName","requires","init","users","plugins","get","addUser","defineMe","revisionHistory","adapter","getRevision","revisionId","revisionData","updateRevisions","revisionsData","_fetchRevisionsData","addRevisionData","toolbar","items","label","icon","shouldNotGroupWhenFull","image","ckbox","allowExternalImagesEditing","forceDemoLabel","typing","transformations","extra","from","to","table","contentToolbar","tableToolbar","heading","options","model","title","class","view","cloudServices","licenseKey","ui","viewportOffset","top","window","getViewportTopOffsetConfig","sidebar","container","editorContainer","viewerContainer","viewerEditorElement","viewerSidebarContainer","comments","editorConfig","mention","feeds","marker","feed","initialData","then","adapterEditor"],"sourceRoot":""}