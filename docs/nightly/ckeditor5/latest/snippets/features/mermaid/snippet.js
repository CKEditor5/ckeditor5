/*!
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var t,e,n={5659:(t,e,n)=>{const i=n(8156),r={};for(const t of Object.keys(i))r[i[t]]=t;const o={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};t.exports=o;for(const t of Object.keys(o)){if(!("channels"in o[t]))throw new Error("missing channels property: "+t);if(!("labels"in o[t]))throw new Error("missing channel labels property: "+t);if(o[t].labels.length!==o[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:n}=o[t];delete o[t].channels,delete o[t].labels,Object.defineProperty(o[t],"channels",{value:e}),Object.defineProperty(o[t],"labels",{value:n})}o.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,i=t[2]/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=o-r;let a,c;o===r?a=0:e===o?a=(n-i)/s:n===o?a=2+(i-e)/s:i===o&&(a=4+(e-n)/s),a=Math.min(60*a,360),a<0&&(a+=360);const l=(r+o)/2;return c=o===r?0:l<=.5?s/(o+r):s/(2-o-r),[a,100*c,100*l]},o.rgb.hsv=function(t){let e,n,i,r,o;const s=t[0]/255,a=t[1]/255,c=t[2]/255,l=Math.max(s,a,c),u=l-Math.min(s,a,c),h=function(t){return(l-t)/6/u+.5};return 0===u?(r=0,o=0):(o=u/l,e=h(s),n=h(a),i=h(c),s===l?r=i-n:a===l?r=1/3+e-i:c===l&&(r=2/3+n-e),r<0?r+=1:r>1&&(r-=1)),[360*r,100*o,100*l]},o.rgb.hwb=function(t){const e=t[0],n=t[1];let i=t[2];const r=o.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(n,i));return i=1-1/255*Math.max(e,Math.max(n,i)),[r,100*s,100*i]},o.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,i=t[2]/255,r=Math.min(1-e,1-n,1-i);return[100*((1-e-r)/(1-r)||0),100*((1-n-r)/(1-r)||0),100*((1-i-r)/(1-r)||0),100*r]},o.rgb.keyword=function(t){const e=r[t];if(e)return e;let n,o=1/0;for(const e of Object.keys(i)){const r=i[e],c=(a=r,((s=t)[0]-a[0])**2+(s[1]-a[1])**2+(s[2]-a[2])**2);c<o&&(o=c,n=e)}var s,a;return n},o.keyword.rgb=function(t){return i[t]},o.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,i=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;return[100*(.4124*e+.3576*n+.1805*i),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]},o.rgb.lab=function(t){const e=o.rgb.xyz(t);let n=e[0],i=e[1],r=e[2];n/=95.047,i/=100,r/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;return[116*i-16,500*(n-i),200*(i-r)]},o.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,i=t[2]/100;let r,o,s;if(0===n)return s=255*i,[s,s,s];r=i<.5?i*(1+n):i+n-i*n;const a=2*i-r,c=[0,0,0];for(let t=0;t<3;t++)o=e+1/3*-(t-1),o<0&&o++,o>1&&o--,s=6*o<1?a+6*(r-a)*o:2*o<1?r:3*o<2?a+(r-a)*(2/3-o)*6:a,c[t]=255*s;return c},o.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,i=t[2]/100,r=n;const o=Math.max(i,.01);i*=2,n*=i<=1?i:2-i,r*=o<=1?o:2-o;return[e,100*(0===i?2*r/(o+r):2*n/(i+n)),100*((i+n)/2)]},o.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let i=t[2]/100;const r=Math.floor(e)%6,o=e-Math.floor(e),s=255*i*(1-n),a=255*i*(1-n*o),c=255*i*(1-n*(1-o));switch(i*=255,r){case 0:return[i,c,s];case 1:return[a,i,s];case 2:return[s,i,c];case 3:return[s,a,i];case 4:return[c,s,i];case 5:return[i,s,a]}},o.hsv.hsl=function(t){const e=t[0],n=t[1]/100,i=t[2]/100,r=Math.max(i,.01);let o,s;s=(2-n)*i;const a=(2-n)*r;return o=n*r,o/=a<=1?a:2-a,o=o||0,s/=2,[e,100*o,100*s]},o.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,i=t[2]/100;const r=n+i;let o;r>1&&(n/=r,i/=r);const s=Math.floor(6*e),a=1-i;o=6*e-s,1&s&&(o=1-o);const c=n+o*(a-n);let l,u,h;switch(s){default:case 6:case 0:l=a,u=c,h=n;break;case 1:l=c,u=a,h=n;break;case 2:l=n,u=a,h=c;break;case 3:l=n,u=c,h=a;break;case 4:l=c,u=n,h=a;break;case 5:l=a,u=n,h=c}return[255*l,255*u,255*h]},o.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,i=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r))]},o.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,i=t[2]/100;let r,o,s;return r=3.2406*e+-1.5372*n+-.4986*i,o=-.9689*e+1.8758*n+.0415*i,s=.0557*e+-.204*n+1.057*i,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,r=Math.min(Math.max(0,r),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[255*r,255*o,255*s]},o.xyz.lab=function(t){let e=t[0],n=t[1],i=t[2];e/=95.047,n/=100,i/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;return[116*n-16,500*(e-n),200*(n-i)]},o.lab.xyz=function(t){let e,n,i;n=(t[0]+16)/116,e=t[1]/500+n,i=n-t[2]/200;const r=n**3,o=e**3,s=i**3;return n=r>.008856?r:(n-16/116)/7.787,e=o>.008856?o:(e-16/116)/7.787,i=s>.008856?s:(i-16/116)/7.787,e*=95.047,n*=100,i*=108.883,[e,n,i]},o.lab.lch=function(t){const e=t[0],n=t[1],i=t[2];let r;r=360*Math.atan2(i,n)/2/Math.PI,r<0&&(r+=360);return[e,Math.sqrt(n*n+i*i),r]},o.lch.lab=function(t){const e=t[0],n=t[1],i=t[2]/360*2*Math.PI;return[e,n*Math.cos(i),n*Math.sin(i)]},o.rgb.ansi16=function(t,e=null){const[n,i,r]=t;let s=null===e?o.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),0===s)return 30;let a=30+(Math.round(r/255)<<2|Math.round(i/255)<<1|Math.round(n/255));return 2===s&&(a+=60),a},o.hsv.ansi16=function(t){return o.rgb.ansi16(o.hsv.rgb(t),t[2])},o.rgb.ansi256=function(t){const e=t[0],n=t[1],i=t[2];if(e===n&&n===i)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},o.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},o.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},o.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},o.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];3===e[0].length&&(n=n.split("").map((t=>t+t)).join(""));const i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},o.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,i=t[2]/255,r=Math.max(Math.max(e,n),i),o=Math.min(Math.min(e,n),i),s=r-o;let a,c;return a=s<1?o/(1-s):0,c=s<=0?0:r===e?(n-i)/s%6:r===n?2+(i-e)/s:4+(e-n)/s,c/=6,c%=1,[360*c,100*s,100*a]},o.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,i=n<.5?2*e*n:2*e*(1-n);let r=0;return i<1&&(r=(n-.5*i)/(1-i)),[t[0],100*i,100*r]},o.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,i=e*n;let r=0;return i<1&&(r=(n-i)/(1-i)),[t[0],100*i,100*r]},o.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,i=t[2]/100;if(0===n)return[255*i,255*i,255*i];const r=[0,0,0],o=e%1*6,s=o%1,a=1-s;let c=0;switch(Math.floor(o)){case 0:r[0]=1,r[1]=s,r[2]=0;break;case 1:r[0]=a,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=s;break;case 3:r[0]=0,r[1]=a,r[2]=1;break;case 4:r[0]=s,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=a}return c=(1-n)*i,[255*(n*r[0]+c),255*(n*r[1]+c),255*(n*r[2]+c)]},o.hcg.hsv=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);let i=0;return n>0&&(i=e/n),[t[0],100*i,100*n]},o.hcg.hsl=function(t){const e=t[1]/100,n=t[2]/100*(1-e)+.5*e;let i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],100*i,100*n]},o.hcg.hwb=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},o.hwb.hcg=function(t){const e=t[1]/100,n=1-t[2]/100,i=n-e;let r=0;return i<1&&(r=(n-i)/(1-i)),[t[0],100*i,100*r]},o.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},o.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},o.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},o.gray.hsl=function(t){return[0,0,t[0]]},o.gray.hsv=o.gray.hsl,o.gray.hwb=function(t){return[0,100,t[0]]},o.gray.cmyk=function(t){return[0,0,0,t[0]]},o.gray.lab=function(t){return[t[0],0,0]},o.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},o.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},734:(t,e,n)=>{const i=n(5659),r=n(8507),o={};Object.keys(i).forEach((t=>{o[t]={},Object.defineProperty(o[t],"channels",{value:i[t].channels}),Object.defineProperty(o[t],"labels",{value:i[t].labels});const e=r(t);Object.keys(e).forEach((n=>{const i=e[n];o[t][n]=function(t){const e=function(...e){const n=e[0];if(null==n)return n;n.length>1&&(e=n);const i=t(e);if("object"==typeof i)for(let t=i.length,e=0;e<t;e++)i[e]=Math.round(i[e]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}(i),o[t][n].raw=function(t){const e=function(...e){const n=e[0];return null==n?n:(n.length>1&&(e=n),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(i)}))})),t.exports=o},8507:(t,e,n)=>{const i=n(5659);function r(t){const e=function(){const t={},e=Object.keys(i);for(let n=e.length,i=0;i<n;i++)t[e[i]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;){const t=n.pop(),r=Object.keys(i[t]);for(let i=r.length,o=0;o<i;o++){const i=r[o],s=e[i];-1===s.distance&&(s.distance=e[t].distance+1,s.parent=t,n.unshift(i))}}return e}function o(t,e){return function(n){return e(t(n))}}function s(t,e){const n=[e[t].parent,t];let r=i[e[t].parent][t],s=e[t].parent;for(;e[s].parent;)n.unshift(e[s].parent),r=o(i[e[s].parent][s],r),s=e[s].parent;return r.conversion=n,r}t.exports=function(t){const e=r(t),n={},i=Object.keys(e);for(let t=i.length,r=0;r<t;r++){const t=i[r];null!==e[t].parent&&(n[t]=s(t,e))}return n}},8156:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},3078:function(t,e,n){(t=n.nmd(t)).exports=function(){"use strict";function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.from("string"==typeof t?[t]:t);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var r=i.reduce((function(t,e){var n=e.match(/\n([\t ]+|(?!\s).)/g);return n?t.concat(n.map((function(t){var e,n;return null!==(n=null===(e=t.match(/[\t ]/g))||void 0===e?void 0:e.length)&&void 0!==n?n:0}))):t}),[]);if(r.length){var o=new RegExp("\n[\t ]{"+Math.min.apply(Math,r)+"}","g");i=i.map((function(t){return t.replace(o,"\n")}))}i[0]=i[0].replace(/^\r?\n/,"");var s=i[0];return e.forEach((function(t,e){var n=s.match(/(?:^|\n)( *)$/),r=n?n[1]:"",o=t;"string"==typeof t&&t.includes("\n")&&(o=String(t).split("\n").map((function(t,e){return 0===e?t:""+r+t})).join("\n")),s+=o+i[e+1]})),s}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s,a={};s=function(){var t=1e3,e=6e4,n=36e5,i="millisecond",r="second",o="minute",s="hour",a="day",c="week",l="month",u="quarter",h="year",d="date",f="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},b=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},w={s:b,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),r=n%60;return(e<=0?"+":"-")+b(i,2,"0")+":"+b(r,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(i,l),o=n-r<0,s=e.clone().add(i+(o?-1:1),l);return+(-(i+(n-r)/(o?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:h,w:c,d:a,D:d,h:s,m:o,s:r,ms:i,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},y="en",v={};v[y]=m;var _=function(t){return t instanceof T},k=function t(e,n,i){var r;if(!e)return y;if("string"==typeof e){var o=e.toLowerCase();v[o]&&(r=o),n&&(v[o]=n,r=o);var s=e.split("-");if(!r&&s.length>1)return t(s[0])}else{var a=e.name;v[a]=e,r=a}return!i&&r&&(y=r),r||!i&&y},x=function(t,e){if(_(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new T(n)},E=w;E.l=k,E.i=_,E.w=function(t,e){return x(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var T=function(){function m(t){this.$L=k(t.locale,null,!0),this.parse(t)}var b=m.prototype;return b.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(E.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(g);if(i){var r=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},b.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},b.$utils=function(){return E},b.isValid=function(){return!(this.$d.toString()===f)},b.isSame=function(t,e){var n=x(t);return this.startOf(e)<=n&&n<=this.endOf(e)},b.isAfter=function(t,e){return x(t)<this.startOf(e)},b.isBefore=function(t,e){return this.endOf(e)<x(t)},b.$g=function(t,e,n){return E.u(t)?this[e]:this.set(n,t)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(t,e){var n=this,i=!!E.u(e)||e,u=E.p(t),f=function(t,e){var r=E.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return i?r:r.endOf(a)},g=function(t,e){return E.w(n.toDate()[t].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},p=this.$W,m=this.$M,b=this.$D,w="set"+(this.$u?"UTC":"");switch(u){case h:return i?f(1,0):f(31,11);case l:return i?f(1,m):f(0,m+1);case c:var y=this.$locale().weekStart||0,v=(p<y?p+7:p)-y;return f(i?b-v:b+(6-v),m);case a:case d:return g(w+"Hours",0);case s:return g(w+"Minutes",1);case o:return g(w+"Seconds",2);case r:return g(w+"Milliseconds",3);default:return this.clone()}},b.endOf=function(t){return this.startOf(t,!1)},b.$set=function(t,e){var n,c=E.p(t),u="set"+(this.$u?"UTC":""),f=(n={},n[a]=u+"Date",n[d]=u+"Date",n[l]=u+"Month",n[h]=u+"FullYear",n[s]=u+"Hours",n[o]=u+"Minutes",n[r]=u+"Seconds",n[i]=u+"Milliseconds",n)[c],g=c===a?this.$D+(e-this.$W):e;if(c===l||c===h){var p=this.clone().set(d,1);p.$d[f](g),p.init(),this.$d=p.set(d,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](g);return this.init(),this},b.set=function(t,e){return this.clone().$set(t,e)},b.get=function(t){return this[E.p(t)]()},b.add=function(i,u){var d,f=this;i=Number(i);var g=E.p(u),p=function(t){var e=x(f);return E.w(e.date(e.date()+Math.round(t*i)),f)};if(g===l)return this.set(l,this.$M+i);if(g===h)return this.set(h,this.$y+i);if(g===a)return p(1);if(g===c)return p(7);var m=(d={},d[o]=e,d[s]=n,d[r]=t,d)[g]||1,b=this.$d.getTime()+i*m;return E.w(b,this)},b.subtract=function(t,e){return this.add(-1*t,e)},b.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var i=t||"YYYY-MM-DDTHH:mm:ssZ",r=E.z(this),o=this.$H,s=this.$m,a=this.$M,c=n.weekdays,l=n.months,u=function(t,n,r,o){return t&&(t[n]||t(e,i))||r[n].slice(0,o)},h=function(t){return E.s(o%12||12,t,"0")},d=n.meridiem||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i},g={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:E.s(a+1,2,"0"),MMM:u(n.monthsShort,a,l,3),MMMM:u(l,a),D:this.$D,DD:E.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,c,2),ddd:u(n.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:E.s(o,2,"0"),h:h(1),hh:h(2),a:d(o,s,!0),A:d(o,s,!1),m:String(s),mm:E.s(s,2,"0"),s:String(this.$s),ss:E.s(this.$s,2,"0"),SSS:E.s(this.$ms,3,"0"),Z:r};return i.replace(p,(function(t,e){return e||g[t]||r.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(i,d,f){var g,p=E.p(d),m=x(i),b=(m.utcOffset()-this.utcOffset())*e,w=this-m,y=E.m(this,m);return y=(g={},g[h]=y/12,g[l]=y,g[u]=y/3,g[c]=(w-b)/6048e5,g[a]=(w-b)/864e5,g[s]=w/n,g[o]=w/e,g[r]=w/t,g)[p]||w,f?y:E.a(y)},b.daysInMonth=function(){return this.endOf(l).$D},b.$locale=function(){return v[this.$L]},b.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=k(t,e,!0);return i&&(n.$L=i),n},b.clone=function(){return E.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},m}(),C=T.prototype;return x.prototype=C,[["$ms",i],["$s",r],["$m",o],["$H",s],["$W",a],["$M",l],["$y",h],["$D",d]].forEach((function(t){C[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),x.extend=function(t,e){return t.$i||(t(e,T,x),t.$i=!0),x},x.locale=k,x.isDayjs=_,x.unix=function(t){return x(1e3*t)},x.en=v[y],x.Ls=v,x.p={},x},{get exports(){return a},set exports(t){a=t}}.exports=s();const l=a,u={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},h={trace:(...t)=>{},debug:(...t)=>{},info:(...t)=>{},warn:(...t)=>{},error:(...t)=>{},fatal:(...t)=>{}},d=function(t="fatal"){let e=u.fatal;"string"==typeof t?(t=t.toLowerCase())in u&&(e=u[t]):"number"==typeof t&&(e=t),h.trace=()=>{},h.debug=()=>{},h.info=()=>{},h.warn=()=>{},h.error=()=>{},h.fatal=()=>{},e<=u.fatal&&(h.fatal=console.error?console.error.bind(console,f("FATAL"),"color: orange"):console.log.bind(console,"[35m",f("FATAL"))),e<=u.error&&(h.error=console.error?console.error.bind(console,f("ERROR"),"color: orange"):console.log.bind(console,"[31m",f("ERROR"))),e<=u.warn&&(h.warn=console.warn?console.warn.bind(console,f("WARN"),"color: orange"):console.log.bind(console,"[33m",f("WARN"))),e<=u.info&&(h.info=console.info?console.info.bind(console,f("INFO"),"color: lightblue"):console.log.bind(console,"[34m",f("INFO"))),e<=u.debug&&(h.debug=console.debug?console.debug.bind(console,f("DEBUG"),"color: lightgreen"):console.log.bind(console,"[32m",f("DEBUG"))),e<=u.trace&&(h.trace=console.debug?console.debug.bind(console,f("TRACE"),"color: lightgreen"):console.log.bind(console,"[32m",f("TRACE")))},f=t=>`%c${l().format("ss.SSS")} : ${t} : `;var g={};Object.defineProperty(g,"__esModule",{value:!0});var p=g.sanitizeUrl=void 0,m=/^([^\w]*)(javascript|data|vbscript)/im,b=/&#(\w+)(^\w|;)?/g,w=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,y=/^([^:]+):/gm,v=[".","/"];function _(t){return v.indexOf(t[0])>-1}function k(t){return t.replace(b,(function(t,e){return String.fromCharCode(e)}))}function x(t){var e=k(t||"").replace(w,"").trim();if(!e)return"about:blank";if(_(e))return e;var n=e.match(y);if(!n)return e;var i=n[0];return m.test(i)?"about:blank":e}function E(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function T(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function C(t){let e,n,i;function r(t,i,r=0,o=t.length){if(r<o){if(0!==e(i,i))return o;do{const e=r+o>>>1;n(t[e],i)<0?r=e+1:o=e}while(r<o)}return r}function o(t,i,r=0,o=t.length){if(r<o){if(0!==e(i,i))return o;do{const e=r+o>>>1;n(t[e],i)<=0?r=e+1:o=e}while(r<o)}return r}function s(t,e,n=0,o=t.length){const s=r(t,e,n,o-1);return s>n&&i(t[s-1],e)>-i(t[s],e)?s-1:s}return 2!==t.length?(e=E,n=(e,n)=>E(t(e),n),i=(e,n)=>t(e)-n):(e=t===E||t===T?t:A,n=t,i=t),{left:r,center:s,right:o}}function A(){return 0}function S(t){return null===t?NaN:+t}p=g.sanitizeUrl=x;const I=C(E).right;C(S).center;const M=I;class P extends Map{constructor(t,e=L){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(O(this,t))}has(t){return super.has(O(this,t))}set(t,e){return super.set(D(this,t),e)}delete(t){return super.delete(N(this,t))}}function O({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function D({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function N({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function L(t){return null!==t&&"object"==typeof t?t.valueOf():t}var R=Math.sqrt(50),B=Math.sqrt(10),F=Math.sqrt(2);function j(t,e,n){var i,r,o,s,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(s=$(t,e,n))||!isFinite(s))return[];if(s>0){let n=Math.round(t/s),i=Math.round(e/s);for(n*s<t&&++n,i*s>e&&--i,o=new Array(r=i-n+1);++a<r;)o[a]=(n+a)*s}else{s=-s;let n=Math.round(t*s),i=Math.round(e*s);for(n/s<t&&++n,i/s>e&&--i,o=new Array(r=i-n+1);++a<r;)o[a]=(n+a)/s}return i&&o.reverse(),o}function $(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=R?10:o>=B?5:o>=F?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=R?10:o>=B?5:o>=F?2:1)}function V(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=R?r*=10:o>=B?r*=5:o>=F&&(r*=2),e<t?-r:r}function z(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let i=-1;for(let r of t)null!=(r=e(r,++i,t))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}function H(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let i=-1;for(let r of t)null!=(r=e(r,++i,t))&&(n>r||void 0===n&&r>=r)&&(n=r)}return n}function U(t){return t}var q=1,W=2,G=3,K=4,Y=1e-6;function X(t){return"translate("+t+",0)"}function Z(t){return"translate(0,"+t+")"}function Q(t){return e=>+t(e)}function J(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function tt(){return!this.__axis}function et(t,e){var n=[],i=null,r=null,o=6,s=6,a=3,c="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,l=t===q||t===K?-1:1,u=t===K||t===W?"x":"y",h=t===q||t===G?X:Z;function d(d){var f=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,g=null==r?e.tickFormat?e.tickFormat.apply(e,n):U:r,p=Math.max(o,0)+a,m=e.range(),b=+m[0]+c,w=+m[m.length-1]+c,y=(e.bandwidth?J:Q)(e.copy(),c),v=d.selection?d.selection():d,_=v.selectAll(".domain").data([null]),k=v.selectAll(".tick").data(f,e).order(),x=k.exit(),E=k.enter().append("g").attr("class","tick"),T=k.select("line"),C=k.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(E),T=T.merge(E.append("line").attr("stroke","currentColor").attr(u+"2",l*o)),C=C.merge(E.append("text").attr("fill","currentColor").attr(u,l*p).attr("dy",t===q?"0em":t===G?"0.71em":"0.32em")),d!==v&&(_=_.transition(d),k=k.transition(d),T=T.transition(d),C=C.transition(d),x=x.transition(d).attr("opacity",Y).attr("transform",(function(t){return isFinite(t=y(t))?h(t+c):this.getAttribute("transform")})),E.attr("opacity",Y).attr("transform",(function(t){var e=this.parentNode.__axis;return h((e&&isFinite(e=e(t))?e:y(t))+c)}))),x.remove(),_.attr("d",t===K||t===W?s?"M"+l*s+","+b+"H"+c+"V"+w+"H"+l*s:"M"+c+","+b+"V"+w:s?"M"+b+","+l*s+"V"+c+"H"+w+"V"+l*s:"M"+b+","+c+"H"+w),k.attr("opacity",1).attr("transform",(function(t){return h(y(t)+c)})),T.attr(u+"2",l*o),C.attr(u,l*p).text(g),v.filter(tt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===W?"start":t===K?"end":"middle"),v.each((function(){this.__axis=y}))}return d.scale=function(t){return arguments.length?(e=t,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),d):n.slice()},d.tickValues=function(t){return arguments.length?(i=null==t?null:Array.from(t),d):i&&i.slice()},d.tickFormat=function(t){return arguments.length?(r=t,d):r},d.tickSize=function(t){return arguments.length?(o=s=+t,d):o},d.tickSizeInner=function(t){return arguments.length?(o=+t,d):o},d.tickSizeOuter=function(t){return arguments.length?(s=+t,d):s},d.tickPadding=function(t){return arguments.length?(a=+t,d):a},d.offset=function(t){return arguments.length?(c=+t,d):c},d}function nt(t){return et(q,t)}function it(t){return et(G,t)}var rt={value:()=>{}};function ot(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new st(i)}function st(t){this._=t}function at(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function ct(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function lt(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=rt,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}st.prototype=ot.prototype={constructor:st,on:function(t,e){var n,i=this._,r=at(t+"",i),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=r[o]).type)i[n]=lt(i[n],t.name,e);else if(null==e)for(n in i)i[n]=lt(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=r[o]).type)&&(n=ct(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new st(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var ut="http://www.w3.org/1999/xhtml";const ht={svg:"http://www.w3.org/2000/svg",xhtml:ut,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function dt(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ht.hasOwnProperty(e)?{space:ht[e],local:t}:t}function ft(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ut&&e.documentElement.namespaceURI===ut?e.createElement(t):e.createElementNS(n,t)}}function gt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function pt(t){var e=dt(t);return(e.local?gt:ft)(e)}function mt(){}function bt(t){return null==t?mt:function(){return this.querySelector(t)}}function wt(t){"function"!=typeof t&&(t=bt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=e[r],c=a.length,l=i[r]=new Array(c),u=0;u<c;++u)(o=a[u])&&(s=t.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),l[u]=s);return new an(i,this._parents)}function yt(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function vt(){return[]}function _t(t){return null==t?vt:function(){return this.querySelectorAll(t)}}function kt(t){return function(){return yt(t.apply(this,arguments))}}function xt(t){t="function"==typeof t?kt(t):_t(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s,a=e[o],c=a.length,l=0;l<c;++l)(s=a[l])&&(i.push(t.call(s,s.__data__,l,a)),r.push(s));return new an(i,r)}function Et(t){return function(){return this.matches(t)}}function Tt(t){return function(e){return e.matches(t)}}var Ct=Array.prototype.find;function At(t){return function(){return Ct.call(this.children,t)}}function St(){return this.firstElementChild}function It(t){return this.select(null==t?St:At("function"==typeof t?t:Tt(t)))}var Mt=Array.prototype.filter;function Pt(){return Array.from(this.children)}function Ot(t){return function(){return Mt.call(this.children,t)}}function Dt(t){return this.selectAll(null==t?Pt:Ot("function"==typeof t?t:Tt(t)))}function Nt(t){"function"!=typeof t&&(t=Et(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,c=i[r]=[],l=0;l<a;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&c.push(o);return new an(i,this._parents)}function Lt(t){return new Array(t.length)}function Rt(){return new an(this._enter||this._groups.map(Lt),this._parents)}function Bt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Ft(t){return function(){return t}}function jt(t,e,n,i,r,o){for(var s,a=0,c=e.length,l=o.length;a<l;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new Bt(t,o[a]);for(;a<c;++a)(s=e[a])&&(r[a]=s)}function $t(t,e,n,i,r,o,s){var a,c,l,u=new Map,h=e.length,d=o.length,f=new Array(h);for(a=0;a<h;++a)(c=e[a])&&(f[a]=l=s.call(c,c.__data__,a,e)+"",u.has(l)?r[a]=c:u.set(l,c));for(a=0;a<d;++a)l=s.call(t,o[a],a,o)+"",(c=u.get(l))?(i[a]=c,c.__data__=o[a],u.delete(l)):n[a]=new Bt(t,o[a]);for(a=0;a<h;++a)(c=e[a])&&u.get(f[a])===c&&(r[a]=c)}function Vt(t){return t.__data__}function zt(t,e){if(!arguments.length)return Array.from(this,Vt);var n=e?$t:jt,i=this._parents,r=this._groups;"function"!=typeof t&&(t=Ft(t));for(var o=r.length,s=new Array(o),a=new Array(o),c=new Array(o),l=0;l<o;++l){var u=i[l],h=r[l],d=h.length,f=Ht(t.call(u,u&&u.__data__,l,i)),g=f.length,p=a[l]=new Array(g),m=s[l]=new Array(g);n(u,h,p,m,c[l]=new Array(d),f,e);for(var b,w,y=0,v=0;y<g;++y)if(b=p[y]){for(y>=v&&(v=y+1);!(w=m[v])&&++v<g;);b._next=w||null}}return(s=new an(s,i))._enter=a,s._exit=c,s}function Ht(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Ut(){return new an(this._exit||this._groups.map(Lt),this._parents)}function qt(t,e,n){var i=this.enter(),r=this,o=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==n?o.remove():n(o),i&&r?i.merge(r).order():r}function Wt(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,o=i.length,s=Math.min(r,o),a=new Array(r),c=0;c<s;++c)for(var l,u=n[c],h=i[c],d=u.length,f=a[c]=new Array(d),g=0;g<d;++g)(l=u[g]||h[g])&&(f[g]=l);for(;c<r;++c)a[c]=n[c];return new an(a,this._parents)}function Gt(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this}function Kt(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Yt);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],c=a.length,l=r[o]=new Array(c),u=0;u<c;++u)(s=a[u])&&(l[u]=s);l.sort(e)}return new an(r,this._parents).order()}function Yt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Xt(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Zt(){return Array.from(this)}function Qt(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null}function Jt(){let t=0;for(const e of this)++t;return t}function te(){return!this.node()}function ee(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this}function ne(t){return function(){this.removeAttribute(t)}}function ie(t){return function(){this.removeAttributeNS(t.space,t.local)}}function re(t,e){return function(){this.setAttribute(t,e)}}function oe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function se(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ae(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ce(t,e){var n=dt(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?ie:ne:"function"==typeof e?n.local?ae:se:n.local?oe:re)(n,e))}function le(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ue(t){return function(){this.style.removeProperty(t)}}function he(t,e,n){return function(){this.style.setProperty(t,e,n)}}function de(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function fe(t,e,n){return arguments.length>1?this.each((null==e?ue:"function"==typeof e?de:he)(t,e,null==n?"":n)):ge(this.node(),t)}function ge(t,e){return t.style.getPropertyValue(e)||le(t).getComputedStyle(t,null).getPropertyValue(e)}function pe(t){return function(){delete this[t]}}function me(t,e){return function(){this[t]=e}}function be(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function we(t,e){return arguments.length>1?this.each((null==e?pe:"function"==typeof e?be:me)(t,e)):this.node()[t]}function ye(t){return t.trim().split(/^|\s+/)}function ve(t){return t.classList||new _e(t)}function _e(t){this._node=t,this._names=ye(t.getAttribute("class")||"")}function ke(t,e){for(var n=ve(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function xe(t,e){for(var n=ve(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Ee(t){return function(){ke(this,t)}}function Te(t){return function(){xe(this,t)}}function Ce(t,e){return function(){(e.apply(this,arguments)?ke:xe)(this,t)}}function Ae(t,e){var n=ye(t+"");if(arguments.length<2){for(var i=ve(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?Ce:e?Ee:Te)(n,e))}function Se(){this.textContent=""}function Ie(t){return function(){this.textContent=t}}function Me(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Pe(t){return arguments.length?this.each(null==t?Se:("function"==typeof t?Me:Ie)(t)):this.node().textContent}function Oe(){this.innerHTML=""}function De(t){return function(){this.innerHTML=t}}function Ne(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Le(t){return arguments.length?this.each(null==t?Oe:("function"==typeof t?Ne:De)(t)):this.node().innerHTML}function Re(){this.nextSibling&&this.parentNode.appendChild(this)}function Be(){return this.each(Re)}function Fe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function je(){return this.each(Fe)}function $e(t){var e="function"==typeof t?t:pt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}function Ve(){return null}function ze(t,e){var n="function"==typeof t?t:pt(t),i=null==e?Ve:"function"==typeof e?e:bt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))}function He(){var t=this.parentNode;t&&t.removeChild(this)}function Ue(){return this.each(He)}function qe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function We(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ge(t){return this.select(t?We:qe)}function Ke(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ye(t){return function(e){t.call(this,e,this.__data__)}}function Xe(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Ze(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function Qe(t,e,n){return function(){var i,r=this.__on,o=Ye(e);if(r)for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=e);this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Je(t,e,n){var i,r,o=Xe(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?Qe:Ze,i=0;i<s;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var c,l=0,u=a.length;l<u;++l)for(i=0,c=a[l];i<s;++i)if((r=o[i]).type===c.type&&r.name===c.name)return c.value}function tn(t,e,n){var i=le(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function en(t,e){return function(){return tn(this,t,e)}}function nn(t,e){return function(){return tn(this,t,e.apply(this,arguments))}}function rn(t,e){return this.each(("function"==typeof e?nn:en)(t,e))}function*on(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],o=0,s=r.length;o<s;++o)(i=r[o])&&(yield i)}Bt.prototype={constructor:Bt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},_e.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var sn=[null];function an(t,e){this._groups=t,this._parents=e}function cn(){return new an([[document.documentElement]],sn)}function ln(){return this}function un(t){return"string"==typeof t?new an([[document.querySelector(t)]],[document.documentElement]):new an([[t]],sn)}function hn(t){return"string"==typeof t?new an([document.querySelectorAll(t)],[document.documentElement]):new an([yt(t)],sn)}function dn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fn(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function gn(){}an.prototype=cn.prototype={constructor:an,select:wt,selectAll:xt,selectChild:It,selectChildren:Dt,filter:Nt,data:zt,enter:Rt,exit:Ut,join:qt,merge:Wt,selection:ln,order:Gt,sort:Kt,call:Xt,nodes:Zt,node:Qt,size:Jt,empty:te,each:ee,attr:ce,style:fe,property:we,classed:Ae,text:Pe,html:Le,raise:Be,lower:je,append:$e,insert:ze,remove:Ue,clone:Ge,datum:Ke,on:Je,dispatch:rn,[Symbol.iterator]:on};var pn=.7,mn=1/pn,bn="\\s*([+-]?\\d+)\\s*",wn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vn=/^#([0-9a-f]{3,8})$/,_n=new RegExp(`^rgb\\(${bn},${bn},${bn}\\)$`),kn=new RegExp(`^rgb\\(${yn},${yn},${yn}\\)$`),xn=new RegExp(`^rgba\\(${bn},${bn},${bn},${wn}\\)$`),En=new RegExp(`^rgba\\(${yn},${yn},${yn},${wn}\\)$`),Tn=new RegExp(`^hsl\\(${wn},${yn},${yn}\\)$`),Cn=new RegExp(`^hsla\\(${wn},${yn},${yn},${wn}\\)$`),An={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Sn(){return this.rgb().formatHex()}function In(){return this.rgb().formatHex8()}function Mn(){return qn(this).formatHsl()}function Pn(){return this.rgb().formatRgb()}function On(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=vn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Dn(e):3===n?new Bn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Nn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Nn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=_n.exec(t))?new Bn(e[1],e[2],e[3],1):(e=kn.exec(t))?new Bn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=xn.exec(t))?Nn(e[1],e[2],e[3],e[4]):(e=En.exec(t))?Nn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Tn.exec(t))?Un(e[1],e[2]/100,e[3]/100,1):(e=Cn.exec(t))?Un(e[1],e[2]/100,e[3]/100,e[4]):An.hasOwnProperty(t)?Dn(An[t]):"transparent"===t?new Bn(NaN,NaN,NaN,0):null}function Dn(t){return new Bn(t>>16&255,t>>8&255,255&t,1)}function Nn(t,e,n,i){return i<=0&&(t=e=n=NaN),new Bn(t,e,n,i)}function Ln(t){return t instanceof gn||(t=On(t)),t?new Bn((t=t.rgb()).r,t.g,t.b,t.opacity):new Bn}function Rn(t,e,n,i){return 1===arguments.length?Ln(t):new Bn(t,e,n,null==i?1:i)}function Bn(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Fn(){return`#${Hn(this.r)}${Hn(this.g)}${Hn(this.b)}`}function jn(){return`#${Hn(this.r)}${Hn(this.g)}${Hn(this.b)}${Hn(255*(isNaN(this.opacity)?1:this.opacity))}`}function $n(){const t=Vn(this.opacity);return`${1===t?"rgb(":"rgba("}${zn(this.r)}, ${zn(this.g)}, ${zn(this.b)}${1===t?")":`, ${t})`}`}function Vn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function zn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Hn(t){return((t=zn(t))<16?"0":"")+t.toString(16)}function Un(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Gn(t,e,n,i)}function qn(t){if(t instanceof Gn)return new Gn(t.h,t.s,t.l,t.opacity);if(t instanceof gn||(t=On(t)),!t)return new Gn;if(t instanceof Gn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,c=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=c<.5?o+r:2-o-r,s*=60):a=c>0&&c<1?0:s,new Gn(s,a,c,t.opacity)}function Wn(t,e,n,i){return 1===arguments.length?qn(t):new Gn(t,e,n,null==i?1:i)}function Gn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Kn(t){return(t=(t||0)%360)<0?t+360:t}function Yn(t){return Math.max(0,Math.min(1,t||0))}function Xn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}dn(gn,On,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Sn,formatHex:Sn,formatHex8:In,formatHsl:Mn,formatRgb:Pn,toString:Pn}),dn(Bn,Rn,fn(gn,{brighter(t){return t=null==t?mn:Math.pow(mn,t),new Bn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?pn:Math.pow(pn,t),new Bn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Bn(zn(this.r),zn(this.g),zn(this.b),Vn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fn,formatHex:Fn,formatHex8:jn,formatRgb:$n,toString:$n})),dn(Gn,Wn,fn(gn,{brighter(t){return t=null==t?mn:Math.pow(mn,t),new Gn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?pn:Math.pow(pn,t),new Gn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Bn(Xn(t>=240?t-240:t+120,r,i),Xn(t,r,i),Xn(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Gn(Kn(this.h),Yn(this.s),Yn(this.l),Vn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Vn(this.opacity);return`${1===t?"hsl(":"hsla("}${Kn(this.h)}, ${100*Yn(this.s)}%, ${100*Yn(this.l)}%${1===t?")":`, ${t})`}`}}));const Zn=Math.PI/180,Qn=180/Math.PI,Jn=18,ti=.96422,ei=1,ni=.82521,ii=4/29,ri=6/29,oi=3*ri*ri,si=ri*ri*ri;function ai(t){if(t instanceof li)return new li(t.l,t.a,t.b,t.opacity);if(t instanceof mi)return bi(t);t instanceof Bn||(t=Ln(t));var e,n,i=fi(t.r),r=fi(t.g),o=fi(t.b),s=ui((.2225045*i+.7168786*r+.0606169*o)/ei);return i===r&&r===o?e=n=s:(e=ui((.4360747*i+.3850649*r+.1430804*o)/ti),n=ui((.0139322*i+.0971045*r+.7141733*o)/ni)),new li(116*s-16,500*(e-s),200*(s-n),t.opacity)}function ci(t,e,n,i){return 1===arguments.length?ai(t):new li(t,e,n,null==i?1:i)}function li(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function ui(t){return t>si?Math.pow(t,1/3):t/oi+ii}function hi(t){return t>ri?t*t*t:oi*(t-ii)}function di(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function fi(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function gi(t){if(t instanceof mi)return new mi(t.h,t.c,t.l,t.opacity);if(t instanceof li||(t=ai(t)),0===t.a&&0===t.b)return new mi(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Qn;return new mi(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function pi(t,e,n,i){return 1===arguments.length?gi(t):new mi(t,e,n,null==i?1:i)}function mi(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function bi(t){if(isNaN(t.h))return new li(t.l,0,0,t.opacity);var e=t.h*Zn;return new li(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}dn(li,ci,fn(gn,{brighter(t){return new li(this.l+Jn*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new li(this.l-Jn*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Bn(di(3.1338561*(e=ti*hi(e))-1.6168667*(t=ei*hi(t))-.4906146*(n=ni*hi(n))),di(-.9787684*e+1.9161415*t+.033454*n),di(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),dn(mi,pi,fn(gn,{brighter(t){return new mi(this.h,this.c,this.l+Jn*(null==t?1:t),this.opacity)},darker(t){return new mi(this.h,this.c,this.l-Jn*(null==t?1:t),this.opacity)},rgb(){return bi(this).rgb()}}));const wi=t=>()=>t;function yi(t,e){return function(n){return t+n*e}}function vi(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function _i(t,e){var n=e-t;return n?yi(t,n>180||n<-180?n-360*Math.round(n/360):n):wi(isNaN(t)?e:t)}function ki(t){return 1==(t=+t)?xi:function(e,n){return n-e?vi(e,n,t):wi(isNaN(e)?n:e)}}function xi(t,e){var n=e-t;return n?yi(t,n):wi(isNaN(t)?e:t)}const Ei=function t(e){var n=ki(e);function i(t,e){var i=n((t=Rn(t)).r,(e=Rn(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),s=xi(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function Ti(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}}function Ci(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ai(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),s=new Array(i);for(n=0;n<r;++n)o[n]=Ri(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=o[n](t);return s}}function Si(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Ii(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Mi(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Ri(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}var Pi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oi=new RegExp(Pi.source,"g");function Di(t){return function(){return t}}function Ni(t){return function(e){return t(e)+""}}function Li(t,e){var n,i,r,o=Pi.lastIndex=Oi.lastIndex=0,s=-1,a=[],c=[];for(t+="",e+="";(n=Pi.exec(t))&&(i=Oi.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:Ii(n,i)})),o=Oi.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?c[0]?Ni(c[0].x):Di(e):(e=c.length,function(t){for(var n,i=0;i<e;++i)a[(n=c[i]).i]=n.x(t);return a.join("")})}function Ri(t,e){var n,i=typeof e;return null==e||"boolean"===i?wi(e):("number"===i?Ii:"string"===i?(n=On(e))?(e=n,Ei):Li:e instanceof On?Ei:e instanceof Date?Si:Ci(e)?Ti:Array.isArray(e)?Ai:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Mi:Ii)(t,e)}function Bi(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Fi,ji=180/Math.PI,$i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Vi(t,e,n,i,r,o){var s,a,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*i)&&(n-=t*c,i-=e*c),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,c/=a),t*i<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*ji,skewX:Math.atan(c)*ji,scaleX:s,scaleY:a}}function zi(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?$i:Vi(e.a,e.b,e.c,e.d,e.e,e.f)}function Hi(t){return null==t?$i:(Fi||(Fi=document.createElementNS("http://www.w3.org/2000/svg","g")),Fi.setAttribute("transform",t),(t=Fi.transform.baseVal.consolidate())?Vi((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):$i)}function Ui(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}function o(t,i,r,o,s,a){if(t!==r||i!==o){var c=s.push("translate(",null,e,null,n);a.push({i:c-4,x:Ii(t,r)},{i:c-2,x:Ii(i,o)})}else(r||o)&&s.push("translate("+r+e+o+n)}function s(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:Ii(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}function a(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Ii(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}function c(t,e,n,i,o,s){if(t!==n||e!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:Ii(t,n)},{i:a-2,x:Ii(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}return function(e,n){var i=[],r=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,i,r),s(e.rotate,n.rotate,i,r),a(e.skewX,n.skewX,i,r),c(e.scaleX,e.scaleY,n.scaleX,n.scaleY,i,r),e=n=null,function(t){for(var e,n=-1,o=r.length;++n<o;)i[(e=r[n]).i]=e.x(t);return i.join("")}}}var qi=Ui(zi,"px, ","px)","deg)"),Wi=Ui(Hi,", ",")",")");function Gi(t){return function(e,n){var i=t((e=pi(e)).h,(n=pi(n)).h),r=xi(e.c,n.c),o=xi(e.l,n.l),s=xi(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=o(t),e.opacity=s(t),e+""}}}const Ki=Gi(_i);var Yi,Xi,Zi=0,Qi=0,Ji=0,tr=1e3,er=0,nr=0,ir=0,rr="object"==typeof performance&&performance.now?performance:Date,or="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function sr(){return nr||(or(ar),nr=rr.now()+ir)}function ar(){nr=0}function cr(){this._call=this._time=this._next=null}function lr(t,e,n){var i=new cr;return i.restart(t,e,n),i}function ur(){sr(),++Zi;for(var t,e=Yi;e;)(t=nr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Zi}function hr(){nr=(er=rr.now())+ir,Zi=Qi=0;try{ur()}finally{Zi=0,fr(),nr=0}}function dr(){var t=rr.now(),e=t-er;e>tr&&(ir-=e,er=t)}function fr(){for(var t,e,n=Yi,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Yi=e);Xi=t,gr(i)}function gr(t){Zi||(Qi&&(Qi=clearTimeout(Qi)),t-nr>24?(t<1/0&&(Qi=setTimeout(hr,t-rr.now()-ir)),Ji&&(Ji=clearInterval(Ji))):(Ji||(er=rr.now(),Ji=setInterval(dr,tr)),Zi=1,or(hr)))}function pr(t,e,n){var i=new cr;return e=null==e?0:+e,i.restart((n=>{i.stop(),t(n+e)}),e,n),i}cr.prototype=lr.prototype={constructor:cr,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?sr():+n)+(null==e?0:+e),this._next||Xi===this||(Xi?Xi._next=this:Yi=this,Xi=this),this._call=t,this._time=n,gr()},stop:function(){this._call&&(this._call=null,this._time=1/0,gr())}};var mr=ot("start","end","cancel","interrupt"),br=[],wr=0,yr=1,vr=2,_r=3,kr=4,xr=5,Er=6;function Tr(t,e,n,i,r,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};Ir(t,n,{name:e,index:i,group:r,on:mr,tween:br,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:wr})}function Cr(t,e){var n=Sr(t,e);if(n.state>wr)throw new Error("too late; already scheduled");return n}function Ar(t,e){var n=Sr(t,e);if(n.state>_r)throw new Error("too late; already running");return n}function Sr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ir(t,e,n){var i,r=t.__transition;function o(t){n.state=yr,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)}function s(o){var l,u,h,d;if(n.state!==yr)return c();for(l in r)if((d=r[l]).name===n.name){if(d.state===_r)return pr(s);d.state===kr?(d.state=Er,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[l]):+l<e&&(d.state=Er,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[l])}if(pr((function(){n.state===_r&&(n.state=kr,n.timer.restart(a,n.delay,n.time),a(o))})),n.state=vr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===vr){for(n.state=_r,i=new Array(h=n.tween.length),l=0,u=-1;l<h;++l)(d=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=d);i.length=u+1}}function a(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(c),n.state=xr,1),o=-1,s=i.length;++o<s;)i[o].call(t,r);n.state===xr&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){for(var i in n.state=Er,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=lr(o,0,n.time)}function Mr(t,e){var n,i,r,o=t.__transition,s=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>vr&&n.state<xr,n.state=Er,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete t.__transition}}function Pr(t){return this.each((function(){Mr(this,t)}))}function Or(t,e){var n,i;return function(){var r=Ar(this,t),o=r.tween;if(o!==n)for(var s=0,a=(i=n=o).length;s<a;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}r.tween=i}}function Dr(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Ar(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},c=0,l=r.length;c<l;++c)if(r[c].name===e){r[c]=a;break}c===l&&r.push(a)}o.tween=r}}function Nr(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Sr(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?Or:Dr)(n,t,e))}function Lr(t,e,n){var i=t._id;return t.each((function(){var t=Ar(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Sr(t,i).value[e]}}function Rr(t,e){var n;return("number"==typeof e?Ii:e instanceof On?Ei:(n=On(e))?(e=n,Ei):Li)(t,e)}function Br(t){return function(){this.removeAttribute(t)}}function Fr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function jr(t,e,n){var i,r,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===i?r:r=e(i=s,n)}}function $r(t,e,n){var i,r,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?r:r=e(i=s,n)}}function Vr(t,e,n){var i,r,o;return function(){var s,a,c=n(this);if(null!=c)return(s=this.getAttribute(t))===(a=c+"")?null:s===i&&a===r?o:(r=a,o=e(i=s,c));this.removeAttribute(t)}}function zr(t,e,n){var i,r,o;return function(){var s,a,c=n(this);if(null!=c)return(s=this.getAttributeNS(t.space,t.local))===(a=c+"")?null:s===i&&a===r?o:(r=a,o=e(i=s,c));this.removeAttributeNS(t.space,t.local)}}function Hr(t,e){var n=dt(t),i="transform"===n?Wi:Rr;return this.attrTween(t,"function"==typeof e?(n.local?zr:Vr)(n,i,Lr(this,"attr."+t,e)):null==e?(n.local?Fr:Br)(n):(n.local?$r:jr)(n,i,e))}function Ur(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function qr(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Wr(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&qr(t,r)),n}return r._value=e,r}function Gr(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Ur(t,r)),n}return r._value=e,r}function Kr(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=dt(t);return this.tween(n,(i.local?Wr:Gr)(i,e))}function Yr(t,e){return function(){Cr(this,t).delay=+e.apply(this,arguments)}}function Xr(t,e){return e=+e,function(){Cr(this,t).delay=e}}function Zr(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Yr:Xr)(e,t)):Sr(this.node(),e).delay}function Qr(t,e){return function(){Ar(this,t).duration=+e.apply(this,arguments)}}function Jr(t,e){return e=+e,function(){Ar(this,t).duration=e}}function to(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Qr:Jr)(e,t)):Sr(this.node(),e).duration}function eo(t,e){if("function"!=typeof e)throw new Error;return function(){Ar(this,t).ease=e}}function no(t){var e=this._id;return arguments.length?this.each(eo(e,t)):Sr(this.node(),e).ease}function io(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Ar(this,t).ease=n}}function ro(t){if("function"!=typeof t)throw new Error;return this.each(io(this._id,t))}function oo(t){"function"!=typeof t&&(t=Et(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,c=i[r]=[],l=0;l<a;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&c.push(o);return new Lo(i,this._parents,this._name,this._id)}function so(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var c,l=e[a],u=n[a],h=l.length,d=s[a]=new Array(h),f=0;f<h;++f)(c=l[f]||u[f])&&(d[f]=c);for(;a<i;++a)s[a]=e[a];return new Lo(s,this._parents,this._name,this._id)}function ao(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}function co(t,e,n){var i,r,o=ao(e)?Cr:Ar;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}function lo(t,e){var n=this._id;return arguments.length<2?Sr(this.node(),n).on.on(t):this.each(co(n,t,e))}function uo(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ho(){return this.on("end.remove",uo(this._id))}function fo(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=bt(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a,c,l=i[s],u=l.length,h=o[s]=new Array(u),d=0;d<u;++d)(a=l[d])&&(c=t.call(a,a.__data__,d,l))&&("__data__"in a&&(c.__data__=a.__data__),h[d]=c,Tr(h[d],e,n,d,h,Sr(a,n)));return new Lo(o,this._parents,e,n)}function go(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=_t(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var c,l=i[a],u=l.length,h=0;h<u;++h)if(c=l[h]){for(var d,f=t.call(c,c.__data__,h,l),g=Sr(c,n),p=0,m=f.length;p<m;++p)(d=f[p])&&Tr(d,e,n,p,f,g);o.push(f),s.push(c)}return new Lo(o,s,e,n)}var po=cn.prototype.constructor;function mo(){return new po(this._groups,this._parents)}function bo(t,e){var n,i,r;return function(){var o=ge(this,t),s=(this.style.removeProperty(t),ge(this,t));return o===s?null:o===n&&s===i?r:r=e(n=o,i=s)}}function wo(t){return function(){this.style.removeProperty(t)}}function yo(t,e,n){var i,r,o=n+"";return function(){var s=ge(this,t);return s===o?null:s===i?r:r=e(i=s,n)}}function vo(t,e,n){var i,r,o;return function(){var s=ge(this,t),a=n(this),c=a+"";return null==a&&(this.style.removeProperty(t),c=a=ge(this,t)),s===c?null:s===i&&c===r?o:(r=c,o=e(i=s,a))}}function _o(t,e){var n,i,r,o,s="style."+e,a="end."+s;return function(){var c=Ar(this,t),l=c.on,u=null==c.value[s]?o||(o=wo(e)):void 0;l===n&&r===u||(i=(n=l).copy()).on(a,r=u),c.on=i}}function ko(t,e,n){var i="transform"==(t+="")?qi:Rr;return null==e?this.styleTween(t,bo(t,i)).on("end.style."+t,wo(t)):"function"==typeof e?this.styleTween(t,vo(t,i,Lr(this,"style."+t,e))).each(_o(this._id,t)):this.styleTween(t,yo(t,i,e),n).on("end.style."+t,null)}function xo(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Eo(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&xo(t,o,n)),i}return o._value=e,o}function To(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,Eo(t,e,null==n?"":n))}function Co(t){return function(){this.textContent=t}}function Ao(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function So(t){return this.tween("text","function"==typeof t?Ao(Lr(this,"text",t)):Co(null==t?"":t+""))}function Io(t){return function(e){this.textContent=t.call(this,e)}}function Mo(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Io(i)),e}return i._value=t,i}function Po(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Mo(t))}function Oo(){for(var t=this._name,e=this._id,n=Ro(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],c=a.length,l=0;l<c;++l)if(s=a[l]){var u=Sr(s,e);Tr(s,t,n,l,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Lo(i,this._parents,t,n)}function Do(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(o,s){var a={value:s},c={value:function(){0==--r&&o()}};n.each((function(){var n=Ar(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),n.on=e})),0===r&&o()}))}var No=0;function Lo(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Ro(){return++No}var Bo=cn.prototype;function Fo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Lo.prototype={constructor:Lo,select:fo,selectAll:go,selectChild:Bo.selectChild,selectChildren:Bo.selectChildren,filter:oo,merge:so,selection:mo,transition:Oo,call:Bo.call,nodes:Bo.nodes,node:Bo.node,size:Bo.size,empty:Bo.empty,each:Bo.each,on:lo,attr:Hr,attrTween:Kr,style:ko,styleTween:To,text:So,textTween:Po,remove:ho,tween:Nr,delay:Zr,duration:to,ease:no,easeVarying:ro,end:Do,[Symbol.iterator]:Bo[Symbol.iterator]};var jo={time:null,delay:0,duration:250,ease:Fo};function $o(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Vo(t){var e,n;t instanceof Lo?(e=t._id,t=t._name):(e=Ro(),(n=jo).time=sr(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],c=a.length,l=0;l<c;++l)(s=a[l])&&Tr(s,t,e,l,a,n||$o(s,e));return new Lo(i,this._parents,t,e)}cn.prototype.interrupt=Pr,cn.prototype.transition=Vo;const zo=Math.PI,Ho=2*zo,Uo=1e-6,qo=Ho-Uo;function Wo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Go(){return new Wo}function Ko(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Yo(t,e){return fetch(t,e).then(Ko)}function Xo(t){return(e,n)=>Yo(e,n).then((e=>(new DOMParser).parseFromString(e,t)))}Wo.prototype=Go.prototype={constructor:Wo,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,s=this._y1,a=n-t,c=i-e,l=o-t,u=s-e,h=l*l+u*u;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Uo)if(Math.abs(u*a-c*l)>Uo&&r){var d=n-o,f=i-s,g=a*a+c*c,p=d*d+f*f,m=Math.sqrt(g),b=Math.sqrt(h),w=r*Math.tan((zo-Math.acos((g+h-p)/(2*m*b)))/2),y=w/b,v=w/m;Math.abs(y-1)>Uo&&(this._+="L"+(t+y*l)+","+(e+y*u)),this._+="A"+r+","+r+",0,0,"+ +(u*d>l*f)+","+(this._x1=t+v*a)+","+(this._y1=e+v*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,i,r,o){t=+t,e=+e,o=!!o;var s=(n=+n)*Math.cos(i),a=n*Math.sin(i),c=t+s,l=e+a,u=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>Uo||Math.abs(this._y1-l)>Uo)&&(this._+="L"+c+","+l),n&&(h<0&&(h=h%Ho+Ho),h>qo?this._+="A"+n+","+n+",0,1,"+u+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=l):h>Uo&&(this._+="A"+n+","+n+",0,"+ +(h>=zo)+","+u+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Zo=Xo("image/svg+xml");function Qo(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function ts(t){return(t=Jo(Math.abs(t)))?t[1]:NaN}function es(t,e){return function(n,i){for(var r=n.length,o=[],s=0,a=t[0],c=0;r>0&&a>0&&(c+a+1>i&&(a=Math.max(1,i-c)),o.push(n.substring(r-=a,r+a)),!((c+=a+1)>i));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function ns(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}var is,rs=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function os(t){if(!(e=rs.exec(t)))throw new Error("invalid format: "+t);var e;return new ss({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ss(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function as(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}function cs(t,e){var n=Jo(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(is=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Jo(t,Math.max(0,e+o-1))[0]}function ls(t,e){var n=Jo(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}os.prototype=ss.prototype,ss.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const us={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Qo,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ls(100*t,e),r:ls,s:cs,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hs(t){return t}var ds,fs,gs,ps=Array.prototype.map,ms=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function bs(t){var e=void 0===t.grouping||void 0===t.thousands?hs:es(ps.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",r=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?hs:ns(ps.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",a=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function l(t){var l=(t=os(t)).fill,u=t.align,h=t.sign,d=t.symbol,f=t.zero,g=t.width,p=t.comma,m=t.precision,b=t.trim,w=t.type;"n"===w?(p=!0,w="g"):us[w]||(void 0===m&&(m=12),b=!0,w="g"),(f||"0"===l&&"="===u)&&(f=!0,l="0",u="=");var y="$"===d?n:"#"===d&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",v="$"===d?i:/[%p]/.test(w)?s:"",_=us[w],k=/[defgprs%]/.test(w);function x(t){var n,i,s,d=y,x=v;if("c"===w)x=_(t)+x,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:_(Math.abs(t),m),b&&(t=as(t)),E&&0==+t&&"+"!==h&&(E=!1),d=(E?"("===h?h:a:"-"===h||"("===h?"":h)+d,x=("s"===w?ms[8+is/3]:"")+x+(E&&"("===h?")":""),k)for(n=-1,i=t.length;++n<i;)if(48>(s=t.charCodeAt(n))||s>57){x=(46===s?r+t.slice(n+1):t.slice(n))+x,t=t.slice(0,n);break}}p&&!f&&(t=e(t,1/0));var T=d.length+t.length+x.length,C=T<g?new Array(g-T+1).join(l):"";switch(p&&f&&(t=e(C+t,C.length?g-x.length:1/0),C=""),u){case"<":t=d+t+x+C;break;case"=":t=d+C+t+x;break;case"^":t=C.slice(0,T=C.length>>1)+d+t+x+C.slice(T);break;default:t=C+d+t+x}return o(t)}return m=void 0===m?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),x.toString=function(){return t+""},x}function u(t,e){var n=l(((t=os(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(ts(e)/3))),r=Math.pow(10,-i),o=ms[8+i/3];return function(t){return n(r*t)+o}}return{format:l,formatPrefix:u}}function ws(t){return ds=bs(t),fs=ds.format,gs=ds.formatPrefix,ds}function ys(t){return Math.max(0,-ts(Math.abs(t)))}function vs(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ts(e)/3)))-ts(Math.abs(t)))}function _s(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ts(e)-ts(t))+1}function ks(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}ws({thousands:",",grouping:[3],currency:["$",""]});const xs=Symbol("implicit");function Es(){var t=new P,e=[],n=[],i=xs;function r(r){let o=t.get(r);if(void 0===o){if(i!==xs)return i;t.set(r,o=e.push(r)-1)}return n[o%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new P;for(const i of n)t.has(i)||t.set(i,e.push(i)-1);return r},r.range=function(t){return arguments.length?(n=Array.from(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return Es(e,n).unknown(i)},ks.apply(r,arguments),r}function Ts(t){return function(){return t}}function Cs(t){return+t}var As=[0,1];function Ss(t){return t}function Is(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ts(isNaN(e)?NaN:.5)}function Ms(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}function Ps(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1];return r<i?(i=Is(r,i),o=n(s,o)):(i=Is(i,r),o=n(o,s)),function(t){return o(i(t))}}function Os(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)r[s]=Is(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(e){var n=M(t,e,1,i)-1;return o[n](r[n](e))}}function Ds(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ns(){var t,e,n,i,r,o,s=As,a=As,c=Ri,l=Ss;function u(){var t=Math.min(s.length,a.length);return l!==Ss&&(l=Ms(s[0],s[t-1])),i=t>2?Os:Ps,r=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(r||(r=i(s.map(t),a,c)))(t(l(e)))}return h.invert=function(n){return l(e((o||(o=i(a,s.map(t),Ii)))(n)))},h.domain=function(t){return arguments.length?(s=Array.from(t,Cs),u()):s.slice()},h.range=function(t){return arguments.length?(a=Array.from(t),u()):a.slice()},h.rangeRound=function(t){return a=Array.from(t),c=Bi,u()},h.clamp=function(t){return arguments.length?(l=!!t||Ss,u()):l!==Ss},h.interpolate=function(t){return arguments.length?(c=t,u()):c},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,u()}}function Ls(){return Ns()(Ss,Ss)}function Rs(t,e,n,i){var r,o=V(t,e,n);switch((i=os(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=vs(o,s))||(i.precision=r),gs(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=_s(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=ys(o))||(i.precision=r-2*("%"===i.type))}return fs(i)}function Bs(t){var e=t.domain;return t.ticks=function(t){var n=e();return j(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return Rs(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r,o=e(),s=0,a=o.length-1,c=o[s],l=o[a],u=10;for(l<c&&(r=c,c=l,l=r,r=s,s=a,a=r);u-- >0;){if((r=$(c,l,n))===i)return o[s]=c,o[a]=l,e(o);if(r>0)c=Math.floor(c/r)*r,l=Math.ceil(l/r)*r;else{if(!(r<0))break;c=Math.ceil(c*r)/r,l=Math.floor(l*r)/r}i=r}return t},t}function Fs(){var t=Ls();return t.copy=function(){return Ds(t,Fs())},ks.apply(t,arguments),Bs(t)}function js(t,e){var n,i=0,r=(t=t.slice()).length-1,o=t[i],s=t[r];return s<o&&(n=i,i=r,r=n,n=o,o=s,s=n),t[i]=e.floor(o),t[r]=e.ceil(s),t}var $s=new Date,Vs=new Date;function zs(t,e,n,i){function r(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return r.floor=function(e){return t(e=new Date(+e)),e},r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var s,a=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return a;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<i);return a},r.filter=function(n){return zs((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););}))},n&&(r.count=function(e,i){return $s.setTime(+e),Vs.setTime(+i),t($s),t(Vs),Math.floor(n($s,Vs))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var Hs=zs((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Hs.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?zs((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Hs:null};const Us=Hs;Hs.range;const qs=1e3,Ws=60*qs,Gs=60*Ws,Ks=24*Gs,Ys=7*Ks,Xs=30*Ks,Zs=365*Ks;var Qs=zs((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*qs)}),(function(t,e){return(e-t)/qs}),(function(t){return t.getUTCSeconds()}));const Js=Qs;Qs.range;var ta=zs((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*qs)}),(function(t,e){t.setTime(+t+e*Ws)}),(function(t,e){return(e-t)/Ws}),(function(t){return t.getMinutes()}));const ea=ta;ta.range;var na=zs((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*qs-t.getMinutes()*Ws)}),(function(t,e){t.setTime(+t+e*Gs)}),(function(t,e){return(e-t)/Gs}),(function(t){return t.getHours()}));const ia=na;na.range;var ra=zs((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ws)/Ks),(t=>t.getDate()-1));const oa=ra;function sa(t){return zs((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ws)/Ys}))}ra.range;var aa=sa(0),ca=sa(1),la=sa(2),ua=sa(3),ha=sa(4),da=sa(5),fa=sa(6);aa.range,ca.range,la.range,ua.range,ha.range,da.range,fa.range;var ga=zs((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));const pa=ga;ga.range;var ma=zs((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));ma.every=function(t){return isFinite(t=Math.floor(t))&&t>0?zs((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const ba=ma;ma.range;var wa=zs((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Ws)}),(function(t,e){return(e-t)/Ws}),(function(t){return t.getUTCMinutes()}));const ya=wa;wa.range;var va=zs((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*Gs)}),(function(t,e){return(e-t)/Gs}),(function(t){return t.getUTCHours()}));const _a=va;va.range;var ka=zs((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Ks}),(function(t){return t.getUTCDate()-1}));const xa=ka;function Ea(t){return zs((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Ys}))}ka.range;var Ta=Ea(0),Ca=Ea(1),Aa=Ea(2),Sa=Ea(3),Ia=Ea(4),Ma=Ea(5),Pa=Ea(6);Ta.range,Ca.range,Aa.range,Sa.range,Ia.range,Ma.range,Pa.range;var Oa=zs((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));const Da=Oa;Oa.range;var Na=zs((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Na.every=function(t){return isFinite(t=Math.floor(t))&&t>0?zs((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const La=Na;function Ra(t,e,n,i,r,o){const s=[[Js,1,qs],[Js,5,5*qs],[Js,15,15*qs],[Js,30,30*qs],[o,1,Ws],[o,5,5*Ws],[o,15,15*Ws],[o,30,30*Ws],[r,1,Gs],[r,3,3*Gs],[r,6,6*Gs],[r,12,12*Gs],[i,1,Ks],[i,2,2*Ks],[n,1,Ys],[e,1,Xs],[e,3,3*Xs],[t,1,Zs]];function a(t,e,n){const i=e<t;i&&([t,e]=[e,t]);const r=n&&"function"==typeof n.range?n:c(t,e,n),o=r?r.range(t,+e+1):[];return i?o.reverse():o}function c(e,n,i){const r=Math.abs(n-e)/i,o=C((([,,t])=>t)).right(s,r);if(o===s.length)return t.every(V(e/Zs,n/Zs,i));if(0===o)return Us.every(Math.max(V(e,n,i),1));const[a,c]=s[r/s[o-1][2]<s[o][2]/r?o-1:o];return a.every(c)}return[a,c]}Na.range,Ra(La,Da,Ta,xa,_a,ya);const[Ba,Fa]=Ra(ba,pa,aa,oa,ia,ea);function ja(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function $a(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Va(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function za(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,s=t.shortDays,a=t.months,c=t.shortMonths,l=Za(r),u=Qa(r),h=Za(o),d=Qa(o),f=Za(s),g=Qa(s),p=Za(a),m=Qa(a),b=Za(c),w=Qa(c),y={a:D,A:N,b:L,B:R,c:null,d:yc,e:yc,f:Ec,g:Lc,G:Bc,H:vc,I:_c,j:kc,L:xc,m:Tc,M:Cc,p:B,q:F,Q:sl,s:al,S:Ac,u:Sc,U:Ic,V:Pc,w:Oc,W:Dc,x:null,X:null,y:Nc,Y:Rc,Z:Fc,"%":ol},v={a:j,A:$,b:V,B:z,c:null,d:jc,e:jc,f:Uc,g:el,G:il,H:$c,I:Vc,j:zc,L:Hc,m:qc,M:Wc,p:H,q:U,Q:sl,s:al,S:Gc,u:Kc,U:Yc,V:Zc,w:Qc,W:Jc,x:null,X:null,y:tl,Y:nl,Z:rl,"%":ol},_={a:C,A,b:S,B:I,c:M,d:lc,e:lc,f:pc,g:oc,G:rc,H:hc,I:hc,j:uc,L:gc,m:cc,M:dc,p:T,q:ac,Q:bc,s:wc,S:fc,u:tc,U:ec,V:nc,w:Ja,W:ic,x:P,X:O,y:oc,Y:rc,Z:sc,"%":mc};function k(t,e){return function(n){var i,r,o,s=[],a=-1,c=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++a<l;)37===t.charCodeAt(a)&&(s.push(t.slice(c,a)),null!=(r=qa[i=t.charAt(++a)])?i=t.charAt(++a):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),s.push(i),c=a+1);return s.push(t.slice(c,a)),s.join("")}}function x(t,e){return function(n){var i,r,o=Va(1900,void 0,1);if(E(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=$a(Va(o.y,0,1))).getUTCDay(),i=r>4||0===r?Ca.ceil(i):Ca(i),i=xa.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(r=(i=ja(Va(o.y,0,1))).getDay(),i=r>4||0===r?ca.ceil(i):ca(i),i=oa.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?$a(Va(o.y,0,1)).getUTCDay():ja(Va(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,$a(o)):ja(o)}}function E(t,e,n,i){for(var r,o,s=0,a=e.length,c=n.length;s<a;){if(i>=c)return-1;if(37===(r=e.charCodeAt(s++))){if(r=e.charAt(s++),!(o=_[r in qa?e.charAt(s++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function T(t,e,n){var i=l.exec(e.slice(n));return i?(t.p=u.get(i[0].toLowerCase()),n+i[0].length):-1}function C(t,e,n){var i=f.exec(e.slice(n));return i?(t.w=g.get(i[0].toLowerCase()),n+i[0].length):-1}function A(t,e,n){var i=h.exec(e.slice(n));return i?(t.w=d.get(i[0].toLowerCase()),n+i[0].length):-1}function S(t,e,n){var i=b.exec(e.slice(n));return i?(t.m=w.get(i[0].toLowerCase()),n+i[0].length):-1}function I(t,e,n){var i=p.exec(e.slice(n));return i?(t.m=m.get(i[0].toLowerCase()),n+i[0].length):-1}function M(t,n,i){return E(t,e,n,i)}function P(t,e,i){return E(t,n,e,i)}function O(t,e,n){return E(t,i,e,n)}function D(t){return s[t.getDay()]}function N(t){return o[t.getDay()]}function L(t){return c[t.getMonth()]}function R(t){return a[t.getMonth()]}function B(t){return r[+(t.getHours()>=12)]}function F(t){return 1+~~(t.getMonth()/3)}function j(t){return s[t.getUTCDay()]}function $(t){return o[t.getUTCDay()]}function V(t){return c[t.getUTCMonth()]}function z(t){return a[t.getUTCMonth()]}function H(t){return r[+(t.getUTCHours()>=12)]}function U(t){return 1+~~(t.getUTCMonth()/3)}return y.x=k(n,y),y.X=k(i,y),y.c=k(e,y),v.x=k(n,v),v.X=k(i,v),v.c=k(e,v),{format:function(t){var e=k(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=x(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=k(t+="",v);return e.toString=function(){return t},e},utcParse:function(t){var e=x(t+="",!0);return e.toString=function(){return t},e}}}var Ha,Ua,qa={"-":"",_:" ",0:"0"},Wa=/^\s*\d+/,Ga=/^%/,Ka=/[\\^$*+?|[\]().{}]/g;function Ya(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function Xa(t){return t.replace(Ka,"\\$&")}function Za(t){return new RegExp("^(?:"+t.map(Xa).join("|")+")","i")}function Qa(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function Ja(t,e,n){var i=Wa.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function tc(t,e,n){var i=Wa.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function ec(t,e,n){var i=Wa.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function nc(t,e,n){var i=Wa.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function ic(t,e,n){var i=Wa.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function rc(t,e,n){var i=Wa.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function oc(t,e,n){var i=Wa.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function sc(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function ac(t,e,n){var i=Wa.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function cc(t,e,n){var i=Wa.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function lc(t,e,n){var i=Wa.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function uc(t,e,n){var i=Wa.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function hc(t,e,n){var i=Wa.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function dc(t,e,n){var i=Wa.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function fc(t,e,n){var i=Wa.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function gc(t,e,n){var i=Wa.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function pc(t,e,n){var i=Wa.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function mc(t,e,n){var i=Ga.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function bc(t,e,n){var i=Wa.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function wc(t,e,n){var i=Wa.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function yc(t,e){return Ya(t.getDate(),e,2)}function vc(t,e){return Ya(t.getHours(),e,2)}function _c(t,e){return Ya(t.getHours()%12||12,e,2)}function kc(t,e){return Ya(1+oa.count(ba(t),t),e,3)}function xc(t,e){return Ya(t.getMilliseconds(),e,3)}function Ec(t,e){return xc(t,e)+"000"}function Tc(t,e){return Ya(t.getMonth()+1,e,2)}function Cc(t,e){return Ya(t.getMinutes(),e,2)}function Ac(t,e){return Ya(t.getSeconds(),e,2)}function Sc(t){var e=t.getDay();return 0===e?7:e}function Ic(t,e){return Ya(aa.count(ba(t)-1,t),e,2)}function Mc(t){var e=t.getDay();return e>=4||0===e?ha(t):ha.ceil(t)}function Pc(t,e){return t=Mc(t),Ya(ha.count(ba(t),t)+(4===ba(t).getDay()),e,2)}function Oc(t){return t.getDay()}function Dc(t,e){return Ya(ca.count(ba(t)-1,t),e,2)}function Nc(t,e){return Ya(t.getFullYear()%100,e,2)}function Lc(t,e){return Ya((t=Mc(t)).getFullYear()%100,e,2)}function Rc(t,e){return Ya(t.getFullYear()%1e4,e,4)}function Bc(t,e){var n=t.getDay();return Ya((t=n>=4||0===n?ha(t):ha.ceil(t)).getFullYear()%1e4,e,4)}function Fc(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ya(e/60|0,"0",2)+Ya(e%60,"0",2)}function jc(t,e){return Ya(t.getUTCDate(),e,2)}function $c(t,e){return Ya(t.getUTCHours(),e,2)}function Vc(t,e){return Ya(t.getUTCHours()%12||12,e,2)}function zc(t,e){return Ya(1+xa.count(La(t),t),e,3)}function Hc(t,e){return Ya(t.getUTCMilliseconds(),e,3)}function Uc(t,e){return Hc(t,e)+"000"}function qc(t,e){return Ya(t.getUTCMonth()+1,e,2)}function Wc(t,e){return Ya(t.getUTCMinutes(),e,2)}function Gc(t,e){return Ya(t.getUTCSeconds(),e,2)}function Kc(t){var e=t.getUTCDay();return 0===e?7:e}function Yc(t,e){return Ya(Ta.count(La(t)-1,t),e,2)}function Xc(t){var e=t.getUTCDay();return e>=4||0===e?Ia(t):Ia.ceil(t)}function Zc(t,e){return t=Xc(t),Ya(Ia.count(La(t),t)+(4===La(t).getUTCDay()),e,2)}function Qc(t){return t.getUTCDay()}function Jc(t,e){return Ya(Ca.count(La(t)-1,t),e,2)}function tl(t,e){return Ya(t.getUTCFullYear()%100,e,2)}function el(t,e){return Ya((t=Xc(t)).getUTCFullYear()%100,e,2)}function nl(t,e){return Ya(t.getUTCFullYear()%1e4,e,4)}function il(t,e){var n=t.getUTCDay();return Ya((t=n>=4||0===n?Ia(t):Ia.ceil(t)).getUTCFullYear()%1e4,e,4)}function rl(){return"+0000"}function ol(){return"%"}function sl(t){return+t}function al(t){return Math.floor(+t/1e3)}function cl(t){return Ha=za(t),Ua=Ha.format,Ha.parse,Ha.utcFormat,Ha.utcParse,Ha}function ll(t){return new Date(t)}function ul(t){return t instanceof Date?+t:+new Date(+t)}function hl(t,e,n,i,r,o,s,a,c,l){var u=Ls(),h=u.invert,d=u.domain,f=l(".%L"),g=l(":%S"),p=l("%I:%M"),m=l("%I %p"),b=l("%a %d"),w=l("%b %d"),y=l("%B"),v=l("%Y");function _(t){return(c(t)<t?f:a(t)<t?g:s(t)<t?p:o(t)<t?m:i(t)<t?r(t)<t?b:w:n(t)<t?y:v)(t)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?d(Array.from(t,ul)):d().map(ll)},u.ticks=function(e){var n=d();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?_:l(e)},u.nice=function(t){var n=d();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?d(js(n,t)):u},u.copy=function(){return Ds(u,hl(t,e,n,i,r,o,s,a,c,l))},u}function dl(){return ks.apply(hl(Ba,Fa,ba,pa,aa,oa,ia,ea,Js,Ua).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fl(t){return function(){return t}}cl({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const gl=Math.abs,pl=Math.atan2,ml=Math.cos,bl=Math.max,wl=Math.min,yl=Math.sin,vl=Math.sqrt,_l=1e-12,kl=Math.PI,xl=kl/2,El=2*kl;function Tl(t){return t>1?0:t<-1?kl:Math.acos(t)}function Cl(t){return t>=1?xl:t<=-1?-xl:Math.asin(t)}function Al(t){return t.innerRadius}function Sl(t){return t.outerRadius}function Il(t){return t.startAngle}function Ml(t){return t.endAngle}function Pl(t){return t&&t.padAngle}function Ol(t,e,n,i,r,o,s,a){var c=n-t,l=i-e,u=s-r,h=a-o,d=h*c-u*l;if(!(d*d<_l))return[t+(d=(u*(e-o)-h*(t-r))/d)*c,e+d*l]}function Dl(t,e,n,i,r,o,s){var a=t-n,c=e-i,l=(s?o:-o)/vl(a*a+c*c),u=l*c,h=-l*a,d=t+u,f=e+h,g=n+u,p=i+h,m=(d+g)/2,b=(f+p)/2,w=g-d,y=p-f,v=w*w+y*y,_=r-o,k=d*p-g*f,x=(y<0?-1:1)*vl(bl(0,_*_*v-k*k)),E=(k*y-w*x)/v,T=(-k*w-y*x)/v,C=(k*y+w*x)/v,A=(-k*w+y*x)/v,S=E-m,I=T-b,M=C-m,P=A-b;return S*S+I*I>M*M+P*P&&(E=C,T=A),{cx:E,cy:T,x01:-u,y01:-h,x11:E*(r/_-1),y11:T*(r/_-1)}}function Nl(){var t=Al,e=Sl,n=fl(0),i=null,r=Il,o=Ml,s=Pl,a=null;function c(){var c,l,u=+t.apply(this,arguments),h=+e.apply(this,arguments),d=r.apply(this,arguments)-xl,f=o.apply(this,arguments)-xl,g=gl(f-d),p=f>d;if(a||(a=c=Go()),h<u&&(l=h,h=u,u=l),h>_l)if(g>El-_l)a.moveTo(h*ml(d),h*yl(d)),a.arc(0,0,h,d,f,!p),u>_l&&(a.moveTo(u*ml(f),u*yl(f)),a.arc(0,0,u,f,d,p));else{var m,b,w=d,y=f,v=d,_=f,k=g,x=g,E=s.apply(this,arguments)/2,T=E>_l&&(i?+i.apply(this,arguments):vl(u*u+h*h)),C=wl(gl(h-u)/2,+n.apply(this,arguments)),A=C,S=C;if(T>_l){var I=Cl(T/u*yl(E)),M=Cl(T/h*yl(E));(k-=2*I)>_l?(v+=I*=p?1:-1,_-=I):(k=0,v=_=(d+f)/2),(x-=2*M)>_l?(w+=M*=p?1:-1,y-=M):(x=0,w=y=(d+f)/2)}var P=h*ml(w),O=h*yl(w),D=u*ml(_),N=u*yl(_);if(C>_l){var L,R=h*ml(y),B=h*yl(y),F=u*ml(v),j=u*yl(v);if(g<kl&&(L=Ol(P,O,F,j,R,B,D,N))){var $=P-L[0],V=O-L[1],z=R-L[0],H=B-L[1],U=1/yl(Tl(($*z+V*H)/(vl($*$+V*V)*vl(z*z+H*H)))/2),q=vl(L[0]*L[0]+L[1]*L[1]);A=wl(C,(u-q)/(U-1)),S=wl(C,(h-q)/(U+1))}}x>_l?S>_l?(m=Dl(F,j,P,O,h,S,p),b=Dl(R,B,D,N,h,S,p),a.moveTo(m.cx+m.x01,m.cy+m.y01),S<C?a.arc(m.cx,m.cy,S,pl(m.y01,m.x01),pl(b.y01,b.x01),!p):(a.arc(m.cx,m.cy,S,pl(m.y01,m.x01),pl(m.y11,m.x11),!p),a.arc(0,0,h,pl(m.cy+m.y11,m.cx+m.x11),pl(b.cy+b.y11,b.cx+b.x11),!p),a.arc(b.cx,b.cy,S,pl(b.y11,b.x11),pl(b.y01,b.x01),!p))):(a.moveTo(P,O),a.arc(0,0,h,w,y,!p)):a.moveTo(P,O),u>_l&&k>_l?A>_l?(m=Dl(D,N,R,B,u,-A,p),b=Dl(P,O,F,j,u,-A,p),a.lineTo(m.cx+m.x01,m.cy+m.y01),A<C?a.arc(m.cx,m.cy,A,pl(m.y01,m.x01),pl(b.y01,b.x01),!p):(a.arc(m.cx,m.cy,A,pl(m.y01,m.x01),pl(m.y11,m.x11),!p),a.arc(0,0,u,pl(m.cy+m.y11,m.cx+m.x11),pl(b.cy+b.y11,b.cx+b.x11),p),a.arc(b.cx,b.cy,A,pl(b.y11,b.x11),pl(b.y01,b.x01),!p))):a.arc(0,0,u,_,v,p):a.lineTo(D,N)}else a.moveTo(0,0);if(a.closePath(),c)return a=null,c+""||null}return c.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-kl/2;return[ml(i)*n,yl(i)*n]},c.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:fl(+e),c):t},c.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:fl(+t),c):e},c.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:fl(+t),c):n},c.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:fl(+t),c):i},c.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:fl(+t),c):r},c.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:fl(+t),c):o},c.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:fl(+t),c):s},c.context=function(t){return arguments.length?(a=null==t?null:t,c):a},c}function Ll(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Rl(t){this._context=t}function Bl(t){return new Rl(t)}function Fl(t){return t[0]}function jl(t){return t[1]}function $l(t,e){var n=fl(!0),i=null,r=Bl,o=null;function s(s){var a,c,l,u=(s=Ll(s)).length,h=!1;for(null==i&&(o=r(l=Go())),a=0;a<=u;++a)!(a<u&&n(c=s[a],a,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(c,a,s),+e(c,a,s));if(l)return o=null,l+""||null}return t="function"==typeof t?t:void 0===t?Fl:fl(t),e="function"==typeof e?e:void 0===e?jl:fl(e),s.x=function(e){return arguments.length?(t="function"==typeof e?e:fl(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:fl(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:fl(!!t),s):n},s.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),s):r},s.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),s):i},s}function Vl(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function zl(t){return t}function Hl(){var t=zl,e=Vl,n=null,i=fl(0),r=fl(El),o=fl(0);function s(s){var a,c,l,u,h,d=(s=Ll(s)).length,f=0,g=new Array(d),p=new Array(d),m=+i.apply(this,arguments),b=Math.min(El,Math.max(-El,r.apply(this,arguments)-m)),w=Math.min(Math.abs(b)/d,o.apply(this,arguments)),y=w*(b<0?-1:1);for(a=0;a<d;++a)(h=p[g[a]=a]=+t(s[a],a,s))>0&&(f+=h);for(null!=e?g.sort((function(t,n){return e(p[t],p[n])})):null!=n&&g.sort((function(t,e){return n(s[t],s[e])})),a=0,l=f?(b-d*y)/f:0;a<d;++a,m=u)c=g[a],u=m+((h=p[c])>0?h*l:0)+y,p[c]={data:s[c],index:a,value:h,startAngle:m,endAngle:u,padAngle:w};return p}return s.value=function(e){return arguments.length?(t="function"==typeof e?e:fl(+e),s):t},s.sortValues=function(t){return arguments.length?(e=t,n=null,s):e},s.sort=function(t){return arguments.length?(n=t,e=null,s):n},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:fl(+t),s):i},s.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:fl(+t),s):r},s.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:fl(+t),s):o},s}Rl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};class Ul{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}function ql(t){return new Ul(t,!0)}function Wl(t){return new Ul(t,!1)}function Gl(){}function Kl(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Yl(t){this._context=t}function Xl(t){return new Yl(t)}function Zl(t){this._context=t}function Ql(t){return new Zl(t)}function Jl(t){this._context=t}function tu(t){return new Jl(t)}function eu(t,e){this._basis=new Yl(t),this._beta=e}Yl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kl(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Zl.prototype={areaStart:Gl,areaEnd:Gl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Kl(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Jl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Kl(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},eu.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],o=e[0],s=t[n]-r,a=e[n]-o,c=-1;++c<=n;)i=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(r+i*s),this._beta*e[c]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const nu=function t(e){function n(t){return 1===e?new Yl(t):new eu(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function iu(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function ru(t,e){this._context=t,this._k=(1-e)/6}ru.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:iu(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:iu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ou=function t(e){function n(t){return new ru(t,e)}return n.tension=function(e){return t(+e)},n}(0);function su(t,e){this._context=t,this._k=(1-e)/6}su.prototype={areaStart:Gl,areaEnd:Gl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:iu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const au=function t(e){function n(t){return new su(t,e)}return n.tension=function(e){return t(+e)},n}(0);function cu(t,e){this._context=t,this._k=(1-e)/6}cu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:iu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const lu=function t(e){function n(t){return new cu(t,e)}return n.tension=function(e){return t(+e)},n}(0);function uu(t,e,n){var i=t._x1,r=t._y1,o=t._x2,s=t._y2;if(t._l01_a>_l){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>_l){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/u,s=(s*l+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(i,r,o,s,t._x2,t._y2)}function hu(t,e){this._context=t,this._alpha=e}hu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:uu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const du=function t(e){function n(t){return e?new hu(t,e):new ru(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function fu(t,e){this._context=t,this._alpha=e}fu.prototype={areaStart:Gl,areaEnd:Gl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:uu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const gu=function t(e){function n(t){return e?new fu(t,e):new su(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function pu(t,e){this._context=t,this._alpha=e}pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:uu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const mu=function t(e){function n(t){return e?new pu(t,e):new cu(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function bu(t){this._context=t}function wu(t){return new bu(t)}function yu(t){return t<0?-1:1}function vu(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),s=(n-t._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(yu(o)+yu(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function _u(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ku(t,e,n){var i=t._x0,r=t._y0,o=t._x1,s=t._y1,a=(o-i)/3;t._context.bezierCurveTo(i+a,r+a*e,o-a,s-a*n,o,s)}function xu(t){this._context=t}function Eu(t){this._context=new Tu(t)}function Tu(t){this._context=t}function Cu(t){return new xu(t)}function Au(t){return new Eu(t)}function Su(t){this._context=t}function Iu(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),s=new Array(i);for(r[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(r[i-1]=s[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(s[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function Mu(t){return new Su(t)}function Pu(t,e){this._context=t,this._t=e}function Ou(t){return new Pu(t,.5)}function Du(t){return new Pu(t,0)}function Nu(t){return new Pu(t,1)}function Lu(t,e,n){this.k=t,this.x=e,this.y=n}
/*! @license DOMPurify 2.4.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.3/LICENSE */
function Ru(t){return(Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bu(t,e){return(Bu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ju(t,e,n){return(ju=Fu()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Bu(r,n.prototype),r}).apply(null,arguments)}function $u(t){return Vu(t)||zu(t)||Hu(t)||qu()}function Vu(t){if(Array.isArray(t))return Uu(t)}function zu(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Hu(t,e){if(t){if("string"==typeof t)return Uu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uu(t,e):void 0}}function Uu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function qu(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}bu.prototype={areaStart:Gl,areaEnd:Gl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},xu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ku(this,this._t0,_u(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ku(this,_u(this,n=vu(this,t,e)),n);break;default:ku(this,this._t0,n=vu(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Eu.prototype=Object.create(xu.prototype)).point=function(t,e){xu.prototype.point.call(this,e,t)},Tu.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},Su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=Iu(t),r=Iu(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},Lu.prototype={constructor:Lu,scale:function(t){return 1===t?this:new Lu(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Lu(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Lu.prototype;var Wu=Object.hasOwnProperty,Gu=Object.setPrototypeOf,Ku=Object.isFrozen,Yu=Object.getPrototypeOf,Xu=Object.getOwnPropertyDescriptor,Zu=Object.freeze,Qu=Object.seal,Ju=Object.create,th="undefined"!=typeof Reflect&&Reflect,eh=th.apply,nh=th.construct;eh||(eh=function(t,e,n){return t.apply(e,n)}),Zu||(Zu=function(t){return t}),Qu||(Qu=function(t){return t}),nh||(nh=function(t,e){return ju(t,$u(e))});var ih=gh(Array.prototype.forEach),rh=gh(Array.prototype.pop),oh=gh(Array.prototype.push),sh=gh(String.prototype.toLowerCase),ah=gh(String.prototype.toString),ch=gh(String.prototype.match),lh=gh(String.prototype.replace),uh=gh(String.prototype.indexOf),hh=gh(String.prototype.trim),dh=gh(RegExp.prototype.test),fh=ph(TypeError);function gh(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return eh(t,e,i)}}function ph(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return nh(t,n)}}function mh(t,e,n){n=n||sh,Gu&&Gu(t,null);for(var i=e.length;i--;){var r=e[i];if("string"==typeof r){var o=n(r);o!==r&&(Ku(e)||(e[i]=o),r=o)}t[r]=!0}return t}function bh(t){var e,n=Ju(null);for(e in t)!0===eh(Wu,t,[e])&&(n[e]=t[e]);return n}function wh(t,e){for(;null!==t;){var n=Xu(t,e);if(n){if(n.get)return gh(n.get);if("function"==typeof n.value)return gh(n.value)}t=Yu(t)}function i(t){return console.warn("fallback value for",t),null}return i}var yh=Zu(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),vh=Zu(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_h=Zu(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),kh=Zu(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xh=Zu(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Eh=Zu(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Th=Zu(["#text"]),Ch=Zu(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ah=Zu(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Sh=Zu(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ih=Zu(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Mh=Qu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ph=Qu(/<%[\w\W]*|[\w\W]*%>/gm),Oh=Qu(/\${[\w\W]*}/gm),Dh=Qu(/^data-[\-\w.\u00B7-\uFFFF]/),Nh=Qu(/^aria-[\-\w]+$/),Lh=Qu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Rh=Qu(/^(?:\w+script|data):/i),Bh=Qu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Fh=Qu(/^html$/i),jh=function(){return"undefined"==typeof window?null:window},$h=function(t,e){if("object"!==Ru(t)||"function"!=typeof t.createPolicy)return null;var n=null,i="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(i)&&(n=e.currentScript.getAttribute(i));var r="dompurify"+(n?"#"+n:"");try{return t.createPolicy(r,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function Vh(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jh(),e=function(t){return Vh(t)};if(e.version="2.4.3",e.removed=[],!t||!t.document||9!==t.document.nodeType)return e.isSupported=!1,e;var n=t.document,i=t.document,r=t.DocumentFragment,o=t.HTMLTemplateElement,s=t.Node,a=t.Element,c=t.NodeFilter,l=t.NamedNodeMap,u=void 0===l?t.NamedNodeMap||t.MozNamedAttrMap:l,h=t.HTMLFormElement,d=t.DOMParser,f=t.trustedTypes,g=a.prototype,p=wh(g,"cloneNode"),m=wh(g,"nextSibling"),b=wh(g,"childNodes"),w=wh(g,"parentNode");if("function"==typeof o){var y=i.createElement("template");y.content&&y.content.ownerDocument&&(i=y.content.ownerDocument)}var v=$h(f,n),_=v?v.createHTML(""):"",k=i,x=k.implementation,E=k.createNodeIterator,T=k.createDocumentFragment,C=k.getElementsByTagName,A=n.importNode,S={};try{S=bh(i).documentMode?i.documentMode:{}}catch(t){}var I={};e.isSupported="function"==typeof w&&x&&void 0!==x.createHTMLDocument&&9!==S;var M,P,O=Mh,D=Ph,N=Oh,L=Dh,R=Nh,B=Rh,F=Bh,j=Lh,$=null,V=mh({},[].concat($u(yh),$u(vh),$u(_h),$u(xh),$u(Th))),z=null,H=mh({},[].concat($u(Ch),$u(Ah),$u(Sh),$u(Ih))),U=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,W=null,G=!0,K=!0,Y=!1,X=!1,Z=!1,Q=!1,J=!1,tt=!1,et=!1,nt=!1,it=!0,rt=!1,ot="user-content-",st=!0,at=!1,ct={},lt=null,ut=mh({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ht=null,dt=mh({},["audio","video","img","source","image","track"]),ft=null,gt=mh({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pt="http://www.w3.org/1998/Math/MathML",mt="http://www.w3.org/2000/svg",bt="http://www.w3.org/1999/xhtml",wt=bt,yt=!1,vt=null,_t=mh({},[pt,mt,bt],ah),kt=["application/xhtml+xml","text/html"],xt="text/html",Et=null,Tt=i.createElement("form"),Ct=function(t){return t instanceof RegExp||t instanceof Function},At=function(t){Et&&Et===t||(t&&"object"===Ru(t)||(t={}),t=bh(t),M=M=-1===kt.indexOf(t.PARSER_MEDIA_TYPE)?xt:t.PARSER_MEDIA_TYPE,P="application/xhtml+xml"===M?ah:sh,$="ALLOWED_TAGS"in t?mh({},t.ALLOWED_TAGS,P):V,z="ALLOWED_ATTR"in t?mh({},t.ALLOWED_ATTR,P):H,vt="ALLOWED_NAMESPACES"in t?mh({},t.ALLOWED_NAMESPACES,ah):_t,ft="ADD_URI_SAFE_ATTR"in t?mh(bh(gt),t.ADD_URI_SAFE_ATTR,P):gt,ht="ADD_DATA_URI_TAGS"in t?mh(bh(dt),t.ADD_DATA_URI_TAGS,P):dt,lt="FORBID_CONTENTS"in t?mh({},t.FORBID_CONTENTS,P):ut,q="FORBID_TAGS"in t?mh({},t.FORBID_TAGS,P):{},W="FORBID_ATTR"in t?mh({},t.FORBID_ATTR,P):{},ct="USE_PROFILES"in t&&t.USE_PROFILES,G=!1!==t.ALLOW_ARIA_ATTR,K=!1!==t.ALLOW_DATA_ATTR,Y=t.ALLOW_UNKNOWN_PROTOCOLS||!1,X=t.SAFE_FOR_TEMPLATES||!1,Z=t.WHOLE_DOCUMENT||!1,tt=t.RETURN_DOM||!1,et=t.RETURN_DOM_FRAGMENT||!1,nt=t.RETURN_TRUSTED_TYPE||!1,J=t.FORCE_BODY||!1,it=!1!==t.SANITIZE_DOM,rt=t.SANITIZE_NAMED_PROPS||!1,st=!1!==t.KEEP_CONTENT,at=t.IN_PLACE||!1,j=t.ALLOWED_URI_REGEXP||j,wt=t.NAMESPACE||bt,t.CUSTOM_ELEMENT_HANDLING&&Ct(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&Ct(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(U.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),X&&(K=!1),et&&(tt=!0),ct&&($=mh({},$u(Th)),z=[],!0===ct.html&&(mh($,yh),mh(z,Ch)),!0===ct.svg&&(mh($,vh),mh(z,Ah),mh(z,Ih)),!0===ct.svgFilters&&(mh($,_h),mh(z,Ah),mh(z,Ih)),!0===ct.mathMl&&(mh($,xh),mh(z,Sh),mh(z,Ih))),t.ADD_TAGS&&($===V&&($=bh($)),mh($,t.ADD_TAGS,P)),t.ADD_ATTR&&(z===H&&(z=bh(z)),mh(z,t.ADD_ATTR,P)),t.ADD_URI_SAFE_ATTR&&mh(ft,t.ADD_URI_SAFE_ATTR,P),t.FORBID_CONTENTS&&(lt===ut&&(lt=bh(lt)),mh(lt,t.FORBID_CONTENTS,P)),st&&($["#text"]=!0),Z&&mh($,["html","head","body"]),$.table&&(mh($,["tbody"]),delete q.tbody),Zu&&Zu(t),Et=t)},St=mh({},["mi","mo","mn","ms","mtext"]),It=mh({},["foreignobject","desc","title","annotation-xml"]),Mt=mh({},["title","style","font","a","script"]),Pt=mh({},vh);mh(Pt,_h),mh(Pt,kh);var Ot=mh({},xh);mh(Ot,Eh);var Dt=function(t){var e=w(t);e&&e.tagName||(e={namespaceURI:wt,tagName:"template"});var n=sh(t.tagName),i=sh(e.tagName);return!!vt[t.namespaceURI]&&(t.namespaceURI===mt?e.namespaceURI===bt?"svg"===n:e.namespaceURI===pt?"svg"===n&&("annotation-xml"===i||St[i]):Boolean(Pt[n]):t.namespaceURI===pt?e.namespaceURI===bt?"math"===n:e.namespaceURI===mt?"math"===n&&It[i]:Boolean(Ot[n]):t.namespaceURI===bt?!(e.namespaceURI===mt&&!It[i])&&!(e.namespaceURI===pt&&!St[i])&&!Ot[n]&&(Mt[n]||!Pt[n]):!("application/xhtml+xml"!==M||!vt[t.namespaceURI]))},Nt=function(t){oh(e.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=_}catch(e){t.remove()}}},Lt=function(t,n){try{oh(e.removed,{attribute:n.getAttributeNode(t),from:n})}catch(t){oh(e.removed,{attribute:null,from:n})}if(n.removeAttribute(t),"is"===t&&!z[t])if(tt||et)try{Nt(n)}catch(t){}else try{n.setAttribute(t,"")}catch(t){}},Rt=function(t){var e,n;if(J)t="<remove></remove>"+t;else{var r=ch(t,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===M&&wt===bt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var o=v?v.createHTML(t):t;if(wt===bt)try{e=(new d).parseFromString(o,M)}catch(t){}if(!e||!e.documentElement){e=x.createDocument(wt,"template",null);try{e.documentElement.innerHTML=yt?_:o}catch(t){}}var s=e.body||e.documentElement;return t&&n&&s.insertBefore(i.createTextNode(n),s.childNodes[0]||null),wt===bt?C.call(e,Z?"html":"body")[0]:Z?e.documentElement:s},Bt=function(t){return E.call(t.ownerDocument||t,t,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Ft=function(t){return t instanceof h&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof u)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},jt=function(t){return"object"===Ru(s)?t instanceof s:t&&"object"===Ru(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},$t=function(t,n,i){I[t]&&ih(I[t],(function(t){t.call(e,n,i,Et)}))},Vt=function(t){var n;if($t("beforeSanitizeElements",t,null),Ft(t))return Nt(t),!0;if(dh(/[\u0080-\uFFFF]/,t.nodeName))return Nt(t),!0;var i=P(t.nodeName);if($t("uponSanitizeElement",t,{tagName:i,allowedTags:$}),t.hasChildNodes()&&!jt(t.firstElementChild)&&(!jt(t.content)||!jt(t.content.firstElementChild))&&dh(/<[/\w]/g,t.innerHTML)&&dh(/<[/\w]/g,t.textContent))return Nt(t),!0;if("select"===i&&dh(/<template/i,t.innerHTML))return Nt(t),!0;if(!$[i]||q[i]){if(!q[i]&&Ht(i)){if(U.tagNameCheck instanceof RegExp&&dh(U.tagNameCheck,i))return!1;if(U.tagNameCheck instanceof Function&&U.tagNameCheck(i))return!1}if(st&&!lt[i]){var r=w(t)||t.parentNode,o=b(t)||t.childNodes;if(o&&r)for(var s=o.length-1;s>=0;--s)r.insertBefore(p(o[s],!0),m(t))}return Nt(t),!0}return t instanceof a&&!Dt(t)?(Nt(t),!0):"noscript"!==i&&"noembed"!==i||!dh(/<\/no(script|embed)/i,t.innerHTML)?(X&&3===t.nodeType&&(n=t.textContent,n=lh(n,O," "),n=lh(n,D," "),n=lh(n,N," "),t.textContent!==n&&(oh(e.removed,{element:t.cloneNode()}),t.textContent=n)),$t("afterSanitizeElements",t,null),!1):(Nt(t),!0)},zt=function(t,e,n){if(it&&("id"===e||"name"===e)&&(n in i||n in Tt))return!1;if(K&&!W[e]&&dh(L,e));else if(G&&dh(R,e));else if(!z[e]||W[e]){if(!(Ht(t)&&(U.tagNameCheck instanceof RegExp&&dh(U.tagNameCheck,t)||U.tagNameCheck instanceof Function&&U.tagNameCheck(t))&&(U.attributeNameCheck instanceof RegExp&&dh(U.attributeNameCheck,e)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(e))||"is"===e&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&dh(U.tagNameCheck,n)||U.tagNameCheck instanceof Function&&U.tagNameCheck(n))))return!1}else if(ft[e]);else if(dh(j,lh(n,F,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==uh(n,"data:")||!ht[t])if(Y&&!dh(B,lh(n,F,"")));else if(n)return!1;return!0},Ht=function(t){return t.indexOf("-")>0},Ut=function(t){var n,i,r,o;$t("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z};for(o=s.length;o--;){var c=n=s[o],l=c.name,u=c.namespaceURI;if(i="value"===l?n.value:hh(n.value),r=P(l),a.attrName=r,a.attrValue=i,a.keepAttr=!0,a.forceKeepAttr=void 0,$t("uponSanitizeAttribute",t,a),i=a.attrValue,!a.forceKeepAttr&&(Lt(l,t),a.keepAttr))if(dh(/\/>/i,i))Lt(l,t);else{X&&(i=lh(i,O," "),i=lh(i,D," "),i=lh(i,N," "));var h=P(t.nodeName);if(zt(h,r,i)){if(!rt||"id"!==r&&"name"!==r||(Lt(l,t),i=ot+i),v&&"object"===Ru(f)&&"function"==typeof f.getAttributeType)if(u);else switch(f.getAttributeType(h,r)){case"TrustedHTML":i=v.createHTML(i);break;case"TrustedScriptURL":i=v.createScriptURL(i)}try{u?t.setAttributeNS(u,l,i):t.setAttribute(l,i),rh(e.removed)}catch(t){}}}}$t("afterSanitizeAttributes",t,null)}},qt=function t(e){var n,i=Bt(e);for($t("beforeSanitizeShadowDOM",e,null);n=i.nextNode();)$t("uponSanitizeShadowNode",n,null),Vt(n)||(n.content instanceof r&&t(n.content),Ut(n));$t("afterSanitizeShadowDOM",e,null)};return e.sanitize=function(i){var o,a,c,l,u,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((yt=!i)&&(i="\x3c!--\x3e"),"string"!=typeof i&&!jt(i)){if("function"!=typeof i.toString)throw fh("toString is not a function");if("string"!=typeof(i=i.toString()))throw fh("dirty is not a string, aborting")}if(!e.isSupported){if("object"===Ru(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof i)return t.toStaticHTML(i);if(jt(i))return t.toStaticHTML(i.outerHTML)}return i}if(Q||At(h),e.removed=[],"string"==typeof i&&(at=!1),at){if(i.nodeName){var d=P(i.nodeName);if(!$[d]||q[d])throw fh("root node is forbidden and cannot be sanitized in-place")}}else if(i instanceof s)1===(a=(o=Rt("\x3c!----\x3e")).ownerDocument.importNode(i,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?o=a:o.appendChild(a);else{if(!tt&&!X&&!Z&&-1===i.indexOf("<"))return v&&nt?v.createHTML(i):i;if(!(o=Rt(i)))return tt?null:nt?_:""}o&&J&&Nt(o.firstChild);for(var f=Bt(at?i:o);c=f.nextNode();)3===c.nodeType&&c===l||Vt(c)||(c.content instanceof r&&qt(c.content),Ut(c),l=c);if(l=null,at)return i;if(tt){if(et)for(u=T.call(o.ownerDocument);o.firstChild;)u.appendChild(o.firstChild);else u=o;return z.shadowroot&&(u=A.call(n,u,!0)),u}var g=Z?o.outerHTML:o.innerHTML;return Z&&$["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&dh(Fh,o.ownerDocument.doctype.name)&&(g="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+g),X&&(g=lh(g,O," "),g=lh(g,D," "),g=lh(g,N," ")),v&&nt?v.createHTML(g):g},e.setConfig=function(t){At(t),Q=!0},e.clearConfig=function(){Et=null,Q=!1},e.isValidAttribute=function(t,e,n){Et||At({});var i=P(t),r=P(e);return zt(i,r,n)},e.addHook=function(t,e){"function"==typeof e&&(I[t]=I[t]||[],oh(I[t],e))},e.removeHook=function(t){if(I[t])return rh(I[t])},e.removeHooks=function(t){I[t]&&(I[t]=[])},e.removeAllHooks=function(){I={}},e}var zh=Vh();const Hh=t=>t?Xh(t).replace(/\\n/g,"#br#").split("#br#"):[""],Uh=t=>zh.sanitize(t),qh=(t,e)=>{var n;if(!1!==(null==(n=e.flowchart)?void 0:n.htmlLabels)){const n=e.securityLevel;"antiscript"===n||"strict"===n?t=Uh(t):"loose"!==n&&(t=(t=(t=Xh(t)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),t=Yh(t))}return t},Wh=(t,e)=>t?t=e.dompurifyConfig?zh.sanitize(qh(t,e),e.dompurifyConfig).toString():zh.sanitize(qh(t,e),{FORBID_TAGS:["style"]}).toString():t,Gh=(t,e)=>"string"==typeof t?Wh(t,e):t.flat().map((t=>Wh(t,e))),Kh=/<br\s*\/?>/gi,Yh=t=>t.replace(/#br#/g,"<br/>"),Xh=t=>t.replace(Kh,"#br#"),Zh=t=>!1!==t&&!["false","null","0"].includes(String(t).trim().toLowerCase()),Qh=function(t){let e=t;if(t.split("~").length-1>=2){let t=e;do{e=t,t=e.replace(/~([^\s,:;]+)~/,"<$1>")}while(t!=e);return Qh(t)}return e},Jh={getRows:Hh,sanitizeText:Wh,sanitizeTextOrArray:Gh,hasBreaks:t=>Kh.test(t),splitBreaks:t=>t.split(Kh),lineBreakRegex:Kh,removeScript:Uh,getUrl:t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=e.replaceAll(/\(/g,"\\("),e=e.replaceAll(/\)/g,"\\)")),e},evaluate:Zh},td={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},i)=>{if(!e)return 2.55*n;t/=360,e/=100;const r=(n/=100)<.5?n*(1+e):n+e-n*e,o=2*n-r;switch(i){case"r":return 255*td.hue2rgb(o,r,t+1/3);case"g":return 255*td.hue2rgb(o,r,t);case"b":return 255*td.hue2rgb(o,r,t-1/3)}},rgb2hsl:({r:t,g:e,b:n},i)=>{t/=255,e/=255,n/=255;const r=Math.max(t,e,n),o=Math.min(t,e,n),s=(r+o)/2;if("l"===i)return 100*s;if(r===o)return 0;const a=r-o;if("s"===i)return 100*(s>.5?a/(2-r-o):a/(r+o));switch(r){case t:return 60*((e-n)/a+(e<n?6:0));case e:return 60*((n-t)/a+2);case n:return 60*((t-e)/a+4);default:return-1}}},ed={channel:td,lang:{clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(1e10*t)/1e10},unit:{dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}}},nd={};for(let t=0;t<=255;t++)nd[t]=ed.unit.dec2hex(t);const id={ALL:0,RGB:1,HSL:2};class rd{constructor(){this.type=id.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=id.ALL}is(t){return this.type===t}}const od=rd;class sd{constructor(t,e){this.color=e,this.changed=!1,this.data=t,this.type=new od}set(t,e){return this.color=e,this.changed=!1,this.data=t,this.type.type=id.ALL,this}_ensureHSL(){const t=this.data,{h:e,s:n,l:i}=t;void 0===e&&(t.h=ed.channel.rgb2hsl(t,"h")),void 0===n&&(t.s=ed.channel.rgb2hsl(t,"s")),void 0===i&&(t.l=ed.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r:e,g:n,b:i}=t;void 0===e&&(t.r=ed.channel.hsl2rgb(t,"r")),void 0===n&&(t.g=ed.channel.hsl2rgb(t,"g")),void 0===i&&(t.b=ed.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,e=t.r;return this.type.is(id.HSL)||void 0===e?(this._ensureHSL(),ed.channel.hsl2rgb(t,"r")):e}get g(){const t=this.data,e=t.g;return this.type.is(id.HSL)||void 0===e?(this._ensureHSL(),ed.channel.hsl2rgb(t,"g")):e}get b(){const t=this.data,e=t.b;return this.type.is(id.HSL)||void 0===e?(this._ensureHSL(),ed.channel.hsl2rgb(t,"b")):e}get h(){const t=this.data,e=t.h;return this.type.is(id.RGB)||void 0===e?(this._ensureRGB(),ed.channel.rgb2hsl(t,"h")):e}get s(){const t=this.data,e=t.s;return this.type.is(id.RGB)||void 0===e?(this._ensureRGB(),ed.channel.rgb2hsl(t,"s")):e}get l(){const t=this.data,e=t.l;return this.type.is(id.RGB)||void 0===e?(this._ensureRGB(),ed.channel.rgb2hsl(t,"l")):e}get a(){return this.data.a}set r(t){this.type.set(id.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(id.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(id.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(id.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(id.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(id.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const ad=new sd({r:0,g:0,b:0,a:0},"transparent"),cd={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(35!==t.charCodeAt(0))return;const e=t.match(cd.re);if(!e)return;const n=e[1],i=parseInt(n,16),r=n.length,o=r%4==0,s=r>4,a=s?1:17,c=s?8:4,l=o?0:-1,u=s?255:15;return ad.set({r:(i>>c*(l+3)&u)*a,g:(i>>c*(l+2)&u)*a,b:(i>>c*(l+1)&u)*a,a:o?(i&u)*a/255:1},t)},stringify:t=>{const{r:e,g:n,b:i,a:r}=t;return r<1?`#${nd[Math.round(e)]}${nd[Math.round(n)]}${nd[Math.round(i)]}${nd[Math.round(255*r)]}`:`#${nd[Math.round(e)]}${nd[Math.round(n)]}${nd[Math.round(i)]}`}},ld=cd,ud={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(ud.hueRe);if(e){const[,t,n]=e;switch(n){case"grad":return ed.channel.clamp.h(.9*parseFloat(t));case"rad":return ed.channel.clamp.h(180*parseFloat(t)/Math.PI);case"turn":return ed.channel.clamp.h(360*parseFloat(t))}}return ed.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(104!==e&&72!==e)return;const n=t.match(ud.re);if(!n)return;const[,i,r,o,s,a]=n;return ad.set({h:ud._hue2deg(i),s:ed.channel.clamp.s(parseFloat(r)),l:ed.channel.clamp.l(parseFloat(o)),a:s?ed.channel.clamp.a(a?parseFloat(s)/100:parseFloat(s)):1},t)},stringify:t=>{const{h:e,s:n,l:i,a:r}=t;return r<1?`hsla(${ed.lang.round(e)}, ${ed.lang.round(n)}%, ${ed.lang.round(i)}%, ${r})`:`hsl(${ed.lang.round(e)}, ${ed.lang.round(n)}%, ${ed.lang.round(i)}%)`}},hd=ud,dd={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=dd.colors[t];if(e)return ld.parse(e)},stringify:t=>{const e=ld.stringify(t);for(const t in dd.colors)if(dd.colors[t]===e)return t}},fd=dd,gd={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(114!==e&&82!==e)return;const n=t.match(gd.re);if(!n)return;const[,i,r,o,s,a,c,l,u]=n;return ad.set({r:ed.channel.clamp.r(r?2.55*parseFloat(i):parseFloat(i)),g:ed.channel.clamp.g(s?2.55*parseFloat(o):parseFloat(o)),b:ed.channel.clamp.b(c?2.55*parseFloat(a):parseFloat(a)),a:l?ed.channel.clamp.a(u?parseFloat(l)/100:parseFloat(l)):1},t)},stringify:t=>{const{r:e,g:n,b:i,a:r}=t;return r<1?`rgba(${ed.lang.round(e)}, ${ed.lang.round(n)}, ${ed.lang.round(i)}, ${ed.lang.round(r)})`:`rgb(${ed.lang.round(e)}, ${ed.lang.round(n)}, ${ed.lang.round(i)})`}},pd=gd,md={format:{keyword:fd,hex:ld,rgb:pd,rgba:pd,hsl:hd,hsla:hd},parse:t=>{if("string"!=typeof t)return t;const e=ld.parse(t)||pd.parse(t)||hd.parse(t)||fd.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(id.HSL)||void 0===t.data.r?hd.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?pd.stringify(t):ld.stringify(t)},bd=(t,e)=>{const n=md.parse(t);for(const t in e)n[t]=ed.channel.clamp[t](e[t]);return md.stringify(n)},wd=(t,e,n=0,i=1)=>{if("number"!=typeof t)return bd(t,{a:e});const r=ad.set({r:ed.channel.clamp.r(t),g:ed.channel.clamp.g(e),b:ed.channel.clamp.b(n),a:ed.channel.clamp.a(i)});return md.stringify(r)},yd=t=>{const{r:e,g:n,b:i}=md.parse(t),r=.2126*ed.channel.toLinear(e)+.7152*ed.channel.toLinear(n)+.0722*ed.channel.toLinear(i);return ed.lang.round(r)},vd=t=>yd(t)>=.5,_d=t=>!vd(t),kd=(t,e,n)=>{const i=md.parse(t),r=i[e],o=ed.channel.clamp[e](r+n);return r!==o&&(i[e]=o),md.stringify(i)},xd=(t,e)=>kd(t,"l",e),Ed=(t,e)=>kd(t,"l",-e),Td=(t,e)=>{const n=md.parse(t),i={};for(const t in e)e[t]&&(i[t]=n[t]+e[t]);return bd(t,i)},Cd=(t,e,n=50)=>{const{r:i,g:r,b:o,a:s}=md.parse(t),{r:a,g:c,b:l,a:u}=md.parse(e),h=n/100,d=2*h-1,f=s-u,g=((d*f==-1?d:(d+f)/(1+d*f))+1)/2,p=1-g;return wd(i*g+a*p,r*g+c*p,o*g+l*p,s*h+u*(1-h))},Ad=(t,e=100)=>{const n=md.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,Cd(n,t,e)},Sd=(t,e)=>Td(t,e?{s:-40,l:10}:{s:-40,l:-10}),Id="#ffffff",Md="#f2f2f2";let Pd=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Td(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Td(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Sd(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Sd(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Sd(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Sd(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Ad(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Ad(this.tertiaryColor),this.lineColor=this.lineColor||Ad(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Ed(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Ed(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Ad(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||xd(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Td(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Td(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Td(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Td(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Td(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Td(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Td(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Td(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Td(this.primaryColor,{h:330}),this.darkMode)for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Ed(this["cScale"+t],75);else for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Ed(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Ad(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||xd(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||Ed(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Td(this.mainBkg,{h:180,s:-15,l:t*(5+3*e)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Td(this.mainBkg,{h:180,s:-15,l:t*(8+3*e)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Td(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Td(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Td(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Td(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Td(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Td(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Td(this.primaryColor,{l:-10}),this.pie5=this.pie5||Td(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Td(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Td(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Td(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Td(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Td(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Td(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Td(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ed(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Td(this.primaryColor,{h:-30}),this.git4=this.git4||Td(this.primaryColor,{h:-60}),this.git5=this.git5||Td(this.primaryColor,{h:-90}),this.git6=this.git6||Td(this.primaryColor,{h:60}),this.git7=this.git7||Td(this.primaryColor,{h:120}),this.darkMode?(this.git0=xd(this.git0,25),this.git1=xd(this.git1,25),this.git2=xd(this.git2,25),this.git3=xd(this.git3,25),this.git4=xd(this.git4,25),this.git5=xd(this.git5,25),this.git6=xd(this.git6,25),this.git7=xd(this.git7,25)):(this.git0=Ed(this.git0,25),this.git1=Ed(this.git1,25),this.git2=Ed(this.git2,25),this.git3=Ed(this.git3,25),this.git4=Ed(this.git4,25),this.git5=Ed(this.git5,25),this.git6=Ed(this.git6,25),this.git7=Ed(this.git7,25)),this.gitInv0=this.gitInv0||Ad(this.git0),this.gitInv1=this.gitInv1||Ad(this.git1),this.gitInv2=this.gitInv2||Ad(this.git2),this.gitInv3=this.gitInv3||Ad(this.git3),this.gitInv4=this.gitInv4||Ad(this.git4),this.gitInv5=this.gitInv5||Ad(this.git5),this.gitInv6=this.gitInv6||Ad(this.git6),this.gitInv7=this.gitInv7||Ad(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Id,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Md}calculate(t){if("object"!=typeof t)return void this.updateColors();const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]})),this.updateColors(),e.forEach((e=>{this[e]=t[e]}))}};const Od=t=>{const e=new Pd;return e.calculate(t),e};let Dd=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=xd(this.primaryColor,16),this.tertiaryColor=Td(this.primaryColor,{h:-160}),this.primaryBorderColor=Ad(this.background),this.secondaryBorderColor=Sd(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Sd(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ad(this.primaryColor),this.secondaryTextColor=Ad(this.secondaryColor),this.tertiaryTextColor=Ad(this.tertiaryColor),this.lineColor=Ad(this.background),this.textColor=Ad(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=xd(Ad("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=wd(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Ed("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=wd(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=wd(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=xd(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=xd(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=xd(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Td(this.primaryColor,{h:64}),this.fillType3=Td(this.secondaryColor,{h:64}),this.fillType4=Td(this.primaryColor,{h:-64}),this.fillType5=Td(this.secondaryColor,{h:-64}),this.fillType6=Td(this.primaryColor,{h:128}),this.fillType7=Td(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Td(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Td(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Td(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Td(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Td(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Td(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Td(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Td(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Td(this.primaryColor,{h:330});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Ad(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScalePeer"+t]=this["cScalePeer"+t]||xd(this["cScale"+t],10);for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Td(this.mainBkg,{h:30,s:-30,l:-(4*t-10)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Td(this.mainBkg,{h:30,s:-30,l:-(4*t-7)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ed(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=xd(this.secondaryColor,20),this.git1=xd(this.pie2||this.secondaryColor,20),this.git2=xd(this.pie3||this.tertiaryColor,20),this.git3=xd(this.pie4||Td(this.primaryColor,{h:-30}),20),this.git4=xd(this.pie5||Td(this.primaryColor,{h:-60}),20),this.git5=xd(this.pie6||Td(this.primaryColor,{h:-90}),10),this.git6=xd(this.pie7||Td(this.primaryColor,{h:60}),10),this.git7=xd(this.pie8||Td(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Ad(this.git0),this.gitInv1=this.gitInv1||Ad(this.git1),this.gitInv2=this.gitInv2||Ad(this.git2),this.gitInv3=this.gitInv3||Ad(this.git3),this.gitInv4=this.gitInv4||Ad(this.git4),this.gitInv5=this.gitInv5||Ad(this.git5),this.gitInv6=this.gitInv6||Ad(this.git6),this.gitInv7=this.gitInv7||Ad(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||xd(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||xd(this.background,2)}calculate(t){if("object"!=typeof t)return void this.updateColors();const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]})),this.updateColors(),e.forEach((e=>{this[e]=t[e]}))}};const Nd=t=>{const e=new Dd;return e.calculate(t),e};let Ld=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Td(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Td(this.primaryColor,{h:-160}),this.primaryBorderColor=Sd(this.primaryColor,this.darkMode),this.secondaryBorderColor=Sd(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Sd(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ad(this.primaryColor),this.secondaryTextColor=Ad(this.secondaryColor),this.tertiaryTextColor=Ad(this.tertiaryColor),this.lineColor=Ad(this.background),this.textColor=Ad(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=wd(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Td(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Td(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Td(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Td(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Td(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Td(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Td(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Td(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Td(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ed(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ed(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Ed(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||Ed(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Td(this["cScale"+t],{h:180});for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Td(this.mainBkg,{h:30,l:-(5+5*t)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Td(this.mainBkg,{h:30,l:-(7+5*t)});if(this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,"calculated"!==this.labelTextColor){this.cScaleLabel0=this.cScaleLabel0||Ad(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Ad(this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=xd(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Td(this.primaryColor,{h:64}),this.fillType3=Td(this.secondaryColor,{h:64}),this.fillType4=Td(this.primaryColor,{h:-64}),this.fillType5=Td(this.secondaryColor,{h:-64}),this.fillType6=Td(this.primaryColor,{h:128}),this.fillType7=Td(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Td(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Td(this.primaryColor,{l:-10}),this.pie5=this.pie5||Td(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Td(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Td(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Td(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Td(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Td(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Td(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Td(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Td(this.primaryColor,{h:-30}),this.git4=this.git4||Td(this.primaryColor,{h:-60}),this.git5=this.git5||Td(this.primaryColor,{h:-90}),this.git6=this.git6||Td(this.primaryColor,{h:60}),this.git7=this.git7||Td(this.primaryColor,{h:120}),this.darkMode?(this.git0=xd(this.git0,25),this.git1=xd(this.git1,25),this.git2=xd(this.git2,25),this.git3=xd(this.git3,25),this.git4=xd(this.git4,25),this.git5=xd(this.git5,25),this.git6=xd(this.git6,25),this.git7=xd(this.git7,25)):(this.git0=Ed(this.git0,25),this.git1=Ed(this.git1,25),this.git2=Ed(this.git2,25),this.git3=Ed(this.git3,25),this.git4=Ed(this.git4,25),this.git5=Ed(this.git5,25),this.git6=Ed(this.git6,25),this.git7=Ed(this.git7,25)),this.gitInv0=this.gitInv0||Ed(Ad(this.git0),25),this.gitInv1=this.gitInv1||Ad(this.git1),this.gitInv2=this.gitInv2||Ad(this.git2),this.gitInv3=this.gitInv3||Ad(this.git3),this.gitInv4=this.gitInv4||Ad(this.git4),this.gitInv5=this.gitInv5||Ad(this.git5),this.gitInv6=this.gitInv6||Ad(this.git6),this.gitInv7=this.gitInv7||Ad(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ad(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ad(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Id,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Md}calculate(t){if("object"!=typeof t)return void this.updateColors();const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]})),this.updateColors(),e.forEach((e=>{this[e]=t[e]}))}};const Rd=t=>{const e=new Ld;return e.calculate(t),e};let Bd=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=xd("#cde498",10),this.primaryBorderColor=Sd(this.primaryColor,this.darkMode),this.secondaryBorderColor=Sd(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Sd(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ad(this.primaryColor),this.secondaryTextColor=Ad(this.secondaryColor),this.tertiaryTextColor=Ad(this.primaryColor),this.lineColor=Ad(this.background),this.textColor=Ad(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Td(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Td(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Td(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Td(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Td(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Td(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Td(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Td(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Td(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ed(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ed(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Ed(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||Ed(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Td(this["cScale"+t],{h:180});this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Td(this.mainBkg,{h:30,s:-30,l:-(5+5*t)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Td(this.mainBkg,{h:30,s:-30,l:-(8+5*t)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=Ed(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Td(this.primaryColor,{h:64}),this.fillType3=Td(this.secondaryColor,{h:64}),this.fillType4=Td(this.primaryColor,{h:-64}),this.fillType5=Td(this.secondaryColor,{h:-64}),this.fillType6=Td(this.primaryColor,{h:128}),this.fillType7=Td(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Td(this.primaryColor,{l:-30}),this.pie5=this.pie5||Td(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Td(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Td(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Td(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Td(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Td(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Td(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Td(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Td(this.primaryColor,{h:-30}),this.git4=this.git4||Td(this.primaryColor,{h:-60}),this.git5=this.git5||Td(this.primaryColor,{h:-90}),this.git6=this.git6||Td(this.primaryColor,{h:60}),this.git7=this.git7||Td(this.primaryColor,{h:120}),this.darkMode?(this.git0=xd(this.git0,25),this.git1=xd(this.git1,25),this.git2=xd(this.git2,25),this.git3=xd(this.git3,25),this.git4=xd(this.git4,25),this.git5=xd(this.git5,25),this.git6=xd(this.git6,25),this.git7=xd(this.git7,25)):(this.git0=Ed(this.git0,25),this.git1=Ed(this.git1,25),this.git2=Ed(this.git2,25),this.git3=Ed(this.git3,25),this.git4=Ed(this.git4,25),this.git5=Ed(this.git5,25),this.git6=Ed(this.git6,25),this.git7=Ed(this.git7,25)),this.gitInv0=this.gitInv0||Ad(this.git0),this.gitInv1=this.gitInv1||Ad(this.git1),this.gitInv2=this.gitInv2||Ad(this.git2),this.gitInv3=this.gitInv3||Ad(this.git3),this.gitInv4=this.gitInv4||Ad(this.git4),this.gitInv5=this.gitInv5||Ad(this.git5),this.gitInv6=this.gitInv6||Ad(this.git6),this.gitInv7=this.gitInv7||Ad(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Id,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Md}calculate(t){if("object"!=typeof t)return void this.updateColors();const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]})),this.updateColors(),e.forEach((e=>{this[e]=t[e]}))}};const Fd=t=>{const e=new Bd;return e.calculate(t),e};class jd{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=xd(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Td(this.primaryColor,{h:-160}),this.primaryBorderColor=Sd(this.primaryColor,this.darkMode),this.secondaryBorderColor=Sd(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Sd(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ad(this.primaryColor),this.secondaryTextColor=Ad(this.secondaryColor),this.tertiaryTextColor=Ad(this.tertiaryColor),this.lineColor=Ad(this.background),this.textColor=Ad(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=xd(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Ad(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||xd(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||Ed(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Td(this.mainBkg,{l:-(5+5*t)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Td(this.mainBkg,{l:-(8+5*t)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=xd(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=xd(this.contrast,30),this.sectionBkgColor2=xd(this.contrast,30),this.taskBorderColor=Ed(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=xd(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Ed(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Td(this.primaryColor,{h:64}),this.fillType3=Td(this.secondaryColor,{h:64}),this.fillType4=Td(this.primaryColor,{h:-64}),this.fillType5=Td(this.secondaryColor,{h:-64}),this.fillType6=Td(this.primaryColor,{h:128}),this.fillType7=Td(this.secondaryColor,{h:128});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ed(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Td(this.primaryColor,{h:-30}),this.git4=this.pie5||Td(this.primaryColor,{h:-60}),this.git5=this.pie6||Td(this.primaryColor,{h:-90}),this.git6=this.pie7||Td(this.primaryColor,{h:60}),this.git7=this.pie8||Td(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Ad(this.git0),this.gitInv1=this.gitInv1||Ad(this.git1),this.gitInv2=this.gitInv2||Ad(this.git2),this.gitInv3=this.gitInv3||Ad(this.git3),this.gitInv4=this.gitInv4||Ad(this.git4),this.gitInv5=this.gitInv5||Ad(this.git5),this.gitInv6=this.gitInv6||Ad(this.git6),this.gitInv7=this.gitInv7||Ad(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Id,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Md}calculate(t){if("object"!=typeof t)return void this.updateColors();const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]})),this.updateColors(),e.forEach((e=>{this[e]=t[e]}))}}const $d={base:{getThemeVariables:Od},dark:{getThemeVariables:Nd},default:{getThemeVariables:Rd},forest:{getThemeVariables:Fd},neutral:{getThemeVariables:t=>{const e=new jd;return e.calculate(t),e}}},Vd={theme:"default",themeVariables:$d.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",tickInterval:void 0,useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},timeline:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},class:{titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};Vd.class&&(Vd.class.arrowMarkerAbsolute=Vd.arrowMarkerAbsolute),Vd.gitGraph&&(Vd.gitGraph.arrowMarkerAbsolute=Vd.arrowMarkerAbsolute);const zd=(t,e="")=>Object.keys(t).reduce(((n,i)=>Array.isArray(t[i])?n:"object"==typeof t[i]&&null!==t[i]?[...n,e+i,...zd(t[i],"")]:[...n,e+i]),[]),Hd=zd(Vd,""),Ud=Vd;
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
function qd(t){return null==t}function Wd(t){return"object"==typeof t&&null!==t}function Gd(t){return Array.isArray(t)?t:qd(t)?[]:[t]}function Kd(t,e){var n,i,r,o;if(e)for(n=0,i=(o=Object.keys(e)).length;n<i;n+=1)t[r=o[n]]=e[r];return t}function Yd(t,e){var n,i="";for(n=0;n<e;n+=1)i+=t;return i}function Xd(t){return 0===t&&Number.NEGATIVE_INFINITY===1/t}var Zd={isNothing:qd,isObject:Wd,toArray:Gd,repeat:Yd,isNegativeZero:Xd,extend:Kd};function Qd(t,e){var n="",i=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+="\n\n"+t.mark.snippet),i+" "+n):i}function Jd(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=Qd(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}Jd.prototype=Object.create(Error.prototype),Jd.prototype.constructor=Jd,Jd.prototype.toString=function(t){return this.name+": "+Qd(this,t)};var tf=Jd;function ef(t,e,n,i,r){var o="",s="",a=Math.floor(r/2)-1;return i-e>a&&(e=i-a+(o=" ... ").length),n-i>a&&(n=i+a-(s=" ...").length),{str:o+t.slice(e,n).replace(/\t/g,"→")+s,pos:i-e+o.length}}function nf(t,e){return Zd.repeat(" ",e-t.length)+t}function rf(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),"number"!=typeof e.indent&&(e.indent=1),"number"!=typeof e.linesBefore&&(e.linesBefore=3),"number"!=typeof e.linesAfter&&(e.linesAfter=2);for(var n,i=/\r?\n|\r|\0/g,r=[0],o=[],s=-1;n=i.exec(t.buffer);)o.push(n.index),r.push(n.index+n[0].length),t.position<=n.index&&s<0&&(s=r.length-2);s<0&&(s=r.length-1);var a,c,l="",u=Math.min(t.line+e.linesAfter,o.length).toString().length,h=e.maxLength-(e.indent+u+3);for(a=1;a<=e.linesBefore&&!(s-a<0);a++)c=ef(t.buffer,r[s-a],o[s-a],t.position-(r[s]-r[s-a]),h),l=Zd.repeat(" ",e.indent)+nf((t.line-a+1).toString(),u)+" | "+c.str+"\n"+l;for(c=ef(t.buffer,r[s],o[s],t.position,h),l+=Zd.repeat(" ",e.indent)+nf((t.line+1).toString(),u)+" | "+c.str+"\n",l+=Zd.repeat("-",e.indent+u+3+c.pos)+"^\n",a=1;a<=e.linesAfter&&!(s+a>=o.length);a++)c=ef(t.buffer,r[s+a],o[s+a],t.position-(r[s]-r[s+a]),h),l+=Zd.repeat(" ",e.indent)+nf((t.line+a+1).toString(),u)+" | "+c.str+"\n";return l.replace(/\n$/,"")}var of=rf,sf=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],af=["scalar","sequence","mapping"];function cf(t){var e={};return null!==t&&Object.keys(t).forEach((function(n){t[n].forEach((function(t){e[String(t)]=n}))})),e}function lf(t,e){if(e=e||{},Object.keys(e).forEach((function(e){if(-1===sf.indexOf(e))throw new tf('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')})),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=cf(e.styleAliases||null),-1===af.indexOf(this.kind))throw new tf('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var uf=lf;function hf(t,e){var n=[];return t[e].forEach((function(t){var e=n.length;n.forEach((function(n,i){n.tag===t.tag&&n.kind===t.kind&&n.multi===t.multi&&(e=i)})),n[e]=t})),n}function df(){var t,e,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function i(t){t.multi?(n.multi[t.kind].push(t),n.multi.fallback.push(t)):n[t.kind][t.tag]=n.fallback[t.tag]=t}for(t=0,e=arguments.length;t<e;t+=1)arguments[t].forEach(i);return n}function ff(t){return this.extend(t)}ff.prototype.extend=function(t){var e=[],n=[];if(t instanceof uf)n.push(t);else if(Array.isArray(t))n=n.concat(t);else{if(!t||!Array.isArray(t.implicit)&&!Array.isArray(t.explicit))throw new tf("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.implicit&&(e=e.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit))}e.forEach((function(t){if(!(t instanceof uf))throw new tf("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(t.loadKind&&"scalar"!==t.loadKind)throw new tf("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(t.multi)throw new tf("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),n.forEach((function(t){if(!(t instanceof uf))throw new tf("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var i=Object.create(ff.prototype);return i.implicit=(this.implicit||[]).concat(e),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=hf(i,"implicit"),i.compiledExplicit=hf(i,"explicit"),i.compiledTypeMap=df(i.compiledImplicit,i.compiledExplicit),i};var gf=ff,pf=new uf("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return null!==t?t:""}}),mf=new uf("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return null!==t?t:[]}}),bf=new uf("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return null!==t?t:{}}}),wf=new gf({explicit:[pf,mf,bf]});function yf(t){if(null===t)return!0;var e=t.length;return 1===e&&"~"===t||4===e&&("null"===t||"Null"===t||"NULL"===t)}function vf(){return null}function _f(t){return null===t}var kf=new uf("tag:yaml.org,2002:null",{kind:"scalar",resolve:yf,construct:vf,predicate:_f,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function xf(t){if(null===t)return!1;var e=t.length;return 4===e&&("true"===t||"True"===t||"TRUE"===t)||5===e&&("false"===t||"False"===t||"FALSE"===t)}function Ef(t){return"true"===t||"True"===t||"TRUE"===t}function Tf(t){return"[object Boolean]"===Object.prototype.toString.call(t)}var Cf=new uf("tag:yaml.org,2002:bool",{kind:"scalar",resolve:xf,construct:Ef,predicate:Tf,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function Af(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function Sf(t){return 48<=t&&t<=55}function If(t){return 48<=t&&t<=57}function Mf(t){if(null===t)return!1;var e,n=t.length,i=0,r=!1;if(!n)return!1;if("-"!==(e=t[i])&&"+"!==e||(e=t[++i]),"0"===e){if(i+1===n)return!0;if("b"===(e=t[++i])){for(i++;i<n;i++)if("_"!==(e=t[i])){if("0"!==e&&"1"!==e)return!1;r=!0}return r&&"_"!==e}if("x"===e){for(i++;i<n;i++)if("_"!==(e=t[i])){if(!Af(t.charCodeAt(i)))return!1;r=!0}return r&&"_"!==e}if("o"===e){for(i++;i<n;i++)if("_"!==(e=t[i])){if(!Sf(t.charCodeAt(i)))return!1;r=!0}return r&&"_"!==e}}if("_"===e)return!1;for(;i<n;i++)if("_"!==(e=t[i])){if(!If(t.charCodeAt(i)))return!1;r=!0}return!(!r||"_"===e)}function Pf(t){var e,n=t,i=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(e=n[0])&&"+"!==e||("-"===e&&(i=-1),e=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===e){if("b"===n[1])return i*parseInt(n.slice(2),2);if("x"===n[1])return i*parseInt(n.slice(2),16);if("o"===n[1])return i*parseInt(n.slice(2),8)}return i*parseInt(n,10)}function Of(t){return"[object Number]"===Object.prototype.toString.call(t)&&t%1==0&&!Zd.isNegativeZero(t)}var Df=new uf("tag:yaml.org,2002:int",{kind:"scalar",resolve:Mf,construct:Pf,predicate:Of,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Nf=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Lf(t){return null!==t&&!(!Nf.test(t)||"_"===t[t.length-1])}function Rf(t){var e,n;return n="-"===(e=t.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),".inf"===e?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===e?NaN:n*parseFloat(e,10)}var Bf=/^[-+]?[0-9]+e/;function Ff(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Zd.isNegativeZero(t))return"-0.0";return n=t.toString(10),Bf.test(n)?n.replace("e",".e"):n}function jf(t){return"[object Number]"===Object.prototype.toString.call(t)&&(t%1!=0||Zd.isNegativeZero(t))}var $f=new uf("tag:yaml.org,2002:float",{kind:"scalar",resolve:Lf,construct:Rf,predicate:jf,represent:Ff,defaultStyle:"lowercase"}),Vf=wf.extend({implicit:[kf,Cf,Df,$f]}),zf=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Hf=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Uf(t){return null!==t&&(null!==zf.exec(t)||null!==Hf.exec(t))}function qf(t){var e,n,i,r,o,s,a,c,l=0,u=null;if(null===(e=zf.exec(t))&&(e=Hf.exec(t)),null===e)throw new Error("Date resolve error");if(n=+e[1],i=+e[2]-1,r=+e[3],!e[4])return new Date(Date.UTC(n,i,r));if(o=+e[4],s=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(u=6e4*(60*+e[10]+ +(e[11]||0)),"-"===e[9]&&(u=-u)),c=new Date(Date.UTC(n,i,r,o,s,a,l)),u&&c.setTime(c.getTime()-u),c}function Wf(t){return t.toISOString()}var Gf=new uf("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Uf,construct:qf,instanceOf:Date,represent:Wf});function Kf(t){return"<<"===t||null===t}var Yf=new uf("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Kf}),Xf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function Zf(t){if(null===t)return!1;var e,n,i=0,r=t.length,o=Xf;for(n=0;n<r;n++)if(!((e=o.indexOf(t.charAt(n)))>64)){if(e<0)return!1;i+=6}return i%8==0}function Qf(t){var e,n,i=t.replace(/[\r\n=]/g,""),r=i.length,o=Xf,s=0,a=[];for(e=0;e<r;e++)e%4==0&&e&&(a.push(s>>16&255),a.push(s>>8&255),a.push(255&s)),s=s<<6|o.indexOf(i.charAt(e));return 0==(n=r%4*6)?(a.push(s>>16&255),a.push(s>>8&255),a.push(255&s)):18===n?(a.push(s>>10&255),a.push(s>>2&255)):12===n&&a.push(s>>4&255),new Uint8Array(a)}function Jf(t){var e,n,i="",r=0,o=t.length,s=Xf;for(e=0;e<o;e++)e%3==0&&e&&(i+=s[r>>18&63],i+=s[r>>12&63],i+=s[r>>6&63],i+=s[63&r]),r=(r<<8)+t[e];return 0==(n=o%3)?(i+=s[r>>18&63],i+=s[r>>12&63],i+=s[r>>6&63],i+=s[63&r]):2===n?(i+=s[r>>10&63],i+=s[r>>4&63],i+=s[r<<2&63],i+=s[64]):1===n&&(i+=s[r>>2&63],i+=s[r<<4&63],i+=s[64],i+=s[64]),i}function tg(t){return"[object Uint8Array]"===Object.prototype.toString.call(t)}var eg=new uf("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Zf,construct:Qf,predicate:tg,represent:Jf}),ng=Object.prototype.hasOwnProperty,ig=Object.prototype.toString;function rg(t){if(null===t)return!0;var e,n,i,r,o,s=[],a=t;for(e=0,n=a.length;e<n;e+=1){if(i=a[e],o=!1,"[object Object]"!==ig.call(i))return!1;for(r in i)if(ng.call(i,r)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==s.indexOf(r))return!1;s.push(r)}return!0}function og(t){return null!==t?t:[]}var sg=new uf("tag:yaml.org,2002:omap",{kind:"sequence",resolve:rg,construct:og}),ag=Object.prototype.toString;function cg(t){if(null===t)return!0;var e,n,i,r,o,s=t;for(o=new Array(s.length),e=0,n=s.length;e<n;e+=1){if(i=s[e],"[object Object]"!==ag.call(i))return!1;if(1!==(r=Object.keys(i)).length)return!1;o[e]=[r[0],i[r[0]]]}return!0}function lg(t){if(null===t)return[];var e,n,i,r,o,s=t;for(o=new Array(s.length),e=0,n=s.length;e<n;e+=1)i=s[e],r=Object.keys(i),o[e]=[r[0],i[r[0]]];return o}var ug=new uf("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:cg,construct:lg}),hg=Object.prototype.hasOwnProperty;function dg(t){if(null===t)return!0;var e,n=t;for(e in n)if(hg.call(n,e)&&null!==n[e])return!1;return!0}function fg(t){return null!==t?t:{}}var gg=new uf("tag:yaml.org,2002:set",{kind:"mapping",resolve:dg,construct:fg}),pg=Vf.extend({implicit:[Gf,Yf],explicit:[eg,sg,ug,gg]}),mg=Object.prototype.hasOwnProperty,bg=1,wg=2,yg=3,vg=4,_g=1,kg=2,xg=3,Eg=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Tg=/[\x85\u2028\u2029]/,Cg=/[,\[\]\{\}]/,Ag=/^(?:!|!!|![a-z\-]+!)$/i,Sg=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Ig(t){return Object.prototype.toString.call(t)}function Mg(t){return 10===t||13===t}function Pg(t){return 9===t||32===t}function Og(t){return 9===t||32===t||10===t||13===t}function Dg(t){return 44===t||91===t||93===t||123===t||125===t}function Ng(t){var e;return 48<=t&&t<=57?t-48:97<=(e=32|t)&&e<=102?e-97+10:-1}function Lg(t){return 120===t?2:117===t?4:85===t?8:0}function Rg(t){return 48<=t&&t<=57?t-48:-1}function Bg(t){return 48===t?"\0":97===t?"":98===t?"\b":116===t||9===t?"\t":110===t?"\n":118===t?"\v":102===t?"\f":114===t?"\r":101===t?"":32===t?" ":34===t?'"':47===t?"/":92===t?"\\":78===t?"":95===t?" ":76===t?"\u2028":80===t?"\u2029":""}function Fg(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}for(var jg=new Array(256),$g=new Array(256),Vg=0;Vg<256;Vg++)jg[Vg]=Bg(Vg)?1:0,$g[Vg]=Bg(Vg);function zg(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||pg,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Hg(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=of(n),new tf(e,n)}function Ug(t,e){throw Hg(t,e)}function qg(t,e){t.onWarning&&t.onWarning.call(null,Hg(t,e))}var Wg={YAML:function(t,e,n){var i,r,o;null!==t.version&&Ug(t,"duplication of %YAML directive"),1!==n.length&&Ug(t,"YAML directive accepts exactly one argument"),null===(i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&Ug(t,"ill-formed argument of the YAML directive"),r=parseInt(i[1],10),o=parseInt(i[2],10),1!==r&&Ug(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,1!==o&&2!==o&&qg(t,"unsupported YAML version of the document")},TAG:function(t,e,n){var i,r;2!==n.length&&Ug(t,"TAG directive accepts exactly two arguments"),i=n[0],r=n[1],Ag.test(i)||Ug(t,"ill-formed tag handle (first argument) of the TAG directive"),mg.call(t.tagMap,i)&&Ug(t,'there is a previously declared suffix for "'+i+'" tag handle'),Sg.test(r)||Ug(t,"ill-formed tag prefix (second argument) of the TAG directive");try{r=decodeURIComponent(r)}catch(e){Ug(t,"tag prefix is malformed: "+r)}t.tagMap[i]=r}};function Gg(t,e,n,i){var r,o,s,a;if(e<n){if(a=t.input.slice(e,n),i)for(r=0,o=a.length;r<o;r+=1)9===(s=a.charCodeAt(r))||32<=s&&s<=1114111||Ug(t,"expected valid JSON character");else Eg.test(a)&&Ug(t,"the stream contains non-printable characters");t.result+=a}}function Kg(t,e,n,i){var r,o,s,a;for(Zd.isObject(n)||Ug(t,"cannot merge mappings; the provided source object is unacceptable"),s=0,a=(r=Object.keys(n)).length;s<a;s+=1)o=r[s],mg.call(e,o)||(e[o]=n[o],i[o]=!0)}function Yg(t,e,n,i,r,o,s,a,c){var l,u;if(Array.isArray(r))for(l=0,u=(r=Array.prototype.slice.call(r)).length;l<u;l+=1)Array.isArray(r[l])&&Ug(t,"nested arrays are not supported inside keys"),"object"==typeof r&&"[object Object]"===Ig(r[l])&&(r[l]="[object Object]");if("object"==typeof r&&"[object Object]"===Ig(r)&&(r="[object Object]"),r=String(r),null===e&&(e={}),"tag:yaml.org,2002:merge"===i)if(Array.isArray(o))for(l=0,u=o.length;l<u;l+=1)Kg(t,e,o[l],n);else Kg(t,e,o,n);else t.json||mg.call(n,r)||!mg.call(e,r)||(t.line=s||t.line,t.lineStart=a||t.lineStart,t.position=c||t.position,Ug(t,"duplicated mapping key")),"__proto__"===r?Object.defineProperty(e,r,{configurable:!0,enumerable:!0,writable:!0,value:o}):e[r]=o,delete n[r];return e}function Xg(t){var e;10===(e=t.input.charCodeAt(t.position))?t.position++:13===e?(t.position++,10===t.input.charCodeAt(t.position)&&t.position++):Ug(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Zg(t,e,n){for(var i=0,r=t.input.charCodeAt(t.position);0!==r;){for(;Pg(r);)9===r&&-1===t.firstTabInLine&&(t.firstTabInLine=t.position),r=t.input.charCodeAt(++t.position);if(e&&35===r)do{r=t.input.charCodeAt(++t.position)}while(10!==r&&13!==r&&0!==r);if(!Mg(r))break;for(Xg(t),r=t.input.charCodeAt(t.position),i++,t.lineIndent=0;32===r;)t.lineIndent++,r=t.input.charCodeAt(++t.position)}return-1!==n&&0!==i&&t.lineIndent<n&&qg(t,"deficient indentation"),i}function Qg(t){var e,n=t.position;return!(45!==(e=t.input.charCodeAt(n))&&46!==e||e!==t.input.charCodeAt(n+1)||e!==t.input.charCodeAt(n+2)||(n+=3,0!==(e=t.input.charCodeAt(n))&&!Og(e)))}function Jg(t,e){1===e?t.result+=" ":e>1&&(t.result+=Zd.repeat("\n",e-1))}function tp(t,e,n){var i,r,o,s,a,c,l,u,h=t.kind,d=t.result;if(Og(u=t.input.charCodeAt(t.position))||Dg(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(Og(i=t.input.charCodeAt(t.position+1))||n&&Dg(i)))return!1;for(t.kind="scalar",t.result="",r=o=t.position,s=!1;0!==u;){if(58===u){if(Og(i=t.input.charCodeAt(t.position+1))||n&&Dg(i))break}else if(35===u){if(Og(t.input.charCodeAt(t.position-1)))break}else{if(t.position===t.lineStart&&Qg(t)||n&&Dg(u))break;if(Mg(u)){if(a=t.line,c=t.lineStart,l=t.lineIndent,Zg(t,!1,-1),t.lineIndent>=e){s=!0,u=t.input.charCodeAt(t.position);continue}t.position=o,t.line=a,t.lineStart=c,t.lineIndent=l;break}}s&&(Gg(t,r,o,!1),Jg(t,t.line-a),r=o=t.position,s=!1),Pg(u)||(o=t.position+1),u=t.input.charCodeAt(++t.position)}return Gg(t,r,o,!1),!!t.result||(t.kind=h,t.result=d,!1)}function ep(t,e){var n,i,r;if(39!==(n=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,i=r=t.position;0!==(n=t.input.charCodeAt(t.position));)if(39===n){if(Gg(t,i,t.position,!0),39!==(n=t.input.charCodeAt(++t.position)))return!0;i=t.position,t.position++,r=t.position}else Mg(n)?(Gg(t,i,r,!0),Jg(t,Zg(t,!1,e)),i=r=t.position):t.position===t.lineStart&&Qg(t)?Ug(t,"unexpected end of the document within a single quoted scalar"):(t.position++,r=t.position);Ug(t,"unexpected end of the stream within a single quoted scalar")}function np(t,e){var n,i,r,o,s,a;if(34!==(a=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;0!==(a=t.input.charCodeAt(t.position));){if(34===a)return Gg(t,n,t.position,!0),t.position++,!0;if(92===a){if(Gg(t,n,t.position,!0),Mg(a=t.input.charCodeAt(++t.position)))Zg(t,!1,e);else if(a<256&&jg[a])t.result+=$g[a],t.position++;else if((s=Lg(a))>0){for(r=s,o=0;r>0;r--)(s=Ng(a=t.input.charCodeAt(++t.position)))>=0?o=(o<<4)+s:Ug(t,"expected hexadecimal character");t.result+=Fg(o),t.position++}else Ug(t,"unknown escape sequence");n=i=t.position}else Mg(a)?(Gg(t,n,i,!0),Jg(t,Zg(t,!1,e)),n=i=t.position):t.position===t.lineStart&&Qg(t)?Ug(t,"unexpected end of the document within a double quoted scalar"):(t.position++,i=t.position)}Ug(t,"unexpected end of the stream within a double quoted scalar")}function ip(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g=!0,p=t.tag,m=t.anchor,b=Object.create(null);if(91===(f=t.input.charCodeAt(t.position)))s=93,l=!1,o=[];else{if(123!==f)return!1;s=125,l=!0,o={}}for(null!==t.anchor&&(t.anchorMap[t.anchor]=o),f=t.input.charCodeAt(++t.position);0!==f;){if(Zg(t,!0,e),(f=t.input.charCodeAt(t.position))===s)return t.position++,t.tag=p,t.anchor=m,t.kind=l?"mapping":"sequence",t.result=o,!0;g?44===f&&Ug(t,"expected the node content, but found ','"):Ug(t,"missed comma between flow collection entries"),h=u=d=null,a=c=!1,63===f&&Og(t.input.charCodeAt(t.position+1))&&(a=c=!0,t.position++,Zg(t,!0,e)),n=t.line,i=t.lineStart,r=t.position,up(t,e,bg,!1,!0),h=t.tag,u=t.result,Zg(t,!0,e),f=t.input.charCodeAt(t.position),!c&&t.line!==n||58!==f||(a=!0,f=t.input.charCodeAt(++t.position),Zg(t,!0,e),up(t,e,bg,!1,!0),d=t.result),l?Yg(t,o,b,h,u,d,n,i,r):a?o.push(Yg(t,null,b,h,u,d,n,i,r)):o.push(u),Zg(t,!0,e),44===(f=t.input.charCodeAt(t.position))?(g=!0,f=t.input.charCodeAt(++t.position)):g=!1}Ug(t,"unexpected end of the stream within a flow collection")}function rp(t,e){var n,i,r,o,s=_g,a=!1,c=!1,l=e,u=0,h=!1;if(124===(o=t.input.charCodeAt(t.position)))i=!1;else{if(62!==o)return!1;i=!0}for(t.kind="scalar",t.result="";0!==o;)if(43===(o=t.input.charCodeAt(++t.position))||45===o)_g===s?s=43===o?xg:kg:Ug(t,"repeat of a chomping mode identifier");else{if(!((r=Rg(o))>=0))break;0===r?Ug(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?Ug(t,"repeat of an indentation width identifier"):(l=e+r-1,c=!0)}if(Pg(o)){do{o=t.input.charCodeAt(++t.position)}while(Pg(o));if(35===o)do{o=t.input.charCodeAt(++t.position)}while(!Mg(o)&&0!==o)}for(;0!==o;){for(Xg(t),t.lineIndent=0,o=t.input.charCodeAt(t.position);(!c||t.lineIndent<l)&&32===o;)t.lineIndent++,o=t.input.charCodeAt(++t.position);if(!c&&t.lineIndent>l&&(l=t.lineIndent),Mg(o))u++;else{if(t.lineIndent<l){s===xg?t.result+=Zd.repeat("\n",a?1+u:u):s===_g&&a&&(t.result+="\n");break}for(i?Pg(o)?(h=!0,t.result+=Zd.repeat("\n",a?1+u:u)):h?(h=!1,t.result+=Zd.repeat("\n",u+1)):0===u?a&&(t.result+=" "):t.result+=Zd.repeat("\n",u):t.result+=Zd.repeat("\n",a?1+u:u),a=!0,c=!0,u=0,n=t.position;!Mg(o)&&0!==o;)o=t.input.charCodeAt(++t.position);Gg(t,n,t.position,!1)}}return!0}function op(t,e){var n,i,r=t.tag,o=t.anchor,s=[],a=!1;if(-1!==t.firstTabInLine)return!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=s),i=t.input.charCodeAt(t.position);0!==i&&(-1!==t.firstTabInLine&&(t.position=t.firstTabInLine,Ug(t,"tab characters must not be used in indentation")),45===i)&&Og(t.input.charCodeAt(t.position+1));)if(a=!0,t.position++,Zg(t,!0,-1)&&t.lineIndent<=e)s.push(null),i=t.input.charCodeAt(t.position);else if(n=t.line,up(t,e,yg,!1,!0),s.push(t.result),Zg(t,!0,-1),i=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&0!==i)Ug(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break;return!!a&&(t.tag=r,t.anchor=o,t.kind="sequence",t.result=s,!0)}function sp(t,e,n){var i,r,o,s,a,c,l,u=t.tag,h=t.anchor,d={},f=Object.create(null),g=null,p=null,m=null,b=!1,w=!1;if(-1!==t.firstTabInLine)return!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=d),l=t.input.charCodeAt(t.position);0!==l;){if(b||-1===t.firstTabInLine||(t.position=t.firstTabInLine,Ug(t,"tab characters must not be used in indentation")),i=t.input.charCodeAt(t.position+1),o=t.line,63!==l&&58!==l||!Og(i)){if(s=t.line,a=t.lineStart,c=t.position,!up(t,n,wg,!1,!0))break;if(t.line===o){for(l=t.input.charCodeAt(t.position);Pg(l);)l=t.input.charCodeAt(++t.position);if(58===l)Og(l=t.input.charCodeAt(++t.position))||Ug(t,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(Yg(t,d,f,g,p,null,s,a,c),g=p=m=null),w=!0,b=!1,r=!1,g=t.tag,p=t.result;else{if(!w)return t.tag=u,t.anchor=h,!0;Ug(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!w)return t.tag=u,t.anchor=h,!0;Ug(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===l?(b&&(Yg(t,d,f,g,p,null,s,a,c),g=p=m=null),w=!0,b=!0,r=!0):b?(b=!1,r=!0):Ug(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,l=i;if((t.line===o||t.lineIndent>e)&&(b&&(s=t.line,a=t.lineStart,c=t.position),up(t,e,vg,!0,r)&&(b?p=t.result:m=t.result),b||(Yg(t,d,f,g,p,m,s,a,c),g=p=m=null),Zg(t,!0,-1),l=t.input.charCodeAt(t.position)),(t.line===o||t.lineIndent>e)&&0!==l)Ug(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return b&&Yg(t,d,f,g,p,null,s,a,c),w&&(t.tag=u,t.anchor=h,t.kind="mapping",t.result=d),w}function ap(t){var e,n,i,r,o=!1,s=!1;if(33!==(r=t.input.charCodeAt(t.position)))return!1;if(null!==t.tag&&Ug(t,"duplication of a tag property"),60===(r=t.input.charCodeAt(++t.position))?(o=!0,r=t.input.charCodeAt(++t.position)):33===r?(s=!0,n="!!",r=t.input.charCodeAt(++t.position)):n="!",e=t.position,o){do{r=t.input.charCodeAt(++t.position)}while(0!==r&&62!==r);t.position<t.length?(i=t.input.slice(e,t.position),r=t.input.charCodeAt(++t.position)):Ug(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==r&&!Og(r);)33===r&&(s?Ug(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),Ag.test(n)||Ug(t,"named tag handle cannot contain such characters"),s=!0,e=t.position+1)),r=t.input.charCodeAt(++t.position);i=t.input.slice(e,t.position),Cg.test(i)&&Ug(t,"tag suffix cannot contain flow indicator characters")}i&&!Sg.test(i)&&Ug(t,"tag name cannot contain such characters: "+i);try{i=decodeURIComponent(i)}catch(e){Ug(t,"tag name is malformed: "+i)}return o?t.tag=i:mg.call(t.tagMap,n)?t.tag=t.tagMap[n]+i:"!"===n?t.tag="!"+i:"!!"===n?t.tag="tag:yaml.org,2002:"+i:Ug(t,'undeclared tag handle "'+n+'"'),!0}function cp(t){var e,n;if(38!==(n=t.input.charCodeAt(t.position)))return!1;for(null!==t.anchor&&Ug(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;0!==n&&!Og(n)&&!Dg(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Ug(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function lp(t){var e,n,i;if(42!==(i=t.input.charCodeAt(t.position)))return!1;for(i=t.input.charCodeAt(++t.position),e=t.position;0!==i&&!Og(i)&&!Dg(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&Ug(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),mg.call(t.anchorMap,n)||Ug(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Zg(t,!0,-1),!0}function up(t,e,n,i,r){var o,s,a,c,l,u,h,d,f,g=1,p=!1,m=!1;if(null!==t.listener&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=s=a=vg===n||yg===n,i&&Zg(t,!0,-1)&&(p=!0,t.lineIndent>e?g=1:t.lineIndent===e?g=0:t.lineIndent<e&&(g=-1)),1===g)for(;ap(t)||cp(t);)Zg(t,!0,-1)?(p=!0,a=o,t.lineIndent>e?g=1:t.lineIndent===e?g=0:t.lineIndent<e&&(g=-1)):a=!1;if(a&&(a=p||r),1!==g&&vg!==n||(d=bg===n||wg===n?e:e+1,f=t.position-t.lineStart,1===g?a&&(op(t,f)||sp(t,f,d))||ip(t,d)?m=!0:(s&&rp(t,d)||ep(t,d)||np(t,d)?m=!0:lp(t)?(m=!0,null===t.tag&&null===t.anchor||Ug(t,"alias node should not have any properties")):tp(t,d,bg===n)&&(m=!0,null===t.tag&&(t.tag="?")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===g&&(m=a&&op(t,f))),null===t.tag)null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);else if("?"===t.tag){for(null!==t.result&&"scalar"!==t.kind&&Ug(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),c=0,l=t.implicitTypes.length;c<l;c+=1)if((h=t.implicitTypes[c]).resolve(t.result)){t.result=h.construct(t.result),t.tag=h.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else if("!"!==t.tag){if(mg.call(t.typeMap[t.kind||"fallback"],t.tag))h=t.typeMap[t.kind||"fallback"][t.tag];else for(h=null,c=0,l=(u=t.typeMap.multi[t.kind||"fallback"]).length;c<l;c+=1)if(t.tag.slice(0,u[c].tag.length)===u[c].tag){h=u[c];break}h||Ug(t,"unknown tag !<"+t.tag+">"),null!==t.result&&h.kind!==t.kind&&Ug(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+h.kind+'", not "'+t.kind+'"'),h.resolve(t.result,t.tag)?(t.result=h.construct(t.result,t.tag),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):Ug(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return null!==t.listener&&t.listener("close",t),null!==t.tag||null!==t.anchor||m}function hp(t){var e,n,i,r,o=t.position,s=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);0!==(r=t.input.charCodeAt(t.position))&&(Zg(t,!0,-1),r=t.input.charCodeAt(t.position),!(t.lineIndent>0||37!==r));){for(s=!0,r=t.input.charCodeAt(++t.position),e=t.position;0!==r&&!Og(r);)r=t.input.charCodeAt(++t.position);for(i=[],(n=t.input.slice(e,t.position)).length<1&&Ug(t,"directive name must not be less than one character in length");0!==r;){for(;Pg(r);)r=t.input.charCodeAt(++t.position);if(35===r){do{r=t.input.charCodeAt(++t.position)}while(0!==r&&!Mg(r));break}if(Mg(r))break;for(e=t.position;0!==r&&!Og(r);)r=t.input.charCodeAt(++t.position);i.push(t.input.slice(e,t.position))}0!==r&&Xg(t),mg.call(Wg,n)?Wg[n](t,n,i):qg(t,'unknown document directive "'+n+'"')}Zg(t,!0,-1),0===t.lineIndent&&45===t.input.charCodeAt(t.position)&&45===t.input.charCodeAt(t.position+1)&&45===t.input.charCodeAt(t.position+2)?(t.position+=3,Zg(t,!0,-1)):s&&Ug(t,"directives end mark is expected"),up(t,t.lineIndent-1,vg,!1,!0),Zg(t,!0,-1),t.checkLineBreaks&&Tg.test(t.input.slice(o,t.position))&&qg(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Qg(t)?46===t.input.charCodeAt(t.position)&&(t.position+=3,Zg(t,!0,-1)):t.position<t.length-1&&Ug(t,"end of the stream or a document separator is expected")}function dp(t,e){e=e||{},0!==(t=String(t)).length&&(10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n"),65279===t.charCodeAt(0)&&(t=t.slice(1)));var n=new zg(t,e),i=t.indexOf("\0");for(-1!==i&&(n.position=i,Ug(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)hp(n);return n.documents}function fp(t,e,n){null!==e&&"object"==typeof e&&void 0===n&&(n=e,e=null);var i=dp(t,n);if("function"!=typeof e)return i;for(var r=0,o=i.length;r<o;r+=1)e(i[r])}function gp(t,e){var n=dp(t,e);if(0!==n.length){if(1===n.length)return n[0];throw new tf("expected a single document in the stream, but found more")}}var pp=wf,mp={loadAll:fp,load:gp}.load;const bp=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s;function wp(t,e){var n;const i=t.match(bp);if(i){const r=mp(i[1],{schema:pp});return(null==r?void 0:r.title)&&(null==(n=e.setDiagramTitle)||n.call(e,r.title)),t.slice(i[0].length)}return t}const yp=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,vp=/\s*%%.*\n/gm,_p={},kp=function(t,e){t=t.replace(bp,"").replace(yp,"").replace(vp,"\n");for(const[n,{detector:i}]of Object.entries(_p))if(i(t,e))return n;throw new Error(`No diagram type detected for text: ${t}`)},xp=(...t)=>{for(const{id:e,detector:n,loader:i}of t)Ep(e,n,i)},Ep=(t,e,n)=>{_p[t]?h.error(`Detector with key ${t} already exists`):_p[t]={detector:e,loader:n},h.debug(`Detector with key ${t} added${n?" with loader":""}`)},Tp=t=>_p[t].loader,Cp=function(t,e,n){const{depth:i,clobber:r}=Object.assign({depth:2,clobber:!1},n);return Array.isArray(e)&&!Array.isArray(t)?(e.forEach((e=>Cp(t,e,n))),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach((e=>{t.includes(e)||t.push(e)})),t):void 0===t||i<=0?null!=t&&"object"==typeof t&&"object"==typeof e?Object.assign(t,e):e:(void 0!==e&&"object"==typeof t&&"object"==typeof e&&Object.keys(e).forEach((n=>{"object"!=typeof e[n]||void 0!==t[n]&&"object"!=typeof t[n]?(r||"object"!=typeof t[n]&&"object"!=typeof e[n])&&(t[n]=e[n]):(void 0===t[n]&&(t[n]=Array.isArray(e[n])?[]:{}),t[n]=Cp(t[n],e[n],{depth:i-1,clobber:r}))})),t)},Ap=Cp,Sp="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;var Ip="object"==typeof self&&self&&self.Object===Object&&self;const Mp=Sp||Ip||Function("return this")(),Pp=Mp.Symbol;var Op=Object.prototype,Dp=Op.hasOwnProperty,Np=Op.toString,Lp=Pp?Pp.toStringTag:void 0;function Rp(t){var e=Dp.call(t,Lp),n=t[Lp];try{t[Lp]=void 0;var i=!0}catch(t){}var r=Np.call(t);return i&&(e?t[Lp]=n:delete t[Lp]),r}var Bp=Object.prototype.toString;function Fp(t){return Bp.call(t)}var jp="[object Null]",$p="[object Undefined]",Vp=Pp?Pp.toStringTag:void 0;function zp(t){return null==t?void 0===t?$p:jp:Vp&&Vp in Object(t)?Rp(t):Fp(t)}function Hp(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var Up="[object AsyncFunction]",qp="[object Function]",Wp="[object GeneratorFunction]",Gp="[object Proxy]";function Kp(t){if(!Hp(t))return!1;var e=zp(t);return e==qp||e==Wp||e==Up||e==Gp}const Yp=Mp["__core-js_shared__"];var Xp,Zp=(Xp=/[^.]+$/.exec(Yp&&Yp.keys&&Yp.keys.IE_PROTO||""))?"Symbol(src)_1."+Xp:"";function Qp(t){return!!Zp&&Zp in t}var Jp=Function.prototype.toString;function tm(t){if(null!=t){try{return Jp.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var em=/[\\^$.*+?()[\]{}|]/g,nm=/^\[object .+?Constructor\]$/,im=Function.prototype,rm=Object.prototype,om=im.toString,sm=rm.hasOwnProperty,am=RegExp("^"+om.call(sm).replace(em,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cm(t){return!(!Hp(t)||Qp(t))&&(Kp(t)?am:nm).test(tm(t))}function lm(t,e){return null==t?void 0:t[e]}function um(t,e){var n=lm(t,e);return cm(n)?n:void 0}const hm=um(Object,"create");function dm(){this.__data__=hm?hm(null):{},this.size=0}function fm(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var gm="__lodash_hash_undefined__",pm=Object.prototype.hasOwnProperty;function mm(t){var e=this.__data__;if(hm){var n=e[t];return n===gm?void 0:n}return pm.call(e,t)?e[t]:void 0}var bm=Object.prototype.hasOwnProperty;function wm(t){var e=this.__data__;return hm?void 0!==e[t]:bm.call(e,t)}var ym="__lodash_hash_undefined__";function vm(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=hm&&void 0===e?ym:e,this}function _m(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function km(){this.__data__=[],this.size=0}function xm(t,e){return t===e||t!=t&&e!=e}function Em(t,e){for(var n=t.length;n--;)if(xm(t[n][0],e))return n;return-1}_m.prototype.clear=dm,_m.prototype.delete=fm,_m.prototype.get=mm,_m.prototype.has=wm,_m.prototype.set=vm;var Tm=Array.prototype.splice;function Cm(t){var e=this.__data__,n=Em(e,t);return!(n<0||(n==e.length-1?e.pop():Tm.call(e,n,1),--this.size,0))}function Am(t){var e=this.__data__,n=Em(e,t);return n<0?void 0:e[n][1]}function Sm(t){return Em(this.__data__,t)>-1}function Im(t,e){var n=this.__data__,i=Em(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function Mm(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Mm.prototype.clear=km,Mm.prototype.delete=Cm,Mm.prototype.get=Am,Mm.prototype.has=Sm,Mm.prototype.set=Im;const Pm=um(Mp,"Map");function Om(){this.size=0,this.__data__={hash:new _m,map:new(Pm||Mm),string:new _m}}function Dm(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Nm(t,e){var n=t.__data__;return Dm(e)?n["string"==typeof e?"string":"hash"]:n.map}function Lm(t){var e=Nm(this,t).delete(t);return this.size-=e?1:0,e}function Rm(t){return Nm(this,t).get(t)}function Bm(t){return Nm(this,t).has(t)}function Fm(t,e){var n=Nm(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function jm(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}jm.prototype.clear=Om,jm.prototype.delete=Lm,jm.prototype.get=Rm,jm.prototype.has=Bm,jm.prototype.set=Fm;var $m="Expected a function";function Vm(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError($m);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(Vm.Cache||jm),n}Vm.Cache=jm;const zm={curveBasis:Xl,curveBasisClosed:Ql,curveBasisOpen:tu,curveBumpX:ql,curveBumpY:Wl,curveBundle:nu,curveCardinalClosed:au,curveCardinalOpen:lu,curveCardinal:ou,curveCatmullRomClosed:gu,curveCatmullRomOpen:mu,curveCatmullRom:du,curveLinear:Bl,curveLinearClosed:wu,curveMonotoneX:Cu,curveMonotoneY:Au,curveNatural:Mu,curveStep:Ou,curveStepAfter:Nu,curveStepBefore:Du},Hm=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Um=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,qm=function(t,e){const n=Wm(t,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(n)){const t=n.map((t=>t.args));pb(t),i=Ap(i,[...t])}else i=n.args;if(i){let n=kp(t,e);["config"].forEach((t=>{void 0!==i[t]&&("flowchart-v2"===n&&(n="flowchart"),i[n]=i[t],delete i[t])}))}return i},Wm=function(t,e=null){try{const n=new RegExp(`[%]{2}(?![{]${Um.source})(?=[}][%]{2}).*\n`,"ig");let i;t=t.trim().replace(n,"").replace(/'/gm,'"'),h.debug(`Detecting diagram directive${null!==e?" type:"+e:""} based on the text:${t}`);const r=[];for(;null!==(i=Hm.exec(t));)if(i.index===Hm.lastIndex&&Hm.lastIndex++,i&&!e||e&&i[1]&&i[1].match(e)||e&&i[2]&&i[2].match(e)){const t=i[1]?i[1]:i[2],e=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;r.push({type:t,args:e})}return 0===r.length&&r.push({type:t,args:null}),1===r.length?r[0]:r}catch(n){return h.error(`ERROR: ${n.message} - Unable to parse directive\n      ${null!==e?" type:"+e:""} based on the text:${t}`),{type:null,args:null}}},Gm=function(t,e){for(const[n,i]of e.entries())if(i.match(t))return n;return-1};function Km(t,e){if(!t)return e;const n=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return zm[n]||e}function Ym(t,e){const n=t.trim();if(n)return"loose"!==e.securityLevel?p(n):n}const Xm=(t,...e)=>{const n=t.split("."),i=n.length-1,r=n[i];let o=window;for(let t=0;t<i;t++)if(o=o[n[t]],!o)return;o[r](...e)};function Zm(t,e){return t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0}function Qm(t){let e,n=0;t.forEach((t=>{n+=Zm(t,e),e=t}));let i,r=n/2;return e=void 0,t.forEach((t=>{if(e&&!i){const n=Zm(t,e);if(n<r)r-=n;else{const o=r/n;o<=0&&(i=e),o>=1&&(i={x:t.x,y:t.y}),o>0&&o<1&&(i={x:(1-o)*e.x+o*t.x,y:(1-o)*e.y+o*t.y})}}e=t})),i}function Jm(t){return 1===t.length?t[0]:Qm(t)}const tb=(t,e,n)=>{let i;h.info(`our points ${JSON.stringify(e)}`),e[0]!==n&&(e=e.reverse());let r,o=25;i=void 0,e.forEach((t=>{if(i&&!r){const e=Zm(t,i);if(e<o)o-=e;else{const n=o/e;n<=0&&(r=i),n>=1&&(r={x:t.x,y:t.y}),n>0&&n<1&&(r={x:(1-n)*i.x+n*t.x,y:(1-n)*i.y+n*t.y})}}i=t}));const s=t?10:5,a=Math.atan2(e[0].y-r.y,e[0].x-r.x),c={x:0,y:0};return c.x=Math.sin(a)*s+(e[0].x+r.x)/2,c.y=-Math.cos(a)*s+(e[0].y+r.y)/2,c};function eb(t,e,n){let i,r=JSON.parse(JSON.stringify(n));h.info("our points",r),"start_left"!==e&&"start_right"!==e&&(r=r.reverse()),r.forEach((t=>{i=t}));let o,s=25+t;i=void 0,r.forEach((t=>{if(i&&!o){const e=Zm(t,i);if(e<s)s-=e;else{const n=s/e;n<=0&&(o=i),n>=1&&(o={x:t.x,y:t.y}),n>0&&n<1&&(o={x:(1-n)*i.x+n*t.x,y:(1-n)*i.y+n*t.y})}}i=t}));const a=10+.5*t,c=Math.atan2(r[0].y-o.y,r[0].x-o.x),l={x:0,y:0};return l.x=Math.sin(c)*a+(r[0].x+o.x)/2,l.y=-Math.cos(c)*a+(r[0].y+o.y)/2,"start_left"===e&&(l.x=Math.sin(c+Math.PI)*a+(r[0].x+o.x)/2,l.y=-Math.cos(c+Math.PI)*a+(r[0].y+o.y)/2),"end_right"===e&&(l.x=Math.sin(c-Math.PI)*a+(r[0].x+o.x)/2-5,l.y=-Math.cos(c-Math.PI)*a+(r[0].y+o.y)/2-5),"end_left"===e&&(l.x=Math.sin(c)*a+(r[0].x+o.x)/2-5,l.y=-Math.cos(c)*a+(r[0].y+o.y)/2-5),l}function nb(t){let e="",n="";for(const i of t)void 0!==i&&(i.startsWith("color:")||i.startsWith("text-align:")?n=n+i+";":e=e+i+";");return{style:e,labelStyle:n}}let ib=0;const rb=()=>(ib++,"id-"+Math.random().toString(36).substr(2,12)+"-"+ib);function ob(t){let e="";const n="0123456789abcdef",i=n.length;for(let r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*i));return e}const sb=t=>ob(t.length),ab=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},cb=function(t,e){const n=e.text.replace(Jh.lineBreakRegex," "),[,i]=yb(e.fontSize),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.style("text-anchor",e.anchor),r.style("font-family",e.fontFamily),r.style("font-size",i),r.style("font-weight",e.fontWeight),r.attr("fill",e.fill),void 0!==e.class&&r.attr("class",e.class);const o=r.append("tspan");return o.attr("x",e.x+2*e.textMargin),o.attr("fill",e.fill),o.text(n),r},lb=Vm(((t,e,n)=>{if(!t)return t;if(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),Jh.lineBreakRegex.test(t))return t;const i=t.split(" "),r=[];let o="";return i.forEach(((t,s)=>{const a=db(`${t} `,n),c=db(o,n);if(a>e){const{hyphenatedStrings:i,remainingWord:s}=ub(t,e,"-",n);r.push(o,...i),o=s}else c+a>=e?(r.push(o),o=t):o=[o,t].filter(Boolean).join(" ");s+1===i.length&&r.push(o)})),r.filter((t=>""!==t)).join(n.joinWith)}),((t,e,n)=>`${t}${e}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`)),ub=Vm(((t,e,n="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);const r=[...t],o=[];let s="";return r.forEach(((t,a)=>{const c=`${s}${t}`;if(db(c,i)>=e){const t=a+1,e=r.length===t,i=`${c}${n}`;o.push(e?c:i),s=""}else s=c})),{hyphenatedStrings:o,remainingWord:s}}),((t,e,n="-",i)=>`${t}${e}${n}${i.fontSize}${i.fontWeight}${i.fontFamily}`));function hb(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},e),fb(t,e).height}function db(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e),fb(t,e).width}const fb=Vm(((t,e)=>{e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e);const{fontSize:n,fontFamily:i,fontWeight:r}=e;if(!t)return{width:0,height:0};const[,o]=yb(n),s=["sans-serif",i],a=t.split(Jh.lineBreakRegex),c=[],l=un("body");if(!l.remove)return{width:0,height:0,lineHeight:0};const u=l.append("svg");for(const t of s){let e=0;const n={width:0,height:0,lineHeight:0};for(const i of a){const s=ab();s.text=i;const a=cb(u,s).style("font-size",o).style("font-weight",r).style("font-family",t),c=(a._groups||a)[0][0].getBBox();n.width=Math.round(Math.max(n.width,c.width)),e=Math.round(c.height),n.height+=e,n.lineHeight=Math.round(Math.max(n.lineHeight,e))}c.push(n)}return u.remove(),c[isNaN(c[1].height)||isNaN(c[1].width)||isNaN(c[1].lineHeight)||c[0].height>c[1].height&&c[0].width>c[1].width&&c[0].lineHeight>c[1].lineHeight?0:1]}),((t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`));let gb;const pb=t=>{if(h.debug("directiveSanitizer called with",t),"object"==typeof t&&(t.length?t.forEach((t=>pb(t))):Object.keys(t).forEach((e=>{h.debug("Checking key",e),e.startsWith("__")&&(h.debug("sanitize deleting __ option",e),delete t[e]),e.includes("proto")&&(h.debug("sanitize deleting proto option",e),delete t[e]),e.includes("constr")&&(h.debug("sanitize deleting constr option",e),delete t[e]),e.includes("themeCSS")&&(h.debug("sanitizing themeCss option"),t[e]=mb(t[e])),e.includes("fontFamily")&&(h.debug("sanitizing fontFamily option"),t[e]=mb(t[e])),e.includes("altFontFamily")&&(h.debug("sanitizing altFontFamily option"),t[e]=mb(t[e])),Hd.includes(e)?"object"==typeof t[e]&&(h.debug("sanitize deleting object",e),pb(t[e])):(h.debug("sanitize deleting option",e),delete t[e])}))),t.themeVariables){const e=Object.keys(t.themeVariables);for(const n of e){const e=t.themeVariables[n];e&&e.match&&!e.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[n]="")}}h.debug("After sanitization",t)},mb=t=>{let e=0,n=0;for(const i of t){if(e<n)return"{ /* ERROR: Unbalanced CSS */ }";"{"===i?e++:"}"===i&&n++}return e!==n?"{ /* ERROR: Unbalanced CSS */ }":t};function bb(t){return"str"in t}function wb(t){return t instanceof Error?t.message:String(t)}const yb=t=>{if("number"==typeof t)return[t,t+"px"];const e=parseInt(t,10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},vb={assignWithDepth:Ap,wrapLabel:lb,calculateTextHeight:hb,calculateTextWidth:db,calculateTextDimensions:fb,detectInit:qm,detectDirective:Wm,isSubstringInArray:Gm,interpolateToCurve:Km,calcLabelPosition:Jm,calcCardinalityPosition:tb,calcTerminalLabelPosition:eb,formatUrl:Ym,getStylesFromArray:nb,generateId:rb,random:sb,runFunc:Xm,entityDecode:function(t){return gb=gb||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),gb.innerHTML=t,unescape(gb.textContent)},initIdGenerator:class{constructor(t,e){this.deterministic=t,this.seed=e,this.count=e?e.length:0}next(){return this.deterministic?this.count++:Date.now()}},directiveSanitizer:pb,sanitizeCss:mb,insertTitle:(t,e,n,i)=>{if(!i)return;const r=t.node().getBBox();t.append("text").text(i).attr("x",r.x+r.width/2).attr("y",-n).attr("class",e)},parseFontSize:yb};var _b="comm",kb="rule",xb="decl",Eb="@import",Tb="@keyframes",Cb=Math.abs,Ab=String.fromCharCode;function Sb(t){return t.trim()}function Ib(t,e,n){return t.replace(e,n)}function Mb(t,e){return t.indexOf(e)}function Pb(t,e){return 0|t.charCodeAt(e)}function Ob(t,e,n){return t.slice(e,n)}function Db(t){return t.length}function Nb(t){return t.length}function Lb(t,e){return e.push(t),t}var Rb=1,Bb=1,Fb=0,jb=0,$b=0,Vb="";function zb(t,e,n,i,r,o,s){return{value:t,root:e,parent:n,type:i,props:r,children:o,line:Rb,column:Bb,length:s,return:""}}function Hb(){return $b}function Ub(){return $b=jb>0?Pb(Vb,--jb):0,Bb--,10===$b&&(Bb=1,Rb--),$b}function qb(){return $b=jb<Fb?Pb(Vb,jb++):0,Bb++,10===$b&&(Bb=1,Rb++),$b}function Wb(){return Pb(Vb,jb)}function Gb(){return jb}function Kb(t,e){return Ob(Vb,t,e)}function Yb(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Xb(t){return Rb=Bb=1,Fb=Db(Vb=t),jb=0,[]}function Zb(t){return Vb="",t}function Qb(t){return Sb(Kb(jb-1,ew(91===t?t+2:40===t?t+1:t)))}function Jb(t){for(;($b=Wb())&&$b<33;)qb();return Yb(t)>2||Yb($b)>3?"":" "}function tw(t,e){for(;--e&&qb()&&!($b<48||$b>102||$b>57&&$b<65||$b>70&&$b<97););return Kb(t,Gb()+(e<6&&32==Wb()&&32==qb()))}function ew(t){for(;qb();)switch($b){case t:return jb;case 34:case 39:34!==t&&39!==t&&ew($b);break;case 40:41===t&&ew(t);break;case 92:qb()}return jb}function nw(t,e){for(;qb()&&t+$b!==57&&(t+$b!==84||47!==Wb()););return"/*"+Kb(e,jb-1)+"*"+Ab(47===t?t:qb())}function iw(t){for(;!Yb(Wb());)qb();return Kb(t,jb)}function rw(t){return Zb(ow("",null,null,null,[""],t=Xb(t),0,[0],t))}function ow(t,e,n,i,r,o,s,a,c){for(var l=0,u=0,h=s,d=0,f=0,g=0,p=1,m=1,b=1,w=0,y="",v=r,_=o,k=i,x=y;m;)switch(g=w,w=qb()){case 40:if(108!=g&&58==Pb(x,h-1)){-1!=Mb(x+=Ib(Qb(w),"&","&\f"),"&\f")&&(b=-1);break}case 34:case 39:case 91:x+=Qb(w);break;case 9:case 10:case 13:case 32:x+=Jb(g);break;case 92:x+=tw(Gb()-1,7);continue;case 47:switch(Wb()){case 42:case 47:Lb(aw(nw(qb(),Gb()),e,n),c);break;default:x+="/"}break;case 123*p:a[l++]=Db(x)*b;case 125*p:case 59:case 0:switch(w){case 0:case 125:m=0;case 59+u:f>0&&Db(x)-h&&Lb(f>32?cw(x+";",i,n,h-1):cw(Ib(x," ","")+";",i,n,h-2),c);break;case 59:x+=";";default:if(Lb(k=sw(x,e,n,l,u,r,a,y,v=[],_=[],h),o),123===w)if(0===u)ow(x,e,k,k,v,o,h,a,_);else switch(d){case 100:case 109:case 115:ow(t,k,k,i&&Lb(sw(t,k,k,0,0,r,a,y,r,v=[],h),_),r,_,h,a,i?v:_);break;default:ow(x,k,k,k,[""],_,0,a,_)}}l=u=f=0,p=b=1,y=x="",h=s;break;case 58:h=1+Db(x),f=g;default:if(p<1)if(123==w)--p;else if(125==w&&0==p++&&125==Ub())continue;switch(x+=Ab(w),w*p){case 38:b=u>0?1:(x+="\f",-1);break;case 44:a[l++]=(Db(x)-1)*b,b=1;break;case 64:45===Wb()&&(x+=Qb(qb())),d=Wb(),u=h=Db(y=x+=iw(Gb())),w++;break;case 45:45===g&&2==Db(x)&&(p=0)}}return o}function sw(t,e,n,i,r,o,s,a,c,l,u){for(var h=r-1,d=0===r?o:[""],f=Nb(d),g=0,p=0,m=0;g<i;++g)for(var b=0,w=Ob(t,h+1,h=Cb(p=s[g])),y=t;b<f;++b)(y=Sb(p>0?d[b]+" "+w:Ib(w,/&\f/g,d[b])))&&(c[m++]=y);return zb(t,e,n,0===r?kb:a,c,l,u)}function aw(t,e,n){return zb(t,e,n,_b,Ab(Hb()),Ob(t,2,-2),0)}function cw(t,e,n,i){return zb(t,e,n,xb,Ob(t,0,i),Ob(t,i+1,-1),i)}function lw(t,e){for(var n="",i=Nb(t),r=0;r<i;r++)n+=e(t[r],r,t,e)||"";return n}function uw(t,e,n,i){switch(t.type){case Eb:case xb:return t.return=t.return||t.value;case _b:return"";case Tb:return t.return=t.value+"{"+lw(t.children,i)+"}";case kb:t.value=t.props.join(",")}return Db(n=lw(t.children,i))?t.return=t.value+"{"+n+"}":""}const hw="9.4.3",dw=Object.freeze(Ud);let fw,gw=Ap({},dw),pw=[],mw=Ap({},dw);const bw=(t,e)=>{let n=Ap({},t),i={};for(const t of e)Ew(t),i=Ap(i,t);if(n=Ap(n,i),i.theme&&i.theme in $d){const t=Ap({},fw),e=Ap(t.themeVariables||{},i.themeVariables);n.theme&&n.theme in $d&&(n.themeVariables=$d[n.theme].getThemeVariables(e))}return mw=n,Mw(mw),mw},ww=t=>(gw=Ap({},dw),gw=Ap(gw,t),t.theme&&$d[t.theme]&&(gw.themeVariables=$d[t.theme].getThemeVariables(t.themeVariables)),bw(gw,pw),gw),yw=t=>{fw=Ap({},t)},vw=t=>(gw=Ap(gw,t),bw(gw,pw),gw),_w=()=>Ap({},gw),kw=t=>(Mw(t),Ap(mw,t),xw()),xw=()=>Ap({},mw),Ew=t=>{["secure",...gw.secure??[]].forEach((e=>{void 0!==t[e]&&(h.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])})),Object.keys(t).forEach((e=>{0===e.indexOf("__")&&delete t[e]})),Object.keys(t).forEach((e=>{"string"==typeof t[e]&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],"object"==typeof t[e]&&Ew(t[e])}))},Tw=t=>{t.fontFamily&&(t.themeVariables&&t.themeVariables.fontFamily||(t.themeVariables={fontFamily:t.fontFamily})),pw.push(t),bw(gw,pw)},Cw=(t=gw)=>{pw=[],bw(t,pw)};var Aw=(t=>(t.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",t))(Aw||{});const Sw={},Iw=t=>{Sw[t]||(h.warn(Aw[t]),Sw[t]=!0)},Mw=t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&Iw("LAZY_LOAD_DEPRECATED")},Pw=function(t,e){for(let n of e)t.attr(n[0],n[1])},Ow=function(t,e,n){let i=new Map;return n?(i.set("width","100%"),i.set("style",`max-width: ${e}px;`)):(i.set("height",t),i.set("width",e)),i},Dw=function(t,e,n,i){const r=Ow(e,n,i);Pw(t,r)},Nw=function(t,e,n,i){const r=e.node().getBBox(),o=r.width,s=r.height;h.info(`SVG bounds: ${o}x${s}`,r);let a=0,c=0;h.info(`Graph bounds: ${a}x${c}`,t),a=o+2*n,c=s+2*n,h.info(`Calculated bounds: ${a}x${c}`),Dw(e,c,a,i);const l=`${r.x-n} ${r.y-n} ${r.width+2*n} ${r.height+2*n}`;e.attr("viewBox",l)},Lw=t=>`g.classGroup text {\n  fill: ${t.nodeBorder};\n  fill: ${t.classText};\n  stroke: none;\n  font-family: ${t.fontFamily};\n  font-size: 10px;\n\n  .title {\n    font-weight: bolder;\n  }\n\n}\n\n.nodeLabel, .edgeLabel {\n  color: ${t.classText};\n}\n.edgeLabel .label rect {\n  fill: ${t.mainBkg};\n}\n.label text {\n  fill: ${t.classText};\n}\n.edgeLabel .label span {\n  background: ${t.mainBkg};\n}\n\n.classTitle {\n  font-weight: bolder;\n}\n.node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n    stroke-width: 1px;\n  }\n\n\n.divider {\n  stroke: ${t.nodeBorder};\n  stroke: 1;\n}\n\ng.clickable {\n  cursor: pointer;\n}\n\ng.classGroup rect {\n  fill: ${t.mainBkg};\n  stroke: ${t.nodeBorder};\n}\n\ng.classGroup line {\n  stroke: ${t.nodeBorder};\n  stroke-width: 1;\n}\n\n.classLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${t.mainBkg};\n  opacity: 0.5;\n}\n\n.classLabel .label {\n  fill: ${t.nodeBorder};\n  font-size: 10px;\n}\n\n.relation {\n  stroke: ${t.lineColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.dashed-line{\n  stroke-dasharray: 3;\n}\n\n.dotted-line{\n  stroke-dasharray: 1 2;\n}\n\n#compositionStart, .composition {\n  fill: ${t.lineColor} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#compositionEnd, .composition {\n  fill: ${t.lineColor} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ${t.lineColor} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ${t.lineColor} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#extensionStart, .extension {\n  fill: ${t.mainBkg} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#extensionEnd, .extension {\n  fill: ${t.mainBkg} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#aggregationStart, .aggregation {\n  fill: ${t.mainBkg} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#aggregationEnd, .aggregation {\n  fill: ${t.mainBkg} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#lollipopStart, .lollipop {\n  fill: ${t.mainBkg} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#lollipopEnd, .lollipop {\n  fill: ${t.mainBkg} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n.edgeTerminals {\n  font-size: 11px;\n}\n\n.classTitleText {\n  text-anchor: middle;\n  font-size: 18px;\n  fill: ${t.textColor};\n}\n`,Rw=t=>`\n  .entityBox {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n  }\n\n  .attributeBoxOdd {\n    fill: ${t.attributeBackgroundColorOdd};\n    stroke: ${t.nodeBorder};\n  }\n\n  .attributeBoxEven {\n    fill:  ${t.attributeBackgroundColorEven};\n    stroke: ${t.nodeBorder};\n  }\n\n  .relationshipLabelBox {\n    fill: ${t.tertiaryColor};\n    opacity: 0.7;\n    background-color: ${t.tertiaryColor};\n      rect {\n        opacity: 0.5;\n      }\n  }\n\n    .relationshipLine {\n      stroke: ${t.lineColor};\n    }\n\n  .entityTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${t.textColor};\n  }    \n`,Bw=()=>"",Fw=t=>`.label {\n    font-family: ${t.fontFamily};\n    color: ${t.nodeTextColor||t.textColor};\n  }\n  .cluster-label text {\n    fill: ${t.titleColor};\n  }\n  .cluster-label span {\n    color: ${t.titleColor};\n  }\n\n  .label text,span {\n    fill: ${t.nodeTextColor||t.textColor};\n    color: ${t.nodeTextColor||t.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${t.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${t.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${t.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${t.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n      background-color: ${t.edgeLabelBackground};\n      fill: ${t.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n    fill: ${t.clusterBkg};\n    stroke: ${t.clusterBorder};\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${t.titleColor};\n  }\n\n  .cluster span {\n    color: ${t.titleColor};\n  }\n  /* .cluster div {\n    color: ${t.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${t.fontFamily};\n    font-size: 12px;\n    background: ${t.tertiaryColor};\n    border: 1px solid ${t.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .flowchartTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${t.textColor};\n  }\n`,jw=t=>`\n  .mermaid-main-font {\n    font-family: "trebuchet ms", verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  .exclude-range {\n    fill: ${t.excludeBkgColor};\n  }\n\n  .section {\n    stroke: none;\n    opacity: 0.2;\n  }\n\n  .section0 {\n    fill: ${t.sectionBkgColor};\n  }\n\n  .section2 {\n    fill: ${t.sectionBkgColor2};\n  }\n\n  .section1,\n  .section3 {\n    fill: ${t.altSectionBkgColor};\n    opacity: 0.2;\n  }\n\n  .sectionTitle0 {\n    fill: ${t.titleColor};\n  }\n\n  .sectionTitle1 {\n    fill: ${t.titleColor};\n  }\n\n  .sectionTitle2 {\n    fill: ${t.titleColor};\n  }\n\n  .sectionTitle3 {\n    fill: ${t.titleColor};\n  }\n\n  .sectionTitle {\n    text-anchor: start;\n    // font-size: ${t.ganttFontSize};\n    // text-height: 14px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n\n  /* Grid and axis */\n\n  .grid .tick {\n    stroke: ${t.gridColor};\n    opacity: 0.8;\n    shape-rendering: crispEdges;\n    text {\n      font-family: ${t.fontFamily};\n      fill: ${t.textColor};\n    }\n  }\n\n  .grid path {\n    stroke-width: 0;\n  }\n\n\n  /* Today line */\n\n  .today {\n    fill: none;\n    stroke: ${t.todayLineColor};\n    stroke-width: 2px;\n  }\n\n\n  /* Task styling */\n\n  /* Default task */\n\n  .task {\n    stroke-width: 2;\n  }\n\n  .taskText {\n    text-anchor: middle;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n\n  // .taskText:not([font-size]) {\n  //   font-size: ${t.ganttFontSize};\n  // }\n\n  .taskTextOutsideRight {\n    fill: ${t.taskTextDarkColor};\n    text-anchor: start;\n    // font-size: ${t.ganttFontSize};\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n  .taskTextOutsideLeft {\n    fill: ${t.taskTextDarkColor};\n    text-anchor: end;\n    // font-size: ${t.ganttFontSize};\n  }\n\n  /* Special case clickable */\n  .task.clickable {\n    cursor: pointer;\n  }\n  .taskText.clickable {\n    cursor: pointer;\n    fill: ${t.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideLeft.clickable {\n    cursor: pointer;\n    fill: ${t.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideRight.clickable {\n    cursor: pointer;\n    fill: ${t.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  /* Specific task settings for the sections*/\n\n  .taskText0,\n  .taskText1,\n  .taskText2,\n  .taskText3 {\n    fill: ${t.taskTextColor};\n  }\n\n  .task0,\n  .task1,\n  .task2,\n  .task3 {\n    fill: ${t.taskBkgColor};\n    stroke: ${t.taskBorderColor};\n  }\n\n  .taskTextOutside0,\n  .taskTextOutside2\n  {\n    fill: ${t.taskTextOutsideColor};\n  }\n\n  .taskTextOutside1,\n  .taskTextOutside3 {\n    fill: ${t.taskTextOutsideColor};\n  }\n\n\n  /* Active task */\n\n  .active0,\n  .active1,\n  .active2,\n  .active3 {\n    fill: ${t.activeTaskBkgColor};\n    stroke: ${t.activeTaskBorderColor};\n  }\n\n  .activeText0,\n  .activeText1,\n  .activeText2,\n  .activeText3 {\n    fill: ${t.taskTextDarkColor} !important;\n  }\n\n\n  /* Completed task */\n\n  .done0,\n  .done1,\n  .done2,\n  .done3 {\n    stroke: ${t.doneTaskBorderColor};\n    fill: ${t.doneTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneText0,\n  .doneText1,\n  .doneText2,\n  .doneText3 {\n    fill: ${t.taskTextDarkColor} !important;\n  }\n\n\n  /* Tasks on the critical line */\n\n  .crit0,\n  .crit1,\n  .crit2,\n  .crit3 {\n    stroke: ${t.critBorderColor};\n    fill: ${t.critBkgColor};\n    stroke-width: 2;\n  }\n\n  .activeCrit0,\n  .activeCrit1,\n  .activeCrit2,\n  .activeCrit3 {\n    stroke: ${t.critBorderColor};\n    fill: ${t.activeTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneCrit0,\n  .doneCrit1,\n  .doneCrit2,\n  .doneCrit3 {\n    stroke: ${t.critBorderColor};\n    fill: ${t.doneTaskBkgColor};\n    stroke-width: 2;\n    cursor: pointer;\n    shape-rendering: crispEdges;\n  }\n\n  .milestone {\n    transform: rotate(45deg) scale(0.8,0.8);\n  }\n\n  .milestoneText {\n    font-style: italic;\n  }\n  .doneCritText0,\n  .doneCritText1,\n  .doneCritText2,\n  .doneCritText3 {\n    fill: ${t.taskTextDarkColor} !important;\n  }\n\n  .activeCritText0,\n  .activeCritText1,\n  .activeCritText2,\n  .activeCritText3 {\n    fill: ${t.taskTextDarkColor} !important;\n  }\n\n  .titleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${t.textColor}    ;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n`,$w=()=>"",Vw=t=>`\n  .pieCircle{\n    stroke: ${t.pieStrokeColor};\n    stroke-width : ${t.pieStrokeWidth};\n    opacity : ${t.pieOpacity};\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ${t.pieTitleTextSize};\n    fill: ${t.pieTitleTextColor};\n    font-family: ${t.fontFamily};\n  }\n  .slice {\n    font-family: ${t.fontFamily};\n    fill: ${t.pieSectionTextColor};\n    font-size:${t.pieSectionTextSize};\n    // fill: white;\n  }\n  .legend text {\n    fill: ${t.pieLegendTextColor};\n    font-family: ${t.fontFamily};\n    font-size: ${t.pieLegendTextSize};\n  }\n`,zw=t=>`\n\n  marker {\n    fill: ${t.relationColor};\n    stroke: ${t.relationColor};\n  }\n\n  marker.cross {\n    stroke: ${t.lineColor};\n  }\n\n  svg {\n    font-family: ${t.fontFamily};\n    font-size: ${t.fontSize};\n  }\n\n  .reqBox {\n    fill: ${t.requirementBackground};\n    fill-opacity: 100%;\n    stroke: ${t.requirementBorderColor};\n    stroke-width: ${t.requirementBorderSize};\n  }\n  \n  .reqTitle, .reqLabel{\n    fill:  ${t.requirementTextColor};\n  }\n  .reqLabelBox {\n    fill: ${t.relationLabelBackground};\n    fill-opacity: 100%;\n  }\n\n  .req-title-line {\n    stroke: ${t.requirementBorderColor};\n    stroke-width: ${t.requirementBorderSize};\n  }\n  .relationshipLine {\n    stroke: ${t.relationColor};\n    stroke-width: 1;\n  }\n  .relationshipLabel {\n    fill: ${t.relationLabelColor};\n  }\n\n`,Hw=t=>`.actor {\n    stroke: ${t.actorBorder};\n    fill: ${t.actorBkg};\n  }\n\n  text.actor > tspan {\n    fill: ${t.actorTextColor};\n    stroke: none;\n  }\n\n  .actor-line {\n    stroke: ${t.actorLineColor};\n  }\n\n  .messageLine0 {\n    stroke-width: 1.5;\n    stroke-dasharray: none;\n    stroke: ${t.signalColor};\n  }\n\n  .messageLine1 {\n    stroke-width: 1.5;\n    stroke-dasharray: 2, 2;\n    stroke: ${t.signalColor};\n  }\n\n  #arrowhead path {\n    fill: ${t.signalColor};\n    stroke: ${t.signalColor};\n  }\n\n  .sequenceNumber {\n    fill: ${t.sequenceNumberColor};\n  }\n\n  #sequencenumber {\n    fill: ${t.signalColor};\n  }\n\n  #crosshead path {\n    fill: ${t.signalColor};\n    stroke: ${t.signalColor};\n  }\n\n  .messageText {\n    fill: ${t.signalTextColor};\n    stroke: none;\n  }\n\n  .labelBox {\n    stroke: ${t.labelBoxBorderColor};\n    fill: ${t.labelBoxBkgColor};\n  }\n\n  .labelText, .labelText > tspan {\n    fill: ${t.labelTextColor};\n    stroke: none;\n  }\n\n  .loopText, .loopText > tspan {\n    fill: ${t.loopTextColor};\n    stroke: none;\n  }\n\n  .loopLine {\n    stroke-width: 2px;\n    stroke-dasharray: 2, 2;\n    stroke: ${t.labelBoxBorderColor};\n    fill: ${t.labelBoxBorderColor};\n  }\n\n  .note {\n    //stroke: #decc93;\n    stroke: ${t.noteBorderColor};\n    fill: ${t.noteBkgColor};\n  }\n\n  .noteText, .noteText > tspan {\n    fill: ${t.noteTextColor};\n    stroke: none;\n  }\n\n  .activation0 {\n    fill: ${t.activationBkgColor};\n    stroke: ${t.activationBorderColor};\n  }\n\n  .activation1 {\n    fill: ${t.activationBkgColor};\n    stroke: ${t.activationBorderColor};\n  }\n\n  .activation2 {\n    fill: ${t.activationBkgColor};\n    stroke: ${t.activationBorderColor};\n  }\n\n  .actorPopupMenu {\n    position: absolute;\n  }\n\n  .actorPopupMenuPanel {\n    position: absolute;\n    fill: ${t.actorBkg};\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));\n}\n  .actor-man line {\n    stroke: ${t.actorBorder};\n    fill: ${t.actorBkg};\n  }\n  .actor-man circle, line {\n    stroke: ${t.actorBorder};\n    fill: ${t.actorBkg};\n    stroke-width: 2px;\n  }\n`,Uw=t=>`\ndefs #statediagram-barbEnd {\n    fill: ${t.transitionColor};\n    stroke: ${t.transitionColor};\n  }\ng.stateGroup text {\n  fill: ${t.nodeBorder};\n  stroke: none;\n  font-size: 10px;\n}\ng.stateGroup text {\n  fill: ${t.textColor};\n  stroke: none;\n  font-size: 10px;\n\n}\ng.stateGroup .state-title {\n  font-weight: bolder;\n  fill: ${t.stateLabelColor};\n}\n\ng.stateGroup rect {\n  fill: ${t.mainBkg};\n  stroke: ${t.nodeBorder};\n}\n\ng.stateGroup line {\n  stroke: ${t.lineColor};\n  stroke-width: 1;\n}\n\n.transition {\n  stroke: ${t.transitionColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.stateGroup .composit {\n  fill: ${t.background};\n  border-bottom: 1px\n}\n\n.stateGroup .alt-composit {\n  fill: #e0e0e0;\n  border-bottom: 1px\n}\n\n.state-note {\n  stroke: ${t.noteBorderColor};\n  fill: ${t.noteBkgColor};\n\n  text {\n    fill: ${t.noteTextColor};\n    stroke: none;\n    font-size: 10px;\n  }\n}\n\n.stateLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${t.mainBkg};\n  opacity: 0.5;\n}\n\n.edgeLabel .label rect {\n  fill: ${t.labelBackgroundColor};\n  opacity: 0.5;\n}\n.edgeLabel .label text {\n  fill: ${t.transitionLabelColor||t.tertiaryTextColor};\n}\n.label div .edgeLabel {\n  color: ${t.transitionLabelColor||t.tertiaryTextColor};\n}\n\n.stateLabel text {\n  fill: ${t.stateLabelColor};\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.node circle.state-start {\n  fill: ${t.specialStateColor};\n  stroke: ${t.specialStateColor};\n}\n\n.node .fork-join {\n  fill: ${t.specialStateColor};\n  stroke: ${t.specialStateColor};\n}\n\n.node circle.state-end {\n  fill: ${t.innerEndBackground};\n  stroke: ${t.background};\n  stroke-width: 1.5\n}\n.end-state-inner {\n  fill: ${t.compositeBackground||t.background};\n  // stroke: ${t.background};\n  stroke-width: 1.5\n}\n\n.node rect {\n  fill: ${t.stateBkg||t.mainBkg};\n  stroke: ${t.stateBorder||t.nodeBorder};\n  stroke-width: 1px;\n}\n.node polygon {\n  fill: ${t.mainBkg};\n  stroke: ${t.stateBorder||t.nodeBorder};;\n  stroke-width: 1px;\n}\n#statediagram-barbEnd {\n  fill: ${t.lineColor};\n}\n\n.statediagram-cluster rect {\n  fill: ${t.compositeTitleBackground};\n  stroke: ${t.stateBorder||t.nodeBorder};\n  stroke-width: 1px;\n}\n\n.cluster-label, .nodeLabel {\n  color: ${t.stateLabelColor};\n}\n\n.statediagram-cluster rect.outer {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state .divider {\n  stroke: ${t.stateBorder||t.nodeBorder};\n}\n\n.statediagram-state .title-state {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-cluster.statediagram-cluster .inner {\n  fill: ${t.compositeBackground||t.background};\n}\n.statediagram-cluster.statediagram-cluster-alt .inner {\n  fill: ${t.altBackground?t.altBackground:"#efefef"};\n}\n\n.statediagram-cluster .inner {\n  rx:0;\n  ry:0;\n}\n\n.statediagram-state rect.basic {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state rect.divider {\n  stroke-dasharray: 10,10;\n  fill: ${t.altBackground?t.altBackground:"#efefef"};\n}\n\n.note-edge {\n  stroke-dasharray: 5;\n}\n\n.statediagram-note rect {\n  fill: ${t.noteBkgColor};\n  stroke: ${t.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n.statediagram-note rect {\n  fill: ${t.noteBkgColor};\n  stroke: ${t.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n\n.statediagram-note text {\n  fill: ${t.noteTextColor};\n}\n\n.statediagram-note .nodeLabel {\n  color: ${t.noteTextColor};\n}\n.statediagram .edgeLabel {\n  color: red; // ${t.noteTextColor};\n}\n\n#dependencyStart, #dependencyEnd {\n  fill: ${t.lineColor};\n  stroke: ${t.lineColor};\n  stroke-width: 1;\n}\n\n.statediagramTitleText {\n  text-anchor: middle;\n  font-size: 18px;\n  fill: ${t.textColor};\n}\n`,qw=t=>`.label {\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    color: ${t.textColor};\n  }\n  .mouth {\n    stroke: #666;\n  }\n\n  line {\n    stroke: ${t.textColor}\n  }\n\n  .legend {\n    fill: ${t.textColor};\n  }\n\n  .label text {\n    fill: #333;\n  }\n  .label {\n    color: ${t.textColor}\n  }\n\n  .face {\n    ${t.faceColor?`fill: ${t.faceColor}`:"fill: #FFF8DC"};\n    stroke: #999;\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${t.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${t.lineColor};\n    stroke-width: 1.5px;\n  }\n\n  .flowchart-link {\n    stroke: ${t.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${t.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n  }\n\n  .cluster text {\n    fill: ${t.titleColor};\n  }\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    font-size: 12px;\n    background: ${t.tertiaryColor};\n    border: 1px solid ${t.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .task-type-0, .section-type-0  {\n    ${t.fillType0?`fill: ${t.fillType0}`:""};\n  }\n  .task-type-1, .section-type-1  {\n    ${t.fillType0?`fill: ${t.fillType1}`:""};\n  }\n  .task-type-2, .section-type-2  {\n    ${t.fillType0?`fill: ${t.fillType2}`:""};\n  }\n  .task-type-3, .section-type-3  {\n    ${t.fillType0?`fill: ${t.fillType3}`:""};\n  }\n  .task-type-4, .section-type-4  {\n    ${t.fillType0?`fill: ${t.fillType4}`:""};\n  }\n  .task-type-5, .section-type-5  {\n    ${t.fillType0?`fill: ${t.fillType5}`:""};\n  }\n  .task-type-6, .section-type-6  {\n    ${t.fillType0?`fill: ${t.fillType6}`:""};\n  }\n  .task-type-7, .section-type-7  {\n    ${t.fillType0?`fill: ${t.fillType7}`:""};\n  }\n\n  .actor-0 {\n    ${t.actor0?`fill: ${t.actor0}`:""};\n  }\n  .actor-1 {\n    ${t.actor1?`fill: ${t.actor1}`:""};\n  }\n  .actor-2 {\n    ${t.actor2?`fill: ${t.actor2}`:""};\n  }\n  .actor-3 {\n    ${t.actor3?`fill: ${t.actor3}`:""};\n  }\n  .actor-4 {\n    ${t.actor4?`fill: ${t.actor4}`:""};\n  }\n  .actor-5 {\n    ${t.actor5?`fill: ${t.actor5}`:""};\n  }\n`,Ww=t=>`.person {\n    stroke: ${t.personBorder};\n    fill: ${t.personBkg};\n  }\n`,Gw={flowchart:Fw,"flowchart-v2":Fw,sequence:Hw,gantt:jw,classDiagram:Lw,"classDiagram-v2":Lw,class:Lw,stateDiagram:Uw,state:Uw,info:$w,pie:Vw,er:Rw,error:Bw,journey:qw,requirement:zw,c4:Ww},Kw=(t,e)=>{Gw[t]=e},Yw=(t,e,n)=>{let i="";return t in Gw&&Gw[t]?i=Gw[t](n):h.warn(`No theme found for ${t}`),` & {\n    font-family: ${n.fontFamily};\n    font-size: ${n.fontSize};\n    fill: ${n.textColor}\n  }\n\n  /* Classes common for multiple diagrams */\n\n  & .error-icon {\n    fill: ${n.errorBkgColor};\n  }\n  & .error-text {\n    fill: ${n.errorTextColor};\n    stroke: ${n.errorTextColor};\n  }\n\n  & .edge-thickness-normal {\n    stroke-width: 2px;\n  }\n  & .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  & .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n\n  & .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  & .marker {\n    fill: ${n.lineColor};\n    stroke: ${n.lineColor};\n  }\n  & .marker.cross {\n    stroke: ${n.lineColor};\n  }\n\n  & svg {\n    font-family: ${n.fontFamily};\n    font-size: ${n.fontSize};\n  }\n\n  ${i}\n\n  ${e}\n`};let Xw="",Zw="",Qw="";const Jw=t=>Wh(t,xw()),ty=function(){Xw="",Qw="",Zw=""},ey=function(t){Xw=Jw(t).replace(/^\s+/g,"")},ny=function(){return Xw||Zw},iy=function(t){Qw=Jw(t).replace(/\n\s+/g,"\n")},ry=function(){return Qw},oy=function(t){Zw=Jw(t)},sy=function(){return Zw},ay={setAccTitle:ey,getAccTitle:ny,setDiagramTitle:oy,getDiagramTitle:sy,getAccDescription:ry,setAccDescription:iy,clear:ty},cy=Object.freeze(Object.defineProperty({__proto__:null,clear:ty,default:ay,getAccDescription:ry,getAccTitle:ny,getDiagramTitle:sy,setAccDescription:iy,setAccTitle:ey,setDiagramTitle:oy},Symbol.toStringTag,{value:"Module"}));let ly={};const uy=function(t,e,n,i){h.debug("parseDirective is being called",e,n,i);try{if(void 0!==e)switch(e=e.trim(),n){case"open_directive":ly={};break;case"type_directive":if(!ly)throw new Error("currentDirective is undefined");ly.type=e.toLowerCase();break;case"arg_directive":if(!ly)throw new Error("currentDirective is undefined");ly.args=JSON.parse(e);break;case"close_directive":hy(t,ly,i),ly=void 0}}catch(t){h.error(`Error while rendering sequenceDiagram directive: ${e} jison context: ${n}`),h.error(t.message)}},hy=function(t,e,n){switch(h.info(`Directive type=${e.type} with args:`,e.args),e.type){case"init":case"initialize":["config"].forEach((t=>{void 0!==e.args[t]&&("flowchart-v2"===n&&(n="flowchart"),e.args[n]=e.args[t],delete e.args[t])})),h.info("sanitize in handleDirective",e.args),pb(e.args),h.info("sanitize in handleDirective (done)",e.args),Tw(e.args);break;case"wrap":case"nowrap":t&&t.setWrap&&t.setWrap("wrap"===e.type);break;case"themeCss":h.warn("themeCss encountered");break;default:h.warn(`Unhandled directive: source: '%%{${e.type}: ${JSON.stringify(e.args?e.args:{})}}%%`,e)}},dy=h,fy=d,gy=xw,py=t=>Wh(t,gy()),my=Nw,by=()=>cy,wy=(t,e,n,i)=>uy(t,e,n,i),yy={},vy=(t,e,n)=>{if(yy[t])throw new Error(`Diagram ${t} already registered.`);yy[t]=e,n&&Ep(t,n),Kw(t,e.styles),e.injectUtils&&e.injectUtils(dy,fy,gy,py,my,by(),wy)},_y=t=>{if(t in yy)return yy[t];throw new Error(`Diagram ${t} not found.`)};var ky=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[1,4],n=[1,7],i=[1,5],r=[1,9],o=[1,6],s=[2,6],a=[1,16],c=[6,8,14,20,22,24,25,27,29,32,37,40,50,55],l=[8,14,20,22,24,25,27,29,32,37,40],u=[8,13,14,20,22,24,25,27,29,32,37,40],h=[1,26],d=[6,8,14,50,55],f=[8,14,55],g=[1,53],p=[1,52],m=[8,14,30,33,35,38,55],b=[1,67],w=[1,68],y=[1,69],v=[8,14,33,35,42,55],_={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ref:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,ID:54,";":55,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:"ID",55:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[28,1],[28,1],[4,1],[4,1],[4,1]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 3:return o[a];case 4:return o[a-1];case 5:return i.setDirection(o[a-3]),o[a-1];case 7:i.setOptions(o[a-1]),this.$=o[a];break;case 8:o[a-1]+=o[a],this.$=o[a-1];break;case 10:this.$=[];break;case 11:o[a-1].push(o[a]),this.$=o[a-1];break;case 12:this.$=o[a-1];break;case 17:this.$=o[a].trim(),i.setAccTitle(this.$);break;case 18:case 19:this.$=o[a].trim(),i.setAccDescription(this.$);break;case 20:i.addSection(o[a].substr(8)),this.$=o[a].substr(8);break;case 22:i.checkout(o[a]);break;case 23:i.branch(o[a]);break;case 24:i.branch(o[a-2],o[a]);break;case 25:i.cherryPick(o[a],"",void 0);break;case 26:i.cherryPick(o[a-2],"",o[a]);break;case 27:case 29:i.cherryPick(o[a-2],"","");break;case 28:i.cherryPick(o[a],"",o[a-2]);break;case 30:i.merge(o[a],"","","");break;case 31:i.merge(o[a-2],o[a],"","");break;case 32:i.merge(o[a-2],"",o[a],"");break;case 33:i.merge(o[a-2],"","",o[a]);break;case 34:i.merge(o[a-4],o[a],"",o[a-2]);break;case 35:i.merge(o[a-4],"",o[a],o[a-2]);break;case 36:i.merge(o[a-4],"",o[a-2],o[a]);break;case 37:i.merge(o[a-4],o[a-2],o[a],"");break;case 38:i.merge(o[a-4],o[a-2],"",o[a]);break;case 39:i.merge(o[a-4],o[a],o[a-2],"");break;case 40:i.merge(o[a-6],o[a-4],o[a-2],o[a]);break;case 41:i.merge(o[a-6],o[a],o[a-4],o[a-2]);break;case 42:i.merge(o[a-6],o[a-4],o[a],o[a-2]);break;case 43:i.merge(o[a-6],o[a-2],o[a-4],o[a]);break;case 44:i.merge(o[a-6],o[a],o[a-2],o[a-4]);break;case 45:i.merge(o[a-6],o[a-2],o[a],o[a-4]);break;case 46:i.commit(o[a]);break;case 47:i.commit("","",i.commitType.NORMAL,o[a]);break;case 48:i.commit("","",o[a],"");break;case 49:i.commit("","",o[a],o[a-2]);break;case 50:i.commit("","",o[a-2],o[a]);break;case 51:i.commit("",o[a],i.commitType.NORMAL,"");break;case 52:i.commit("",o[a-2],i.commitType.NORMAL,o[a]);break;case 53:i.commit("",o[a],i.commitType.NORMAL,o[a-2]);break;case 54:i.commit("",o[a-2],o[a],"");break;case 55:i.commit("",o[a],o[a-2],"");break;case 56:i.commit("",o[a-4],o[a-2],o[a]);break;case 57:i.commit("",o[a-4],o[a],o[a-2]);break;case 58:i.commit("",o[a-2],o[a-4],o[a]);break;case 59:i.commit("",o[a],o[a-4],o[a-2]);break;case 60:i.commit("",o[a],o[a-2],o[a-4]);break;case 61:i.commit("",o[a-2],o[a],o[a-4]);break;case 62:i.commit(o[a],"",i.commitType.NORMAL,"");break;case 63:i.commit(o[a],"",i.commitType.NORMAL,o[a-2]);break;case 64:i.commit(o[a-2],"",i.commitType.NORMAL,o[a]);break;case 65:i.commit(o[a-2],"",o[a],"");break;case 66:i.commit(o[a],"",o[a-2],"");break;case 67:i.commit(o[a],o[a-2],i.commitType.NORMAL,"");break;case 68:i.commit(o[a-2],o[a],i.commitType.NORMAL,"");break;case 69:i.commit(o[a-4],"",o[a-2],o[a]);break;case 70:i.commit(o[a-4],"",o[a],o[a-2]);break;case 71:i.commit(o[a-2],"",o[a-4],o[a]);break;case 72:i.commit(o[a],"",o[a-4],o[a-2]);break;case 73:i.commit(o[a],"",o[a-2],o[a-4]);break;case 74:i.commit(o[a-2],"",o[a],o[a-4]);break;case 75:i.commit(o[a-4],o[a],o[a-2],"");break;case 76:i.commit(o[a-4],o[a-2],o[a],"");break;case 77:i.commit(o[a-2],o[a],o[a-4],"");break;case 78:i.commit(o[a],o[a-2],o[a-4],"");break;case 79:i.commit(o[a],o[a-4],o[a-2],"");break;case 80:i.commit(o[a-2],o[a-4],o[a],"");break;case 81:i.commit(o[a-4],o[a],i.commitType.NORMAL,o[a-2]);break;case 82:i.commit(o[a-4],o[a-2],i.commitType.NORMAL,o[a]);break;case 83:i.commit(o[a-2],o[a],i.commitType.NORMAL,o[a-4]);break;case 84:i.commit(o[a],o[a-2],i.commitType.NORMAL,o[a-4]);break;case 85:i.commit(o[a],o[a-4],i.commitType.NORMAL,o[a-2]);break;case 86:i.commit(o[a-2],o[a-4],i.commitType.NORMAL,o[a]);break;case 87:i.commit(o[a-6],o[a-4],o[a-2],o[a]);break;case 88:i.commit(o[a-6],o[a-4],o[a],o[a-2]);break;case 89:i.commit(o[a-6],o[a-2],o[a-4],o[a]);break;case 90:i.commit(o[a-6],o[a],o[a-4],o[a-2]);break;case 91:i.commit(o[a-6],o[a-2],o[a],o[a-4]);break;case 92:i.commit(o[a-6],o[a],o[a-2],o[a-4]);break;case 93:i.commit(o[a-4],o[a-6],o[a-2],o[a]);break;case 94:i.commit(o[a-4],o[a-6],o[a],o[a-2]);break;case 95:i.commit(o[a-2],o[a-6],o[a-4],o[a]);break;case 96:i.commit(o[a],o[a-6],o[a-4],o[a-2]);break;case 97:i.commit(o[a-2],o[a-6],o[a],o[a-4]);break;case 98:i.commit(o[a],o[a-6],o[a-2],o[a-4]);break;case 99:i.commit(o[a],o[a-4],o[a-2],o[a-6]);break;case 100:i.commit(o[a-2],o[a-4],o[a],o[a-6]);break;case 101:i.commit(o[a],o[a-2],o[a-4],o[a-6]);break;case 102:i.commit(o[a-2],o[a],o[a-4],o[a-6]);break;case 103:i.commit(o[a-4],o[a-2],o[a],o[a-6]);break;case 104:i.commit(o[a-4],o[a],o[a-2],o[a-6]);break;case 105:i.commit(o[a-2],o[a-4],o[a-6],o[a]);break;case 106:i.commit(o[a],o[a-4],o[a-6],o[a-2]);break;case 107:i.commit(o[a-2],o[a],o[a-6],o[a-4]);break;case 108:i.commit(o[a],o[a-2],o[a-6],o[a-4]);break;case 109:i.commit(o[a-4],o[a-2],o[a-6],o[a]);break;case 110:i.commit(o[a-4],o[a],o[a-6],o[a-2]);break;case 111:this.$="";break;case 112:this.$=o[a];break;case 113:this.$=i.commitType.NORMAL;break;case 114:this.$=i.commitType.REVERSE;break;case 115:this.$=i.commitType.HIGHLIGHT;break;case 118:i.parseDirective("%%{","open_directive");break;case 119:i.parseDirective(o[a],"type_directive");break;case 120:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 121:i.parseDirective("}%%","close_directive","gitGraph")}},table:[{3:1,4:2,5:3,6:e,8:n,14:i,46:8,50:r,55:o},{1:[3]},{3:10,4:2,5:3,6:e,8:n,14:i,46:8,50:r,55:o},{3:11,4:2,5:3,6:e,8:n,14:i,46:8,50:r,55:o},{7:12,8:s,9:[1,13],10:[1,14],11:15,14:a},t(c,[2,124]),t(c,[2,125]),t(c,[2,126]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:s,11:15,14:a},{9:[1,21]},t(l,[2,10],{12:22,13:[1,23]}),t(u,[2,9]),{9:[1,25],48:24,53:h},t([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:s,11:15,14:a},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},t(u,[2,8]),t(d,[2,116]),{49:45,52:[1,46]},t(d,[2,121]),{1:[2,4]},{8:[1,47]},t(l,[2,11]),{4:48,8:n,14:i,55:o},t(l,[2,13]),t(f,[2,14]),t(f,[2,15]),t(f,[2,16]),{21:[1,49]},{23:[1,50]},t(f,[2,19]),t(f,[2,20]),t(f,[2,21]),{28:51,34:g,54:p},t(f,[2,111],{41:54,33:[1,57],34:[1,59],35:[1,55],38:[1,56],42:[1,58]}),{28:60,34:g,54:p},{33:[1,61],35:[1,62]},{28:63,34:g,54:p},{48:64,53:h},{53:[2,120]},{1:[2,5]},t(l,[2,12]),t(f,[2,17]),t(f,[2,18]),t(f,[2,22]),t(m,[2,122]),t(m,[2,123]),t(f,[2,46]),{34:[1,65]},{39:66,43:b,44:w,45:y},{34:[1,70]},{34:[1,71]},t(f,[2,112]),t(f,[2,30],{33:[1,72],35:[1,74],38:[1,73]}),{34:[1,75]},{34:[1,76],36:[1,77]},t(f,[2,23],{30:[1,78]}),t(d,[2,117]),t(f,[2,47],{33:[1,80],38:[1,79],42:[1,81]}),t(f,[2,48],{33:[1,83],35:[1,82],42:[1,84]}),t(v,[2,113]),t(v,[2,114]),t(v,[2,115]),t(f,[2,51],{35:[1,85],38:[1,86],42:[1,87]}),t(f,[2,62],{33:[1,90],35:[1,88],38:[1,89]}),{34:[1,91]},{39:92,43:b,44:w,45:y},{34:[1,93]},t(f,[2,25],{35:[1,94]}),{33:[1,95]},{33:[1,96]},{31:[1,97]},{39:98,43:b,44:w,45:y},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{34:[1,103]},{34:[1,104]},{39:105,43:b,44:w,45:y},{34:[1,106]},{34:[1,107]},{39:108,43:b,44:w,45:y},{34:[1,109]},t(f,[2,31],{35:[1,111],38:[1,110]}),t(f,[2,32],{33:[1,113],35:[1,112]}),t(f,[2,33],{33:[1,114],38:[1,115]}),{34:[1,116],36:[1,117]},{34:[1,118]},{34:[1,119]},t(f,[2,24]),t(f,[2,49],{33:[1,120],42:[1,121]}),t(f,[2,53],{38:[1,122],42:[1,123]}),t(f,[2,63],{33:[1,125],38:[1,124]}),t(f,[2,50],{33:[1,126],42:[1,127]}),t(f,[2,55],{35:[1,128],42:[1,129]}),t(f,[2,66],{33:[1,131],35:[1,130]}),t(f,[2,52],{38:[1,132],42:[1,133]}),t(f,[2,54],{35:[1,134],42:[1,135]}),t(f,[2,67],{35:[1,137],38:[1,136]}),t(f,[2,64],{33:[1,139],38:[1,138]}),t(f,[2,65],{33:[1,141],35:[1,140]}),t(f,[2,68],{35:[1,143],38:[1,142]}),{39:144,43:b,44:w,45:y},{34:[1,145]},{34:[1,146]},{34:[1,147]},{34:[1,148]},{39:149,43:b,44:w,45:y},t(f,[2,26]),t(f,[2,27]),t(f,[2,28]),t(f,[2,29]),{34:[1,150]},{34:[1,151]},{39:152,43:b,44:w,45:y},{34:[1,153]},{39:154,43:b,44:w,45:y},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{34:[1,160]},{34:[1,161]},{39:162,43:b,44:w,45:y},{34:[1,163]},{34:[1,164]},{34:[1,165]},{39:166,43:b,44:w,45:y},{34:[1,167]},{39:168,43:b,44:w,45:y},{34:[1,169]},{34:[1,170]},{34:[1,171]},{39:172,43:b,44:w,45:y},{34:[1,173]},t(f,[2,37],{35:[1,174]}),t(f,[2,38],{38:[1,175]}),t(f,[2,36],{33:[1,176]}),t(f,[2,39],{35:[1,177]}),t(f,[2,34],{38:[1,178]}),t(f,[2,35],{33:[1,179]}),t(f,[2,60],{42:[1,180]}),t(f,[2,73],{33:[1,181]}),t(f,[2,61],{42:[1,182]}),t(f,[2,84],{38:[1,183]}),t(f,[2,74],{33:[1,184]}),t(f,[2,83],{38:[1,185]}),t(f,[2,59],{42:[1,186]}),t(f,[2,72],{33:[1,187]}),t(f,[2,58],{42:[1,188]}),t(f,[2,78],{35:[1,189]}),t(f,[2,71],{33:[1,190]}),t(f,[2,77],{35:[1,191]}),t(f,[2,57],{42:[1,192]}),t(f,[2,85],{38:[1,193]}),t(f,[2,56],{42:[1,194]}),t(f,[2,79],{35:[1,195]}),t(f,[2,80],{35:[1,196]}),t(f,[2,86],{38:[1,197]}),t(f,[2,70],{33:[1,198]}),t(f,[2,81],{38:[1,199]}),t(f,[2,69],{33:[1,200]}),t(f,[2,75],{35:[1,201]}),t(f,[2,76],{35:[1,202]}),t(f,[2,82],{38:[1,203]}),{34:[1,204]},{39:205,43:b,44:w,45:y},{34:[1,206]},{34:[1,207]},{39:208,43:b,44:w,45:y},{34:[1,209]},{34:[1,210]},{34:[1,211]},{34:[1,212]},{39:213,43:b,44:w,45:y},{34:[1,214]},{39:215,43:b,44:w,45:y},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{34:[1,221]},{34:[1,222]},{39:223,43:b,44:w,45:y},{34:[1,224]},{34:[1,225]},{34:[1,226]},{39:227,43:b,44:w,45:y},{34:[1,228]},{39:229,43:b,44:w,45:y},{34:[1,230]},{34:[1,231]},{34:[1,232]},{39:233,43:b,44:w,45:y},t(f,[2,40]),t(f,[2,42]),t(f,[2,41]),t(f,[2,43]),t(f,[2,45]),t(f,[2,44]),t(f,[2,101]),t(f,[2,102]),t(f,[2,99]),t(f,[2,100]),t(f,[2,104]),t(f,[2,103]),t(f,[2,108]),t(f,[2,107]),t(f,[2,106]),t(f,[2,105]),t(f,[2,110]),t(f,[2,109]),t(f,[2,98]),t(f,[2,97]),t(f,[2,96]),t(f,[2,95]),t(f,[2,93]),t(f,[2,94]),t(f,[2,92]),t(f,[2,91]),t(f,[2,90]),t(f,[2,89]),t(f,[2,87]),t(f,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",c=0,l=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),g={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(g.yy[p]=this.yy[p]);f.setInput(t,g.yy),g.yy.lexer=f,g.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var b=f.options&&f.options.ranges;function w(){var t;return"number"!=typeof(t=i.pop()||f.lex()||h)&&(t instanceof Array&&(t=(i=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,v,_,k,x,E,T,C,A={};;){if(v=n[n.length-1],this.defaultActions[v]?_=this.defaultActions[v]:(null==y&&(y=w()),_=s[v]&&s[v][y]),void 0===_||!_.length||!_[0]){var S="";for(x in C=[],s[v])this.terminals_[x]&&x>u&&C.push("'"+this.terminals_[x]+"'");S=f.showPosition?"Parse error on line "+(c+1)+":\n"+f.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(c+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[y]||y,line:f.yylineno,loc:m,expected:C})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+y);switch(_[0]){case 1:n.push(y),r.push(f.yytext),o.push(f.yylloc),n.push(_[1]),y=null,l=f.yyleng,a=f.yytext,c=f.yylineno,m=f.yylloc;break;case 2:if(E=this.productions_[_[1]][1],A.$=r[r.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(A,[a,l,c,g.yy,_[1],r,o].concat(d))))return k;E&&(n=n.slice(0,-1*E*2),r=r.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[_[1]][0]),r.push(A.$),o.push(A._$),T=s[n[n.length-2]][n[n.length-1]],n.push(T);break;case 3:return!0}}return!0}},k={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,i){switch(n){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:case 34:case 38:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 39:return 34;case 40:return 31;case 41:return 54;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};function x(){this.yy={}}return _.lexer=k,x.prototype=_,_.Parser=x,new x}();ky.parser=ky;const xy=ky,Ey=t=>null!==t.match(/^\s*gitGraph/);let Ty=xw().gitGraph.mainBranchName,Cy=xw().gitGraph.mainBranchOrder,Ay={},Sy=null,Iy={};Iy[Ty]={name:Ty,order:Cy};let My={};My[Ty]=Sy;let Py=Ty,Oy="LR",Dy=0;function Ny(){return sb({length:7})}function Ly(t,e){const n=Object.create(null);return t.reduce(((t,i)=>{const r=e(i);return n[r]||(n[r]=!0,t.push(i)),t}),[])}let Ry={};const By=function(t,e,n,i){h.debug("Entering commit:",t,e,n,i),e=Jh.sanitizeText(e,xw()),t=Jh.sanitizeText(t,xw()),i=Jh.sanitizeText(i,xw());const r={id:e||Dy+"-"+Ny(),message:t,seq:Dy++,type:n||Wy.NORMAL,tag:i||"",parents:null==Sy?[]:[Sy.id],branch:Py};Sy=r,Ay[r.id]=r,My[Py]=r.id,h.debug("in pushCommit "+r.id)},Fy=function(t,e){if(t=Jh.sanitizeText(t,xw()),void 0!==My[t]){let e=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+t+'")');throw e.hash={text:"branch "+t,token:"branch "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+t+'"']},e}My[t]=null!=Sy?Sy.id:null,Iy[t]={name:t,order:e?parseInt(e,10):null},Vy(t),h.debug("in createBranch")},jy=function(t,e,n,i){t=Jh.sanitizeText(t,xw()),e=Jh.sanitizeText(e,xw());const r=Ay[My[Py]],o=Ay[My[t]];if(Py===t){let e=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw e.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},e}if(void 0===r||!r){let e=new Error('Incorrect usage of "merge". Current branch ('+Py+")has no commits");throw e.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},e}if(void 0===My[t]){let e=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw e.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+t]},e}if(void 0===o||!o){let e=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw e.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},e}if(r===o){let e=new Error('Incorrect usage of "merge". Both branches have same head');throw e.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},e}if(e&&void 0!==Ay[e]){let r=new Error('Incorrect usage of "merge". Commit with id:'+e+" already exists, use different custom Id");throw r.hash={text:"merge "+t+e+n+i,token:"merge "+t+e+n+i,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+t+" "+e+"_UNIQUE "+n+" "+i]},r}const s={id:e||Dy+"-"+Ny(),message:"merged branch "+t+" into "+Py,seq:Dy++,parents:[null==Sy?null:Sy.id,My[t]],branch:Py,type:Wy.MERGE,customType:n,customId:!!e,tag:i||""};Sy=s,Ay[s.id]=s,My[Py]=s.id,h.debug(My),h.debug("in mergeBranch")},$y=function(t,e,n){if(h.debug("Entering cherryPick:",t,e,n),t=Jh.sanitizeText(t,xw()),e=Jh.sanitizeText(e,xw()),n=Jh.sanitizeText(n,xw()),!t||void 0===Ay[t]){let n=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw n.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},n}let i=Ay[t],r=i.branch;if(i.type===Wy.MERGE){let n=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw n.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},n}if(!e||void 0===Ay[e]){if(r===Py){let n=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw n.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},n}const o=Ay[My[Py]];if(void 0===o||!o){let n=new Error('Incorrect usage of "cherry-pick". Current branch ('+Py+")has no commits");throw n.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},n}const s={id:Dy+"-"+Ny(),message:"cherry-picked "+i+" into "+Py,seq:Dy++,parents:[null==Sy?null:Sy.id,i.id],branch:Py,type:Wy.CHERRY_PICK,tag:n??"cherry-pick:"+i.id};Sy=s,Ay[s.id]=s,My[Py]=s.id,h.debug(My),h.debug("in cherryPick")}},Vy=function(t){if(t=Jh.sanitizeText(t,xw()),void 0===My[t]){let e=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+t+'")');throw e.hash={text:"checkout "+t,token:"checkout "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+t+'"']},e}{Py=t;const e=My[Py];Sy=Ay[e]}};function zy(t,e,n){const i=t.indexOf(e);-1===i?t.push(n):t.splice(i,1,n)}function Hy(t){const e=t.reduce(((t,e)=>t.seq>e.seq?t:e),t[0]);let n="";t.forEach((function(t){n+=t===e?"\t*":"\t|"}));const i=[n,e.id,e.seq];for(let t in My)My[t]===e.id&&i.push(t);if(h.debug(i.join(" ")),e.parents&&2==e.parents.length){const n=Ay[e.parents[0]];zy(t,e,n),t.push(Ay[e.parents[1]])}else{if(0==e.parents.length)return;{const n=Ay[e.parents];zy(t,e,n)}}Hy(t=Ly(t,(t=>t.id)))}const Uy=function(){h.debug(Ay),Hy([qy()[0]])},qy=function(){const t=Object.keys(Ay).map((function(t){return Ay[t]}));return t.forEach((function(t){h.debug(t.id)})),t.sort(((t,e)=>t.seq-e.seq)),t},Wy={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},Gy={parseDirective:function(t,e,n){bH.parseDirective(this,t,e,n)},getConfig:()=>xw().gitGraph,setDirection:function(t){Oy=t},setOptions:function(t){h.debug("options str",t),t=(t=t&&t.trim())||"{}";try{Ry=JSON.parse(t)}catch(t){h.error("error while parsing gitGraph options",t.message)}},getOptions:function(){return Ry},commit:By,branch:Fy,merge:jy,cherryPick:$y,checkout:Vy,prettyPrint:Uy,clear:function(){Ay={},Sy=null;let t=xw().gitGraph.mainBranchName,e=xw().gitGraph.mainBranchOrder;My={},My[t]=null,Iy={},Iy[t]={name:t,order:e},Py=t,Dy=0,ty()},getBranchesAsObjArray:function(){return Object.values(Iy).map(((t,e)=>null!==t.order?t:{...t,order:parseFloat(`0.${e}`,10)})).sort(((t,e)=>t.order-e.order)).map((({name:t})=>({name:t})))},getBranches:function(){return My},getCommits:function(){return Ay},getCommitsArray:qy,getCurrentBranch:function(){return Py},getDirection:function(){return Oy},getHead:function(){return Sy},setAccTitle:ey,getAccTitle:ny,getAccDescription:ry,setAccDescription:iy,setDiagramTitle:oy,getDiagramTitle:sy,commitType:Wy};let Ky={};const Yy={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},Xy=8;let Zy={},Qy={},Jy=[],tv=0;const ev=()=>{Zy={},Qy={},Ky={},tv=0,Jy=[]},nv=t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","text");let n=[];n="string"==typeof t?t.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(t)?t:[];for(const t of n){const n=document.createElementNS("http://www.w3.org/2000/svg","tspan");n.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.setAttribute("dy","1em"),n.setAttribute("x","0"),n.setAttribute("class","row"),n.textContent=t.trim(),e.appendChild(n)}return e},iv=(t,e,n)=>{const i=gy().gitGraph,r=t.append("g").attr("class","commit-bullets"),o=t.append("g").attr("class","commit-labels");let s=0;Object.keys(e).sort(((t,n)=>e[t].seq-e[n].seq)).forEach((t=>{const a=e[t],c=Zy[a.branch].pos,l=s+10;if(n){let t,e=void 0!==a.customType&&""!==a.customType?a.customType:a.type;switch(e){case Yy.NORMAL:t="commit-normal";break;case Yy.REVERSE:t="commit-reverse";break;case Yy.HIGHLIGHT:t="commit-highlight";break;case Yy.MERGE:t="commit-merge";break;case Yy.CHERRY_PICK:t="commit-cherry-pick";break;default:t="commit-normal"}if(e===Yy.HIGHLIGHT){const e=r.append("rect");e.attr("x",l-10),e.attr("y",c-10),e.attr("height",20),e.attr("width",20),e.attr("class",`commit ${a.id} commit-highlight${Zy[a.branch].index%Xy} ${t}-outer`),r.append("rect").attr("x",l-6).attr("y",c-6).attr("height",12).attr("width",12).attr("class",`commit ${a.id} commit${Zy[a.branch].index%Xy} ${t}-inner`)}else if(e===Yy.CHERRY_PICK)r.append("circle").attr("cx",l).attr("cy",c).attr("r",10).attr("class",`commit ${a.id} ${t}`),r.append("circle").attr("cx",l-3).attr("cy",c+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${a.id} ${t}`),r.append("circle").attr("cx",l+3).attr("cy",c+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${a.id} ${t}`),r.append("line").attr("x1",l+3).attr("y1",c+1).attr("x2",l).attr("y2",c-5).attr("stroke","#fff").attr("class",`commit ${a.id} ${t}`),r.append("line").attr("x1",l-3).attr("y1",c+1).attr("x2",l).attr("y2",c-5).attr("stroke","#fff").attr("class",`commit ${a.id} ${t}`);else{const n=r.append("circle");if(n.attr("cx",l),n.attr("cy",c),n.attr("r",a.type===Yy.MERGE?9:10),n.attr("class",`commit ${a.id} commit${Zy[a.branch].index%Xy}`),e===Yy.MERGE){const e=r.append("circle");e.attr("cx",l),e.attr("cy",c),e.attr("r",6),e.attr("class",`commit ${t} ${a.id} commit${Zy[a.branch].index%Xy}`)}e===Yy.REVERSE&&r.append("path").attr("d",`M ${l-5},${c-5}L${l+5},${c+5}M${l-5},${c+5}L${l+5},${c-5}`).attr("class",`commit ${t} ${a.id} commit${Zy[a.branch].index%Xy}`)}}if(Qy[a.id]={x:s+10,y:c},n){const t=4,e=2;if(a.type!==Yy.CHERRY_PICK&&(a.customId&&a.type===Yy.MERGE||a.type!==Yy.MERGE)&&i.showCommitLabel){const t=o.append("g"),n=t.insert("rect").attr("class","commit-label-bkg"),r=t.append("text").attr("x",s).attr("y",c+25).attr("class","commit-label").text(a.id);let l=r.node().getBBox();if(n.attr("x",s+10-l.width/2-e).attr("y",c+13.5).attr("width",l.width+2*e).attr("height",l.height+2*e),r.attr("x",s+10-l.width/2),i.rotateCommitLabel){let e=-7.5-(l.width+10)/25*9.5,n=10+l.width/25*8.5;t.attr("transform","translate("+e+", "+n+") rotate(-45, "+s+", "+c+")")}}if(a.tag){const n=o.insert("polygon"),i=o.append("circle"),r=o.append("text").attr("y",c-16).attr("class","tag-label").text(a.tag);let l=r.node().getBBox();r.attr("x",s+10-l.width/2);const u=l.height/2,h=c-19.2;n.attr("class","tag-label-bkg").attr("points",`\n          ${s-l.width/2-t/2},${h+e}\n          ${s-l.width/2-t/2},${h-e}\n          ${s+10-l.width/2-t},${h-u-e}\n          ${s+10+l.width/2+t},${h-u-e}\n          ${s+10+l.width/2+t},${h+u+e}\n          ${s+10-l.width/2-t},${h+u+e}`),i.attr("cx",s-l.width/2+t/2).attr("cy",h).attr("r",1.5).attr("class","tag-hole")}}s+=50,s>tv&&(tv=s)}))},rv=(t,e,n)=>Object.keys(n).filter((i=>n[i].branch===e.branch&&n[i].seq>t.seq&&n[i].seq<e.seq)).length>0,ov=(t,e,n=0)=>{const i=t+Math.abs(t-e)/2;if(n>5)return i;if(Jy.every((t=>Math.abs(t-i)>=10)))return Jy.push(i),i;const r=Math.abs(t-e);return ov(t,e-r/5,n+1)},sv=(t,e,n,i)=>{const r=Qy[e.id],o=Qy[n.id],s=rv(e,n,i);let a,c="",l="",u=0,h=0,d=Zy[n.branch].index;if(s){c="A 10 10, 0, 0, 0,",l="A 10 10, 0, 0, 1,",u=10,h=10,d=Zy[n.branch].index;const t=r.y<o.y?ov(r.y,o.y):ov(o.y,r.y);a=r.y<o.y?`M ${r.x} ${r.y} L ${r.x} ${t-u} ${c} ${r.x+h} ${t} L ${o.x-u} ${t} ${l} ${o.x} ${t+h} L ${o.x} ${o.y}`:`M ${r.x} ${r.y} L ${r.x} ${t+u} ${l} ${r.x+h} ${t} L ${o.x-u} ${t} ${c} ${o.x} ${t-h} L ${o.x} ${o.y}`}else r.y<o.y&&(c="A 20 20, 0, 0, 0,",u=20,h=20,d=Zy[n.branch].index,a=`M ${r.x} ${r.y} L ${r.x} ${o.y-u} ${c} ${r.x+h} ${o.y} L ${o.x} ${o.y}`),r.y>o.y&&(c="A 20 20, 0, 0, 0,",u=20,h=20,d=Zy[e.branch].index,a=`M ${r.x} ${r.y} L ${o.x-u} ${r.y} ${c} ${o.x} ${r.y-h} L ${o.x} ${o.y}`),r.y===o.y&&(d=Zy[e.branch].index,a=`M ${r.x} ${r.y} L ${r.x} ${o.y-u} ${c} ${r.x+h} ${o.y} L ${o.x} ${o.y}`);t.append("path").attr("d",a).attr("class","arrow arrow"+d%Xy)},av=(t,e)=>{const n=t.append("g").attr("class","commit-arrows");Object.keys(e).forEach((t=>{const i=e[t];i.parents&&i.parents.length>0&&i.parents.forEach((t=>{sv(n,e[t],i,e)}))}))},cv=(t,e)=>{const n=gy().gitGraph,i=t.append("g");e.forEach(((t,e)=>{const r=e%Xy,o=Zy[t.name].pos,s=i.append("line");s.attr("x1",0),s.attr("y1",o),s.attr("x2",tv),s.attr("y2",o),s.attr("class","branch branch"+r),Jy.push(o);let a=t.name;const c=nv(a),l=i.insert("rect"),u=i.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+r);u.node().appendChild(c);let h=c.getBBox();l.attr("class","branchLabelBkg label"+r).attr("rx",4).attr("ry",4).attr("x",-h.width-4-(!0===n.rotateCommitLabel?30:0)).attr("y",-h.height/2+8).attr("width",h.width+18).attr("height",h.height+4),u.attr("transform","translate("+(-h.width-14-(!0===n.rotateCommitLabel?30:0))+", "+(o-h.height/2-1)+")"),l.attr("transform","translate(-19, "+(o-h.height/2)+")")}))},lv={draw:function(t,e,n,i){ev();const r=gy(),o=r.gitGraph;h.debug("in gitgraph renderer",t+"\n","id:",e,n),Ky=i.db.getCommits();const s=i.db.getBranchesAsObjArray();let a=0;s.forEach(((t,e)=>{Zy[t.name]={pos:a,index:e},a+=50+(o.rotateCommitLabel?40:0)}));const c=un(`[id="${e}"]`);iv(c,Ky,!1),o.showBranches&&cv(c,s),av(c,Ky),iv(c,Ky,!0),vb.insertTitle(c,"gitTitleText",o.titleTopMargin,i.db.getDiagramTitle()),my(void 0,c,o.diagramPadding,o.useMaxWidth??r.useMaxWidth)}},uv=t=>`\n  .commit-id,\n  .commit-msg,\n  .branch-label {\n    fill: lightgrey;\n    color: lightgrey;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  ${[0,1,2,3,4,5,6,7].map((e=>`\n        .branch-label${e} { fill: ${t["gitBranchLabel"+e]}; }\n        .commit${e} { stroke: ${t["git"+e]}; fill: ${t["git"+e]}; }\n        .commit-highlight${e} { stroke: ${t["gitInv"+e]}; fill: ${t["gitInv"+e]}; }\n        .label${e}  { fill: ${t["git"+e]}; }\n        .arrow${e} { stroke: ${t["git"+e]}; }\n        `)).join("\n")}\n\n  .branch {\n    stroke-width: 1;\n    stroke: ${t.lineColor};\n    stroke-dasharray: 2;\n  }\n  .commit-label { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelColor};}\n  .commit-label-bkg { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelBackground}; opacity: 0.5; }\n  .tag-label { font-size: ${t.tagLabelFontSize}; fill: ${t.tagLabelColor};}\n  .tag-label-bkg { fill: ${t.tagLabelBackground}; stroke: ${t.tagLabelBorder}; }\n  .tag-hole { fill: ${t.textColor}; }\n\n  .commit-merge {\n    stroke: ${t.primaryColor};\n    fill: ${t.primaryColor};\n  }\n  .commit-reverse {\n    stroke: ${t.primaryColor};\n    fill: ${t.primaryColor};\n    stroke-width: 3;\n  }\n  .commit-highlight-outer {\n  }\n  .commit-highlight-inner {\n    stroke: ${t.primaryColor};\n    fill: ${t.primaryColor};\n  }\n\n  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}\n  .gitTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${t.textColor};\n  }\n  }\n`;var hv=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[1,6],n=[1,7],i=[1,8],r=[1,9],o=[1,16],s=[1,11],a=[1,12],l=[1,13],u=[1,14],h=[1,15],d=[1,27],f=[1,33],g=[1,34],p=[1,35],m=[1,36],b=[1,37],w=[1,72],y=[1,73],v=[1,74],_=[1,75],k=[1,76],x=[1,77],E=[1,78],T=[1,38],C=[1,39],A=[1,40],S=[1,41],I=[1,42],M=[1,43],P=[1,44],O=[1,45],D=[1,46],N=[1,47],L=[1,48],R=[1,49],B=[1,50],F=[1,51],j=[1,52],$=[1,53],V=[1,54],z=[1,55],H=[1,56],U=[1,57],q=[1,59],W=[1,60],G=[1,61],K=[1,62],Y=[1,63],X=[1,64],Z=[1,65],Q=[1,66],J=[1,67],tt=[1,68],et=[1,69],nt=[24,52],it=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],rt=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],ot=[1,94],st=[1,95],at=[1,96],ct=[1,97],lt=[15,24,52],ut=[7,8,9,10,18,22,25,26,27,28],ht=[15,24,43,52],dt=[15,24,43,52,86,87,89,90],ft=[15,43],gt=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],pt={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 4:i.setDirection("TB");break;case 5:i.setDirection("BT");break;case 6:i.setDirection("RL");break;case 7:i.setDirection("LR");break;case 11:i.parseDirective("%%{","open_directive");break;case 12:break;case 13:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 14:i.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:i.setC4Type(o[a-3]);break;case 26:i.setTitle(o[a].substring(6)),this.$=o[a].substring(6);break;case 27:i.setAccDescription(o[a].substring(15)),this.$=o[a].substring(15);break;case 28:this.$=o[a].trim(),i.setTitle(this.$);break;case 29:case 30:this.$=o[a].trim(),i.setAccDescription(this.$);break;case 35:case 36:o[a].splice(2,0,"ENTERPRISE"),i.addPersonOrSystemBoundary(...o[a]),this.$=o[a];break;case 37:i.addPersonOrSystemBoundary(...o[a]),this.$=o[a];break;case 38:o[a].splice(2,0,"CONTAINER"),i.addContainerBoundary(...o[a]),this.$=o[a];break;case 39:i.addDeploymentNode("node",...o[a]),this.$=o[a];break;case 40:i.addDeploymentNode("nodeL",...o[a]),this.$=o[a];break;case 41:i.addDeploymentNode("nodeR",...o[a]),this.$=o[a];break;case 42:i.popBoundaryParseStack();break;case 46:i.addPersonOrSystem("person",...o[a]),this.$=o[a];break;case 47:i.addPersonOrSystem("external_person",...o[a]),this.$=o[a];break;case 48:i.addPersonOrSystem("system",...o[a]),this.$=o[a];break;case 49:i.addPersonOrSystem("system_db",...o[a]),this.$=o[a];break;case 50:i.addPersonOrSystem("system_queue",...o[a]),this.$=o[a];break;case 51:i.addPersonOrSystem("external_system",...o[a]),this.$=o[a];break;case 52:i.addPersonOrSystem("external_system_db",...o[a]),this.$=o[a];break;case 53:i.addPersonOrSystem("external_system_queue",...o[a]),this.$=o[a];break;case 54:i.addContainer("container",...o[a]),this.$=o[a];break;case 55:i.addContainer("container_db",...o[a]),this.$=o[a];break;case 56:i.addContainer("container_queue",...o[a]),this.$=o[a];break;case 57:i.addContainer("external_container",...o[a]),this.$=o[a];break;case 58:i.addContainer("external_container_db",...o[a]),this.$=o[a];break;case 59:i.addContainer("external_container_queue",...o[a]),this.$=o[a];break;case 60:i.addComponent("component",...o[a]),this.$=o[a];break;case 61:i.addComponent("component_db",...o[a]),this.$=o[a];break;case 62:i.addComponent("component_queue",...o[a]),this.$=o[a];break;case 63:i.addComponent("external_component",...o[a]),this.$=o[a];break;case 64:i.addComponent("external_component_db",...o[a]),this.$=o[a];break;case 65:i.addComponent("external_component_queue",...o[a]),this.$=o[a];break;case 67:i.addRel("rel",...o[a]),this.$=o[a];break;case 68:i.addRel("birel",...o[a]),this.$=o[a];break;case 69:i.addRel("rel_u",...o[a]),this.$=o[a];break;case 70:i.addRel("rel_d",...o[a]),this.$=o[a];break;case 71:i.addRel("rel_l",...o[a]),this.$=o[a];break;case 72:i.addRel("rel_r",...o[a]),this.$=o[a];break;case 73:i.addRel("rel_b",...o[a]),this.$=o[a];break;case 74:o[a].splice(0,1),i.addRel("rel",...o[a]),this.$=o[a];break;case 75:i.updateElStyle("update_el_style",...o[a]),this.$=o[a];break;case 76:i.updateRelStyle("update_rel_style",...o[a]),this.$=o[a];break;case 77:i.updateLayoutConfig("update_layout_config",...o[a]),this.$=o[a];break;case 78:this.$=[o[a]];break;case 79:o[a].unshift(o[a-1]),this.$=o[a];break;case 80:case 82:this.$=o[a].trim();break;case 81:let t={};t[o[a-1].trim()]=o[a].trim(),this.$=t;break;case 83:this.$=""}},table:[{3:1,4:2,5:3,6:4,7:e,8:n,9:i,10:r,11:5,12:10,18:o,22:s,25:a,26:l,27:u,28:h},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:e,8:n,9:i,10:r,11:5,12:10,18:o,22:s,25:a,26:l,27:u,28:h},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:d},t([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:f,33:g,34:p,36:m,38:b,39:58,40:70,42:71,44:w,46:y,47:v,48:_,49:k,50:x,51:E,53:32,54:T,55:C,56:A,57:S,58:I,59:M,60:P,61:O,62:D,63:N,64:L,65:R,66:B,67:F,68:j,69:$,70:V,71:z,72:H,73:U,74:q,75:W,76:G,77:K,78:Y,79:X,80:Z,81:Q,82:J,83:tt,84:et},{23:79,29:29,30:30,31:31,32:f,33:g,34:p,36:m,38:b,39:58,40:70,42:71,44:w,46:y,47:v,48:_,49:k,50:x,51:E,53:32,54:T,55:C,56:A,57:S,58:I,59:M,60:P,61:O,62:D,63:N,64:L,65:R,66:B,67:F,68:j,69:$,70:V,71:z,72:H,73:U,74:q,75:W,76:G,77:K,78:Y,79:X,80:Z,81:Q,82:J,83:tt,84:et},{23:80,29:29,30:30,31:31,32:f,33:g,34:p,36:m,38:b,39:58,40:70,42:71,44:w,46:y,47:v,48:_,49:k,50:x,51:E,53:32,54:T,55:C,56:A,57:S,58:I,59:M,60:P,61:O,62:D,63:N,64:L,65:R,66:B,67:F,68:j,69:$,70:V,71:z,72:H,73:U,74:q,75:W,76:G,77:K,78:Y,79:X,80:Z,81:Q,82:J,83:tt,84:et},{23:81,29:29,30:30,31:31,32:f,33:g,34:p,36:m,38:b,39:58,40:70,42:71,44:w,46:y,47:v,48:_,49:k,50:x,51:E,53:32,54:T,55:C,56:A,57:S,58:I,59:M,60:P,61:O,62:D,63:N,64:L,65:R,66:B,67:F,68:j,69:$,70:V,71:z,72:H,73:U,74:q,75:W,76:G,77:K,78:Y,79:X,80:Z,81:Q,82:J,83:tt,84:et},{23:82,29:29,30:30,31:31,32:f,33:g,34:p,36:m,38:b,39:58,40:70,42:71,44:w,46:y,47:v,48:_,49:k,50:x,51:E,53:32,54:T,55:C,56:A,57:S,58:I,59:M,60:P,61:O,62:D,63:N,64:L,65:R,66:B,67:F,68:j,69:$,70:V,71:z,72:H,73:U,74:q,75:W,76:G,77:K,78:Y,79:X,80:Z,81:Q,82:J,83:tt,84:et},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},t(nt,[2,20],{53:32,39:58,40:70,42:71,30:87,44:w,46:y,47:v,48:_,49:k,50:x,51:E,54:T,55:C,56:A,57:S,58:I,59:M,60:P,61:O,62:D,63:N,64:L,65:R,66:B,67:F,68:j,69:$,70:V,71:z,72:H,73:U,74:q,75:W,76:G,77:K,78:Y,79:X,80:Z,81:Q,82:J,83:tt,84:et}),t(nt,[2,21]),t(it,[2,23],{15:[1,88]}),t(nt,[2,43],{15:[1,89]}),t(rt,[2,26]),t(rt,[2,27]),{35:[1,90]},{37:[1,91]},t(rt,[2,30]),{45:92,85:93,86:ot,87:st,89:at,90:ct},{45:98,85:93,86:ot,87:st,89:at,90:ct},{45:99,85:93,86:ot,87:st,89:at,90:ct},{45:100,85:93,86:ot,87:st,89:at,90:ct},{45:101,85:93,86:ot,87:st,89:at,90:ct},{45:102,85:93,86:ot,87:st,89:at,90:ct},{45:103,85:93,86:ot,87:st,89:at,90:ct},{45:104,85:93,86:ot,87:st,89:at,90:ct},{45:105,85:93,86:ot,87:st,89:at,90:ct},{45:106,85:93,86:ot,87:st,89:at,90:ct},{45:107,85:93,86:ot,87:st,89:at,90:ct},{45:108,85:93,86:ot,87:st,89:at,90:ct},{45:109,85:93,86:ot,87:st,89:at,90:ct},{45:110,85:93,86:ot,87:st,89:at,90:ct},{45:111,85:93,86:ot,87:st,89:at,90:ct},{45:112,85:93,86:ot,87:st,89:at,90:ct},{45:113,85:93,86:ot,87:st,89:at,90:ct},{45:114,85:93,86:ot,87:st,89:at,90:ct},{45:115,85:93,86:ot,87:st,89:at,90:ct},{45:116,85:93,86:ot,87:st,89:at,90:ct},t(lt,[2,66]),{45:117,85:93,86:ot,87:st,89:at,90:ct},{45:118,85:93,86:ot,87:st,89:at,90:ct},{45:119,85:93,86:ot,87:st,89:at,90:ct},{45:120,85:93,86:ot,87:st,89:at,90:ct},{45:121,85:93,86:ot,87:st,89:at,90:ct},{45:122,85:93,86:ot,87:st,89:at,90:ct},{45:123,85:93,86:ot,87:st,89:at,90:ct},{45:124,85:93,86:ot,87:st,89:at,90:ct},{45:125,85:93,86:ot,87:st,89:at,90:ct},{45:126,85:93,86:ot,87:st,89:at,90:ct},{45:127,85:93,86:ot,87:st,89:at,90:ct},{30:128,39:58,40:70,42:71,44:w,46:y,47:v,48:_,49:k,50:x,51:E,53:32,54:T,55:C,56:A,57:S,58:I,59:M,60:P,61:O,62:D,63:N,64:L,65:R,66:B,67:F,68:j,69:$,70:V,71:z,72:H,73:U,74:q,75:W,76:G,77:K,78:Y,79:X,80:Z,81:Q,82:J,83:tt,84:et},{15:[1,130],43:[1,129]},{45:131,85:93,86:ot,87:st,89:at,90:ct},{45:132,85:93,86:ot,87:st,89:at,90:ct},{45:133,85:93,86:ot,87:st,89:at,90:ct},{45:134,85:93,86:ot,87:st,89:at,90:ct},{45:135,85:93,86:ot,87:st,89:at,90:ct},{45:136,85:93,86:ot,87:st,89:at,90:ct},{45:137,85:93,86:ot,87:st,89:at,90:ct},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},t(ut,[2,9]),{14:142,21:d},{21:[2,13]},{1:[2,15]},t(nt,[2,22]),t(it,[2,24],{31:31,29:143,32:f,33:g,34:p,36:m,38:b}),t(nt,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:f,33:g,34:p,36:m,38:b,44:w,46:y,47:v,48:_,49:k,50:x,51:E,54:T,55:C,56:A,57:S,58:I,59:M,60:P,61:O,62:D,63:N,64:L,65:R,66:B,67:F,68:j,69:$,70:V,71:z,72:H,73:U,74:q,75:W,76:G,77:K,78:Y,79:X,80:Z,81:Q,82:J,83:tt,84:et}),t(rt,[2,28]),t(rt,[2,29]),t(lt,[2,46]),t(ht,[2,78],{85:93,45:145,86:ot,87:st,89:at,90:ct}),t(dt,[2,80]),{88:[1,146]},t(dt,[2,82]),t(dt,[2,83]),t(lt,[2,47]),t(lt,[2,48]),t(lt,[2,49]),t(lt,[2,50]),t(lt,[2,51]),t(lt,[2,52]),t(lt,[2,53]),t(lt,[2,54]),t(lt,[2,55]),t(lt,[2,56]),t(lt,[2,57]),t(lt,[2,58]),t(lt,[2,59]),t(lt,[2,60]),t(lt,[2,61]),t(lt,[2,62]),t(lt,[2,63]),t(lt,[2,64]),t(lt,[2,65]),t(lt,[2,67]),t(lt,[2,68]),t(lt,[2,69]),t(lt,[2,70]),t(lt,[2,71]),t(lt,[2,72]),t(lt,[2,73]),t(lt,[2,74]),t(lt,[2,75]),t(lt,[2,76]),t(lt,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},t(ft,[2,35]),t(ft,[2,36]),t(ft,[2,37]),t(ft,[2,38]),t(ft,[2,39]),t(ft,[2,40]),t(ft,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},t(it,[2,25]),t(nt,[2,45]),t(ht,[2,79]),t(dt,[2,81]),t(lt,[2,31]),t(lt,[2,42]),t(gt,[2,32]),t(gt,[2,33],{15:[1,152]}),t(ut,[2,10]),t(gt,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",c=0,l=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),g={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(g.yy[p]=this.yy[p]);f.setInput(t,g.yy),g.yy.lexer=f,g.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var b=f.options&&f.options.ranges;function w(){var t;return"number"!=typeof(t=i.pop()||f.lex()||h)&&(t instanceof Array&&(t=(i=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,v,_,k,x,E,T,C,A={};;){if(v=n[n.length-1],this.defaultActions[v]?_=this.defaultActions[v]:(null==y&&(y=w()),_=s[v]&&s[v][y]),void 0===_||!_.length||!_[0]){var S="";for(x in C=[],s[v])this.terminals_[x]&&x>u&&C.push("'"+this.terminals_[x]+"'");S=f.showPosition?"Parse error on line "+(c+1)+":\n"+f.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(c+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[y]||y,line:f.yylineno,loc:m,expected:C})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+y);switch(_[0]){case 1:n.push(y),r.push(f.yytext),o.push(f.yylloc),n.push(_[1]),y=null,l=f.yyleng,a=f.yytext,c=f.yylineno,m=f.yylloc;break;case 2:if(E=this.productions_[_[1]][1],A.$=r[r.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(A,[a,l,c,g.yy,_[1],r,o].concat(d))))return k;E&&(n=n.slice(0,-1*E*2),r=r.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[_[1]][0]),r.push(A.$),o.push(A._$),T=s[n[n.length-2]][n[n.length-1]],n.push(T);break;case 3:return!0}}return!0}},mt={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,i){switch(n){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:case 78:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:case 21:case 75:break;case 19:c;break;case 20:return 15;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:case 58:return this.begin("rel_u"),76;case 59:case 60:return this.begin("rel_d"),77;case 61:case 62:return this.begin("rel_l"),78;case 63:case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:case 84:this.popState(),this.popState();break;case 74:case 76:return 90;case 77:this.begin("string");break;case 79:case 85:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};function bt(){this.yy={}}return pt.lexer=mt,bt.prototype=pt,pt.Parser=bt,new bt}();hv.parser=hv;const dv=hv,fv=t=>null!==t.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/);let gv=[],pv=[""],mv="global",bv="",wv=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],yv=[],vv="",_v=!1,kv=4,xv=2;var Ev;const Tv=function(t,e,n,i,r,o,s,a,c){if(null==t||null==e||null==n||null==i)return;let l={};const u=yv.find((t=>t.from===e&&t.to===n));if(u?l=u:yv.push(l),l.type=t,l.from=e,l.to=n,l.label={text:i},null==r)l.techn={text:""};else if("object"==typeof r){let[t,e]=Object.entries(r)[0];l[t]={text:e}}else l.techn={text:r};if(null==o)l.descr={text:""};else if("object"==typeof o){let[t,e]=Object.entries(o)[0];l[t]={text:e}}else l.descr={text:o};if("object"==typeof s){let[t,e]=Object.entries(s)[0];l[t]=e}else l.sprite=s;if("object"==typeof a){let[t,e]=Object.entries(a)[0];l[t]=e}else l.tags=a;if("object"==typeof c){let[t,e]=Object.entries(c)[0];l[t]=e}else l.link=c;l.wrap=Nv()},Cv=function(t,e,n,i,r,o,s){if(null===e||null===n)return;let a={};const c=gv.find((t=>t.alias===e));if(c&&e===c.alias?a=c:(a.alias=e,gv.push(a)),a.label=null==n?{text:""}:{text:n},null==i)a.descr={text:""};else if("object"==typeof i){let[t,e]=Object.entries(i)[0];a[t]={text:e}}else a.descr={text:i};if("object"==typeof r){let[t,e]=Object.entries(r)[0];a[t]=e}else a.sprite=r;if("object"==typeof o){let[t,e]=Object.entries(o)[0];a[t]=e}else a.tags=o;if("object"==typeof s){let[t,e]=Object.entries(s)[0];a[t]=e}else a.link=s;a.typeC4Shape={text:t},a.parentBoundary=mv,a.wrap=Nv()},Av=function(t,e,n,i,r,o,s,a){if(null===e||null===n)return;let c={};const l=gv.find((t=>t.alias===e));if(l&&e===l.alias?c=l:(c.alias=e,gv.push(c)),c.label=null==n?{text:""}:{text:n},null==i)c.techn={text:""};else if("object"==typeof i){let[t,e]=Object.entries(i)[0];c[t]={text:e}}else c.techn={text:i};if(null==r)c.descr={text:""};else if("object"==typeof r){let[t,e]=Object.entries(r)[0];c[t]={text:e}}else c.descr={text:r};if("object"==typeof o){let[t,e]=Object.entries(o)[0];c[t]=e}else c.sprite=o;if("object"==typeof s){let[t,e]=Object.entries(s)[0];c[t]=e}else c.tags=s;if("object"==typeof a){let[t,e]=Object.entries(a)[0];c[t]=e}else c.link=a;c.wrap=Nv(),c.typeC4Shape={text:t},c.parentBoundary=mv},Sv=function(t,e,n,i,r,o,s,a){if(null===e||null===n)return;let c={};const l=gv.find((t=>t.alias===e));if(l&&e===l.alias?c=l:(c.alias=e,gv.push(c)),c.label=null==n?{text:""}:{text:n},null==i)c.techn={text:""};else if("object"==typeof i){let[t,e]=Object.entries(i)[0];c[t]={text:e}}else c.techn={text:i};if(null==r)c.descr={text:""};else if("object"==typeof r){let[t,e]=Object.entries(r)[0];c[t]={text:e}}else c.descr={text:r};if("object"==typeof o){let[t,e]=Object.entries(o)[0];c[t]=e}else c.sprite=o;if("object"==typeof s){let[t,e]=Object.entries(s)[0];c[t]=e}else c.tags=s;if("object"==typeof a){let[t,e]=Object.entries(a)[0];c[t]=e}else c.link=a;c.wrap=Nv(),c.typeC4Shape={text:t},c.parentBoundary=mv},Iv=function(t,e,n,i,r){if(null===t||null===e)return;let o={};const s=wv.find((e=>e.alias===t));if(s&&t===s.alias?o=s:(o.alias=t,wv.push(o)),o.label=null==e?{text:""}:{text:e},null==n)o.type={text:"system"};else if("object"==typeof n){let[t,e]=Object.entries(n)[0];o[t]={text:e}}else o.type={text:n};if("object"==typeof i){let[t,e]=Object.entries(i)[0];o[t]=e}else o.tags=i;if("object"==typeof r){let[t,e]=Object.entries(r)[0];o[t]=e}else o.link=r;o.parentBoundary=mv,o.wrap=Nv(),bv=mv,mv=t,pv.push(bv)},Mv=function(t,e,n,i,r){if(null===t||null===e)return;let o={};const s=wv.find((e=>e.alias===t));if(s&&t===s.alias?o=s:(o.alias=t,wv.push(o)),o.label=null==e?{text:""}:{text:e},null==n)o.type={text:"container"};else if("object"==typeof n){let[t,e]=Object.entries(n)[0];o[t]={text:e}}else o.type={text:n};if("object"==typeof i){let[t,e]=Object.entries(i)[0];o[t]=e}else o.tags=i;if("object"==typeof r){let[t,e]=Object.entries(r)[0];o[t]=e}else o.link=r;o.parentBoundary=mv,o.wrap=Nv(),bv=mv,mv=t,pv.push(bv)},Pv=function(t,e,n,i,r,o,s,a){if(null===e||null===n)return;let c={};const l=wv.find((t=>t.alias===e));if(l&&e===l.alias?c=l:(c.alias=e,wv.push(c)),c.label=null==n?{text:""}:{text:n},null==i)c.type={text:"node"};else if("object"==typeof i){let[t,e]=Object.entries(i)[0];c[t]={text:e}}else c.type={text:i};if(null==r)c.descr={text:""};else if("object"==typeof r){let[t,e]=Object.entries(r)[0];c[t]={text:e}}else c.descr={text:r};if("object"==typeof s){let[t,e]=Object.entries(s)[0];c[t]=e}else c.tags=s;if("object"==typeof a){let[t,e]=Object.entries(a)[0];c[t]=e}else c.link=a;c.nodeType=t,c.parentBoundary=mv,c.wrap=Nv(),bv=mv,mv=e,pv.push(bv)},Ov=function(t){return null==t?gv:gv.filter((e=>e.parentBoundary===t))},Dv=function(t){return Object.keys(Ov(t))},Nv=function(){return _v},Lv={addPersonOrSystem:Cv,addPersonOrSystemBoundary:Iv,addContainer:Av,addContainerBoundary:Mv,addComponent:Sv,addDeploymentNode:Pv,popBoundaryParseStack:function(){mv=bv,pv.pop(),bv=pv.pop(),pv.push(bv)},addRel:Tv,updateElStyle:function(t,e,n,i,r,o,s,a,c,l,u){let h=gv.find((t=>t.alias===e));if(void 0!==h||(h=wv.find((t=>t.alias===e)),void 0!==h)){if(null!=n)if("object"==typeof n){let[t,e]=Object.entries(n)[0];h[t]=e}else h.bgColor=n;if(null!=i)if("object"==typeof i){let[t,e]=Object.entries(i)[0];h[t]=e}else h.fontColor=i;if(null!=r)if("object"==typeof r){let[t,e]=Object.entries(r)[0];h[t]=e}else h.borderColor=r;if(null!=o)if("object"==typeof o){let[t,e]=Object.entries(o)[0];h[t]=e}else h.shadowing=o;if(null!=s)if("object"==typeof s){let[t,e]=Object.entries(s)[0];h[t]=e}else h.shape=s;if(null!=a)if("object"==typeof a){let[t,e]=Object.entries(a)[0];h[t]=e}else h.sprite=a;if(null!=c)if("object"==typeof c){let[t,e]=Object.entries(c)[0];h[t]=e}else h.techn=c;if(null!=l)if("object"==typeof l){let[t,e]=Object.entries(l)[0];h[t]=e}else h.legendText=l;if(null!=u)if("object"==typeof u){let[t,e]=Object.entries(u)[0];h[t]=e}else h.legendSprite=u}},updateRelStyle:function(t,e,n,i,r,o,s){const a=yv.find((t=>t.from===e&&t.to===n));if(void 0!==a){if(null!=i)if("object"==typeof i){let[t,e]=Object.entries(i)[0];a[t]=e}else a.textColor=i;if(null!=r)if("object"==typeof r){let[t,e]=Object.entries(r)[0];a[t]=e}else a.lineColor=r;if(null!=o)if("object"==typeof o){let[t,e]=Object.entries(o)[0];a[t]=parseInt(e)}else a.offsetX=parseInt(o);if(null!=s)if("object"==typeof s){let[t,e]=Object.entries(s)[0];a[t]=parseInt(e)}else a.offsetY=parseInt(s)}},updateLayoutConfig:function(t,e,n){let i=kv,r=xv;if("object"==typeof e){const t=Object.values(e)[0];i=parseInt(t)}else i=parseInt(e);if("object"==typeof n){const t=Object.values(n)[0];r=parseInt(t)}else r=parseInt(n);i>=1&&(kv=i),r>=1&&(xv=r)},autoWrap:Nv,setWrap:function(t){_v=t},getC4ShapeArray:Ov,getC4Shape:function(t){return gv.find((e=>e.alias===t))},getC4ShapeKeys:Dv,getBoundarys:function(t){return null==t?wv:wv.filter((e=>e.parentBoundary===t))},getCurrentBoundaryParse:function(){return mv},getParentBoundaryParse:function(){return bv},getRels:function(){return yv},getTitle:function(){return vv},getC4Type:function(){return Ev},getC4ShapeInRow:function(){return kv},getC4BoundaryInRow:function(){return xv},setAccTitle:ey,getAccTitle:ny,getAccDescription:ry,setAccDescription:iy,parseDirective:function(t,e,n){bH.parseDirective(this,t,e,n)},getConfig:()=>xw().c4,clear:function(){gv=[],wv=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],bv="",mv="global",pv=[""],yv=[],pv=[""],vv="",_v=!1,kv=4,xv=2},LINETYPE:{SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},setTitle:function(t){let e=Wh(t,xw());vv=e},setC4Type:function(t){let e=Wh(t,xw());Ev=e}},Rv=function(t,e){const n=t.append("rect");if(n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),"undefined"!==e.attrs&&null!==e.attrs)for(let t in e.attrs)n.attr(t,e.attrs[t]);return"undefined"!==e.class&&n.attr("class",e.class),n},Bv=function(t,e,n,i,r,o){const s=t.append("image");s.attr("width",e),s.attr("height",n),s.attr("x",i),s.attr("y",r);let a=o.startsWith("data:image/png;base64")?o:p(o);s.attr("xlink:href",a)},Fv=(t,e,n)=>{const i=t.append("g");let r=0;for(let t of e){let e=t.textColor?t.textColor:"#444444",o=t.lineColor?t.lineColor:"#444444",s=t.offsetX?parseInt(t.offsetX):0,a=t.offsetY?parseInt(t.offsetY):0,c="";if(0===r){let e=i.append("line");e.attr("x1",t.startPoint.x),e.attr("y1",t.startPoint.y),e.attr("x2",t.endPoint.x),e.attr("y2",t.endPoint.y),e.attr("stroke-width","1"),e.attr("stroke",o),e.style("fill","none"),"rel_b"!==t.type&&e.attr("marker-end","url("+c+"#arrowhead)"),"birel"!==t.type&&"rel_b"!==t.type||e.attr("marker-start","url("+c+"#arrowend)"),r=-1}else{let e=i.append("path");e.attr("fill","none").attr("stroke-width","1").attr("stroke",o).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",t.startPoint.x).replaceAll("starty",t.startPoint.y).replaceAll("controlx",t.startPoint.x+(t.endPoint.x-t.startPoint.x)/2-(t.endPoint.x-t.startPoint.x)/4).replaceAll("controly",t.startPoint.y+(t.endPoint.y-t.startPoint.y)/2).replaceAll("stopx",t.endPoint.x).replaceAll("stopy",t.endPoint.y)),"rel_b"!==t.type&&e.attr("marker-end","url("+c+"#arrowhead)"),"birel"!==t.type&&"rel_b"!==t.type||e.attr("marker-start","url("+c+"#arrowend)")}let l=n.messageFont();Zv(n)(t.label.text,i,Math.min(t.startPoint.x,t.endPoint.x)+Math.abs(t.endPoint.x-t.startPoint.x)/2+s,Math.min(t.startPoint.y,t.endPoint.y)+Math.abs(t.endPoint.y-t.startPoint.y)/2+a,t.label.width,t.label.height,{fill:e},l),t.techn&&""!==t.techn.text&&(l=n.messageFont(),Zv(n)("["+t.techn.text+"]",i,Math.min(t.startPoint.x,t.endPoint.x)+Math.abs(t.endPoint.x-t.startPoint.x)/2+s,Math.min(t.startPoint.y,t.endPoint.y)+Math.abs(t.endPoint.y-t.startPoint.y)/2+n.messageFontSize+5+a,Math.max(t.label.width,t.techn.width),t.techn.height,{fill:e,"font-style":"italic"},l))}},jv=function(t,e,n){const i=t.append("g");let r=e.bgColor?e.bgColor:"none",o=e.borderColor?e.borderColor:"#444444",s=e.fontColor?e.fontColor:"black",a={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};e.nodeType&&(a={"stroke-width":1});let c={x:e.x,y:e.y,fill:r,stroke:o,width:e.width,height:e.height,rx:2.5,ry:2.5,attrs:a};Rv(i,c);let l=n.boundaryFont();l.fontWeight="bold",l.fontSize=l.fontSize+2,l.fontColor=s,Zv(n)(e.label.text,i,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#444444"},l),e.type&&""!==e.type.text&&(l=n.boundaryFont(),l.fontColor=s,Zv(n)(e.type.text,i,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#444444"},l)),e.descr&&""!==e.descr.text&&(l=n.boundaryFont(),l.fontSize=l.fontSize-2,l.fontColor=s,Zv(n)(e.descr.text,i,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#444444"},l))},$v=function(t,e,n){var i;let r=e.bgColor?e.bgColor:n[e.typeC4Shape.text+"_bg_color"],o=e.borderColor?e.borderColor:n[e.typeC4Shape.text+"_border_color"],s=e.fontColor?e.fontColor:"#FFFFFF",a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(e.typeC4Shape.text){case"person":a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII="}const c=t.append("g");c.attr("class","person-man");const l=Yv();switch(e.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":l.x=e.x,l.y=e.y,l.fill=r,l.width=e.width,l.height=e.height,l.stroke=o,l.rx=2.5,l.ry=2.5,l.attrs={"stroke-width":.5},Rv(c,l);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":c.append("path").attr("fill",r).attr("stroke-width","0.5").attr("stroke",o).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2).replaceAll("height",e.height)),c.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",o).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":c.append("path").attr("fill",r).attr("stroke-width","0.5").attr("stroke",o).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("width",e.width).replaceAll("half",e.height/2)),c.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",o).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",e.x+e.width).replaceAll("starty",e.y).replaceAll("half",e.height/2))}let u=Xv(n,e.typeC4Shape.text);switch(c.append("text").attr("fill",s).attr("font-family",u.fontFamily).attr("font-size",u.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",e.typeC4Shape.width).attr("x",e.x+e.width/2-e.typeC4Shape.width/2).attr("y",e.y+e.typeC4Shape.Y).text("<<"+e.typeC4Shape.text+">>"),e.typeC4Shape.text){case"person":case"external_person":Bv(c,48,48,e.x+e.width/2-24,e.y+e.image.Y,a)}let h=n[e.typeC4Shape.text+"Font"]();return h.fontWeight="bold",h.fontSize=h.fontSize+2,h.fontColor=s,Zv(n)(e.label.text,c,e.x,e.y+e.label.Y,e.width,e.height,{fill:s},h),h=n[e.typeC4Shape.text+"Font"](),h.fontColor=s,e.techn&&""!==(null==(i=e.techn)?void 0:i.text)?Zv(n)(e.techn.text,c,e.x,e.y+e.techn.Y,e.width,e.height,{fill:s,"font-style":"italic"},h):e.type&&""!==e.type.text&&Zv(n)(e.type.text,c,e.x,e.y+e.type.Y,e.width,e.height,{fill:s,"font-style":"italic"},h),e.descr&&""!==e.descr.text&&(h=n.personFont(),h.fontColor=s,Zv(n)(e.descr.text,c,e.x,e.y+e.descr.Y,e.width,e.height,{fill:s},h)),e.height},Vv=function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},zv=function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},Hv=function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},Uv=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},qv=function(t){t.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},Wv=function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},Gv=function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},Kv=function(t){const e=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);e.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),e.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},Yv=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},Xv=(t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),Zv=function(){function t(t,e,n,r,o,s,a){i(e.append("text").attr("x",n+o/2).attr("y",r+s/2+5).style("text-anchor","middle").text(t),a)}function e(t,e,n,r,o,s,a,c){const{fontSize:l,fontFamily:u,fontWeight:h}=c,d=t.split(Jh.lineBreakRegex);for(let t=0;t<d.length;t++){const s=t*l-l*(d.length-1)/2,c=e.append("text").attr("x",n+o/2).attr("y",r).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",l).style("font-weight",h).style("font-family",u);c.append("tspan").attr("dy",s).text(d[t]).attr("alignment-baseline","mathematical"),i(c,a)}}function n(t,n,r,o,s,a,c,l){const u=n.append("switch"),h=u.append("foreignObject").attr("x",r).attr("y",o).attr("width",s).attr("height",a).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,u,r,o,s,a,c,l),i(h,c)}function i(t,e){for(const n in e)e.hasOwnProperty(n)&&t.attr(n,e[n])}return function(i){return"fo"===i.textPlacement?n:"old"===i.textPlacement?t:e}}(),Qv={drawRect:Rv,drawBoundary:jv,drawC4Shape:$v,drawRels:Fv,drawImage:Bv,insertArrowHead:Uv,insertArrowEnd:qv,insertArrowFilledHead:Wv,insertDynamicNumber:Gv,insertArrowCrossHead:Kv,insertDatabaseIcon:Vv,insertComputerIcon:zv,insertClockIcon:Hv,getNoteRect:Yv,sanitizeUrl:p};let Jv=0,t_=0,e_=4,n_=2;hv.yy=Lv;let i_={};class r_{constructor(t){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,o_(t.db.getConfig())}setData(t,e,n,i){this.nextData.startx=this.data.startx=t,this.nextData.stopx=this.data.stopx=e,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=i}updateVal(t,e,n,i){void 0===t[e]?t[e]=n:t[e]=i(n,t[e])}insert(t){this.nextData.cnt=this.nextData.cnt+1;let e=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+t.margin:this.nextData.stopx+2*t.margin,n=e+t.width,i=this.nextData.starty+2*t.margin,r=i+t.height;(e>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>e_)&&(e=this.nextData.startx+t.margin+i_.nextLinePaddingX,i=this.nextData.stopy+2*t.margin,this.nextData.stopx=n=e+t.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=r=i+t.height,this.nextData.cnt=1),t.x=e,t.y=i,this.updateVal(this.data,"startx",e,Math.min),this.updateVal(this.data,"starty",i,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",r,Math.max),this.updateVal(this.nextData,"startx",e,Math.min),this.updateVal(this.nextData,"starty",i,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",r,Math.max)}init(t){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},o_(t.db.getConfig())}bumpLastMargin(t){this.data.stopx+=t,this.data.stopy+=t}}const o_=function(t){Ap(i_,t),t.fontFamily&&(i_.personFontFamily=i_.systemFontFamily=i_.messageFontFamily=t.fontFamily),t.fontSize&&(i_.personFontSize=i_.systemFontSize=i_.messageFontSize=t.fontSize),t.fontWeight&&(i_.personFontWeight=i_.systemFontWeight=i_.messageFontWeight=t.fontWeight)},s_=(t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),a_=t=>({fontFamily:t.boundaryFontFamily,fontSize:t.boundaryFontSize,fontWeight:t.boundaryFontWeight}),c_=t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight});function l_(t,e,n,i,r){if(!e[t].width)if(n)e[t].text=lb(e[t].text,r,i),e[t].textLines=e[t].text.split(Jh.lineBreakRegex).length,e[t].width=r,e[t].height=hb(e[t].text,i);else{let n=e[t].text.split(Jh.lineBreakRegex);e[t].textLines=n.length;let r=0;e[t].height=0,e[t].width=0;for(const o of n)e[t].width=Math.max(db(o,i),e[t].width),r=hb(o,i),e[t].height=e[t].height+r}}const u_=function(t,e,n){e.x=n.data.startx,e.y=n.data.starty,e.width=n.data.stopx-n.data.startx,e.height=n.data.stopy-n.data.starty,e.label.y=i_.c4ShapeMargin-35;let i=e.wrap&&i_.wrap,r=a_(i_);r.fontSize=r.fontSize+2,r.fontWeight="bold",l_("label",e,i,r,db(e.label.text,r)),Qv.drawBoundary(t,e,i_)},h_=function(t,e,n,i){let r=0;for(const o of i){r=0;const i=n[o];let s=s_(i_,i.typeC4Shape.text);switch(s.fontSize=s.fontSize-2,i.typeC4Shape.width=db("<<"+i.typeC4Shape.text+">>",s),i.typeC4Shape.height=s.fontSize+2,i.typeC4Shape.Y=i_.c4ShapePadding,r=i.typeC4Shape.Y+i.typeC4Shape.height-4,i.image={width:0,height:0,Y:0},i.typeC4Shape.text){case"person":case"external_person":i.image.width=48,i.image.height=48,i.image.Y=r,r=i.image.Y+i.image.height}i.sprite&&(i.image.width=48,i.image.height=48,i.image.Y=r,r=i.image.Y+i.image.height);let a=i.wrap&&i_.wrap,c=i_.width-2*i_.c4ShapePadding,l=s_(i_,i.typeC4Shape.text);l.fontSize=l.fontSize+2,l.fontWeight="bold",l_("label",i,a,l,c),i.label.Y=r+8,r=i.label.Y+i.label.height,i.type&&""!==i.type.text?(i.type.text="["+i.type.text+"]",l_("type",i,a,s_(i_,i.typeC4Shape.text),c),i.type.Y=r+5,r=i.type.Y+i.type.height):i.techn&&""!==i.techn.text&&(i.techn.text="["+i.techn.text+"]",l_("techn",i,a,s_(i_,i.techn.text),c),i.techn.Y=r+5,r=i.techn.Y+i.techn.height);let u=r,h=i.label.width;i.descr&&""!==i.descr.text&&(l_("descr",i,a,s_(i_,i.typeC4Shape.text),c),i.descr.Y=r+20,r=i.descr.Y+i.descr.height,h=Math.max(i.label.width,i.descr.width),u=r-5*i.descr.textLines),h+=i_.c4ShapePadding,i.width=Math.max(i.width||i_.width,h,i_.width),i.height=Math.max(i.height||i_.height,u,i_.height),i.margin=i.margin||i_.c4ShapeMargin,t.insert(i),Qv.drawC4Shape(e,i,i_)}t.bumpLastMargin(i_.c4ShapeMargin)};let d_=class{constructor(t,e){this.x=t,this.y=e}},f_=function(t,e){let n=t.x,i=t.y,r=e.x,o=e.y,s=n+t.width/2,a=i+t.height/2,c=Math.abs(n-r),l=Math.abs(i-o),u=l/c,h=t.height/t.width,d=null;return i==o&&n<r?d=new d_(n+t.width,a):i==o&&n>r?d=new d_(n,a):n==r&&i<o?d=new d_(s,i+t.height):n==r&&i>o&&(d=new d_(s,i)),n>r&&i<o?d=h>=u?new d_(n,a+u*t.width/2):new d_(s-c/l*t.height/2,i+t.height):n<r&&i<o?d=h>=u?new d_(n+t.width,a+u*t.width/2):new d_(s+c/l*t.height/2,i+t.height):n<r&&i>o?d=h>=u?new d_(n+t.width,a-u*t.width/2):new d_(s+t.height/2*c/l,i):n>r&&i>o&&(d=h>=u?new d_(n,a-t.width/2*u):new d_(s-t.height/2*c/l,i)),d},g_=function(t,e){let n={x:0,y:0};n.x=e.x+e.width/2,n.y=e.y+e.height/2;let i=f_(t,n);return n.x=t.x+t.width/2,n.y=t.y+t.height/2,{startPoint:i,endPoint:f_(e,n)}};const p_=function(t,e,n,i){let r=0;for(let t of e){r+=1;let e=t.wrap&&i_.wrap,o=c_(i_);"C4Dynamic"===i.db.getC4Type()&&(t.label.text=r+": "+t.label.text);let s=db(t.label.text,o);l_("label",t,e,o,s),t.techn&&""!==t.techn.text&&(s=db(t.techn.text,o),l_("techn",t,e,o,s)),t.descr&&""!==t.descr.text&&(s=db(t.descr.text,o),l_("descr",t,e,o,s));let a=n(t.from),c=n(t.to),l=g_(a,c);t.startPoint=l.startPoint,t.endPoint=l.endPoint}Qv.drawRels(t,e,i_)};function m_(t,e,n,i,r){let o=new r_(r);o.data.widthLimit=n.data.widthLimit/Math.min(n_,i.length);for(let[s,a]of i.entries()){let i=0;a.image={width:0,height:0,Y:0},a.sprite&&(a.image.width=48,a.image.height=48,a.image.Y=i,i=a.image.Y+a.image.height);let c=a.wrap&&i_.wrap,l=a_(i_);if(l.fontSize=l.fontSize+2,l.fontWeight="bold",l_("label",a,c,l,o.data.widthLimit),a.label.Y=i+8,i=a.label.Y+a.label.height,a.type&&""!==a.type.text&&(a.type.text="["+a.type.text+"]",l_("type",a,c,a_(i_),o.data.widthLimit),a.type.Y=i+5,i=a.type.Y+a.type.height),a.descr&&""!==a.descr.text){let t=a_(i_);t.fontSize=t.fontSize-2,l_("descr",a,c,t,o.data.widthLimit),a.descr.Y=i+20,i=a.descr.Y+a.descr.height}if(0==s||s%n_==0){let t=n.data.startx+i_.diagramMarginX,e=n.data.stopy+i_.diagramMarginY+i;o.setData(t,t,e,e)}else{let t=o.data.stopx!==o.data.startx?o.data.stopx+i_.diagramMarginX:o.data.startx,e=o.data.starty;o.setData(t,t,e,e)}o.name=a.alias;let u=r.db.getC4ShapeArray(a.alias),h=r.db.getC4ShapeKeys(a.alias);h.length>0&&h_(o,t,u,h),e=a.alias;let d=r.db.getBoundarys(e);d.length>0&&m_(t,e,o,d,r),"global"!==a.alias&&u_(t,a,o),n.data.stopy=Math.max(o.data.stopy+i_.c4ShapeMargin,n.data.stopy),n.data.stopx=Math.max(o.data.stopx+i_.c4ShapeMargin,n.data.stopx),Jv=Math.max(Jv,n.data.stopx),t_=Math.max(t_,n.data.stopy)}}const b_={drawPersonOrSystemArray:h_,drawBoundary:u_,setConf:o_,draw:function(t,e,n,i){i_=xw().c4;const r=xw().securityLevel;let o;"sandbox"===r&&(o=un("#i"+e));const s=un("sandbox"===r?o.nodes()[0].contentDocument.body:"body");let a=i.db;i.db.setWrap(i_.wrap),e_=a.getC4ShapeInRow(),n_=a.getC4BoundaryInRow(),h.debug(`C:${JSON.stringify(i_,null,2)}`);const c="sandbox"===r?s.select(`[id="${e}"]`):un(`[id="${e}"]`);Qv.insertComputerIcon(c),Qv.insertDatabaseIcon(c),Qv.insertClockIcon(c);let l=new r_(i);l.setData(i_.diagramMarginX,i_.diagramMarginX,i_.diagramMarginY,i_.diagramMarginY),l.data.widthLimit=screen.availWidth,Jv=i_.diagramMarginX,t_=i_.diagramMarginY;const u=i.db.getTitle();m_(c,"",l,i.db.getBoundarys(""),i),Qv.insertArrowHead(c),Qv.insertArrowEnd(c),Qv.insertArrowCrossHead(c),Qv.insertArrowFilledHead(c),p_(c,i.db.getRels(),i.db.getC4Shape,i),l.data.stopx=Jv,l.data.stopy=t_;const d=l.data;let f=d.stopy-d.starty+2*i_.diagramMarginY;const g=d.stopx-d.startx+2*i_.diagramMarginX;u&&c.append("text").text(u).attr("x",(d.stopx-d.startx)/2-4*i_.diagramMarginX).attr("y",d.starty+i_.diagramMarginY),Dw(c,f,g,i_.useMaxWidth);const p=u?60:0;c.attr("viewBox",d.startx-i_.diagramMarginX+" -"+(i_.diagramMarginY+p)+" "+g+" "+(f+p)),h.debug("models:",d)}};var w_=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[1,3],n=[1,7],i=[1,8],r=[1,9],o=[1,10],s=[1,13],a=[1,12],c=[1,16,25],l=[1,20],u=[1,32],h=[1,33],d=[1,34],f=[1,36],g=[1,39],p=[1,37],m=[1,38],b=[1,44],w=[1,45],y=[1,40],v=[1,41],_=[1,42],k=[1,43],x=[1,48],E=[1,49],T=[1,50],C=[1,51],A=[16,25],S=[1,65],I=[1,66],M=[1,67],P=[1,68],O=[1,69],D=[1,70],N=[1,71],L=[1,80],R=[16,25,32,45,46,54,60,61,62,63,64,65,66,71,73],B=[16,25,30,32,45,46,50,54,60,61,62,63,64,65,66,71,73,88,89,90,91],F=[5,8,9,10,11,16,19,23,25],j=[54,88,89,90,91],$=[54,65,66,88,89,90,91],V=[54,60,61,62,63,64,88,89,90,91],z=[16,25,32],H=[1,107],U={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,noteStatement:38,acc_title:39,acc_title_value:40,acc_descr:41,acc_descr_value:42,acc_descr_multiline_value:43,CLASS:44,STYLE_SEPARATOR:45,STRUCT_START:46,members:47,STRUCT_STOP:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,STR:54,NOTE_FOR:55,noteText:56,NOTE:57,relationType:58,lineType:59,AGGREGATION:60,EXTENSION:61,COMPOSITION:62,DEPENDENCY:63,LOLLIPOP:64,LINE:65,DOTTED_LINE:66,CALLBACK:67,LINK:68,LINK_TARGET:69,CLICK:70,CALLBACK_NAME:71,CALLBACK_ARGS:72,HREF:73,CSSCLASS:74,commentToken:75,textToken:76,graphCodeTokens:77,textNoTagsToken:78,TAGSTART:79,TAGEND:80,"==":81,"--":82,PCT:83,DEFAULT:84,SPACE:85,MINUS:86,keywords:87,UNICODE_TEXT:88,NUM:89,ALPHA:90,BQUOTE_STR:91,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",39:"acc_title",40:"acc_title_value",41:"acc_descr",42:"acc_descr_value",43:"acc_descr_multiline_value",44:"CLASS",45:"STYLE_SEPARATOR",46:"STRUCT_START",48:"STRUCT_STOP",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"STR",55:"NOTE_FOR",57:"NOTE",60:"AGGREGATION",61:"EXTENSION",62:"COMPOSITION",63:"DEPENDENCY",64:"LOLLIPOP",65:"LINE",66:"DOTTED_LINE",67:"CALLBACK",68:"LINK",69:"LINK_TARGET",70:"CLICK",71:"CALLBACK_NAME",72:"CALLBACK_ARGS",73:"HREF",74:"CSSCLASS",77:"graphCodeTokens",79:"TAGSTART",80:"TAGEND",81:"==",82:"--",83:"PCT",84:"DEFAULT",85:"SPACE",86:"MINUS",87:"keywords",88:"UNICODE_TEXT",89:"NUM",90:"ALPHA",91:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[47,1],[47,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[38,3],[38,2],[53,3],[53,2],[53,2],[53,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[75,1],[75,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[78,1],[78,1],[78,1],[78,1],[28,1],[28,1],[28,1],[29,1],[56,1]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 5:i.setDirection("TB");break;case 6:i.setDirection("BT");break;case 7:i.setDirection("RL");break;case 8:i.setDirection("LR");break;case 12:i.parseDirective("%%{","open_directive");break;case 13:i.parseDirective(o[a],"type_directive");break;case 14:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 15:i.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=o[a];break;case 22:this.$=o[a-1]+o[a];break;case 23:case 24:this.$=o[a-1]+"~"+o[a];break;case 25:i.addRelation(o[a]);break;case 26:o[a-1].title=i.cleanupLabel(o[a]),i.addRelation(o[a-1]);break;case 35:this.$=o[a].trim(),i.setAccTitle(this.$);break;case 36:case 37:this.$=o[a].trim(),i.setAccDescription(this.$);break;case 38:i.addClass(o[a]);break;case 39:i.addClass(o[a-2]),i.setCssClass(o[a-2],o[a]);break;case 40:i.addClass(o[a-3]),i.addMembers(o[a-3],o[a-1]);break;case 41:i.addClass(o[a-5]),i.setCssClass(o[a-5],o[a-3]),i.addMembers(o[a-5],o[a-1]);break;case 42:i.addAnnotation(o[a],o[a-2]);break;case 43:this.$=[o[a]];break;case 44:o[a].push(o[a-1]),this.$=o[a];break;case 45:case 47:case 48:break;case 46:i.addMember(o[a-1],i.cleanupLabel(o[a]));break;case 49:this.$={id1:o[a-2],id2:o[a],relation:o[a-1],relationTitle1:"none",relationTitle2:"none"};break;case 50:this.$={id1:o[a-3],id2:o[a],relation:o[a-1],relationTitle1:o[a-2],relationTitle2:"none"};break;case 51:this.$={id1:o[a-3],id2:o[a],relation:o[a-2],relationTitle1:"none",relationTitle2:o[a-1]};break;case 52:this.$={id1:o[a-4],id2:o[a],relation:o[a-2],relationTitle1:o[a-3],relationTitle2:o[a-1]};break;case 53:i.addNote(o[a],o[a-1]);break;case 54:i.addNote(o[a]);break;case 55:this.$={type1:o[a-2],type2:o[a],lineType:o[a-1]};break;case 56:this.$={type1:"none",type2:o[a],lineType:o[a-1]};break;case 57:this.$={type1:o[a-1],type2:"none",lineType:o[a]};break;case 58:this.$={type1:"none",type2:"none",lineType:o[a]};break;case 59:this.$=i.relationType.AGGREGATION;break;case 60:this.$=i.relationType.EXTENSION;break;case 61:this.$=i.relationType.COMPOSITION;break;case 62:this.$=i.relationType.DEPENDENCY;break;case 63:this.$=i.relationType.LOLLIPOP;break;case 64:this.$=i.lineType.LINE;break;case 65:this.$=i.lineType.DOTTED_LINE;break;case 66:case 72:this.$=o[a-2],i.setClickEvent(o[a-1],o[a]);break;case 67:case 73:this.$=o[a-3],i.setClickEvent(o[a-2],o[a-1]),i.setTooltip(o[a-2],o[a]);break;case 68:case 76:this.$=o[a-2],i.setLink(o[a-1],o[a]);break;case 69:case 77:this.$=o[a-3],i.setLink(o[a-2],o[a-1],o[a]);break;case 70:case 78:this.$=o[a-3],i.setLink(o[a-2],o[a-1]),i.setTooltip(o[a-2],o[a]);break;case 71:case 79:this.$=o[a-4],i.setLink(o[a-3],o[a-2],o[a]),i.setTooltip(o[a-3],o[a-1]);break;case 74:this.$=o[a-3],i.setClickEvent(o[a-2],o[a-1],o[a]);break;case 75:this.$=o[a-4],i.setClickEvent(o[a-3],o[a-2],o[a-1]),i.setTooltip(o[a-3],o[a]);break;case 80:i.setCssClass(o[a-1],o[a])}},table:[{3:1,4:2,5:e,6:4,7:5,8:n,9:i,10:r,11:o,12:6,13:11,19:s,23:a},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:e,6:4,7:5,8:n,9:i,10:r,11:o,12:6,13:11,19:s,23:a},{1:[2,9]},t(c,[2,5]),t(c,[2,6]),t(c,[2,7]),t(c,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:l},t([17,22],[2,13]),{6:31,7:30,8:n,9:i,10:r,11:o,13:11,19:s,24:21,26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:u,41:h,43:d,44:f,49:g,51:p,52:m,55:b,57:w,67:y,68:v,70:_,74:k,88:x,89:E,90:T,91:C},{16:[1,52]},{18:53,21:[1,54]},{16:[2,15]},{25:[1,55]},{16:[1,56],25:[2,17]},t(A,[2,25],{32:[1,57]}),t(A,[2,27]),t(A,[2,28]),t(A,[2,29]),t(A,[2,30]),t(A,[2,31]),t(A,[2,32]),t(A,[2,33]),t(A,[2,34]),{40:[1,58]},{42:[1,59]},t(A,[2,37]),t(A,[2,45],{53:60,58:63,59:64,32:[1,62],54:[1,61],60:S,61:I,62:M,63:P,64:O,65:D,66:N}),{27:72,28:46,29:47,88:x,89:E,90:T,91:C},t(A,[2,47]),t(A,[2,48]),{28:73,88:x,89:E,90:T},{27:74,28:46,29:47,88:x,89:E,90:T,91:C},{27:75,28:46,29:47,88:x,89:E,90:T,91:C},{27:76,28:46,29:47,88:x,89:E,90:T,91:C},{54:[1,77]},{27:78,28:46,29:47,88:x,89:E,90:T,91:C},{54:L,56:79},t(R,[2,20],{28:46,29:47,27:81,30:[1,82],88:x,89:E,90:T,91:C}),t(R,[2,21],{30:[1,83]}),t(B,[2,94]),t(B,[2,95]),t(B,[2,96]),t([16,25,30,32,45,46,54,60,61,62,63,64,65,66,71,73],[2,97]),t(F,[2,10]),{15:84,22:l},{22:[2,14]},{1:[2,16]},{6:31,7:30,8:n,9:i,10:r,11:o,13:11,19:s,24:85,25:[2,18],26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:u,41:h,43:d,44:f,49:g,51:p,52:m,55:b,57:w,67:y,68:v,70:_,74:k,88:x,89:E,90:T,91:C},t(A,[2,26]),t(A,[2,35]),t(A,[2,36]),{27:86,28:46,29:47,54:[1,87],88:x,89:E,90:T,91:C},{53:88,58:63,59:64,60:S,61:I,62:M,63:P,64:O,65:D,66:N},t(A,[2,46]),{59:89,65:D,66:N},t(j,[2,58],{58:90,60:S,61:I,62:M,63:P,64:O}),t($,[2,59]),t($,[2,60]),t($,[2,61]),t($,[2,62]),t($,[2,63]),t(V,[2,64]),t(V,[2,65]),t(A,[2,38],{45:[1,91],46:[1,92]}),{50:[1,93]},{54:[1,94]},{54:[1,95]},{71:[1,96],73:[1,97]},{28:98,88:x,89:E,90:T},{54:L,56:99},t(A,[2,54]),t(A,[2,98]),t(R,[2,22]),t(R,[2,23]),t(R,[2,24]),{16:[1,100]},{25:[2,19]},t(z,[2,49]),{27:101,28:46,29:47,88:x,89:E,90:T,91:C},{27:102,28:46,29:47,54:[1,103],88:x,89:E,90:T,91:C},t(j,[2,57],{58:104,60:S,61:I,62:M,63:P,64:O}),t(j,[2,56]),{28:105,88:x,89:E,90:T},{47:106,51:H},{27:108,28:46,29:47,88:x,89:E,90:T,91:C},t(A,[2,66],{54:[1,109]}),t(A,[2,68],{54:[1,111],69:[1,110]}),t(A,[2,72],{54:[1,112],72:[1,113]}),t(A,[2,76],{54:[1,115],69:[1,114]}),t(A,[2,80]),t(A,[2,53]),t(F,[2,11]),t(z,[2,51]),t(z,[2,50]),{27:116,28:46,29:47,88:x,89:E,90:T,91:C},t(j,[2,55]),t(A,[2,39],{46:[1,117]}),{48:[1,118]},{47:119,48:[2,43],51:H},t(A,[2,42]),t(A,[2,67]),t(A,[2,69]),t(A,[2,70],{69:[1,120]}),t(A,[2,73]),t(A,[2,74],{54:[1,121]}),t(A,[2,77]),t(A,[2,78],{69:[1,122]}),t(z,[2,52]),{47:123,51:H},t(A,[2,40]),{48:[2,44]},t(A,[2,71]),t(A,[2,75]),t(A,[2,79]),{48:[1,124]},t(A,[2,41])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],54:[2,14],55:[2,16],85:[2,19],119:[2,44]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",c=0,l=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),g={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(g.yy[p]=this.yy[p]);f.setInput(t,g.yy),g.yy.lexer=f,g.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var b=f.options&&f.options.ranges;function w(){var t;return"number"!=typeof(t=i.pop()||f.lex()||h)&&(t instanceof Array&&(t=(i=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,v,_,k,x,E,T,C,A={};;){if(v=n[n.length-1],this.defaultActions[v]?_=this.defaultActions[v]:(null==y&&(y=w()),_=s[v]&&s[v][y]),void 0===_||!_.length||!_[0]){var S="";for(x in C=[],s[v])this.terminals_[x]&&x>u&&C.push("'"+this.terminals_[x]+"'");S=f.showPosition?"Parse error on line "+(c+1)+":\n"+f.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(c+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[y]||y,line:f.yylineno,loc:m,expected:C})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+y);switch(_[0]){case 1:n.push(y),r.push(f.yytext),o.push(f.yylloc),n.push(_[1]),y=null,l=f.yyleng,a=f.yytext,c=f.yylineno,m=f.yylloc;break;case 2:if(E=this.productions_[_[1]][1],A.$=r[r.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(A,[a,l,c,g.yy,_[1],r,o].concat(d))))return k;E&&(n=n.slice(0,-1*E*2),r=r.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[_[1]][0]),r.push(A.$),o.push(A._$),T=s[n[n.length-2]][n[n.length-1]],n.push(T);break;case 3:return!0}}return!0}},q={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,i){switch(n){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:case 10:case 19:case 27:break;case 11:return this.begin("acc_title"),39;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),41;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:case 39:case 42:case 45:case 48:case 51:case 54:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 20:case 21:return 23;case 22:return this.begin("struct"),46;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),48;case 28:return"MEMBER";case 29:return 44;case 30:return 74;case 31:return 67;case 32:return 68;case 33:return 70;case 34:return 55;case 35:return 57;case 36:return 49;case 37:return 50;case 38:this.begin("generic");break;case 40:return"GENERICTYPE";case 41:this.begin("string");break;case 43:return"STR";case 44:this.begin("bqstring");break;case 46:return"BQUOTE_STR";case 47:this.begin("href");break;case 49:return 73;case 50:this.begin("callback_name");break;case 52:this.popState(),this.begin("callback_args");break;case 53:return 71;case 55:return 72;case 56:case 57:case 58:case 59:return 69;case 60:case 61:return 61;case 62:case 63:return 63;case 64:return 62;case 65:return 60;case 66:return 64;case 67:return 65;case 68:return 66;case 69:return 32;case 70:return 45;case 71:return 86;case 72:return"DOT";case 73:return"PLUS";case 74:return 83;case 75:case 76:return"EQUALS";case 77:return 90;case 78:return"PUNCTUATION";case 79:return 89;case 80:return 88;case 81:return 85;case 82:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[54,55],inclusive:!1},callback_name:{rules:[51,52,53],inclusive:!1},href:{rules:[48,49],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[39,40],inclusive:!1},bqstring:{rules:[45,46],inclusive:!1},string:{rules:[42,43],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,37,38,41,44,47,50,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82],inclusive:!0}}};function W(){this.yy={}}return U.lexer=q,W.prototype=U,U.Parser=W,new W}();w_.parser=w_;const y_=w_,v_=(t,e)=>{var n;return"dagre-wrapper"!==(null==(n=null==e?void 0:e.class)?void 0:n.defaultRenderer)&&null!==t.match(/^\s*classDiagram/)},__=(t,e)=>{var n;return null!==t.match(/^\s*classDiagram/)&&"dagre-wrapper"===(null==(n=null==e?void 0:e.class)?void 0:n.defaultRenderer)||null!==t.match(/^\s*classDiagram-v2/)},k_="classid-";let x_=[],E_={},T_=[],C_=0,A_=[];const S_=t=>Jh.sanitizeText(t,xw()),I_=function(t,e,n){bH.parseDirective(this,t,e,n)},M_=function(t){let e="",n=t;if(t.indexOf("~")>0){let i=t.split("~");n=i[0],e=Jh.sanitizeText(i[1],xw())}return{className:n,type:e}},P_=function(t){let e=M_(t);void 0===E_[e.className]&&(E_[e.className]={id:e.className,type:e.type,cssClasses:[],methods:[],members:[],annotations:[],domId:k_+e.className+"-"+C_},C_++)},O_=function(t){const e=Object.keys(E_);for(const n of e)if(E_[n].id===t)return E_[n].domId},D_=function(){x_=[],E_={},T_=[],A_=[],A_.push(J_),ty()},N_=function(t){return E_[t]},L_=function(){return E_},R_=function(){return x_},B_=function(){return T_},F_=function(t){h.debug("Adding relation: "+JSON.stringify(t)),P_(t.id1),P_(t.id2),t.id1=M_(t.id1).className,t.id2=M_(t.id2).className,t.relationTitle1=Jh.sanitizeText(t.relationTitle1.trim(),xw()),t.relationTitle2=Jh.sanitizeText(t.relationTitle2.trim(),xw()),x_.push(t)},j_=function(t,e){const n=M_(t).className;E_[n].annotations.push(e)},$_=function(t,e){const n=M_(t).className,i=E_[n];if("string"==typeof e){const t=e.trim();t.startsWith("<<")&&t.endsWith(">>")?i.annotations.push(S_(t.substring(2,t.length-2))):t.indexOf(")")>0?i.methods.push(S_(t)):t&&i.members.push(S_(t))}},V_=function(t,e){Array.isArray(e)&&(e.reverse(),e.forEach((e=>$_(t,e))))},z_=function(t,e){const n={id:`note${T_.length}`,class:e,text:t};T_.push(n)},H_=function(t){return":"===t.substring(0,1)?Jh.sanitizeText(t.substr(1).trim(),xw()):S_(t.trim())},U_=function(t,e){t.split(",").forEach((function(t){let n=t;t[0].match(/\d/)&&(n=k_+n),void 0!==E_[n]&&E_[n].cssClasses.push(e)}))},q_=function(t,e){const n=xw();t.split(",").forEach((function(t){void 0!==e&&(E_[t].tooltip=Jh.sanitizeText(e,n))}))},W_=function(t){return E_[t].tooltip},G_=function(t,e,n){const i=xw();t.split(",").forEach((function(t){let r=t;t[0].match(/\d/)&&(r=k_+r),void 0!==E_[r]&&(E_[r].link=vb.formatUrl(e,i),"sandbox"===i.securityLevel?E_[r].linkTarget="_top":E_[r].linkTarget="string"==typeof n?S_(n):"_blank")})),U_(t,"clickable")},K_=function(t,e,n){t.split(",").forEach((function(t){Y_(t,e,n),E_[t].haveCallback=!0})),U_(t,"clickable")},Y_=function(t,e,n){const i=xw();let r=t,o=O_(r);if("loose"===i.securityLevel&&void 0!==e&&void 0!==E_[r]){let t=[];if("string"==typeof n){t=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let e=0;e<t.length;e++){let n=t[e].trim();'"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substr(1,n.length-2)),t[e]=n}}0===t.length&&t.push(o),A_.push((function(){const n=document.querySelector(`[id="${o}"]`);null!==n&&n.addEventListener("click",(function(){vb.runFunc(e,...t)}),!1)}))}},X_=function(t){A_.forEach((function(e){e(t)}))},Z_={LINE:0,DOTTED_LINE:1},Q_={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},J_=function(t){let e=un(".mermaidTooltip");null===(e._groups||e)[0][0]&&(e=un("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),un(t).select("svg").selectAll("g.node").on("mouseover",(function(){const t=un(this);if(null===t.attr("title"))return;const n=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(t.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),t.classed("hover",!0)})).on("mouseout",(function(){e.transition().duration(500).style("opacity",0),un(this).classed("hover",!1)}))};A_.push(J_);let tk="TB";const ek={parseDirective:I_,setAccTitle:ey,getAccTitle:ny,getAccDescription:ry,setAccDescription:iy,getConfig:()=>xw().class,addClass:P_,bindFunctions:X_,clear:D_,getClass:N_,getClasses:L_,getNotes:B_,addAnnotation:j_,addNote:z_,getRelations:R_,addRelation:F_,getDirection:()=>tk,setDirection:t=>{tk=t},addMember:$_,addMembers:V_,cleanupLabel:H_,lineType:Z_,relationType:Q_,setClickEvent:K_,setCssClass:U_,setLink:G_,getTooltip:W_,setTooltip:q_,lookUpDomId:O_,setDiagramTitle:oy,getDiagramTitle:sy};function nk(t){return null!=t&&"object"==typeof t}var ik="[object Symbol]";function rk(t){return"symbol"==typeof t||nk(t)&&zp(t)==ik}function ok(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}const sk=Array.isArray;var ak=1/0,ck=Pp?Pp.prototype:void 0,lk=ck?ck.toString:void 0;function uk(t){if("string"==typeof t)return t;if(sk(t))return ok(t,uk)+"";if(rk(t))return lk?lk.call(t):"";var e=t+"";return"0"==e&&1/t==-ak?"-0":e}var hk=/\s/;function dk(t){for(var e=t.length;e--&&hk.test(t.charAt(e)););return e}var fk=/^\s+/;function gk(t){return t?t.slice(0,dk(t)+1).replace(fk,""):t}var pk=NaN,mk=/^[-+]0x[0-9a-f]+$/i,bk=/^0b[01]+$/i,wk=/^0o[0-7]+$/i,yk=parseInt;function vk(t){if("number"==typeof t)return t;if(rk(t))return pk;if(Hp(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Hp(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=gk(t);var n=bk.test(t);return n||wk.test(t)?yk(t.slice(2),n?2:8):mk.test(t)?pk:+t}var _k=1/0,kk=17976931348623157e292;function xk(t){return t?(t=vk(t))===_k||t===-_k?(t<0?-1:1)*kk:t==t?t:0:0===t?t:0}function Ek(t){var e=xk(t),n=e%1;return e==e?n?e-n:e:0}function Tk(t){return t}const Ck=um(Mp,"WeakMap");var Ak=Object.create;const Sk=function(){function t(){}return function(e){if(!Hp(e))return{};if(Ak)return Ak(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Ik(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Mk(){}function Pk(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var Ok=800,Dk=16,Nk=Date.now;function Lk(t){var e=0,n=0;return function(){var i=Nk(),r=Dk-(i-n);if(n=i,r>0){if(++e>=Ok)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Rk(t){return function(){return t}}const Bk=function(){try{var t=um(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Fk=Lk(Bk?function(t,e){return Bk(t,"toString",{configurable:!0,enumerable:!1,value:Rk(e),writable:!0})}:Tk);function jk(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function $k(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function Vk(t){return t!=t}function zk(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function Hk(t,e,n){return e==e?zk(t,e,n):$k(t,Vk,n)}function Uk(t,e){return!(null==t||!t.length)&&Hk(t,e,0)>-1}var qk=9007199254740991,Wk=/^(?:0|[1-9]\d*)$/;function Gk(t,e){var n=typeof t;return!!(e=null==e?qk:e)&&("number"==n||"symbol"!=n&&Wk.test(t))&&t>-1&&t%1==0&&t<e}function Kk(t,e,n){"__proto__"==e&&Bk?Bk(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Yk=Object.prototype.hasOwnProperty;function Xk(t,e,n){var i=t[e];Yk.call(t,e)&&xm(i,n)&&(void 0!==n||e in t)||Kk(t,e,n)}function Zk(t,e,n,i){var r=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],c=i?i(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),r?Kk(n,a,c):Xk(n,a,c)}return n}var Qk=Math.max;function Jk(t,e,n){return e=Qk(void 0===e?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=Qk(i.length-e,0),s=Array(o);++r<o;)s[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=n(s),Ik(t,this,a)}}function tx(t,e){return Fk(Jk(t,e,Tk),t+"")}var ex=9007199254740991;function nx(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=ex}function ix(t){return null!=t&&nx(t.length)&&!Kp(t)}function rx(t,e,n){if(!Hp(n))return!1;var i=typeof e;return!!("number"==i?ix(n)&&Gk(e,n.length):"string"==i&&e in n)&&xm(n[e],t)}function ox(t){return tx((function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,s&&rx(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),e=Object(e);++i<r;){var a=n[i];a&&t(e,a,i,o)}return e}))}var sx=Object.prototype;function ax(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||sx)}function cx(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var lx="[object Arguments]";function ux(t){return nk(t)&&zp(t)==lx}var hx=Object.prototype,dx=hx.hasOwnProperty,fx=hx.propertyIsEnumerable,gx=ux(function(){return arguments}())?ux:function(t){return nk(t)&&dx.call(t,"callee")&&!fx.call(t,"callee")};const px=gx;function mx(){return!1}var bx=e&&!e.nodeType&&e,wx=bx&&t&&!t.nodeType&&t,yx=wx&&wx.exports===bx?Mp.Buffer:void 0;const vx=(yx?yx.isBuffer:void 0)||mx;var _x="[object Arguments]",kx="[object Array]",xx="[object Boolean]",Ex="[object Date]",Tx="[object Error]",Cx="[object Function]",Ax="[object Map]",Sx="[object Number]",Ix="[object Object]",Mx="[object RegExp]",Px="[object Set]",Ox="[object String]",Dx="[object WeakMap]",Nx="[object ArrayBuffer]",Lx="[object DataView]",Rx="[object Float64Array]",Bx="[object Int8Array]",Fx="[object Int16Array]",jx="[object Int32Array]",$x="[object Uint8Array]",Vx="[object Uint8ClampedArray]",zx="[object Uint16Array]",Hx="[object Uint32Array]",Ux={};function qx(t){return nk(t)&&nx(t.length)&&!!Ux[zp(t)]}function Wx(t){return function(e){return t(e)}}Ux["[object Float32Array]"]=Ux[Rx]=Ux[Bx]=Ux[Fx]=Ux[jx]=Ux[$x]=Ux[Vx]=Ux[zx]=Ux[Hx]=!0,Ux[_x]=Ux[kx]=Ux[Nx]=Ux[xx]=Ux[Lx]=Ux[Ex]=Ux[Tx]=Ux[Cx]=Ux[Ax]=Ux[Sx]=Ux[Ix]=Ux[Mx]=Ux[Px]=Ux[Ox]=Ux[Dx]=!1;var Gx=e&&!e.nodeType&&e,Kx=Gx&&t&&!t.nodeType&&t,Yx=Kx&&Kx.exports===Gx&&Sp.process;const Xx=function(){try{var t=Kx&&Kx.require&&Kx.require("util").types;return t||Yx&&Yx.binding&&Yx.binding("util")}catch(t){}}();var Zx=Xx&&Xx.isTypedArray;const Qx=Zx?Wx(Zx):qx;var Jx=Object.prototype.hasOwnProperty;function tE(t,e){var n=sk(t),i=!n&&px(t),r=!n&&!i&&vx(t),o=!n&&!i&&!r&&Qx(t),s=n||i||r||o,a=s?cx(t.length,String):[],c=a.length;for(var l in t)!e&&!Jx.call(t,l)||s&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Gk(l,c))||a.push(l);return a}function eE(t,e){return function(n){return t(e(n))}}const nE=eE(Object.keys,Object);var iE=Object.prototype.hasOwnProperty;function rE(t){if(!ax(t))return nE(t);var e=[];for(var n in Object(t))iE.call(t,n)&&"constructor"!=n&&e.push(n);return e}function oE(t){return ix(t)?tE(t):rE(t)}function sE(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}var aE=Object.prototype.hasOwnProperty;function cE(t){if(!Hp(t))return sE(t);var e=ax(t),n=[];for(var i in t)("constructor"!=i||!e&&aE.call(t,i))&&n.push(i);return n}function lE(t){return ix(t)?tE(t,!0):cE(t)}var uE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hE=/^\w*$/;function dE(t,e){if(sk(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!rk(t))||hE.test(t)||!uE.test(t)||null!=e&&t in Object(e)}var fE=500;function gE(t){var e=Vm(t,(function(t){return n.size===fE&&n.clear(),t})),n=e.cache;return e}var pE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mE=/\\(\\)?/g;const bE=gE((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(pE,(function(t,n,i,r){e.push(i?r.replace(mE,"$1"):n||t)})),e}));function wE(t){return null==t?"":uk(t)}function yE(t,e){return sk(t)?t:dE(t,e)?[t]:bE(wE(t))}var vE=1/0;function _E(t){if("string"==typeof t||rk(t))return t;var e=t+"";return"0"==e&&1/t==-vE?"-0":e}function kE(t,e){for(var n=0,i=(e=yE(e,t)).length;null!=t&&n<i;)t=t[_E(e[n++])];return n&&n==i?t:void 0}function xE(t,e,n){var i=null==t?void 0:kE(t,e);return void 0===i?n:i}function EE(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var TE=Pp?Pp.isConcatSpreadable:void 0;function CE(t){return sk(t)||px(t)||!!(TE&&t&&t[TE])}function AE(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=CE),r||(r=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?AE(a,e-1,n,i,r):EE(r,a):i||(r[r.length]=a)}return r}function SE(t){return null!=t&&t.length?AE(t,1):[]}function IE(t){return Fk(Jk(t,void 0,SE),t+"")}const ME=eE(Object.getPrototypeOf,Object);var PE="[object Object]",OE=Function.prototype,DE=Object.prototype,NE=OE.toString,LE=DE.hasOwnProperty,RE=NE.call(Object);function BE(t){if(!nk(t)||zp(t)!=PE)return!1;var e=ME(t);if(null===e)return!0;var n=LE.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&NE.call(n)==RE}function FE(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function jE(){this.__data__=new Mm,this.size=0}function $E(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function VE(t){return this.__data__.get(t)}function zE(t){return this.__data__.has(t)}var HE=200;function UE(t,e){var n=this.__data__;if(n instanceof Mm){var i=n.__data__;if(!Pm||i.length<HE-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new jm(i)}return n.set(t,e),this.size=n.size,this}function qE(t){var e=this.__data__=new Mm(t);this.size=e.size}function WE(t,e){return t&&Zk(e,oE(e),t)}function GE(t,e){return t&&Zk(e,lE(e),t)}qE.prototype.clear=jE,qE.prototype.delete=$E,qE.prototype.get=VE,qE.prototype.has=zE,qE.prototype.set=UE;var KE=e&&!e.nodeType&&e,YE=KE&&t&&!t.nodeType&&t,XE=YE&&YE.exports===KE?Mp.Buffer:void 0,ZE=XE?XE.allocUnsafe:void 0;function QE(t,e){if(e)return t.slice();var n=t.length,i=ZE?ZE(n):new t.constructor(n);return t.copy(i),i}function JE(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function tT(){return[]}var eT=Object.prototype.propertyIsEnumerable,nT=Object.getOwnPropertySymbols;const iT=nT?function(t){return null==t?[]:(t=Object(t),JE(nT(t),(function(e){return eT.call(t,e)})))}:tT;function rT(t,e){return Zk(t,iT(t),e)}const oT=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)EE(e,iT(t)),t=ME(t);return e}:tT;function sT(t,e){return Zk(t,oT(t),e)}function aT(t,e,n){var i=e(t);return sk(t)?i:EE(i,n(t))}function cT(t){return aT(t,oE,iT)}function lT(t){return aT(t,lE,oT)}const uT=um(Mp,"DataView"),hT=um(Mp,"Promise"),dT=um(Mp,"Set");var fT="[object Map]",gT="[object Object]",pT="[object Promise]",mT="[object Set]",bT="[object WeakMap]",wT="[object DataView]",yT=tm(uT),vT=tm(Pm),_T=tm(hT),kT=tm(dT),xT=tm(Ck),ET=zp;(uT&&ET(new uT(new ArrayBuffer(1)))!=wT||Pm&&ET(new Pm)!=fT||hT&&ET(hT.resolve())!=pT||dT&&ET(new dT)!=mT||Ck&&ET(new Ck)!=bT)&&(ET=function(t){var e=zp(t),n=e==gT?t.constructor:void 0,i=n?tm(n):"";if(i)switch(i){case yT:return wT;case vT:return fT;case _T:return pT;case kT:return mT;case xT:return bT}return e});const TT=ET;var CT=Object.prototype.hasOwnProperty;function AT(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&CT.call(t,"index")&&(n.index=t.index,n.input=t.input),n}const ST=Mp.Uint8Array;function IT(t){var e=new t.constructor(t.byteLength);return new ST(e).set(new ST(t)),e}function MT(t,e){var n=e?IT(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var PT=/\w*$/;function OT(t){var e=new t.constructor(t.source,PT.exec(t));return e.lastIndex=t.lastIndex,e}var DT=Pp?Pp.prototype:void 0,NT=DT?DT.valueOf:void 0;function LT(t){return NT?Object(NT.call(t)):{}}function RT(t,e){var n=e?IT(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var BT="[object Boolean]",FT="[object Date]",jT="[object Map]",$T="[object Number]",VT="[object RegExp]",zT="[object Set]",HT="[object String]",UT="[object Symbol]",qT="[object ArrayBuffer]",WT="[object DataView]",GT="[object Float32Array]",KT="[object Float64Array]",YT="[object Int8Array]",XT="[object Int16Array]",ZT="[object Int32Array]",QT="[object Uint8Array]",JT="[object Uint8ClampedArray]",tC="[object Uint16Array]",eC="[object Uint32Array]";function nC(t,e,n){var i=t.constructor;switch(e){case qT:return IT(t);case BT:case FT:return new i(+t);case WT:return MT(t,n);case GT:case KT:case YT:case XT:case ZT:case QT:case JT:case tC:case eC:return RT(t,n);case jT:return new i;case $T:case HT:return new i(t);case VT:return OT(t);case zT:return new i;case UT:return LT(t)}}function iC(t){return"function"!=typeof t.constructor||ax(t)?{}:Sk(ME(t))}var rC="[object Map]";function oC(t){return nk(t)&&TT(t)==rC}var sC=Xx&&Xx.isMap;const aC=sC?Wx(sC):oC;var cC="[object Set]";function lC(t){return nk(t)&&TT(t)==cC}var uC=Xx&&Xx.isSet;const hC=uC?Wx(uC):lC;var dC=1,fC=2,gC=4,pC="[object Arguments]",mC="[object Array]",bC="[object Boolean]",wC="[object Date]",yC="[object Error]",vC="[object Function]",_C="[object GeneratorFunction]",kC="[object Map]",xC="[object Number]",EC="[object Object]",TC="[object RegExp]",CC="[object Set]",AC="[object String]",SC="[object Symbol]",IC="[object WeakMap]",MC="[object ArrayBuffer]",PC="[object DataView]",OC="[object Float32Array]",DC="[object Float64Array]",NC="[object Int8Array]",LC="[object Int16Array]",RC="[object Int32Array]",BC="[object Uint8Array]",FC="[object Uint8ClampedArray]",jC="[object Uint16Array]",$C="[object Uint32Array]",VC={};function zC(t,e,n,i,r,o){var s,a=e&dC,c=e&fC,l=e&gC;if(n&&(s=r?n(t,i,r,o):n(t)),void 0!==s)return s;if(!Hp(t))return t;var u=sk(t);if(u){if(s=AT(t),!a)return Pk(t,s)}else{var h=TT(t),d=h==vC||h==_C;if(vx(t))return QE(t,a);if(h==EC||h==pC||d&&!r){if(s=c||d?{}:iC(t),!a)return c?sT(t,GE(s,t)):rT(t,WE(s,t))}else{if(!VC[h])return r?t:{};s=nC(t,h,a)}}o||(o=new qE);var f=o.get(t);if(f)return f;o.set(t,s),hC(t)?t.forEach((function(i){s.add(zC(i,e,n,i,t,o))})):aC(t)&&t.forEach((function(i,r){s.set(r,zC(i,e,n,r,t,o))}));var g=u?void 0:(l?c?lT:cT:c?lE:oE)(t);return jk(g||t,(function(i,r){g&&(i=t[r=i]),Xk(s,r,zC(i,e,n,r,t,o))})),s}VC[pC]=VC[mC]=VC[MC]=VC[PC]=VC[bC]=VC[wC]=VC[OC]=VC[DC]=VC[NC]=VC[LC]=VC[RC]=VC[kC]=VC[xC]=VC[EC]=VC[TC]=VC[CC]=VC[AC]=VC[SC]=VC[BC]=VC[FC]=VC[jC]=VC[$C]=!0,VC[yC]=VC[vC]=VC[IC]=!1;var HC=4;function UC(t){return zC(t,HC)}var qC=1,WC=4;function GC(t){return zC(t,qC|WC)}var KC="__lodash_hash_undefined__";function YC(t){return this.__data__.set(t,KC),this}function XC(t){return this.__data__.has(t)}function ZC(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new jm;++e<n;)this.add(t[e])}function QC(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function JC(t,e){return t.has(e)}ZC.prototype.add=ZC.prototype.push=YC,ZC.prototype.has=XC;var tA=1,eA=2;function nA(t,e,n,i,r,o){var s=n&tA,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var l=o.get(t),u=o.get(e);if(l&&u)return l==e&&u==t;var h=-1,d=!0,f=n&eA?new ZC:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var g=t[h],p=e[h];if(i)var m=s?i(p,g,h,e,t,o):i(g,p,h,t,e,o);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!QC(e,(function(t,e){if(!JC(f,e)&&(g===t||r(g,t,n,i,o)))return f.push(e)}))){d=!1;break}}else if(g!==p&&!r(g,p,n,i,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function iA(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function rA(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var oA=1,sA=2,aA="[object Boolean]",cA="[object Date]",lA="[object Error]",uA="[object Map]",hA="[object Number]",dA="[object RegExp]",fA="[object Set]",gA="[object String]",pA="[object Symbol]",mA="[object ArrayBuffer]",bA="[object DataView]",wA=Pp?Pp.prototype:void 0,yA=wA?wA.valueOf:void 0;function vA(t,e,n,i,r,o,s){switch(n){case bA:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case mA:return!(t.byteLength!=e.byteLength||!o(new ST(t),new ST(e)));case aA:case cA:case hA:return xm(+t,+e);case lA:return t.name==e.name&&t.message==e.message;case dA:case gA:return t==e+"";case uA:var a=iA;case fA:var c=i&oA;if(a||(a=rA),t.size!=e.size&&!c)return!1;var l=s.get(t);if(l)return l==e;i|=sA,s.set(t,e);var u=nA(a(t),a(e),i,r,o,s);return s.delete(t),u;case pA:if(yA)return yA.call(t)==yA.call(e)}return!1}var _A=1,kA=Object.prototype.hasOwnProperty;function xA(t,e,n,i,r,o){var s=n&_A,a=cT(t),c=a.length;if(c!=cT(e).length&&!s)return!1;for(var l=c;l--;){var u=a[l];if(!(s?u in e:kA.call(e,u)))return!1}var h=o.get(t),d=o.get(e);if(h&&d)return h==e&&d==t;var f=!0;o.set(t,e),o.set(e,t);for(var g=s;++l<c;){var p=t[u=a[l]],m=e[u];if(i)var b=s?i(m,p,u,e,t,o):i(p,m,u,t,e,o);if(!(void 0===b?p===m||r(p,m,n,i,o):b)){f=!1;break}g||(g="constructor"==u)}if(f&&!g){var w=t.constructor,y=e.constructor;w==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(t),o.delete(e),f}var EA=1,TA="[object Arguments]",CA="[object Array]",AA="[object Object]",SA=Object.prototype.hasOwnProperty;function IA(t,e,n,i,r,o){var s=sk(t),a=sk(e),c=s?CA:TT(t),l=a?CA:TT(e),u=(c=c==TA?AA:c)==AA,h=(l=l==TA?AA:l)==AA,d=c==l;if(d&&vx(t)){if(!vx(e))return!1;s=!0,u=!1}if(d&&!u)return o||(o=new qE),s||Qx(t)?nA(t,e,n,i,r,o):vA(t,e,c,n,i,r,o);if(!(n&EA)){var f=u&&SA.call(t,"__wrapped__"),g=h&&SA.call(e,"__wrapped__");if(f||g){var p=f?t.value():t,m=g?e.value():e;return o||(o=new qE),r(p,m,n,i,o)}}return!!d&&(o||(o=new qE),xA(t,e,n,i,r,o))}function MA(t,e,n,i,r){return t===e||(null==t||null==e||!nk(t)&&!nk(e)?t!=t&&e!=e:IA(t,e,n,i,MA,r))}var PA=1,OA=2;function DA(t,e,n,i){var r=n.length,o=r,s=!i;if(null==t)return!o;for(t=Object(t);r--;){var a=n[r];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){var c=(a=n[r])[0],l=t[c],u=a[1];if(s&&a[2]){if(void 0===l&&!(c in t))return!1}else{var h=new qE;if(i)var d=i(l,u,c,t,e,h);if(!(void 0===d?MA(u,l,PA|OA,i,h):d))return!1}}return!0}function NA(t){return t==t&&!Hp(t)}function LA(t){for(var e=oE(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,NA(r)]}return e}function RA(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}function BA(t){var e=LA(t);return 1==e.length&&e[0][2]?RA(e[0][0],e[0][1]):function(n){return n===t||DA(n,t,e)}}function FA(t,e){return null!=t&&e in Object(t)}function jA(t,e,n){for(var i=-1,r=(e=yE(e,t)).length,o=!1;++i<r;){var s=_E(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&nx(r)&&Gk(s,r)&&(sk(t)||px(t))}function $A(t,e){return null!=t&&jA(t,e,FA)}var VA=1,zA=2;function HA(t,e){return dE(t)&&NA(e)?RA(_E(t),e):function(n){var i=xE(n,t);return void 0===i&&i===e?$A(n,t):MA(e,i,VA|zA)}}function UA(t){return function(e){return null==e?void 0:e[t]}}function qA(t){return function(e){return kE(e,t)}}function WA(t){return dE(t)?UA(_E(t)):qA(t)}function GA(t){return"function"==typeof t?t:null==t?Tk:"object"==typeof t?sk(t)?HA(t[0],t[1]):BA(t):WA(t)}function KA(t){return function(e,n,i){for(var r=-1,o=Object(e),s=i(e),a=s.length;a--;){var c=s[t?a:++r];if(!1===n(o[c],c,o))break}return e}}const YA=KA();function XA(t,e){return t&&YA(t,e,oE)}function ZA(t,e){return function(n,i){if(null==n)return n;if(!ix(n))return t(n,i);for(var r=n.length,o=e?r:-1,s=Object(n);(e?o--:++o<r)&&!1!==i(s[o],o,s););return n}}const QA=ZA(XA),JA=function(){return Mp.Date.now()};var tS=Object.prototype,eS=tS.hasOwnProperty;const nS=tx((function(t,e){t=Object(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&rx(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],s=lE(o),a=-1,c=s.length;++a<c;){var l=s[a],u=t[l];(void 0===u||xm(u,tS[l])&&!eS.call(t,l))&&(t[l]=o[l])}return t}));function iS(t,e,n){(void 0!==n&&!xm(t[e],n)||void 0===n&&!(e in t))&&Kk(t,e,n)}function rS(t){return nk(t)&&ix(t)}function oS(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}function sS(t){return Zk(t,lE(t))}function aS(t,e,n,i,r,o,s){var a=oS(t,n),c=oS(e,n),l=s.get(c);if(l)iS(t,n,l);else{var u=o?o(a,c,n+"",t,e,s):void 0,h=void 0===u;if(h){var d=sk(c),f=!d&&vx(c),g=!d&&!f&&Qx(c);u=c,d||f||g?sk(a)?u=a:rS(a)?u=Pk(a):f?(h=!1,u=QE(c,!0)):g?(h=!1,u=RT(c,!0)):u=[]:BE(c)||px(c)?(u=a,px(a)?u=sS(a):Hp(a)&&!Kp(a)||(u=iC(c))):h=!1}h&&(s.set(c,u),r(u,c,i,o,s),s.delete(c)),iS(t,n,u)}}function cS(t,e,n,i,r){t!==e&&YA(e,(function(o,s){if(r||(r=new qE),Hp(o))aS(t,e,s,n,cS,i,r);else{var a=i?i(oS(t,s),o,s+"",t,e,r):void 0;void 0===a&&(a=o),iS(t,s,a)}}),lE)}function lS(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function uS(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}function hS(t){return"function"==typeof t?t:Tk}function dS(t,e){return(sk(t)?jk:QA)(t,hS(e))}function fS(t,e){var n=[];return QA(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function gS(t,e){return(sk(t)?JE:fS)(t,GA(e))}function pS(t){return function(e,n,i){var r=Object(e);if(!ix(e)){var o=GA(n);e=oE(e),n=function(t){return o(r[t],t,r)}}var s=t(e,n,i);return s>-1?r[o?e[s]:s]:void 0}}var mS=Math.max;function bS(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Ek(n);return r<0&&(r=mS(i+r,0)),$k(t,GA(e),r)}const wS=pS(bS);function yS(t,e){var n=-1,i=ix(t)?Array(t.length):[];return QA(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function vS(t,e){return(sk(t)?ok:yS)(t,GA(e))}function _S(t,e){return null==t?t:YA(t,hS(e),lE)}function kS(t,e){return t>e}var xS=Object.prototype.hasOwnProperty;function ES(t,e){return null!=t&&xS.call(t,e)}function TS(t,e){return null!=t&&jA(t,e,ES)}function CS(t,e){return ok(e,(function(e){return t[e]}))}function AS(t){return null==t?[]:CS(t,oE(t))}var SS="[object Map]",IS="[object Set]",MS=Object.prototype.hasOwnProperty;function PS(t){if(null==t)return!0;if(ix(t)&&(sk(t)||"string"==typeof t||"function"==typeof t.splice||vx(t)||Qx(t)||px(t)))return!t.length;var e=TT(t);if(e==SS||e==IS)return!t.size;if(ax(t))return!rE(t).length;for(var n in t)if(MS.call(t,n))return!1;return!0}function OS(t){return void 0===t}function DS(t,e){return t<e}function NS(t,e){var n={};return e=GA(e),XA(t,(function(t,i,r){Kk(n,i,e(t,i,r))})),n}function LS(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],s=e(o);if(null!=s&&(void 0===a?s==s&&!rk(s):n(s,a)))var a=s,c=o}return c}function RS(t){return t&&t.length?LS(t,Tk,kS):void 0}const BS=ox((function(t,e,n){cS(t,e,n)}));function FS(t){return t&&t.length?LS(t,Tk,DS):void 0}function jS(t,e){return t&&t.length?LS(t,GA(e),DS):void 0}function $S(t,e,n,i){if(!Hp(t))return t;for(var r=-1,o=(e=yE(e,t)).length,s=o-1,a=t;null!=a&&++r<o;){var c=_E(e[r]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(r!=s){var u=a[c];void 0===(l=i?i(u,c,a):void 0)&&(l=Hp(u)?u:Gk(e[r+1])?[]:{})}Xk(a,c,l),a=a[c]}return t}function VS(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=kE(t,s);n(a,s)&&$S(o,yE(s,t),a)}return o}function zS(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function HS(t,e){if(t!==e){var n=void 0!==t,i=null===t,r=t==t,o=rk(t),s=void 0!==e,a=null===e,c=e==e,l=rk(e);if(!a&&!l&&!o&&t>e||o&&s&&c&&!a&&!l||i&&s&&c||!n&&c||!r)return 1;if(!i&&!o&&!l&&t<e||l&&n&&r&&!i&&!o||a&&n&&r||!s&&r||!c)return-1}return 0}function US(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;++i<s;){var c=HS(r[i],o[i]);if(c)return i>=a?c:c*("desc"==n[i]?-1:1)}return t.index-e.index}function qS(t,e,n){e=e.length?ok(e,(function(t){return sk(t)?function(e){return kE(e,1===t.length?t[0]:t)}:t})):[Tk];var i=-1;return e=ok(e,Wx(GA)),zS(yS(t,(function(t,n,r){return{criteria:ok(e,(function(e){return e(t)})),index:++i,value:t}})),(function(t,e){return US(t,e,n)}))}function WS(t,e){return VS(t,e,(function(e,n){return $A(t,n)}))}const GS=IE((function(t,e){return null==t?{}:WS(t,e)}));var KS=Math.ceil,YS=Math.max;function XS(t,e,n,i){for(var r=-1,o=YS(KS((e-t)/(n||1)),0),s=Array(o);o--;)s[i?o:++r]=t,t+=n;return s}function ZS(t){return function(e,n,i){return i&&"number"!=typeof i&&rx(e,n,i)&&(n=i=void 0),e=xk(e),void 0===n?(n=e,e=0):n=xk(n),XS(e,n,i=void 0===i?e<n?1:-1:xk(i),t)}}const QS=ZS();function JS(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function tI(t,e,n){var i=sk(t)?FE:JS,r=arguments.length<3;return i(t,GA(e),n,r,QA)}const eI=tx((function(t,e){if(null==t)return[];var n=e.length;return n>1&&rx(t,e[0],e[1])?e=[]:n>2&&rx(e[0],e[1],e[2])&&(e=[e[0]]),qS(t,AE(e,1),[])}));var nI=1/0;const iI=dT&&1/rA(new dT([,-0]))[1]==nI?function(t){return new dT(t)}:Mk;var rI=200;function oI(t,e,n){var i=-1,r=Uk,o=t.length,s=!0,a=[],c=a;if(n)s=!1,r=lS;else if(o>=rI){var l=e?null:iI(t);if(l)return rA(l);s=!1,r=JC,c=new ZC}else c=e?[]:a;t:for(;++i<o;){var u=t[i],h=e?e(u):u;if(u=n||0!==u?u:0,s&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue t;e&&c.push(h),a.push(u)}else r(c,h,n)||(c!==a&&c.push(h),a.push(u))}return a}const sI=tx((function(t){return oI(AE(t,1,rS,!0))}));var aI=0;function cI(t){var e=++aI;return wE(t)+e}function lI(t,e,n){for(var i=-1,r=t.length,o=e.length,s={};++i<r;){var a=i<o?e[i]:void 0;n(s,t[i],a)}return s}function uI(t,e){return lI(t||[],e||[],Xk)}var hI="\0",dI="\0",fI="";class gI{constructor(t={}){this._isDirected=!TS(t,"directed")||t.directed,this._isMultigraph=!!TS(t,"multigraph")&&t.multigraph,this._isCompound=!!TS(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=Rk(void 0),this._defaultEdgeLabelFn=Rk(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[dI]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return Kp(t)||(t=Rk(t)),this._defaultNodeLabelFn=t,this}nodeCount(){return this._nodeCount}nodes(){return oE(this._nodes)}sources(){var t=this;return gS(this.nodes(),(function(e){return PS(t._in[e])}))}sinks(){var t=this;return gS(this.nodes(),(function(e){return PS(t._out[e])}))}setNodes(t,e){var n=arguments,i=this;return dS(t,(function(t){n.length>1?i.setNode(t,e):i.setNode(t)})),this}setNode(t,e){return TS(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=dI,this._children[t]={},this._children[dI][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)}node(t){return this._nodes[t]}hasNode(t){return TS(this._nodes,t)}removeNode(t){var e=this;if(TS(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],dS(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),dS(oE(this._in[t]),n),delete this._in[t],delete this._preds[t],dS(oE(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(OS(e))e=dI;else{for(var n=e+="";!OS(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var e=this._parent[t];if(e!==dI)return e}}children(t){if(OS(t)&&(t=dI),this._isCompound){var e=this._children[t];if(e)return oE(e)}else{if(t===dI)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var e=this._preds[t];if(e)return oE(e)}successors(t){var e=this._sucs[t];if(e)return oE(e)}neighbors(t){var e=this.predecessors(t);if(e)return sI(e,this.successors(t))}isLeaf(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length}filterNodes(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;dS(this._nodes,(function(n,i){t(i)&&e.setNode(i,n)})),dS(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))}));var i={};function r(t){var o=n.parent(t);return void 0===o||e.hasNode(o)?(i[t]=o,o):o in i?i[o]:r(o)}return this._isCompound&&dS(e.nodes(),(function(t){e.setParent(t,r(t))})),e}setDefaultEdgeLabel(t){return Kp(t)||(t=Rk(t)),this._defaultEdgeLabelFn=t,this}edgeCount(){return this._edgeCount}edges(){return AS(this._edgeObjs)}setPath(t,e){var n=this,i=arguments;return tI(t,(function(t,r){return i.length>1?n.setEdge(t,r,e):n.setEdge(t,r),r})),this}setEdge(){var t,e,n,i,r=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(t=o.v,e=o.w,n=o.name,2===arguments.length&&(i=arguments[1],r=!0)):(t=o,e=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],r=!0)),t=""+t,e=""+e,OS(n)||(n=""+n);var s=bI(this._isDirected,t,e,n);if(TS(this._edgeLabels,s))return r&&(this._edgeLabels[s]=i),this;if(!OS(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[s]=r?i:this._defaultEdgeLabelFn(t,e,n);var a=wI(this._isDirected,t,e,n);return t=a.v,e=a.w,Object.freeze(a),this._edgeObjs[s]=a,pI(this._preds[e],t),pI(this._sucs[t],e),this._in[e][s]=a,this._out[t][s]=a,this._edgeCount++,this}edge(t,e,n){var i=1===arguments.length?yI(this._isDirected,arguments[0]):bI(this._isDirected,t,e,n);return this._edgeLabels[i]}hasEdge(t,e,n){var i=1===arguments.length?yI(this._isDirected,arguments[0]):bI(this._isDirected,t,e,n);return TS(this._edgeLabels,i)}removeEdge(t,e,n){var i=1===arguments.length?yI(this._isDirected,arguments[0]):bI(this._isDirected,t,e,n),r=this._edgeObjs[i];return r&&(t=r.v,e=r.w,delete this._edgeLabels[i],delete this._edgeObjs[i],mI(this._preds[e],t),mI(this._sucs[t],e),delete this._in[e][i],delete this._out[t][i],this._edgeCount--),this}inEdges(t,e){var n=this._in[t];if(n){var i=AS(n);return e?gS(i,(function(t){return t.v===e})):i}}outEdges(t,e){var n=this._out[t];if(n){var i=AS(n);return e?gS(i,(function(t){return t.w===e})):i}}nodeEdges(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}}function pI(t,e){t[e]?t[e]++:t[e]=1}function mI(t,e){--t[e]||delete t[e]}function bI(t,e,n,i){var r=""+e,o=""+n;if(!t&&r>o){var s=r;r=o,o=s}return r+fI+o+fI+(OS(i)?hI:i)}function wI(t,e,n,i){var r=""+e,o=""+n;if(!t&&r>o){var s=r;r=o,o=s}var a={v:r,w:o};return i&&(a.name=i),a}function yI(t,e){return bI(t,e.v,e.w,e.name)}gI.prototype._nodeCount=0,gI.prototype._edgeCount=0;class vI{constructor(){var t={};t._next=t._prev=t,this._sentinel=t}dequeue(){var t=this._sentinel,e=t._prev;if(e!==t)return _I(e),e}enqueue(t){var e=this._sentinel;t._prev&&t._next&&_I(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e}toString(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,kI)),n=n._prev;return"["+t.join(", ")+"]"}}function _I(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function kI(t,e){if("_next"!==t&&"_prev"!==t)return e}var xI=Rk(1);function EI(t,e){if(t.nodeCount()<=1)return[];var n=AI(t,e||xI);return SE(vS(TI(n.graph,n.buckets,n.zeroIdx),(function(e){return t.outEdges(e.v,e.w)})))}function TI(t,e,n){for(var i,r=[],o=e[e.length-1],s=e[0];t.nodeCount();){for(;i=s.dequeue();)CI(t,e,n,i);for(;i=o.dequeue();)CI(t,e,n,i);if(t.nodeCount())for(var a=e.length-2;a>0;--a)if(i=e[a].dequeue()){r=r.concat(CI(t,e,n,i,!0));break}}return r}function CI(t,e,n,i,r){var o=r?[]:void 0;return dS(t.inEdges(i.v),(function(i){var s=t.edge(i),a=t.node(i.v);r&&o.push({v:i.v,w:i.w}),a.out-=s,SI(e,n,a)})),dS(t.outEdges(i.v),(function(i){var r=t.edge(i),o=i.w,s=t.node(o);s.in-=r,SI(e,n,s)})),t.removeNode(i.v),o}function AI(t,e){var n=new gI,i=0,r=0;dS(t.nodes(),(function(t){n.setNode(t,{v:t,in:0,out:0})})),dS(t.edges(),(function(t){var o=n.edge(t.v,t.w)||0,s=e(t),a=o+s;n.setEdge(t.v,t.w,a),r=Math.max(r,n.node(t.v).out+=s),i=Math.max(i,n.node(t.w).in+=s)}));var o=QS(r+i+3).map((function(){return new vI})),s=i+1;return dS(n.nodes(),(function(t){SI(o,s,n.node(t))})),{graph:n,buckets:o,zeroIdx:s}}function SI(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function II(t){function e(t){return function(e){return t.edge(e).weight}}dS("greedy"===t.graph().acyclicer?EI(t,e(t)):MI(t),(function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,cI("rev"))}))}function MI(t){var e=[],n={},i={};function r(o){TS(i,o)||(i[o]=!0,n[o]=!0,dS(t.outEdges(o),(function(t){TS(n,t.w)?e.push(t):r(t.w)})),delete n[o])}return dS(t.nodes(),r),e}function PI(t){dS(t.edges(),(function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var i=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,i)}}))}function OI(t,e,n,i){var r;do{r=cI(i)}while(t.hasNode(r));return n.dummy=e,t.setNode(r,n),r}function DI(t){var e=(new gI).setGraph(t.graph());return dS(t.nodes(),(function(n){e.setNode(n,t.node(n))})),dS(t.edges(),(function(n){var i=e.edge(n.v,n.w)||{weight:0,minlen:1},r=t.edge(n);e.setEdge(n.v,n.w,{weight:i.weight+r.weight,minlen:Math.max(i.minlen,r.minlen)})})),e}function NI(t){var e=new gI({multigraph:t.isMultigraph()}).setGraph(t.graph());return dS(t.nodes(),(function(n){t.children(n).length||e.setNode(n,t.node(n))})),dS(t.edges(),(function(n){e.setEdge(n,t.edge(n))})),e}function LI(t,e){var n,i,r=t.x,o=t.y,s=e.x-r,a=e.y-o,c=t.width/2,l=t.height/2;if(!s&&!a)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(a)*c>Math.abs(s)*l?(a<0&&(l=-l),n=l*s/a,i=l):(s<0&&(c=-c),n=c,i=c*a/s),{x:r+n,y:o+i}}function RI(t){var e=vS(QS($I(t)+1),(function(){return[]}));return dS(t.nodes(),(function(n){var i=t.node(n),r=i.rank;OS(r)||(e[r][i.order]=n)})),e}function BI(t){var e=FS(vS(t.nodes(),(function(e){return t.node(e).rank})));dS(t.nodes(),(function(n){var i=t.node(n);TS(i,"rank")&&(i.rank-=e)}))}function FI(t){var e=FS(vS(t.nodes(),(function(e){return t.node(e).rank}))),n=[];dS(t.nodes(),(function(i){var r=t.node(i).rank-e;n[r]||(n[r]=[]),n[r].push(i)}));var i=0,r=t.graph().nodeRankFactor;dS(n,(function(e,n){OS(e)&&n%r!=0?--i:i&&dS(e,(function(e){t.node(e).rank+=i}))}))}function jI(t,e,n,i){var r={width:0,height:0};return arguments.length>=4&&(r.rank=n,r.order=i),OI(t,"border",r,e)}function $I(t){return RS(vS(t.nodes(),(function(e){var n=t.node(e).rank;if(!OS(n))return n})))}function VI(t,e){var n={lhs:[],rhs:[]};return dS(t,(function(t){e(t)?n.lhs.push(t):n.rhs.push(t)})),n}function zI(t,e){var n=JA();try{return e()}finally{console.log(t+" time: "+(JA()-n)+"ms")}}function HI(t,e){return e()}function UI(t){function e(n){var i=t.children(n),r=t.node(n);if(i.length&&dS(i,e),TS(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(var o=r.minRank,s=r.maxRank+1;o<s;++o)qI(t,"borderLeft","_bl",n,r,o),qI(t,"borderRight","_br",n,r,o)}}dS(t.children(),e)}function qI(t,e,n,i,r,o){var s={width:0,height:0,rank:o,borderType:e},a=r[e][o-1],c=OI(t,"border",s,n);r[e][o]=c,t.setParent(c,i),a&&t.setEdge(a,c,{weight:1})}function WI(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||KI(t)}function GI(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||XI(t),"lr"!==e&&"rl"!==e||(QI(t),KI(t))}function KI(t){dS(t.nodes(),(function(e){YI(t.node(e))})),dS(t.edges(),(function(e){YI(t.edge(e))}))}function YI(t){var e=t.width;t.width=t.height,t.height=e}function XI(t){dS(t.nodes(),(function(e){ZI(t.node(e))})),dS(t.edges(),(function(e){var n=t.edge(e);dS(n.points,ZI),TS(n,"y")&&ZI(n)}))}function ZI(t){t.y=-t.y}function QI(t){dS(t.nodes(),(function(e){JI(t.node(e))})),dS(t.edges(),(function(e){var n=t.edge(e);dS(n.points,JI),TS(n,"x")&&JI(n)}))}function JI(t){var e=t.x;t.x=t.y,t.y=e}function tM(t){t.graph().dummyChains=[],dS(t.edges(),(function(e){eM(t,e)}))}function eM(t,e){var n=e.v,i=t.node(n).rank,r=e.w,o=t.node(r).rank,s=e.name,a=t.edge(e),c=a.labelRank;if(o!==i+1){var l,u,h;for(t.removeEdge(e),h=0,++i;i<o;++h,++i)a.points=[],l=OI(t,"edge",u={width:0,height:0,edgeLabel:a,edgeObj:e,rank:i},"_d"),i===c&&(u.width=a.width,u.height=a.height,u.dummy="edge-label",u.labelpos=a.labelpos),t.setEdge(n,l,{weight:a.weight},s),0===h&&t.graph().dummyChains.push(l),n=l;t.setEdge(n,r,{weight:a.weight},s)}}function nM(t){dS(t.graph().dummyChains,(function(e){var n,i=t.node(e),r=i.edgeLabel;for(t.setEdge(i.edgeObj,r);i.dummy;)n=t.successors(e)[0],t.removeNode(e),r.points.push({x:i.x,y:i.y}),"edge-label"===i.dummy&&(r.x=i.x,r.y=i.y,r.width=i.width,r.height=i.height),e=n,i=t.node(e)}))}function iM(t){var e={};function n(i){var r=t.node(i);if(TS(e,i))return r.rank;e[i]=!0;var o=FS(vS(t.outEdges(i),(function(e){return n(e.w)-t.edge(e).minlen})));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),r.rank=o}dS(t.sources(),n)}function rM(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function oM(t){var e,n,i=new gI({directed:!1}),r=t.nodes()[0],o=t.nodeCount();for(i.setNode(r,{});sM(i,t)<o;)e=aM(i,t),n=i.hasNode(e.v)?rM(t,e):-rM(t,e),cM(i,t,n);return i}function sM(t,e){function n(i){dS(e.nodeEdges(i),(function(r){var o=r.v,s=i===o?r.w:o;t.hasNode(s)||rM(e,r)||(t.setNode(s,{}),t.setEdge(i,s,{}),n(s))}))}return dS(t.nodes(),n),t.nodeCount()}function aM(t,e){return jS(e.edges(),(function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return rM(e,n)}))}function cM(t,e,n){dS(t.nodes(),(function(t){e.node(t).rank+=n}))}function lM(){}function uM(t,e,n){sk(e)||(e=[e]);var i=(t.isDirected()?t.successors:t.neighbors).bind(t),r=[],o={};return dS(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);hM(t,e,"post"===n,o,i,r)})),r}function hM(t,e,n,i,r,o){TS(i,e)||(i[e]=!0,n||o.push(e),dS(r(e),(function(e){hM(t,e,n,i,r,o)})),n&&o.push(e))}function dM(t,e){return uM(t,e,"post")}function fM(t,e){return uM(t,e,"pre")}function gM(t){iM(t=DI(t));var e,n=oM(t);for(wM(n),pM(n,t);e=vM(n);)kM(n,t,e,_M(n,t,e))}function pM(t,e){var n=dM(t,t.nodes());dS(n=n.slice(0,n.length-1),(function(n){mM(t,e,n)}))}function mM(t,e,n){var i=t.node(n).parent;t.edge(n,i).cutvalue=bM(t,e,n)}function bM(t,e,n){var i=t.node(n).parent,r=!0,o=e.edge(n,i),s=0;return o||(r=!1,o=e.edge(i,n)),s=o.weight,dS(e.nodeEdges(n),(function(o){var a=o.v===n,c=a?o.w:o.v;if(c!==i){var l=a===r,u=e.edge(o).weight;if(s+=l?u:-u,EM(t,n,c)){var h=t.edge(n,c).cutvalue;s+=l?-h:h}}})),s}function wM(t,e){arguments.length<2&&(e=t.nodes()[0]),yM(t,{},1,e)}function yM(t,e,n,i,r){var o=n,s=t.node(i);return e[i]=!0,dS(t.neighbors(i),(function(r){TS(e,r)||(n=yM(t,e,n,r,i))})),s.low=o,s.lim=n++,r?s.parent=r:delete s.parent,n}function vM(t){return wS(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function _M(t,e,n){var i=n.v,r=n.w;e.hasEdge(i,r)||(i=n.w,r=n.v);var o=t.node(i),s=t.node(r),a=o,c=!1;return o.lim>s.lim&&(a=s,c=!0),jS(gS(e.edges(),(function(e){return c===TM(t,t.node(e.v),a)&&c!==TM(t,t.node(e.w),a)})),(function(t){return rM(e,t)}))}function kM(t,e,n,i){var r=n.v,o=n.w;t.removeEdge(r,o),t.setEdge(i.v,i.w,{}),wM(t),pM(t,e),xM(t,e)}function xM(t,e){var n=wS(t.nodes(),(function(t){return!e.node(t).parent})),i=fM(t,n);dS(i=i.slice(1),(function(n){var i=t.node(n).parent,r=e.edge(n,i),o=!1;r||(r=e.edge(i,n),o=!0),e.node(n).rank=e.node(i).rank+(o?r.minlen:-r.minlen)}))}function EM(t,e,n){return t.hasEdge(e,n)}function TM(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}function CM(t){switch(t.graph().ranker){case"network-simplex":default:IM(t);break;case"tight-tree":SM(t);break;case"longest-path":AM(t)}}lM.prototype=new Error,gM.initLowLimValues=wM,gM.initCutValues=pM,gM.calcCutValue=bM,gM.leaveEdge=vM,gM.enterEdge=_M,gM.exchangeEdges=kM;var AM=iM;function SM(t){iM(t),oM(t)}function IM(t){gM(t)}function MM(t){var e=OI(t,"root",{},"_root"),n=OM(t),i=RS(AS(n))-1,r=2*i+1;t.graph().nestingRoot=e,dS(t.edges(),(function(e){t.edge(e).minlen*=r}));var o=DM(t)+1;dS(t.children(),(function(s){PM(t,e,r,o,i,n,s)})),t.graph().nodeRankFactor=r}function PM(t,e,n,i,r,o,s){var a=t.children(s);if(a.length){var c=jI(t,"_bt"),l=jI(t,"_bb"),u=t.node(s);t.setParent(c,s),u.borderTop=c,t.setParent(l,s),u.borderBottom=l,dS(a,(function(a){PM(t,e,n,i,r,o,a);var u=t.node(a),h=u.borderTop?u.borderTop:a,d=u.borderBottom?u.borderBottom:a,f=u.borderTop?i:2*i,g=h!==d?1:r-o[s]+1;t.setEdge(c,h,{weight:f,minlen:g,nestingEdge:!0}),t.setEdge(d,l,{weight:f,minlen:g,nestingEdge:!0})})),t.parent(s)||t.setEdge(e,c,{weight:0,minlen:r+o[s]})}else s!==e&&t.setEdge(e,s,{weight:0,minlen:n})}function OM(t){var e={};function n(i,r){var o=t.children(i);o&&o.length&&dS(o,(function(t){n(t,r+1)})),e[i]=r}return dS(t.children(),(function(t){n(t,1)})),e}function DM(t){return tI(t.edges(),(function(e,n){return e+t.edge(n).weight}),0)}function NM(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,dS(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}function LM(t,e,n){var i,r={};dS(n,(function(n){for(var o,s,a=t.parent(n);a;){if((o=t.parent(a))?(s=r[o],r[o]=a):(s=i,i=a),s&&s!==a)return void e.setEdge(s,a);a=o}}))}function RM(t,e,n){var i=BM(t),r=new gI({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(e){return t.node(e)}));return dS(t.nodes(),(function(o){var s=t.node(o),a=t.parent(o);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(r.setNode(o),r.setParent(o,a||i),dS(t[n](o),(function(e){var n=e.v===o?e.w:e.v,i=r.edge(n,o),s=OS(i)?0:i.weight;r.setEdge(n,o,{weight:t.edge(e).weight+s})})),TS(s,"minRank")&&r.setNode(o,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))})),r}function BM(t){for(var e;t.hasNode(e=cI("_root")););return e}function FM(t,e){for(var n=0,i=1;i<e.length;++i)n+=jM(t,e[i-1],e[i]);return n}function jM(t,e,n){for(var i=uI(n,vS(n,(function(t,e){return e}))),r=SE(vS(e,(function(e){return eI(vS(t.outEdges(e),(function(e){return{pos:i[e.w],weight:t.edge(e).weight}})),"pos")}))),o=1;o<n.length;)o<<=1;var s=2*o-1;o-=1;var a=vS(new Array(s),(function(){return 0})),c=0;return dS(r.forEach((function(t){var e=t.pos+o;a[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=a[e+1]),a[e=e-1>>1]+=t.weight;c+=t.weight*n}))),c}function $M(t){var e={},n=gS(t.nodes(),(function(e){return!t.children(e).length})),i=RS(vS(n,(function(e){return t.node(e).rank}))),r=vS(QS(i+1),(function(){return[]}));function o(n){if(!TS(e,n)){e[n]=!0;var i=t.node(n);r[i.rank].push(n),dS(t.successors(n),o)}}return dS(eI(n,(function(e){return t.node(e).rank})),o),r}function VM(t,e){return vS(e,(function(e){var n=t.inEdges(e);if(n.length){var i=tI(n,(function(e,n){var i=t.edge(n),r=t.node(n.v);return{sum:e.sum+i.weight*r.order,weight:e.weight+i.weight}}),{sum:0,weight:0});return{v:e,barycenter:i.sum/i.weight,weight:i.weight}}return{v:e}}))}function zM(t,e){var n={};return dS(t,(function(t,e){var i=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};OS(t.barycenter)||(i.barycenter=t.barycenter,i.weight=t.weight)})),dS(e.edges(),(function(t){var e=n[t.v],i=n[t.w];OS(e)||OS(i)||(i.indegree++,e.out.push(n[t.w]))})),HM(gS(n,(function(t){return!t.indegree})))}function HM(t){var e=[];function n(t){return function(e){e.merged||(OS(e.barycenter)||OS(t.barycenter)||e.barycenter>=t.barycenter)&&UM(t,e)}}function i(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(;t.length;){var r=t.pop();e.push(r),dS(r.in.reverse(),n(r)),dS(r.out,i(r))}return vS(gS(e,(function(t){return!t.merged})),(function(t){return GS(t,["vs","i","barycenter","weight"])}))}function UM(t,e){var n=0,i=0;t.weight&&(n+=t.barycenter*t.weight,i+=t.weight),e.weight&&(n+=e.barycenter*e.weight,i+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/i,t.weight=i,t.i=Math.min(e.i,t.i),e.merged=!0}function qM(t,e){var n=VI(t,(function(t){return TS(t,"barycenter")})),i=n.lhs,r=eI(n.rhs,(function(t){return-t.i})),o=[],s=0,a=0,c=0;i.sort(GM(!!e)),c=WM(o,r,c),dS(i,(function(t){c+=t.vs.length,o.push(t.vs),s+=t.barycenter*t.weight,a+=t.weight,c=WM(o,r,c)}));var l={vs:SE(o)};return a&&(l.barycenter=s/a,l.weight=a),l}function WM(t,e,n){for(var i;e.length&&(i=uS(e)).i<=n;)e.pop(),t.push(i.vs),n++;return n}function GM(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}function KM(t,e,n,i){var r=t.children(e),o=t.node(e),s=o?o.borderLeft:void 0,a=o?o.borderRight:void 0,c={};s&&(r=gS(r,(function(t){return t!==s&&t!==a})));var l=VM(t,r);dS(l,(function(e){if(t.children(e.v).length){var r=KM(t,e.v,n,i);c[e.v]=r,TS(r,"barycenter")&&XM(e,r)}}));var u=zM(l,n);YM(u,c);var h=qM(u,i);if(s&&(h.vs=SE([s,h.vs,a]),t.predecessors(s).length)){var d=t.node(t.predecessors(s)[0]),f=t.node(t.predecessors(a)[0]);TS(h,"barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+d.order+f.order)/(h.weight+2),h.weight+=2}return h}function YM(t,e){dS(t,(function(t){t.vs=SE(t.vs.map((function(t){return e[t]?e[t].vs:t})))}))}function XM(t,e){OS(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}function ZM(t){var e=$I(t),n=QM(t,QS(1,e+1),"inEdges"),i=QM(t,QS(e-1,-1,-1),"outEdges"),r=$M(t);tP(t,r);for(var o,s=Number.POSITIVE_INFINITY,a=0,c=0;c<4;++a,++c){JM(a%2?n:i,a%4>=2);var l=FM(t,r=RI(t));l<s&&(c=0,o=GC(r),s=l)}tP(t,o)}function QM(t,e,n){return vS(e,(function(e){return RM(t,e,n)}))}function JM(t,e){var n=new gI;dS(t,(function(t){var i=t.graph().root,r=KM(t,i,n,e);dS(r.vs,(function(e,n){t.node(e).order=n})),LM(t,n,r.vs)}))}function tP(t,e){dS(e,(function(e){dS(e,(function(e,n){t.node(e).order=n}))}))}function eP(t){var e=iP(t);dS(t.graph().dummyChains,(function(n){for(var i=t.node(n),r=i.edgeObj,o=nP(t,e,r.v,r.w),s=o.path,a=o.lca,c=0,l=s[c],u=!0;n!==r.w;){if(i=t.node(n),u){for(;(l=s[c])!==a&&t.node(l).maxRank<i.rank;)c++;l===a&&(u=!1)}if(!u){for(;c<s.length-1&&t.node(l=s[c+1]).minRank<=i.rank;)c++;l=s[c]}t.setParent(n,l),n=t.successors(n)[0]}}))}function nP(t,e,n,i){var r,o,s=[],a=[],c=Math.min(e[n].low,e[i].low),l=Math.max(e[n].lim,e[i].lim);r=n;do{r=t.parent(r),s.push(r)}while(r&&(e[r].low>c||l>e[r].lim));for(o=r,r=i;(r=t.parent(r))!==o;)a.push(r);return{path:s.concat(a.reverse()),lca:o}}function iP(t){var e={},n=0;function i(r){var o=n;dS(t.children(r),i),e[r]={low:o,lim:n++}}return dS(t.children(),i),e}function rP(t,e){var n={};function i(e,i){var r=0,o=0,s=e.length,a=uS(i);return dS(i,(function(e,c){var l=sP(t,e),u=l?t.node(l).order:s;(l||e===a)&&(dS(i.slice(o,c+1),(function(e){dS(t.predecessors(e),(function(i){var o=t.node(i),s=o.order;!(s<r||u<s)||o.dummy&&t.node(e).dummy||aP(n,i,e)}))})),o=c+1,r=u)})),i}return tI(e,i),n}function oP(t,e){var n={};function i(e,i,r,o,s){var a;dS(QS(i,r),(function(i){a=e[i],t.node(a).dummy&&dS(t.predecessors(a),(function(e){var i=t.node(e);i.dummy&&(i.order<o||i.order>s)&&aP(n,e,a)}))}))}function r(e,n){var r,o=-1,s=0;return dS(n,(function(a,c){if("border"===t.node(a).dummy){var l=t.predecessors(a);l.length&&(r=t.node(l[0]).order,i(n,s,c,o,r),s=c,o=r)}i(n,s,n.length,r,e.length)})),n}return tI(e,r),n}function sP(t,e){if(t.node(e).dummy)return wS(t.predecessors(e),(function(e){return t.node(e).dummy}))}function aP(t,e,n){if(e>n){var i=e;e=n,n=i}var r=t[e];r||(t[e]=r={}),r[n]=!0}function cP(t,e,n){if(e>n){var i=e;e=n,n=i}return TS(t[e],n)}function lP(t,e,n,i){var r={},o={},s={};return dS(e,(function(t){dS(t,(function(t,e){r[t]=t,o[t]=t,s[t]=e}))})),dS(e,(function(t){var e=-1;dS(t,(function(t){var a=i(t);if(a.length)for(var c=((a=eI(a,(function(t){return s[t]}))).length-1)/2,l=Math.floor(c),u=Math.ceil(c);l<=u;++l){var h=a[l];o[t]===t&&e<s[h]&&!cP(n,t,h)&&(o[h]=t,o[t]=r[t]=r[h],e=s[h])}}))})),{root:r,align:o}}function uP(t,e,n,i,r){var o={},s=hP(t,e,n,r),a=r?"borderLeft":"borderRight";function c(t,e){for(var n=s.nodes(),i=n.pop(),r={};i;)r[i]?t(i):(r[i]=!0,n.push(i),n=n.concat(e(i))),i=n.pop()}function l(t){o[t]=s.inEdges(t).reduce((function(t,e){return Math.max(t,o[e.v]+s.edge(e))}),0)}function u(e){var n=s.outEdges(e).reduce((function(t,e){return Math.min(t,o[e.w]-s.edge(e))}),Number.POSITIVE_INFINITY),i=t.node(e);n!==Number.POSITIVE_INFINITY&&i.borderType!==a&&(o[e]=Math.max(o[e],n))}return c(l,s.predecessors.bind(s)),c(u,s.successors.bind(s)),dS(i,(function(t){o[t]=o[n[t]]})),o}function hP(t,e,n,i){var r=new gI,o=t.graph(),s=mP(o.nodesep,o.edgesep,i);return dS(e,(function(e){var i;dS(e,(function(e){var o=n[e];if(r.setNode(o),i){var a=n[i],c=r.edge(a,o);r.setEdge(a,o,Math.max(s(t,e,i),c||0))}i=e}))})),r}function dP(t,e){return jS(AS(e),(function(e){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return _S(e,(function(e,r){var o=bP(t,r)/2;n=Math.max(e+o,n),i=Math.min(e-o,i)})),n-i}))}function fP(t,e){var n=AS(e),i=FS(n),r=RS(n);dS(["u","d"],(function(n){dS(["l","r"],(function(o){var s,a=n+o,c=t[a];if(c!==e){var l=AS(c);(s="l"===o?i-FS(l):r-RS(l))&&(t[a]=NS(c,(function(t){return t+s})))}}))}))}function gP(t,e){return NS(t.ul,(function(n,i){if(e)return t[e.toLowerCase()][i];var r=eI(vS(t,i));return(r[1]+r[2])/2}))}function pP(t){var e,n=RI(t),i=BS(rP(t,n),oP(t,n)),r={};dS(["u","d"],(function(o){e="u"===o?n:AS(n).reverse(),dS(["l","r"],(function(n){"r"===n&&(e=vS(e,(function(t){return AS(t).reverse()})));var s=("u"===o?t.predecessors:t.successors).bind(t),a=lP(t,e,i,s),c=uP(t,e,a.root,a.align,"r"===n);"r"===n&&(c=NS(c,(function(t){return-t}))),r[o+n]=c}))}));var o=dP(t,r);return fP(r,o),gP(r,t.graph().align)}function mP(t,e,n){return function(i,r,o){var s,a=i.node(r),c=i.node(o),l=0;if(l+=a.width/2,TS(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":s=-a.width/2;break;case"r":s=a.width/2}if(s&&(l+=n?s:-s),s=0,l+=(a.dummy?e:t)/2,l+=(c.dummy?e:t)/2,l+=c.width/2,TS(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":s=c.width/2;break;case"r":s=-c.width/2}return s&&(l+=n?s:-s),s=0,l}}function bP(t,e){return t.node(e).width}function wP(t){yP(t=NI(t)),dS(pP(t),(function(e,n){t.node(n).x=e}))}function yP(t){var e=RI(t),n=t.graph().ranksep,i=0;dS(e,(function(e){var r=RS(vS(e,(function(e){return t.node(e).height})));dS(e,(function(e){t.node(e).y=i+r/2})),i+=r+n}))}function vP(t,e){var n=e&&e.debugTiming?zI:HI;n("layout",(function(){var e=n("  buildLayoutGraph",(function(){return PP(t)}));n("  runLayout",(function(){_P(e,n)})),n("  updateInputGraph",(function(){kP(t,e)}))}))}function _P(t,e){e("    makeSpaceForEdgeLabels",(function(){OP(t)})),e("    removeSelfEdges",(function(){VP(t)})),e("    acyclic",(function(){II(t)})),e("    nestingGraph.run",(function(){MM(t)})),e("    rank",(function(){CM(NI(t))})),e("    injectEdgeLabelProxies",(function(){DP(t)})),e("    removeEmptyRanks",(function(){FI(t)})),e("    nestingGraph.cleanup",(function(){NM(t)})),e("    normalizeRanks",(function(){BI(t)})),e("    assignRankMinMax",(function(){NP(t)})),e("    removeEdgeLabelProxies",(function(){LP(t)})),e("    normalize.run",(function(){tM(t)})),e("    parentDummyChains",(function(){eP(t)})),e("    addBorderSegments",(function(){UI(t)})),e("    order",(function(){ZM(t)})),e("    insertSelfEdges",(function(){zP(t)})),e("    adjustCoordinateSystem",(function(){WI(t)})),e("    position",(function(){wP(t)})),e("    positionSelfEdges",(function(){HP(t)})),e("    removeBorderNodes",(function(){$P(t)})),e("    normalize.undo",(function(){nM(t)})),e("    fixupEdgeLabelCoords",(function(){FP(t)})),e("    undoCoordinateSystem",(function(){GI(t)})),e("    translateGraph",(function(){RP(t)})),e("    assignNodeIntersects",(function(){BP(t)})),e("    reversePoints",(function(){jP(t)})),e("    acyclic.undo",(function(){PI(t)}))}function kP(t,e){dS(t.nodes(),(function(n){var i=t.node(n),r=e.node(n);i&&(i.x=r.x,i.y=r.y,e.children(n).length&&(i.width=r.width,i.height=r.height))})),dS(t.edges(),(function(n){var i=t.edge(n),r=e.edge(n);i.points=r.points,TS(r,"x")&&(i.x=r.x,i.y=r.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var xP=["nodesep","edgesep","ranksep","marginx","marginy"],EP={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},TP=["acyclicer","ranker","rankdir","align"],CP=["width","height"],AP={width:0,height:0},SP=["minlen","weight","width","height","labeloffset"],IP={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},MP=["labelpos"];function PP(t){var e=new gI({multigraph:!0,compound:!0}),n=qP(t.graph());return e.setGraph(BS({},EP,UP(n,xP),GS(n,TP))),dS(t.nodes(),(function(n){var i=qP(t.node(n));e.setNode(n,nS(UP(i,CP),AP)),e.setParent(n,t.parent(n))})),dS(t.edges(),(function(n){var i=qP(t.edge(n));e.setEdge(n,BS({},IP,UP(i,SP),GS(i,MP)))})),e}function OP(t){var e=t.graph();e.ranksep/=2,dS(t.edges(),(function(n){var i=t.edge(n);i.minlen*=2,"c"!==i.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)}))}function DP(t){dS(t.edges(),(function(e){var n=t.edge(e);if(n.width&&n.height){var i=t.node(e.v),r={rank:(t.node(e.w).rank-i.rank)/2+i.rank,e};OI(t,"edge-proxy",r,"_ep")}}))}function NP(t){var e=0;dS(t.nodes(),(function(n){var i=t.node(n);i.borderTop&&(i.minRank=t.node(i.borderTop).rank,i.maxRank=t.node(i.borderBottom).rank,e=RS(e,i.maxRank))})),t.graph().maxRank=e}function LP(t){dS(t.nodes(),(function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))}function RP(t){var e=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,r=0,o=t.graph(),s=o.marginx||0,a=o.marginy||0;function c(t){var o=t.x,s=t.y,a=t.width,c=t.height;e=Math.min(e,o-a/2),n=Math.max(n,o+a/2),i=Math.min(i,s-c/2),r=Math.max(r,s+c/2)}dS(t.nodes(),(function(e){c(t.node(e))})),dS(t.edges(),(function(e){var n=t.edge(e);TS(n,"x")&&c(n)})),e-=s,i-=a,dS(t.nodes(),(function(n){var r=t.node(n);r.x-=e,r.y-=i})),dS(t.edges(),(function(n){var r=t.edge(n);dS(r.points,(function(t){t.x-=e,t.y-=i})),TS(r,"x")&&(r.x-=e),TS(r,"y")&&(r.y-=i)})),o.width=n-e+s,o.height=r-i+a}function BP(t){dS(t.edges(),(function(e){var n,i,r=t.edge(e),o=t.node(e.v),s=t.node(e.w);r.points?(n=r.points[0],i=r.points[r.points.length-1]):(r.points=[],n=s,i=o),r.points.unshift(LI(o,n)),r.points.push(LI(s,i))}))}function FP(t){dS(t.edges(),(function(e){var n=t.edge(e);if(TS(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}function jP(t){dS(t.edges(),(function(e){var n=t.edge(e);n.reversed&&n.points.reverse()}))}function $P(t){dS(t.nodes(),(function(e){if(t.children(e).length){var n=t.node(e),i=t.node(n.borderTop),r=t.node(n.borderBottom),o=t.node(uS(n.borderLeft)),s=t.node(uS(n.borderRight));n.width=Math.abs(s.x-o.x),n.height=Math.abs(r.y-i.y),n.x=o.x+n.width/2,n.y=i.y+n.height/2}})),dS(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}function VP(t){dS(t.edges(),(function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}}))}function zP(t){dS(RI(t),(function(e){var n=0;dS(e,(function(e,i){var r=t.node(e);r.order=i+n,dS(r.selfEdges,(function(e){OI(t,"selfedge",{width:e.label.width,height:e.label.height,rank:r.rank,order:i+ ++n,e:e.e,label:e.label},"_se")})),delete r.selfEdges}))}))}function HP(t){dS(t.nodes(),(function(e){var n=t.node(e);if("selfedge"===n.dummy){var i=t.node(n.e.v),r=i.x+i.width/2,o=i.y,s=n.x-r,a=i.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:r+2*s/3,y:o-a},{x:r+5*s/6,y:o-a},{x:r+s,y:o},{x:r+5*s/6,y:o+a},{x:r+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}}))}function UP(t,e){return NS(GS(t,e),Number)}function qP(t){var e={};return dS(t,(function(t,n){e[n.toLowerCase()]=t})),e}let WP=0;const GP=function(t,e,n,i){h.debug("Rendering class ",e,n);const r=e.id,o={id:r,label:e.id,width:0,height:0},s=t.append("g").attr("id",i.db.lookUpDomId(r)).attr("class","classGroup");let a;a=e.link?s.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",n.textHeight+n.padding).attr("x",0):s.append("text").attr("y",n.textHeight+n.padding).attr("x",0);let c=!0;e.annotations.forEach((function(t){const e=a.append("tspan").text("«"+t+"»");c||e.attr("dy",n.textHeight),c=!1}));let l=e.id;void 0!==e.type&&""!==e.type&&(l+="<"+e.type+">");const u=a.append("tspan").text(l).attr("class","title");c||u.attr("dy",n.textHeight);const d=a.node().getBBox().height,f=s.append("line").attr("x1",0).attr("y1",n.padding+d+n.dividerMargin/2).attr("y2",n.padding+d+n.dividerMargin/2),g=s.append("text").attr("x",n.padding).attr("y",d+n.dividerMargin+n.textHeight).attr("fill","white").attr("class","classText");c=!0,e.members.forEach((function(t){QP(g,t,c,n),c=!1}));const p=g.node().getBBox(),m=s.append("line").attr("x1",0).attr("y1",n.padding+d+n.dividerMargin+p.height).attr("y2",n.padding+d+n.dividerMargin+p.height),b=s.append("text").attr("x",n.padding).attr("y",d+2*n.dividerMargin+p.height+n.textHeight).attr("fill","white").attr("class","classText");c=!0,e.methods.forEach((function(t){QP(b,t,c,n),c=!1}));const w=s.node().getBBox();var y=" ";e.cssClasses.length>0&&(y+=e.cssClasses.join(" "));const v=s.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",w.width+2*n.padding).attr("height",w.height+n.padding+.5*n.dividerMargin).attr("class",y).node().getBBox().width;return a.node().childNodes.forEach((function(t){t.setAttribute("x",(v-t.getBBox().width)/2)})),e.tooltip&&a.insert("title").text(e.tooltip),f.attr("x2",v),m.attr("x2",v),o.width=v,o.height=w.height+n.padding+.5*n.dividerMargin,o},KP=function(t){const e=/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/,n=/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/;let i=t.match(e),r=t.match(n);return i&&!r?YP(i):r?XP(r):ZP(t)},YP=function(t){let e="",n="";try{let i=t[1]?t[1].trim():"",r=t[2]?t[2].trim():"",o=t[3]?Qh(t[3].trim()):"",s=t[4]?t[4].trim():"",a=t[5]?t[5].trim():"";n=i+r+o+" "+s,e=JP(a)}catch(e){n=t}return{displayText:n,cssStyle:e}},XP=function(t){let e="",n="";try{let i=t[1]?t[1].trim():"",r=t[2]?t[2].trim():"",o=t[3]?Qh(t[3].trim()):"",s=t[4]?t[4].trim():"";n=i+r+"("+o+")"+(t[5]?" : "+Qh(t[5]).trim():""),e=JP(s)}catch(e){n=t}return{displayText:n,cssStyle:e}},ZP=function(t){let e="",n="",i="",r=t.indexOf("("),o=t.indexOf(")");if(r>1&&o>r&&o<=t.length){let s="",a="",c=t.substring(0,1);c.match(/\w/)?a=t.substring(0,r).trim():(c.match(/[#+~-]/)&&(s=c),a=t.substring(1,r).trim());const l=t.substring(r+1,o);t.substring(o+1,1),n=JP(t.substring(o+1,o+2)),e=s+a+"("+Qh(l.trim())+")",o<t.length&&(i=t.substring(o+2).trim(),""!==i&&(i=" : "+Qh(i),e+=i))}else e=Qh(t);return{displayText:e,cssStyle:n}},QP=function(t,e,n,i){let r=KP(e);const o=t.append("tspan").attr("x",i.padding).text(r.displayText);""!==r.cssStyle&&o.attr("style",r.cssStyle),n||o.attr("dy",i.textHeight)},JP=function(t){switch(t){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},tO={drawClass:GP,drawEdge:function(t,e,n,i,r){const o=function(t){switch(t){case r.db.relationType.AGGREGATION:return"aggregation";case r.db.relationType.EXTENSION:return"extension";case r.db.relationType.COMPOSITION:return"composition";case r.db.relationType.DEPENDENCY:return"dependency";case r.db.relationType.LOLLIPOP:return"lollipop"}};e.points=e.points.filter((t=>!Number.isNaN(t.y)));const s=e.points,a=$l().x((function(t){return t.x})).y((function(t){return t.y})).curve(Xl),c=t.append("path").attr("d",a(s)).attr("id","edge"+WP).attr("class","relation");let l,u,d="";i.arrowMarkerAbsolute&&(d=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,d=d.replace(/\(/g,"\\("),d=d.replace(/\)/g,"\\)")),1==n.relation.lineType&&c.attr("class","relation dashed-line"),10==n.relation.lineType&&c.attr("class","relation dotted-line"),"none"!==n.relation.type1&&c.attr("marker-start","url("+d+"#"+o(n.relation.type1)+"Start)"),"none"!==n.relation.type2&&c.attr("marker-end","url("+d+"#"+o(n.relation.type2)+"End)");const f=e.points.length;let g,p,m,b,w=vb.calcLabelPosition(e.points);if(l=w.x,u=w.y,f%2!=0&&f>1){let t=vb.calcCardinalityPosition("none"!==n.relation.type1,e.points,e.points[0]),i=vb.calcCardinalityPosition("none"!==n.relation.type2,e.points,e.points[f-1]);h.debug("cardinality_1_point "+JSON.stringify(t)),h.debug("cardinality_2_point "+JSON.stringify(i)),g=t.x,p=t.y,m=i.x,b=i.y}if(void 0!==n.title){const e=t.append("g").attr("class","classLabel"),r=e.append("text").attr("class","label").attr("x",l).attr("y",u).attr("fill","red").attr("text-anchor","middle").text(n.title);window.label=r;const o=r.node().getBBox();e.insert("rect",":first-child").attr("class","box").attr("x",o.x-i.padding/2).attr("y",o.y-i.padding/2).attr("width",o.width+i.padding).attr("height",o.height+i.padding)}h.info("Rendering relation "+JSON.stringify(n)),void 0!==n.relationTitle1&&"none"!==n.relationTitle1&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",g).attr("y",p).attr("fill","black").attr("font-size","6").text(n.relationTitle1),void 0!==n.relationTitle2&&"none"!==n.relationTitle2&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",m).attr("y",b).attr("fill","black").attr("font-size","6").text(n.relationTitle2),WP++},drawNote:function(t,e,n,i){h.debug("Rendering note ",e,n);const r=e.id,o={id:r,text:e.text,width:0,height:0},s=t.append("g").attr("id",r).attr("class","classGroup");let a=s.append("text").attr("y",n.textHeight+n.padding).attr("x",0);const c=JSON.parse(`"${e.text}"`).split("\n");c.forEach((function(t){h.debug(`Adding line: ${t}`),a.append("tspan").text(t).attr("class","title").attr("dy",n.textHeight)}));const l=s.node().getBBox(),u=s.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",l.width+2*n.padding).attr("height",l.height+c.length*n.textHeight+n.padding+.5*n.dividerMargin).node().getBBox().width;return a.node().childNodes.forEach((function(t){t.setAttribute("x",(u-t.getBBox().width)/2)})),o.width=u,o.height=l.height+c.length*n.textHeight+n.padding+.5*n.dividerMargin,o},parseMember:KP};let eO={};const nO=20,iO=function(t){const e=Object.entries(eO).find((e=>e[1].label===t));if(e)return e[0]},rO=function(t){t.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),t.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},oO={draw:function(t,e,n,i){const r=xw().class;eO={},h.info("Rendering diagram "+t);const o=xw().securityLevel;let s;"sandbox"===o&&(s=un("#i"+e));const a=un("sandbox"===o?s.nodes()[0].contentDocument.body:"body"),c=a.select(`[id='${e}']`);rO(c);const l=new gI({multigraph:!0});l.setGraph({isMultiGraph:!0}),l.setDefaultEdgeLabel((function(){return{}}));const u=i.db.getClasses(),d=Object.keys(u);for(const t of d){const e=u[t],n=tO.drawClass(c,e,r,i);eO[n.id]=n,l.setNode(n.id,n),h.info("Org height: "+n.height)}i.db.getRelations().forEach((function(t){h.info("tjoho"+iO(t.id1)+iO(t.id2)+JSON.stringify(t)),l.setEdge(iO(t.id1),iO(t.id2),{relation:t},t.title||"DEFAULT")})),i.db.getNotes().forEach((function(t){h.debug(`Adding note: ${JSON.stringify(t)}`);const e=tO.drawNote(c,t,r,i);eO[e.id]=e,l.setNode(e.id,e),t.class&&t.class in u&&l.setEdge(t.id,iO(t.class),{relation:{id1:t.id,id2:t.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")})),vP(l),l.nodes().forEach((function(t){void 0!==t&&void 0!==l.node(t)&&(h.debug("Node "+t+": "+JSON.stringify(l.node(t))),a.select("#"+(i.db.lookUpDomId(t)||t)).attr("transform","translate("+(l.node(t).x-l.node(t).width/2)+","+(l.node(t).y-l.node(t).height/2)+" )"))})),l.edges().forEach((function(t){void 0!==t&&void 0!==l.edge(t)&&(h.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(l.edge(t))),tO.drawEdge(c,l.edge(t),l.edge(t).relation,r,i))}));const f=c.node().getBBox(),g=f.width+2*nO,p=f.height+2*nO;Dw(c,p,g,r.useMaxWidth);const m=`${f.x-nO} ${f.y-nO} ${g} ${p}`;h.debug(`viewBox ${m}`),c.attr("viewBox",m)}};function sO(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:aO(t),edges:cO(t)};return OS(t.graph())||(e.value=UC(t.graph())),e}function aO(t){return vS(t.nodes(),(function(e){var n=t.node(e),i=t.parent(e),r={v:e};return OS(n)||(r.value=n),OS(i)||(r.parent=i),r}))}function cO(t){return vS(t.edges(),(function(e){var n=t.edge(e),i={v:e.v,w:e.w};return OS(e.name)||(i.name=e.name),OS(n)||(i.value=n),i}))}const lO=(t,e,n,i)=>{e.forEach((e=>{uO[e](t,n,i)}))},uO={extension:(t,e,n)=>{h.trace("Making markers for ",n),t.append("defs").append("marker").attr("id",e+"-extensionStart").attr("class","marker extension "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-compositionStart").attr("class","marker composition "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point:(t,e)=>{t.append("marker").attr("id",e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 12 20").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:(t,e)=>{t.append("marker").attr("id",e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:(t,e)=>{t.append("marker").attr("id",e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},hO=lO;function dO(t,e){e&&t.attr("style",e)}function fO(t){const e=un(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=e.append("xhtml:div"),i=t.label,r=t.isNode?"nodeLabel":"edgeLabel";return n.html('<span class="'+r+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+i+"</span>"),dO(n,t.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}const gO=(t,e,n,i)=>{let r=t||"";if("object"==typeof r&&(r=r[0]),Zh(xw().flowchart.htmlLabels))return r=r.replace(/\\n|\n/g,"<br />"),h.info("vertexText"+r),fO({isNode:i,label:rH(r).replace(/fa[blrs]?:fa-[\w-]+/g,(t=>`<i class='${t.replace(":"," ")}'></i>`)),labelStyle:e.replace("fill:","color:")});{const t=document.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("style",e.replace("color:","fill:"));let i=[];i="string"==typeof r?r.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(r)?r:[];for(const e of i){const i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),n?i.setAttribute("class","title-row"):i.setAttribute("class","row"),i.textContent=e.trim(),t.appendChild(i)}return t}},pO=(t,e,n,i)=>{let r;r=n||"node default";const o=t.insert("g").attr("class",r).attr("id",e.domId||e.id),s=o.insert("g").attr("class","label").attr("style",e.labelStyle);let a;a=void 0===e.labelText?"":"string"==typeof e.labelText?e.labelText:e.labelText[0];const c=s.node().appendChild(gO(Wh(rH(a),xw()),e.labelStyle,!1,i));let l=c.getBBox();if(Zh(xw().flowchart.htmlLabels)){const t=c.children[0],e=un(c);l=t.getBoundingClientRect(),e.attr("width",l.width),e.attr("height",l.height)}const u=e.padding/2;return s.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),{shapeSvg:o,bbox:l,halfPadding:u,label:s}},mO=(t,e)=>{const n=e.node().getBBox();t.width=n.width,t.height=n.height};function bO(t,e,n,i){return t.insert("polygon",":first-child").attr("points",i.map((function(t){return t.x+","+t.y})).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+n/2+")")}let wO={},yO={},vO={};const _O=()=>{yO={},vO={},wO={}},kO=(t,e)=>(h.trace("In isDecendant",e," ",t," = ",yO[e].includes(t)),!!yO[e].includes(t)),xO=(t,e)=>(h.info("Decendants of ",e," is ",yO[e]),h.info("Edge is ",t),t.v!==e&&t.w!==e&&(yO[e]?yO[e].includes(t.v)||kO(t.v,e)||kO(t.w,e)||yO[e].includes(t.w):(h.debug("Tilt, ",e,",not in decendants"),!1))),EO=(t,e,n,i)=>{h.warn("Copying children of ",t,"root",i,"data",e.node(t),i);const r=e.children(t)||[];t!==i&&r.push(t),h.warn("Copying (nodes) clusterId",t,"nodes",r),r.forEach((r=>{if(e.children(r).length>0)EO(r,e,n,i);else{const o=e.node(r);h.info("cp ",r," to ",i," with parent ",t),n.setNode(r,o),i!==e.parent(r)&&(h.warn("Setting parent",r,e.parent(r)),n.setParent(r,e.parent(r))),t!==i&&r!==t?(h.debug("Setting parent",r,t),n.setParent(r,t)):(h.info("In copy ",t,"root",i,"data",e.node(t),i),h.debug("Not Setting parent for node=",r,"cluster!==rootId",t!==i,"node!==clusterId",r!==t));const s=e.edges(r);h.debug("Copying Edges",s),s.forEach((r=>{h.info("Edge",r);const o=e.edge(r.v,r.w,r.name);h.info("Edge data",o,i);try{xO(r,i)?(h.info("Copying as ",r.v,r.w,o,r.name),n.setEdge(r.v,r.w,o,r.name),h.info("newGraph edges ",n.edges(),n.edge(n.edges()[0]))):h.info("Skipping copy of edge ",r.v,"--\x3e",r.w," rootId: ",i," clusterId:",t)}catch(t){h.error(t)}}))}h.debug("Removing node",r),e.removeNode(r)}))},TO=(t,e)=>{const n=e.children(t);let i=[...n];for(const r of n)vO[r]=t,i=[...i,...TO(r,e)];return i},CO=(t,e)=>{h.trace("Searching",t);const n=e.children(t);if(h.trace("Searching children of id ",t,n),n.length<1)return h.trace("This is a valid node",t),t;for(const i of n){const n=CO(i,e);if(n)return h.trace("Found replacement for",t," => ",n),n}},AO=t=>wO[t]&&wO[t].externalConnections&&wO[t]?wO[t].id:t,SO=(t,e)=>{!t||e>10?h.debug("Opting out, no graph "):(h.debug("Opting in, graph "),t.nodes().forEach((function(e){t.children(e).length>0&&(h.warn("Cluster identified",e," Replacement id in edges: ",CO(e,t)),yO[e]=TO(e,t),wO[e]={id:CO(e,t),clusterData:t.node(e)})})),t.nodes().forEach((function(e){const n=t.children(e),i=t.edges();n.length>0?(h.debug("Cluster identified",e,yO),i.forEach((t=>{t.v!==e&&t.w!==e&&kO(t.v,e)^kO(t.w,e)&&(h.warn("Edge: ",t," leaves cluster ",e),h.warn("Decendants of XXX ",e,": ",yO[e]),wO[e].externalConnections=!0)}))):h.debug("Not a cluster ",e,yO)})),t.edges().forEach((function(e){const n=t.edge(e);h.warn("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(e)),h.warn("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(t.edge(e)));let i=e.v,r=e.w;if(h.warn("Fix XXX",wO,"ids:",e.v,e.w,"Translating: ",wO[e.v]," --- ",wO[e.w]),wO[e.v]&&wO[e.w]&&wO[e.v]===wO[e.w]){h.warn("Fixing and trixing link to self - removing XXX",e.v,e.w,e.name),h.warn("Fixing and trixing - removing XXX",e.v,e.w,e.name),i=AO(e.v),r=AO(e.w),t.removeEdge(e.v,e.w,e.name);const o=e.w+"---"+e.v;t.setNode(o,{domId:o,id:o,labelStyle:"",labelText:n.label,padding:0,shape:"labelRect",style:""});const s=JSON.parse(JSON.stringify(n)),a=JSON.parse(JSON.stringify(n));s.label="",s.arrowTypeEnd="none",a.label="",s.fromCluster=e.v,a.toCluster=e.v,t.setEdge(i,o,s,e.name+"-cyclic-special"),t.setEdge(o,r,a,e.name+"-cyclic-special")}else(wO[e.v]||wO[e.w])&&(h.warn("Fixing and trixing - removing XXX",e.v,e.w,e.name),i=AO(e.v),r=AO(e.w),t.removeEdge(e.v,e.w,e.name),i!==e.v&&(n.fromCluster=e.v),r!==e.w&&(n.toCluster=e.w),h.warn("Fix Replacing with XXX",i,r,e.name),t.setEdge(i,r,n,e.name))})),h.warn("Adjusted Graph",sO(t)),IO(t,0),h.trace(wO))},IO=(t,e)=>{if(h.warn("extractor - ",e,sO(t),t.children("D")),e>10)return void h.error("Bailing out");let n=t.nodes(),i=!1;for(const e of n){const n=t.children(e);i=i||n.length>0}if(i){h.debug("Nodes = ",n,e);for(const i of n)if(h.debug("Extracting node",i,wO,wO[i]&&!wO[i].externalConnections,!t.parent(i),t.node(i),t.children("D")," Depth ",e),wO[i])if(!wO[i].externalConnections&&t.children(i)&&t.children(i).length>0){h.warn("Cluster without external connections, without a parent and with children",i,e);let n="TB"===t.graph().rankdir?"LR":"TB";wO[i]&&wO[i].clusterData&&wO[i].clusterData.dir&&(n=wO[i].clusterData.dir,h.warn("Fixing dir",wO[i].clusterData.dir,n));const r=new gI({multigraph:!0,compound:!0}).setGraph({rankdir:n,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));h.warn("Old graph before copy",sO(t)),EO(i,t,r,i),t.setNode(i,{clusterNode:!0,id:i,clusterData:wO[i].clusterData,labelText:wO[i].labelText,graph:r}),h.warn("New graph after copy node: (",i,")",sO(r)),h.debug("Old graph after copy",sO(t))}else h.warn("Cluster ** ",i," **not meeting the criteria !externalConnections:",!wO[i].externalConnections," no parent: ",!t.parent(i)," children ",t.children(i)&&t.children(i).length>0,t.children("D"),e),h.debug(wO);else h.debug("Not a cluster",i,e);n=t.nodes(),h.warn("New list of nodes",n);for(const i of n){const n=t.node(i);h.warn(" Now next level",i,n),n.clusterNode&&IO(n.graph,e+1)}}else h.debug("Done, no node has children",t.nodes())},MO=(t,e)=>{if(0===e.length)return[];let n=Object.assign(e);return e.forEach((e=>{const i=t.children(e),r=MO(t,i);n=[...n,...r]})),n},PO=t=>MO(t,t.children());function OO(t,e){return t.intersect(e)}function DO(t,e,n,i){var r=t.x,o=t.y,s=r-i.x,a=o-i.y,c=Math.sqrt(e*e*a*a+n*n*s*s),l=Math.abs(e*n*s/c);i.x<r&&(l=-l);var u=Math.abs(e*n*a/c);return i.y<o&&(u=-u),{x:r+l,y:o+u}}function NO(t,e,n){return DO(t,e,e,n)}function LO(t,e,n,i){var r,o,s,a,c,l,u,h,d,f,g,p,m;if(r=e.y-t.y,s=t.x-e.x,c=e.x*t.y-t.x*e.y,d=r*n.x+s*n.y+c,f=r*i.x+s*i.y+c,!(0!==d&&0!==f&&RO(d,f)||(o=i.y-n.y,a=n.x-i.x,l=i.x*n.y-n.x*i.y,u=o*t.x+a*t.y+l,h=o*e.x+a*e.y+l,0!==u&&0!==h&&RO(u,h)||0==(g=r*a-o*s))))return p=Math.abs(g/2),{x:(m=s*l-a*c)<0?(m-p)/g:(m+p)/g,y:(m=o*c-r*l)<0?(m-p)/g:(m+p)/g}}function RO(t,e){return t*e>0}function BO(t,e,n){var i=t.x,r=t.y,o=[],s=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;"function"==typeof e.forEach?e.forEach((function(t){s=Math.min(s,t.x),a=Math.min(a,t.y)})):(s=Math.min(s,e.x),a=Math.min(a,e.y));for(var c=i-t.width/2-s,l=r-t.height/2-a,u=0;u<e.length;u++){var h=e[u],d=e[u<e.length-1?u+1:0],f=LO(t,n,{x:c+h.x,y:l+h.y},{x:c+d.x,y:l+d.y});f&&o.push(f)}return o.length?(o.length>1&&o.sort((function(t,e){var i=t.x-n.x,r=t.y-n.y,o=Math.sqrt(i*i+r*r),s=e.x-n.x,a=e.y-n.y,c=Math.sqrt(s*s+a*a);return o<c?-1:o===c?0:1})),o[0]):t}const FO=(t,e)=>{var n,i,r=t.x,o=t.y,s=e.x-r,a=e.y-o,c=t.width/2,l=t.height/2;return Math.abs(a)*c>Math.abs(s)*l?(a<0&&(l=-l),n=0===a?0:l*s/a,i=l):(s<0&&(c=-c),n=c,i=0===s?0:c*a/s),{x:r+n,y:o+i}},jO={node:OO,circle:NO,ellipse:DO,polygon:BO,rect:FO},$O=(t,e)=>{const{shapeSvg:n,bbox:i}=pO(t,e,void 0,!0),r=i.width+e.padding+(i.height+e.padding),o=[{x:r/2,y:0},{x:r,y:-r/2},{x:r/2,y:-r},{x:0,y:-r/2}];h.info("Question main (Circle)");const s=bO(n,r,r,o);return s.attr("style",e.style),mO(e,s),e.intersect=function(t){return h.warn("Intersect called"),jO.polygon(e,o,t)},n};function VO(t,e,n,i){const r=[],o=t=>{r.push(t,0)},s=t=>{r.push(0,t)};e.includes("t")?(h.debug("add top border"),o(n)):s(n),e.includes("r")?(h.debug("add right border"),o(i)):s(i),e.includes("b")?(h.debug("add bottom border"),o(n)):s(n),e.includes("l")?(h.debug("add left border"),o(i)):s(i),t.attr("stroke-dasharray",r.join(" "))}const zO=(t,e,n)=>{const i=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let r=70,o=10;"LR"===n&&(r=10,o=70);const s=i.append("rect").attr("x",-1*r/2).attr("y",-1*o/2).attr("width",r).attr("height",o).attr("class","fork-join");return mO(e,s),e.height=e.height+e.padding/2,e.width=e.width+e.padding/2,e.intersect=function(t){return jO.rect(e,t)},i},HO={rhombus:$O,question:$O,rect:(t,e)=>{const{shapeSvg:n,bbox:i,halfPadding:r}=pO(t,e,"node "+e.classes,!0);h.trace("Classes = ",e.classes);const o=n.insert("rect",":first-child"),s=i.width+e.padding,a=i.height+e.padding;if(o.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",-i.width/2-r).attr("y",-i.height/2-r).attr("width",s).attr("height",a),e.props){const t=new Set(Object.keys(e.props));e.props.borders&&(VO(o,e.props.borders,s,a),t.delete("borders")),t.forEach((t=>{h.warn(`Unknown node property ${t}`)}))}return mO(e,o),e.intersect=function(t){return jO.rect(e,t)},n},labelRect:(t,e)=>{const{shapeSvg:n}=pO(t,e,"label",!0);h.trace("Classes = ",e.classes);const i=n.insert("rect",":first-child"),r=0,o=0;if(i.attr("width",r).attr("height",o),n.attr("class","label edgeLabel"),e.props){const t=new Set(Object.keys(e.props));e.props.borders&&(VO(i,e.props.borders,r,o),t.delete("borders")),t.forEach((t=>{h.warn(`Unknown node property ${t}`)}))}return mO(e,i),e.intersect=function(t){return jO.rect(e,t)},n},rectWithTitle:(t,e)=>{let n;n=e.classes?"node "+e.classes:"node default";const i=t.insert("g").attr("class",n).attr("id",e.domId||e.id),r=i.insert("rect",":first-child"),o=i.insert("line"),s=i.insert("g").attr("class","label"),a=e.labelText.flat?e.labelText.flat():e.labelText;let c="";c="object"==typeof a?a[0]:a,h.info("Label text abc79",c,a,"object"==typeof a);const l=s.node().appendChild(gO(c,e.labelStyle,!0,!0));let u={width:0,height:0};if(Zh(xw().flowchart.htmlLabels)){const t=l.children[0],e=un(l);u=t.getBoundingClientRect(),e.attr("width",u.width),e.attr("height",u.height)}h.info("Text 2",a);const d=a.slice(1,a.length);let f=l.getBBox();const g=s.node().appendChild(gO(d.join?d.join("<br/>"):d,e.labelStyle,!0,!0));if(Zh(xw().flowchart.htmlLabels)){const t=g.children[0],e=un(g);u=t.getBoundingClientRect(),e.attr("width",u.width),e.attr("height",u.height)}const p=e.padding/2;return un(g).attr("transform","translate( "+(u.width>f.width?0:(f.width-u.width)/2)+", "+(f.height+p+5)+")"),un(l).attr("transform","translate( "+(u.width<f.width?0:-(f.width-u.width)/2)+", 0)"),u=s.node().getBBox(),s.attr("transform","translate("+-u.width/2+", "+(-u.height/2-p+3)+")"),r.attr("class","outer title-state").attr("x",-u.width/2-p).attr("y",-u.height/2-p).attr("width",u.width+e.padding).attr("height",u.height+e.padding),o.attr("class","divider").attr("x1",-u.width/2-p).attr("x2",u.width/2+p).attr("y1",-u.height/2-p+f.height+p).attr("y2",-u.height/2-p+f.height+p),mO(e,r),e.intersect=function(t){return jO.rect(e,t)},i},choice:(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),i=28,r=[{x:0,y:i/2},{x:i/2,y:0},{x:0,y:-i/2},{x:-i/2,y:0}];return n.insert("polygon",":first-child").attr("points",r.map((function(t){return t.x+","+t.y})).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),e.width=28,e.height=28,e.intersect=function(t){return jO.circle(e,14,t)},n},circle:(t,e)=>{const{shapeSvg:n,bbox:i,halfPadding:r}=pO(t,e,void 0,!0),o=n.insert("circle",":first-child");return o.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",i.width/2+r).attr("width",i.width+e.padding).attr("height",i.height+e.padding),h.info("Circle main"),mO(e,o),e.intersect=function(t){return h.info("Circle intersect",e,i.width/2+r,t),jO.circle(e,i.width/2+r,t)},n},doublecircle:(t,e)=>{const{shapeSvg:n,bbox:i,halfPadding:r}=pO(t,e,void 0,!0),o=5,s=n.insert("g",":first-child"),a=s.insert("circle"),c=s.insert("circle");return a.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",i.width/2+r+o).attr("width",i.width+e.padding+2*o).attr("height",i.height+e.padding+2*o),c.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",i.width/2+r).attr("width",i.width+e.padding).attr("height",i.height+e.padding),h.info("DoubleCircle main"),mO(e,a),e.intersect=function(t){return h.info("DoubleCircle intersect",e,i.width/2+r+o,t),jO.circle(e,i.width/2+r+o,t)},n},stadium:(t,e)=>{const{shapeSvg:n,bbox:i}=pO(t,e,void 0,!0),r=i.height+e.padding,o=i.width+r/4+e.padding,s=n.insert("rect",":first-child").attr("style",e.style).attr("rx",r/2).attr("ry",r/2).attr("x",-o/2).attr("y",-r/2).attr("width",o).attr("height",r);return mO(e,s),e.intersect=function(t){return jO.rect(e,t)},n},hexagon:(t,e)=>{const{shapeSvg:n,bbox:i}=pO(t,e,void 0,!0),r=4,o=i.height+e.padding,s=o/r,a=i.width+2*s+e.padding,c=[{x:s,y:0},{x:a-s,y:0},{x:a,y:-o/2},{x:a-s,y:-o},{x:s,y:-o},{x:0,y:-o/2}],l=bO(n,a,o,c);return l.attr("style",e.style),mO(e,l),e.intersect=function(t){return jO.polygon(e,c,t)},n},rect_left_inv_arrow:(t,e)=>{const{shapeSvg:n,bbox:i}=pO(t,e,void 0,!0),r=i.width+e.padding,o=i.height+e.padding,s=[{x:-o/2,y:0},{x:r,y:0},{x:r,y:-o},{x:-o/2,y:-o},{x:0,y:-o/2}];return bO(n,r,o,s).attr("style",e.style),e.width=r+o,e.height=o,e.intersect=function(t){return jO.polygon(e,s,t)},n},lean_right:(t,e)=>{const{shapeSvg:n,bbox:i}=pO(t,e,void 0,!0),r=i.width+e.padding,o=i.height+e.padding,s=[{x:-2*o/6,y:0},{x:r-o/6,y:0},{x:r+2*o/6,y:-o},{x:o/6,y:-o}],a=bO(n,r,o,s);return a.attr("style",e.style),mO(e,a),e.intersect=function(t){return jO.polygon(e,s,t)},n},lean_left:(t,e)=>{const{shapeSvg:n,bbox:i}=pO(t,e,void 0,!0),r=i.width+e.padding,o=i.height+e.padding,s=[{x:2*o/6,y:0},{x:r+o/6,y:0},{x:r-2*o/6,y:-o},{x:-o/6,y:-o}],a=bO(n,r,o,s);return a.attr("style",e.style),mO(e,a),e.intersect=function(t){return jO.polygon(e,s,t)},n},trapezoid:(t,e)=>{const{shapeSvg:n,bbox:i}=pO(t,e,void 0,!0),r=i.width+e.padding,o=i.height+e.padding,s=[{x:-2*o/6,y:0},{x:r+2*o/6,y:0},{x:r-o/6,y:-o},{x:o/6,y:-o}],a=bO(n,r,o,s);return a.attr("style",e.style),mO(e,a),e.intersect=function(t){return jO.polygon(e,s,t)},n},inv_trapezoid:(t,e)=>{const{shapeSvg:n,bbox:i}=pO(t,e,void 0,!0),r=i.width+e.padding,o=i.height+e.padding,s=[{x:o/6,y:0},{x:r-o/6,y:0},{x:r+2*o/6,y:-o},{x:-2*o/6,y:-o}],a=bO(n,r,o,s);return a.attr("style",e.style),mO(e,a),e.intersect=function(t){return jO.polygon(e,s,t)},n},rect_right_inv_arrow:(t,e)=>{const{shapeSvg:n,bbox:i}=pO(t,e,void 0,!0),r=i.width+e.padding,o=i.height+e.padding,s=[{x:0,y:0},{x:r+o/2,y:0},{x:r,y:-o/2},{x:r+o/2,y:-o},{x:0,y:-o}],a=bO(n,r,o,s);return a.attr("style",e.style),mO(e,a),e.intersect=function(t){return jO.polygon(e,s,t)},n},cylinder:(t,e)=>{const{shapeSvg:n,bbox:i}=pO(t,e,void 0,!0),r=i.width+e.padding,o=r/2,s=o/(2.5+r/50),a=i.height+s+e.padding,c="M 0,"+s+" a "+o+","+s+" 0,0,0 "+r+" 0 a "+o+","+s+" 0,0,0 "+-r+" 0 l 0,"+a+" a "+o+","+s+" 0,0,0 "+r+" 0 l 0,"+-a,l=n.attr("label-offset-y",s).insert("path",":first-child").attr("style",e.style).attr("d",c).attr("transform","translate("+-r/2+","+-(a/2+s)+")");return mO(e,l),e.intersect=function(t){const n=jO.rect(e,t),i=n.x-e.x;if(0!=o&&(Math.abs(i)<e.width/2||Math.abs(i)==e.width/2&&Math.abs(n.y-e.y)>e.height/2-s)){let r=s*s*(1-i*i/(o*o));0!=r&&(r=Math.sqrt(r)),r=s-r,t.y-e.y>0&&(r=-r),n.y+=r}return n},n},start:(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),i=n.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),mO(e,i),e.intersect=function(t){return jO.circle(e,7,t)},n},end:(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),i=n.insert("circle",":first-child"),r=n.insert("circle",":first-child");return r.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),i.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),mO(e,r),e.intersect=function(t){return jO.circle(e,7,t)},n},note:(t,e)=>{const{shapeSvg:n,bbox:i,halfPadding:r}=pO(t,e,"node "+e.classes,!0);h.info("Classes = ",e.classes);const o=n.insert("rect",":first-child");return o.attr("rx",e.rx).attr("ry",e.ry).attr("x",-i.width/2-r).attr("y",-i.height/2-r).attr("width",i.width+e.padding).attr("height",i.height+e.padding),mO(e,o),e.intersect=function(t){return jO.rect(e,t)},n},subroutine:(t,e)=>{const{shapeSvg:n,bbox:i}=pO(t,e,void 0,!0),r=i.width+e.padding,o=i.height+e.padding,s=[{x:0,y:0},{x:r,y:0},{x:r,y:-o},{x:0,y:-o},{x:0,y:0},{x:-8,y:0},{x:r+8,y:0},{x:r+8,y:-o},{x:-8,y:-o},{x:-8,y:0}],a=bO(n,r,o,s);return a.attr("style",e.style),mO(e,a),e.intersect=function(t){return jO.polygon(e,s,t)},n},fork:zO,join:zO,class_box:(t,e)=>{const n=e.padding/2,i=4,r=8;let o;o=e.classes?"node "+e.classes:"node default";const s=t.insert("g").attr("class",o).attr("id",e.domId||e.id),a=s.insert("rect",":first-child"),c=s.insert("line"),l=s.insert("line");let u=0,h=i;const d=s.insert("g").attr("class","label");let f=0;const g=e.classData.annotations&&e.classData.annotations[0],p=e.classData.annotations[0]?"«"+e.classData.annotations[0]+"»":"",m=d.node().appendChild(gO(p,e.labelStyle,!0,!0));let b=m.getBBox();if(Zh(xw().flowchart.htmlLabels)){const t=m.children[0],e=un(m);b=t.getBoundingClientRect(),e.attr("width",b.width),e.attr("height",b.height)}e.classData.annotations[0]&&(h+=b.height+i,u+=b.width);let w=e.classData.id;void 0!==e.classData.type&&""!==e.classData.type&&(xw().flowchart.htmlLabels?w+="&lt;"+e.classData.type+"&gt;":w+="<"+e.classData.type+">");const y=d.node().appendChild(gO(w,e.labelStyle,!0,!0));un(y).attr("class","classTitle");let v=y.getBBox();if(Zh(xw().flowchart.htmlLabels)){const t=y.children[0],e=un(y);v=t.getBoundingClientRect(),e.attr("width",v.width),e.attr("height",v.height)}h+=v.height+i,v.width>u&&(u=v.width);const _=[];e.classData.members.forEach((t=>{const n=KP(t);let r=n.displayText;xw().flowchart.htmlLabels&&(r=r.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const o=d.node().appendChild(gO(r,n.cssStyle?n.cssStyle:e.labelStyle,!0,!0));let s=o.getBBox();if(Zh(xw().flowchart.htmlLabels)){const t=o.children[0],e=un(o);s=t.getBoundingClientRect(),e.attr("width",s.width),e.attr("height",s.height)}s.width>u&&(u=s.width),h+=s.height+i,_.push(o)})),h+=r;const k=[];if(e.classData.methods.forEach((t=>{const n=KP(t);let r=n.displayText;xw().flowchart.htmlLabels&&(r=r.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const o=d.node().appendChild(gO(r,n.cssStyle?n.cssStyle:e.labelStyle,!0,!0));let s=o.getBBox();if(Zh(xw().flowchart.htmlLabels)){const t=o.children[0],e=un(o);s=t.getBoundingClientRect(),e.attr("width",s.width),e.attr("height",s.height)}s.width>u&&(u=s.width),h+=s.height+i,k.push(o)})),h+=r,g){let t=(u-b.width)/2;un(m).attr("transform","translate( "+(-1*u/2+t)+", "+-1*h/2+")"),f=b.height+i}let x=(u-v.width)/2;return un(y).attr("transform","translate( "+(-1*u/2+x)+", "+(-1*h/2+f)+")"),f+=v.height+i,c.attr("class","divider").attr("x1",-u/2-n).attr("x2",u/2+n).attr("y1",-h/2-n+r+f).attr("y2",-h/2-n+r+f),f+=r,_.forEach((t=>{un(t).attr("transform","translate( "+-u/2+", "+(-1*h/2+f+r/2)+")"),f+=v.height+i})),f+=r,l.attr("class","divider").attr("x1",-u/2-n).attr("x2",u/2+n).attr("y1",-h/2-n+r+f).attr("y2",-h/2-n+r+f),f+=r,k.forEach((t=>{un(t).attr("transform","translate( "+-u/2+", "+(-1*h/2+f)+")"),f+=v.height+i})),a.attr("class","outer title-state").attr("x",-u/2-n).attr("y",-h/2-n).attr("width",u+e.padding).attr("height",h+e.padding),mO(e,a),e.intersect=function(t){return jO.rect(e,t)},s}};let UO={};const qO=(t,e,n)=>{let i,r;if(e.link){let o;"sandbox"===xw().securityLevel?o="_top":e.linkTarget&&(o=e.linkTarget||"_blank"),i=t.insert("svg:a").attr("xlink:href",e.link).attr("target",o),r=HO[e.shape](i,e,n)}else r=HO[e.shape](t,e,n),i=r;return e.tooltip&&r.attr("title",e.tooltip),e.class&&r.attr("class","node default "+e.class),UO[e.id]=i,e.haveCallback&&UO[e.id].attr("class",UO[e.id].attr("class")+" clickable"),i},WO=(t,e)=>{UO[e.id]=t},GO=()=>{UO={}},KO=t=>{const e=UO[t.id];h.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const n=8,i=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+i-t.width/2)+", "+(t.y-t.height/2-n)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),i},YO={rect:(t,e)=>{h.trace("Creating subgraph rect for ",e.id,e);const n=t.insert("g").attr("class","cluster"+(e.class?" "+e.class:"")).attr("id",e.id),i=n.insert("rect",":first-child"),r=n.insert("g").attr("class","cluster-label"),o=r.node().appendChild(gO(e.labelText,e.labelStyle,void 0,!0));let s=o.getBBox();if(Zh(xw().flowchart.htmlLabels)){const t=o.children[0],e=un(o);s=t.getBoundingClientRect(),e.attr("width",s.width),e.attr("height",s.height)}const a=0*e.padding,c=a/2,l=e.width<=s.width+a?s.width+a:e.width;e.width<=s.width+a?e.diff=(s.width-e.width)/2-e.padding/2:e.diff=-e.padding/2,h.trace("Data ",e,JSON.stringify(e)),i.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-l/2).attr("y",e.y-e.height/2-c).attr("width",l).attr("height",e.height+a),r.attr("transform","translate("+(e.x-s.width/2)+", "+(e.y-e.height/2)+")");const u=i.node().getBBox();return e.width=u.width,e.height=u.height,e.intersect=function(t){return FO(e,t)},n},roundedWithTitle:(t,e)=>{const n=t.insert("g").attr("class",e.classes).attr("id",e.id),i=n.insert("rect",":first-child"),r=n.insert("g").attr("class","cluster-label"),o=n.append("rect"),s=r.node().appendChild(gO(e.labelText,e.labelStyle,void 0,!0));let a=s.getBBox();if(Zh(xw().flowchart.htmlLabels)){const t=s.children[0],e=un(s);a=t.getBoundingClientRect(),e.attr("width",a.width),e.attr("height",a.height)}a=s.getBBox();const c=0*e.padding,l=c/2,u=e.width<=a.width+e.padding?a.width+e.padding:e.width;e.width<=a.width+e.padding?e.diff=(a.width+0*e.padding-e.width)/2:e.diff=-e.padding/2,i.attr("class","outer").attr("x",e.x-u/2-l).attr("y",e.y-e.height/2-l).attr("width",u+c).attr("height",e.height+c),o.attr("class","inner").attr("x",e.x-u/2-l).attr("y",e.y-e.height/2-l+a.height-1).attr("width",u+c).attr("height",e.height+c-a.height-3),r.attr("transform","translate("+(e.x-a.width/2)+", "+(e.y-e.height/2-e.padding/3+(Zh(xw().flowchart.htmlLabels)?5:3))+")");const h=i.node().getBBox();return e.height=h.height,e.intersect=function(t){return FO(e,t)},n},noteGroup:(t,e)=>{const n=t.insert("g").attr("class","note-cluster").attr("id",e.id),i=n.insert("rect",":first-child"),r=0*e.padding,o=r/2;i.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-o).attr("y",e.y-e.height/2-o).attr("width",e.width+r).attr("height",e.height+r).attr("fill","none");const s=i.node().getBBox();return e.width=s.width,e.height=s.height,e.intersect=function(t){return FO(e,t)},n},divider:(t,e)=>{const n=t.insert("g").attr("class",e.classes).attr("id",e.id),i=n.insert("rect",":first-child"),r=0*e.padding,o=r/2;i.attr("class","divider").attr("x",e.x-e.width/2-o).attr("y",e.y-e.height/2).attr("width",e.width+r).attr("height",e.height+r);const s=i.node().getBBox();return e.width=s.width,e.height=s.height,e.diff=-e.padding/2,e.intersect=function(t){return FO(e,t)},n}};let XO={};const ZO=(t,e)=>{h.trace("Inserting cluster");const n=e.shape||"rect";XO[e.id]=YO[n](t,e)},QO=()=>{XO={}};let JO={},tD={};const eD=()=>{JO={},tD={}},nD=(t,e)=>{const n=gO(e.label,e.labelStyle),i=t.insert("g").attr("class","edgeLabel"),r=i.insert("g").attr("class","label");r.node().appendChild(n);let o,s=n.getBBox();if(Zh(xw().flowchart.htmlLabels)){const t=n.children[0],e=un(n);s=t.getBoundingClientRect(),e.attr("width",s.width),e.attr("height",s.height)}if(r.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),JO[e.id]=i,e.width=s.width,e.height=s.height,e.startLabelLeft){const n=gO(e.startLabelLeft,e.labelStyle),i=t.insert("g").attr("class","edgeTerminals"),r=i.insert("g").attr("class","inner");o=r.node().appendChild(n);const s=n.getBBox();r.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),tD[e.id]||(tD[e.id]={}),tD[e.id].startLeft=i,iD(o,e.startLabelLeft)}if(e.startLabelRight){const n=gO(e.startLabelRight,e.labelStyle),i=t.insert("g").attr("class","edgeTerminals"),r=i.insert("g").attr("class","inner");o=i.node().appendChild(n),r.node().appendChild(n);const s=n.getBBox();r.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),tD[e.id]||(tD[e.id]={}),tD[e.id].startRight=i,iD(o,e.startLabelRight)}if(e.endLabelLeft){const n=gO(e.endLabelLeft,e.labelStyle),i=t.insert("g").attr("class","edgeTerminals"),r=i.insert("g").attr("class","inner");o=r.node().appendChild(n);const s=n.getBBox();r.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),i.node().appendChild(n),tD[e.id]||(tD[e.id]={}),tD[e.id].endLeft=i,iD(o,e.endLabelLeft)}if(e.endLabelRight){const n=gO(e.endLabelRight,e.labelStyle),i=t.insert("g").attr("class","edgeTerminals"),r=i.insert("g").attr("class","inner");o=r.node().appendChild(n);const s=n.getBBox();r.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),i.node().appendChild(n),tD[e.id]||(tD[e.id]={}),tD[e.id].endRight=i,iD(o,e.endLabelRight)}return n};function iD(t,e){xw().flowchart.htmlLabels&&t&&(t.style.width=9*e.length+"px",t.style.height="12px")}const rD=(t,e)=>{h.info("Moving label abc78 ",t.id,t.label,JO[t.id]);let n=e.updatedPath?e.updatedPath:e.originalPath;if(t.label){const i=JO[t.id];let r=t.x,o=t.y;if(n){const i=vb.calcLabelPosition(n);h.info("Moving label "+t.label+" from (",r,",",o,") to (",i.x,",",i.y,") abc78"),e.updatedPath&&(r=i.x,o=i.y)}i.attr("transform","translate("+r+", "+o+")")}if(t.startLabelLeft){const e=tD[t.id].startLeft;let i=t.x,r=t.y;if(n){const e=vb.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",n);i=e.x,r=e.y}e.attr("transform","translate("+i+", "+r+")")}if(t.startLabelRight){const e=tD[t.id].startRight;let i=t.x,r=t.y;if(n){const e=vb.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",n);i=e.x,r=e.y}e.attr("transform","translate("+i+", "+r+")")}if(t.endLabelLeft){const e=tD[t.id].endLeft;let i=t.x,r=t.y;if(n){const e=vb.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",n);i=e.x,r=e.y}e.attr("transform","translate("+i+", "+r+")")}if(t.endLabelRight){const e=tD[t.id].endRight;let i=t.x,r=t.y;if(n){const e=vb.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",n);i=e.x,r=e.y}e.attr("transform","translate("+i+", "+r+")")}},oD=(t,e)=>{const n=t.x,i=t.y,r=Math.abs(e.x-n),o=Math.abs(e.y-i),s=t.width/2,a=t.height/2;return r>=s||o>=a},sD=(t,e,n)=>{h.warn(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(e)}\n  insidePoint : ${JSON.stringify(n)}\n  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const i=t.x,r=t.y,o=Math.abs(i-n.x),s=t.width/2;let a=n.x<e.x?s-o:s+o;const c=t.height/2,l=Math.abs(e.y-n.y),u=Math.abs(e.x-n.x);if(Math.abs(r-e.y)*s>Math.abs(i-e.x)*c){let t=n.y<e.y?e.y-c-r:r-c-e.y;a=u*t/l;const i={x:n.x<e.x?n.x+a:n.x-u+a,y:n.y<e.y?n.y+l-t:n.y-l+t};return 0===a&&(i.x=e.x,i.y=e.y),0===u&&(i.x=e.x),0===l&&(i.y=e.y),h.warn(`abc89 topp/bott calc, Q ${l}, q ${t}, R ${u}, r ${a}`,i),i}{a=n.x<e.x?e.x-s-i:i-s-e.x;let t=l*a/u,r=n.x<e.x?n.x+u-a:n.x-u+a,o=n.y<e.y?n.y+t:n.y-t;return h.warn(`sides calc abc89, Q ${l}, q ${t}, R ${u}, r ${a}`,{_x:r,_y:o}),0===a&&(r=e.x,o=e.y),0===u&&(r=e.x),0===l&&(o=e.y),{x:r,y:o}}},aD=(t,e)=>{h.warn("abc88 cutPathAtIntersect",t,e);let n=[],i=t[0],r=!1;return t.forEach((t=>{if(h.info("abc88 checking point",t,e),oD(e,t)||r)h.warn("abc88 outside",t,i),i=t,r||n.push(t);else{const o=sD(e,i,t);h.warn("abc88 inside",t,i,o),h.warn("abc88 intersection",o);let s=!1;n.forEach((t=>{s=s||t.x===o.x&&t.y===o.y})),n.some((t=>t.x===o.x&&t.y===o.y))?h.warn("abc88 no intersect",o,n):n.push(o),r=!0}})),h.warn("abc88 returning points",n),n},cD=function(t,e,n,i,r,o){let s=n.points,a=!1;const c=o.node(e.v);var l=o.node(e.w);h.info("abc88 InsertEdge: ",n),l.intersect&&c.intersect&&(s=s.slice(1,n.points.length-1),s.unshift(c.intersect(s[0])),h.info("Last point",s[s.length-1],l,l.intersect(s[s.length-1])),s.push(l.intersect(s[s.length-1]))),n.toCluster&&(h.info("to cluster abc88",i[n.toCluster]),s=aD(n.points,i[n.toCluster].node),a=!0),n.fromCluster&&(h.info("from cluster abc88",i[n.fromCluster]),s=aD(s.reverse(),i[n.fromCluster].node).reverse(),a=!0);const u=s.filter((t=>!Number.isNaN(t.y)));let d;d=("graph"===r||"flowchart"===r)&&n.curve||Xl;const f=$l().x((function(t){return t.x})).y((function(t){return t.y})).curve(d);let g;switch(n.thickness){case"normal":g="edge-thickness-normal";break;case"thick":g="edge-thickness-thick";break;default:g=""}switch(n.pattern){case"solid":g+=" edge-pattern-solid";break;case"dotted":g+=" edge-pattern-dotted";break;case"dashed":g+=" edge-pattern-dashed"}const p=t.append("path").attr("d",f(u)).attr("id",n.id).attr("class"," "+g+(n.classes?" "+n.classes:"")).attr("style",n.style);let m="";switch((xw().flowchart.arrowMarkerAbsolute||xw().state.arrowMarkerAbsolute)&&(m=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,m=m.replace(/\(/g,"\\("),m=m.replace(/\)/g,"\\)")),h.info("arrowTypeStart",n.arrowTypeStart),h.info("arrowTypeEnd",n.arrowTypeEnd),n.arrowTypeStart){case"arrow_cross":p.attr("marker-start","url("+m+"#"+r+"-crossStart)");break;case"arrow_point":p.attr("marker-start","url("+m+"#"+r+"-pointStart)");break;case"arrow_barb":p.attr("marker-start","url("+m+"#"+r+"-barbStart)");break;case"arrow_circle":p.attr("marker-start","url("+m+"#"+r+"-circleStart)");break;case"aggregation":p.attr("marker-start","url("+m+"#"+r+"-aggregationStart)");break;case"extension":p.attr("marker-start","url("+m+"#"+r+"-extensionStart)");break;case"composition":p.attr("marker-start","url("+m+"#"+r+"-compositionStart)");break;case"dependency":p.attr("marker-start","url("+m+"#"+r+"-dependencyStart)");break;case"lollipop":p.attr("marker-start","url("+m+"#"+r+"-lollipopStart)")}switch(n.arrowTypeEnd){case"arrow_cross":p.attr("marker-end","url("+m+"#"+r+"-crossEnd)");break;case"arrow_point":p.attr("marker-end","url("+m+"#"+r+"-pointEnd)");break;case"arrow_barb":p.attr("marker-end","url("+m+"#"+r+"-barbEnd)");break;case"arrow_circle":p.attr("marker-end","url("+m+"#"+r+"-circleEnd)");break;case"aggregation":p.attr("marker-end","url("+m+"#"+r+"-aggregationEnd)");break;case"extension":p.attr("marker-end","url("+m+"#"+r+"-extensionEnd)");break;case"composition":p.attr("marker-end","url("+m+"#"+r+"-compositionEnd)");break;case"dependency":p.attr("marker-end","url("+m+"#"+r+"-dependencyEnd)");break;case"lollipop":p.attr("marker-end","url("+m+"#"+r+"-lollipopEnd)")}let b={};return a&&(b.updatedPath=s),b.originalPath=n.points,b},lD=(t,e,n,i)=>{h.info("Graph in recursive render: XXX",sO(e),i);const r=e.graph().rankdir;h.trace("Dir in recursive render - dir:",r);const o=t.insert("g").attr("class","root");e.nodes()?h.info("Recursive render XXX",e.nodes()):h.info("No nodes found for",e),e.edges().length>0&&h.trace("Recursive edges",e.edge(e.edges()[0]));const s=o.insert("g").attr("class","clusters"),a=o.insert("g").attr("class","edgePaths"),c=o.insert("g").attr("class","edgeLabels"),l=o.insert("g").attr("class","nodes");e.nodes().forEach((function(t){const o=e.node(t);if(void 0!==i){const n=JSON.parse(JSON.stringify(i.clusterData));h.info("Setting data for cluster XXX (",t,") ",n,i),e.setNode(i.id,n),e.parent(t)||(h.trace("Setting parent",t,i.id),e.setParent(t,i.id,n))}if(h.info("(Insert) Node XXX"+t+": "+JSON.stringify(e.node(t))),o&&o.clusterNode){h.info("Cluster identified",t,o.width,e.node(t));const i=lD(l,o.graph,n,e.node(t)),r=i.elem;mO(o,r),o.diff=i.diff||0,h.info("Node bounds (abc123)",t,o,o.width,o.x,o.y),WO(r,o),h.warn("Recursive render complete ",r,o)}else e.children(t).length>0?(h.info("Cluster - the non recursive path XXX",t,o.id,o,e),h.info(CO(o.id,e)),wO[o.id]={id:CO(o.id,e),node:o}):(h.info("Node - the non recursive path",t,o.id,o),qO(l,e.node(t),r))})),e.edges().forEach((function(t){const n=e.edge(t.v,t.w,t.name);h.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t)),h.info("Edge "+t.v+" -> "+t.w+": ",t," ",JSON.stringify(e.edge(t))),h.info("Fix",wO,"ids:",t.v,t.w,"Translateing: ",wO[t.v],wO[t.w]),nD(c,n)})),e.edges().forEach((function(t){h.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t))})),h.info("#############################################"),h.info("###                Layout                 ###"),h.info("#############################################"),h.info(e),vP(e),h.info("Graph after layout:",sO(e));let u=0;return PO(e).forEach((function(t){const n=e.node(t);h.info("Position "+t+": "+JSON.stringify(e.node(t))),h.info("Position "+t+": ("+n.x,","+n.y,") width: ",n.width," height: ",n.height),n&&n.clusterNode?KO(n):e.children(t).length>0?(ZO(s,n),wO[n.id].node=n):KO(n)})),e.edges().forEach((function(t){const i=e.edge(t);h.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(i),i);const r=cD(a,t,i,wO,n,e);rD(i,r)})),e.nodes().forEach((function(t){const n=e.node(t);h.info(t,n.type,n.diff),"group"===n.type&&(u=n.diff)})),{elem:o,diff:u}},uD=(t,e,n,i,r)=>{hO(t,n,i,r),GO(),eD(),QO(),_O(),h.warn("Graph at first:",sO(e)),SO(e),h.warn("Graph after:",sO(e)),lD(t,e,i)},hD=t=>Jh.sanitizeText(t,xw());let dD={dividerMargin:10,padding:5,textHeight:10};const fD=function(t,e,n,i){const r=Object.keys(t);h.info("keys:",r),h.info(t),r.forEach((function(n){const r=t[n];let o="";r.cssClasses.length>0&&(o=o+" "+r.cssClasses.join(" "));const s={labelStyle:""};let a=void 0!==r.text?r.text:r.id,c=0,l="";r.type,l="class_box",e.setNode(r.id,{labelStyle:s.labelStyle,shape:l,labelText:hD(a),classData:r,rx:c,ry:c,class:o,style:s.style,id:r.id,domId:r.domId,tooltip:i.db.getTooltip(r.id)||"",haveCallback:r.haveCallback,link:r.link,width:"group"===r.type?500:void 0,type:r.type,padding:xw().flowchart.padding}),h.info("setNode",{labelStyle:s.labelStyle,shape:l,labelText:a,rx:c,ry:c,class:o,style:s.style,id:r.id,width:"group"===r.type?500:void 0,type:r.type,padding:xw().flowchart.padding})}))},gD=function(t,e,n,i){h.info(t),t.forEach((function(t,r){const o=t;let s="";const a={labelStyle:"",style:""};let c=o.text,l=0,u="note";if(e.setNode(o.id,{labelStyle:a.labelStyle,shape:u,labelText:hD(c),noteData:o,rx:l,ry:l,class:s,style:a.style,id:o.id,domId:o.id,tooltip:"",type:"note",padding:xw().flowchart.padding}),h.info("setNode",{labelStyle:a.labelStyle,shape:u,labelText:c,rx:l,ry:l,style:a.style,id:o.id,type:"note",padding:xw().flowchart.padding}),!o.class||!(o.class in i))return;const d=n+r,f={classes:"relation",pattern:"dotted"};f.id=`edgeNote${d}`,f.arrowhead="none",h.info(`Note edge: ${JSON.stringify(f)}, ${JSON.stringify(o)}`),f.startLabelRight="",f.endLabelLeft="",f.arrowTypeStart="none",f.arrowTypeEnd="none";let g="fill:none",p="";f.style=g,f.labelStyle=p,f.curve=Km(dD.curve,Bl),e.setEdge(o.id,o.class,f,d)}))},pD=function(t,e){const n=xw().flowchart;let i=0;t.forEach((function(r){i++;const o={classes:"relation"};o.pattern=1==r.relation.lineType?"dashed":"solid",o.id="id"+i,"arrow_open"===r.type?o.arrowhead="none":o.arrowhead="normal",h.info(o,r),o.startLabelRight="none"===r.relationTitle1?"":r.relationTitle1,o.endLabelLeft="none"===r.relationTitle2?"":r.relationTitle2,o.arrowTypeStart=mD(r.relation.type1),o.arrowTypeEnd=mD(r.relation.type2);let s="",a="";if(void 0!==r.style){const t=nb(r.style);s=t.style,a=t.labelStyle}else s="fill:none";o.style=s,o.labelStyle=a,void 0!==r.interpolate?o.curve=Km(r.interpolate,Bl):void 0!==t.defaultInterpolate?o.curve=Km(t.defaultInterpolate,Bl):o.curve=Km(n.curve,Bl),r.text=r.title,void 0===r.text?void 0!==r.style&&(o.arrowheadStyle="fill: #333"):(o.arrowheadStyle="fill: #333",o.labelpos="c",xw().flowchart.htmlLabels?(o.labelType="html",o.label='<span class="edgeLabel">'+r.text+"</span>"):(o.labelType="text",o.label=r.text.replace(Jh.lineBreakRegex,"\n"),void 0===r.style&&(o.style=o.style||"stroke: #333; stroke-width: 1.5px;fill:none"),o.labelStyle=o.labelStyle.replace("color:","fill:"))),e.setEdge(r.id1,r.id2,o,i)}))};function mD(t){let e;switch(t){case 0:e="aggregation";break;case 1:e="extension";break;case 2:e="composition";break;case 3:e="dependency";break;case 4:e="lollipop";break;default:e="none"}return e}const bD={setConf:function(t){Object.keys(t).forEach((function(e){dD[e]=t[e]}))},draw:function(t,e,n,i){h.info("Drawing class - ",e);const r=xw().flowchart,o=xw().securityLevel;h.info("config:",r);const s=r.nodeSpacing||50,a=r.rankSpacing||50,c=new gI({multigraph:!0,compound:!0}).setGraph({rankdir:i.db.getDirection(),nodesep:s,ranksep:a,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),l=i.db.getClasses(),u=i.db.getRelations(),d=i.db.getNotes();let f;h.info(u),fD(l,c,e,i),pD(u,c),gD(d,c,u.length+1,l),"sandbox"===o&&(f=un("#i"+e));const g=un("sandbox"===o?f.nodes()[0].contentDocument.body:"body"),p=g.select(`[id="${e}"]`),m=g.select("#"+e+" g");if(uD(m,c,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",e),vb.insertTitle(p,"classTitleText",r.titleTopMargin,i.db.getDiagramTitle()),Nw(c,p,r.diagramPadding,r.useMaxWidth),!r.htmlLabels){const t="sandbox"===o?f.nodes()[0].contentDocument:document,n=t.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const e of n){const n=e.getBBox(),i=t.createElementNS("http://www.w3.org/2000/svg","rect");i.setAttribute("rx",0),i.setAttribute("ry",0),i.setAttribute("width",n.width),i.setAttribute("height",n.height),e.insertBefore(i,e.firstChild)}}}};var wD=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[1,2],n=[1,5],i=[6,9,11,23,25,27,29,30,31,51],r=[1,17],o=[1,18],s=[1,19],a=[1,20],c=[1,21],l=[1,22],u=[1,25],h=[1,30],d=[1,31],f=[1,32],g=[1,33],p=[6,9,11,15,20,23,25,27,29,30,31,44,45,46,47,51],m=[1,45],b=[30,31,48,49],w=[4,6,9,11,23,25,27,29,30,31,51],y=[44,45,46,47],v=[22,37],_=[1,65],k=[1,64],x=[22,37,39,41],E={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyTypeList:35,attributeComment:36,ATTRIBUTE_WORD:37,attributeKeyType:38,COMMA:39,ATTRIBUTE_KEY:40,COMMENT:41,cardinality:42,relType:43,ZERO_OR_ONE:44,ZERO_OR_MORE:45,ONE_OR_MORE:46,ONLY_ONE:47,NON_IDENTIFYING:48,IDENTIFYING:49,WORD:50,open_directive:51,type_directive:52,arg_directive:53,close_directive:54,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",39:"COMMA",40:"ATTRIBUTE_KEY",41:"COMMENT",44:"ZERO_OR_ONE",45:"ZERO_OR_MORE",46:"ONE_OR_MORE",47:"ONLY_ONE",48:"NON_IDENTIFYING",49:"IDENTIFYING",50:"WORD",51:"open_directive",52:"type_directive",53:"arg_directive",54:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[35,3],[38,1],[36,1],[18,3],[42,1],[42,1],[42,1],[42,1],[43,1],[43,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 1:break;case 3:case 7:case 8:this.$=[];break;case 4:o[a-1].push(o[a]),this.$=o[a-1];break;case 5:case 6:case 20:case 43:case 28:case 29:case 32:this.$=o[a];break;case 12:i.addEntity(o[a-4]),i.addEntity(o[a-2]),i.addRelationship(o[a-4],o[a],o[a-2],o[a-3]);break;case 13:i.addEntity(o[a-3]),i.addAttributes(o[a-3],o[a-1]);break;case 14:i.addEntity(o[a-2]);break;case 15:i.addEntity(o[a]);break;case 16:case 17:this.$=o[a].trim(),i.setAccTitle(this.$);break;case 18:case 19:this.$=o[a].trim(),i.setAccDescription(this.$);break;case 21:case 41:case 42:case 33:this.$=o[a].replace(/"/g,"");break;case 22:case 30:this.$=[o[a]];break;case 23:o[a].push(o[a-1]),this.$=o[a];break;case 24:this.$={attributeType:o[a-1],attributeName:o[a]};break;case 25:this.$={attributeType:o[a-2],attributeName:o[a-1],attributeKeyTypeList:o[a]};break;case 26:this.$={attributeType:o[a-2],attributeName:o[a-1],attributeComment:o[a]};break;case 27:this.$={attributeType:o[a-3],attributeName:o[a-2],attributeKeyTypeList:o[a-1],attributeComment:o[a]};break;case 31:o[a-2].push(o[a]),this.$=o[a-2];break;case 34:this.$={cardA:o[a],relType:o[a-1],cardB:o[a-2]};break;case 35:this.$=i.Cardinality.ZERO_OR_ONE;break;case 36:this.$=i.Cardinality.ZERO_OR_MORE;break;case 37:this.$=i.Cardinality.ONE_OR_MORE;break;case 38:this.$=i.Cardinality.ONLY_ONE;break;case 39:this.$=i.Identification.NON_IDENTIFYING;break;case 40:this.$=i.Identification.IDENTIFYING;break;case 44:i.parseDirective("%%{","open_directive");break;case 45:i.parseDirective(o[a],"type_directive");break;case 46:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 47:i.parseDirective("}%%","close_directive","er")}},table:[{3:1,4:e,7:3,12:4,51:n},{1:[3]},t(i,[2,3],{5:6}),{3:7,4:e,7:3,12:4,51:n},{13:8,52:[1,9]},{52:[2,44]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:r,25:o,27:s,29:a,30:c,31:l,51:n},{1:[2,2]},{14:23,15:[1,24],54:u},t([15,54],[2,45]),t(i,[2,8],{1:[2,1]}),t(i,[2,4]),{7:15,10:26,12:4,17:16,23:r,25:o,27:s,29:a,30:c,31:l,51:n},t(i,[2,6]),t(i,[2,7]),t(i,[2,11]),t(i,[2,15],{18:27,42:29,20:[1,28],44:h,45:d,46:f,47:g}),{24:[1,34]},{26:[1,35]},{28:[1,36]},t(i,[2,19]),t(p,[2,20]),t(p,[2,21]),{11:[1,37]},{16:38,53:[1,39]},{11:[2,47]},t(i,[2,5]),{17:40,30:c,31:l},{21:41,22:[1,42],32:43,33:44,37:m},{43:46,48:[1,47],49:[1,48]},t(b,[2,35]),t(b,[2,36]),t(b,[2,37]),t(b,[2,38]),t(i,[2,16]),t(i,[2,17]),t(i,[2,18]),t(w,[2,9]),{14:49,54:u},{54:[2,46]},{15:[1,50]},{22:[1,51]},t(i,[2,14]),{21:52,22:[2,22],32:43,33:44,37:m},{34:53,37:[1,54]},{37:[2,28]},{42:55,44:h,45:d,46:f,47:g},t(y,[2,39]),t(y,[2,40]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],50:[1,58]},t(i,[2,13]),{22:[2,23]},t(v,[2,24],{35:61,36:62,38:63,40:_,41:k}),t([22,37,40,41],[2,29]),t([30,31],[2,34]),t(w,[2,10]),t(i,[2,12]),t(i,[2,41]),t(i,[2,42]),t(i,[2,43]),t(v,[2,25],{36:66,39:[1,67],41:k}),t(v,[2,26]),t(x,[2,30]),t(v,[2,33]),t(x,[2,32]),t(v,[2,27]),{38:68,40:_},t(x,[2,31])],defaultActions:{5:[2,44],7:[2,2],25:[2,47],39:[2,46],45:[2,28],52:[2,23]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",c=0,l=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),g={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(g.yy[p]=this.yy[p]);f.setInput(t,g.yy),g.yy.lexer=f,g.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var b=f.options&&f.options.ranges;function w(){var t;return"number"!=typeof(t=i.pop()||f.lex()||h)&&(t instanceof Array&&(t=(i=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,v,_,k,x,E,T,C,A={};;){if(v=n[n.length-1],this.defaultActions[v]?_=this.defaultActions[v]:(null==y&&(y=w()),_=s[v]&&s[v][y]),void 0===_||!_.length||!_[0]){var S="";for(x in C=[],s[v])this.terminals_[x]&&x>u&&C.push("'"+this.terminals_[x]+"'");S=f.showPosition?"Parse error on line "+(c+1)+":\n"+f.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(c+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[y]||y,line:f.yylineno,loc:m,expected:C})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+y);switch(_[0]){case 1:n.push(y),r.push(f.yytext),o.push(f.yylloc),n.push(_[1]),y=null,l=f.yyleng,a=f.yytext,c=f.yylineno,m=f.yylloc;break;case 2:if(E=this.productions_[_[1]][1],A.$=r[r.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(A,[a,l,c,g.yy,_[1],r,o].concat(d))))return k;E&&(n=n.slice(0,-1*E*2),r=r.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[_[1]][0]),r.push(A.$),o.push(A._$),T=s[n[n.length-2]][n[n.length-1]],n.push(T);break;case 3:return!0}}return!0}},T={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,i){switch(n){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),51;case 8:return this.begin("type_directive"),52;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),54;case 11:return 53;case 12:case 13:case 15:case 22:case 27:break;case 14:return 11;case 16:return 9;case 17:return 31;case 18:return 50;case 19:return 4;case 20:return this.begin("block"),20;case 21:return 39;case 23:return 40;case 24:case 25:return 37;case 26:return 41;case 28:return this.popState(),22;case 29:case 58:return e.yytext[0];case 30:case 34:case 35:case 48:return 44;case 31:case 32:case 33:case 41:case 43:case 50:return 46;case 36:case 37:case 38:case 39:case 40:case 42:case 49:return 45;case 44:case 45:case 46:case 47:return 47;case 51:case 54:case 55:case 56:return 48;case 52:case 53:return 49;case 57:return 30;case 59:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28,29],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],inclusive:!0}}};function C(){this.yy={}}return E.lexer=T,C.prototype=E,E.Parser=C,new C}();wD.parser=wD;const yD=wD,vD=t=>null!==t.match(/^\s*erDiagram/);let _D={},kD=[];const xD=function(t){return void 0===_D[t]&&(_D[t]={attributes:[]},h.info("Added new entity :",t)),_D[t]},ED=function(t,e){let n,i=xD(t);for(n=e.length-1;n>=0;n--)i.attributes.push(e[n]),h.debug("Added attribute ",e[n].attributeName)},TD={Cardinality:{ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},Identification:{NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},parseDirective:function(t,e,n){bH.parseDirective(this,t,e,n)},getConfig:()=>xw().er,addEntity:xD,addAttributes:ED,getEntities:()=>_D,addRelationship:function(t,e,n,i){let r={entityA:t,roleA:e,entityB:n,relSpec:i};kD.push(r),h.debug("Added new relationship :",r)},getRelationships:()=>kD,clear:function(){_D={},kD=[],ty()},setAccTitle:ey,getAccTitle:ny,setAccDescription:iy,getAccDescription:ry,setDiagramTitle:oy,getDiagramTitle:sy},CD={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},AD={ERMarkers:CD,insertMarkers:function(t,e){let n;t.append("defs").append("marker").attr("id",CD.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",CD.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),n=t.append("defs").append("marker").attr("id",CD.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18"),n=t.append("defs").append("marker").attr("id",CD.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,0 L21,18"),t.append("defs").append("marker").attr("id",CD.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",CD.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),n=t.append("defs").append("marker").attr("id",CD.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),n=t.append("defs").append("marker").attr("id",CD.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")}},SD=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ID(t){return"string"==typeof t&&SD.test(t)}const MD=[];for(let t=0;t<256;++t)MD.push((t+256).toString(16).slice(1));function PD(t,e=0){return(MD[t[e+0]]+MD[t[e+1]]+MD[t[e+2]]+MD[t[e+3]]+"-"+MD[t[e+4]]+MD[t[e+5]]+"-"+MD[t[e+6]]+MD[t[e+7]]+"-"+MD[t[e+8]]+MD[t[e+9]]+"-"+MD[t[e+10]]+MD[t[e+11]]+MD[t[e+12]]+MD[t[e+13]]+MD[t[e+14]]+MD[t[e+15]]).toLowerCase()}function OD(t){if(!ID(t))throw TypeError("Invalid UUID");let e;const n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n}function DD(t){t=unescape(encodeURIComponent(t));const e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}const ND="6ba7b810-9dad-11d1-80b4-00c04fd430c8",LD="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function RD(t,e,n){function i(t,i,r,o){var s;if("string"==typeof t&&(t=DD(t)),"string"==typeof i&&(i=OD(i)),16!==(null===(s=i)||void 0===s?void 0:s.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+t.length);if(a.set(i),a.set(t,i.length),a=n(a),a[6]=15&a[6]|e,a[8]=63&a[8]|128,r){o=o||0;for(let t=0;t<16;++t)r[o+t]=a[t];return r}return PD(a)}try{i.name=t}catch(t){}return i.DNS=ND,i.URL=LD,i}function BD(t,e,n,i){switch(t){case 0:return e&n^~e&i;case 1:case 3:return e^n^i;case 2:return e&n^e&i^n&i}}function FD(t,e){return t<<e|t>>>32-e}function jD(t){const e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){const e=unescape(encodeURIComponent(t));t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const i=t.length/4+2,r=Math.ceil(i/16),o=new Array(r);for(let e=0;e<r;++e){const n=new Uint32Array(16);for(let i=0;i<16;++i)n[i]=t[64*e+4*i]<<24|t[64*e+4*i+1]<<16|t[64*e+4*i+2]<<8|t[64*e+4*i+3];o[e]=n}o[r-1][14]=8*(t.length-1)/Math.pow(2,32),o[r-1][14]=Math.floor(o[r-1][14]),o[r-1][15]=8*(t.length-1)&4294967295;for(let t=0;t<r;++t){const i=new Uint32Array(80);for(let e=0;e<16;++e)i[e]=o[t][e];for(let t=16;t<80;++t)i[t]=FD(i[t-3]^i[t-8]^i[t-14]^i[t-16],1);let r=n[0],s=n[1],a=n[2],c=n[3],l=n[4];for(let t=0;t<80;++t){const n=Math.floor(t/20),o=FD(r,5)+BD(n,s,a,c)+l+e[n]+i[t]>>>0;l=c,c=a,a=FD(s,30)>>>0,s=r,r=o}n[0]=n[0]+r>>>0,n[1]=n[1]+s>>>0,n[2]=n[2]+a>>>0,n[3]=n[3]+c>>>0,n[4]=n[4]+l>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}const $D=RD("v5",80,jD),VD=/[^\dA-Za-z](\W)*/g;let zD={},HD=new Map;const UD=(t,e,n)=>{const i=zD.entityPadding/3,r=zD.entityPadding/3,o=.85*zD.fontSize,s=e.node().getBBox(),a=[];let c=!1,l=!1,u=0,h=0,d=0,f=0,g=s.height+2*i,p=1;n.forEach((t=>{void 0!==t.attributeKeyTypeList&&t.attributeKeyTypeList.length>0&&(c=!0),void 0!==t.attributeComment&&(l=!0)})),n.forEach((n=>{const r=`${e.node().id}-attr-${p}`;let s=0;const m=Qh(n.attributeType),b=t.append("text").classed("er entityLabel",!0).attr("id",`${r}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",xw().fontFamily).style("font-size",o+"px").text(m),w=t.append("text").classed("er entityLabel",!0).attr("id",`${r}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",xw().fontFamily).style("font-size",o+"px").text(n.attributeName),y={};y.tn=b,y.nn=w;const v=b.node().getBBox(),_=w.node().getBBox();if(u=Math.max(u,v.width),h=Math.max(h,_.width),s=Math.max(v.height,_.height),c){const e=void 0!==n.attributeKeyTypeList?n.attributeKeyTypeList.join(","):"",i=t.append("text").classed("er entityLabel",!0).attr("id",`${r}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",xw().fontFamily).style("font-size",o+"px").text(e);y.kn=i;const a=i.node().getBBox();d=Math.max(d,a.width),s=Math.max(s,a.height)}if(l){const e=t.append("text").classed("er entityLabel",!0).attr("id",`${r}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",xw().fontFamily).style("font-size",o+"px").text(n.attributeComment||"");y.cn=e;const i=e.node().getBBox();f=Math.max(f,i.width),s=Math.max(s,i.height)}y.height=s,a.push(y),g+=s+2*i,p+=1}));let m=4;c&&(m+=2),l&&(m+=2);const b=u+h+d+f,w={width:Math.max(zD.minEntityWidth,Math.max(s.width+2*zD.entityPadding,b+r*m)),height:n.length>0?g:Math.max(zD.minEntityHeight,s.height+2*zD.entityPadding)};if(n.length>0){const n=Math.max(0,(w.width-b-r*m)/(m/2));e.attr("transform","translate("+w.width/2+","+(i+s.height/2)+")");let o=s.height+2*i,g="attributeBoxOdd";a.forEach((e=>{const s=o+i+e.height/2;e.tn.attr("transform","translate("+r+","+s+")");const a=t.insert("rect","#"+e.tn.node().id).classed(`er ${g}`,!0).attr("x",0).attr("y",o).attr("width",u+2*r+n).attr("height",e.height+2*i),p=parseFloat(a.attr("x"))+parseFloat(a.attr("width"));e.nn.attr("transform","translate("+(p+r)+","+s+")");const m=t.insert("rect","#"+e.nn.node().id).classed(`er ${g}`,!0).attr("x",p).attr("y",o).attr("width",h+2*r+n).attr("height",e.height+2*i);let b=parseFloat(m.attr("x"))+parseFloat(m.attr("width"));if(c){e.kn.attr("transform","translate("+(b+r)+","+s+")");const a=t.insert("rect","#"+e.kn.node().id).classed(`er ${g}`,!0).attr("x",b).attr("y",o).attr("width",d+2*r+n).attr("height",e.height+2*i);b=parseFloat(a.attr("x"))+parseFloat(a.attr("width"))}l&&(e.cn.attr("transform","translate("+(b+r)+","+s+")"),t.insert("rect","#"+e.cn.node().id).classed(`er ${g}`,"true").attr("x",b).attr("y",o).attr("width",f+2*r+n).attr("height",e.height+2*i)),o+=e.height+2*i,g="attributeBoxOdd"===g?"attributeBoxEven":"attributeBoxOdd"}))}else w.height=Math.max(zD.minEntityHeight,g),e.attr("transform","translate("+w.width/2+","+w.height/2+")");return w},qD=function(t,e,n){let i;return Object.keys(e).forEach((function(r){const o=QD(r,"entity");HD.set(r,o);const s=t.append("g").attr("id",o);i=void 0===i?o:i;const a="text-"+o,c=s.append("text").classed("er entityLabel",!0).attr("id",a).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",xw().fontFamily).style("font-size",zD.fontSize+"px").text(r),{width:l,height:u}=UD(s,c,e[r].attributes),h=s.insert("rect","#"+a).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",l).attr("height",u).node().getBBox();n.setNode(o,{width:h.width,height:h.height,shape:"rect",id:o})})),i},WD=function(t,e){e.nodes().forEach((function(n){void 0!==n&&void 0!==e.node(n)&&t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )")}))},GD=function(t){return(t.entityA+t.roleA+t.entityB).replace(/\s/g,"")},KD=function(t,e){return t.forEach((function(t){e.setEdge(HD.get(t.entityA),HD.get(t.entityB),{relationship:t},GD(t))})),t};let YD=0;const XD=function(t,e,n,i,r){YD++;const o=n.edge(HD.get(e.entityA),HD.get(e.entityB),GD(e)),s=$l().x((function(t){return t.x})).y((function(t){return t.y})).curve(Xl),a=t.insert("path","#"+i).classed("er relationshipLine",!0).attr("d",s(o.points)).style("stroke",zD.stroke).style("fill","none");e.relSpec.relType===r.db.Identification.NON_IDENTIFYING&&a.attr("stroke-dasharray","8,8");let c="";switch(zD.arrowMarkerAbsolute&&(c=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,c=c.replace(/\(/g,"\\("),c=c.replace(/\)/g,"\\)")),e.relSpec.cardA){case r.db.Cardinality.ZERO_OR_ONE:a.attr("marker-end","url("+c+"#"+AD.ERMarkers.ZERO_OR_ONE_END+")");break;case r.db.Cardinality.ZERO_OR_MORE:a.attr("marker-end","url("+c+"#"+AD.ERMarkers.ZERO_OR_MORE_END+")");break;case r.db.Cardinality.ONE_OR_MORE:a.attr("marker-end","url("+c+"#"+AD.ERMarkers.ONE_OR_MORE_END+")");break;case r.db.Cardinality.ONLY_ONE:a.attr("marker-end","url("+c+"#"+AD.ERMarkers.ONLY_ONE_END+")")}switch(e.relSpec.cardB){case r.db.Cardinality.ZERO_OR_ONE:a.attr("marker-start","url("+c+"#"+AD.ERMarkers.ZERO_OR_ONE_START+")");break;case r.db.Cardinality.ZERO_OR_MORE:a.attr("marker-start","url("+c+"#"+AD.ERMarkers.ZERO_OR_MORE_START+")");break;case r.db.Cardinality.ONE_OR_MORE:a.attr("marker-start","url("+c+"#"+AD.ERMarkers.ONE_OR_MORE_START+")");break;case r.db.Cardinality.ONLY_ONE:a.attr("marker-start","url("+c+"#"+AD.ERMarkers.ONLY_ONE_START+")")}const l=a.node().getTotalLength(),u=a.node().getPointAtLength(.5*l),h="rel"+YD,d=t.append("text").classed("er relationshipLabel",!0).attr("id",h).attr("x",u.x).attr("y",u.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",xw().fontFamily).style("font-size",zD.fontSize+"px").text(e.roleA).node().getBBox();t.insert("rect","#"+h).classed("er relationshipLabelBox",!0).attr("x",u.x-d.width/2).attr("y",u.y-d.height/2).attr("width",d.width).attr("height",d.height)},ZD="28e9f9db-3c8d-5aa5-9faf-44286ae5937c";function QD(t="",e=""){const n=t.replace(VD,"");return`${JD(e)}${JD(n)}${$D(t,ZD)}`}function JD(t=""){return t.length>0?`${t}-`:""}const tN={setConf:function(t){const e=Object.keys(t);for(const n of e)zD[n]=t[n]},draw:function(t,e,n,i){zD=xw().er,h.info("Drawing ER diagram");const r=xw().securityLevel;let o;"sandbox"===r&&(o=un("#i"+e));const s=un("sandbox"===r?o.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);let a;AD.insertMarkers(s,zD),a=new gI({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:zD.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel((function(){return{}}));const c=qD(s,i.db.getEntities(),a),l=KD(i.db.getRelationships(),a);vP(a),WD(s,a),l.forEach((function(t){XD(s,t,a,c,i)}));const u=zD.diagramPadding;vb.insertTitle(s,"entityTitleText",zD.titleTopMargin,i.db.getDiagramTitle());const d=s.node().getBBox(),f=d.width+2*u,g=d.height+2*u;Dw(s,g,f,zD.useMaxWidth),s.attr("viewBox",`${d.x-u} ${d.y-u} ${f} ${g}`)}};var eN=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[1,9],n=[1,7],i=[1,6],r=[1,8],o=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],s=[2,10],a=[1,20],c=[1,21],l=[1,22],u=[1,23],h=[1,30],d=[1,32],f=[1,33],g=[1,34],p=[1,62],m=[1,48],b=[1,52],w=[1,36],y=[1,37],v=[1,38],_=[1,39],k=[1,40],x=[1,56],E=[1,63],T=[1,51],C=[1,53],A=[1,55],S=[1,59],I=[1,60],M=[1,41],P=[1,42],O=[1,43],D=[1,44],N=[1,61],L=[1,50],R=[1,54],B=[1,57],F=[1,58],j=[1,49],$=[1,66],V=[1,71],z=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],H=[1,75],U=[1,74],q=[1,76],W=[20,21,23,81,82],G=[1,99],K=[1,104],Y=[1,107],X=[1,108],Z=[1,101],Q=[1,106],J=[1,109],tt=[1,102],et=[1,114],nt=[1,113],it=[1,103],rt=[1,105],ot=[1,110],st=[1,111],at=[1,112],ct=[1,115],lt=[20,21,22,23,81,82],ut=[20,21,22,23,53,81,82],ht=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],dt=[20,21,23],ft=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],gt=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],pt=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],mt=[1,149],bt=[1,157],wt=[1,158],yt=[1,159],vt=[1,160],_t=[1,144],kt=[1,145],xt=[1,141],Et=[1,152],Tt=[1,153],Ct=[1,154],At=[1,155],St=[1,156],It=[1,161],Mt=[1,162],Pt=[1,147],Ot=[1,150],Dt=[1,146],Nt=[1,143],Lt=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Rt=[1,165],Bt=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],Ft=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],jt=[12,21,22,24],$t=[22,106],Vt=[1,250],zt=[1,245],Ht=[1,246],Ut=[1,254],qt=[1,251],Wt=[1,248],Gt=[1,247],Kt=[1,249],Yt=[1,252],Xt=[1,253],Zt=[1,255],Qt=[1,273],Jt=[20,21,23,106],te=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],ee={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 5:i.parseDirective("%%{","open_directive");break;case 6:i.parseDirective(o[a],"type_directive");break;case 7:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 8:i.parseDirective("}%%","close_directive","flowchart");break;case 10:case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 11:(!Array.isArray(o[a])||o[a].length>0)&&o[a-1].push(o[a]),this.$=o[a-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:case 78:case 150:this.$=o[a];break;case 19:i.setDirection("TB"),this.$="TB";break;case 20:i.setDirection(o[a-1]),this.$=o[a-1];break;case 35:this.$=o[a-1].nodes;break;case 41:this.$=i.addSubGraph(o[a-6],o[a-1],o[a-4]);break;case 42:this.$=i.addSubGraph(o[a-3],o[a-1],o[a-3]);break;case 43:this.$=i.addSubGraph(void 0,o[a-1],void 0);break;case 45:this.$=o[a].trim(),i.setAccTitle(this.$);break;case 46:case 47:this.$=o[a].trim(),i.setAccDescription(this.$);break;case 51:i.addLink(o[a-2].stmt,o[a],o[a-1]),this.$={stmt:o[a],nodes:o[a].concat(o[a-2].nodes)};break;case 52:i.addLink(o[a-3].stmt,o[a-1],o[a-2]),this.$={stmt:o[a-1],nodes:o[a-1].concat(o[a-3].nodes)};break;case 53:this.$={stmt:o[a-1],nodes:o[a-1]};break;case 54:this.$={stmt:o[a],nodes:o[a]};break;case 55:case 123:case 125:this.$=[o[a]];break;case 56:this.$=o[a-4].concat(o[a]);break;case 57:this.$=[o[a-2]],i.setClass(o[a-2],o[a]);break;case 58:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"square");break;case 59:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"doublecircle");break;case 60:this.$=o[a-5],i.addVertex(o[a-5],o[a-2],"circle");break;case 61:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"ellipse");break;case 62:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"stadium");break;case 63:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"subroutine");break;case 64:this.$=o[a-7],i.addVertex(o[a-7],o[a-1],"rect",void 0,void 0,void 0,Object.fromEntries([[o[a-5],o[a-3]]]));break;case 65:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"cylinder");break;case 66:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"round");break;case 67:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"diamond");break;case 68:this.$=o[a-5],i.addVertex(o[a-5],o[a-2],"hexagon");break;case 69:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"odd");break;case 70:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"trapezoid");break;case 71:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"inv_trapezoid");break;case 72:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"lean_right");break;case 73:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"lean_left");break;case 74:this.$=o[a],i.addVertex(o[a]);break;case 75:o[a-1].text=o[a],this.$=o[a-1];break;case 76:case 77:o[a-2].text=o[a-1],this.$=o[a-2];break;case 79:var c=i.destructLink(o[a],o[a-2]);this.$={type:c.type,stroke:c.stroke,length:c.length,text:o[a-1]};break;case 80:c=i.destructLink(o[a]),this.$={type:c.type,stroke:c.stroke,length:c.length};break;case 81:this.$=o[a-1];break;case 83:case 97:case 153:case 151:this.$=o[a-1]+""+o[a];break;case 98:case 99:this.$=o[a-4],i.addClass(o[a-2],o[a]);break;case 100:this.$=o[a-4],i.setClass(o[a-2],o[a]);break;case 101:case 109:this.$=o[a-1],i.setClickEvent(o[a-1],o[a]);break;case 102:case 110:this.$=o[a-3],i.setClickEvent(o[a-3],o[a-2]),i.setTooltip(o[a-3],o[a]);break;case 103:this.$=o[a-2],i.setClickEvent(o[a-2],o[a-1],o[a]);break;case 104:this.$=o[a-4],i.setClickEvent(o[a-4],o[a-3],o[a-2]),i.setTooltip(o[a-4],o[a]);break;case 105:case 111:this.$=o[a-1],i.setLink(o[a-1],o[a]);break;case 106:case 112:this.$=o[a-3],i.setLink(o[a-3],o[a-2]),i.setTooltip(o[a-3],o[a]);break;case 107:case 113:this.$=o[a-3],i.setLink(o[a-3],o[a-2],o[a]);break;case 108:case 114:this.$=o[a-5],i.setLink(o[a-5],o[a-4],o[a]),i.setTooltip(o[a-5],o[a-2]);break;case 115:this.$=o[a-4],i.addVertex(o[a-2],void 0,void 0,o[a]);break;case 116:case 118:this.$=o[a-4],i.updateLink(o[a-2],o[a]);break;case 117:this.$=o[a-4],i.updateLink([o[a-2]],o[a]);break;case 119:this.$=o[a-8],i.updateLinkInterpolate([o[a-6]],o[a-2]),i.updateLink([o[a-6]],o[a]);break;case 120:this.$=o[a-8],i.updateLinkInterpolate(o[a-6],o[a-2]),i.updateLink(o[a-6],o[a]);break;case 121:this.$=o[a-6],i.updateLinkInterpolate([o[a-4]],o[a]);break;case 122:this.$=o[a-6],i.updateLinkInterpolate(o[a-4],o[a]);break;case 124:case 126:o[a-2].push(o[a]),this.$=o[a-2];break;case 128:this.$=o[a-1]+o[a];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"}}},table:[{3:1,4:2,5:3,6:5,12:e,16:4,21:n,22:i,24:r},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:e,16:4,21:n,22:i,24:r},t(o,s,{17:11}),{7:12,13:[1,13]},{16:14,21:n,22:i,24:r},{16:15,21:n,22:i,24:r},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:a,21:c,22:l,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,43:31,44:d,46:f,48:g,50:35,51:45,52:p,54:46,66:m,67:b,86:w,87:y,88:v,89:_,90:k,91:x,95:E,105:T,106:C,109:A,111:S,112:I,116:47,118:M,119:P,120:O,121:D,122:N,123:L,124:R,125:B,126:F,127:j},{8:64,10:[1,65],15:$},t([10,15],[2,6]),t(o,[2,17]),t(o,[2,18]),t(o,[2,19]),{20:[1,68],21:[1,69],22:V,27:67,30:70},t(z,[2,11]),t(z,[2,12]),t(z,[2,13]),t(z,[2,14]),t(z,[2,15]),t(z,[2,16]),{9:72,20:H,21:U,23:q,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:H,21:U,23:q},{9:81,20:H,21:U,23:q},{9:82,20:H,21:U,23:q},{9:83,20:H,21:U,23:q},{9:84,20:H,21:U,23:q},{9:86,20:H,21:U,22:[1,85],23:q},t(z,[2,44]),{45:[1,87]},{47:[1,88]},t(z,[2,47]),t(W,[2,54],{30:89,22:V}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:G,52:K,66:Y,67:X,84:[1,97],91:Z,97:96,98:[1,94],100:[1,95],105:Q,106:J,109:tt,111:et,112:nt,115:100,117:98,122:it,123:rt,124:ot,125:st,126:at,127:ct},t(z,[2,158]),t(z,[2,159]),t(z,[2,160]),t(z,[2,161]),t(lt,[2,55],{53:[1,116]}),t(ut,[2,74],{116:129,40:[1,117],52:p,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:m,67:b,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:x,95:E,105:T,106:C,109:A,111:S,112:I,122:N,123:L,124:R,125:B,126:F,127:j}),t(ht,[2,150]),t(ht,[2,175]),t(ht,[2,176]),t(ht,[2,177]),t(ht,[2,178]),t(ht,[2,179]),t(ht,[2,180]),t(ht,[2,181]),t(ht,[2,182]),t(ht,[2,183]),t(ht,[2,184]),t(ht,[2,185]),t(ht,[2,186]),t(ht,[2,187]),t(ht,[2,188]),t(ht,[2,189]),t(ht,[2,190]),{9:130,20:H,21:U,23:q},{11:131,14:[1,132]},t(dt,[2,8]),t(o,[2,20]),t(o,[2,26]),t(o,[2,27]),{21:[1,133]},t(ft,[2,34],{30:134,22:V}),t(z,[2,35]),{50:135,51:45,52:p,54:46,66:m,67:b,91:x,95:E,105:T,106:C,109:A,111:S,112:I,116:47,122:N,123:L,124:R,125:B,126:F,127:j},t(gt,[2,48]),t(gt,[2,49]),t(gt,[2,50]),t(pt,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:mt,24:bt,26:wt,38:yt,39:139,42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:140,84:xt,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},t([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),t(z,[2,36]),t(z,[2,37]),t(z,[2,38]),t(z,[2,39]),t(z,[2,40]),{22:mt,24:bt,26:wt,38:yt,39:163,42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:140,84:xt,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},t(Lt,s,{17:164}),t(z,[2,45]),t(z,[2,46]),t(W,[2,53],{52:Rt}),{26:G,52:K,66:Y,67:X,91:Z,97:166,102:[1,167],105:Q,106:J,109:tt,111:et,112:nt,115:100,117:98,122:it,123:rt,124:ot,125:st,126:at,127:ct},{95:[1,168],103:169,105:[1,170]},{26:G,52:K,66:Y,67:X,91:Z,95:[1,171],97:172,105:Q,106:J,109:tt,111:et,112:nt,115:100,117:98,122:it,123:rt,124:ot,125:st,126:at,127:ct},{26:G,52:K,66:Y,67:X,91:Z,97:173,105:Q,106:J,109:tt,111:et,112:nt,115:100,117:98,122:it,123:rt,124:ot,125:st,126:at,127:ct},t(dt,[2,101],{22:[1,174],99:[1,175]}),t(dt,[2,105],{22:[1,176]}),t(dt,[2,109],{115:100,117:178,22:[1,177],26:G,52:K,66:Y,67:X,91:Z,105:Q,106:J,109:tt,111:et,112:nt,122:it,123:rt,124:ot,125:st,126:at,127:ct}),t(dt,[2,111],{22:[1,179]}),t(Bt,[2,152]),t(Bt,[2,154]),t(Bt,[2,155]),t(Bt,[2,156]),t(Bt,[2,157]),t(Ft,[2,162]),t(Ft,[2,163]),t(Ft,[2,164]),t(Ft,[2,165]),t(Ft,[2,166]),t(Ft,[2,167]),t(Ft,[2,168]),t(Ft,[2,169]),t(Ft,[2,170]),t(Ft,[2,171]),t(Ft,[2,172]),t(Ft,[2,173]),t(Ft,[2,174]),{52:p,54:180,66:m,67:b,91:x,95:E,105:T,106:C,109:A,111:S,112:I,116:47,122:N,123:L,124:R,125:B,126:F,127:j},{22:mt,24:bt,26:wt,38:yt,39:181,42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:140,84:xt,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,39:182,42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:140,84:xt,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,39:184,42:vt,52:K,57:[1,183],66:Y,67:X,73:_t,81:kt,83:140,84:xt,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,39:185,42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:140,84:xt,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,39:186,42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:140,84:xt,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,39:187,42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:140,84:xt,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{66:[1,188]},{22:mt,24:bt,26:wt,38:yt,39:189,42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:140,84:xt,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,39:190,42:vt,52:K,66:Y,67:X,71:[1,191],73:_t,81:kt,83:140,84:xt,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,39:192,42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:140,84:xt,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,39:193,42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:140,84:xt,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,39:194,42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:140,84:xt,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},t(ht,[2,151]),t(jt,[2,3]),{8:195,15:$},{15:[2,7]},t(o,[2,28]),t(ft,[2,33]),t(W,[2,51],{30:196,22:V}),t(pt,[2,75],{22:[1,197]}),{22:[1,198]},{22:mt,24:bt,26:wt,38:yt,39:199,42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:140,84:xt,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,42:vt,52:K,66:Y,67:X,73:_t,81:kt,82:[1,200],83:201,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},t(Ft,[2,82]),t(Ft,[2,84]),t(Ft,[2,140]),t(Ft,[2,141]),t(Ft,[2,142]),t(Ft,[2,143]),t(Ft,[2,144]),t(Ft,[2,145]),t(Ft,[2,146]),t(Ft,[2,147]),t(Ft,[2,148]),t(Ft,[2,149]),t(Ft,[2,85]),t(Ft,[2,86]),t(Ft,[2,87]),t(Ft,[2,88]),t(Ft,[2,89]),t(Ft,[2,90]),t(Ft,[2,91]),t(Ft,[2,92]),t(Ft,[2,93]),t(Ft,[2,94]),t(Ft,[2,95]),{9:203,20:H,21:U,22:mt,23:q,24:bt,26:wt,38:yt,40:[1,202],42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:201,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{18:18,19:19,20:a,21:c,22:l,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,42:[1,204],43:31,44:d,46:f,48:g,50:35,51:45,52:p,54:46,66:m,67:b,86:w,87:y,88:v,89:_,90:k,91:x,95:E,105:T,106:C,109:A,111:S,112:I,116:47,118:M,119:P,120:O,121:D,122:N,123:L,124:R,125:B,126:F,127:j},{22:V,30:205},{22:[1,206],26:G,52:K,66:Y,67:X,91:Z,105:Q,106:J,109:tt,111:et,112:nt,115:100,117:178,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},t($t,[2,123]),{22:[1,211]},{22:[1,212],26:G,52:K,66:Y,67:X,91:Z,105:Q,106:J,109:tt,111:et,112:nt,115:100,117:178,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:[1,213],26:G,52:K,66:Y,67:X,91:Z,105:Q,106:J,109:tt,111:et,112:nt,115:100,117:178,122:it,123:rt,124:ot,125:st,126:at,127:ct},{84:[1,214]},t(dt,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},t(Bt,[2,153]),{84:[1,219],101:[1,220]},t(lt,[2,57],{116:129,52:p,66:m,67:b,91:x,95:E,105:T,106:C,109:A,111:S,112:I,122:N,123:L,124:R,125:B,126:F,127:j}),{22:mt,24:bt,26:wt,38:yt,41:[1,221],42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:201,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,42:vt,52:K,56:[1,222],66:Y,67:X,73:_t,81:kt,83:201,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,39:223,42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:140,84:xt,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,42:vt,52:K,58:[1,224],66:Y,67:X,73:_t,81:kt,83:201,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,42:vt,52:K,60:[1,225],66:Y,67:X,73:_t,81:kt,83:201,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,42:vt,52:K,62:[1,226],66:Y,67:X,73:_t,81:kt,83:201,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,42:vt,52:K,64:[1,227],66:Y,67:X,73:_t,81:kt,83:201,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{67:[1,228]},{22:mt,24:bt,26:wt,38:yt,42:vt,52:K,66:Y,67:X,70:[1,229],73:_t,81:kt,83:201,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,42:vt,52:K,66:Y,67:X,72:[1,230],73:_t,81:kt,83:201,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,39:231,42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:140,84:xt,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,41:[1,232],42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:201,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,42:vt,52:K,66:Y,67:X,73:_t,75:[1,233],77:[1,234],81:kt,83:201,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{22:mt,24:bt,26:wt,38:yt,42:vt,52:K,66:Y,67:X,73:_t,75:[1,236],77:[1,235],81:kt,83:201,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{9:237,20:H,21:U,23:q},t(W,[2,52],{52:Rt}),t(pt,[2,77]),t(pt,[2,76]),{22:mt,24:bt,26:wt,38:yt,42:vt,52:K,66:Y,67:X,68:[1,238],73:_t,81:kt,83:201,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},t(pt,[2,79]),t(Ft,[2,83]),{22:mt,24:bt,26:wt,38:yt,39:239,42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:140,84:xt,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},t(Lt,s,{17:240}),t(z,[2,43]),{51:241,52:p,54:46,66:m,67:b,91:x,95:E,105:T,106:C,109:A,111:S,112:I,116:47,122:N,123:L,124:R,125:B,126:F,127:j},{22:Vt,66:zt,67:Ht,86:Ut,96:242,102:qt,105:Wt,107:243,108:244,109:Gt,110:Kt,111:Yt,112:Xt,113:Zt},{22:Vt,66:zt,67:Ht,86:Ut,96:256,102:qt,105:Wt,107:243,108:244,109:Gt,110:Kt,111:Yt,112:Xt,113:Zt},{22:Vt,66:zt,67:Ht,86:Ut,96:257,102:qt,104:[1,258],105:Wt,107:243,108:244,109:Gt,110:Kt,111:Yt,112:Xt,113:Zt},{22:Vt,66:zt,67:Ht,86:Ut,96:259,102:qt,104:[1,260],105:Wt,107:243,108:244,109:Gt,110:Kt,111:Yt,112:Xt,113:Zt},{105:[1,261]},{22:Vt,66:zt,67:Ht,86:Ut,96:262,102:qt,105:Wt,107:243,108:244,109:Gt,110:Kt,111:Yt,112:Xt,113:Zt},{22:Vt,66:zt,67:Ht,86:Ut,96:263,102:qt,105:Wt,107:243,108:244,109:Gt,110:Kt,111:Yt,112:Xt,113:Zt},{26:G,52:K,66:Y,67:X,91:Z,97:264,105:Q,106:J,109:tt,111:et,112:nt,115:100,117:98,122:it,123:rt,124:ot,125:st,126:at,127:ct},t(dt,[2,102]),{84:[1,265]},t(dt,[2,106],{22:[1,266]}),t(dt,[2,107]),t(dt,[2,110]),t(dt,[2,112],{22:[1,267]}),t(dt,[2,113]),t(ut,[2,58]),t(ut,[2,59]),{22:mt,24:bt,26:wt,38:yt,42:vt,52:K,58:[1,268],66:Y,67:X,73:_t,81:kt,83:201,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},t(ut,[2,66]),t(ut,[2,61]),t(ut,[2,62]),t(ut,[2,63]),{66:[1,269]},t(ut,[2,65]),t(ut,[2,67]),{22:mt,24:bt,26:wt,38:yt,42:vt,52:K,66:Y,67:X,72:[1,270],73:_t,81:kt,83:201,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},t(ut,[2,69]),t(ut,[2,70]),t(ut,[2,72]),t(ut,[2,71]),t(ut,[2,73]),t(jt,[2,4]),t([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:mt,24:bt,26:wt,38:yt,41:[1,271],42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:201,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{18:18,19:19,20:a,21:c,22:l,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,42:[1,272],43:31,44:d,46:f,48:g,50:35,51:45,52:p,54:46,66:m,67:b,86:w,87:y,88:v,89:_,90:k,91:x,95:E,105:T,106:C,109:A,111:S,112:I,116:47,118:M,119:P,120:O,121:D,122:N,123:L,124:R,125:B,126:F,127:j},t(lt,[2,56]),t(dt,[2,115],{106:Qt}),t(Jt,[2,125],{108:274,22:Vt,66:zt,67:Ht,86:Ut,102:qt,105:Wt,109:Gt,110:Kt,111:Yt,112:Xt,113:Zt}),t(te,[2,127]),t(te,[2,129]),t(te,[2,130]),t(te,[2,131]),t(te,[2,132]),t(te,[2,133]),t(te,[2,134]),t(te,[2,135]),t(te,[2,136]),t(te,[2,137]),t(te,[2,138]),t(te,[2,139]),t(dt,[2,116],{106:Qt}),t(dt,[2,117],{106:Qt}),{22:[1,275]},t(dt,[2,118],{106:Qt}),{22:[1,276]},t($t,[2,124]),t(dt,[2,98],{106:Qt}),t(dt,[2,99],{106:Qt}),t(dt,[2,100],{115:100,117:178,26:G,52:K,66:Y,67:X,91:Z,105:Q,106:J,109:tt,111:et,112:nt,122:it,123:rt,124:ot,125:st,126:at,127:ct}),t(dt,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:H,21:U,23:q},t(z,[2,42]),{22:Vt,66:zt,67:Ht,86:Ut,102:qt,105:Wt,107:283,108:244,109:Gt,110:Kt,111:Yt,112:Xt,113:Zt},t(te,[2,128]),{26:G,52:K,66:Y,67:X,91:Z,97:284,105:Q,106:J,109:tt,111:et,112:nt,115:100,117:98,122:it,123:rt,124:ot,125:st,126:at,127:ct},{26:G,52:K,66:Y,67:X,91:Z,97:285,105:Q,106:J,109:tt,111:et,112:nt,115:100,117:98,122:it,123:rt,124:ot,125:st,126:at,127:ct},t(dt,[2,108]),t(dt,[2,114]),t(ut,[2,60]),{22:mt,24:bt,26:wt,38:yt,39:286,42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:140,84:xt,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},t(ut,[2,68]),t(Lt,s,{17:287}),t(Jt,[2,126],{108:274,22:Vt,66:zt,67:Ht,86:Ut,102:qt,105:Wt,109:Gt,110:Kt,111:Yt,112:Xt,113:Zt}),t(dt,[2,121],{115:100,117:178,22:[1,288],26:G,52:K,66:Y,67:X,91:Z,105:Q,106:J,109:tt,111:et,112:nt,122:it,123:rt,124:ot,125:st,126:at,127:ct}),t(dt,[2,122],{115:100,117:178,22:[1,289],26:G,52:K,66:Y,67:X,91:Z,105:Q,106:J,109:tt,111:et,112:nt,122:it,123:rt,124:ot,125:st,126:at,127:ct}),{22:mt,24:bt,26:wt,38:yt,41:[1,290],42:vt,52:K,66:Y,67:X,73:_t,81:kt,83:201,85:151,86:Et,87:Tt,88:Ct,89:At,90:St,91:It,92:Mt,94:142,95:Pt,105:Q,106:J,109:Ot,111:et,112:nt,113:Dt,114:Nt,115:148,122:it,123:rt,124:ot,125:st,126:at,127:ct},{18:18,19:19,20:a,21:c,22:l,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,42:[1,291],43:31,44:d,46:f,48:g,50:35,51:45,52:p,54:46,66:m,67:b,86:w,87:y,88:v,89:_,90:k,91:x,95:E,105:T,106:C,109:A,111:S,112:I,116:47,118:M,119:P,120:O,121:D,122:N,123:L,124:R,125:B,126:F,127:j},{22:Vt,66:zt,67:Ht,86:Ut,96:292,102:qt,105:Wt,107:243,108:244,109:Gt,110:Kt,111:Yt,112:Xt,113:Zt},{22:Vt,66:zt,67:Ht,86:Ut,96:293,102:qt,105:Wt,107:243,108:244,109:Gt,110:Kt,111:Yt,112:Xt,113:Zt},t(ut,[2,64]),t(z,[2,41]),t(dt,[2,119],{106:Qt}),t(dt,[2,120],{106:Qt})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",c=0,l=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),g={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(g.yy[p]=this.yy[p]);f.setInput(t,g.yy),g.yy.lexer=f,g.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var b=f.options&&f.options.ranges;function w(){var t;return"number"!=typeof(t=i.pop()||f.lex()||h)&&(t instanceof Array&&(t=(i=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,v,_,k,x,E,T,C,A={};;){if(v=n[n.length-1],this.defaultActions[v]?_=this.defaultActions[v]:(null==y&&(y=w()),_=s[v]&&s[v][y]),void 0===_||!_.length||!_[0]){var S="";for(x in C=[],s[v])this.terminals_[x]&&x>u&&C.push("'"+this.terminals_[x]+"'");S=f.showPosition?"Parse error on line "+(c+1)+":\n"+f.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(c+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[y]||y,line:f.yylineno,loc:m,expected:C})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+y);switch(_[0]){case 1:n.push(y),r.push(f.yytext),o.push(f.yylloc),n.push(_[1]),y=null,l=f.yyleng,a=f.yytext,c=f.yylineno,m=f.yylloc;break;case 2:if(E=this.productions_[_[1]][1],A.$=r[r.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(A,[a,l,c,g.yy,_[1],r,o].concat(d))))return k;E&&(n=n.slice(0,-1*E*2),r=r.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[_[1]][0]),r.push(A.$),o.push(A._$),T=s[n[n.length-2]][n[n.length-1]],n.push(T);break;case 3:return!0}}return!0}},ne={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,i){switch(n){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:case 15:case 24:case 27:case 30:case 33:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 25:return 100;case 26:this.begin("callbackname");break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 31:return 99;case 32:this.begin("click");break;case 34:return 90;case 35:case 36:case 37:return t.lex.firstGraph()&&this.begin("dir"),24;case 38:return 38;case 39:return 42;case 40:case 41:case 42:case 43:return 101;case 44:return this.popState(),25;case 45:case 46:case 47:case 48:case 49:case 50:case 51:case 52:case 53:case 54:return this.popState(),26;case 55:return 118;case 56:return 119;case 57:return 120;case 58:return 121;case 59:return 105;case 60:return 111;case 61:return 53;case 62:return 67;case 63:return 52;case 64:return 20;case 65:return 106;case 66:return 126;case 67:case 68:case 69:return 82;case 70:case 71:case 72:return 81;case 73:return 59;case 74:return 60;case 75:return 61;case 76:return 62;case 77:return 63;case 78:return 64;case 79:return 65;case 80:return 69;case 81:return 70;case 82:return 55;case 83:return 56;case 84:return 109;case 85:return 112;case 86:return 127;case 87:return 124;case 88:return 113;case 89:case 90:return 125;case 91:return 114;case 92:return 73;case 93:return 92;case 94:return"SEP";case 95:return 91;case 96:return 66;case 97:return 75;case 98:return 74;case 99:return 77;case 100:return 76;case 101:return 122;case 102:return 123;case 103:return 68;case 104:return 57;case 105:return 58;case 106:return 40;case 107:return 41;case 108:return 71;case 109:return 72;case 110:return 133;case 111:return 21;case 112:return 22;case 113:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[44,45,46,47,48,49,50,51,52,53,54],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113],inclusive:!0}}};function ie(){this.yy={}}return ee.lexer=ne,ie.prototype=ee,ee.Parser=ie,new ie}();eN.parser=eN;const nN=eN,iN=(t,e)=>{var n,i;return"dagre-wrapper"!==(null==(n=null==e?void 0:e.flowchart)?void 0:n.defaultRenderer)&&"elk"!==(null==(i=null==e?void 0:e.flowchart)?void 0:i.defaultRenderer)&&null!==t.match(/^\s*graph/)},rN=(t,e)=>{var n,i;return"dagre-d3"!==(null==(n=null==e?void 0:e.flowchart)?void 0:n.defaultRenderer)&&"elk"!==(null==(i=null==e?void 0:e.flowchart)?void 0:i.defaultRenderer)&&(null!==t.match(/^\s*graph/)||null!==t.match(/^\s*flowchart/))},oN="flowchart-";let sN,aN,cN=0,lN=xw(),uN={},hN=[],dN={},fN=[],gN={},pN={},mN=0,bN=!0,wN=[];const yN=t=>Jh.sanitizeText(t,lN),vN=function(t,e,n){bH.parseDirective(this,t,e,n)},_N=function(t){const e=Object.keys(uN);for(const n of e)if(uN[n].id===t)return uN[n].domId;return t},kN=function(t,e,n,i,r,o,s={}){let a,c=t;void 0!==c&&0!==c.trim().length&&(void 0===uN[c]&&(uN[c]={id:c,domId:oN+c+"-"+cN,styles:[],classes:[]}),cN++,void 0!==e?(lN=xw(),a=yN(e.trim()),'"'===a[0]&&'"'===a[a.length-1]&&(a=a.substring(1,a.length-1)),uN[c].text=a):void 0===uN[c].text&&(uN[c].text=t),void 0!==n&&(uN[c].type=n),null!=i&&i.forEach((function(t){uN[c].styles.push(t)})),null!=r&&r.forEach((function(t){uN[c].classes.push(t)})),void 0!==o&&(uN[c].dir=o),void 0===uN[c].props?uN[c].props=s:void 0!==s&&Object.assign(uN[c].props,s))},xN=function(t,e,n,i){const r={start:t,end:e,type:void 0,text:""};void 0!==(i=n.text)&&(r.text=yN(i.trim()),'"'===r.text[0]&&'"'===r.text[r.text.length-1]&&(r.text=r.text.substring(1,r.text.length-1))),void 0!==n&&(r.type=n.type,r.stroke=n.stroke,r.length=n.length),hN.push(r)},EN=function(t,e,n,i){let r,o;for(r=0;r<t.length;r++)for(o=0;o<e.length;o++)xN(t[r],e[o],n,i)},TN=function(t,e){t.forEach((function(t){"default"===t?hN.defaultInterpolate=e:hN[t].interpolate=e}))},CN=function(t,e){t.forEach((function(t){"default"===t?hN.defaultStyle=e:(-1===vb.isSubstringInArray("fill",e)&&e.push("fill:none"),hN[t].style=e)}))},AN=function(t,e){void 0===dN[t]&&(dN[t]={id:t,styles:[],textStyles:[]}),null!=e&&e.forEach((function(e){if(e.match("color")){const n=e.replace("fill","bgFill").replace("color","fill");dN[t].textStyles.push(n)}dN[t].styles.push(e)}))},SN=function(t){sN=t,sN.match(/.*</)&&(sN="RL"),sN.match(/.*\^/)&&(sN="BT"),sN.match(/.*>/)&&(sN="LR"),sN.match(/.*v/)&&(sN="TB"),"TD"===sN&&(sN="TB")},IN=function(t,e){t.split(",").forEach((function(t){let n=t;void 0!==uN[n]&&uN[n].classes.push(e),void 0!==gN[n]&&gN[n].classes.push(e)}))},MN=function(t,e){t.split(",").forEach((function(t){void 0!==e&&(pN["gen-1"===aN?_N(t):t]=yN(e))}))},PN=function(t,e,n){let i=_N(t);if("loose"!==xw().securityLevel)return;if(void 0===e)return;let r=[];if("string"==typeof n){r=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let t=0;t<r.length;t++){let e=r[t].trim();'"'===e.charAt(0)&&'"'===e.charAt(e.length-1)&&(e=e.substr(1,e.length-2)),r[t]=e}}0===r.length&&r.push(t),void 0!==uN[t]&&(uN[t].haveCallback=!0,wN.push((function(){const t=document.querySelector(`[id="${i}"]`);null!==t&&t.addEventListener("click",(function(){vb.runFunc(e,...r)}),!1)})))},ON=function(t,e,n){t.split(",").forEach((function(t){void 0!==uN[t]&&(uN[t].link=vb.formatUrl(e,lN),uN[t].linkTarget=n)})),IN(t,"clickable")},DN=function(t){return pN[t]},NN=function(t,e,n){t.split(",").forEach((function(t){PN(t,e,n)})),IN(t,"clickable")},LN=function(t){wN.forEach((function(e){e(t)}))},RN=function(){return sN.trim()},BN=function(){return uN},FN=function(){return hN},jN=function(){return dN},$N=function(t){let e=un(".mermaidTooltip");null===(e._groups||e)[0][0]&&(e=un("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),un(t).select("svg").selectAll("g.node").on("mouseover",(function(){const t=un(this);if(null===t.attr("title"))return;const n=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(t.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),t.classed("hover",!0)})).on("mouseout",(function(){e.transition().duration(500).style("opacity",0),un(this).classed("hover",!1)}))};wN.push($N);const VN=function(t="gen-1"){uN={},dN={},hN=[],wN=[$N],fN=[],gN={},mN=0,pN=[],bN=!0,aN=t,ty()},zN=t=>{aN=t||"gen-2"},HN=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},UN=function(t,e,n){let i=t.trim(),r=n;function o(t){const e={boolean:{},number:{},string:{}},n=[];let i;return{nodeList:t.filter((function(t){const r=typeof t;return t.stmt&&"dir"===t.stmt?(i=t.value,!1):""!==t.trim()&&(r in e?!e[r].hasOwnProperty(t)&&(e[r][t]=!0):!n.includes(t)&&n.push(t))})),dir:i}}t===n&&n.match(/\s/)&&(i=void 0);let s=[];const{nodeList:a,dir:c}=o(s.concat.apply(s,e));if(s=a,"gen-1"===aN)for(let t=0;t<s.length;t++)s[t]=_N(s[t]);i=i||"subGraph"+mN,r=r||"",r=yN(r),mN+=1;const l={id:i,nodes:s,title:r.trim(),classes:[],dir:c};return h.info("Adding",l.id,l.nodes,l.dir),l.nodes=rL(l,fN).nodes,fN.push(l),gN[i]=l,i},qN=function(t){for(const[e,n]of fN.entries())if(n.id===t)return e;return-1};let WN=-1;const GN=[],KN=function(t,e){const n=fN[e].nodes;if(WN+=1,WN>2e3)return;if(GN[WN]=e,fN[e].id===t)return{result:!0,count:0};let i=0,r=1;for(;i<n.length;){const e=qN(n[i]);if(e>=0){const n=KN(t,e);if(n.result)return{result:!0,count:r+n.count};r+=n.count}i+=1}return{result:!1,count:r}},YN=function(t){return GN[t]},XN=function(){WN=-1,fN.length>0&&KN("none",fN.length-1)},ZN=function(){return fN},QN=()=>!!bN&&(bN=!1,!0),JN=t=>{let e=t.trim(),n="arrow_open";switch(e[0]){case"<":n="arrow_point",e=e.slice(1);break;case"x":n="arrow_cross",e=e.slice(1);break;case"o":n="arrow_circle",e=e.slice(1)}let i="normal";return e.includes("=")&&(i="thick"),e.includes(".")&&(i="dotted"),{type:n,stroke:i}},tL=(t,e)=>{const n=e.length;let i=0;for(let r=0;r<n;++r)e[r]===t&&++i;return i},eL=t=>{const e=t.trim();let n=e.slice(0,-1),i="arrow_open";switch(e.slice(-1)){case"x":i="arrow_cross","x"===e[0]&&(i="double_"+i,n=n.slice(1));break;case">":i="arrow_point","<"===e[0]&&(i="double_"+i,n=n.slice(1));break;case"o":i="arrow_circle","o"===e[0]&&(i="double_"+i,n=n.slice(1))}let r="normal",o=n.length-1;"="===n[0]&&(r="thick");let s=tL(".",n);return s&&(r="dotted",o=s),{type:i,stroke:r,length:o}},nL=(t,e)=>{const n=eL(t);let i;if(e){if(i=JN(e),i.stroke!==n.stroke)return{type:"INVALID",stroke:"INVALID"};if("arrow_open"===i.type)i.type=n.type;else{if(i.type!==n.type)return{type:"INVALID",stroke:"INVALID"};i.type="double_"+i.type}return"double_arrow"===i.type&&(i.type="double_arrow_point"),i.length=n.length,i}return n},iL=(t,e)=>{let n=!1;return t.forEach((t=>{t.nodes.indexOf(e)>=0&&(n=!0)})),n},rL=(t,e)=>{const n=[];return t.nodes.forEach(((i,r)=>{iL(e,i)||n.push(t.nodes[r])})),{nodes:n}},oL={firstGraph:QN},sL={parseDirective:vN,defaultConfig:()=>dw.flowchart,setAccTitle:ey,getAccTitle:ny,getAccDescription:ry,setAccDescription:iy,addVertex:kN,lookUpDomId:_N,addLink:EN,updateLinkInterpolate:TN,updateLink:CN,addClass:AN,setDirection:SN,setClass:IN,setTooltip:MN,getTooltip:DN,setClickEvent:NN,setLink:ON,bindFunctions:LN,getDirection:RN,getVertices:BN,getEdges:FN,getClasses:jN,clear:VN,setGen:zN,defaultStyle:HN,addSubGraph:UN,getDepthFirstPos:YN,indexNodes:XN,getSubGraphs:ZN,destructLink:nL,lex:oL,exists:iL,makeUniq:rL,setDiagramTitle:oy,getDiagramTitle:sy},aL=Object.freeze(Object.defineProperty({__proto__:null,addClass:AN,addLink:EN,addSingleLink:xN,addSubGraph:UN,addVertex:kN,bindFunctions:LN,clear:VN,default:sL,defaultStyle:HN,destructLink:nL,firstGraph:QN,getClasses:jN,getDepthFirstPos:YN,getDirection:RN,getEdges:FN,getSubGraphs:ZN,getTooltip:DN,getVertices:BN,indexNodes:XN,lex:oL,lookUpDomId:_N,parseDirective:vN,setClass:IN,setClickEvent:NN,setDirection:SN,setGen:zN,setLink:ON,updateLink:CN,updateLinkInterpolate:TN},Symbol.toStringTag,{value:"Module"}));function cL(t,e){return!!t.children(e).length}function lL(t){return hL(t.v)+":"+hL(t.w)+":"+hL(t.name)}var uL=/:/g;function hL(t){return t?String(t).replace(uL,"\\:"):""}function dL(t,e){e&&t.attr("style",e)}function fL(t,e,n){e&&t.attr("class",e).attr("class",n+" "+t.attr("class"))}function gL(t,e){var n=e.graph();if(BE(n)){var i=n.transition;if(Kp(i))return i(t)}return t}var pL={normal:bL,vee:wL,undirected:yL};function mL(t){pL=t}function bL(t,e,n,i){var r=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");dL(r,n[i+"Style"]),n[i+"Class"]&&r.attr("class",n[i+"Class"])}function wL(t,e,n,i){var r=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");dL(r,n[i+"Style"]),n[i+"Class"]&&r.attr("class",n[i+"Class"])}function yL(t,e,n,i){var r=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");dL(r,n[i+"Style"]),n[i+"Class"]&&r.attr("class",n[i+"Class"])}function vL(t,e){var n=t.append("foreignObject").attr("width","100000"),i=n.append("xhtml:div");i.attr("xmlns","http://www.w3.org/1999/xhtml");var r=e.label;switch(typeof r){case"function":i.insert(r);break;case"object":i.insert((function(){return r}));break;default:i.html(r)}dL(i,e.labelStyle),i.style("display","inline-block"),i.style("white-space","nowrap");var o=i.node().getBoundingClientRect();return n.attr("width",o.width).attr("height",o.height),n}function _L(t,e){var n=t;return n.node().appendChild(e.label),dL(n,e.labelStyle),n}function kL(t,e){for(var n=t.append("text"),i=xL(e.label).split("\n"),r=0;r<i.length;r++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(i[r]);return dL(n,e.labelStyle),n}function xL(t){for(var e,n="",i=!1,r=0;r<t.length;++r)e=t[r],i?(n+="n"===e?"\n":e,i=!1):"\\"===e?i=!0:n+=e;return n}function EL(t,e,n){var i=e.label,r=t.append("g");"svg"===e.labelType?_L(r,e):"string"!=typeof i||"html"===e.labelType?vL(r,e):kL(r,e);var o,s=r.node().getBBox();switch(n){case"top":o=-e.height/2;break;case"bottom":o=e.height/2-s.height;break;default:o=-s.height/2}return r.attr("transform","translate("+-s.width/2+","+o+")"),r}var TL=function(t,e){var n=e.nodes().filter((function(t){return cL(e,t)})),i=t.selectAll("g.cluster").data(n,(function(t){return t}));gL(i.exit(),e).style("opacity",0).remove();var r=i.enter().append("g").attr("class","cluster").attr("id",(function(t){return e.node(t).id})).style("opacity",0).each((function(t){var n=e.node(t),i=un(this);un(this).append("rect"),EL(i.append("g").attr("class","label"),n,n.clusterLabelPos)}));return(i=gL(i=i.merge(r),e).style("opacity",1)).selectAll("rect").each((function(t){var n=e.node(t);dL(un(this),n.style)})),i};function CL(t){TL=t}let AL=function(t,e){var n=t.selectAll("g.edgeLabel").data(e.edges(),(function(t){return lL(t)})).classed("update",!0);return n.exit().remove(),n.enter().append("g").classed("edgeLabel",!0).style("opacity",0),(n=t.selectAll("g.edgeLabel")).each((function(t){var n=un(this);n.select(".label").remove();var i=e.edge(t),r=EL(n,e.edge(t),0).classed("label",!0),o=r.node().getBBox();i.labelId&&r.attr("id",i.labelId),TS(i,"width")||(i.width=o.width),TS(i,"height")||(i.height=o.height)})),gL(n.exit?n.exit():n.selectAll(null),e).style("opacity",0).remove(),n};function SL(t){AL=t}function IL(t,e){return t.intersect(e)}var ML=function(t,e,n){var i=t.selectAll("g.edgePath").data(e.edges(),(function(t){return lL(t)})).classed("update",!0),r=RL(i,e);BL(i,e);var o=void 0!==i.merge?i.merge(r):i;return gL(o,e).style("opacity",1),o.each((function(t){var n=un(this),i=e.edge(t);i.elem=this,i.id&&n.attr("id",i.id),fL(n,i.class,(n.classed("update")?"update ":"")+"edgePath")})),o.selectAll("path.path").each((function(t){var n=e.edge(t);n.arrowheadId=cI("arrowhead");var i=un(this).attr("marker-end",(function(){return"url("+OL(location.href,n.arrowheadId)+")"})).style("fill","none");gL(i,e).attr("d",(function(t){return DL(e,t)})),dL(i,n.style)})),o.selectAll("defs *").remove(),o.selectAll("defs").each((function(t){var i=e.edge(t);(0,n[i.arrowhead])(un(this),i.arrowheadId,i,"arrowhead")})),o};function PL(t){ML=t}function OL(t,e){return t.split("#")[0]+"#"+e}function DL(t,e){var n=t.edge(e),i=t.node(e.v),r=t.node(e.w),o=n.points.slice(1,n.points.length-1);return o.unshift(IL(i,o[0])),o.push(IL(r,o[o.length-1])),NL(n,o)}function NL(t,e){var n=($l||Zo.line)().x((function(t){return t.x})).y((function(t){return t.y}));return(n.curve||n.interpolate)(t.curve),n(e)}function LL(t){var e=t.getBBox(),n=t.ownerSVGElement.getScreenCTM().inverse().multiply(t.getScreenCTM()).translate(e.width/2,e.height/2);return{x:n.e,y:n.f}}function RL(t,e){var n=t.enter().append("g").attr("class","edgePath").style("opacity",0);return n.append("path").attr("class","path").attr("d",(function(t){var n=e.edge(t),i=e.node(t.v).elem;return NL(n,QS(n.points.length).map((function(){return LL(i)})))})),n.append("defs"),n}function BL(t,e){gL(t.exit(),e).style("opacity",0).remove()}var FL=function(t,e,n){var i=e.nodes().filter((function(t){return!cL(e,t)})),r=t.selectAll("g.node").data(i,(function(t){return t})).classed("update",!0);return r.exit().remove(),r.enter().append("g").attr("class","node").style("opacity",0),(r=t.selectAll("g.node")).each((function(t){var i=e.node(t),r=un(this);fL(r,i.class,(r.classed("update")?"update ":"")+"node"),r.select("g.label").remove();var o=r.append("g").attr("class","label"),s=EL(o,i),a=n[i.shape],c=GS(s.node().getBBox(),"width","height");i.elem=this,i.id&&r.attr("id",i.id),i.labelId&&o.attr("id",i.labelId),TS(i,"width")&&(c.width=i.width),TS(i,"height")&&(c.height=i.height),c.width+=i.paddingLeft+i.paddingRight,c.height+=i.paddingTop+i.paddingBottom,o.attr("transform","translate("+(i.paddingLeft-i.paddingRight)/2+","+(i.paddingTop-i.paddingBottom)/2+")");var l=un(this);l.select(".label-container").remove();var u=a(l,c,i).classed("label-container",!0);dL(u,i.style);var h=u.node().getBBox();i.width=h.width,i.height=h.height})),gL(r.exit?r.exit():r.selectAll(null),e).style("opacity",0).remove(),r};function jL(t){FL=t}function $L(t,e){var n=t.filter((function(){return!un(this).classed("update")}));function i(t){var n=e.node(t);return"translate("+n.x+","+n.y+")"}n.attr("transform",i),gL(t,e).style("opacity",1).attr("transform",i),gL(n.selectAll("rect"),e).attr("width",(function(t){return e.node(t).width})).attr("height",(function(t){return e.node(t).height})).attr("x",(function(t){return-e.node(t).width/2})).attr("y",(function(t){return-e.node(t).height/2}))}function VL(t,e){function n(t){var n=e.edge(t);return TS(n,"x")?"translate("+n.x+","+n.y+")":""}t.filter((function(){return!un(this).classed("update")})).attr("transform",n),gL(t,e).style("opacity",1).attr("transform",n)}function zL(t,e){function n(t){var n=e.node(t);return"translate("+n.x+","+n.y+")"}t.filter((function(){return!un(this).classed("update")})).attr("transform",n),gL(t,e).style("opacity",1).attr("transform",n)}function HL(t,e,n,i){var r=t.x,o=t.y,s=r-i.x,a=o-i.y,c=Math.sqrt(e*e*a*a+n*n*s*s),l=Math.abs(e*n*s/c);i.x<r&&(l=-l);var u=Math.abs(e*n*a/c);return i.y<o&&(u=-u),{x:r+l,y:o+u}}function UL(t,e,n){return HL(t,e,e,n)}function qL(t,e,n,i){var r,o,s,a,c,l,u,h,d,f,g,p,m;if(r=e.y-t.y,s=t.x-e.x,c=e.x*t.y-t.x*e.y,d=r*n.x+s*n.y+c,f=r*i.x+s*i.y+c,!(0!==d&&0!==f&&WL(d,f)||(o=i.y-n.y,a=n.x-i.x,l=i.x*n.y-n.x*i.y,u=o*t.x+a*t.y+l,h=o*e.x+a*e.y+l,0!==u&&0!==h&&WL(u,h)||0==(g=r*a-o*s))))return p=Math.abs(g/2),{x:(m=s*l-a*c)<0?(m-p)/g:(m+p)/g,y:(m=o*c-r*l)<0?(m-p)/g:(m+p)/g}}function WL(t,e){return t*e>0}function GL(t,e,n){var i=t.x,r=t.y,o=[],s=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;e.forEach((function(t){s=Math.min(s,t.x),a=Math.min(a,t.y)}));for(var c=i-t.width/2-s,l=r-t.height/2-a,u=0;u<e.length;u++){var h=e[u],d=e[u<e.length-1?u+1:0],f=qL(t,n,{x:c+h.x,y:l+h.y},{x:c+d.x,y:l+d.y});f&&o.push(f)}return o.length?(o.length>1&&o.sort((function(t,e){var i=t.x-n.x,r=t.y-n.y,o=Math.sqrt(i*i+r*r),s=e.x-n.x,a=e.y-n.y,c=Math.sqrt(s*s+a*a);return o<c?-1:o===c?0:1})),o[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",t),t)}function KL(t,e){var n,i,r=t.x,o=t.y,s=e.x-r,a=e.y-o,c=t.width/2,l=t.height/2;return Math.abs(a)*c>Math.abs(s)*l?(a<0&&(l=-l),n=0===a?0:l*s/a,i=l):(s<0&&(c=-c),n=c,i=0===s?0:c*a/s),{x:r+n,y:o+i}}var YL={rect:ZL,ellipse:QL,circle:JL,diamond:tR};function XL(t){YL=t}function ZL(t,e,n){var i=t.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return n.intersect=function(t){return KL(n,t)},i}function QL(t,e,n){var i=e.width/2,r=e.height/2,o=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",i).attr("ry",r);return n.intersect=function(t){return HL(n,i,r,t)},o}function JL(t,e,n){var i=Math.max(e.width,e.height)/2,r=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",i);return n.intersect=function(t){return UL(n,i,t)},r}function tR(t,e,n){var i=e.width*Math.SQRT2/2,r=e.height*Math.SQRT2/2,o=[{x:0,y:-r},{x:-i,y:0},{x:0,y:r},{x:i,y:0}],s=t.insert("polygon",":first-child").attr("points",o.map((function(t){return t.x+","+t.y})).join(" "));return n.intersect=function(t){return GL(n,o,t)},s}function eR(){var t=function(t,e){rR(e);var n=sR(t,"output"),i=sR(n,"clusters"),r=sR(n,"edgePaths"),o=AL(sR(n,"edgeLabels"),e),s=FL(sR(n,"nodes"),e,YL);vP(e),zL(s,e),VL(o,e),ML(r,e,pL),$L(TL(i,e),e),oR(e)};return t.createNodes=function(e){return arguments.length?(jL(e),t):FL},t.createClusters=function(e){return arguments.length?(CL(e),t):TL},t.createEdgeLabels=function(e){return arguments.length?(SL(e),t):AL},t.createEdgePaths=function(e){return arguments.length?(PL(e),t):ML},t.shapes=function(e){return arguments.length?(XL(e),t):YL},t.arrows=function(e){return arguments.length?(mL(e),t):pL},t}var nR={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},iR={arrowhead:"normal",curve:Bl};function rR(t){t.nodes().forEach((function(e){var n=t.node(e);TS(n,"label")||t.children(e).length||(n.label=e),TS(n,"paddingX")&&nS(n,{paddingLeft:n.paddingX,paddingRight:n.paddingX}),TS(n,"paddingY")&&nS(n,{paddingTop:n.paddingY,paddingBottom:n.paddingY}),TS(n,"padding")&&nS(n,{paddingLeft:n.padding,paddingRight:n.padding,paddingTop:n.padding,paddingBottom:n.padding}),nS(n,nR),dS(["paddingLeft","paddingRight","paddingTop","paddingBottom"],(function(t){n[t]=Number(n[t])})),TS(n,"width")&&(n._prevWidth=n.width),TS(n,"height")&&(n._prevHeight=n.height)})),t.edges().forEach((function(e){var n=t.edge(e);TS(n,"label")||(n.label=""),nS(n,iR)}))}function oR(t){dS(t.nodes(),(function(e){var n=t.node(e);TS(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,TS(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight}))}function sR(t,e){var n=t.select("g."+e);return n.empty()&&(n=t.append("g").attr("class",e)),n}function aR(t,e,n){const i=.9*(e.width+e.height),r=[{x:i/2,y:0},{x:i,y:-i/2},{x:i/2,y:-i},{x:0,y:-i/2}],o=vR(t,i,i,r);return n.intersect=function(t){return GL(n,r,t)},o}function cR(t,e,n){const i=4,r=e.height,o=r/i,s=e.width+2*o,a=[{x:o,y:0},{x:s-o,y:0},{x:s,y:-r/2},{x:s-o,y:-r},{x:o,y:-r},{x:0,y:-r/2}],c=vR(t,s,r,a);return n.intersect=function(t){return GL(n,a,t)},c}function lR(t,e,n){const i=e.width,r=e.height,o=[{x:-r/2,y:0},{x:i,y:0},{x:i,y:-r},{x:-r/2,y:-r},{x:0,y:-r/2}],s=vR(t,i,r,o);return n.intersect=function(t){return GL(n,o,t)},s}function uR(t,e,n){const i=e.width,r=e.height,o=[{x:-2*r/6,y:0},{x:i-r/6,y:0},{x:i+2*r/6,y:-r},{x:r/6,y:-r}],s=vR(t,i,r,o);return n.intersect=function(t){return GL(n,o,t)},s}function hR(t,e,n){const i=e.width,r=e.height,o=[{x:2*r/6,y:0},{x:i+r/6,y:0},{x:i-2*r/6,y:-r},{x:-r/6,y:-r}],s=vR(t,i,r,o);return n.intersect=function(t){return GL(n,o,t)},s}function dR(t,e,n){const i=e.width,r=e.height,o=[{x:-2*r/6,y:0},{x:i+2*r/6,y:0},{x:i-r/6,y:-r},{x:r/6,y:-r}],s=vR(t,i,r,o);return n.intersect=function(t){return GL(n,o,t)},s}function fR(t,e,n){const i=e.width,r=e.height,o=[{x:r/6,y:0},{x:i-r/6,y:0},{x:i+2*r/6,y:-r},{x:-2*r/6,y:-r}],s=vR(t,i,r,o);return n.intersect=function(t){return GL(n,o,t)},s}function gR(t,e,n){const i=e.width,r=e.height,o=[{x:0,y:0},{x:i+r/2,y:0},{x:i,y:-r/2},{x:i+r/2,y:-r},{x:0,y:-r}],s=vR(t,i,r,o);return n.intersect=function(t){return GL(n,o,t)},s}function pR(t,e,n){const i=e.height,r=e.width+i/4,o=t.insert("rect",":first-child").attr("rx",i/2).attr("ry",i/2).attr("x",-r/2).attr("y",-i/2).attr("width",r).attr("height",i);return n.intersect=function(t){return KL(n,t)},o}function mR(t,e,n){const i=e.width,r=e.height,o=[{x:0,y:0},{x:i,y:0},{x:i,y:-r},{x:0,y:-r},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-r},{x:-8,y:-r},{x:-8,y:0}],s=vR(t,i,r,o);return n.intersect=function(t){return GL(n,o,t)},s}function bR(t,e,n){const i=e.width,r=i/2,o=r/(2.5+i/50),s=e.height+o,a="M 0,"+o+" a "+r+","+o+" 0,0,0 "+i+" 0 a "+r+","+o+" 0,0,0 "+-i+" 0 l 0,"+s+" a "+r+","+o+" 0,0,0 "+i+" 0 l 0,"+-s,c=t.attr("label-offset-y",o).insert("path",":first-child").attr("d",a).attr("transform","translate("+-i/2+","+-(s/2+o)+")");return n.intersect=function(t){const e=KL(n,t),i=e.x-n.x;if(0!=r&&(Math.abs(i)<n.width/2||Math.abs(i)==n.width/2&&Math.abs(e.y-n.y)>n.height/2-o)){let s=o*o*(1-i*i/(r*r));0!=s&&(s=Math.sqrt(s)),s=o-s,t.y-n.y>0&&(s=-s),e.y+=s}return e},c}function wR(t){t.shapes().question=aR,t.shapes().hexagon=cR,t.shapes().stadium=pR,t.shapes().subroutine=mR,t.shapes().cylinder=bR,t.shapes().rect_left_inv_arrow=lR,t.shapes().lean_right=uR,t.shapes().lean_left=hR,t.shapes().trapezoid=dR,t.shapes().inv_trapezoid=fR,t.shapes().rect_right_inv_arrow=gR}function yR(t){t({question:aR}),t({hexagon:cR}),t({stadium:pR}),t({subroutine:mR}),t({cylinder:bR}),t({rect_left_inv_arrow:lR}),t({lean_right:uR}),t({lean_left:hR}),t({trapezoid:dR}),t({inv_trapezoid:fR}),t({rect_right_inv_arrow:gR})}function vR(t,e,n,i){return t.insert("polygon",":first-child").attr("points",i.map((function(t){return t.x+","+t.y})).join(" ")).attr("transform","translate("+-e/2+","+n/2+")")}const _R={addToRender:wR,addToRenderV2:yR},kR={},xR=function(t,e,n,i,r,o){const s=i?i.select(`[id="${n}"]`):un(`[id="${n}"]`),a=r||document;Object.keys(t).forEach((function(n){const i=t[n];let r="default";i.classes.length>0&&(r=i.classes.join(" "));const c=nb(i.styles);let l,u=void 0!==i.text?i.text:i.id;if(Zh(xw().flowchart.htmlLabels)){const t={label:u.replace(/fa[blrs]?:fa-[\w-]+/g,(t=>`<i class='${t.replace(":"," ")}'></i>`))};l=vL(s,t).node(),l.parentNode.removeChild(l)}else{const t=a.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("style",c.labelStyle.replace("color:","fill:"));const e=u.split(Jh.lineBreakRegex);for(const n of e){const e=a.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","1"),e.textContent=n,t.appendChild(e)}l=t}let d=0,f="";switch(i.type){case"round":d=5,f="rect";break;case"square":case"group":default:f="rect";break;case"diamond":f="question";break;case"hexagon":f="hexagon";break;case"odd":case"odd_right":f="rect_left_inv_arrow";break;case"lean_right":f="lean_right";break;case"lean_left":f="lean_left";break;case"trapezoid":f="trapezoid";break;case"inv_trapezoid":f="inv_trapezoid";break;case"circle":f="circle";break;case"ellipse":f="ellipse";break;case"stadium":f="stadium";break;case"subroutine":f="subroutine";break;case"cylinder":f="cylinder"}h.warn("Adding node",i.id,i.domId),e.setNode(o.db.lookUpDomId(i.id),{labelType:"svg",labelStyle:c.labelStyle,shape:f,label:l,rx:d,ry:d,class:r,style:c.style,id:o.db.lookUpDomId(i.id)})}))},ER=function(t,e,n){let i,r,o=0;if(void 0!==t.defaultStyle){const e=nb(t.defaultStyle);i=e.style,r=e.labelStyle}t.forEach((function(s){o++;var a="L-"+s.start+"-"+s.end,c="LS-"+s.start,l="LE-"+s.end;const u={};"arrow_open"===s.type?u.arrowhead="none":u.arrowhead="normal";let h="",d="";if(void 0!==s.style){const t=nb(s.style);h=t.style,d=t.labelStyle}else switch(s.stroke){case"normal":h="fill:none",void 0!==i&&(h=i),void 0!==r&&(d=r);break;case"dotted":h="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":h=" stroke-width: 3.5px;fill:none"}u.style=h,u.labelStyle=d,void 0!==s.interpolate?u.curve=Km(s.interpolate,Bl):void 0!==t.defaultInterpolate?u.curve=Km(t.defaultInterpolate,Bl):u.curve=Km(kR.curve,Bl),void 0===s.text?void 0!==s.style&&(u.arrowheadStyle="fill: #333"):(u.arrowheadStyle="fill: #333",u.labelpos="c",Zh(xw().flowchart.htmlLabels)?(u.labelType="html",u.label=`<span id="L-${a}" class="edgeLabel L-${c}' L-${l}" style="${u.labelStyle}">${s.text.replace(/fa[blrs]?:fa-[\w-]+/g,(t=>`<i class='${t.replace(":"," ")}'></i>`))}</span>`):(u.labelType="text",u.label=s.text.replace(Jh.lineBreakRegex,"\n"),void 0===s.style&&(u.style=u.style||"stroke: #333; stroke-width: 1.5px;fill:none"),u.labelStyle=u.labelStyle.replace("color:","fill:"))),u.id=a,u.class=c+" "+l,u.minlen=s.length||1,e.setEdge(n.db.lookUpDomId(s.start),n.db.lookUpDomId(s.end),u,o)}))},TR=function(t,e,n,i){h.info("Drawing flowchart"),i.db.clear();const{securityLevel:r,flowchart:o}=xw();let s;"sandbox"===r&&(s=un("#i"+e));const a=un("sandbox"===r?s.nodes()[0].contentDocument.body:"body"),c="sandbox"===r?s.nodes()[0].contentDocument:document;try{i.parser.parse(t)}catch(t){h.debug("Parsing failed")}let l=i.db.getDirection();void 0===l&&(l="TD");const u=o.nodeSpacing||50,d=o.rankSpacing||50,f=new gI({multigraph:!0,compound:!0}).setGraph({rankdir:l,nodesep:u,ranksep:d,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));let g;const p=i.db.getSubGraphs();for(let t=p.length-1;t>=0;t--)g=p[t],i.db.addVertex(g.id,g.title,"group",void 0,g.classes);const m=i.db.getVertices();h.warn("Get vertices",m);const b=i.db.getEdges();let w=0;for(w=p.length-1;w>=0;w--){g=p[w],hn("cluster").append("text");for(let t=0;t<g.nodes.length;t++)h.warn("Setting subgraph",g.nodes[t],i.db.lookUpDomId(g.nodes[t]),i.db.lookUpDomId(g.id)),f.setParent(i.db.lookUpDomId(g.nodes[t]),i.db.lookUpDomId(g.id))}xR(m,f,e,a,c,i),ER(b,f,i);const y=new eR;_R.addToRender(y),y.arrows().none=function(t,e,n,i){dL(t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z"),n[i+"Style"])},y.arrows().normal=function(t,e){t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};const v=a.select(`[id="${e}"]`),_=a.select("#"+e+" g");for(y(_,f),_.selectAll("g.node").attr("title",(function(){return i.db.getTooltip(this.id)})),i.db.indexNodes("subGraph"+w),w=0;w<p.length;w++)if(g=p[w],"undefined"!==g.title){const t=c.querySelectorAll("#"+e+' [id="'+i.db.lookUpDomId(g.id)+'"] rect'),n=c.querySelectorAll("#"+e+' [id="'+i.db.lookUpDomId(g.id)+'"]'),r=t[0].x.baseVal.value,o=t[0].y.baseVal.value,s=t[0].width.baseVal.value,a=un(n[0]).select(".label");a.attr("transform",`translate(${r+s/2}, ${o+14})`),a.attr("id",e+"Text");for(let t=0;t<g.classes.length;t++)n[0].classList.add(g.classes[t])}if(!o.htmlLabels){const t=c.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const e of t){const t=e.getBBox(),n=c.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("rx",0),n.setAttribute("ry",0),n.setAttribute("width",t.width),n.setAttribute("height",t.height),e.insertBefore(n,e.firstChild)}}Nw(f,v,o.diagramPadding,o.useMaxWidth),Object.keys(m).forEach((function(t){const n=m[t];if(n.link){const o=a.select("#"+e+' [id="'+i.db.lookUpDomId(t)+'"]');if(o){const t=c.createElementNS("http://www.w3.org/2000/svg","a");t.setAttributeNS("http://www.w3.org/2000/svg","class",n.classes.join(" ")),t.setAttributeNS("http://www.w3.org/2000/svg","href",n.link),t.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===r?t.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):n.linkTarget&&t.setAttributeNS("http://www.w3.org/2000/svg","target",n.linkTarget);const e=o.insert((function(){return t}),":first-child"),i=o.select(".label-container");i&&e.append((function(){return i.node()}));const s=o.select(".label");s&&e.append((function(){return s.node()}))}}}))},CR={setConf:function(t){const e=Object.keys(t);for(const n of e)kR[n]=t[n]},addVertices:xR,addEdges:ER,getClasses:function(t,e){h.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch(t){return h.error(t),{}}},draw:TR},AR={},SR=function(t,e,n,i,r,o){const s=i.select(`[id="${n}"]`);Object.keys(t).forEach((function(n){const i=t[n];let a="default";i.classes.length>0&&(a=i.classes.join(" "));const c=nb(i.styles);let l,u=void 0!==i.text?i.text:i.id;if(Zh(xw().flowchart.htmlLabels)){const t={label:u.replace(/fa[blrs]?:fa-[\w-]+/g,(t=>`<i class='${t.replace(":"," ")}'></i>`))};l=vL(s,t).node(),l.parentNode.removeChild(l)}else{const t=r.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("style",c.labelStyle.replace("color:","fill:"));const e=u.split(Jh.lineBreakRegex);for(const n of e){const e=r.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","1"),e.textContent=n,t.appendChild(e)}l=t}let d=0,f="";switch(i.type){case"round":d=5,f="rect";break;case"square":case"group":default:f="rect";break;case"diamond":f="question";break;case"hexagon":f="hexagon";break;case"odd":case"odd_right":f="rect_left_inv_arrow";break;case"lean_right":f="lean_right";break;case"lean_left":f="lean_left";break;case"trapezoid":f="trapezoid";break;case"inv_trapezoid":f="inv_trapezoid";break;case"circle":f="circle";break;case"ellipse":f="ellipse";break;case"stadium":f="stadium";break;case"subroutine":f="subroutine";break;case"cylinder":f="cylinder";break;case"doublecircle":f="doublecircle"}e.setNode(i.id,{labelStyle:c.labelStyle,shape:f,labelText:u,rx:d,ry:d,class:a,style:c.style,id:i.id,link:i.link,linkTarget:i.linkTarget,tooltip:o.db.getTooltip(i.id)||"",domId:o.db.lookUpDomId(i.id),haveCallback:i.haveCallback,width:"group"===i.type?500:void 0,dir:i.dir,type:i.type,props:i.props,padding:xw().flowchart.padding}),h.info("setNode",{labelStyle:c.labelStyle,shape:f,labelText:u,rx:d,ry:d,class:a,style:c.style,id:i.id,domId:o.db.lookUpDomId(i.id),width:"group"===i.type?500:void 0,type:i.type,dir:i.dir,props:i.props,padding:xw().flowchart.padding})}))},IR=function(t,e,n){h.info("abc78 edges = ",t);let i,r,o=0,s={};if(void 0!==t.defaultStyle){const e=nb(t.defaultStyle);i=e.style,r=e.labelStyle}t.forEach((function(n){o++;var a="L-"+n.start+"-"+n.end;void 0===s[a]?(s[a]=0,h.info("abc78 new entry",a,s[a])):(s[a]++,h.info("abc78 new entry",a,s[a]));let c=a+"-"+s[a];h.info("abc78 new link id to be used is",a,c,s[a]);var l="LS-"+n.start,u="LE-"+n.end;const d={style:"",labelStyle:""};switch(d.minlen=n.length||1,"arrow_open"===n.type?d.arrowhead="none":d.arrowhead="normal",d.arrowTypeStart="arrow_open",d.arrowTypeEnd="arrow_open",n.type){case"double_arrow_cross":d.arrowTypeStart="arrow_cross";case"arrow_cross":d.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":d.arrowTypeStart="arrow_point";case"arrow_point":d.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":d.arrowTypeStart="arrow_circle";case"arrow_circle":d.arrowTypeEnd="arrow_circle"}let f="",g="";switch(n.stroke){case"normal":f="fill:none;",void 0!==i&&(f=i),void 0!==r&&(g=r),d.thickness="normal",d.pattern="solid";break;case"dotted":d.thickness="normal",d.pattern="dotted",d.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":d.thickness="thick",d.pattern="solid",d.style="stroke-width: 3.5px;fill:none;"}if(void 0!==n.style){const t=nb(n.style);f=t.style,g=t.labelStyle}d.style=d.style+=f,d.labelStyle=d.labelStyle+=g,void 0!==n.interpolate?d.curve=Km(n.interpolate,Bl):void 0!==t.defaultInterpolate?d.curve=Km(t.defaultInterpolate,Bl):d.curve=Km(AR.curve,Bl),void 0===n.text?void 0!==n.style&&(d.arrowheadStyle="fill: #333"):(d.arrowheadStyle="fill: #333",d.labelpos="c"),d.labelType="text",d.label=n.text.replace(Jh.lineBreakRegex,"\n"),void 0===n.style&&(d.style=d.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),d.labelStyle=d.labelStyle.replace("color:","fill:"),d.id=c,d.classes="flowchart-link "+l+" "+u,e.setEdge(n.start,n.end,d,o)}))},MR=function(t,e,n,i){h.info("Drawing flowchart"),i.db.clear(),sL.setGen("gen-2"),i.parser.parse(t);let r=i.db.getDirection();void 0===r&&(r="TD");const{securityLevel:o,flowchart:s}=xw(),a=s.nodeSpacing||50,c=s.rankSpacing||50;let l;"sandbox"===o&&(l=un("#i"+e));const u=un("sandbox"===o?l.nodes()[0].contentDocument.body:"body"),d="sandbox"===o?l.nodes()[0].contentDocument:document,f=new gI({multigraph:!0,compound:!0}).setGraph({rankdir:r,nodesep:a,ranksep:c,marginx:0,marginy:0}).setDefaultEdgeLabel((function(){return{}}));let g;const p=i.db.getSubGraphs();h.info("Subgraphs - ",p);for(let t=p.length-1;t>=0;t--)g=p[t],h.info("Subgraph - ",g),i.db.addVertex(g.id,g.title,"group",void 0,g.classes,g.dir);const m=i.db.getVertices(),b=i.db.getEdges();h.info("Edges",b);let w=0;for(w=p.length-1;w>=0;w--){g=p[w],hn("cluster").append("text");for(let t=0;t<g.nodes.length;t++)h.info("Setting up subgraphs",g.nodes[t],g.id),f.setParent(g.nodes[t],g.id)}SR(m,f,e,u,d,i),IR(b,f);const y=u.select(`[id="${e}"]`),v=u.select("#"+e+" g");if(uD(v,f,["point","circle","cross"],"flowchart",e),vb.insertTitle(y,"flowchartTitleText",s.titleTopMargin,i.db.getDiagramTitle()),Nw(f,y,s.diagramPadding,s.useMaxWidth),i.db.indexNodes("subGraph"+w),!s.htmlLabels){const t=d.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const e of t){const t=e.getBBox(),n=d.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("rx",0),n.setAttribute("ry",0),n.setAttribute("width",t.width),n.setAttribute("height",t.height),e.insertBefore(n,e.firstChild)}}Object.keys(m).forEach((function(t){const n=m[t];if(n.link){const i=un("#"+e+' [id="'+t+'"]');if(i){const t=d.createElementNS("http://www.w3.org/2000/svg","a");t.setAttributeNS("http://www.w3.org/2000/svg","class",n.classes.join(" ")),t.setAttributeNS("http://www.w3.org/2000/svg","href",n.link),t.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===o?t.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):n.linkTarget&&t.setAttributeNS("http://www.w3.org/2000/svg","target",n.linkTarget);const e=i.insert((function(){return t}),":first-child"),r=i.select(".label-container");r&&e.append((function(){return r.node()}));const s=i.select(".label");s&&e.append((function(){return s.node()}))}}}))},PR={setConf:function(t){const e=Object.keys(t);for(const n of e)AR[n]=t[n]},addVertices:SR,addEdges:IR,getClasses:function(t,e){h.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch(t){return}},draw:MR};var OR=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[1,3],n=[1,5],i=[7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],r=[1,15],o=[1,16],s=[1,17],a=[1,18],c=[1,19],l=[1,20],u=[1,21],h=[1,22],d=[1,23],f=[1,24],g=[1,25],p=[1,26],m=[1,27],b=[1,29],w=[1,31],y=[1,34],v=[5,7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],_={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,tickInterval:16,excludes:17,includes:18,todayMarker:19,title:20,acc_title:21,acc_title_value:22,acc_descr:23,acc_descr_value:24,acc_descr_multiline_value:25,section:26,clickStatement:27,taskTxt:28,taskData:29,openDirective:30,typeDirective:31,closeDirective:32,":":33,argDirective:34,click:35,callbackname:36,callbackargs:37,href:38,clickStatementDebug:39,open_directive:40,type_directive:41,arg_directive:42,close_directive:43,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"tickInterval",17:"excludes",18:"includes",19:"todayMarker",20:"title",21:"acc_title",22:"acc_title_value",23:"acc_descr",24:"acc_descr_value",25:"acc_descr_multiline_value",26:"section",28:"taskTxt",29:"taskData",33:":",35:"click",36:"callbackname",37:"callbackargs",38:"href",40:"open_directive",41:"type_directive",42:"arg_directive",43:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[27,2],[27,3],[27,3],[27,4],[27,3],[27,4],[27,2],[39,2],[39,3],[39,3],[39,4],[39,3],[39,4],[39,2],[30,1],[31,1],[34,1],[32,1]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 2:return o[a-1];case 3:case 7:case 8:this.$=[];break;case 4:o[a-1].push(o[a]),this.$=o[a-1];break;case 5:case 6:this.$=o[a];break;case 9:i.setDateFormat(o[a].substr(11)),this.$=o[a].substr(11);break;case 10:i.enableInclusiveEndDates(),this.$=o[a].substr(18);break;case 11:i.TopAxis(),this.$=o[a].substr(8);break;case 12:i.setAxisFormat(o[a].substr(11)),this.$=o[a].substr(11);break;case 13:i.setTickInterval(o[a].substr(13)),this.$=o[a].substr(13);break;case 14:i.setExcludes(o[a].substr(9)),this.$=o[a].substr(9);break;case 15:i.setIncludes(o[a].substr(9)),this.$=o[a].substr(9);break;case 16:i.setTodayMarker(o[a].substr(12)),this.$=o[a].substr(12);break;case 17:i.setDiagramTitle(o[a].substr(6)),this.$=o[a].substr(6);break;case 18:this.$=o[a].trim(),i.setAccTitle(this.$);break;case 19:case 20:this.$=o[a].trim(),i.setAccDescription(this.$);break;case 21:i.addSection(o[a].substr(8)),this.$=o[a].substr(8);break;case 23:i.addTask(o[a-1],o[a]),this.$="task";break;case 27:this.$=o[a-1],i.setClickEvent(o[a-1],o[a],null);break;case 28:this.$=o[a-2],i.setClickEvent(o[a-2],o[a-1],o[a]);break;case 29:this.$=o[a-2],i.setClickEvent(o[a-2],o[a-1],null),i.setLink(o[a-2],o[a]);break;case 30:this.$=o[a-3],i.setClickEvent(o[a-3],o[a-2],o[a-1]),i.setLink(o[a-3],o[a]);break;case 31:this.$=o[a-2],i.setClickEvent(o[a-2],o[a],null),i.setLink(o[a-2],o[a-1]);break;case 32:this.$=o[a-3],i.setClickEvent(o[a-3],o[a-1],o[a]),i.setLink(o[a-3],o[a-2]);break;case 33:this.$=o[a-1],i.setLink(o[a-1],o[a]);break;case 34:case 40:this.$=o[a-1]+" "+o[a];break;case 35:case 36:case 38:this.$=o[a-2]+" "+o[a-1]+" "+o[a];break;case 37:case 39:this.$=o[a-3]+" "+o[a-2]+" "+o[a-1]+" "+o[a];break;case 41:i.parseDirective("%%{","open_directive");break;case 42:i.parseDirective(o[a],"type_directive");break;case 43:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 44:i.parseDirective("}%%","close_directive","gantt")}},table:[{3:1,4:2,5:e,30:4,40:n},{1:[3]},{3:6,4:2,5:e,30:4,40:n},t(i,[2,3],{6:7}),{31:8,41:[1,9]},{41:[2,41]},{1:[2,1]},{4:30,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:r,13:o,14:s,15:a,16:c,17:l,18:u,19:h,20:d,21:f,23:g,25:p,26:m,27:28,28:b,30:4,35:w,40:n},{32:32,33:[1,33],43:y},t([33,43],[2,42]),t(i,[2,8],{1:[2,2]}),t(i,[2,4]),{4:30,10:35,12:r,13:o,14:s,15:a,16:c,17:l,18:u,19:h,20:d,21:f,23:g,25:p,26:m,27:28,28:b,30:4,35:w,40:n},t(i,[2,6]),t(i,[2,7]),t(i,[2,9]),t(i,[2,10]),t(i,[2,11]),t(i,[2,12]),t(i,[2,13]),t(i,[2,14]),t(i,[2,15]),t(i,[2,16]),t(i,[2,17]),{22:[1,36]},{24:[1,37]},t(i,[2,20]),t(i,[2,21]),t(i,[2,22]),{29:[1,38]},t(i,[2,24]),{36:[1,39],38:[1,40]},{11:[1,41]},{34:42,42:[1,43]},{11:[2,44]},t(i,[2,5]),t(i,[2,18]),t(i,[2,19]),t(i,[2,23]),t(i,[2,27],{37:[1,44],38:[1,45]}),t(i,[2,33],{36:[1,46]}),t(v,[2,25]),{32:47,43:y},{43:[2,43]},t(i,[2,28],{38:[1,48]}),t(i,[2,29]),t(i,[2,31],{37:[1,49]}),{11:[1,50]},t(i,[2,30]),t(i,[2,32]),t(v,[2,26])],defaultActions:{5:[2,41],6:[2,1],34:[2,44],43:[2,43]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",c=0,l=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),g={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(g.yy[p]=this.yy[p]);f.setInput(t,g.yy),g.yy.lexer=f,g.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var b=f.options&&f.options.ranges;function w(){var t;return"number"!=typeof(t=i.pop()||f.lex()||h)&&(t instanceof Array&&(t=(i=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,v,_,k,x,E,T,C,A={};;){if(v=n[n.length-1],this.defaultActions[v]?_=this.defaultActions[v]:(null==y&&(y=w()),_=s[v]&&s[v][y]),void 0===_||!_.length||!_[0]){var S="";for(x in C=[],s[v])this.terminals_[x]&&x>u&&C.push("'"+this.terminals_[x]+"'");S=f.showPosition?"Parse error on line "+(c+1)+":\n"+f.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(c+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[y]||y,line:f.yylineno,loc:m,expected:C})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+y);switch(_[0]){case 1:n.push(y),r.push(f.yytext),o.push(f.yylloc),n.push(_[1]),y=null,l=f.yyleng,a=f.yytext,c=f.yylineno,m=f.yylloc;break;case 2:if(E=this.productions_[_[1]][1],A.$=r[r.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(A,[a,l,c,g.yy,_[1],r,o].concat(d))))return k;E&&(n=n.slice(0,-1*E*2),r=r.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[_[1]][0]),r.push(A.$),o.push(A._$),T=s[n[n.length-2]][n[n.length-1]],n.push(T);break;case 3:return!0}}return!0}},k={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,i){switch(n){case 0:return this.begin("open_directive"),40;case 1:return this.begin("type_directive"),41;case 2:return this.popState(),this.begin("arg_directive"),33;case 3:return this.popState(),this.popState(),43;case 4:return 42;case 5:return this.begin("acc_title"),21;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),23;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:case 20:case 23:case 26:case 29:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:case 13:case 14:case 16:case 17:case 18:break;case 15:return 11;case 19:this.begin("href");break;case 21:return 38;case 22:this.begin("callbackname");break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 36;case 27:return 37;case 28:this.begin("click");break;case 30:return 35;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 16;case 37:return 18;case 38:return 17;case 39:return 19;case 40:return"date";case 41:return 20;case 42:return"accDescription";case 43:return 26;case 44:return 28;case 45:return 29;case 46:return 33;case 47:return 7;case 48:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}};function x(){this.yy={}}return _.lexer=k,x.prototype=_,_.Parser=x,new x}();OR.parser=OR;const DR=OR,NR=t=>null!==t.match(/^\s*gantt/);var LR={};!function(t){var e;e=function(){var t="day";return function(e,n,i){var r=function(e){return e.add(4-e.isoWeekday(),t)},o=n.prototype;o.isoWeekYear=function(){return r(this).year()},o.isoWeek=function(e){if(!this.$utils().u(e))return this.add(7*(e-this.isoWeek()),t);var n,o,s,a=r(this),c=(n=this.isoWeekYear(),s=4-(o=(this.$u?i.utc:i)().year(n).startOf("year")).isoWeekday(),o.isoWeekday()>4&&(s+=7),o.add(s,t));return a.diff(c,"week")+1},o.isoWeekday=function(t){return this.$utils().u(t)?this.day()||7:this.day(this.day()%7?t:t-7)};var s=o.startOf;o.startOf=function(t,e){var n=this.$utils(),i=!!n.u(e)||e;return"isoweek"===n.p(t)?i?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):s.bind(this)(t,e)}}},t.exports=e()}({get exports(){return LR},set exports(t){LR=t}});const RR=LR;var BR={};!function(t){var e;e=function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,i=/\d\d?/,r=/\d*[^-_:/,()\s\d]+/,o={},s=function(t){return(t=+t)+(t>68?1900:2e3)},a=function(t){return function(e){this[t]=+e}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;if("Z"===t)return 0;var e=t.match(/([+-]|\d\d)/g),n=60*e[1]+(+e[2]||0);return 0===n?0:"+"===e[0]?-n:n}(t)}],l=function(t){var e=o[t];return e&&(e.indexOf?e:e.s.concat(e.f))},u=function(t,e){var n,i=o.meridiem;if(i){for(var r=1;r<=24;r+=1)if(t.indexOf(i(r,0,e))>-1){n=r>12;break}}else n=t===(e?"pm":"PM");return n},h={A:[r,function(t){this.afternoon=u(t,!1)}],a:[r,function(t){this.afternoon=u(t,!0)}],S:[/\d/,function(t){this.milliseconds=100*+t}],SS:[n,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[i,a("seconds")],ss:[i,a("seconds")],m:[i,a("minutes")],mm:[i,a("minutes")],H:[i,a("hours")],h:[i,a("hours")],HH:[i,a("hours")],hh:[i,a("hours")],D:[i,a("day")],DD:[n,a("day")],Do:[r,function(t){var e=o.ordinal,n=t.match(/\d+/);if(this.day=n[0],e)for(var i=1;i<=31;i+=1)e(i).replace(/\[|\]/g,"")===t&&(this.day=i)}],M:[i,a("month")],MM:[n,a("month")],MMM:[r,function(t){var e=l("months"),n=(l("monthsShort")||e.map((function(t){return t.slice(0,3)}))).indexOf(t)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[r,function(t){var e=l("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,a("year")],YY:[n,function(t){this.year=s(t)}],YYYY:[/\d{4}/,a("year")],Z:c,ZZ:c};function d(n){var i,r;i=n,r=o&&o.formats;for(var s=(n=i.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,n,i){var o=i&&i.toUpperCase();return n||r[i]||t[i]||r[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))).match(e),a=s.length,c=0;c<a;c+=1){var l=s[c],u=h[l],d=u&&u[0],f=u&&u[1];s[c]=f?{regex:d,parser:f}:l.replace(/^\[|\]$/g,"")}return function(t){for(var e={},n=0,i=0;n<a;n+=1){var r=s[n];if("string"==typeof r)i+=r.length;else{var o=r.regex,c=r.parser,l=t.slice(i),u=o.exec(l)[0];c.call(e,u),t=t.replace(u,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}}return function(t,e,n){n.p.customParseFormat=!0,t&&t.parseTwoDigitYear&&(s=t.parseTwoDigitYear);var i=e.prototype,r=i.parse;i.parse=function(t){var e=t.date,i=t.utc,s=t.args;this.$u=i;var a=s[1];if("string"==typeof a){var c=!0===s[2],l=!0===s[3],u=c||l,h=s[2];l&&(h=s[2]),o=this.$locale(),!c&&h&&(o=n.Ls[h]),this.$d=function(t,e,n){try{if(["x","X"].indexOf(e)>-1)return new Date(("X"===e?1e3:1)*t);var i=d(e)(t),r=i.year,o=i.month,s=i.day,a=i.hours,c=i.minutes,l=i.seconds,u=i.milliseconds,h=i.zone,f=new Date,g=s||(r||o?1:f.getDate()),p=r||f.getFullYear(),m=0;r&&!o||(m=o>0?o-1:f.getMonth());var b=a||0,w=c||0,y=l||0,v=u||0;return h?new Date(Date.UTC(p,m,g,b,w,y,v+60*h.offset*1e3)):n?new Date(Date.UTC(p,m,g,b,w,y,v)):new Date(p,m,g,b,w,y,v)}catch(t){return new Date("")}}(e,a,i),this.init(),h&&!0!==h&&(this.$L=this.locale(h).$L),u&&e!=this.format(a)&&(this.$d=new Date("")),o={}}else if(a instanceof Array)for(var f=a.length,g=1;g<=f;g+=1){s[1]=a[g-1];var p=n.apply(this,s);if(p.isValid()){this.$d=p.$d,this.$L=p.$L,this.init();break}g===f&&(this.$d=new Date(""))}else r.call(this,t)}}},t.exports=e()}({get exports(){return BR},set exports(t){BR=t}});const FR=BR;var jR={};!function(t){var e;e=function(){return function(t,e){var n=e.prototype,i=n.format;n.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return i.bind(this)(t);var r=this.$utils(),o=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(t){switch(t){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return n.ordinal(e.$D);case"gggg":return e.weekYear();case"GGGG":return e.isoWeekYear();case"wo":return n.ordinal(e.week(),"W");case"w":case"ww":return r.s(e.week(),"w"===t?1:2,"0");case"W":case"WW":return r.s(e.isoWeek(),"W"===t?1:2,"0");case"k":case"kk":return r.s(String(0===e.$H?24:e.$H),"k"===t?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();case"z":return"["+e.offsetName()+"]";case"zzz":return"["+e.offsetName("long")+"]";default:return t}}));return i.bind(this)(o)}}},t.exports=e()}({get exports(){return jR},set exports(t){jR=t}});const $R=jR;l.extend(RR),l.extend(FR),l.extend($R);let VR,zR="",HR="",UR="",qR=[],WR=[],GR={},KR=[],YR=[],XR="";const ZR=["active","done","crit","milestone"];let QR=[],JR=!1,tB=!1,eB=0;const nB=function(){KR=[],YR=[],XR="",QR=[],uB=0,gB=void 0,pB=void 0,mB=[],zR="",HR="",VR=void 0,UR="",qR=[],WR=[],JR=!1,tB=!1,eB=0,GR={},ty()},iB=function(){let t=yB();const e=10;let n=0;for(;!t&&n<e;)t=yB(),n++;return YR=mB,YR},rB=function(t,e,n,i){return!i.includes(t.format(e.trim()))&&(!!(t.isoWeekday()>=6&&n.includes("weekends"))||!!n.includes(t.format("dddd").toLowerCase())||n.includes(t.format(e.trim())))},oB=function(t,e,n,i){if(!n.length||t.manualEndTime)return;let r,o;r=t.startTime instanceof Date?l(t.startTime):l(t.startTime,e,!0),r=r.add(1,"d"),o=t.endTime instanceof Date?l(t.endTime):l(t.endTime,e,!0);const[s,a]=sB(r,o,e,n,i);t.endTime=s.toDate(),t.renderEndTime=a},sB=function(t,e,n,i,r){let o=!1,s=null;for(;t<=e;)o||(s=e.toDate()),o=rB(t,n,i,r),o&&(e=e.add(1,"d")),t=t.add(1,"d");return[e,s]},aB=function(t,e,n){n=n.trim();const i=/^after\s+([\d\w- ]+)/.exec(n.trim());if(null!==i){let t=null;if(i[1].split(" ").forEach((function(e){let n=wB(e);void 0!==n&&(t?n.endTime>t.endTime&&(t=n):t=n)})),t)return t.endTime;{const t=new Date;return t.setHours(0,0,0,0),t}}let r=l(n,e.trim(),!0);if(r.isValid())return r.toDate();{h.debug("Invalid date:"+n),h.debug("With date format:"+e.trim());const t=new Date(n);if(void 0===t||isNaN(t.getTime()))throw new Error("Invalid date:"+n);return t}},cB=function(t){const e=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(t.trim());return null!==e?[Number.parseFloat(e[1]),e[2]]:[NaN,"ms"]},lB=function(t,e,n,i=!1){n=n.trim();let r=l(n,e.trim(),!0);if(r.isValid())return i&&(r=r.add(1,"d")),r.toDate();let o=l(t);const[s,a]=cB(n);if(!Number.isNaN(s)){const t=o.add(s,a);t.isValid()&&(o=t)}return o.toDate()};let uB=0;const hB=function(t){return void 0===t?(uB+=1,"task"+uB):t},dB=function(t,e){let n;n=":"===e.substr(0,1)?e.substr(1,e.length):e;const i=n.split(","),r={};TB(i,r,ZR);for(let t=0;t<i.length;t++)i[t]=i[t].trim();let o="";switch(i.length){case 1:r.id=hB(),r.startTime=t.endTime,o=i[0];break;case 2:r.id=hB(),r.startTime=aB(void 0,zR,i[0]),o=i[1];break;case 3:r.id=hB(i[0]),r.startTime=aB(void 0,zR,i[1]),o=i[2]}return o&&(r.endTime=lB(r.startTime,zR,o,JR),r.manualEndTime=l(o,"YYYY-MM-DD",!0).isValid(),oB(r,zR,WR,qR)),r},fB=function(t,e){let n;n=":"===e.substr(0,1)?e.substr(1,e.length):e;const i=n.split(","),r={};TB(i,r,ZR);for(let t=0;t<i.length;t++)i[t]=i[t].trim();switch(i.length){case 1:r.id=hB(),r.startTime={type:"prevTaskEnd",id:t},r.endTime={data:i[0]};break;case 2:r.id=hB(),r.startTime={type:"getStartDate",startData:i[0]},r.endTime={data:i[1]};break;case 3:r.id=hB(i[0]),r.startTime={type:"getStartDate",startData:i[1]},r.endTime={data:i[2]}}return r};let gB,pB,mB=[];const bB={},wB=function(t){const e=bB[t];return mB[e]},yB=function(){const t=function(t){const e=mB[t];let n="";switch(mB[t].raw.startTime.type){case"prevTaskEnd":{const t=wB(e.prevTaskId);e.startTime=t.endTime;break}case"getStartDate":n=aB(void 0,zR,mB[t].raw.startTime.startData),n&&(mB[t].startTime=n)}return mB[t].startTime&&(mB[t].endTime=lB(mB[t].startTime,zR,mB[t].raw.endTime.data,JR),mB[t].endTime&&(mB[t].processed=!0,mB[t].manualEndTime=l(mB[t].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),oB(mB[t],zR,WR,qR))),mB[t].processed};let e=!0;for(const[n,i]of mB.entries())t(n),e=e&&i.processed;return e},vB=function(t,e){let n=e;"loose"!==xw().securityLevel&&(n=p(e)),t.split(",").forEach((function(t){void 0!==wB(t)&&(xB(t,(()=>{window.open(n,"_self")})),GR[t]=n)})),_B(t,"clickable")},_B=function(t,e){t.split(",").forEach((function(t){let n=wB(t);void 0!==n&&n.classes.push(e)}))},kB=function(t,e,n){if("loose"!==xw().securityLevel)return;if(void 0===e)return;let i=[];if("string"==typeof n){i=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let t=0;t<i.length;t++){let e=i[t].trim();'"'===e.charAt(0)&&'"'===e.charAt(e.length-1)&&(e=e.substr(1,e.length-2)),i[t]=e}}0===i.length&&i.push(t),void 0!==wB(t)&&xB(t,(()=>{vb.runFunc(e,...i)}))},xB=function(t,e){QR.push((function(){const n=document.querySelector(`[id="${t}"]`);null!==n&&n.addEventListener("click",(function(){e()}))}),(function(){const n=document.querySelector(`[id="${t}-text"]`);null!==n&&n.addEventListener("click",(function(){e()}))}))},EB={parseDirective:function(t,e,n){bH.parseDirective(this,t,e,n)},getConfig:()=>xw().gantt,clear:nB,setDateFormat:function(t){zR=t},getDateFormat:function(){return zR},enableInclusiveEndDates:function(){JR=!0},endDatesAreInclusive:function(){return JR},enableTopAxis:function(){tB=!0},topAxisEnabled:function(){return tB},setAxisFormat:function(t){HR=t},getAxisFormat:function(){return HR},setTickInterval:function(t){VR=t},getTickInterval:function(){return VR},setTodayMarker:function(t){UR=t},getTodayMarker:function(){return UR},setAccTitle:ey,getAccTitle:ny,setDiagramTitle:oy,getDiagramTitle:sy,setAccDescription:iy,getAccDescription:ry,addSection:function(t){XR=t,KR.push(t)},getSections:function(){return KR},getTasks:iB,addTask:function(t,e){const n={section:XR,type:XR,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},i=fB(pB,e);n.raw.startTime=i.startTime,n.raw.endTime=i.endTime,n.id=i.id,n.prevTaskId=pB,n.active=i.active,n.done=i.done,n.crit=i.crit,n.milestone=i.milestone,n.order=eB,eB++;const r=mB.push(n);pB=n.id,bB[n.id]=r-1},findTaskById:wB,addTaskOrg:function(t,e){const n={section:XR,type:XR,description:t,task:t,classes:[]},i=dB(gB,e);n.startTime=i.startTime,n.endTime=i.endTime,n.id=i.id,n.active=i.active,n.done=i.done,n.crit=i.crit,n.milestone=i.milestone,gB=n,YR.push(n)},setIncludes:function(t){qR=t.toLowerCase().split(/[\s,]+/)},getIncludes:function(){return qR},setExcludes:function(t){WR=t.toLowerCase().split(/[\s,]+/)},getExcludes:function(){return WR},setClickEvent:function(t,e,n){t.split(",").forEach((function(t){kB(t,e,n)})),_B(t,"clickable")},setLink:vB,getLinks:function(){return GR},bindFunctions:function(t){QR.forEach((function(e){e(t)}))},parseDuration:cB,isInvalidDate:rB};function TB(t,e,n){let i=!0;for(;i;)i=!1,n.forEach((function(n){const r=new RegExp("^\\s*"+n+"\\s*$");t[0].match(r)&&(e[n]=!0,t.shift(1),i=!0)}))}let CB;const AB={setConf:function(){h.debug("Something is calling, setConf, remove the call")},draw:function(t,e,n,i){const r=xw().gantt,o=xw().securityLevel;let s;"sandbox"===o&&(s=un("#i"+e));const a=un("sandbox"===o?s.nodes()[0].contentDocument.body:"body"),c="sandbox"===o?s.nodes()[0].contentDocument:document,u=c.getElementById(e);CB=u.parentElement.offsetWidth,void 0===CB&&(CB=1200),void 0!==r.useWidth&&(CB=r.useWidth);const h=i.db.getTasks(),d=h.length*(r.barHeight+r.barGap)+2*r.topPadding;u.setAttribute("viewBox","0 0 "+CB+" "+d);const f=a.select(`[id="${e}"]`),g=dl().domain([H(h,(function(t){return t.startTime})),z(h,(function(t){return t.endTime}))]).rangeRound([0,CB-r.leftPadding-r.rightPadding]);let p=[];for(const t of h)p.push(t.type);const m=p;function b(t,e){const n=t.startTime,i=e.startTime;let r=0;return n>i?r=1:n<i&&(r=-1),r}function w(t,e,n){const o=r.barHeight,s=o+r.barGap,a=r.topPadding,c=r.leftPadding,l=Fs().domain([0,p.length]).range(["#00B9FA","#F95002"]).interpolate(Ki);v(s,a,c,e,n,t,i.db.getExcludes(),i.db.getIncludes()),_(c,a,e,n),y(t,s,a,c,o,l,e),k(s,a),x(c,a,e,n)}function y(t,n,o,s,a,c,l){f.append("g").selectAll("rect").data(t).enter().append("rect").attr("x",0).attr("y",(function(t,e){return t.order*n+o-2})).attr("width",(function(){return l-r.rightPadding/2})).attr("height",n).attr("class",(function(t){for(const[e,n]of p.entries())if(t.type===n)return"section section"+e%r.numberSectionStyles;return"section section0"}));const u=f.append("g").selectAll("rect").data(t).enter(),h=i.db.getLinks();if(u.append("rect").attr("id",(function(t){return t.id})).attr("rx",3).attr("ry",3).attr("x",(function(t){return t.milestone?g(t.startTime)+s+.5*(g(t.endTime)-g(t.startTime))-.5*a:g(t.startTime)+s})).attr("y",(function(t,e){return t.order*n+o})).attr("width",(function(t){return t.milestone?a:g(t.renderEndTime||t.endTime)-g(t.startTime)})).attr("height",a).attr("transform-origin",(function(t,e){return e=t.order,(g(t.startTime)+s+.5*(g(t.endTime)-g(t.startTime))).toString()+"px "+(e*n+o+.5*a).toString()+"px"})).attr("class",(function(t){const e="task";let n="";t.classes.length>0&&(n=t.classes.join(" "));let i=0;for(const[e,n]of p.entries())t.type===n&&(i=e%r.numberSectionStyles);let o="";return t.active?t.crit?o+=" activeCrit":o=" active":t.done?o=t.crit?" doneCrit":" done":t.crit&&(o+=" crit"),0===o.length&&(o=" task"),t.milestone&&(o=" milestone "+o),o+=i,o+=" "+n,e+o})),u.append("text").attr("id",(function(t){return t.id+"-text"})).text((function(t){return t.task})).attr("font-size",r.fontSize).attr("x",(function(t){let e=g(t.startTime),n=g(t.renderEndTime||t.endTime);t.milestone&&(e+=.5*(g(t.endTime)-g(t.startTime))-.5*a),t.milestone&&(n=e+a);const i=this.getBBox().width;return i>n-e?n+i+1.5*r.leftPadding>l?e+s-5:n+s+5:(n-e)/2+e+s})).attr("y",(function(t,e){return t.order*n+r.barHeight/2+(r.fontSize/2-2)+o})).attr("text-height",a).attr("class",(function(t){const e=g(t.startTime);let n=g(t.endTime);t.milestone&&(n=e+a);const i=this.getBBox().width;let o="";t.classes.length>0&&(o=t.classes.join(" "));let s=0;for(const[e,n]of p.entries())t.type===n&&(s=e%r.numberSectionStyles);let c="";return t.active&&(c=t.crit?"activeCritText"+s:"activeText"+s),t.done?c=t.crit?c+" doneCritText"+s:c+" doneText"+s:t.crit&&(c=c+" critText"+s),t.milestone&&(c+=" milestoneText"),i>n-e?n+i+1.5*r.leftPadding>l?o+" taskTextOutsideLeft taskTextOutside"+s+" "+c:o+" taskTextOutsideRight taskTextOutside"+s+" "+c+" width-"+i:o+" taskText taskText"+s+" "+c+" width-"+i})),"sandbox"===xw().securityLevel){let t;t=un("#i"+e);const n=t.nodes()[0].contentDocument;u.filter((function(t){return void 0!==h[t.id]})).each((function(t){var e=n.querySelector("#"+t.id),i=n.querySelector("#"+t.id+"-text");const r=e.parentNode;var o=n.createElement("a");o.setAttribute("xlink:href",h[t.id]),o.setAttribute("target","_top"),r.appendChild(o),o.appendChild(e),o.appendChild(i)}))}}function v(t,e,n,o,s,a,c,u){const h=a.reduce(((t,{startTime:e})=>t?Math.min(t,e):e),0),d=a.reduce(((t,{endTime:e})=>t?Math.max(t,e):e),0),p=i.db.getDateFormat();if(!h||!d)return;const m=[];let b=null,w=l(h);for(;w.valueOf()<=d;)i.db.isInvalidDate(w,p,c,u)?b?b.end=w:b={start:w,end:w}:b&&(m.push(b),b=null),w=w.add(1,"d");f.append("g").selectAll("rect").data(m).enter().append("rect").attr("id",(function(t){return"exclude-"+t.start.format("YYYY-MM-DD")})).attr("x",(function(t){return g(t.start)+n})).attr("y",r.gridLineStartPadding).attr("width",(function(t){const e=t.end.add(1,"day");return g(e)-g(t.start)})).attr("height",s-e-r.gridLineStartPadding).attr("transform-origin",(function(e,i){return(g(e.start)+n+.5*(g(e.end)-g(e.start))).toString()+"px "+(i*t+.5*s).toString()+"px"})).attr("class","exclude-range")}function _(t,e,n,o){let s=it(g).tickSize(-o+e+r.gridLineStartPadding).tickFormat(Ua(i.db.getAxisFormat()||r.axisFormat||"%Y-%m-%d"));const a=/^([1-9]\d*)(minute|hour|day|week|month)$/.exec(i.db.getTickInterval()||r.tickInterval);if(null!==a){const t=a[1];switch(a[2]){case"minute":s.ticks(ea.every(t));break;case"hour":s.ticks(ia.every(t));break;case"day":s.ticks(oa.every(t));break;case"week":s.ticks(aa.every(t));break;case"month":s.ticks(pa.every(t))}}if(f.append("g").attr("class","grid").attr("transform","translate("+t+", "+(o-50)+")").call(s).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),i.db.topAxisEnabled()||r.topAxis){let n=nt(g).tickSize(-o+e+r.gridLineStartPadding).tickFormat(Ua(i.db.getAxisFormat()||r.axisFormat||"%Y-%m-%d"));if(null!==a){const t=a[1];switch(a[2]){case"minute":n.ticks(ea.every(t));break;case"hour":n.ticks(ia.every(t));break;case"day":n.ticks(oa.every(t));break;case"week":n.ticks(aa.every(t));break;case"month":n.ticks(pa.every(t))}}f.append("g").attr("class","grid").attr("transform","translate("+t+", "+e+")").call(n).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function k(t,e){const n=[];let i=0;for(const[t,e]of p.entries())n[t]=[e,C(e,m)];f.append("g").selectAll("text").data(n).enter().append((function(t){const e=t[0].split(Jh.lineBreakRegex),n=-(e.length-1)/2,i=c.createElementNS("http://www.w3.org/2000/svg","text");i.setAttribute("dy",n+"em");for(const[t,n]of e.entries()){const e=c.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttribute("alignment-baseline","central"),e.setAttribute("x","10"),t>0&&e.setAttribute("dy","1em"),e.textContent=n,i.appendChild(e)}return i})).attr("x",10).attr("y",(function(r,o){if(!(o>0))return r[1]*t/2+e;for(let s=0;s<o;s++)return i+=n[o-1][1],r[1]*t/2+i*t+e})).attr("font-size",r.sectionFontSize).attr("font-size",r.sectionFontSize).attr("class",(function(t){for(const[e,n]of p.entries())if(t[0]===n)return"sectionTitle sectionTitle"+e%r.numberSectionStyles;return"sectionTitle"}))}function x(t,e,n,o){const s=i.db.getTodayMarker();if("off"===s)return;const a=f.append("g").attr("class","today"),c=new Date,l=a.append("line");l.attr("x1",g(c)+t).attr("x2",g(c)+t).attr("y1",r.titleTopMargin).attr("y2",o-r.titleTopMargin).attr("class","today"),""!==s&&l.attr("style",s.replace(/,/g,";"))}function E(t){const e={},n=[];for(let i=0,r=t.length;i<r;++i)Object.prototype.hasOwnProperty.call(e,t[i])||(e[t[i]]=!0,n.push(t[i]));return n}function T(t){let e=t.length;const n={};for(;e;)n[t[--e]]=(n[t[e]]||0)+1;return n}function C(t,e){return T(e)[t]||0}p=E(p),h.sort(b),w(h,CB,d),Dw(f,d,CB,r.useMaxWidth),f.append("text").text(i.db.getDiagramTitle()).attr("x",CB/2).attr("y",r.titleTopMargin).attr("class","titleText")}};var SB=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[6,9,10],n={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(t,e,n,i,r,o,s){switch(o.length,r){case 1:return i;case 4:break;case 6:i.setInfo(!0)}},table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},t(e,[2,3]),t(e,[2,4]),t(e,[2,5]),t(e,[2,6])],defaultActions:{4:[2,1]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",c=0,l=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),g={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(g.yy[p]=this.yy[p]);f.setInput(t,g.yy),g.yy.lexer=f,g.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var b=f.options&&f.options.ranges;function w(){var t;return"number"!=typeof(t=i.pop()||f.lex()||h)&&(t instanceof Array&&(t=(i=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,v,_,k,x,E,T,C,A={};;){if(v=n[n.length-1],this.defaultActions[v]?_=this.defaultActions[v]:(null==y&&(y=w()),_=s[v]&&s[v][y]),void 0===_||!_.length||!_[0]){var S="";for(x in C=[],s[v])this.terminals_[x]&&x>u&&C.push("'"+this.terminals_[x]+"'");S=f.showPosition?"Parse error on line "+(c+1)+":\n"+f.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(c+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[y]||y,line:f.yylineno,loc:m,expected:C})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+y);switch(_[0]){case 1:n.push(y),r.push(f.yytext),o.push(f.yylloc),n.push(_[1]),y=null,l=f.yyleng,a=f.yytext,c=f.yylineno,m=f.yylloc;break;case 2:if(E=this.productions_[_[1]][1],A.$=r[r.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(A,[a,l,c,g.yy,_[1],r,o].concat(d))))return k;E&&(n=n.slice(0,-1*E*2),r=r.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[_[1]][0]),r.push(A.$),o.push(A._$),T=s[n[n.length-2]][n[n.length-1]],n.push(T);break;case 3:return!0}}return!0}},i={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,i){switch(n){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};function r(){this.yy={}}return n.lexer=i,r.prototype=n,n.Parser=r,new r}();SB.parser=SB;const IB=SB;var MB="",PB=!1;const OB={setMessage:t=>{h.debug("Setting message to: "+t),MB=t},getMessage:()=>MB,setInfo:t=>{PB=t},getInfo:()=>PB,clear:ty},DB={draw:(t,e,n)=>{try{h.debug("Rendering info diagram\n"+t);const i=xw().securityLevel;let r;"sandbox"===i&&(r=un("#i"+e));const o=un("sandbox"===i?r.nodes()[0].contentDocument.body:"body").select("#"+e);o.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+n),o.attr("height",100),o.attr("width",400)}catch(t){h.error("Error while rendering info diagram"),h.error(t.message)}}},NB=t=>null!==t.match(/^\s*info/);var LB=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[1,4],n=[1,5],i=[1,6],r=[1,7],o=[1,9],s=[1,11,13,15,17,19,20,26,27,28,29],a=[2,5],c=[1,6,11,13,15,17,19,20,26,27,28,29],l=[26,27,28],u=[2,8],h=[1,18],d=[1,19],f=[1,20],g=[1,21],p=[1,22],m=[1,23],b=[1,28],w=[6,26,27,28,29],y={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 4:i.setShowData(!0);break;case 7:this.$=o[a-1];break;case 9:i.addSection(o[a-1],i.cleanupValue(o[a]));break;case 10:this.$=o[a].trim(),i.setDiagramTitle(this.$);break;case 11:this.$=o[a].trim(),i.setAccTitle(this.$);break;case 12:case 13:this.$=o[a].trim(),i.setAccDescription(this.$);break;case 14:i.addSection(o[a].substr(8)),this.$=o[a].substr(8);break;case 21:i.parseDirective("%%{","open_directive");break;case 22:i.parseDirective(o[a],"type_directive");break;case 23:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 24:i.parseDirective("}%%","close_directive","pie")}},table:[{3:1,4:2,5:3,6:e,21:8,26:n,27:i,28:r,29:o},{1:[3]},{3:10,4:2,5:3,6:e,21:8,26:n,27:i,28:r,29:o},{3:11,4:2,5:3,6:e,21:8,26:n,27:i,28:r,29:o},t(s,a,{7:12,8:[1,13]}),t(c,[2,18]),t(c,[2,19]),t(c,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},t(l,u,{21:8,9:16,10:17,5:24,1:[2,3],11:h,13:d,15:f,17:g,19:p,20:m,29:o}),t(s,a,{7:25}),{23:26,24:[1,27],32:b},t([24,32],[2,22]),t(s,[2,6]),{4:29,26:n,27:i,28:r},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},t(l,[2,13]),t(l,[2,14]),t(l,[2,15]),t(l,u,{21:8,9:16,10:17,5:24,1:[2,4],11:h,13:d,15:f,17:g,19:p,20:m,29:o}),t(w,[2,16]),{25:34,31:[1,35]},t(w,[2,24]),t(s,[2,7]),t(l,[2,9]),t(l,[2,10]),t(l,[2,11]),t(l,[2,12]),{23:36,32:b},{32:[2,23]},t(w,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",c=0,l=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),g={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(g.yy[p]=this.yy[p]);f.setInput(t,g.yy),g.yy.lexer=f,g.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var b=f.options&&f.options.ranges;function w(){var t;return"number"!=typeof(t=i.pop()||f.lex()||h)&&(t instanceof Array&&(t=(i=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,v,_,k,x,E,T,C,A={};;){if(v=n[n.length-1],this.defaultActions[v]?_=this.defaultActions[v]:(null==y&&(y=w()),_=s[v]&&s[v][y]),void 0===_||!_.length||!_[0]){var S="";for(x in C=[],s[v])this.terminals_[x]&&x>u&&C.push("'"+this.terminals_[x]+"'");S=f.showPosition?"Parse error on line "+(c+1)+":\n"+f.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(c+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[y]||y,line:f.yylineno,loc:m,expected:C})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+y);switch(_[0]){case 1:n.push(y),r.push(f.yytext),o.push(f.yylloc),n.push(_[1]),y=null,l=f.yyleng,a=f.yytext,c=f.yylineno,m=f.yylloc;break;case 2:if(E=this.productions_[_[1]][1],A.$=r[r.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(A,[a,l,c,g.yy,_[1],r,o].concat(d))))return k;E&&(n=n.slice(0,-1*E*2),r=r.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[_[1]][0]),r.push(A.$),o.push(A._$),T=s[n[n.length-2]][n[n.length-1]],n.push(T);break;case 3:return!0}}return!0}},v={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,i){switch(n){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:case 6:case 8:case 9:break;case 7:return 26;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:case 20:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};function _(){this.yy={}}return y.lexer=v,_.prototype=y,y.Parser=_,new _}();LB.parser=LB;const RB=LB,BB=t=>null!==t.match(/^\s*pie/)||null!==t.match(/^\s*bar/);let FB={},jB=!1;const $B={parseDirective:function(t,e,n){bH.parseDirective(this,t,e,n)},getConfig:()=>xw().pie,addSection:function(t,e){t=Jh.sanitizeText(t,xw()),void 0===FB[t]&&(FB[t]=e,h.debug("Added new section :",t))},getSections:()=>FB,cleanupValue:function(t){return":"===t.substring(0,1)?(t=t.substring(1).trim(),Number(t.trim())):Number(t.trim())},clear:function(){FB={},jB=!1,ty()},setAccTitle:ey,getAccTitle:ny,setDiagramTitle:oy,getDiagramTitle:sy,setShowData:function(t){jB=t},getShowData:function(){return jB},getAccDescription:ry,setAccDescription:iy};let VB,zB=xw();const HB=450,UB={draw:(t,e,n,i)=>{try{zB=xw(),h.debug("Rendering info diagram\n"+t);const n=xw().securityLevel;let w;"sandbox"===n&&(w=un("#i"+e));const y=un("sandbox"===n?w.nodes()[0].contentDocument.body:"body"),v="sandbox"===n?w.nodes()[0].contentDocument:document;i.db.clear(),i.parser.parse(t),h.debug("Parsed info diagram");const _=v.getElementById(e);VB=_.parentElement.offsetWidth,void 0===VB&&(VB=1200),void 0!==zB.useWidth&&(VB=zB.useWidth),void 0!==zB.pie.useWidth&&(VB=zB.pie.useWidth);const k=y.select("#"+e);Dw(k,HB,VB,zB.pie.useMaxWidth),_.setAttribute("viewBox","0 0 "+VB+" "+HB);var r=40,o=18,s=4,a=Math.min(VB,HB)/2-r,c=k.append("g").attr("transform","translate("+VB/2+","+HB/2+")"),l=i.db.getSections(),u=0;Object.keys(l).forEach((function(t){u+=l[t]}));const x=zB.themeVariables;var d=[x.pie1,x.pie2,x.pie3,x.pie4,x.pie5,x.pie6,x.pie7,x.pie8,x.pie9,x.pie10,x.pie11,x.pie12],f=Es().range(d),g=Object.entries(l).map((function(t,e){return{order:e,name:t[0],value:t[1]}})),p=Hl().value((function(t){return t.value})).sort((function(t,e){return t.order-e.order}))(g),m=Nl().innerRadius(0).outerRadius(a);c.selectAll("mySlices").data(p).enter().append("path").attr("d",m).attr("fill",(function(t){return f(t.data.name)})).attr("class","pieCircle"),c.selectAll("mySlices").data(p).enter().append("text").text((function(t){return(t.data.value/u*100).toFixed(0)+"%"})).attr("transform",(function(t){return"translate("+m.centroid(t)+")"})).style("text-anchor","middle").attr("class","slice"),c.append("text").text(i.db.getDiagramTitle()).attr("x",0).attr("y",-(HB-50)/2).attr("class","pieTitleText");var b=c.selectAll(".legend").data(f.domain()).enter().append("g").attr("class","legend").attr("transform",(function(t,e){const n=o+s,i=n*f.domain().length/2;return"translate("+12*o+","+(e*n-i)+")"}));b.append("rect").attr("width",o).attr("height",o).style("fill",f).style("stroke",f),b.data(p).append("text").attr("x",o+s).attr("y",o-s).text((function(t){return i.db.getShowData()||zB.showData||zB.pie.showData?t.data.name+" ["+t.data.value+"]":t.data.name}))}catch(t){h.error("Error while rendering info diagram"),h.error(t)}}};var qB=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[1,3],n=[1,5],i=[1,6],r=[1,7],o=[1,8],s=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],a=[1,22],c=[2,13],l=[1,26],u=[1,27],h=[1,28],d=[1,29],f=[1,30],g=[1,31],p=[1,24],m=[1,32],b=[1,33],w=[1,36],y=[71,72],v=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],_=[1,56],k=[1,57],x=[1,58],E=[1,59],T=[1,60],C=[1,61],A=[1,62],S=[62,63],I=[1,74],M=[1,70],P=[1,71],O=[1,72],D=[1,73],N=[1,75],L=[1,79],R=[1,80],B=[1,77],F=[1,78],j=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],$={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 6:this.$=o[a].trim(),i.setAccTitle(this.$);break;case 7:case 8:this.$=o[a].trim(),i.setAccDescription(this.$);break;case 9:i.parseDirective("%%{","open_directive");break;case 10:i.parseDirective(o[a],"type_directive");break;case 11:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 12:i.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:i.addRequirement(o[a-3],o[a-4]);break;case 20:i.setNewReqId(o[a-2]);break;case 21:i.setNewReqText(o[a-2]);break;case 22:i.setNewReqRisk(o[a-2]);break;case 23:i.setNewReqVerifyMethod(o[a-2]);break;case 26:this.$=i.RequirementType.REQUIREMENT;break;case 27:this.$=i.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=i.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=i.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=i.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=i.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=i.RiskLevel.LOW_RISK;break;case 33:this.$=i.RiskLevel.MED_RISK;break;case 34:this.$=i.RiskLevel.HIGH_RISK;break;case 35:this.$=i.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=i.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=i.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=i.VerifyType.VERIFY_TEST;break;case 39:i.addElement(o[a-3]);break;case 40:i.setNewElementType(o[a-2]);break;case 41:i.setNewElementDocRef(o[a-2]);break;case 44:i.addRelationship(o[a-2],o[a],o[a-4]);break;case 45:i.addRelationship(o[a-2],o[a-4],o[a]);break;case 46:this.$=i.Relationships.CONTAINS;break;case 47:this.$=i.Relationships.COPIES;break;case 48:this.$=i.Relationships.DERIVES;break;case 49:this.$=i.Relationships.SATISFIES;break;case 50:this.$=i.Relationships.VERIFIES;break;case 51:this.$=i.Relationships.REFINES;break;case 52:this.$=i.Relationships.TRACES}},table:[{3:1,4:2,6:e,9:4,14:n,16:i,18:r,19:o},{1:[3]},{3:10,4:2,5:[1,9],6:e,9:4,14:n,16:i,18:r,19:o},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},t(s,[2,8]),{20:[2,9]},{3:16,4:2,6:e,9:4,14:n,16:i,18:r,19:o},{1:[2,2]},{4:21,5:a,7:17,8:c,9:4,14:n,16:i,18:r,19:o,23:18,24:19,25:20,26:23,32:25,40:l,41:u,42:h,43:d,44:f,45:g,53:p,71:m,72:b},{11:34,12:[1,35],22:w},t([12,22],[2,10]),t(s,[2,6]),t(s,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:a,7:38,8:c,9:4,14:n,16:i,18:r,19:o,23:18,24:19,25:20,26:23,32:25,40:l,41:u,42:h,43:d,44:f,45:g,53:p,71:m,72:b},{4:21,5:a,7:39,8:c,9:4,14:n,16:i,18:r,19:o,23:18,24:19,25:20,26:23,32:25,40:l,41:u,42:h,43:d,44:f,45:g,53:p,71:m,72:b},{4:21,5:a,7:40,8:c,9:4,14:n,16:i,18:r,19:o,23:18,24:19,25:20,26:23,32:25,40:l,41:u,42:h,43:d,44:f,45:g,53:p,71:m,72:b},{4:21,5:a,7:41,8:c,9:4,14:n,16:i,18:r,19:o,23:18,24:19,25:20,26:23,32:25,40:l,41:u,42:h,43:d,44:f,45:g,53:p,71:m,72:b},{4:21,5:a,7:42,8:c,9:4,14:n,16:i,18:r,19:o,23:18,24:19,25:20,26:23,32:25,40:l,41:u,42:h,43:d,44:f,45:g,53:p,71:m,72:b},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},t(y,[2,26]),t(y,[2,27]),t(y,[2,28]),t(y,[2,29]),t(y,[2,30]),t(y,[2,31]),t(v,[2,55]),t(v,[2,56]),t(s,[2,4]),{13:51,21:[1,52]},t(s,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:_,65:k,66:x,67:E,68:T,69:C,70:A},{61:63,64:_,65:k,66:x,67:E,68:T,69:C,70:A},{11:64,22:w},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},t(S,[2,46]),t(S,[2,47]),t(S,[2,48]),t(S,[2,49]),t(S,[2,50]),t(S,[2,51]),t(S,[2,52]),{63:[1,68]},t(s,[2,5]),{5:I,29:69,30:M,33:P,35:O,37:D,39:N},{5:L,39:R,55:76,56:B,58:F},{32:81,71:m,72:b},{32:82,71:m,72:b},t(j,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:I,29:87,30:M,33:P,35:O,37:D,39:N},t(j,[2,25]),t(j,[2,39]),{31:[1,88]},{31:[1,89]},{5:L,39:R,55:90,56:B,58:F},t(j,[2,43]),t(j,[2,44]),t(j,[2,45]),{32:91,71:m,72:b},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},t(j,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},t(j,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:I,29:116,30:M,33:P,35:O,37:D,39:N},{5:I,29:117,30:M,33:P,35:O,37:D,39:N},{5:I,29:118,30:M,33:P,35:O,37:D,39:N},{5:I,29:119,30:M,33:P,35:O,37:D,39:N},{5:L,39:R,55:120,56:B,58:F},{5:L,39:R,55:121,56:B,58:F},t(j,[2,20]),t(j,[2,21]),t(j,[2,22]),t(j,[2,23]),t(j,[2,40]),t(j,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",c=0,l=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),g={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(g.yy[p]=this.yy[p]);f.setInput(t,g.yy),g.yy.lexer=f,g.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var b=f.options&&f.options.ranges;function w(){var t;return"number"!=typeof(t=i.pop()||f.lex()||h)&&(t instanceof Array&&(t=(i=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,v,_,k,x,E,T,C,A={};;){if(v=n[n.length-1],this.defaultActions[v]?_=this.defaultActions[v]:(null==y&&(y=w()),_=s[v]&&s[v][y]),void 0===_||!_.length||!_[0]){var S="";for(x in C=[],s[v])this.terminals_[x]&&x>u&&C.push("'"+this.terminals_[x]+"'");S=f.showPosition?"Parse error on line "+(c+1)+":\n"+f.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(c+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[y]||y,line:f.yylineno,loc:m,expected:C})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+y);switch(_[0]){case 1:n.push(y),r.push(f.yytext),o.push(f.yylloc),n.push(_[1]),y=null,l=f.yyleng,a=f.yytext,c=f.yylineno,m=f.yylloc;break;case 2:if(E=this.productions_[_[1]][1],A.$=r[r.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(A,[a,l,c,g.yy,_[1],r,o].concat(d))))return k;E&&(n=n.slice(0,-1*E*2),r=r.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[_[1]][0]),r.push(A.$),o.push(A._$),T=s[n[n.length-2]][n[n.length-1]],n.push(T);break;case 3:return!0}}return!0}},V={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,i){switch(n){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 53:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:case 15:case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 54:return"qString";case 55:return e.yytext=e.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};function z(){this.yy={}}return $.lexer=V,z.prototype=$,$.Parser=z,new z}();qB.parser=qB;const WB=qB,GB=t=>null!==t.match(/^\s*requirement(Diagram)?/);let KB=[],YB={},XB={},ZB={},QB={};const JB={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective:function(t,e,n){bH.parseDirective(this,t,e,n)},getConfig:()=>xw().req,addRequirement:(t,e)=>(void 0===XB[t]&&(XB[t]={name:t,type:e,id:YB.id,text:YB.text,risk:YB.risk,verifyMethod:YB.verifyMethod}),YB={},XB[t]),getRequirements:()=>XB,setNewReqId:t=>{void 0!==YB&&(YB.id=t)},setNewReqText:t=>{void 0!==YB&&(YB.text=t)},setNewReqRisk:t=>{void 0!==YB&&(YB.risk=t)},setNewReqVerifyMethod:t=>{void 0!==YB&&(YB.verifyMethod=t)},setAccTitle:ey,getAccTitle:ny,setAccDescription:iy,getAccDescription:ry,addElement:t=>(void 0===QB[t]&&(QB[t]={name:t,type:ZB.type,docRef:ZB.docRef},h.info("Added new requirement: ",t)),ZB={},QB[t]),getElements:()=>QB,setNewElementType:t=>{void 0!==ZB&&(ZB.type=t)},setNewElementDocRef:t=>{void 0!==ZB&&(ZB.docRef=t)},addRelationship:(t,e,n)=>{KB.push({type:t,src:e,dst:n})},getRelationships:()=>KB,clear:()=>{KB=[],YB={},XB={},ZB={},QB={},ty()}},tF={CONTAINS:"contains",ARROW:"arrow"},eF={ReqMarkers:tF,insertLineEndings:(t,e)=>{let n=t.append("defs").append("marker").attr("id",tF.CONTAINS+"_line_ending").attr("refX",0).attr("refY",e.line_height/2).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("g");n.append("circle").attr("cx",e.line_height/2).attr("cy",e.line_height/2).attr("r",e.line_height/2).attr("fill","none"),n.append("line").attr("x1",0).attr("x2",e.line_height).attr("y1",e.line_height/2).attr("y2",e.line_height/2).attr("stroke-width",1),n.append("line").attr("y1",0).attr("y2",e.line_height).attr("x1",e.line_height/2).attr("x2",e.line_height/2).attr("stroke-width",1),t.append("defs").append("marker").attr("id",tF.ARROW+"_line_ending").attr("refX",e.line_height).attr("refY",.5*e.line_height).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("path").attr("d",`M0,0\n      L${e.line_height},${e.line_height/2}\n      M${e.line_height},${e.line_height/2}\n      L0,${e.line_height}`).attr("stroke-width",1)}};let nF={},iF=0;const rF=(t,e)=>t.insert("rect","#"+e).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",nF.rect_min_width+"px").attr("height",nF.rect_min_height+"px"),oF=(t,e,n)=>{let i=nF.rect_min_width/2,r=t.append("text").attr("class","req reqLabel reqTitle").attr("id",e).attr("x",i).attr("y",nF.rect_padding).attr("dominant-baseline","hanging"),o=0;n.forEach((t=>{0==o?r.append("tspan").attr("text-anchor","middle").attr("x",nF.rect_min_width/2).attr("dy",0).text(t):r.append("tspan").attr("text-anchor","middle").attr("x",nF.rect_min_width/2).attr("dy",.75*nF.line_height).text(t),o++}));let s=1.5*nF.rect_padding+o*nF.line_height*.75;return t.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",nF.rect_min_width).attr("y1",s).attr("y2",s),{titleNode:r,y:s}},sF=(t,e,n,i)=>{let r=t.append("text").attr("class","req reqLabel").attr("id",e).attr("x",nF.rect_padding).attr("y",i).attr("dominant-baseline","hanging"),o=0;const s=30;let a=[];return n.forEach((t=>{let e=t.length;for(;e>s&&o<3;){let n=t.substring(0,s);e=(t=t.substring(s,t.length)).length,a[a.length]=n,o++}if(3==o){let t=a[a.length-1];a[a.length-1]=t.substring(0,t.length-4)+"..."}else a[a.length]=t;o=0})),a.forEach((t=>{r.append("tspan").attr("x",nF.rect_padding).attr("dy",nF.line_height).text(t)})),r},aF=(t,e,n,i)=>{const r=e.node().getTotalLength(),o=e.node().getPointAtLength(.5*r),s="rel"+iF;iF++;const a=t.append("text").attr("class","req relationshipLabel").attr("id",s).attr("x",o.x).attr("y",o.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(i).node().getBBox();t.insert("rect","#"+s).attr("class","req reqLabelBox").attr("x",o.x-a.width/2).attr("y",o.y-a.height/2).attr("width",a.width).attr("height",a.height).attr("fill","white").attr("fill-opacity","85%")},cF=function(t,e,n,i,r){const o=n.edge(fF(e.src),fF(e.dst)),s=$l().x((function(t){return t.x})).y((function(t){return t.y})),a=t.insert("path","#"+i).attr("class","er relationshipLine").attr("d",s(o.points)).attr("fill","none");e.type==r.db.Relationships.CONTAINS?a.attr("marker-start","url("+Jh.getUrl(nF.arrowMarkerAbsolute)+"#"+e.type+"_line_ending)"):(a.attr("stroke-dasharray","10,7"),a.attr("marker-end","url("+Jh.getUrl(nF.arrowMarkerAbsolute)+"#"+eF.ReqMarkers.ARROW+"_line_ending)")),aF(t,a,nF,`<<${e.type}>>`)},lF=(t,e,n)=>{Object.keys(t).forEach((i=>{let r=t[i];i=fF(i),h.info("Added new requirement: ",i);const o=n.append("g").attr("id",i),s=rF(o,"req-"+i);let a=oF(o,i+"_title",[`<<${r.type}>>`,`${r.name}`]);sF(o,i+"_body",[`Id: ${r.id}`,`Text: ${r.text}`,`Risk: ${r.risk}`,`Verification: ${r.verifyMethod}`],a.y);const c=s.node().getBBox();e.setNode(i,{width:c.width,height:c.height,shape:"rect",id:i})}))},uF=(t,e,n)=>{Object.keys(t).forEach((i=>{let r=t[i];const o=fF(i),s=n.append("g").attr("id",o),a="element-"+o,c=rF(s,a);let l=oF(s,a+"_title",["<<Element>>",`${i}`]);sF(s,a+"_body",[`Type: ${r.type||"Not Specified"}`,`Doc Ref: ${r.docRef||"None"}`],l.y);const u=c.node().getBBox();e.setNode(o,{width:u.width,height:u.height,shape:"rect",id:o})}))},hF=(t,e)=>(t.forEach((function(t){let n=fF(t.src),i=fF(t.dst);e.setEdge(n,i,{relationship:t})})),t),dF=function(t,e){e.nodes().forEach((function(n){void 0!==n&&void 0!==e.node(n)&&(t.select("#"+n),t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )"))}))},fF=t=>t.replace(/\s/g,"").replace(/\./g,"_"),gF={draw:(t,e,n,i)=>{nF=xw().requirement,i.db.clear(),i.parser.parse(t);const r=nF.securityLevel;let o;"sandbox"===r&&(o=un("#i"+e));const s=un("sandbox"===r?o.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);eF.insertLineEndings(s,nF);const a=new gI({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:nF.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel((function(){return{}}));let c=i.db.getRequirements(),l=i.db.getElements(),u=i.db.getRelationships();lF(c,a,s),uF(l,a,s),hF(u,a),vP(a),dF(s,a),u.forEach((function(t){cF(s,t,a,e,i)}));const h=nF.rect_padding,d=s.node().getBBox(),f=d.width+2*h,g=d.height+2*h;Dw(s,g,f,nF.useMaxWidth),s.attr("viewBox",`${d.x-h} ${d.y-h} ${f} ${g}`)}};var pF=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[1,2],n=[1,3],i=[1,5],r=[1,7],o=[2,5],s=[1,15],a=[1,17],c=[1,19],l=[1,21],u=[1,22],h=[1,23],d=[1,29],f=[1,30],g=[1,31],p=[1,32],m=[1,33],b=[1,34],w=[1,35],y=[1,36],v=[1,37],_=[1,38],k=[1,39],x=[1,40],E=[1,42],T=[1,43],C=[1,45],A=[1,46],S=[1,47],I=[1,48],M=[1,49],P=[1,50],O=[1,53],D=[1,4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,51,52,53,54,56,57,62,63,64,65,73,83],N=[4,5,21,54,56],L=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,54,56,57,62,63,64,65,73,83],R=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,53,54,56,57,62,63,64,65,73,83],B=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,52,54,56,57,62,63,64,65,73,83],F=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,51,54,56,57,62,63,64,65,73,83],j=[71,72,73],$=[1,125],V=[1,4,5,7,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,51,52,53,54,56,57,62,63,64,65,73,83],z={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,box_section:11,box_line:12,participant_statement:13,openDirective:14,typeDirective:15,closeDirective:16,":":17,argDirective:18,box:19,restOfLine:20,end:21,signal:22,autonumber:23,NUM:24,off:25,activate:26,actor:27,deactivate:28,note_statement:29,links_statement:30,link_statement:31,properties_statement:32,details_statement:33,title:34,legacy_title:35,acc_title:36,acc_title_value:37,acc_descr:38,acc_descr_value:39,acc_descr_multiline_value:40,loop:41,rect:42,opt:43,alt:44,else_sections:45,par:46,par_sections:47,critical:48,option_sections:49,break:50,option:51,and:52,else:53,participant:54,AS:55,participant_actor:56,note:57,placement:58,text2:59,over:60,actor_pair:61,links:62,link:63,properties:64,details:65,spaceList:66,",":67,left_of:68,right_of:69,signaltype:70,"+":71,"-":72,ACTOR:73,SOLID_OPEN_ARROW:74,DOTTED_OPEN_ARROW:75,SOLID_ARROW:76,DOTTED_ARROW:77,SOLID_CROSS:78,DOTTED_CROSS:79,SOLID_POINT:80,DOTTED_POINT:81,TXT:82,open_directive:83,type_directive:84,arg_directive:85,close_directive:86,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",17:":",19:"box",20:"restOfLine",21:"end",23:"autonumber",24:"NUM",25:"off",26:"activate",28:"deactivate",34:"title",35:"legacy_title",36:"acc_title",37:"acc_title_value",38:"acc_descr",39:"acc_descr_value",40:"acc_descr_multiline_value",41:"loop",42:"rect",43:"opt",44:"alt",46:"par",48:"critical",50:"break",51:"option",52:"and",53:"else",54:"participant",55:"AS",56:"participant_actor",57:"note",60:"over",62:"links",63:"link",64:"properties",65:"details",67:",",68:"left_of",69:"right_of",71:"+",72:"-",73:"ACTOR",74:"SOLID_OPEN_ARROW",75:"DOTTED_OPEN_ARROW",76:"SOLID_ARROW",77:"DOTTED_ARROW",78:"SOLID_CROSS",79:"DOTTED_CROSS",80:"SOLID_POINT",81:"DOTTED_POINT",82:"TXT",83:"open_directive",84:"type_directive",85:"arg_directive",86:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[11,0],[11,2],[12,2],[12,1],[12,1],[6,4],[6,6],[10,1],[10,4],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[49,1],[49,4],[47,1],[47,4],[45,1],[45,4],[13,5],[13,3],[13,5],[13,3],[29,4],[29,4],[30,3],[31,3],[32,3],[33,3],[66,2],[66,1],[61,3],[61,1],[58,1],[58,1],[22,5],[22,5],[22,4],[27,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[59,1],[14,1],[15,1],[18,1],[16,1]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 4:return i.apply(o[a]),o[a];case 5:case 10:case 9:case 14:this.$=[];break;case 6:case 11:o[a-1].push(o[a]),this.$=o[a-1];break;case 7:case 8:case 12:case 13:case 63:this.$=o[a];break;case 18:o[a-1].unshift({type:"boxStart",boxData:i.parseBoxData(o[a-2])}),o[a-1].push({type:"boxEnd",boxText:o[a-2]}),this.$=o[a-1];break;case 20:this.$={type:"sequenceIndex",sequenceIndex:Number(o[a-2]),sequenceIndexStep:Number(o[a-1]),sequenceVisible:!0,signalType:i.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceIndex:Number(o[a-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:i.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:i.LINETYPE.AUTONUMBER};break;case 23:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:i.LINETYPE.AUTONUMBER};break;case 24:this.$={type:"activeStart",signalType:i.LINETYPE.ACTIVE_START,actor:o[a-1]};break;case 25:this.$={type:"activeEnd",signalType:i.LINETYPE.ACTIVE_END,actor:o[a-1]};break;case 31:i.setDiagramTitle(o[a].substring(6)),this.$=o[a].substring(6);break;case 32:i.setDiagramTitle(o[a].substring(7)),this.$=o[a].substring(7);break;case 33:this.$=o[a].trim(),i.setAccTitle(this.$);break;case 34:case 35:this.$=o[a].trim(),i.setAccDescription(this.$);break;case 36:o[a-1].unshift({type:"loopStart",loopText:i.parseMessage(o[a-2]),signalType:i.LINETYPE.LOOP_START}),o[a-1].push({type:"loopEnd",loopText:o[a-2],signalType:i.LINETYPE.LOOP_END}),this.$=o[a-1];break;case 37:o[a-1].unshift({type:"rectStart",color:i.parseMessage(o[a-2]),signalType:i.LINETYPE.RECT_START}),o[a-1].push({type:"rectEnd",color:i.parseMessage(o[a-2]),signalType:i.LINETYPE.RECT_END}),this.$=o[a-1];break;case 38:o[a-1].unshift({type:"optStart",optText:i.parseMessage(o[a-2]),signalType:i.LINETYPE.OPT_START}),o[a-1].push({type:"optEnd",optText:i.parseMessage(o[a-2]),signalType:i.LINETYPE.OPT_END}),this.$=o[a-1];break;case 39:o[a-1].unshift({type:"altStart",altText:i.parseMessage(o[a-2]),signalType:i.LINETYPE.ALT_START}),o[a-1].push({type:"altEnd",signalType:i.LINETYPE.ALT_END}),this.$=o[a-1];break;case 40:o[a-1].unshift({type:"parStart",parText:i.parseMessage(o[a-2]),signalType:i.LINETYPE.PAR_START}),o[a-1].push({type:"parEnd",signalType:i.LINETYPE.PAR_END}),this.$=o[a-1];break;case 41:o[a-1].unshift({type:"criticalStart",criticalText:i.parseMessage(o[a-2]),signalType:i.LINETYPE.CRITICAL_START}),o[a-1].push({type:"criticalEnd",signalType:i.LINETYPE.CRITICAL_END}),this.$=o[a-1];break;case 42:o[a-1].unshift({type:"breakStart",breakText:i.parseMessage(o[a-2]),signalType:i.LINETYPE.BREAK_START}),o[a-1].push({type:"breakEnd",optText:i.parseMessage(o[a-2]),signalType:i.LINETYPE.BREAK_END}),this.$=o[a-1];break;case 45:this.$=o[a-3].concat([{type:"option",optionText:i.parseMessage(o[a-1]),signalType:i.LINETYPE.CRITICAL_OPTION},o[a]]);break;case 47:this.$=o[a-3].concat([{type:"and",parText:i.parseMessage(o[a-1]),signalType:i.LINETYPE.PAR_AND},o[a]]);break;case 49:this.$=o[a-3].concat([{type:"else",altText:i.parseMessage(o[a-1]),signalType:i.LINETYPE.ALT_ELSE},o[a]]);break;case 50:o[a-3].type="addParticipant",o[a-3].description=i.parseMessage(o[a-1]),this.$=o[a-3];break;case 51:o[a-1].type="addParticipant",this.$=o[a-1];break;case 52:o[a-3].type="addActor",o[a-3].description=i.parseMessage(o[a-1]),this.$=o[a-3];break;case 53:o[a-1].type="addActor",this.$=o[a-1];break;case 54:this.$=[o[a-1],{type:"addNote",placement:o[a-2],actor:o[a-1].actor,text:o[a]}];break;case 55:o[a-2]=[].concat(o[a-1],o[a-1]).slice(0,2),o[a-2][0]=o[a-2][0].actor,o[a-2][1]=o[a-2][1].actor,this.$=[o[a-1],{type:"addNote",placement:i.PLACEMENT.OVER,actor:o[a-2].slice(0,2),text:o[a]}];break;case 56:this.$=[o[a-1],{type:"addLinks",actor:o[a-1].actor,text:o[a]}];break;case 57:this.$=[o[a-1],{type:"addALink",actor:o[a-1].actor,text:o[a]}];break;case 58:this.$=[o[a-1],{type:"addProperties",actor:o[a-1].actor,text:o[a]}];break;case 59:this.$=[o[a-1],{type:"addDetails",actor:o[a-1].actor,text:o[a]}];break;case 62:this.$=[o[a-2],o[a]];break;case 64:this.$=i.PLACEMENT.LEFTOF;break;case 65:this.$=i.PLACEMENT.RIGHTOF;break;case 66:this.$=[o[a-4],o[a-1],{type:"addMessage",from:o[a-4].actor,to:o[a-1].actor,signalType:o[a-3],msg:o[a]},{type:"activeStart",signalType:i.LINETYPE.ACTIVE_START,actor:o[a-1]}];break;case 67:this.$=[o[a-4],o[a-1],{type:"addMessage",from:o[a-4].actor,to:o[a-1].actor,signalType:o[a-3],msg:o[a]},{type:"activeEnd",signalType:i.LINETYPE.ACTIVE_END,actor:o[a-4]}];break;case 68:this.$=[o[a-3],o[a-1],{type:"addMessage",from:o[a-3].actor,to:o[a-1].actor,signalType:o[a-2],msg:o[a]}];break;case 69:this.$={type:"addParticipant",actor:o[a]};break;case 70:this.$=i.LINETYPE.SOLID_OPEN;break;case 71:this.$=i.LINETYPE.DOTTED_OPEN;break;case 72:this.$=i.LINETYPE.SOLID;break;case 73:this.$=i.LINETYPE.DOTTED;break;case 74:this.$=i.LINETYPE.SOLID_CROSS;break;case 75:this.$=i.LINETYPE.DOTTED_CROSS;break;case 76:this.$=i.LINETYPE.SOLID_POINT;break;case 77:this.$=i.LINETYPE.DOTTED_POINT;break;case 78:this.$=i.parseMessage(o[a].trim().substring(1));break;case 79:i.parseDirective("%%{","open_directive");break;case 80:i.parseDirective(o[a],"type_directive");break;case 81:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 82:i.parseDirective("}%%","close_directive","sequence")}},table:[{3:1,4:e,5:n,6:4,7:i,14:6,83:r},{1:[3]},{3:8,4:e,5:n,6:4,7:i,14:6,83:r},{3:9,4:e,5:n,6:4,7:i,14:6,83:r},{3:10,4:e,5:n,6:4,7:i,14:6,83:r},t([1,4,5,19,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,54,56,57,62,63,64,65,73,83],o,{8:11}),{15:12,84:[1,13]},{84:[2,79]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:s,5:a,6:41,9:14,10:16,13:18,14:6,19:c,22:20,23:l,26:u,27:44,28:h,29:24,30:25,31:26,32:27,33:28,34:d,35:f,36:g,38:p,40:m,41:b,42:w,43:y,44:v,46:_,48:k,50:x,54:E,56:T,57:C,62:A,63:S,64:I,65:M,73:P,83:r},{16:51,17:[1,52],86:O},t([17,86],[2,80]),t(D,[2,6]),{6:41,10:54,13:18,14:6,19:c,22:20,23:l,26:u,27:44,28:h,29:24,30:25,31:26,32:27,33:28,34:d,35:f,36:g,38:p,40:m,41:b,42:w,43:y,44:v,46:_,48:k,50:x,54:E,56:T,57:C,62:A,63:S,64:I,65:M,73:P,83:r},t(D,[2,8]),t(D,[2,9]),t(D,[2,17]),{20:[1,55]},{5:[1,56]},{5:[1,59],24:[1,57],25:[1,58]},{27:60,73:P},{27:61,73:P},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},{5:[1,66]},t(D,[2,31]),t(D,[2,32]),{37:[1,67]},{39:[1,68]},t(D,[2,35]),{20:[1,69]},{20:[1,70]},{20:[1,71]},{20:[1,72]},{20:[1,73]},{20:[1,74]},{20:[1,75]},t(D,[2,43]),{27:76,73:P},{27:77,73:P},{70:78,74:[1,79],75:[1,80],76:[1,81],77:[1,82],78:[1,83],79:[1,84],80:[1,85],81:[1,86]},{58:87,60:[1,88],68:[1,89],69:[1,90]},{27:91,73:P},{27:92,73:P},{27:93,73:P},{27:94,73:P},t([5,55,67,74,75,76,77,78,79,80,81,82],[2,69]),{5:[1,95]},{18:96,85:[1,97]},{5:[2,82]},t(D,[2,7]),t(N,[2,10],{11:98}),t(D,[2,19]),{5:[1,100],24:[1,99]},{5:[1,101]},t(D,[2,23]),{5:[1,102]},{5:[1,103]},t(D,[2,26]),t(D,[2,27]),t(D,[2,28]),t(D,[2,29]),t(D,[2,30]),t(D,[2,33]),t(D,[2,34]),t(L,o,{8:104}),t(L,o,{8:105}),t(L,o,{8:106}),t(R,o,{45:107,8:108}),t(B,o,{47:109,8:110}),t(F,o,{49:111,8:112}),t(L,o,{8:113}),{5:[1,115],55:[1,114]},{5:[1,117],55:[1,116]},{27:120,71:[1,118],72:[1,119],73:P},t(j,[2,70]),t(j,[2,71]),t(j,[2,72]),t(j,[2,73]),t(j,[2,74]),t(j,[2,75]),t(j,[2,76]),t(j,[2,77]),{27:121,73:P},{27:123,61:122,73:P},{73:[2,64]},{73:[2,65]},{59:124,82:$},{59:126,82:$},{59:127,82:$},{59:128,82:$},t(V,[2,15]),{16:129,86:O},{86:[2,81]},{4:[1,132],5:[1,134],12:131,13:133,21:[1,130],54:E,56:T},{5:[1,135]},t(D,[2,21]),t(D,[2,22]),t(D,[2,24]),t(D,[2,25]),{4:s,5:a,6:41,9:14,10:16,13:18,14:6,19:c,21:[1,136],22:20,23:l,26:u,27:44,28:h,29:24,30:25,31:26,32:27,33:28,34:d,35:f,36:g,38:p,40:m,41:b,42:w,43:y,44:v,46:_,48:k,50:x,54:E,56:T,57:C,62:A,63:S,64:I,65:M,73:P,83:r},{4:s,5:a,6:41,9:14,10:16,13:18,14:6,19:c,21:[1,137],22:20,23:l,26:u,27:44,28:h,29:24,30:25,31:26,32:27,33:28,34:d,35:f,36:g,38:p,40:m,41:b,42:w,43:y,44:v,46:_,48:k,50:x,54:E,56:T,57:C,62:A,63:S,64:I,65:M,73:P,83:r},{4:s,5:a,6:41,9:14,10:16,13:18,14:6,19:c,21:[1,138],22:20,23:l,26:u,27:44,28:h,29:24,30:25,31:26,32:27,33:28,34:d,35:f,36:g,38:p,40:m,41:b,42:w,43:y,44:v,46:_,48:k,50:x,54:E,56:T,57:C,62:A,63:S,64:I,65:M,73:P,83:r},{21:[1,139]},{4:s,5:a,6:41,9:14,10:16,13:18,14:6,19:c,21:[2,48],22:20,23:l,26:u,27:44,28:h,29:24,30:25,31:26,32:27,33:28,34:d,35:f,36:g,38:p,40:m,41:b,42:w,43:y,44:v,46:_,48:k,50:x,53:[1,140],54:E,56:T,57:C,62:A,63:S,64:I,65:M,73:P,83:r},{21:[1,141]},{4:s,5:a,6:41,9:14,10:16,13:18,14:6,19:c,21:[2,46],22:20,23:l,26:u,27:44,28:h,29:24,30:25,31:26,32:27,33:28,34:d,35:f,36:g,38:p,40:m,41:b,42:w,43:y,44:v,46:_,48:k,50:x,52:[1,142],54:E,56:T,57:C,62:A,63:S,64:I,65:M,73:P,83:r},{21:[1,143]},{4:s,5:a,6:41,9:14,10:16,13:18,14:6,19:c,21:[2,44],22:20,23:l,26:u,27:44,28:h,29:24,30:25,31:26,32:27,33:28,34:d,35:f,36:g,38:p,40:m,41:b,42:w,43:y,44:v,46:_,48:k,50:x,51:[1,144],54:E,56:T,57:C,62:A,63:S,64:I,65:M,73:P,83:r},{4:s,5:a,6:41,9:14,10:16,13:18,14:6,19:c,21:[1,145],22:20,23:l,26:u,27:44,28:h,29:24,30:25,31:26,32:27,33:28,34:d,35:f,36:g,38:p,40:m,41:b,42:w,43:y,44:v,46:_,48:k,50:x,54:E,56:T,57:C,62:A,63:S,64:I,65:M,73:P,83:r},{20:[1,146]},t(D,[2,51]),{20:[1,147]},t(D,[2,53]),{27:148,73:P},{27:149,73:P},{59:150,82:$},{59:151,82:$},{59:152,82:$},{67:[1,153],82:[2,63]},{5:[2,56]},{5:[2,78]},{5:[2,57]},{5:[2,58]},{5:[2,59]},{5:[1,154]},t(D,[2,18]),t(N,[2,11]),{13:155,54:E,56:T},t(N,[2,13]),t(N,[2,14]),t(D,[2,20]),t(D,[2,36]),t(D,[2,37]),t(D,[2,38]),t(D,[2,39]),{20:[1,156]},t(D,[2,40]),{20:[1,157]},t(D,[2,41]),{20:[1,158]},t(D,[2,42]),{5:[1,159]},{5:[1,160]},{59:161,82:$},{59:162,82:$},{5:[2,68]},{5:[2,54]},{5:[2,55]},{27:163,73:P},t(V,[2,16]),t(N,[2,12]),t(R,o,{8:108,45:164}),t(B,o,{8:110,47:165}),t(F,o,{8:112,49:166}),t(D,[2,50]),t(D,[2,52]),{5:[2,66]},{5:[2,67]},{82:[2,62]},{21:[2,49]},{21:[2,47]},{21:[2,45]}],defaultActions:{7:[2,79],8:[2,1],9:[2,2],10:[2,3],53:[2,82],89:[2,64],90:[2,65],97:[2,81],124:[2,56],125:[2,78],126:[2,57],127:[2,58],128:[2,59],150:[2,68],151:[2,54],152:[2,55],161:[2,66],162:[2,67],163:[2,62],164:[2,49],165:[2,47],166:[2,45]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",c=0,l=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),g={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(g.yy[p]=this.yy[p]);f.setInput(t,g.yy),g.yy.lexer=f,g.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var b=f.options&&f.options.ranges;function w(){var t;return"number"!=typeof(t=i.pop()||f.lex()||h)&&(t instanceof Array&&(t=(i=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,v,_,k,x,E,T,C,A={};;){if(v=n[n.length-1],this.defaultActions[v]?_=this.defaultActions[v]:(null==y&&(y=w()),_=s[v]&&s[v][y]),void 0===_||!_.length||!_[0]){var S="";for(x in C=[],s[v])this.terminals_[x]&&x>u&&C.push("'"+this.terminals_[x]+"'");S=f.showPosition?"Parse error on line "+(c+1)+":\n"+f.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(c+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[y]||y,line:f.yylineno,loc:m,expected:C})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+y);switch(_[0]){case 1:n.push(y),r.push(f.yytext),o.push(f.yylloc),n.push(_[1]),y=null,l=f.yyleng,a=f.yytext,c=f.yylineno,m=f.yylloc;break;case 2:if(E=this.productions_[_[1]][1],A.$=r[r.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(A,[a,l,c,g.yy,_[1],r,o].concat(d))))return k;E&&(n=n.slice(0,-1*E*2),r=r.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[_[1]][0]),r.push(A.$),o.push(A._$),T=s[n[n.length-2]][n[n.length-1]],n.push(T);break;case 3:return!0}}return!0}},H={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,i){switch(n){case 0:return this.begin("open_directive"),83;case 1:return this.begin("type_directive"),84;case 2:return this.popState(),this.begin("arg_directive"),17;case 3:return this.popState(),this.popState(),86;case 4:return 85;case 5:case 53:case 66:return 5;case 6:case 7:case 8:case 9:case 10:break;case 11:return 24;case 12:return this.begin("LINE"),19;case 13:return this.begin("ID"),54;case 14:return this.begin("ID"),56;case 15:return e.yytext=e.yytext.trim(),this.begin("ALIAS"),73;case 16:return this.popState(),this.popState(),this.begin("LINE"),55;case 17:return this.popState(),this.popState(),5;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),44;case 22:return this.begin("LINE"),53;case 23:return this.begin("LINE"),46;case 24:return this.begin("LINE"),52;case 25:return this.begin("LINE"),48;case 26:return this.begin("LINE"),51;case 27:return this.begin("LINE"),50;case 28:return this.popState(),20;case 29:return 21;case 30:return 68;case 31:return 69;case 32:return 62;case 33:return 63;case 34:return 64;case 35:return 65;case 36:return 60;case 37:return 57;case 38:return this.begin("ID"),26;case 39:return this.begin("ID"),28;case 40:return 34;case 41:return 35;case 42:return this.begin("acc_title"),36;case 43:return this.popState(),"acc_title_value";case 44:return this.begin("acc_descr"),38;case 45:return this.popState(),"acc_descr_value";case 46:this.begin("acc_descr_multiline");break;case 47:this.popState();break;case 48:return"acc_descr_multiline_value";case 49:return 7;case 50:return 23;case 51:return 25;case 52:return 67;case 54:return e.yytext=e.yytext.trim(),73;case 55:return 76;case 56:return 77;case 57:return 74;case 58:return 75;case 59:return 78;case 60:return 79;case 61:return 80;case 62:return 81;case 63:return 82;case 64:return 71;case 65:return 72;case 67:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[47,48],inclusive:!1},acc_descr:{rules:[45],inclusive:!1},acc_title:{rules:[43],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,15],inclusive:!1},ALIAS:{rules:[7,8,16,17],inclusive:!1},LINE:{rules:[7,8,28],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,14,18,19,20,21,22,23,24,25,26,27,29,30,31,32,33,34,35,36,37,38,39,40,41,42,44,46,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}};function U(){this.yy={}}return z.lexer=H,U.prototype=z,z.Parser=U,new U}();pF.parser=pF;const mF=pF,bF=t=>null!==t.match(/^\s*sequenceDiagram/);let wF,yF,vF,_F={},kF=[],xF=[],EF=!1;const TF=function(t){kF.push({name:t.text,wrap:void 0===t.wrap&&PF()||!!t.wrap,fill:t.color,actorKeys:[]}),vF=kF.slice(-1)[0]},CF=function(t,e,n,i){let r=vF;const o=_F[t];if(o){if(vF&&o.box&&vF!==o.box)throw new Error("A same participant should only be defined in one Box: "+o.name+" can't be in '"+o.box.name+"' and in '"+vF.name+"' at the same time.");if(r=o.box?o.box:vF,o.box=r,o&&e===o.name&&null==n)return}null!=n&&null!=n.text||(n={text:e,wrap:null,type:i}),null!=i&&null!=n.text||(n={text:e,wrap:null,type:i}),_F[t]={box:r,name:e,description:n.text,wrap:void 0===n.wrap&&PF()||!!n.wrap,prevActor:wF,links:{},properties:{},actorCnt:null,rectData:null,type:i||"participant"},wF&&_F[wF]&&(_F[wF].nextActor=t),vF&&vF.actorKeys.push(t),wF=t},AF=t=>{let e,n=0;for(e=0;e<xF.length;e++)xF[e].type===OF.ACTIVE_START&&xF[e].from.actor===t&&n++,xF[e].type===OF.ACTIVE_END&&xF[e].from.actor===t&&n--;return n},SF=function(t,e,n,i){xF.push({from:t,to:e,message:n.text,wrap:void 0===n.wrap&&PF()||!!n.wrap,answer:i})},IF=function(t,e,n={text:void 0,wrap:void 0},i){if(i===OF.ACTIVE_END&&AF(t.actor)<1){let e=new Error("Trying to inactivate an inactive participant ("+t.actor+")");throw e.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},e}return xF.push({from:t,to:e,message:n.text,wrap:void 0===n.wrap&&PF()||!!n.wrap,type:i}),!0},MF=function(t){return _F[t]},PF=()=>void 0!==yF?yF:xw().sequence.wrap,OF={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},DF=function(t,e,n){n.text,void 0===n.wrap&&PF()||n.wrap;const i=[].concat(t,t);xF.push({from:i[0],to:i[1],message:n.text,wrap:void 0===n.wrap&&PF()||!!n.wrap,type:OF.NOTE,placement:e})},NF=function(t,e){const n=MF(t);try{let t=Wh(e.text,xw());t=t.replace(/&amp;/g,"&"),t=t.replace(/&equals;/g,"="),RF(n,JSON.parse(t))}catch(t){h.error("error while parsing actor link text",t)}},LF=function(t,e){const n=MF(t);try{const t={};let s=Wh(e.text,xw());var i=s.indexOf("@");s=s.replace(/&amp;/g,"&"),s=s.replace(/&equals;/g,"=");var r=s.slice(0,i-1).trim(),o=s.slice(i+1).trim();t[r]=o,RF(n,t)}catch(t){h.error("error while parsing actor link text",t)}};function RF(t,e){if(null==t.links)t.links=e;else for(let n in e)t.links[n]=e[n]}const BF=function(t,e){const n=MF(t);try{let t=Wh(e.text,xw());FF(n,JSON.parse(t))}catch(t){h.error("error while parsing actor properties text",t)}};function FF(t,e){if(null==t.properties)t.properties=e;else for(let n in e)t.properties[n]=e[n]}function jF(){vF=void 0}const $F=function(t,e){const n=MF(t),i=document.getElementById(e.text);try{const t=i.innerHTML,e=JSON.parse(t);e.properties&&FF(n,e.properties),e.links&&RF(n,e.links)}catch(t){h.error("error while parsing actor details text",t)}},VF=function(t){if(Array.isArray(t))t.forEach((function(t){VF(t)}));else switch(t.type){case"sequenceIndex":xF.push({from:void 0,to:void 0,message:{start:t.sequenceIndex,step:t.sequenceIndexStep,visible:t.sequenceVisible},wrap:!1,type:t.signalType});break;case"addParticipant":CF(t.actor,t.actor,t.description,"participant");break;case"addActor":CF(t.actor,t.actor,t.description,"actor");break;case"activeStart":case"activeEnd":IF(t.actor,void 0,void 0,t.signalType);break;case"addNote":DF(t.actor,t.placement,t.text);break;case"addLinks":NF(t.actor,t.text);break;case"addALink":LF(t.actor,t.text);break;case"addProperties":BF(t.actor,t.text);break;case"addDetails":$F(t.actor,t.text);break;case"addMessage":IF(t.from,t.to,t.msg,t.signalType);break;case"boxStart":TF(t.boxData);break;case"boxEnd":jF();break;case"loopStart":IF(void 0,void 0,t.loopText,t.signalType);break;case"loopEnd":case"rectEnd":case"optEnd":case"altEnd":case"parEnd":case"criticalEnd":case"breakEnd":IF(void 0,void 0,void 0,t.signalType);break;case"rectStart":IF(void 0,void 0,t.color,t.signalType);break;case"optStart":IF(void 0,void 0,t.optText,t.signalType);break;case"altStart":case"else":IF(void 0,void 0,t.altText,t.signalType);break;case"setAccTitle":ey(t.text);break;case"parStart":case"and":IF(void 0,void 0,t.parText,t.signalType);break;case"criticalStart":IF(void 0,void 0,t.criticalText,t.signalType);break;case"option":IF(void 0,void 0,t.optionText,t.signalType);break;case"breakStart":IF(void 0,void 0,t.breakText,t.signalType)}},zF={addActor:CF,addMessage:SF,addSignal:IF,addLinks:NF,addDetails:$F,addProperties:BF,autoWrap:PF,setWrap:function(t){yF=t},enableSequenceNumbers:function(){EF=!0},disableSequenceNumbers:function(){EF=!1},showSequenceNumbers:()=>EF,getMessages:function(){return xF},getActors:function(){return _F},getActor:MF,getActorKeys:function(){return Object.keys(_F)},getActorProperty:function(t,e){if(void 0!==t&&void 0!==t.properties)return t.properties[e]},getAccTitle:ny,getBoxes:function(){return kF},getDiagramTitle:sy,setDiagramTitle:oy,parseDirective:function(t,e,n){bH.parseDirective(this,t,e,n)},getConfig:()=>xw().sequence,clear:function(){_F={},kF=[],xF=[],EF=!1,ty()},parseMessage:function(t){const e=t.trim(),n={text:e.replace(/^:?(?:no)?wrap:/,"").trim(),wrap:null!==e.match(/^:?wrap:/)||null===e.match(/^:?nowrap:/)&&void 0};return h.debug("parseMessage:",n),n},parseBoxData:function(t){const e=t.match(/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/);let n=null!=e&&e[1]?e[1].trim():"transparent",i=null!=e&&e[2]?e[2].trim():void 0;if(window&&window.CSS)window.CSS.supports("color",n)||(n="transparent",i=t.trim());else{const e=(new Option).style;e.color=n,e.color!==n&&(n="transparent",i=t.trim())}return{color:n,text:void 0!==i?Wh(i.replace(/^:?(?:no)?wrap:/,""),xw()):void 0,wrap:void 0!==i?null!==i.match(/^:?wrap:/)||null===i.match(/^:?nowrap:/)&&void 0:void 0}},LINETYPE:OF,ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},addNote:DF,setAccTitle:ey,apply:VF,setAccDescription:iy,getAccDescription:ry,hasAtLeastOneBox:function(){return kF.length>0},hasAtLeastOneBoxWithTitle:function(){return kF.some((t=>t.name))}};let HF=[];const UF=t=>{HF.push(t)},qF=()=>{HF.forEach((t=>{t()})),HF=[]},WF=function(t,e){const n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),void 0!==e.class&&n.attr("class",e.class),n},GF=(t,e)=>{UF((()=>{const n=document.querySelectorAll(t);0!==n.length&&(n[0].addEventListener("mouseover",(function(){JF("actor"+e+"_popup")})),n[0].addEventListener("mouseout",(function(){tj("actor"+e+"_popup")})))}))},KF=function(t,e,n,i,r){if(void 0===e.links||null===e.links||0===Object.keys(e.links).length)return{height:0,width:0};const o=e.links,s=e.actorCnt,a=e.rectData;var c="none";r&&(c="block !important");const l=t.append("g");l.attr("id","actor"+s+"_popup"),l.attr("class","actorPopupMenu"),l.attr("display",c),GF("#actor"+s+"_popup",s);var u="";void 0!==a.class&&(u=" "+a.class);let h=a.width>n?a.width:n;const d=l.append("rect");if(d.attr("class","actorPopupMenuPanel"+u),d.attr("x",a.x),d.attr("y",a.height),d.attr("fill",a.fill),d.attr("stroke",a.stroke),d.attr("width",h),d.attr("height",a.height),d.attr("rx",a.rx),d.attr("ry",a.ry),null!=o){var f=20;for(let t in o){var g=l.append("a"),m=p(o[t]);g.attr("xlink:href",m),g.attr("target","_blank"),xj(i)(t,g,a.x+10,a.height+f,h,20,{class:"actor"},i),f+=30}}return d.attr("height",f),{height:a.height+f,width:h}},YF=function(t,e,n,i){const r=t.append("image");r.attr("x",e),r.attr("y",n);var o=p(i);r.attr("xlink:href",o)},XF=function(t,e,n,i){const r=t.append("use");r.attr("x",e),r.attr("y",n);var o=p(i);r.attr("xlink:href","#"+o)},ZF=function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = 'block'; }"},QF=function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = 'none'; }"},JF=function(t){var e=document.getElementById(t);null!=e&&(e.style.display="block")},tj=function(t){var e=document.getElementById(t);null!=e&&(e.style.display="none")},ej=function(t,e){let n=0,i=0;const r=e.text.split(Jh.lineBreakRegex),[o,s]=yb(e.fontSize);let a=[],c=0,l=()=>e.y;if(void 0!==e.valign&&void 0!==e.textMargin&&e.textMargin>0)switch(e.valign){case"top":case"start":l=()=>Math.round(e.y+e.textMargin);break;case"middle":case"center":l=()=>Math.round(e.y+(n+i+e.textMargin)/2);break;case"bottom":case"end":l=()=>Math.round(e.y+(n+i+2*e.textMargin)-e.textMargin)}if(void 0!==e.anchor&&void 0!==e.textMargin&&void 0!==e.width)switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="middle",e.alignmentBaseline="middle"}for(let[u,h]of r.entries()){void 0!==e.textMargin&&0===e.textMargin&&void 0!==o&&(c=u*o);const r=t.append("text");if(r.attr("x",e.x),r.attr("y",l()),void 0!==e.anchor&&r.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),void 0!==e.fontFamily&&r.style("font-family",e.fontFamily),void 0!==s&&r.style("font-size",s),void 0!==e.fontWeight&&r.style("font-weight",e.fontWeight),void 0!==e.fill&&r.attr("fill",e.fill),void 0!==e.class&&r.attr("class",e.class),void 0!==e.dy?r.attr("dy",e.dy):0!==c&&r.attr("dy",c),e.tspan){const t=r.append("tspan");t.attr("x",e.x),void 0!==e.fill&&t.attr("fill",e.fill),t.text(h)}else r.text(h);void 0!==e.valign&&void 0!==e.textMargin&&e.textMargin>0&&(i+=(r._groups||r)[0][0].getBBox().height,n=i),a.push(r)}return a},nj=function(t,e){function n(t,e,n,i,r){return t+","+e+" "+(t+n)+","+e+" "+(t+n)+","+(e+i-r)+" "+(t+n-1.2*r)+","+(e+i)+" "+t+","+(e+i)}const i=t.append("polygon");return i.attr("points",n(e.x,e.y,e.width,e.height,7)),i.attr("class","labelBox"),e.y=e.y+e.height/2,ej(t,e),i};let ij=-1;const rj=(t,e)=>{t.selectAll&&t.selectAll(".actor-line").attr("class","200").attr("y2",e-55)},oj=function(t,e,n,i){const r=e.x+e.width/2,o=e.y+5,s=t.append("g");var a=s;i||(ij++,a.append("line").attr("id","actor"+ij).attr("x1",r).attr("y1",o).attr("x2",r).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),a=s.append("g"),e.actorCnt=ij,null!=e.links&&(a.attr("id","root-"+ij),GF("#root-"+ij,ij)));const c=_j();var l="actor";null!=e.properties&&e.properties.class?l=e.properties.class:c.fill="#eaeaea",c.x=e.x,c.y=e.y,c.width=e.width,c.height=e.height,c.class=l,c.rx=3,c.ry=3;const u=WF(a,c);if(e.rectData=c,null!=e.properties&&e.properties.icon){const t=e.properties.icon.trim();"@"===t.charAt(0)?XF(a,c.x+c.width-20,c.y+10,t.substr(1)):YF(a,c.x+c.width-20,c.y+10,t)}kj(n)(e.description,a,c.x,c.y,c.width,c.height,{class:"actor"},n);let h=e.height;if(u.node){const t=u.node().getBBox();e.height=t.height,h=t.height}return h},sj=function(t,e,n,i){const r=e.x+e.width/2,o=e.y+80;i||(ij++,t.append("line").attr("id","actor"+ij).attr("x1",r).attr("y1",o).attr("x2",r).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));const s=t.append("g");s.attr("class","actor-man");const a=_j();a.x=e.x,a.y=e.y,a.fill="#eaeaea",a.width=e.width,a.height=e.height,a.class="actor",a.rx=3,a.ry=3,s.append("line").attr("id","actor-man-torso"+ij).attr("x1",r).attr("y1",e.y+25).attr("x2",r).attr("y2",e.y+45),s.append("line").attr("id","actor-man-arms"+ij).attr("x1",r-18).attr("y1",e.y+33).attr("x2",r+18).attr("y2",e.y+33),s.append("line").attr("x1",r-18).attr("y1",e.y+60).attr("x2",r).attr("y2",e.y+45),s.append("line").attr("x1",r).attr("y1",e.y+45).attr("x2",r+16).attr("y2",e.y+60);const c=s.append("circle");c.attr("cx",e.x+e.width/2),c.attr("cy",e.y+10),c.attr("r",15),c.attr("width",e.width),c.attr("height",e.height);const l=s.node().getBBox();return e.height=l.height,kj(n)(e.description,s,a.x,a.y+35,a.width,a.height,{class:"actor"},n),e.height},aj=function(t,e,n,i){switch(e.type){case"actor":return sj(t,e,n,i);case"participant":return oj(t,e,n,i)}},cj=function(t,e,n){const i=t.append("g");dj(i,e),e.name&&kj(n)(e.name,i,e.x,e.y+(e.textMaxHeight||0)/2,e.width,0,{class:"text"},n),i.lower()},lj=function(t){return t.append("g")},uj=function(t,e,n,i,r){const o=_j(),s=e.anchored;o.x=e.startx,o.y=e.starty,o.class="activation"+r%3,o.width=e.stopx-e.startx,o.height=n-e.starty,WF(s,o)},hj=function(t,e,n,i){const{boxMargin:r,boxTextMargin:o,labelBoxHeight:s,labelBoxWidth:a,messageFontFamily:c,messageFontSize:l,messageFontWeight:u}=i,h=t.append("g"),d=function(t,e,n,i){return h.append("line").attr("x1",t).attr("y1",e).attr("x2",n).attr("y2",i).attr("class","loopLine")};d(e.startx,e.starty,e.stopx,e.starty),d(e.stopx,e.starty,e.stopx,e.stopy),d(e.startx,e.stopy,e.stopx,e.stopy),d(e.startx,e.starty,e.startx,e.stopy),void 0!==e.sections&&e.sections.forEach((function(t){d(e.startx,t.y,e.stopx,t.y).style("stroke-dasharray","3, 3")}));let f=vj();f.text=n,f.x=e.startx,f.y=e.starty,f.fontFamily=c,f.fontSize=l,f.fontWeight=u,f.anchor="middle",f.valign="middle",f.tspan=!1,f.width=a||50,f.height=s||20,f.textMargin=o,f.class="labelText",nj(h,f),f=vj(),f.text=e.title,f.x=e.startx+a/2+(e.stopx-e.startx)/2,f.y=e.starty+r+o,f.anchor="middle",f.valign="middle",f.textMargin=o,f.class="loopText",f.fontFamily=c,f.fontSize=l,f.fontWeight=u,f.wrap=!0;let g=ej(h,f);return void 0!==e.sectionTitles&&e.sectionTitles.forEach((function(t,n){if(t.message){f.text=t.message,f.x=e.startx+(e.stopx-e.startx)/2,f.y=e.sections[n].y+r+o,f.class="loopText",f.anchor="middle",f.valign="middle",f.tspan=!1,f.fontFamily=c,f.fontSize=l,f.fontWeight=u,f.wrap=e.wrap,g=ej(h,f);let i=Math.round(g.map((t=>(t._groups||t)[0][0].getBBox().height)).reduce(((t,e)=>t+e)));e.sections[n].height+=i-(r+o)}})),e.height=Math.round(e.stopy-e.starty),h},dj=function(t,e){WF(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,stroke:e.stroke,class:"rect"}).lower()},fj=function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},gj=function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},pj=function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},mj=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},bj=function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},wj=function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},yj=function(t){t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},vj=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},_j=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},kj=function(){function t(t,e,n,r,o,s,a){i(e.append("text").attr("x",n+o/2).attr("y",r+s/2+5).style("text-anchor","middle").text(t),a)}function e(t,e,n,r,o,s,a,c){const{actorFontSize:l,actorFontFamily:u,actorFontWeight:h}=c,[d,f]=yb(l),g=t.split(Jh.lineBreakRegex);for(let t=0;t<g.length;t++){const c=t*d-d*(g.length-1)/2,l=e.append("text").attr("x",n+o/2).attr("y",r).style("text-anchor","middle").style("font-size",f).style("font-weight",h).style("font-family",u);l.append("tspan").attr("x",n+o/2).attr("dy",c).text(g[t]),l.attr("y",r+s/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(l,a)}}function n(t,n,r,o,s,a,c,l){const u=n.append("switch"),h=u.append("foreignObject").attr("x",r).attr("y",o).attr("width",s).attr("height",a).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,u,r,o,s,a,c,l),i(h,c)}function i(t,e){for(const n in e)e.hasOwnProperty(n)&&t.attr(n,e[n])}return function(i){return"fo"===i.textPlacement?n:"old"===i.textPlacement?t:e}}(),xj=function(){function t(t,e,n,r,o,s,a){i(e.append("text").attr("x",n).attr("y",r).style("text-anchor","start").text(t),a)}function e(t,e,n,r,o,s,a,c){const{actorFontSize:l,actorFontFamily:u,actorFontWeight:h}=c,d=t.split(Jh.lineBreakRegex);for(let t=0;t<d.length;t++){const o=t*l-l*(d.length-1)/2,c=e.append("text").attr("x",n).attr("y",r).style("text-anchor","start").style("font-size",l).style("font-weight",h).style("font-family",u);c.append("tspan").attr("x",n).attr("dy",o).text(d[t]),c.attr("y",r+s/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(c,a)}}function n(t,n,r,o,s,a,c,l){const u=n.append("switch"),h=u.append("foreignObject").attr("x",r).attr("y",o).attr("width",s).attr("height",a).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,u,r,o,s,a,c,l),i(h,c)}function i(t,e){for(const n in e)e.hasOwnProperty(n)&&t.attr(n,e[n])}return function(i){return"fo"===i.textPlacement?n:"old"===i.textPlacement?t:e}}(),Ej={drawRect:WF,drawText:ej,drawLabel:nj,drawActor:aj,drawBox:cj,drawPopup:KF,drawImage:YF,drawEmbeddedImage:XF,anchorElement:lj,drawActivation:uj,drawLoop:hj,drawBackgroundRect:dj,insertArrowHead:mj,insertArrowFilledHead:bj,insertSequenceNumber:wj,insertArrowCrossHead:yj,insertDatabaseIcon:fj,insertComputerIcon:gj,insertClockIcon:pj,getTextObj:vj,getNoteRect:_j,popupMenu:ZF,popdownMenu:QF,fixLifeLineHeights:rj,sanitizeUrl:p};let Tj={};const Cj={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,0===this.actors.length?[0]:this.actors.map((t=>t.height||0)))+(0===this.loops.length?0:this.loops.map((t=>t.height||0)).reduce(((t,e)=>t+e)))+(0===this.messages.length?0:this.messages.map((t=>t.height||0)).reduce(((t,e)=>t+e)))+(0===this.notes.length?0:this.notes.map((t=>t.height||0)).reduce(((t,e)=>t+e)))},clear:function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},addBox:function(t){this.boxes.push(t)},addActor:function(t){this.actors.push(t)},addLoop:function(t){this.loops.push(t)},addMessage:function(t){this.messages.push(t)},addNote:function(t){this.notes.push(t)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],boxes:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,Lj(xw())},updateVal:function(t,e,n,i){void 0===t[e]?t[e]=n:t[e]=i(n,t[e])},updateBounds:function(t,e,n,i){const r=this;let o=0;function s(s){return function(a){o++;const c=r.sequenceItems.length-o+1;r.updateVal(a,"starty",e-c*Tj.boxMargin,Math.min),r.updateVal(a,"stopy",i+c*Tj.boxMargin,Math.max),r.updateVal(Cj.data,"startx",t-c*Tj.boxMargin,Math.min),r.updateVal(Cj.data,"stopx",n+c*Tj.boxMargin,Math.max),"activation"!==s&&(r.updateVal(a,"startx",t-c*Tj.boxMargin,Math.min),r.updateVal(a,"stopx",n+c*Tj.boxMargin,Math.max),r.updateVal(Cj.data,"starty",e-c*Tj.boxMargin,Math.min),r.updateVal(Cj.data,"stopy",i+c*Tj.boxMargin,Math.max))}}this.sequenceItems.forEach(s()),this.activations.forEach(s("activation"))},insert:function(t,e,n,i){const r=Math.min(t,n),o=Math.max(t,n),s=Math.min(e,i),a=Math.max(e,i);this.updateVal(Cj.data,"startx",r,Math.min),this.updateVal(Cj.data,"starty",s,Math.min),this.updateVal(Cj.data,"stopx",o,Math.max),this.updateVal(Cj.data,"stopy",a,Math.max),this.updateBounds(r,s,o,a)},newActivation:function(t,e,n){const i=n[t.from.actor],r=Rj(t.from.actor).length||0,o=i.x+i.width/2+(r-1)*Tj.activationWidth/2;this.activations.push({startx:o,starty:this.verticalPos+2,stopx:o+Tj.activationWidth,stopy:void 0,actor:t.from.actor,anchored:Ej.anchorElement(e)})},endActivation:function(t){const e=this.activations.map((function(t){return t.actor})).lastIndexOf(t.from.actor);return this.activations.splice(e,1)[0]},createLoop:function(t={message:void 0,wrap:!1,width:void 0},e){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t.message,wrap:t.wrap,width:t.width,height:0,fill:e}},newLoop:function(t={message:void 0,wrap:!1,width:void 0},e){this.sequenceItems.push(this.createLoop(t,e))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(t){const e=this.sequenceItems.pop();e.sections=e.sections||[],e.sectionTitles=e.sectionTitles||[],e.sections.push({y:Cj.getVerticalPos(),height:0}),e.sectionTitles.push(t),this.sequenceItems.push(e)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},Aj=function(t,e){Cj.bumpVerticalPos(Tj.boxMargin),e.height=Tj.boxMargin,e.starty=Cj.getVerticalPos();const n=Ej.getNoteRect();n.x=e.startx,n.y=e.starty,n.width=e.width||Tj.width,n.class="note";const i=t.append("g"),r=Ej.drawRect(i,n),o=Ej.getTextObj();o.x=e.startx,o.y=e.starty,o.width=n.width,o.dy="1em",o.text=e.message,o.class="noteText",o.fontFamily=Tj.noteFontFamily,o.fontSize=Tj.noteFontSize,o.fontWeight=Tj.noteFontWeight,o.anchor=Tj.noteAlign,o.textMargin=Tj.noteMargin,o.valign="center";const s=ej(i,o),a=Math.round(s.map((t=>(t._groups||t)[0][0].getBBox().height)).reduce(((t,e)=>t+e)));r.attr("height",a+2*Tj.noteMargin),e.height+=a+2*Tj.noteMargin,Cj.bumpVerticalPos(a+2*Tj.noteMargin),e.stopy=e.starty+a+2*Tj.noteMargin,e.stopx=e.startx+n.width,Cj.insert(e.startx,e.starty,e.stopx,e.stopy),Cj.models.addNote(e)},Sj=t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),Ij=t=>({fontFamily:t.noteFontFamily,fontSize:t.noteFontSize,fontWeight:t.noteFontWeight}),Mj=t=>({fontFamily:t.actorFontFamily,fontSize:t.actorFontSize,fontWeight:t.actorFontWeight});function Pj(t,e){Cj.bumpVerticalPos(10);const{startx:n,stopx:i,message:r}=e,o=Jh.splitBreaks(r).length,s=vb.calculateTextDimensions(r,Sj(Tj)),a=s.height/o;let c;e.height+=a,Cj.bumpVerticalPos(a);let l=s.height-10;const u=s.width;if(n===i){c=Cj.getVerticalPos()+l,Tj.rightAngles||(l+=Tj.boxMargin,c=Cj.getVerticalPos()+l),l+=30;const t=Math.max(u/2,Tj.width/2);Cj.insert(n-t,Cj.getVerticalPos()-10+l,i+t,Cj.getVerticalPos()+30+l)}else l+=Tj.boxMargin,c=Cj.getVerticalPos()+l,Cj.insert(n,c-10,i,c);return Cj.bumpVerticalPos(l),e.height+=l,e.stopy=e.starty+e.height,Cj.insert(e.fromBounds,e.starty,e.toBounds,e.stopy),c}const Oj=function(t,e,n,i){const{startx:r,stopx:o,starty:s,message:a,type:c,sequenceIndex:l,sequenceVisible:u}=e,h=vb.calculateTextDimensions(a,Sj(Tj)),d=Ej.getTextObj();d.x=r,d.y=s+10,d.width=o-r,d.class="messageText",d.dy="1em",d.text=a,d.fontFamily=Tj.messageFontFamily,d.fontSize=Tj.messageFontSize,d.fontWeight=Tj.messageFontWeight,d.anchor=Tj.messageAlign,d.valign="center",d.textMargin=Tj.wrapPadding,d.tspan=!1,ej(t,d);const f=h.width;let g;r===o?g=Tj.rightAngles?t.append("path").attr("d",`M  ${r},${n} H ${r+Math.max(Tj.width/2,f/2)} V ${n+25} H ${r}`):t.append("path").attr("d","M "+r+","+n+" C "+(r+60)+","+(n-10)+" "+(r+60)+","+(n+30)+" "+r+","+(n+20)):(g=t.append("line"),g.attr("x1",r),g.attr("y1",n),g.attr("x2",o),g.attr("y2",n)),c===i.db.LINETYPE.DOTTED||c===i.db.LINETYPE.DOTTED_CROSS||c===i.db.LINETYPE.DOTTED_POINT||c===i.db.LINETYPE.DOTTED_OPEN?(g.style("stroke-dasharray","3, 3"),g.attr("class","messageLine1")):g.attr("class","messageLine0");let p="";Tj.arrowMarkerAbsolute&&(p=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,p=p.replace(/\(/g,"\\("),p=p.replace(/\)/g,"\\)")),g.attr("stroke-width",2),g.attr("stroke","none"),g.style("fill","none"),c!==i.db.LINETYPE.SOLID&&c!==i.db.LINETYPE.DOTTED||g.attr("marker-end","url("+p+"#arrowhead)"),c!==i.db.LINETYPE.SOLID_POINT&&c!==i.db.LINETYPE.DOTTED_POINT||g.attr("marker-end","url("+p+"#filled-head)"),c!==i.db.LINETYPE.SOLID_CROSS&&c!==i.db.LINETYPE.DOTTED_CROSS||g.attr("marker-end","url("+p+"#crosshead)"),(u||Tj.showSequenceNumbers)&&(g.attr("marker-start","url("+p+"#sequencenumber)"),t.append("text").attr("x",r).attr("y",n+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(l))},Dj=function(t,e,n,i,r,o,s){if(!0===r.hideUnusedParticipants){const t=new Set;o.forEach((e=>{t.add(e.from),t.add(e.to)})),n=n.filter((e=>t.has(e)))}let a,c=0,l=0,u=0;for(const r of n){const n=e[r],o=n.box;a&&a!=o&&(s||Cj.models.addBox(a),l+=Tj.boxMargin+a.margin),o&&o!=a&&(s||(o.x=c+l,o.y=i),l+=o.margin),n.width=n.width||Tj.width,n.height=Math.max(n.height||Tj.height,Tj.height),n.margin=n.margin||Tj.actorMargin,n.x=c+l,n.y=Cj.getVerticalPos();const h=Ej.drawActor(t,n,Tj,s);u=Math.max(u,h),Cj.insert(n.x,i,n.x+n.width,n.height),c+=n.width+l,n.box&&(n.box.width=c+o.margin-n.box.x),l=n.margin,a=n.box,Cj.models.addActor(n)}a&&!s&&Cj.models.addBox(a),Cj.bumpVerticalPos(u)},Nj=function(t,e,n,i){let r=0,o=0;for(const s of n){const n=e[s],a=Vj(n),c=Ej.drawPopup(t,n,a,Tj,Tj.forceMenus,i);c.height>r&&(r=c.height),c.width+n.x>o&&(o=c.width+n.x)}return{maxHeight:r,maxWidth:o}},Lj=function(t){Ap(Tj,t),t.fontFamily&&(Tj.actorFontFamily=Tj.noteFontFamily=Tj.messageFontFamily=t.fontFamily),t.fontSize&&(Tj.actorFontSize=Tj.noteFontSize=Tj.messageFontSize=t.fontSize),t.fontWeight&&(Tj.actorFontWeight=Tj.noteFontWeight=Tj.messageFontWeight=t.fontWeight)},Rj=function(t){return Cj.activations.filter((function(e){return e.actor===t}))},Bj=function(t,e){const n=e[t],i=Rj(t);return[i.reduce((function(t,e){return Math.min(t,e.startx)}),n.x+n.width/2),i.reduce((function(t,e){return Math.max(t,e.stopx)}),n.x+n.width/2)]};function Fj(t,e,n,i,r){Cj.bumpVerticalPos(n);let o=i;if(e.id&&e.message&&t[e.id]){const n=t[e.id].width,r=Sj(Tj);e.message=vb.wrapLabel(`[${e.message}]`,n-2*Tj.wrapPadding,r),e.width=n,e.wrap=!0;const s=vb.calculateTextDimensions(e.message,r),a=Math.max(s.height,Tj.labelBoxHeight);o=i+a,h.debug(`${a} - ${e.message}`)}r(e),Cj.bumpVerticalPos(o)}const jj=function(t,e,n,i){const{securityLevel:r,sequence:o}=xw();let s;Tj=o,i.db.clear(),i.parser.parse(t),"sandbox"===r&&(s=un("#i"+e));const a=un("sandbox"===r?s.nodes()[0].contentDocument.body:"body"),c="sandbox"===r?s.nodes()[0].contentDocument:document;Cj.init(),h.debug(i.db);const l="sandbox"===r?a.select(`[id="${e}"]`):un(`[id="${e}"]`),u=i.db.getActors(),d=i.db.getBoxes(),f=i.db.getActorKeys(),g=i.db.getMessages(),p=i.db.getDiagramTitle(),m=i.db.hasAtLeastOneBox(),b=i.db.hasAtLeastOneBoxWithTitle(),w=$j(u,g,i);Tj.height=zj(u,w,d),Ej.insertComputerIcon(l),Ej.insertDatabaseIcon(l),Ej.insertClockIcon(l),m&&(Cj.bumpVerticalPos(Tj.boxMargin),b&&Cj.bumpVerticalPos(d[0].textMaxHeight)),Dj(l,u,f,0,Tj,g,!1);const y=qj(g,u,w,i);function v(t,e){const n=Cj.endActivation(t);n.starty+18>e&&(n.starty=e-6,e+=12),Ej.drawActivation(l,n,e,Tj,Rj(t.from.actor).length),Cj.insert(n.startx,e-10,n.stopx,e)}Ej.insertArrowHead(l),Ej.insertArrowCrossHead(l),Ej.insertArrowFilledHead(l),Ej.insertSequenceNumber(l);let _=1,k=1;const x=[];g.forEach((function(t){let e,n,r;switch(t.type){case i.db.LINETYPE.NOTE:n=t.noteModel,Aj(l,n);break;case i.db.LINETYPE.ACTIVE_START:Cj.newActivation(t,l,u);break;case i.db.LINETYPE.ACTIVE_END:v(t,Cj.getVerticalPos());break;case i.db.LINETYPE.LOOP_START:Fj(y,t,Tj.boxMargin,Tj.boxMargin+Tj.boxTextMargin,(t=>Cj.newLoop(t)));break;case i.db.LINETYPE.LOOP_END:e=Cj.endLoop(),Ej.drawLoop(l,e,"loop",Tj),Cj.bumpVerticalPos(e.stopy-Cj.getVerticalPos()),Cj.models.addLoop(e);break;case i.db.LINETYPE.RECT_START:Fj(y,t,Tj.boxMargin,Tj.boxMargin,(t=>Cj.newLoop(void 0,t.message)));break;case i.db.LINETYPE.RECT_END:e=Cj.endLoop(),Ej.drawBackgroundRect(l,e),Cj.models.addLoop(e),Cj.bumpVerticalPos(e.stopy-Cj.getVerticalPos());break;case i.db.LINETYPE.OPT_START:Fj(y,t,Tj.boxMargin,Tj.boxMargin+Tj.boxTextMargin,(t=>Cj.newLoop(t)));break;case i.db.LINETYPE.OPT_END:e=Cj.endLoop(),Ej.drawLoop(l,e,"opt",Tj),Cj.bumpVerticalPos(e.stopy-Cj.getVerticalPos()),Cj.models.addLoop(e);break;case i.db.LINETYPE.ALT_START:Fj(y,t,Tj.boxMargin,Tj.boxMargin+Tj.boxTextMargin,(t=>Cj.newLoop(t)));break;case i.db.LINETYPE.ALT_ELSE:Fj(y,t,Tj.boxMargin+Tj.boxTextMargin,Tj.boxMargin,(t=>Cj.addSectionToLoop(t)));break;case i.db.LINETYPE.ALT_END:e=Cj.endLoop(),Ej.drawLoop(l,e,"alt",Tj),Cj.bumpVerticalPos(e.stopy-Cj.getVerticalPos()),Cj.models.addLoop(e);break;case i.db.LINETYPE.PAR_START:Fj(y,t,Tj.boxMargin,Tj.boxMargin+Tj.boxTextMargin,(t=>Cj.newLoop(t)));break;case i.db.LINETYPE.PAR_AND:Fj(y,t,Tj.boxMargin+Tj.boxTextMargin,Tj.boxMargin,(t=>Cj.addSectionToLoop(t)));break;case i.db.LINETYPE.PAR_END:e=Cj.endLoop(),Ej.drawLoop(l,e,"par",Tj),Cj.bumpVerticalPos(e.stopy-Cj.getVerticalPos()),Cj.models.addLoop(e);break;case i.db.LINETYPE.AUTONUMBER:_=t.message.start||_,k=t.message.step||k,t.message.visible?i.db.enableSequenceNumbers():i.db.disableSequenceNumbers();break;case i.db.LINETYPE.CRITICAL_START:Fj(y,t,Tj.boxMargin,Tj.boxMargin+Tj.boxTextMargin,(t=>Cj.newLoop(t)));break;case i.db.LINETYPE.CRITICAL_OPTION:Fj(y,t,Tj.boxMargin+Tj.boxTextMargin,Tj.boxMargin,(t=>Cj.addSectionToLoop(t)));break;case i.db.LINETYPE.CRITICAL_END:e=Cj.endLoop(),Ej.drawLoop(l,e,"critical",Tj),Cj.bumpVerticalPos(e.stopy-Cj.getVerticalPos()),Cj.models.addLoop(e);break;case i.db.LINETYPE.BREAK_START:Fj(y,t,Tj.boxMargin,Tj.boxMargin+Tj.boxTextMargin,(t=>Cj.newLoop(t)));break;case i.db.LINETYPE.BREAK_END:e=Cj.endLoop(),Ej.drawLoop(l,e,"break",Tj),Cj.bumpVerticalPos(e.stopy-Cj.getVerticalPos()),Cj.models.addLoop(e);break;default:try{r=t.msgModel,r.starty=Cj.getVerticalPos(),r.sequenceIndex=_,r.sequenceVisible=i.db.showSequenceNumbers();const e=Pj(l,r);x.push({messageModel:r,lineStartY:e}),Cj.models.addMessage(r)}catch(t){h.error("error while drawing message",t)}}[i.db.LINETYPE.SOLID_OPEN,i.db.LINETYPE.DOTTED_OPEN,i.db.LINETYPE.SOLID,i.db.LINETYPE.DOTTED,i.db.LINETYPE.SOLID_CROSS,i.db.LINETYPE.DOTTED_CROSS,i.db.LINETYPE.SOLID_POINT,i.db.LINETYPE.DOTTED_POINT].includes(t.type)&&(_+=k)})),x.forEach((t=>Oj(l,t.messageModel,t.lineStartY,i))),Tj.mirrorActors&&(Cj.bumpVerticalPos(2*Tj.boxMargin),Dj(l,u,f,Cj.getVerticalPos(),Tj,g,!0),Cj.bumpVerticalPos(Tj.boxMargin),rj(l,Cj.getVerticalPos())),Cj.models.boxes.forEach((function(t){t.height=Cj.getVerticalPos()-t.y,Cj.insert(t.x,t.y,t.x+t.width,t.height),t.startx=t.x,t.starty=t.y,t.stopx=t.startx+t.width,t.stopy=t.starty+t.height,t.stroke="rgb(0,0,0, 0.5)",Ej.drawBox(l,t,Tj)})),m&&Cj.bumpVerticalPos(Tj.boxMargin);const E=Nj(l,u,f,c),{bounds:T}=Cj.getBounds();h.debug("For line height fix Querying: #"+e+" .actor-line"),hn("#"+e+" .actor-line").attr("y2",T.stopy);let C=T.stopy-T.starty;C<E.maxHeight&&(C=E.maxHeight);let A=C+2*Tj.diagramMarginY;Tj.mirrorActors&&(A=A-Tj.boxMargin+Tj.bottomMarginAdj);let S=T.stopx-T.startx;S<E.maxWidth&&(S=E.maxWidth);const I=S+2*Tj.diagramMarginX;p&&l.append("text").text(p).attr("x",(T.stopx-T.startx)/2-2*Tj.diagramMarginX).attr("y",-25),Dw(l,A,I,Tj.useMaxWidth);const M=p?40:0;l.attr("viewBox",T.startx-Tj.diagramMarginX+" -"+(Tj.diagramMarginY+M)+" "+I+" "+(A+M)),h.debug("models:",Cj.models)};function $j(t,e,n){const i={};return e.forEach((function(e){if(t[e.to]&&t[e.from]){const r=t[e.to];if(e.placement===n.db.PLACEMENT.LEFTOF&&!r.prevActor)return;if(e.placement===n.db.PLACEMENT.RIGHTOF&&!r.nextActor)return;const o=void 0!==e.placement,s=!o,a=o?Ij(Tj):Sj(Tj),c=e.wrap?vb.wrapLabel(e.message,Tj.width-2*Tj.wrapPadding,a):e.message,l=vb.calculateTextDimensions(c,a).width+2*Tj.wrapPadding;s&&e.from===r.nextActor?i[e.to]=Math.max(i[e.to]||0,l):s&&e.from===r.prevActor?i[e.from]=Math.max(i[e.from]||0,l):s&&e.from===e.to?(i[e.from]=Math.max(i[e.from]||0,l/2),i[e.to]=Math.max(i[e.to]||0,l/2)):e.placement===n.db.PLACEMENT.RIGHTOF?i[e.from]=Math.max(i[e.from]||0,l):e.placement===n.db.PLACEMENT.LEFTOF?i[r.prevActor]=Math.max(i[r.prevActor]||0,l):e.placement===n.db.PLACEMENT.OVER&&(r.prevActor&&(i[r.prevActor]=Math.max(i[r.prevActor]||0,l/2)),r.nextActor&&(i[e.from]=Math.max(i[e.from]||0,l/2)))}})),h.debug("maxMessageWidthPerActor:",i),i}const Vj=function(t){let e=0;const n=Mj(Tj);for(const i in t.links){const t=vb.calculateTextDimensions(i,n).width+2*Tj.wrapPadding+2*Tj.boxMargin;e<t&&(e=t)}return e};function zj(t,e,n){let i=0;Object.keys(t).forEach((e=>{const n=t[e];n.wrap&&(n.description=vb.wrapLabel(n.description,Tj.width-2*Tj.wrapPadding,Mj(Tj)));const r=vb.calculateTextDimensions(n.description,Mj(Tj));n.width=n.wrap?Tj.width:Math.max(Tj.width,r.width+2*Tj.wrapPadding),n.height=n.wrap?Math.max(r.height,Tj.height):Tj.height,i=Math.max(i,n.height)}));for(const n in e){const i=t[n];if(!i)continue;const r=t[i.nextActor];if(!r){const t=e[n]+Tj.actorMargin-i.width/2;i.margin=Math.max(t,Tj.actorMargin);continue}const o=e[n]+Tj.actorMargin-i.width/2-r.width/2;i.margin=Math.max(o,Tj.actorMargin)}let r=0;return n.forEach((e=>{const n=Sj(Tj);let i=e.actorKeys.reduce(((e,n)=>e+(t[n].width+(t[n].margin||0))),0);i-=2*Tj.boxTextMargin,e.wrap&&(e.name=vb.wrapLabel(e.name,i-2*Tj.wrapPadding,n));const o=vb.calculateTextDimensions(e.name,n);r=Math.max(o.height,r);const s=Math.max(i,o.width+2*Tj.wrapPadding);if(e.margin=Tj.boxTextMargin,i<s){const t=(s-i)/2;e.margin+=t}})),n.forEach((t=>t.textMaxHeight=r)),Math.max(i,Tj.height)}const Hj=function(t,e,n){const i=e[t.from].x,r=e[t.to].x,o=t.wrap&&t.message;let s=vb.calculateTextDimensions(o?vb.wrapLabel(t.message,Tj.width,Ij(Tj)):t.message,Ij(Tj));const a={width:o?Tj.width:Math.max(Tj.width,s.width+2*Tj.noteMargin),height:0,startx:e[t.from].x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===n.db.PLACEMENT.RIGHTOF?(a.width=o?Math.max(Tj.width,s.width):Math.max(e[t.from].width/2+e[t.to].width/2,s.width+2*Tj.noteMargin),a.startx=i+(e[t.from].width+Tj.actorMargin)/2):t.placement===n.db.PLACEMENT.LEFTOF?(a.width=o?Math.max(Tj.width,s.width+2*Tj.noteMargin):Math.max(e[t.from].width/2+e[t.to].width/2,s.width+2*Tj.noteMargin),a.startx=i-a.width+(e[t.from].width-Tj.actorMargin)/2):t.to===t.from?(s=vb.calculateTextDimensions(o?vb.wrapLabel(t.message,Math.max(Tj.width,e[t.from].width),Ij(Tj)):t.message,Ij(Tj)),a.width=o?Math.max(Tj.width,e[t.from].width):Math.max(e[t.from].width,Tj.width,s.width+2*Tj.noteMargin),a.startx=i+(e[t.from].width-a.width)/2):(a.width=Math.abs(i+e[t.from].width/2-(r+e[t.to].width/2))+Tj.actorMargin,a.startx=i<r?i+e[t.from].width/2-Tj.actorMargin/2:r+e[t.to].width/2-Tj.actorMargin/2),o&&(a.message=vb.wrapLabel(t.message,a.width-2*Tj.wrapPadding,Ij(Tj))),h.debug(`NM:[${a.startx},${a.stopx},${a.starty},${a.stopy}:${a.width},${a.height}=${t.message}]`),a},Uj=function(t,e,n){let i=!1;if([n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT].includes(t.type)&&(i=!0),!i)return{};const r=Bj(t.from,e),o=Bj(t.to,e),s=r[0]<=o[0]?1:0,a=r[0]<o[0]?0:1,c=[...r,...o],l=Math.abs(o[a]-r[s]);t.wrap&&t.message&&(t.message=vb.wrapLabel(t.message,Math.max(l+2*Tj.wrapPadding,Tj.width),Sj(Tj)));const u=vb.calculateTextDimensions(t.message,Sj(Tj));return{width:Math.max(t.wrap?0:u.width+2*Tj.wrapPadding,l+2*Tj.wrapPadding,Tj.width),height:0,startx:r[s],stopx:o[a],starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,c),toBounds:Math.max.apply(null,c)}},qj=function(t,e,n,i){const r={},o=[];let s,a,c;return t.forEach((function(t){switch(t.id=vb.random({length:10}),t.type){case i.db.LINETYPE.LOOP_START:case i.db.LINETYPE.ALT_START:case i.db.LINETYPE.OPT_START:case i.db.LINETYPE.PAR_START:case i.db.LINETYPE.CRITICAL_START:case i.db.LINETYPE.BREAK_START:o.push({id:t.id,msg:t.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case i.db.LINETYPE.ALT_ELSE:case i.db.LINETYPE.PAR_AND:case i.db.LINETYPE.CRITICAL_OPTION:t.message&&(s=o.pop(),r[s.id]=s,r[t.id]=s,o.push(s));break;case i.db.LINETYPE.LOOP_END:case i.db.LINETYPE.ALT_END:case i.db.LINETYPE.OPT_END:case i.db.LINETYPE.PAR_END:case i.db.LINETYPE.CRITICAL_END:case i.db.LINETYPE.BREAK_END:s=o.pop(),r[s.id]=s;break;case i.db.LINETYPE.ACTIVE_START:{const n=e[t.from?t.from.actor:t.to.actor],i=Rj(t.from?t.from.actor:t.to.actor).length,r=n.x+n.width/2+(i-1)*Tj.activationWidth/2,o={startx:r,stopx:r+Tj.activationWidth,actor:t.from.actor,enabled:!0};Cj.activations.push(o)}break;case i.db.LINETYPE.ACTIVE_END:{const e=Cj.activations.map((t=>t.actor)).lastIndexOf(t.from.actor);delete Cj.activations.splice(e,1)[0]}}void 0!==t.placement?(a=Hj(t,e,i),t.noteModel=a,o.forEach((t=>{s=t,s.from=Math.min(s.from,a.startx),s.to=Math.max(s.to,a.startx+a.width),s.width=Math.max(s.width,Math.abs(s.from-s.to))-Tj.labelBoxWidth}))):(c=Uj(t,e,i),t.msgModel=c,c.startx&&c.stopx&&o.length>0&&o.forEach((n=>{if(s=n,c.startx===c.stopx){const n=e[t.from],i=e[t.to];s.from=Math.min(n.x-c.width/2,n.x-n.width/2,s.from),s.to=Math.max(i.x+c.width/2,i.x+n.width/2,s.to),s.width=Math.max(s.width,Math.abs(s.to-s.from))-Tj.labelBoxWidth}else s.from=Math.min(c.startx,s.from),s.to=Math.max(c.stopx,s.to),s.width=Math.max(s.width,c.width)-Tj.labelBoxWidth})))})),Cj.activations=[],h.debug("Loop type widths:",r),r},Wj={bounds:Cj,drawActors:Dj,drawActorsPopup:Nj,setConf:Lj,draw:jj};var Gj=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[1,2],n=[1,3],i=[1,5],r=[1,7],o=[2,5],s=[1,15],a=[1,17],c=[1,21],l=[1,22],u=[1,23],h=[1,24],d=[1,37],f=[1,25],g=[1,26],p=[1,27],m=[1,28],b=[1,29],w=[1,32],y=[1,33],v=[1,34],_=[1,35],k=[1,36],x=[1,39],E=[1,40],T=[1,41],C=[1,42],A=[1,38],S=[1,45],I=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],M=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],P=[1,4,5,7,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],O=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],D={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,classDefStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"--\x3e":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,class:42,CLASSENTITY_IDS:43,STYLECLASS:44,openDirective:45,typeDirective:46,closeDirective:47,":":48,argDirective:49,direction_tb:50,direction_bt:51,direction_rl:52,direction_lr:53,eol:54,";":55,EDGE_STATE:56,STYLE_SEPARATOR:57,left_of:58,right_of:59,open_directive:60,type_directive:61,arg_directive:62,close_directive:63,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",14:"DESCR",15:"--\x3e",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"class",43:"CLASSENTITY_IDS",44:"STYLECLASS",48:":",50:"direction_tb",51:"direction_bt",52:"direction_rl",53:"direction_lr",55:";",56:"EDGE_STATE",57:"STYLE_SEPARATOR",58:"left_of",59:"right_of",60:"open_directive",61:"type_directive",62:"arg_directive",63:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[11,3],[11,3],[12,3],[6,3],[6,5],[32,1],[32,1],[32,1],[32,1],[54,1],[54,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1],[45,1],[46,1],[49,1],[47,1]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 4:return i.setRootDoc(o[a]),o[a];case 5:this.$=[];break;case 6:"nl"!=o[a]&&(o[a-1].push(o[a]),this.$=o[a-1]);break;case 7:case 8:case 12:this.$=o[a];break;case 9:this.$="nl";break;case 13:const t=o[a-1];t.description=i.trimColon(o[a]),this.$=t;break;case 14:this.$={stmt:"relation",state1:o[a-2],state2:o[a]};break;case 15:const e=i.trimColon(o[a]);this.$={stmt:"relation",state1:o[a-3],state2:o[a-1],description:e};break;case 19:this.$={stmt:"state",id:o[a-3],type:"default",description:"",doc:o[a-1]};break;case 20:var c=o[a],l=o[a-2].trim();if(o[a].match(":")){var u=o[a].split(":");c=u[0],l=[l,u[1]]}this.$={stmt:"state",id:c,type:"default",description:l};break;case 21:this.$={stmt:"state",id:o[a-3],type:"default",description:o[a-5],doc:o[a-1]};break;case 22:this.$={stmt:"state",id:o[a],type:"fork"};break;case 23:this.$={stmt:"state",id:o[a],type:"join"};break;case 24:this.$={stmt:"state",id:o[a],type:"choice"};break;case 25:this.$={stmt:"state",id:i.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:o[a-1].trim(),note:{position:o[a-2].trim(),text:o[a].trim()}};break;case 30:this.$=o[a].trim(),i.setAccTitle(this.$);break;case 31:case 32:this.$=o[a].trim(),i.setAccDescription(this.$);break;case 33:case 34:this.$={stmt:"classDef",id:o[a-1].trim(),classes:o[a].trim()};break;case 35:this.$={stmt:"applyClass",id:o[a-1].trim(),styleClass:o[a].trim()};break;case 38:i.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:i.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:i.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:i.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:o[a].trim(),type:"default",description:""};break;case 46:case 47:this.$={stmt:"state",id:o[a-2].trim(),classes:[o[a].trim()],type:"default",description:""};break;case 50:i.parseDirective("%%{","open_directive");break;case 51:i.parseDirective(o[a],"type_directive");break;case 52:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 53:i.parseDirective("}%%","close_directive","state")}},table:[{3:1,4:e,5:n,6:4,7:i,45:6,60:r},{1:[3]},{3:8,4:e,5:n,6:4,7:i,45:6,60:r},{3:9,4:e,5:n,6:4,7:i,45:6,60:r},{3:10,4:e,5:n,6:4,7:i,45:6,60:r},t([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],o,{8:11}),{46:12,61:[1,13]},{61:[2,50]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:s,5:a,6:30,9:14,10:16,11:18,12:19,13:20,16:c,17:l,19:u,22:h,24:d,25:f,26:g,27:p,28:m,29:b,32:31,33:w,35:y,37:v,38:_,42:k,45:6,50:x,51:E,52:T,53:C,56:A,60:r},{47:43,48:[1,44],63:S},t([48,63],[2,51]),t(I,[2,6]),{6:30,10:46,11:18,12:19,13:20,16:c,17:l,19:u,22:h,24:d,25:f,26:g,27:p,28:m,29:b,32:31,33:w,35:y,37:v,38:_,42:k,45:6,50:x,51:E,52:T,53:C,56:A,60:r},t(I,[2,8]),t(I,[2,9]),t(I,[2,10]),t(I,[2,11]),t(I,[2,12],{14:[1,47],15:[1,48]}),t(I,[2,16]),{18:[1,49]},t(I,[2,18],{20:[1,50]}),{23:[1,51]},t(I,[2,22]),t(I,[2,23]),t(I,[2,24]),t(I,[2,25]),{30:52,31:[1,53],58:[1,54],59:[1,55]},t(I,[2,28]),t(I,[2,29]),{34:[1,56]},{36:[1,57]},t(I,[2,32]),{39:[1,58],41:[1,59]},{43:[1,60]},t(M,[2,44],{57:[1,61]}),t(M,[2,45],{57:[1,62]}),t(I,[2,38]),t(I,[2,39]),t(I,[2,40]),t(I,[2,41]),t(P,[2,36]),{49:63,62:[1,64]},t(P,[2,53]),t(I,[2,7]),t(I,[2,13]),{13:65,24:d,56:A},t(I,[2,17]),t(O,o,{8:66}),{24:[1,67]},{24:[1,68]},{23:[1,69]},{24:[2,48]},{24:[2,49]},t(I,[2,30]),t(I,[2,31]),{40:[1,70]},{40:[1,71]},{44:[1,72]},{24:[1,73]},{24:[1,74]},{47:75,63:S},{63:[2,52]},t(I,[2,14],{14:[1,76]}),{4:s,5:a,6:30,9:14,10:16,11:18,12:19,13:20,16:c,17:l,19:u,21:[1,77],22:h,24:d,25:f,26:g,27:p,28:m,29:b,32:31,33:w,35:y,37:v,38:_,42:k,45:6,50:x,51:E,52:T,53:C,56:A,60:r},t(I,[2,20],{20:[1,78]}),{31:[1,79]},{24:[1,80]},t(I,[2,33]),t(I,[2,34]),t(I,[2,35]),t(M,[2,46]),t(M,[2,47]),t(P,[2,37]),t(I,[2,15]),t(I,[2,19]),t(O,o,{8:81}),t(I,[2,26]),t(I,[2,27]),{4:s,5:a,6:30,9:14,10:16,11:18,12:19,13:20,16:c,17:l,19:u,21:[1,82],22:h,24:d,25:f,26:g,27:p,28:m,29:b,32:31,33:w,35:y,37:v,38:_,42:k,45:6,50:x,51:E,52:T,53:C,56:A,60:r},t(I,[2,21])],defaultActions:{7:[2,50],8:[2,1],9:[2,2],10:[2,3],54:[2,48],55:[2,49],64:[2,52]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",c=0,l=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),g={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(g.yy[p]=this.yy[p]);f.setInput(t,g.yy),g.yy.lexer=f,g.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var b=f.options&&f.options.ranges;function w(){var t;return"number"!=typeof(t=i.pop()||f.lex()||h)&&(t instanceof Array&&(t=(i=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,v,_,k,x,E,T,C,A={};;){if(v=n[n.length-1],this.defaultActions[v]?_=this.defaultActions[v]:(null==y&&(y=w()),_=s[v]&&s[v][y]),void 0===_||!_.length||!_[0]){var S="";for(x in C=[],s[v])this.terminals_[x]&&x>u&&C.push("'"+this.terminals_[x]+"'");S=f.showPosition?"Parse error on line "+(c+1)+":\n"+f.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(c+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[y]||y,line:f.yylineno,loc:m,expected:C})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+y);switch(_[0]){case 1:n.push(y),r.push(f.yytext),o.push(f.yylloc),n.push(_[1]),y=null,l=f.yyleng,a=f.yytext,c=f.yylineno,m=f.yylloc;break;case 2:if(E=this.productions_[_[1]][1],A.$=r[r.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(A,[a,l,c,g.yy,_[1],r,o].concat(d))))return k;E&&(n=n.slice(0,-1*E*2),r=r.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[_[1]][0]),r.push(A.$),o.push(A._$),T=s[n[n.length-2]][n[n.length-1]],n.push(T);break;case 3:return!0}}return!0}},N={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,i){switch(n){case 0:return 41;case 1:case 44:return 50;case 2:case 45:return 51;case 3:case 46:return 52;case 4:case 47:return 53;case 5:return this.begin("open_directive"),60;case 6:return this.begin("type_directive"),61;case 7:return this.popState(),this.begin("arg_directive"),48;case 8:return this.popState(),this.popState(),63;case 9:return 62;case 10:case 11:case 13:case 14:case 15:case 16:case 56:case 58:case 64:break;case 12:case 79:return 5;case 17:case 34:return this.pushState("SCALE"),17;case 18:case 35:return 18;case 19:case 25:case 36:case 51:case 54:this.popState();break;case 20:return this.begin("acc_title"),33;case 21:return this.popState(),"acc_title_value";case 22:return this.begin("acc_descr"),35;case 23:return this.popState(),"acc_descr_value";case 24:this.begin("acc_descr_multiline");break;case 26:return"acc_descr_multiline_value";case 27:return this.pushState("CLASSDEF"),38;case 28:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 29:return this.popState(),this.pushState("CLASSDEFID"),39;case 30:return this.popState(),40;case 31:return this.pushState("CLASS"),42;case 32:return this.popState(),this.pushState("CLASS_STYLE"),43;case 33:return this.popState(),44;case 37:this.pushState("STATE");break;case 38:case 41:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),25;case 39:case 42:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),26;case 40:case 43:return this.popState(),e.yytext=e.yytext.slice(0,-10).trim(),27;case 48:this.pushState("STATE_STRING");break;case 49:return this.pushState("STATE_ID"),"AS";case 50:case 66:return this.popState(),"ID";case 52:return"STATE_DESCR";case 53:return 19;case 55:return this.popState(),this.pushState("struct"),20;case 57:return this.popState(),21;case 59:return this.begin("NOTE"),29;case 60:return this.popState(),this.pushState("NOTE_ID"),58;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:this.popState(),this.pushState("FLOATING_NOTE");break;case 63:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 65:return"NOTE_TEXT";case 67:return this.popState(),this.pushState("NOTE_TEXT"),24;case 68:return this.popState(),e.yytext=e.yytext.substr(2).trim(),31;case 69:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),31;case 70:case 71:return 7;case 72:return 16;case 73:return 56;case 74:return 24;case 75:return e.yytext=e.yytext.trim(),14;case 76:return 15;case 77:return 28;case 78:return 57;case 80:return"INVALID"}},rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[14,15],inclusive:!1},close_directive:{rules:[14,15],inclusive:!1},arg_directive:{rules:[8,9,14,15],inclusive:!1},type_directive:{rules:[7,8,14,15],inclusive:!1},open_directive:{rules:[6,14,15],inclusive:!1},struct:{rules:[14,15,27,31,37,44,45,46,47,56,57,58,59,73,74,75,76,77],inclusive:!1},FLOATING_NOTE_ID:{rules:[66],inclusive:!1},FLOATING_NOTE:{rules:[63,64,65],inclusive:!1},NOTE_TEXT:{rules:[68,69],inclusive:!1},NOTE_ID:{rules:[67],inclusive:!1},NOTE:{rules:[60,61,62],inclusive:!1},CLASS_STYLE:{rules:[33],inclusive:!1},CLASS:{rules:[32],inclusive:!1},CLASSDEFID:{rules:[30],inclusive:!1},CLASSDEF:{rules:[28,29],inclusive:!1},acc_descr_multiline:{rules:[25,26],inclusive:!1},acc_descr:{rules:[23],inclusive:!1},acc_title:{rules:[21],inclusive:!1},SCALE:{rules:[18,19,35,36],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[50],inclusive:!1},STATE_STRING:{rules:[51,52],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[14,15,38,39,40,41,42,43,48,49,53,54,55],inclusive:!1},ID:{rules:[14,15],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,10,11,12,13,15,16,17,20,22,24,27,31,34,37,55,59,70,71,72,73,74,75,76,78,79,80],inclusive:!0}}};function L(){this.yy={}}return D.lexer=N,L.prototype=D,D.Parser=L,new L}();Gj.parser=Gj;const Kj=Gj,Yj=(t,e)=>{var n;return"dagre-wrapper"!==(null==(n=null==e?void 0:e.state)?void 0:n.defaultRenderer)&&null!==t.match(/^\s*stateDiagram/)},Xj=(t,e)=>{var n;return null!==t.match(/^\s*stateDiagram-v2/)||!(!t.match(/^\s*stateDiagram/)||"dagre-wrapper"!==(null==(n=null==e?void 0:e.state)?void 0:n.defaultRenderer))},Zj="LR",Qj="TB",Jj="state",t$="relation",e$="classDef",n$="applyClass",i$="default",r$="divider",o$="[*]",s$="start",a$=o$,c$="end",l$="color",u$="fill",h$="bgFill",d$=",";function f$(){return{}}let g$=Zj,p$=[],m$=f$();const b$=()=>({relations:[],states:{},documents:{}});let w$={root:b$()},y$=w$.root,v$=0,_$=0;const k$=t=>JSON.parse(JSON.stringify(t)),x$=(t,e,n)=>{if(e.stmt===t$)x$(t,e.state1,!0),x$(t,e.state2,!1);else if(e.stmt===Jj&&("[*]"===e.id?(e.id=n?t.id+"_start":t.id+"_end",e.start=n):e.id=e.id.trim()),e.doc){const t=[];let n,i=[];for(n=0;n<e.doc.length;n++)if(e.doc[n].type===r$){const r=k$(e.doc[n]);r.doc=k$(i),t.push(r),i=[]}else i.push(e.doc[n]);if(t.length>0&&i.length>0){const n={stmt:Jj,id:rb(),type:"divider",doc:k$(i)};t.push(k$(n)),e.doc=t}e.doc.forEach((t=>x$(e,t,!0)))}},E$=t=>{let e;e=t.doc?t.doc:t,h.info(e),C$(!0),h.info("Extract",e),e.forEach((t=>{switch(t.stmt){case Jj:T$(t.id.trim(),t.type,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles);break;case t$:D$(t.state1,t.state2,t.description);break;case e$:L$(t.id.trim(),t.classes);break;case n$:R$(t.id.trim(),t.styleClass)}}))},T$=function(t,e=i$,n=null,i=null,r=null,o=null,s=null,a=null){const c=null==t?void 0:t.trim();void 0===y$.states[c]?(h.info("Adding state ",c,i),y$.states[c]={id:c,descriptions:[],type:e,doc:n,note:r,classes:[],styles:[],textStyles:[]}):(y$.states[c].doc||(y$.states[c].doc=n),y$.states[c].type||(y$.states[c].type=e)),i&&(h.info("Setting state description",c,i),"string"==typeof i&&N$(c,i.trim()),"object"==typeof i&&i.forEach((t=>N$(c,t.trim())))),r&&(y$.states[c].note=r,y$.states[c].note.text=Jh.sanitizeText(y$.states[c].note.text,xw())),o&&(h.info("Setting state classes",c,o),("string"==typeof o?[o]:o).forEach((t=>R$(c,t.trim())))),s&&(h.info("Setting state styles",c,s),("string"==typeof s?[s]:s).forEach((t=>B$(c,t.trim())))),a&&(h.info("Setting state styles",c,s),("string"==typeof a?[a]:a).forEach((t=>F$(c,t.trim()))))},C$=function(t){w$={root:b$()},y$=w$.root,v$=0,m$=f$(),t||ty()},A$=function(t){return y$.states[t]};function S$(t=""){let e=t;return t===o$&&(v$++,e=`${s$}${v$}`),e}function I$(t="",e=i$){return t===o$?s$:e}function M$(t=""){let e=t;return t===a$&&(v$++,e=`${c$}${v$}`),e}function P$(t="",e=i$){return t===a$?c$:e}function O$(t,e,n){let i=S$(t.id.trim()),r=I$(t.id.trim(),t.type),o=S$(e.id.trim()),s=I$(e.id.trim(),e.type);T$(i,r,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),T$(o,s,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),y$.relations.push({id1:i,id2:o,relationTitle:Jh.sanitizeText(n,xw())})}const D$=function(t,e,n){if("object"==typeof t)O$(t,e,n);else{const i=S$(t.trim()),r=I$(t),o=M$(e.trim()),s=P$(e);T$(i,r),T$(o,s),y$.relations.push({id1:i,id2:o,title:Jh.sanitizeText(n,xw())})}},N$=function(t,e){const n=y$.states[t],i=e.startsWith(":")?e.replace(":","").trim():e;n.descriptions.push(Jh.sanitizeText(i,xw()))},L$=function(t,e=""){void 0===m$[t]&&(m$[t]={id:t,styles:[],textStyles:[]});const n=m$[t];null!=e&&e.split(d$).forEach((t=>{const e=t.replace(/([^;]*);/,"$1").trim();if(t.match(l$)){const t=e.replace(u$,h$).replace(l$,u$);n.textStyles.push(t)}n.styles.push(e)}))},R$=function(t,e){t.split(",").forEach((function(t){let n=A$(t);if(void 0===n){const e=t.trim();T$(e),n=A$(e)}n.classes.push(e)}))},B$=function(t,e){const n=A$(t);void 0!==n&&n.textStyles.push(e)},F$=function(t,e){const n=A$(t);void 0!==n&&n.textStyles.push(e)},j$={parseDirective:function(t,e,n){bH.parseDirective(this,t,e,n)},getConfig:()=>xw().state,addState:T$,clear:C$,getState:A$,getStates:function(){return y$.states},getRelations:function(){return y$.relations},getClasses:function(){return m$},getDirection:()=>g$,addRelation:D$,getDividerId:()=>(_$++,"divider-id-"+_$),setDirection:t=>{g$=t},cleanupLabel:function(t){return":"===t.substring(0,1)?t.substr(2).trim():t.trim()},lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},logDocuments:function(){h.info("Documents = ",w$)},getRootDoc:()=>p$,setRootDoc:t=>{h.info("Setting root doc",t),p$=t},getRootDocV2:()=>(x$({id:"root"},{id:"root",doc:p$},!0),{id:"root",doc:p$}),extract:E$,trimColon:t=>t&&":"===t[0]?t.substr(1).trim():t.trim(),getAccTitle:ny,setAccTitle:ey,getAccDescription:ry,setAccDescription:iy,addStyleClass:L$,setCssClass:R$,addDescription:N$,setDiagramTitle:oy,getDiagramTitle:sy},$$={},V$=()=>Object.keys($$),z$=()=>V$().length,H$={get:t=>$$[t],set:(t,e)=>{$$[t]=e},keys:V$,size:z$},U$=t=>t.append("circle").attr("class","start-state").attr("r",xw().state.sizeUnit).attr("cx",xw().state.padding+xw().state.sizeUnit).attr("cy",xw().state.padding+xw().state.sizeUnit),q$=t=>t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",xw().state.textHeight).attr("class","divider").attr("x2",2*xw().state.textHeight).attr("y1",0).attr("y2",0),W$=(t,e)=>{const n=t.append("text").attr("x",2*xw().state.padding).attr("y",xw().state.textHeight+2*xw().state.padding).attr("font-size",xw().state.fontSize).attr("class","state-title").text(e.id),i=n.node().getBBox();return t.insert("rect",":first-child").attr("x",xw().state.padding).attr("y",xw().state.padding).attr("width",i.width+2*xw().state.padding).attr("height",i.height+2*xw().state.padding).attr("rx",xw().state.radius),n},G$=(t,e)=>{const n=function(t,e,n){const i=t.append("tspan").attr("x",2*xw().state.padding).text(e);n||i.attr("dy",xw().state.textHeight)},i=t.append("text").attr("x",2*xw().state.padding).attr("y",xw().state.textHeight+1.3*xw().state.padding).attr("font-size",xw().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),r=i.height,o=t.append("text").attr("x",xw().state.padding).attr("y",r+.4*xw().state.padding+xw().state.dividerMargin+xw().state.textHeight).attr("class","state-description");let s=!0,a=!0;e.descriptions.forEach((function(t){s||(n(o,t,a),a=!1),s=!1}));const c=t.append("line").attr("x1",xw().state.padding).attr("y1",xw().state.padding+r+xw().state.dividerMargin/2).attr("y2",xw().state.padding+r+xw().state.dividerMargin/2).attr("class","descr-divider"),l=o.node().getBBox(),u=Math.max(l.width,i.width);return c.attr("x2",u+3*xw().state.padding),t.insert("rect",":first-child").attr("x",xw().state.padding).attr("y",xw().state.padding).attr("width",u+2*xw().state.padding).attr("height",l.height+r+2*xw().state.padding).attr("rx",xw().state.radius),t},K$=(t,e,n)=>{const i=xw().state.padding,r=2*xw().state.padding,o=t.node().getBBox(),s=o.width,a=o.x,c=t.append("text").attr("x",0).attr("y",xw().state.titleShift).attr("font-size",xw().state.fontSize).attr("class","state-title").text(e.id),l=c.node().getBBox().width+r;let u,h=Math.max(l,s);h===s&&(h+=r);const d=t.node().getBBox();e.doc,u=a-i,l>s&&(u=(s-h)/2+i),Math.abs(a-d.x)<i&&l>s&&(u=a-(l-s)/2);const f=1-xw().state.textHeight;return t.insert("rect",":first-child").attr("x",u).attr("y",f).attr("class",n?"alt-composit":"composit").attr("width",h).attr("height",d.height+xw().state.textHeight+xw().state.titleShift+1).attr("rx","0"),c.attr("x",u+i),l<=s&&c.attr("x",a+(h-r)/2-l/2+i),t.insert("rect",":first-child").attr("x",u).attr("y",xw().state.titleShift-xw().state.textHeight-xw().state.padding).attr("width",h).attr("height",3*xw().state.textHeight).attr("rx",xw().state.radius),t.insert("rect",":first-child").attr("x",u).attr("y",xw().state.titleShift-xw().state.textHeight-xw().state.padding).attr("width",h).attr("height",d.height+3+2*xw().state.textHeight).attr("rx",xw().state.radius),t},Y$=t=>(t.append("circle").attr("class","end-state-outer").attr("r",xw().state.sizeUnit+xw().state.miniPadding).attr("cx",xw().state.padding+xw().state.sizeUnit+xw().state.miniPadding).attr("cy",xw().state.padding+xw().state.sizeUnit+xw().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",xw().state.sizeUnit).attr("cx",xw().state.padding+xw().state.sizeUnit+2).attr("cy",xw().state.padding+xw().state.sizeUnit+2)),X$=(t,e)=>{let n=xw().state.forkWidth,i=xw().state.forkHeight;if(e.parentId){let t=n;n=i,i=t}return t.append("rect").style("stroke","black").style("fill","black").attr("width",n).attr("height",i).attr("x",xw().state.padding).attr("y",xw().state.padding)},Z$=(t,e,n,i)=>{let r=0;const o=i.append("text");o.style("text-anchor","start"),o.attr("class","noteText");let s=t.replace(/\r\n/g,"<br/>");s=s.replace(/\n/g,"<br/>");const a=s.split(Jh.lineBreakRegex);let c=1.25*xw().state.noteMargin;for(const t of a){const i=t.trim();if(i.length>0){const t=o.append("tspan");t.text(i),0===c&&(c+=t.node().getBBox().height),r+=c,t.attr("x",e+xw().state.noteMargin),t.attr("y",n+r+1.25*xw().state.noteMargin)}}return{textWidth:o.node().getBBox().width,textHeight:r}},Q$=(t,e)=>{e.attr("class","state-note");const n=e.append("rect").attr("x",0).attr("y",xw().state.padding),i=e.append("g"),{textWidth:r,textHeight:o}=Z$(t,0,0,i);return n.attr("height",o+2*xw().state.noteMargin),n.attr("width",r+2*xw().state.noteMargin),n},J$=function(t,e){const n=e.id,i={id:n,label:e.id,width:0,height:0},r=t.append("g").attr("id",n).attr("class","stateGroup");"start"===e.type&&U$(r),"end"===e.type&&Y$(r),"fork"!==e.type&&"join"!==e.type||X$(r,e),"note"===e.type&&Q$(e.note.text,r),"divider"===e.type&&q$(r),"default"===e.type&&0===e.descriptions.length&&W$(r,e),"default"===e.type&&e.descriptions.length>0&&G$(r,e);const o=r.node().getBBox();return i.width=o.width+2*xw().state.padding,i.height=o.height+2*xw().state.padding,H$.set(n,i),i};let tV=0;const eV=function(t,e,n){const i=function(t){switch(t){case j$.relationType.AGGREGATION:return"aggregation";case j$.relationType.EXTENSION:return"extension";case j$.relationType.COMPOSITION:return"composition";case j$.relationType.DEPENDENCY:return"dependency"}};e.points=e.points.filter((t=>!Number.isNaN(t.y)));const r=e.points,o=$l().x((function(t){return t.x})).y((function(t){return t.y})).curve(Xl),s=t.append("path").attr("d",o(r)).attr("id","edge"+tV).attr("class","transition");let a="";if(xw().state.arrowMarkerAbsolute&&(a=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,a=a.replace(/\(/g,"\\("),a=a.replace(/\)/g,"\\)")),s.attr("marker-end","url("+a+"#"+i(j$.relationType.DEPENDENCY)+"End)"),void 0!==n.title){const i=t.append("g").attr("class","stateLabel"),{x:r,y:o}=vb.calcLabelPosition(e.points),s=Jh.getRows(n.title);let a=0;const c=[];let l=0,u=0;for(let t=0;t<=s.length;t++){const e=i.append("text").attr("text-anchor","middle").text(s[t]).attr("x",r).attr("y",o+a),n=e.node().getBBox();if(l=Math.max(l,n.width),u=Math.min(u,n.x),h.info(n.x,r,o+a),0===a){const t=e.node().getBBox();a=t.height,h.info("Title height",a,o)}c.push(e)}let d=a*s.length;if(s.length>1){const t=(s.length-1)*a*.5;c.forEach(((e,n)=>e.attr("y",o+n*a-t))),d=a*s.length}const f=i.node().getBBox();i.insert("rect",":first-child").attr("class","box").attr("x",r-l/2-xw().state.padding/2).attr("y",o-d/2-xw().state.padding/2-3.5).attr("width",l+xw().state.padding).attr("height",d+xw().state.padding),h.info(f)}tV++};let nV;const iV={},rV=function(t){t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},oV=function(t,e,n,i){nV=xw().state;const r=xw().securityLevel;let o;"sandbox"===r&&(o=un("#i"+e));const s=un("sandbox"===r?o.nodes()[0].contentDocument.body:"body"),a="sandbox"===r?o.nodes()[0].contentDocument:document;h.debug("Rendering diagram "+t);const c=s.select(`[id='${e}']`);rV(c),new gI({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel((function(){return{}}));const l=i.db.getRootDoc();aV(l,c,void 0,!1,s,a,i);const u=nV.padding,d=c.node().getBBox(),f=d.width+2*u,g=d.height+2*u;Dw(c,g,1.75*f,nV.useMaxWidth),c.attr("viewBox",`${d.x-nV.padding}  ${d.y-nV.padding} `+f+" "+g)},sV=t=>t?t.length*nV.fontSizeFactor:1,aV=(t,e,n,i,r,o,s)=>{const a=new gI({compound:!0,multigraph:!0});let c,l=!0;for(c=0;c<t.length;c++)if("relation"===t[c].stmt){l=!1;break}n?a.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:l?1:nV.edgeLengthFactor,nodeSep:l?1:50,isMultiGraph:!0}):a.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:l?1:nV.edgeLengthFactor,nodeSep:l?1:50,ranker:"tight-tree",isMultiGraph:!0}),a.setDefaultEdgeLabel((function(){return{}})),s.db.extract(t);const u=s.db.getStates(),d=s.db.getRelations(),f=Object.keys(u);for(const t of f){const c=u[t];let l;if(n&&(c.parentId=n),c.doc){let t=e.append("g").attr("id",c.id).attr("class","stateGroup");l=aV(c.doc,t,c.id,!i,r,o,s);{t=K$(t,c,i);let e=t.node().getBBox();l.width=e.width,l.height=e.height+nV.padding/2,iV[c.id]={y:nV.compositTitleSize}}}else l=J$(e,c);if(c.note){const t={descriptions:[],id:c.id+"-note",note:c.note,type:"note"},n=J$(e,t);"left of"===c.note.position?(a.setNode(l.id+"-note",n),a.setNode(l.id,l)):(a.setNode(l.id,l),a.setNode(l.id+"-note",n)),a.setParent(l.id,l.id+"-group"),a.setParent(l.id+"-note",l.id+"-group")}else a.setNode(l.id,l)}h.debug("Count=",a.nodeCount(),a);let g=0;d.forEach((function(t){g++,h.debug("Setting edge",t),a.setEdge(t.id1,t.id2,{relation:t,width:sV(t.title),height:nV.labelHeight*Jh.getRows(t.title).length,labelpos:"c"},"id"+g)})),vP(a),h.debug("Graph after layout",a.nodes());const p=e.node();a.nodes().forEach((function(t){void 0!==t&&void 0!==a.node(t)?(h.warn("Node "+t+": "+JSON.stringify(a.node(t))),r.select("#"+p.id+" #"+t).attr("transform","translate("+(a.node(t).x-a.node(t).width/2)+","+(a.node(t).y+(iV[t]?iV[t].y:0)-a.node(t).height/2)+" )"),r.select("#"+p.id+" #"+t).attr("data-x-shift",a.node(t).x-a.node(t).width/2),o.querySelectorAll("#"+p.id+" #"+t+" .divider").forEach((t=>{const e=t.parentElement;let n=0,i=0;e&&(e.parentElement&&(n=e.parentElement.getBBox().width),i=parseInt(e.getAttribute("data-x-shift"),10),Number.isNaN(i)&&(i=0)),t.setAttribute("x1",0-i+8),t.setAttribute("x2",n-i-8)}))):h.debug("No Node "+t+": "+JSON.stringify(a.node(t)))}));let m=p.getBBox();a.edges().forEach((function(t){void 0!==t&&void 0!==a.edge(t)&&(h.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(a.edge(t))),eV(e,a.edge(t),a.edge(t).relation))})),m=p.getBBox();const b={id:n||"root",label:n||"root",width:0,height:0};return b.width=m.width+2*nV.padding,b.height=m.height+2*nV.padding,h.debug("Doc rendered",b,a),b},cV={setConf:function(){},draw:oV},lV="rect",uV="rectWithTitle",hV="start",dV="end",fV="divider",gV="roundedWithTitle",pV="note",mV="noteGroup",bV="statediagram",wV=`${bV}-state`,yV="transition",vV=`${yV} note-edge`,_V=`${bV}-note`,kV=`${bV}-cluster`,xV=`${bV}-cluster-alt`,EV="parent",TV="note",CV="state",AV="----",SV=`${AV}${TV}`,IV=`${AV}${EV}`,MV="fill:none",PV="fill: #333",OV="c",DV="text",NV="normal";let LV={},RV=0;function BV(t){return null==t?"":t.classes?t.classes.join(" "):""}function FV(t="",e=0,n="",i=AV){const r=null!==n&&n.length>0?`${i}${n}`:"";return`${CV}-${t}${r}-${e}`}const jV=(t,e,n,i,r,o)=>{const s=n.id,a=BV(i[s]);if("root"!==s){let e=lV;!0===n.start&&(e=hV),!1===n.start&&(e=dV),n.type!==i$&&(e=n.type),LV[s]||(LV[s]={id:s,shape:e,description:Jh.sanitizeText(s,xw()),classes:`${a} ${wV}`});const i=LV[s];n.description&&(Array.isArray(i.description)?(i.shape=uV,i.description.push(n.description)):i.description.length>0?(i.shape=uV,i.description===s?i.description=[n.description]:i.description=[i.description,n.description]):(i.shape=lV,i.description=n.description),i.description=Jh.sanitizeTextOrArray(i.description,xw())),1===i.description.length&&i.shape===uV&&(i.shape=lV),!i.type&&n.doc&&(h.info("Setting cluster for ",s,VV(n)),i.type="group",i.dir=VV(n),i.shape=n.type===r$?fV:gV,i.classes=i.classes+" "+kV+" "+(o?xV:""));const r={labelStyle:"",shape:i.shape,labelText:i.description,classes:i.classes,style:"",id:s,dir:i.dir,domId:FV(s,RV),type:i.type,padding:15};if(n.note){const e={labelStyle:"",shape:pV,labelText:n.note.text,classes:_V,style:"",id:s+SV+"-"+RV,domId:FV(s,RV,TV),type:i.type,padding:15},o={labelStyle:"",shape:mV,labelText:n.note.text,classes:i.classes,style:"",id:s+IV,domId:FV(s,RV,EV),type:"group",padding:0};RV++;const a=s+IV;t.setNode(a,o),t.setNode(e.id,e),t.setNode(s,r),t.setParent(s,a),t.setParent(e.id,a);let c=s,l=e.id;"left of"===n.note.position&&(c=e.id,l=s),t.setEdge(c,l,{arrowhead:"none",arrowType:"",style:MV,labelStyle:"",classes:vV,arrowheadStyle:PV,labelpos:OV,labelType:DV,thickness:NV})}else t.setNode(s,r)}e&&"root"!==e.id&&(h.trace("Setting node ",s," to be child of its parent ",e.id),t.setParent(s,e.id)),n.doc&&(h.trace("Adding nodes children "),$V(t,n,n.doc,i,r,!o))},$V=(t,e,n,i,r,o)=>{h.trace("items",n),n.forEach((n=>{switch(n.stmt){case Jj:case i$:jV(t,e,n,i,r,o);break;case t$:{jV(t,e,n.state1,i,r,o),jV(t,e,n.state2,i,r,o);const s={id:"edge"+RV,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:MV,labelStyle:"",label:Jh.sanitizeText(n.description,xw()),arrowheadStyle:PV,labelpos:OV,labelType:DV,thickness:NV,classes:yV};t.setEdge(n.state1.id,n.state2.id,s,RV),RV++}}}))},VV=(t,e=Qj)=>{let n=e;if(t.doc)for(let e=0;e<t.doc.length;e++){const i=t.doc[e];"dir"===i.stmt&&(n=i.value)}return n},zV={setConf:function(t){const e=Object.keys(t);for(const n of e)t[n]},getClasses:function(t,e){h.trace("Extracting classes"),e.db.clear();try{return e.parser.parse(t),e.db.extract(e.db.getRootDocV2()),e.db.getClasses()}catch(t){return t}},draw:function(t,e,n,i){h.info("Drawing state diagram (v2)",e),LV={};let r=i.db.getDirection();void 0===r&&(r=Zj);const{securityLevel:o,state:s}=xw(),a=s.nodeSpacing||50,c=s.rankSpacing||50;h.info(i.db.getRootDocV2()),i.db.extract(i.db.getRootDocV2()),h.info(i.db.getRootDocV2());const l=i.db.getStates(),u=new gI({multigraph:!0,compound:!0}).setGraph({rankdir:VV(i.db.getRootDocV2()),nodesep:a,ranksep:c,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));let d;jV(u,void 0,i.db.getRootDocV2(),l,i.db,!0),"sandbox"===o&&(d=un("#i"+e));const f=un("sandbox"===o?d.nodes()[0].contentDocument.body:"body"),g=f.select(`[id="${e}"]`),p=f.select("#"+e+" g");uD(p,u,["barb"],bV,e);const m=8;vb.insertTitle(g,"statediagramTitleText",s.titleTopMargin,i.db.getDiagramTitle());const b=g.node().getBBox(),w=b.width+2*m,y=b.height+2*m;g.attr("class",bV);const v=g.node().getBBox();Dw(g,y,w,s.useMaxWidth);const _=`${v.x-m} ${v.y-m} ${w} ${y}`;h.debug(`viewBox ${_}`),g.attr("viewBox",_);const k=document.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const t of k){const e=t.getBBox(),n=document.createElementNS("http://www.w3.org/2000/svg",lV);n.setAttribute("rx",0),n.setAttribute("ry",0),n.setAttribute("width",e.width),n.setAttribute("height",e.height),t.insertBefore(n,t.firstChild)}}};var HV=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[1,2],n=[1,5],i=[6,9,11,17,18,20,22,23,24,26],r=[1,15],o=[1,16],s=[1,17],a=[1,18],c=[1,19],l=[1,20],u=[1,24],h=[4,6,9,11,17,18,20,22,23,24,26],d={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 1:return o[a-1];case 3:case 7:case 8:this.$=[];break;case 4:o[a-1].push(o[a]),this.$=o[a-1];break;case 5:case 6:this.$=o[a];break;case 11:i.setDiagramTitle(o[a].substr(6)),this.$=o[a].substr(6);break;case 12:this.$=o[a].trim(),i.setAccTitle(this.$);break;case 13:case 14:this.$=o[a].trim(),i.setAccDescription(this.$);break;case 15:i.addSection(o[a].substr(8)),this.$=o[a].substr(8);break;case 16:i.addTask(o[a-1],o[a]),this.$="task";break;case 18:i.parseDirective("%%{","open_directive");break;case 19:i.parseDirective(o[a],"type_directive");break;case 20:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 21:i.parseDirective("}%%","close_directive","journey")}},table:[{3:1,4:e,7:3,12:4,26:n},{1:[3]},t(i,[2,3],{5:6}),{3:7,4:e,7:3,12:4,26:n},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:r,18:o,20:s,22:a,23:c,24:l,26:n},{1:[2,2]},{14:22,15:[1,23],29:u},t([15,29],[2,19]),t(i,[2,8],{1:[2,1]}),t(i,[2,4]),{7:21,10:25,12:4,17:r,18:o,20:s,22:a,23:c,24:l,26:n},t(i,[2,6]),t(i,[2,7]),t(i,[2,11]),{19:[1,26]},{21:[1,27]},t(i,[2,14]),t(i,[2,15]),{25:[1,28]},t(i,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},t(i,[2,5]),t(i,[2,12]),t(i,[2,13]),t(i,[2,16]),t(h,[2,9]),{14:32,29:u},{29:[2,20]},{11:[1,33]},t(h,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",c=0,l=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),g={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(g.yy[p]=this.yy[p]);f.setInput(t,g.yy),g.yy.lexer=f,g.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var b=f.options&&f.options.ranges;function w(){var t;return"number"!=typeof(t=i.pop()||f.lex()||h)&&(t instanceof Array&&(t=(i=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,v,_,k,x,E,T,C,A={};;){if(v=n[n.length-1],this.defaultActions[v]?_=this.defaultActions[v]:(null==y&&(y=w()),_=s[v]&&s[v][y]),void 0===_||!_.length||!_[0]){var S="";for(x in C=[],s[v])this.terminals_[x]&&x>u&&C.push("'"+this.terminals_[x]+"'");S=f.showPosition?"Parse error on line "+(c+1)+":\n"+f.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(c+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[y]||y,line:f.yylineno,loc:m,expected:C})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+y);switch(_[0]){case 1:n.push(y),r.push(f.yytext),o.push(f.yylloc),n.push(_[1]),y=null,l=f.yyleng,a=f.yytext,c=f.yylineno,m=f.yylloc;break;case 2:if(E=this.productions_[_[1]][1],A.$=r[r.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(A,[a,l,c,g.yy,_[1],r,o].concat(d))))return k;E&&(n=n.slice(0,-1*E*2),r=r.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[_[1]][0]),r.push(A.$),o.push(A._$),T=s[n[n.length-2]][n[n.length-1]],n.push(T);break;case 3:return!0}}return!0}},f={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,i){switch(n){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:case 6:case 8:case 9:break;case 7:return 11;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};function g(){this.yy={}}return d.lexer=f,g.prototype=d,d.Parser=g,new g}();HV.parser=HV;const UV=HV,qV=t=>null!==t.match(/^\s*journey/);let WV="";const GV=[],KV=[],YV=[],XV=function(){let t=QV();const e=100;let n=0;for(;!t&&n<e;)t=QV(),n++;return KV.push(...YV),KV},ZV=function(){const t=[];return KV.forEach((e=>{e.people&&t.push(...e.people)})),[...new Set(t)].sort()},QV=function(){const t=function(t){return YV[t].processed};let e=!0;for(const[n,i]of YV.entries())t(n),e=e&&i.processed;return e},JV={parseDirective:function(t,e,n){bH.parseDirective(this,t,e,n)},getConfig:()=>xw().journey,clear:function(){GV.length=0,KV.length=0,WV="",YV.length=0,ty()},setDiagramTitle:oy,getDiagramTitle:sy,setAccTitle:ey,getAccTitle:ny,setAccDescription:iy,getAccDescription:ry,addSection:function(t){WV=t,GV.push(t)},getSections:function(){return GV},getTasks:XV,addTask:function(t,e){const n=e.substr(1).split(":");let i=0,r=[];1===n.length?(i=Number(n[0]),r=[]):(i=Number(n[0]),r=n[1].split(","));const o=r.map((t=>t.trim())),s={section:WV,type:WV,people:o,task:t,score:i};YV.push(s)},addTaskOrg:function(t){const e={section:WV,type:WV,description:t,task:t,classes:[]};KV.push(e)},getActors:function(){return ZV()}},tz=function(t,e){const n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),void 0!==e.class&&n.attr("class",e.class),n},ez=function(t,e){const n=15,i=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",n).attr("stroke-width",2).attr("overflow","visible"),r=t.append("g");function o(t){const i=Nl().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(n/2).outerRadius(n/2.2);t.append("path").attr("class","mouth").attr("d",i).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}function s(t){const i=Nl().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(n/2).outerRadius(n/2.2);t.append("path").attr("class","mouth").attr("d",i).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}function a(t){t.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return r.append("circle").attr("cx",e.cx-n/3).attr("cy",e.cy-n/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),r.append("circle").attr("cx",e.cx+n/3).attr("cy",e.cy-n/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),e.score>3?o(r):e.score<3?s(r):a(r),i},nz=function(t,e){const n=t.append("circle");return n.attr("cx",e.cx),n.attr("cy",e.cy),n.attr("class","actor-"+e.pos),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("r",e.r),void 0!==n.class&&n.attr("class",n.class),void 0!==e.title&&n.append("title").text(e.title),n},iz=function(t,e){const n=e.text.replace(/<br\s*\/?>/gi," "),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.attr("class","legend"),i.style("text-anchor",e.anchor),void 0!==e.class&&i.attr("class",e.class);const r=i.append("tspan");return r.attr("x",e.x+2*e.textMargin),r.text(n),i},rz=function(t,e){function n(t,e,n,i,r){return t+","+e+" "+(t+n)+","+e+" "+(t+n)+","+(e+i-r)+" "+(t+n-1.2*r)+","+(e+i)+" "+t+","+(e+i)}const i=t.append("polygon");i.attr("points",n(e.x,e.y,50,20,7)),i.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,iz(t,e)},oz=function(t,e,n){const i=t.append("g"),r=uz();r.x=e.x,r.y=e.y,r.fill=e.fill,r.width=n.width,r.height=n.height,r.class="journey-section section-type-"+e.num,r.rx=3,r.ry=3,tz(i,r),hz(n)(e.text,i,r.x,r.y,r.width,r.height,{class:"journey-section section-type-"+e.num},n,e.colour)};let sz=-1;const az=function(t,e,n){const i=e.x+n.width/2,r=t.append("g");sz++;const o=450;r.append("line").attr("id","task"+sz).attr("x1",i).attr("y1",e.y).attr("x2",i).attr("y2",o).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),ez(r,{cx:i,cy:300+30*(5-e.score),score:e.score});const s=uz();s.x=e.x,s.y=e.y,s.fill=e.fill,s.width=n.width,s.height=n.height,s.class="task task-type-"+e.num,s.rx=3,s.ry=3,tz(r,s);let a=e.x+14;e.people.forEach((t=>{const n=e.actors[t].color,i={cx:a,cy:e.y,r:7,fill:n,stroke:"#000",title:t,pos:e.actors[t].position};nz(r,i),a+=10})),hz(n)(e.task,r,s.x,s.y,s.width,s.height,{class:"task"},n,e.colour)},cz=function(t,e){tz(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},lz=function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},uz=function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},hz=function(){function t(t,e,n,r,o,s,a,c){i(e.append("text").attr("x",n+o/2).attr("y",r+s/2+5).style("font-color",c).style("text-anchor","middle").text(t),a)}function e(t,e,n,r,o,s,a,c,l){const{taskFontSize:u,taskFontFamily:h}=c,d=t.split(/<br\s*\/?>/gi);for(let t=0;t<d.length;t++){const c=t*u-u*(d.length-1)/2,f=e.append("text").attr("x",n+o/2).attr("y",r).attr("fill",l).style("text-anchor","middle").style("font-size",u).style("font-family",h);f.append("tspan").attr("x",n+o/2).attr("dy",c).text(d[t]),f.attr("y",r+s/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(f,a)}}function n(t,n,r,o,s,a,c,l){const u=n.append("switch"),h=u.append("foreignObject").attr("x",r).attr("y",o).attr("width",s).attr("height",a).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,u,r,o,s,a,c,l),i(h,c)}function i(t,e){for(const n in e)n in e&&t.attr(n,e[n])}return function(i){return"fo"===i.textPlacement?n:"old"===i.textPlacement?t:e}}(),dz={drawRect:tz,drawCircle:nz,drawSection:oz,drawText:iz,drawLabel:rz,drawTask:az,drawBackgroundRect:cz,getTextObj:lz,getNoteRect:uz,initGraphics:function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")}},fz=function(t){Object.keys(t).forEach((function(e){mz[e]=t[e]}))},gz={};function pz(t){const e=xw().journey;let n=60;Object.keys(gz).forEach((i=>{const r=gz[i].color,o={cx:20,cy:n,r:7,fill:r,stroke:"#000",pos:gz[i].position};dz.drawCircle(t,o);const s={x:40,y:n+7,fill:"#666",text:i,textMargin:5|e.boxTextMargin};dz.drawText(t,s),n+=20}))}const mz=xw().journey,bz=mz.leftMargin,wz=function(t,e,n,i){const r=xw().journey;i.db.clear(),i.parser.parse(t+"\n");const o=xw().securityLevel;let s;"sandbox"===o&&(s=un("#i"+e));const a=un("sandbox"===o?s.nodes()[0].contentDocument.body:"body");yz.init();const c=a.select("#"+e);dz.initGraphics(c);const l=i.db.getTasks(),u=i.db.getDiagramTitle(),h=i.db.getActors();for(const t in gz)delete gz[t];let d=0;h.forEach((t=>{gz[t]={color:r.actorColours[d%r.actorColours.length],position:d},d++})),pz(c),yz.insert(0,0,bz,50*Object.keys(gz).length),kz(c,l,0);const f=yz.getBounds();u&&c.append("text").text(u).attr("x",bz).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const g=f.stopy-f.starty+2*r.diagramMarginY,p=bz+f.stopx+2*r.diagramMarginX;Dw(c,g,p,r.useMaxWidth),c.append("line").attr("x1",bz).attr("y1",4*r.height).attr("x2",p-bz-4).attr("y2",4*r.height).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const m=u?70:0;c.attr("viewBox",`${f.startx} -25 ${p} ${g+m}`),c.attr("preserveAspectRatio","xMinYMin meet"),c.attr("height",g+m+25)},yz={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(t,e,n,i){void 0===t[e]?t[e]=n:t[e]=i(n,t[e])},updateBounds:function(t,e,n,i){const r=xw().journey,o=this;let s=0;function a(a){return function(c){s++;const l=o.sequenceItems.length-s+1;o.updateVal(c,"starty",e-l*r.boxMargin,Math.min),o.updateVal(c,"stopy",i+l*r.boxMargin,Math.max),o.updateVal(yz.data,"startx",t-l*r.boxMargin,Math.min),o.updateVal(yz.data,"stopx",n+l*r.boxMargin,Math.max),"activation"!==a&&(o.updateVal(c,"startx",t-l*r.boxMargin,Math.min),o.updateVal(c,"stopx",n+l*r.boxMargin,Math.max),o.updateVal(yz.data,"starty",e-l*r.boxMargin,Math.min),o.updateVal(yz.data,"stopy",i+l*r.boxMargin,Math.max))}}this.sequenceItems.forEach(a())},insert:function(t,e,n,i){const r=Math.min(t,n),o=Math.max(t,n),s=Math.min(e,i),a=Math.max(e,i);this.updateVal(yz.data,"startx",r,Math.min),this.updateVal(yz.data,"starty",s,Math.min),this.updateVal(yz.data,"stopx",o,Math.max),this.updateVal(yz.data,"stopy",a,Math.max),this.updateBounds(r,s,o,a)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},vz=mz.sectionFills,_z=mz.sectionColours,kz=function(t,e,n){const i=xw().journey;let r="";const o=n+(2*i.height+i.diagramMarginY);let s=0,a="#CCC",c="black",l=0;for(const[n,u]of e.entries()){if(r!==u.section){a=vz[s%vz.length],l=s%vz.length,c=_z[s%_z.length];const e={x:n*i.taskMargin+n*i.width+bz,y:50,text:u.section,fill:a,num:l,colour:c};dz.drawSection(t,e,i),r=u.section,s++}const e=u.people.reduce(((t,e)=>(gz[e]&&(t[e]=gz[e]),t)),{});u.x=n*i.taskMargin+n*i.width+bz,u.y=o,u.width=i.diagramMarginX,u.height=i.diagramMarginY,u.colour=c,u.fill=a,u.num=l,u.actors=e,dz.drawTask(t,u,i),yz.insert(u.x,u.y,u.x+u.width+i.taskMargin,450)}},xz={setConf:fz,draw:wz};let Ez={};const Tz={setConf:function(t){Ez={...Ez,...t}},draw:(t,e,n)=>{try{h.debug("Renering svg for syntax error\n");const t=un("#"+e),i=t.append("g");i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+n),t.attr("height",100),t.attr("width",500),t.attr("viewBox","768 0 912 512")}catch(t){h.error("Error while rendering info diagram"),h.error(wb(t))}}},Cz="flowchart-elk",Az={id:Cz,detector:(t,e)=>{var n;return!!(t.match(/^\s*flowchart-elk/)||t.match(/^\s*flowchart|graph/)&&"elk"===(null==(n=null==e?void 0:e.flowchart)?void 0:n.defaultRenderer))},loader:async()=>{const{diagram:t}=await Promise.resolve().then((()=>eU));return{id:Cz,diagram:t}}},Sz="timeline",Iz={id:Sz,detector:t=>null!==t.match(/^\s*timeline/),loader:async()=>{const{diagram:t}=await Promise.resolve().then((()=>HU));return{id:Sz,diagram:t}}},Mz="mindmap",Pz={id:Mz,detector:t=>null!==t.match(/^\s*mindmap/),loader:async()=>{const{diagram:t}=await Promise.resolve().then((()=>zq));return{id:Mz,diagram:t}}};let Oz=!1;const Dz=()=>{Oz||(Oz=!0,xp(Az,Iz,Pz),vy("error",{db:{clear:()=>{}},styles:Bw,renderer:Tz,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},(t=>"error"===t.toLowerCase().trim())),vy("---",{db:{clear:()=>{}},styles:Bw,renderer:Tz,parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with unindented `---` blocks")}},init:()=>null},(t=>t.toLowerCase().trimStart().startsWith("---"))),vy("c4",{parser:dv,db:Lv,renderer:b_,styles:Ww,init:t=>{b_.setConf(t.c4)}},fv),vy("class",{parser:y_,db:ek,renderer:oO,styles:Lw,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,ek.clear()}},v_),vy("classDiagram",{parser:y_,db:ek,renderer:bD,styles:Lw,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,ek.clear()}},__),vy("er",{parser:yD,db:TD,renderer:tN,styles:Rw},vD),vy("gantt",{parser:DR,db:EB,renderer:AB,styles:jw},NR),vy("info",{parser:IB,db:OB,renderer:DB,styles:$w},NB),vy("pie",{parser:RB,db:$B,renderer:UB,styles:Vw},BB),vy("requirement",{parser:WB,db:JB,renderer:gF,styles:zw},GB),vy("sequence",{parser:mF,db:zF,renderer:Wj,styles:Hw,init:t=>{if(t.sequence||(t.sequence={}),t.sequence.arrowMarkerAbsolute=t.arrowMarkerAbsolute,"sequenceDiagram"in t)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");zF.setWrap(t.wrap),Wj.setConf(t.sequence)}},bF),vy("state",{parser:Kj,db:j$,renderer:cV,styles:Uw,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,j$.clear()}},Yj),vy("stateDiagram",{parser:Kj,db:j$,renderer:zV,styles:Uw,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,j$.clear()}},Xj),vy("journey",{parser:UV,db:JV,renderer:xz,styles:qw,init:t=>{xz.setConf(t.journey),JV.clear()}},qV),vy("flowchart",{parser:nN,db:sL,renderer:PR,styles:Fw,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,CR.setConf(t.flowchart),sL.clear(),sL.setGen("gen-1")}},iN),vy("flowchart-v2",{parser:nN,db:sL,renderer:PR,styles:Fw,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,kw({flowchart:{arrowMarkerAbsolute:t.arrowMarkerAbsolute}}),PR.setConf(t.flowchart),sL.clear(),sL.setGen("gen-2")}},rN),vy("gitGraph",{parser:xy,db:Gy,renderer:lv,styles:uv},Ey))};class Nz{constructor(t,e){var n,i;this.txt=t,this.type="graph",this.detectTypeFailed=!1;const r=xw();this.txt=t;try{this.type=kp(t,r)}catch(t){this.handleError(t,e),this.type="error",this.detectTypeFailed=!0}const o=_y(this.type);h.debug("Type "+this.type),this.db=o.db,null==(i=(n=this.db).clear)||i.call(n),this.renderer=o.renderer,this.parser=o.parser;const s=this.parser.parse.bind(this.parser);this.parser.parse=t=>s(wp(t,this.db)),this.parser.parser.yy=this.db,o.init&&(o.init(r),h.info("Initialized diagram "+this.type,r)),this.txt+="\n",this.parse(this.txt,e)}parse(t,e){var n,i;if(this.detectTypeFailed)return!1;try{return t+="\n",null==(i=(n=this.db).clear)||i.call(n),this.parser.parse(t),!0}catch(t){this.handleError(t,e)}return!1}handleError(t,e){if(void 0===e)throw t;bb(t)?e(t.str,t.hash):e(t)}getParser(){return this.parser}getType(){return this.type}}const Lz=(t,e)=>{const n=kp(t,xw());try{_y(n)}catch(i){const r=Tp(n);if(!r)throw new Error(`Diagram ${n} not found.`);return r().then((({diagram:i})=>(vy(n,i,void 0),new Nz(t,e))))}return new Nz(t,e)},Rz=Nz,Bz="graphics-document document";function Fz(t,e){t.attr("role",Bz),PS(e)||t.attr("aria-roledescription",e)}function jz(t,e,n,i){if(void 0!==t.insert&&(e||n)){if(n){const e="chart-desc-"+i;t.attr("aria-describedby",e),t.insert("desc",":first-child").attr("id",e).text(n)}if(e){const n="chart-title-"+i;t.attr("aria-labelledby",n),t.insert("title",":first-child").attr("id",n).text(e)}}}const $z=["graph","flowchart","flowchart-v2","stateDiagram","stateDiagram-v2"],Vz="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",zz="sandbox",Hz="loose",Uz="http://www.w3.org/2000/svg",qz="http://www.w3.org/1999/xlink",Wz="http://www.w3.org/1999/xhtml",Gz="100%",Kz="100%",Yz="border:0;margin:0;",Xz="margin:0",Zz="allow-top-navigation-by-user-activation allow-popups",Qz='The "iframe" tag is not supported by your browser.',Jz=["foreignobject"],tH=["dominant-baseline"];function eH(t,e){return Dz(),new Rz(t,e).parse(t,e)}async function nH(t,e){return Dz(),(await Lz(t,e)).parse(t,e)}const iH=function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,(function(t){return t.substring(0,t.length-1)})),e=e.replace(/classDef.*:\S*#.*;/g,(function(t){return t.substring(0,t.length-1)})),e=e.replace(/#\w+;/g,(function(t){const e=t.substring(1,t.length-1);return/^\+?\d+$/.test(e)?"ﬂ°°"+e+"¶ß":"ﬂ°"+e+"¶ß"})),e},rH=function(t){let e=t;return e=e.replace(/ﬂ°°/g,"&#"),e=e.replace(/ﬂ°/g,"&"),e=e.replace(/¶ß/g,";"),e},oH=(t,e,n=[])=>`\n.${t} ${e} { ${n.join(" !important; ")} !important; }`,sH=(t,e,n={})=>{var i;let r="";if(void 0!==t.themeCSS&&(r+=`\n${t.themeCSS}`),void 0!==t.fontFamily&&(r+=`\n:root { --mermaid-font-family: ${t.fontFamily}}`),void 0!==t.altFontFamily&&(r+=`\n:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),!PS(n)&&$z.includes(e)){const e=t.htmlLabels||(null==(i=t.flowchart)?void 0:i.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const t in n){const i=n[t];PS(i.styles)||e.forEach((t=>{r+=oH(i.id,t,i.styles)})),PS(i.textStyles)||(r+=oH(i.id,"tspan",i.textStyles))}}return r},aH=(t,e,n,i)=>{const r=sH(t,e,n);return lw(rw(`${i}{${Yw(e,r,t.themeVariables)}}`),uw)},cH=(t="",e,n)=>{let i=t;return n||e||(i=i.replace(/marker-end="url\(.*?#/g,'marker-end="url(#')),i=rH(i),i=i.replace(/<br>/g,"<br/>"),i},lH=(t="",e)=>{const n=e?e.viewBox.baseVal.height+"px":Kz,i=btoa('<body style="'+Xz+'">'+t+"</body>");return`<iframe style="width:${Gz};height:${n};${Yz}" src="data:text/html;base64,${i}" sandbox="${Zz}">\n  ${Qz}\n</iframe>`},uH=(t,e,n,i,r)=>{const o=t.append("div");o.attr("id",n),i&&o.attr("style",i);const s=o.append("svg").attr("id",e).attr("width","100%").attr("xmlns",Uz);return r&&s.attr("xmlns:xlink",r),s.append("g"),t};function hH(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const dH=(t,e,n,i)=>{var r,o,s;null==(r=t.getElementById(e))||r.remove(),null==(o=t.getElementById(n))||o.remove(),null==(s=t.getElementById(i))||s.remove()},fH=function(t,e,n,i){var r,o,s,a;Dz(),Cw();const c=vb.detectInit(e);c&&(pb(c),Tw(c));const l=xw();h.debug(l),e.length>((null==l?void 0:l.maxTextSize)??5e4)&&(e=Vz),e=e.replace(/\r\n?/g,"\n");const u="#"+t,d="i"+t,f="#"+d,g="d"+t,p="#"+g;let m=un("body");const b=l.securityLevel===zz,w=l.securityLevel===Hz,y=l.fontFamily;if(void 0!==i){if(i&&(i.innerHTML=""),b){const t=hH(un(i),d);m=un(t.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=un(i);uH(m,t,g,`font-family: ${y}`,qz)}else{if(dH(document,t,g,d),b){const t=hH(un("body"),d);m=un(t.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=un("body");uH(m,t,g)}let v,_;e=iH(e);try{if(v=Lz(e),"then"in v)throw new Error("Diagram is a promise. Use renderAsync.")}catch(t){v=new Rz("error"),_=t}const k=m.select(p).node(),x=v.type,E=k.firstChild,T=E.firstChild,C=$z.includes(x)?v.renderer.getClasses(e,v):{},A=aH(l,x,C,u),S=document.createElement("style");S.innerHTML=A,E.insertBefore(S,T);try{v.renderer.draw(e,t,hw,v)}catch(n){throw Tz.draw(e,t,hw),n}mH(x,m.select(`${p} svg`),null==(o=(r=v.db).getAccTitle)?void 0:o.call(r),null==(a=(s=v.db).getAccDescription)?void 0:a.call(s)),m.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",Wz);let I=m.select(p).node().innerHTML;if(h.debug("config.arrowMarkerAbsolute",l.arrowMarkerAbsolute),I=cH(I,b,Zh(l.arrowMarkerAbsolute)),b){const t=m.select(p+" svg").node();I=lH(I,t)}else w||(I=zh.sanitize(I,{ADD_TAGS:Jz,ADD_ATTR:tH}));if(void 0!==n)switch(x){case"flowchart":case"flowchart-v2":n(I,sL.bindFunctions);break;case"gantt":n(I,EB.bindFunctions);break;case"class":case"classDiagram":n(I,ek.bindFunctions);break;default:n(I)}else h.debug("CB = undefined!");qF();const M=un(b?f:p).node();if(M&&"remove"in M&&M.remove(),_)throw _;return I},gH=async function(t,e,n,i){var r,o,s,a;Dz(),Cw();const c=vb.detectInit(e);c&&(pb(c),Tw(c));const l=xw();h.debug(l),e.length>((null==l?void 0:l.maxTextSize)??5e4)&&(e=Vz),e=e.replace(/\r\n?/g,"\n");const u="#"+t,d="i"+t,f="#"+d,g="d"+t,p="#"+g;let m=un("body");const b=l.securityLevel===zz,w=l.securityLevel===Hz,y=l.fontFamily;if(void 0!==i){if(i&&(i.innerHTML=""),b){const t=hH(un(i),d);m=un(t.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=un(i);uH(m,t,g,`font-family: ${y}`,qz)}else{if(dH(document,t,g,d),b){const t=hH(un("body"),d);m=un(t.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=un("body");uH(m,t,g)}let v,_;e=iH(e);try{v=await Lz(e)}catch(t){v=new Rz("error"),_=t}const k=m.select(p).node(),x=v.type,E=k.firstChild,T=E.firstChild,C=$z.includes(x)?v.renderer.getClasses(e,v):{},A=aH(l,x,C,u),S=document.createElement("style");S.innerHTML=A,E.insertBefore(S,T);try{await v.renderer.draw(e,t,hw,v)}catch(n){throw Tz.draw(e,t,hw),n}mH(x,m.select(`${p} svg`),null==(o=(r=v.db).getAccTitle)?void 0:o.call(r),null==(a=(s=v.db).getAccDescription)?void 0:a.call(s)),m.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",Wz);let I=m.select(p).node().innerHTML;if(h.debug("config.arrowMarkerAbsolute",l.arrowMarkerAbsolute),I=cH(I,b,Zh(l.arrowMarkerAbsolute)),b){const t=m.select(p+" svg").node();I=lH(I,t)}else w||(I=zh.sanitize(I,{ADD_TAGS:Jz,ADD_ATTR:tH}));if(void 0!==n)switch(x){case"flowchart":case"flowchart-v2":n(I,sL.bindFunctions);break;case"gantt":n(I,EB.bindFunctions);break;case"class":case"classDiagram":n(I,ek.bindFunctions);break;default:n(I)}else h.debug("CB = undefined!");qF();const M=un(b?f:p).node();if(M&&"remove"in M&&M.remove(),_)throw _;return I};function pH(t={}){var e;(null==t?void 0:t.fontFamily)&&!(null==(e=t.themeVariables)?void 0:e.fontFamily)&&(t.themeVariables={fontFamily:t.fontFamily}),yw(t),(null==t?void 0:t.theme)&&t.theme in $d?t.themeVariables=$d[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=$d.default.getThemeVariables(t.themeVariables));const n="object"==typeof t?ww(t):_w();d(n.logLevel),Dz()}function mH(t,e,n,i){Fz(e,t),jz(e,n,i,e.attr("id"))}const bH=Object.freeze({render:fH,renderAsync:gH,parse:eH,parseAsync:nH,parseDirective:uy,initialize:pH,getConfig:xw,setConfig:kw,getSiteConfig:_w,updateSiteConfig:vw,reset:()=>{Cw()},globalReset:()=>{Cw(dw)},defaultConfig:dw});d(xw().logLevel),Cw(xw());const wH=async function(t,e,n){try{await kH(t,e,n)}catch(t){h.warn("Syntax Error rendering"),bb(t)&&h.warn(t.str),DH.parseError&&DH.parseError(t)}},yH=(t,e,n)=>{h.warn(t),bb(t)?(n&&n(t.str,t.hash),e.push({...t,message:t.str,error:t})):(n&&n(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},vH=function(t,e,n){const r=bH.getConfig();let o;if(t&&(DH.sequenceConfig=t),h.debug((n?"":"No ")+"Callback function found"),void 0===e)o=document.querySelectorAll(".mermaid");else if("string"==typeof e)o=document.querySelectorAll(e);else if(e instanceof HTMLElement)o=[e];else{if(!(e instanceof NodeList))throw new Error("Invalid argument nodes for mermaid.init");o=e}h.debug(`Found ${o.length} diagrams`),void 0!==(null==t?void 0:t.startOnLoad)&&(h.debug("Start On Load: "+(null==t?void 0:t.startOnLoad)),bH.updateSiteConfig({startOnLoad:null==t?void 0:t.startOnLoad}));const s=new vb.initIdGenerator(r.deterministicIds,r.deterministicIDSeed);let a;const c=[];for(const t of Array.from(o)){
/*! Check if previously processed */
if(h.info("Rendering diagram: "+t.id),t.getAttribute("data-processed"))continue;t.setAttribute("data-processed","true");const e=`mermaid-${s.next()}`;a=t.innerHTML,a=i(vb.entityDecode(a)).trim().replace(/<br\s*\/?>/gi,"<br/>");const r=vb.detectInit(a);r&&h.debug("Detected early reinit: ",r);try{bH.render(e,a,((i,r)=>{t.innerHTML=i,void 0!==n&&n(e),r&&r(t)}),t)}catch(t){yH(t,c,DH.parseError)}}if(c.length>0)throw c[0]},_H=async(...t)=>{h.debug(`Loading ${t.length} external diagrams`);const e=(await Promise.allSettled(t.map((async({id:t,detector:e,loader:n})=>{const{diagram:i}=await n();vy(t,i,e)})))).filter((t=>"rejected"===t.status));if(e.length>0){h.error(`Failed to load ${e.length} external diagrams`);for(const t of e)h.error(t);throw new Error(`Failed to load ${e.length} external diagrams`)}},kH=async function(t,e,n){const r=bH.getConfig();let o;if(t&&(DH.sequenceConfig=t),h.debug((n?"":"No ")+"Callback function found"),void 0===e)o=document.querySelectorAll(".mermaid");else if("string"==typeof e)o=document.querySelectorAll(e);else if(e instanceof HTMLElement)o=[e];else{if(!(e instanceof NodeList))throw new Error("Invalid argument nodes for mermaid.init");o=e}h.debug(`Found ${o.length} diagrams`),void 0!==(null==t?void 0:t.startOnLoad)&&(h.debug("Start On Load: "+(null==t?void 0:t.startOnLoad)),bH.updateSiteConfig({startOnLoad:null==t?void 0:t.startOnLoad}));const s=new vb.initIdGenerator(r.deterministicIds,r.deterministicIDSeed);let a;const c=[];for(const t of Array.from(o)){
/*! Check if previously processed */
if(h.info("Rendering diagram: "+t.id),t.getAttribute("data-processed"))continue;t.setAttribute("data-processed","true");const e=`mermaid-${s.next()}`;a=t.innerHTML,a=i(vb.entityDecode(a)).trim().replace(/<br\s*\/?>/gi,"<br/>");const r=vb.detectInit(a);r&&h.debug("Detected early reinit: ",r);try{await bH.renderAsync(e,a,((i,r)=>{t.innerHTML=i,void 0!==n&&n(e),r&&r(t)}),t)}catch(t){yH(t,c,DH.parseError)}}if(c.length>0)throw c[0]},xH=function(t){bH.initialize(t)},EH=async(t,{lazyLoad:e=!0}={})=>{e?xp(...t):await _H(...t)},TH=function(){if(DH.startOnLoad){const{startOnLoad:t}=bH.getConfig();t&&DH.init().catch((t=>h.error("Mermaid failed to initialize",t)))}};"undefined"!=typeof document&&
/*!
     * Wait for document loaded before starting the execution
     */
window.addEventListener("load",TH,!1);const CH=function(t){DH.parseError=t},AH=t=>bH.parse(t,DH.parseError),SH=[];let IH=!1;const MH=async()=>{if(!IH){for(IH=!0;SH.length>0;){const t=SH.shift();if(t)try{await t()}catch(t){h.error("Error executing queue",t)}}IH=!1}},PH=t=>new Promise(((e,n)=>{const i=()=>new Promise(((i,r)=>{bH.parseAsync(t,DH.parseError).then((t=>{i(t),e(t)}),(t=>{h.error("Error parsing",t),r(t),n(t)}))}));SH.push(i),MH().catch(n)})),OH=(t,e,n,i)=>new Promise(((r,o)=>{const s=()=>new Promise(((s,a)=>{bH.renderAsync(t,e,n,i).then((t=>{s(t),r(t)}),(t=>{h.error("Error parsing",t),a(t),o(t)}))}));SH.push(s),MH().catch(o)})),DH={startOnLoad:!0,diagrams:{},mermaidAPI:bH,parse:AH,parseAsync:PH,render:bH.render,renderAsync:OH,init:wH,initThrowsErrors:vH,initThrowsErrorsAsync:kH,registerExternalDiagrams:EH,initialize:xH,parseError:void 0,contentLoaded:TH,setParseErrorHandler:CH},NH=(t,e,n)=>{const{parentById:i}=n,r=new Set;let o=t;for(;o;){if(r.add(o),o===e)return o;o=i[o]}for(o=e;o;){if(r.has(o))return o;o=i[o]}return"root"};function LH(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var RH={};!function(t){var e;e=function(){return function(){function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof LH&&LH;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};e[s][0].call(u.exports,(function(t){return r(e[s][1][t]||t)}),u,u.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof LH&&LH,s=0;s<i.length;s++)r(i[s]);return r}return t}()({1:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.defaultLayoutOptions,o=void 0===i?{}:i,a=n.algorithms,c=void 0===a?["layered","stress","mrtree","radial","force","disco","sporeOverlap","sporeCompaction","rectpacking"]:a,l=n.workerFactory,u=n.workerUrl;if(r(this,t),this.defaultLayoutOptions=o,this.initialized=!1,void 0===u&&void 0===l)throw new Error("Cannot construct an ELK without both 'workerUrl' and 'workerFactory'.");var h=l;void 0!==u&&void 0===l&&(h=function(t){return new Worker(t)});var d=h(u);if("function"!=typeof d.postMessage)throw new TypeError("Created worker does not provide the required 'postMessage' function.");this.worker=new s(d),this.worker.postMessage({cmd:"register",algorithms:c}).then((function(t){return e.initialized=!0})).catch(console.err)}return i(t,[{key:"layout",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.layoutOptions,i=void 0===n?this.defaultLayoutOptions:n,r=e.logging,o=void 0!==r&&r,s=e.measureExecutionTime,a=void 0!==s&&s;return t?this.worker.postMessage({cmd:"layout",graph:t,layoutOptions:i,options:{logging:o,measureExecutionTime:a}}):Promise.reject(new Error("Missing mandatory parameter 'graph'."))}},{key:"knownLayoutAlgorithms",value:function(){return this.worker.postMessage({cmd:"algorithms"})}},{key:"knownLayoutOptions",value:function(){return this.worker.postMessage({cmd:"options"})}},{key:"knownLayoutCategories",value:function(){return this.worker.postMessage({cmd:"categories"})}},{key:"terminateWorker",value:function(){this.worker.terminate()}}]),t}();n.default=o;var s=function(){function t(e){var n=this;if(r(this,t),void 0===e)throw new Error("Missing mandatory parameter 'worker'.");this.resolvers={},this.worker=e,this.worker.onmessage=function(t){setTimeout((function(){n.receive(n,t)}),0)}}return i(t,[{key:"postMessage",value:function(t){var e=this.id||0;this.id=e+1,t.id=e;var n=this;return new Promise((function(i,r){n.resolvers[e]=function(t,e){t?(n.convertGwtStyleError(t),r(t)):i(e)},n.worker.postMessage(t)}))}},{key:"receive",value:function(t,e){var n=e.data,i=t.resolvers[n.id];i&&(delete t.resolvers[n.id],n.error?i(n.error):i(null,n.data))}},{key:"terminate",value:function(){this.worker.terminate&&this.worker.terminate()}},{key:"convertGwtStyleError",value:function(t){if(t){var e=t.__java$exception;e&&(e.cause&&e.cause.backingJsObject&&(t.cause=e.cause.backingJsObject,this.convertGwtStyleError(t.cause)),delete t.__java$exception)}}}]),t}()},{}],2:[function(t,e,n){(function(t){(function(){var i;function r(){}function o(){}function s(){}function a(){}function c(){}function l(){}function u(){}function h(){}function d(){}function f(){}function g(){}function p(){}function m(){}function b(){}function w(){}function y(){}function v(){}function _(){}function k(){}function x(){}function E(){}function T(){}function C(){}function A(){}function S(){}function I(){}function M(){}function P(){}function O(){}function D(){}function N(){}function L(){}function R(){}function B(){}function F(){}function j(){}function $(){}function V(){}function z(){}function H(){}function U(){}function q(){}function W(){}function G(){}function K(){}function Y(){}function X(){}function Z(){}function Q(){}function J(){}function tt(){}function et(){}function nt(){}function it(){}function rt(){}function ot(){}function st(){}function at(){}function ct(){}function lt(){}function ut(){}function ht(){}function dt(){}function ft(){}function gt(){}function pt(){}function mt(){}function bt(){}function wt(){}function yt(){}function vt(){}function _t(){}function kt(){}function xt(){}function Et(){}function Tt(){}function Ct(){}function At(){}function St(){}function It(){}function Mt(){}function Pt(){}function Ot(){}function Dt(){}function Nt(){}function Lt(){}function Rt(){}function Bt(){}function Ft(){}function jt(){}function $t(){}function Vt(){}function zt(){}function Ht(){}function Ut(){}function qt(){}function Wt(){}function Gt(){}function Kt(){}function Yt(){}function Xt(){}function Zt(){}function Qt(){}function Jt(){}function te(){}function ee(){}function ne(){}function ie(){}function re(){}function oe(){}function se(){}function ae(){}function ce(){}function le(){}function ue(){}function he(){}function de(){}function fe(){}function ge(){}function pe(){}function me(){}function be(){}function we(){}function ye(){}function ve(){}function _e(){}function ke(){}function xe(){}function Ee(){}function Te(){}function Ce(){}function Ae(){}function Se(){}function Ie(){}function Me(){}function Pe(){}function Oe(){}function De(){}function Ne(){}function Le(){}function Re(){}function Be(){}function Fe(){}function je(){}function $e(){}function Ve(){}function ze(){}function He(){}function Ue(){}function qe(){}function We(){}function Ge(){}function Ke(){}function Ye(){}function Xe(){}function Ze(){}function Qe(){}function Je(){}function tn(){}function en(){}function nn(){}function rn(){}function on(){}function sn(){}function an(){}function cn(){}function ln(){}function un(){}function hn(){}function dn(){}function fn(){}function gn(){}function pn(){}function mn(){}function bn(){}function wn(){}function yn(){}function vn(){}function _n(){}function kn(){}function xn(){}function En(){}function Tn(){}function Cn(){}function An(){}function Sn(){}function In(){}function Mn(){}function Pn(){}function On(){}function Dn(){}function Nn(){}function Ln(){}function Rn(){}function Bn(){}function Fn(){}function jn(){}function $n(){}function Vn(){}function zn(){}function Hn(){}function Un(){}function qn(){}function Wn(){}function Gn(){}function Kn(){}function Yn(){}function Xn(){}function Zn(){}function Qn(){}function Jn(){}function ti(){}function ei(){}function ni(){}function ii(){}function ri(){}function oi(){}function si(){}function ai(){}function ci(){}function li(){}function ui(){}function hi(){}function di(){}function fi(){}function gi(){}function pi(){}function mi(){}function bi(){}function wi(){}function yi(){}function vi(){}function _i(){}function ki(){}function xi(){}function Ei(){}function Ti(){}function Ci(){}function Ai(){}function Si(){}function Ii(){}function Mi(){}function Pi(){}function Oi(){}function Di(){}function Ni(){}function Li(){}function Ri(){}function Bi(){}function Fi(){}function ji(){}function $i(){}function Vi(){}function zi(){}function Hi(){}function Ui(){}function qi(){}function Wi(){}function Gi(){}function Ki(){}function Yi(){}function Xi(){}function Zi(){}function Qi(){}function Ji(){}function tr(){}function er(){}function nr(){}function ir(){}function rr(){}function or(){}function sr(){}function ar(){}function cr(){}function lr(){}function ur(){}function hr(){}function dr(){}function fr(){}function gr(){}function pr(){}function mr(){}function br(){}function wr(){}function yr(){}function vr(){}function _r(){}function kr(){}function xr(){}function Er(){}function Tr(){}function Cr(){}function Ar(){}function Sr(){}function Ir(){}function Mr(){}function Pr(){}function Or(){}function Dr(){}function Nr(){}function Lr(){}function Rr(){}function Br(){}function Fr(){}function jr(){}function $r(){}function Vr(){}function zr(){}function Hr(){}function Ur(){}function qr(){}function Wr(){}function Gr(){}function Kr(){}function Yr(){}function Xr(){}function Zr(){}function Qr(){}function Jr(){}function to(){}function eo(){}function no(){}function io(){}function ro(){}function oo(){}function so(){}function ao(){}function co(){}function lo(){}function uo(){}function ho(){}function fo(){}function go(){}function po(){}function mo(){}function bo(){}function wo(){}function yo(){}function vo(){}function _o(){}function ko(){}function xo(){}function Eo(){}function To(){}function Co(){}function Ao(){}function So(){}function Io(){}function Mo(){}function Po(){}function Oo(){}function Do(){}function No(){}function Lo(){}function Ro(){}function Bo(){}function Fo(){}function jo(){}function $o(){}function Vo(){}function zo(){}function Ho(){}function Uo(){}function qo(){}function Wo(){}function Go(){}function Ko(){}function Yo(){}function Xo(){}function Zo(){}function Qo(){}function Jo(){}function ts(){}function es(){}function ns(){}function is(){}function rs(){}function os(){}function ss(){}function as(){}function cs(){}function ls(){}function us(){}function hs(){}function ds(){}function fs(){}function gs(){}function ps(){}function ms(){}function bs(){}function ws(){}function ys(){}function vs(){}function _s(){}function ks(){}function xs(){}function Es(){}function Ts(){}function Cs(){}function As(){}function Ss(){}function Is(){}function Ms(){}function Ps(){}function Os(){}function Ds(){}function Ns(){}function Ls(){}function Rs(){}function Bs(){}function Fs(){}function js(){}function $s(){}function Vs(){}function zs(){}function Hs(){}function Us(){}function qs(){}function Ws(){}function Gs(){}function Ks(){}function Ys(){}function Xs(){}function Zs(){}function Qs(){}function Js(){}function ta(){}function ea(){}function na(){}function ia(){}function ra(){}function oa(){}function sa(){}function aa(){}function ca(){}function la(){}function ua(){}function ha(){}function da(){}function fa(){}function ga(){}function pa(){}function ma(){}function ba(){}function wa(){}function ya(){}function va(){}function _a(){}function ka(){}function xa(){}function Ea(){}function Ta(){}function Ca(){}function Aa(){}function Sa(){}function Ia(){}function Ma(){}function Pa(){}function Oa(){}function Da(){}function Na(){}function La(){}function Ra(){}function Ba(){}function Fa(){}function ja(){}function $a(){}function Va(){}function za(){}function Ha(){}function Ua(){}function qa(){}function Wa(){}function Ga(){}function Ka(){}function Ya(){}function Xa(){}function Za(){}function Qa(){}function Ja(){}function tc(){}function ec(){}function nc(){}function ic(){}function rc(){}function oc(){}function sc(){}function ac(){}function cc(){}function lc(){}function uc(){}function hc(){}function dc(){}function fc(){}function gc(){}function pc(){}function mc(){}function bc(){}function wc(){}function yc(){}function vc(){}function _c(){}function kc(){}function xc(){}function Ec(){}function Tc(){}function Cc(){}function Ac(){}function Sc(){}function Ic(){}function Mc(){}function Pc(){}function Oc(){}function Dc(){}function Nc(){}function Lc(){}function Rc(){}function Bc(){}function Fc(){}function jc(){}function $c(){}function Vc(){}function zc(){}function Hc(){}function Uc(){}function qc(){}function Wc(){}function Gc(){}function Kc(){}function Yc(){}function Xc(){}function Zc(){}function Qc(){}function Jc(){}function tl(){}function el(){}function nl(){}function il(){}function rl(){}function ol(){}function sl(){}function al(){}function cl(){}function ll(){}function ul(){}function hl(){}function dl(){}function fl(){}function gl(){}function pl(){}function ml(){}function bl(){}function wl(){}function yl(){}function vl(){}function _l(){}function kl(){}function xl(){}function El(){}function Tl(){}function Cl(){}function Al(){}function Sl(){}function Il(){}function Ml(){}function Pl(){}function Ol(){}function Dl(){}function Nl(){}function Ll(){}function Rl(){}function Bl(){}function Fl(){}function jl(){}function $l(){}function Vl(){}function zl(){}function Hl(){}function Ul(){}function ql(){}function Wl(){}function Gl(){}function Kl(){}function Yl(){}function Xl(){}function Zl(){}function Ql(){}function Jl(){}function tu(){}function eu(){}function nu(){}function iu(){}function ru(){}function ou(){}function su(){}function au(){}function cu(){}function lu(){}function uu(){}function hu(){}function du(){}function fu(){}function gu(){}function pu(){}function mu(){}function bu(){}function wu(){}function yu(){}function vu(){}function _u(){}function ku(){}function xu(){}function Eu(){}function Tu(){}function Cu(){}function Au(){}function Su(){}function Iu(){}function Mu(){}function Pu(){}function Ou(){}function Du(){}function Nu(){}function Lu(){}function Ru(){}function Bu(){}function Fu(){}function ju(){ev()}function $u(){Hlt()}function Vu(){kbt()}function zu(){F_t()}function Hu(){_Ct()}function Uu(){uBt()}function qu(){Bvt()}function Wu(){i_t()}function Gu(){_T()}function Ku(){bT()}function Yu(){Vj()}function Xu(){kT()}function Zu(){Srt()}function Qu(){ET()}function Ju(){A6()}function th(){Cit()}function eh(){K7()}function nh(){BJ()}function ih(){Ult()}function rh(){FTt()}function oh(){Ait()}function sh(){U2()}function ah(){uKt()}function ch(){Hvt()}function lh(){FJ()}function uh(){VGt()}function hh(){LJ()}function dh(){Sit()}function fh(){Xat()}function gh(){zJ()}function ph(){C8()}function mh(){TT()}function bh(){BPt()}function wh(){qvt()}function yh(){jot()}function vh(){ETt()}function _h(){dBt()}function kh(){$wt()}function xh(){APt()}function Eh(){Rst()}function Th(){$J()}function Ch(){cjt()}function Ah(){PPt()}function Sh(){GOt()}function Ih(){D8()}function Mh(){TTt()}function Ph(){cKt()}function Oh(){Wlt()}function Dh(){bpt()}function Nh(){zVt()}function Lh(){oj()}function Rh(){fot()}function Bh(){u$t()}function Fh(t){yK(t)}function jh(t){this.a=t}function $h(t){this.a=t}function Vh(t){this.a=t}function zh(t){this.a=t}function Hh(t){this.a=t}function Uh(t){this.a=t}function qh(t){this.a=t}function Wh(t){this.a=t}function Gh(t){this.a=t}function Kh(t){this.a=t}function Yh(t){this.a=t}function Xh(t){this.a=t}function Zh(t){this.a=t}function Qh(t){this.a=t}function Jh(t){this.a=t}function td(t){this.a=t}function ed(t){this.a=t}function nd(t){this.a=t}function id(t){this.a=t}function rd(t){this.a=t}function od(t){this.a=t}function sd(t){this.b=t}function ad(t){this.c=t}function cd(t){this.a=t}function ld(t){this.a=t}function ud(t){this.a=t}function hd(t){this.a=t}function dd(t){this.a=t}function fd(t){this.a=t}function gd(t){this.a=t}function pd(t){this.a=t}function md(t){this.a=t}function bd(t){this.a=t}function wd(t){this.a=t}function yd(t){this.a=t}function vd(t){this.a=t}function _d(t){this.a=t}function kd(t){this.a=t}function xd(t){this.a=t}function Ed(t){this.a=t}function Td(){this.a=[]}function Cd(t,e){t.a=e}function Ad(t,e){t.a=e}function Sd(t,e){t.b=e}function Id(t,e){t.b=e}function Md(t,e){t.b=e}function Pd(t,e){t.j=e}function Od(t,e){t.g=e}function Dd(t,e){t.i=e}function Nd(t,e){t.c=e}function Ld(t,e){t.d=e}function Rd(t,e){t.d=e}function Bd(t,e){t.c=e}function Fd(t,e){t.k=e}function jd(t,e){t.c=e}function $d(t,e){t.c=e}function Vd(t,e){t.a=e}function zd(t,e){t.a=e}function Hd(t,e){t.f=e}function Ud(t,e){t.a=e}function qd(t,e){t.b=e}function Wd(t,e){t.d=e}function Gd(t,e){t.i=e}function Kd(t,e){t.o=e}function Yd(t,e){t.r=e}function Xd(t,e){t.a=e}function Zd(t,e){t.b=e}function Qd(t,e){t.e=e}function Jd(t,e){t.f=e}function tf(t,e){t.g=e}function ef(t,e){t.e=e}function nf(t,e){t.f=e}function rf(t,e){t.f=e}function of(t,e){t.n=e}function sf(t,e){t.a=e}function af(t,e){t.a=e}function cf(t,e){t.c=e}function lf(t,e){t.c=e}function uf(t,e){t.d=e}function hf(t,e){t.e=e}function df(t,e){t.g=e}function ff(t,e){t.a=e}function gf(t,e){t.c=e}function pf(t,e){t.d=e}function mf(t,e){t.e=e}function bf(t,e){t.f=e}function wf(t,e){t.j=e}function yf(t,e){t.a=e}function vf(t,e){t.b=e}function _f(t,e){t.a=e}function kf(t){t.b=t.a}function xf(t){t.c=t.d.d}function Ef(t){this.d=t}function Tf(t){this.a=t}function Cf(t){this.a=t}function Af(t){this.a=t}function Sf(t){this.a=t}function If(t){this.a=t}function Mf(t){this.a=t}function Pf(t){this.a=t}function Of(t){this.a=t}function Df(t){this.a=t}function Nf(t){this.a=t}function Lf(t){this.a=t}function Rf(t){this.a=t}function Bf(t){this.a=t}function Ff(t){this.a=t}function jf(t){this.b=t}function $f(t){this.b=t}function Vf(t){this.b=t}function zf(t){this.a=t}function Hf(t){this.a=t}function Uf(t){this.a=t}function qf(t){this.c=t}function Wf(t){this.c=t}function Gf(t){this.c=t}function Kf(t){this.a=t}function Yf(t){this.a=t}function Xf(t){this.a=t}function Zf(t){this.a=t}function Qf(t){this.a=t}function Jf(t){this.a=t}function tg(t){this.a=t}function eg(t){this.a=t}function ng(t){this.a=t}function ig(t){this.a=t}function rg(t){this.a=t}function og(t){this.a=t}function sg(t){this.a=t}function ag(t){this.a=t}function cg(t){this.a=t}function lg(t){this.a=t}function ug(t){this.a=t}function hg(t){this.a=t}function dg(t){this.a=t}function fg(t){this.a=t}function gg(t){this.a=t}function pg(t){this.a=t}function mg(t){this.a=t}function bg(t){this.a=t}function wg(t){this.a=t}function yg(t){this.a=t}function vg(t){this.a=t}function _g(t){this.a=t}function kg(t){this.a=t}function xg(t){this.a=t}function Eg(t){this.a=t}function Tg(t){this.a=t}function Cg(t){this.a=t}function Ag(t){this.a=t}function Sg(t){this.a=t}function Ig(t){this.a=t}function Mg(t){this.a=t}function Pg(t){this.a=t}function Og(t){this.a=t}function Dg(t){this.a=t}function Ng(t){this.a=t}function Lg(t){this.a=t}function Rg(t){this.a=t}function Bg(t){this.a=t}function Fg(t){this.a=t}function jg(t){this.e=t}function $g(t){this.a=t}function Vg(t){this.a=t}function zg(t){this.a=t}function Hg(t){this.a=t}function Ug(t){this.a=t}function qg(t){this.a=t}function Wg(t){this.a=t}function Gg(t){this.a=t}function Kg(t){this.a=t}function Yg(t){this.a=t}function Xg(t){this.a=t}function Zg(t){this.a=t}function Qg(t){this.a=t}function Jg(t){this.a=t}function tp(t){this.a=t}function ep(t){this.a=t}function np(t){this.a=t}function ip(t){this.a=t}function rp(t){this.a=t}function op(t){this.a=t}function sp(t){this.a=t}function ap(t){this.a=t}function cp(t){this.a=t}function lp(t){this.a=t}function up(t){this.a=t}function hp(t){this.a=t}function dp(t){this.a=t}function fp(t){this.a=t}function gp(t){this.a=t}function pp(t){this.a=t}function mp(t){this.a=t}function bp(t){this.a=t}function wp(t){this.a=t}function yp(t){this.a=t}function vp(t){this.a=t}function _p(t){this.a=t}function kp(t){this.a=t}function xp(t){this.a=t}function Ep(t){this.a=t}function Tp(t){this.a=t}function Cp(t){this.a=t}function Ap(t){this.a=t}function Sp(t){this.a=t}function Ip(t){this.a=t}function Mp(t){this.a=t}function Pp(t){this.a=t}function Op(t){this.a=t}function Dp(t){this.a=t}function Np(t){this.a=t}function Lp(t){this.a=t}function Rp(t){this.a=t}function Bp(t){this.a=t}function Fp(t){this.a=t}function jp(t){this.c=t}function $p(t){this.b=t}function Vp(t){this.a=t}function zp(t){this.a=t}function Hp(t){this.a=t}function Up(t){this.a=t}function qp(t){this.a=t}function Wp(t){this.a=t}function Gp(t){this.a=t}function Kp(t){this.a=t}function Yp(t){this.a=t}function Xp(t){this.a=t}function Zp(t){this.a=t}function Qp(t){this.a=t}function Jp(t){this.a=t}function tm(t){this.a=t}function em(t){this.a=t}function nm(t){this.a=t}function im(t){this.a=t}function rm(t){this.a=t}function om(t){this.a=t}function sm(t){this.a=t}function am(t){this.a=t}function cm(t){this.a=t}function lm(t){this.a=t}function um(t){this.a=t}function hm(t){this.a=t}function dm(t){this.a=t}function fm(t){this.a=t}function gm(t){this.a=t}function pm(t){this.a=t}function mm(t){this.a=t}function bm(t){this.a=t}function wm(t){this.a=t}function ym(t){this.a=t}function vm(t){this.a=t}function _m(t){this.a=t}function km(t){this.a=t}function xm(t){this.a=t}function Em(t){this.a=t}function Tm(t){this.a=t}function Cm(t){this.a=t}function Am(t){this.a=t}function Sm(t){this.a=t}function Im(t){this.a=t}function Mm(t){this.a=t}function Pm(t){this.a=t}function Om(t){this.a=t}function Dm(t){this.a=t}function Nm(t){this.a=t}function Lm(t){this.a=t}function Rm(t){this.a=t}function Bm(t){this.a=t}function Fm(t){this.a=t}function jm(t){this.a=t}function $m(t){this.a=t}function Vm(t){this.a=t}function zm(t){this.a=t}function Hm(t){this.a=t}function Um(t){this.a=t}function qm(t){this.a=t}function Wm(t){this.a=t}function Gm(t){this.a=t}function Km(t){this.a=t}function Ym(t){this.a=t}function Xm(t){this.a=t}function Zm(t){this.a=t}function Qm(t){this.a=t}function Jm(t){this.a=t}function tb(t){this.a=t}function eb(t){this.a=t}function nb(t){this.a=t}function ib(t){this.a=t}function rb(t){this.a=t}function ob(t){this.b=t}function sb(t){this.f=t}function ab(t){this.a=t}function cb(t){this.a=t}function lb(t){this.a=t}function ub(t){this.a=t}function hb(t){this.a=t}function db(t){this.a=t}function fb(t){this.a=t}function gb(t){this.a=t}function pb(t){this.a=t}function mb(t){this.a=t}function bb(t){this.a=t}function wb(t){this.b=t}function yb(t){this.c=t}function vb(t){this.e=t}function _b(t){this.a=t}function kb(t){this.a=t}function xb(t){this.a=t}function Eb(t){this.a=t}function Tb(t){this.a=t}function Cb(t){this.d=t}function Ab(t){this.a=t}function Sb(t){this.a=t}function Ib(t){this.e=t}function Mb(){this.a=0}function Pb(){NP(this)}function Ob(){DP(this)}function Db(){MW(this)}function Nb(){dY(this)}function Lb(){}function Rb(){this.c=MOe}function Bb(t,e){e.Wb(t)}function Fb(t,e){t.b+=e}function jb(t){t.b=new s_}function $b(t){return t.e}function Vb(t){return t.a}function zb(t){return t.a}function Hb(t){return t.a}function Ub(t){return t.a}function qb(t){return t.a}function Wb(){return null}function Gb(){return null}function Kb(){rx(),gGt()}function Yb(t){t.b.tf(t.e)}function Xb(t,e){t.b=e-t.b}function Zb(t,e){t.a=e-t.a}function Qb(t,e){e.ad(t.a)}function Jb(t,e){zSt(e,t)}function tw(t,e,n){t.Od(n,e)}function ew(t,e){t.e=e,e.b=t}function nw(t){aj(),this.a=t}function iw(t){aj(),this.a=t}function rw(t){aj(),this.a=t}function ow(t){WG(),this.a=t}function sw(t){TZ(),eee.be(t)}function aw(){gN.call(this)}function cw(){gN.call(this)}function lw(){aw.call(this)}function uw(){aw.call(this)}function hw(){aw.call(this)}function dw(){aw.call(this)}function fw(){aw.call(this)}function gw(){aw.call(this)}function pw(){aw.call(this)}function mw(){aw.call(this)}function bw(){aw.call(this)}function ww(){aw.call(this)}function yw(){aw.call(this)}function vw(){this.a=this}function _w(){this.Bb|=256}function kw(){this.b=new TM}function xw(){xw=M,new Db}function Ew(){lw.call(this)}function Tw(t,e){t.length=e}function Cw(t,e){WV(t.a,e)}function Aw(t,e){qCt(t.c,e)}function Sw(t,e){kW(t.b,e)}function Iw(t,e){Swt(t.a,e)}function Mw(t,e){Idt(t.a,e)}function Pw(t,e){dst(t.e,e)}function Ow(t){MMt(t.c,t.b)}function Dw(t,e){t.kc().Nb(e)}function Nw(t){this.a=pft(t)}function Lw(){this.a=new Db}function Rw(){this.a=new Db}function Bw(){this.a=new Ob}function Fw(){this.a=new Ob}function jw(){this.a=new Ob}function $w(){this.a=new vt}function Vw(){this.a=new y6}function zw(){this.a=new de}function Hw(){this.a=new WE}function Uw(){this.a=new N0}function qw(){this.a=new iJ}function Ww(){this.a=new IB}function Gw(){this.a=new Ob}function Kw(){this.a=new Ob}function Yw(){this.a=new Ob}function Xw(){this.a=new Ob}function Zw(){this.d=new Ob}function Qw(){this.a=new Lw}function Jw(){this.a=new Db}function ty(){this.b=new Db}function ey(){this.b=new Ob}function ny(){this.e=new Ob}function iy(){this.d=new Ob}function ry(){this.a=new rh}function oy(){Ob.call(this)}function sy(){Bw.call(this)}function ay(){OB.call(this)}function cy(){Kw.call(this)}function ly(){uy.call(this)}function uy(){Lb.call(this)}function hy(){Lb.call(this)}function dy(){hy.call(this)}function fy(){fZ.call(this)}function gy(){fZ.call(this)}function py(){Wy.call(this)}function my(){Wy.call(this)}function by(){Wy.call(this)}function wy(){Gy.call(this)}function yy(){YE.call(this)}function vy(){ic.call(this)}function _y(){ic.call(this)}function ky(){Qy.call(this)}function xy(){Qy.call(this)}function Ey(){Db.call(this)}function Ty(){Db.call(this)}function Cy(){Db.call(this)}function Ay(){Lw.call(this)}function Sy(){_it.call(this)}function Iy(){_w.call(this)}function My(){SD.call(this)}function Py(){SD.call(this)}function Oy(){Db.call(this)}function Dy(){Db.call(this)}function Ny(){Db.call(this)}function Ly(){vc.call(this)}function Ry(){vc.call(this)}function By(){Ly.call(this)}function Fy(){Ru.call(this)}function jy(t){get.call(this,t)}function $y(t){get.call(this,t)}function Vy(t){Gh.call(this,t)}function zy(t){xE.call(this,t)}function Hy(t){zy.call(this,t)}function Uy(t){xE.call(this,t)}function qy(){this.a=new YE}function Wy(){this.a=new Lw}function Gy(){this.a=new Db}function Ky(){this.a=new Ob}function Yy(){this.j=new Ob}function Xy(){this.a=new Ks}function Zy(){this.a=new Px}function Qy(){this.a=new yc}function Jy(){Jy=M,Fte=new D_}function tv(){tv=M,Bte=new O_}function ev(){ev=M,Ite=new o}function nv(){nv=M,Ute=new iN}function iv(t){zy.call(this,t)}function rv(t){zy.call(this,t)}function ov(t){f5.call(this,t)}function sv(t){f5.call(this,t)}function av(t){GF.call(this,t)}function cv(t){yCt.call(this,t)}function lv(t){CE.call(this,t)}function uv(t){SE.call(this,t)}function hv(t){SE.call(this,t)}function dv(t){SE.call(this,t)}function fv(t){lq.call(this,t)}function gv(t){fv.call(this,t)}function pv(){Ed.call(this,{})}function mv(t){CD(),this.a=t}function bv(t){t.b=null,t.c=0}function wv(t,e){t.e=e,ALt(t,e)}function yv(t,e){t.a=e,oSt(t)}function vv(t,e,n){t.a[e.g]=n}function _v(t,e,n){fkt(n,t,e)}function kv(t,e){ZB(e.i,t.n)}function xv(t,e){clt(t).td(e)}function Ev(t,e){return t*t/e}function Tv(t,e){return t.g-e.g}function Cv(t){return new xd(t)}function Av(t){return new zG(t)}function Sv(t){fv.call(this,t)}function Iv(t){fv.call(this,t)}function Mv(t){fv.call(this,t)}function Pv(t){lq.call(this,t)}function Ov(t){Fot(),this.a=t}function Dv(t){rj(),this.a=t}function Nv(t){FU(),this.f=t}function Lv(t){FU(),this.f=t}function Rv(t){fv.call(this,t)}function Bv(t){fv.call(this,t)}function Fv(t){fv.call(this,t)}function jv(t){fv.call(this,t)}function $v(t){fv.call(this,t)}function Vv(t){return yK(t),t}function zv(t){return yK(t),t}function Hv(t){return yK(t),t}function Uv(t){return yK(t),t}function qv(t){return yK(t),t}function Wv(t){return t.b==t.c}function Gv(t){return!!t&&t.b}function Kv(t){return!!t&&t.k}function Yv(t){return!!t&&t.j}function Xv(t){yK(t),this.a=t}function Zv(t){return Qct(t),t}function Qv(t){mW(t,t.length)}function Jv(t){fv.call(this,t)}function t_(t){fv.call(this,t)}function e_(t){fv.call(this,t)}function n_(t){fv.call(this,t)}function i_(t){fv.call(this,t)}function r_(t){fv.call(this,t)}function o_(t){ZN.call(this,t,0)}function s_(){s1.call(this,12,3)}function a_(){a_=M,tee=new k}function c_(){c_=M,Xte=new r}function l_(){l_=M,iee=new m}function u_(){u_=M,lee=new w}function h_(){throw $b(new pw)}function d_(){throw $b(new pw)}function f_(){throw $b(new pw)}function g_(){throw $b(new pw)}function p_(){throw $b(new pw)}function m_(){throw $b(new pw)}function b_(){this.a=ER(wG(jKt))}function w_(t){aj(),this.a=wG(t)}function y_(t,e){t.Td(e),e.Sd(t)}function v_(t,e){t.a.ec().Mc(e)}function __(t,e,n){t.c.lf(e,n)}function k_(t){Iv.call(this,t)}function x_(t){Bv.call(this,t)}function E_(){If.call(this,"")}function T_(){If.call(this,"")}function C_(){If.call(this,"")}function A_(){If.call(this,"")}function S_(t){Iv.call(this,t)}function I_(t){$f.call(this,t)}function M_(t){hN.call(this,t)}function P_(t){I_.call(this,t)}function O_(){Qh.call(this,null)}function D_(){Qh.call(this,null)}function N_(){N_=M,TZ()}function L_(){L_=M,yne=wxt()}function R_(t){return t.a?t.b:0}function B_(t){return t.a?t.b:0}function F_(t,e){return t.a-e.a}function j_(t,e){return t.a-e.a}function $_(t,e){return t.a-e.a}function V_(t,e){return b9(t,e)}function z_(t,e){return gJ(t,e)}function H_(t,e){return e in t.a}function U_(t,e){return t.f=e,t}function q_(t,e){return t.b=e,t}function W_(t,e){return t.c=e,t}function G_(t,e){return t.g=e,t}function K_(t,e){return t.a=e,t}function Y_(t,e){return t.f=e,t}function X_(t,e){return t.k=e,t}function Z_(t,e){return t.a=e,t}function Q_(t,e){return t.e=e,t}function J_(t,e){return t.e=e,t}function tk(t,e){return t.f=e,t}function ek(t,e){t.b=!0,t.d=e}function nk(t,e){t.b=new dP(e)}function ik(t,e,n){e.td(t.a[n])}function rk(t,e,n){e.we(t.a[n])}function ok(t,e){return t.b-e.b}function sk(t,e){return t.g-e.g}function ak(t,e){return t.s-e.s}function ck(t,e){return t?0:e-1}function lk(t,e){return t?0:e-1}function uk(t,e){return t?e-1:0}function hk(t,e){return e.Yf(t)}function dk(t,e){return t.b=e,t}function fk(t,e){return t.a=e,t}function gk(t,e){return t.c=e,t}function pk(t,e){return t.d=e,t}function mk(t,e){return t.e=e,t}function bk(t,e){return t.f=e,t}function wk(t,e){return t.a=e,t}function yk(t,e){return t.b=e,t}function vk(t,e){return t.c=e,t}function _k(t,e){return t.c=e,t}function kk(t,e){return t.b=e,t}function xk(t,e){return t.d=e,t}function Ek(t,e){return t.e=e,t}function Tk(t,e){return t.f=e,t}function Ck(t,e){return t.g=e,t}function Ak(t,e){return t.a=e,t}function Sk(t,e){return t.i=e,t}function Ik(t,e){return t.j=e,t}function Mk(t,e){return t.k=e,t}function Pk(t,e){return t.j=e,t}function Ok(t,e){FTt(),CJ(e,t)}function Dk(t,e,n){zU(t.a,e,n)}function Nk(t){jY.call(this,t)}function Lk(t){jY.call(this,t)}function Rk(t){QF.call(this,t)}function Bk(t){zft.call(this,t)}function Fk(t){pet.call(this,t)}function jk(t){pX.call(this,t)}function $k(t){pX.call(this,t)}function Vk(){SO.call(this,"")}function zk(){this.a=0,this.b=0}function Hk(){this.b=0,this.a=0}function Uk(t,e){t.b=0,Dnt(t,e)}function qk(t,e){t.c=e,t.b=!0}function Wk(t,e){return t.c._b(e)}function Gk(t){return t.e&&t.e()}function Kk(t){return t?t.d:null}function Yk(t,e){return pht(t.b,e)}function Xk(t){return t?t.g:null}function Zk(t){return t?t.i:null}function Qk(t){return _R(t),t.o}function Jk(){Jk=M,fMe=W_t()}function tx(){tx=M,gMe=aEt()}function ex(){ex=M,ZPe=K_t()}function nx(){nx=M,dDe=G_t()}function ix(){ix=M,fDe=nSt()}function rx(){rx=M,lPe=rit()}function ox(){throw $b(new pw)}function sx(){throw $b(new pw)}function ax(){throw $b(new pw)}function cx(){throw $b(new pw)}function lx(){throw $b(new pw)}function ux(){throw $b(new pw)}function hx(t){this.a=new qE(t)}function dx(t){hWt(),LGt(this,t)}function fx(t){this.a=new Wq(t)}function gx(t,e){for(;t.ye(e););}function px(t,e){for(;t.sd(e););}function mx(t,e){return t.a+=e,t}function bx(t,e){return t.a+=e,t}function wx(t,e){return t.a+=e,t}function yx(t,e){return t.a+=e,t}function vx(t){return _K(t),t.a}function _x(t){return t.b!=t.d.c}function kx(t){return t.l|t.m<<22}function xx(t,e){return t.d[e.p]}function Ex(t,e){return TLt(t,e)}function Tx(t,e,n){t.splice(e,n)}function Cx(t){t.c?DRt(t):NRt(t)}function Ax(t){this.a=0,this.b=t}function Sx(){this.a=new ANt(eke)}function Ix(){this.b=new ANt(Vve)}function Mx(){this.b=new ANt(Wxe)}function Px(){this.b=new ANt(Wxe)}function Ox(){throw $b(new pw)}function Dx(){throw $b(new pw)}function Nx(){throw $b(new pw)}function Lx(){throw $b(new pw)}function Rx(){throw $b(new pw)}function Bx(){throw $b(new pw)}function Fx(){throw $b(new pw)}function jx(){throw $b(new pw)}function $x(){throw $b(new pw)}function Vx(){throw $b(new pw)}function zx(){throw $b(new ww)}function Hx(){throw $b(new ww)}function Ux(t){this.a=new qx(t)}function qx(t){Hit(this,t,Ixt())}function Wx(t){return!t||pK(t)}function Gx(t){return-1!=qDe[t]}function Kx(){0!=ree&&(ree=0),see=-1}function Yx(){null==CKt&&(CKt=[])}function Xx(t,e){tPt(KX(t.a),e)}function Zx(t,e){tPt(KX(t.a),e)}function Qx(t,e){$D.call(this,t,e)}function Jx(t,e){Qx.call(this,t,e)}function tE(t,e){this.b=t,this.c=e}function eE(t,e){this.b=t,this.a=e}function nE(t,e){this.a=t,this.b=e}function iE(t,e){this.a=t,this.b=e}function rE(t,e){this.a=t,this.b=e}function oE(t,e){this.a=t,this.b=e}function sE(t,e){this.a=t,this.b=e}function aE(t,e){this.a=t,this.b=e}function cE(t,e){this.a=t,this.b=e}function lE(t,e){this.a=t,this.b=e}function uE(t,e){this.b=t,this.a=e}function hE(t,e){this.b=t,this.a=e}function dE(t,e){this.b=t,this.a=e}function fE(t,e){this.b=t,this.a=e}function gE(t,e){this.f=t,this.g=e}function pE(t,e){this.e=t,this.d=e}function mE(t,e){this.g=t,this.i=e}function bE(t,e){this.a=t,this.b=e}function wE(t,e){this.a=t,this.f=e}function yE(t,e){this.b=t,this.c=e}function vE(t,e){this.a=t,this.b=e}function _E(t,e){this.a=t,this.b=e}function kE(t,e){this.a=t,this.b=e}function xE(t){rN(t.dc()),this.c=t}function EE(t){this.b=jV(wG(t),83)}function TE(t){this.a=jV(wG(t),83)}function CE(t){this.a=jV(wG(t),15)}function AE(t){this.a=jV(wG(t),15)}function SE(t){this.b=jV(wG(t),47)}function IE(){this.q=new i.Date}function ME(){ME=M,$ee=new P}function PE(){PE=M,hne=new A}function OE(t){return t.f.c+t.g.c}function DE(t,e){return t.b.Hc(e)}function NE(t,e){return t.b.Ic(e)}function LE(t,e){return t.b.Qc(e)}function RE(t,e){return t.b.Hc(e)}function BE(t,e){return t.c.uc(e)}function FE(t,e){return t.a._b(e)}function jE(t,e){return Dht(t.c,e)}function $E(t,e){return cW(t.b,e)}function VE(t,e){return t>e&&e<IYt}function zE(t,e){return t.Gc(e),t}function HE(t,e){return jrt(t,e),t}function UE(t){return qG(),t?cee:aee}function qE(t){Jat.call(this,t,0)}function WE(){Wq.call(this,null)}function GE(){j7.call(this,null)}function KE(t){this.c=t,Itt(this)}function YE(){TO(this),wX(this)}function XE(t,e){_K(t),t.a.Nb(e)}function ZE(t,e){return t.Gc(e),t}function QE(t,e){return t.a.f=e,t}function JE(t,e){return t.a.d=e,t}function tT(t,e){return t.a.g=e,t}function eT(t,e){return t.a.j=e,t}function nT(t,e){return t.a.a=e,t}function iT(t,e){return t.a.d=e,t}function rT(t,e){return t.a.e=e,t}function oT(t,e){return t.a.g=e,t}function sT(t,e){return t.a.f=e,t}function aT(t){return t.b=!1,t}function cT(){cT=M,Tne=new CM}function lT(){lT=M,Cne=new AM}function uT(){uT=M,$ne=new W}function hT(){hT=M,mae=new Be}function dT(){dT=M,noe=new AL}function fT(){fT=M,Jne=new lt}function gT(){gT=M,yae=new Fe}function pT(){pT=M,aie=new gt}function mT(){mT=M,zse=new ye}function bT(){bT=M,Fae=new zk}function wT(){wT=M,Hse=new Ce}function yT(){yT=M,Gse=new NU}function vT(){vT=M,cae=new Ee}function _T(){_T=M,jae=new fn}function kT(){kT=M,Qce=new Zn}function xT(){xT=M,dle=new Dr}function ET(){ET=M,Kle=new ro}function TT(){TT=M,W_e=new j2}function CT(){CT=M,qxe=new PT}function AT(){AT=M,Kxe=new mR}function ST(){ST=M,zEe=new qK}function IT(){IT=M,Wbe=new Ya}function MT(){Tit(),this.c=new s_}function PT(){gE.call(this,V1t,0)}function OT(t,e){Zmt(t.c.b,e.c,e)}function DT(t,e){Zmt(t.c.c,e.b,e)}function NT(t,e,n){bJ(t.d,e.f,n)}function LT(t,e,n,i){Zbt(t,i,e,n)}function RT(t,e,n,i){sNt(i,t,e,n)}function BT(t,e,n,i){aWt(i,t,e,n)}function FT(t,e){return t.a=e.g,t}function jT(t,e){return e_t(t.a,e)}function $T(t){return t.b?t.b:t.a}function VT(t){return(t.c+t.a)/2}function zT(){zT=M,uMe=new nc}function HT(){HT=M,CMe=new hc}function UT(){UT=M,NPe=new Ty}function qT(){qT=M,HPe=new Cy}function WT(){WT=M,zPe=new Oy}function GT(){GT=M,XPe=new Ny}function KT(){KT=M,POe=new HO}function YT(){YT=M,OOe=new UO}function XT(){XT=M,eDe=new Nl}function ZT(){ZT=M,iDe=new Ll}function QT(){QT=M,mPe=new Db}function JT(){JT=M,WOe=new Ob}function tC(){tC=M,kNe=new Fu}function eC(t){i.clearTimeout(t)}function nC(t){this.a=jV(wG(t),224)}function iC(t){return jV(t,42).cd()}function rC(t){return t.b<t.d.gc()}function oC(t,e){return CU(t.a,e)}function sC(t,e){return Kut(t,e)>0}function aC(t,e){return Kut(t,e)<0}function cC(t,e){return t.a.get(e)}function lC(t,e){return e.split(t)}function uC(t,e){return cW(t.e,e)}function hC(t){return yK(t),!1}function dC(t){d1.call(this,t,21)}function fC(t,e){BQ.call(this,t,e)}function gC(t,e){gE.call(this,t,e)}function pC(t,e){gE.call(this,t,e)}function mC(t){GG(),GF.call(this,t)}function bC(t,e){vU(t,t.length,e)}function wC(t,e){KW(t,t.length,e)}function yC(t,e,n){e.ud(t.a.Ge(n))}function vC(t,e,n){e.we(t.a.Fe(n))}function _C(t,e,n){e.td(t.a.Kb(n))}function kC(t,e,n){t.Mb(n)&&e.td(n)}function xC(t,e,n){t.splice(e,0,n)}function EC(t,e){return EN(t.e,e)}function TC(t,e){this.d=t,this.e=e}function CC(t,e){this.b=t,this.a=e}function AC(t,e){this.b=t,this.a=e}function SC(t,e){this.b=t,this.a=e}function IC(t,e){this.a=t,this.b=e}function MC(t,e){this.a=t,this.b=e}function PC(t,e){this.a=t,this.b=e}function OC(t,e){this.a=t,this.b=e}function DC(t,e){this.a=t,this.b=e}function NC(t,e){this.b=t,this.a=e}function LC(t,e){this.b=t,this.a=e}function RC(t,e){gE.call(this,t,e)}function BC(t,e){gE.call(this,t,e)}function FC(t,e){gE.call(this,t,e)}function jC(t,e){gE.call(this,t,e)}function $C(t,e){gE.call(this,t,e)}function VC(t,e){gE.call(this,t,e)}function zC(t,e){gE.call(this,t,e)}function HC(t,e){gE.call(this,t,e)}function UC(t,e){gE.call(this,t,e)}function qC(t,e){gE.call(this,t,e)}function WC(t,e){gE.call(this,t,e)}function GC(t,e){gE.call(this,t,e)}function KC(t,e){gE.call(this,t,e)}function YC(t,e){gE.call(this,t,e)}function XC(t,e){gE.call(this,t,e)}function ZC(t,e){gE.call(this,t,e)}function QC(t,e){gE.call(this,t,e)}function JC(t,e){gE.call(this,t,e)}function tA(t,e){this.a=t,this.b=e}function eA(t,e){this.a=t,this.b=e}function nA(t,e){this.a=t,this.b=e}function iA(t,e){this.a=t,this.b=e}function rA(t,e){this.a=t,this.b=e}function oA(t,e){this.a=t,this.b=e}function sA(t,e){this.a=t,this.b=e}function aA(t,e){this.a=t,this.b=e}function cA(t,e){this.a=t,this.b=e}function lA(t,e){this.b=t,this.a=e}function uA(t,e){this.b=t,this.a=e}function hA(t,e){this.b=t,this.a=e}function dA(t,e){this.b=t,this.a=e}function fA(t,e){this.c=t,this.d=e}function gA(t,e){this.e=t,this.d=e}function pA(t,e){this.a=t,this.b=e}function mA(t,e){this.b=e,this.c=t}function bA(t,e){gE.call(this,t,e)}function wA(t,e){gE.call(this,t,e)}function yA(t,e){gE.call(this,t,e)}function vA(t,e){gE.call(this,t,e)}function _A(t,e){gE.call(this,t,e)}function kA(t,e){gE.call(this,t,e)}function xA(t,e){gE.call(this,t,e)}function EA(t,e){gE.call(this,t,e)}function TA(t,e){gE.call(this,t,e)}function CA(t,e){gE.call(this,t,e)}function AA(t,e){gE.call(this,t,e)}function SA(t,e){gE.call(this,t,e)}function IA(t,e){gE.call(this,t,e)}function MA(t,e){gE.call(this,t,e)}function PA(t,e){gE.call(this,t,e)}function OA(t,e){gE.call(this,t,e)}function DA(t,e){gE.call(this,t,e)}function NA(t,e){gE.call(this,t,e)}function LA(t,e){gE.call(this,t,e)}function RA(t,e){gE.call(this,t,e)}function BA(t,e){gE.call(this,t,e)}function FA(t,e){gE.call(this,t,e)}function jA(t,e){gE.call(this,t,e)}function $A(t,e){gE.call(this,t,e)}function VA(t,e){gE.call(this,t,e)}function zA(t,e){gE.call(this,t,e)}function HA(t,e){gE.call(this,t,e)}function UA(t,e){gE.call(this,t,e)}function qA(t,e){gE.call(this,t,e)}function WA(t,e){gE.call(this,t,e)}function GA(t,e){gE.call(this,t,e)}function KA(t,e){gE.call(this,t,e)}function YA(t,e){gE.call(this,t,e)}function XA(t,e){gE.call(this,t,e)}function ZA(t,e){this.b=t,this.a=e}function QA(t,e){this.a=t,this.b=e}function JA(t,e){this.a=t,this.b=e}function tS(t,e){this.a=t,this.b=e}function eS(t,e){this.a=t,this.b=e}function nS(t,e){gE.call(this,t,e)}function iS(t,e){gE.call(this,t,e)}function rS(t,e){this.b=t,this.d=e}function oS(t,e){gE.call(this,t,e)}function sS(t,e){gE.call(this,t,e)}function aS(t,e){this.a=t,this.b=e}function cS(t,e){this.a=t,this.b=e}function lS(t,e){gE.call(this,t,e)}function uS(t,e){gE.call(this,t,e)}function hS(t,e){gE.call(this,t,e)}function dS(t,e){gE.call(this,t,e)}function fS(t,e){gE.call(this,t,e)}function gS(t,e){gE.call(this,t,e)}function pS(t,e){gE.call(this,t,e)}function mS(t,e){gE.call(this,t,e)}function bS(t,e){gE.call(this,t,e)}function wS(t,e){gE.call(this,t,e)}function yS(t,e){gE.call(this,t,e)}function vS(t,e){gE.call(this,t,e)}function _S(t,e){gE.call(this,t,e)}function kS(t,e){gE.call(this,t,e)}function xS(t,e){gE.call(this,t,e)}function ES(t,e){gE.call(this,t,e)}function TS(t,e){return EN(t.c,e)}function CS(t,e){return EN(e.b,t)}function AS(t,e){return-t.b.Je(e)}function SS(t,e){return EN(t.g,e)}function IS(t,e){gE.call(this,t,e)}function MS(t,e){gE.call(this,t,e)}function PS(t,e){this.a=t,this.b=e}function OS(t,e){this.a=t,this.b=e}function DS(t,e){this.a=t,this.b=e}function NS(t,e){gE.call(this,t,e)}function LS(t,e){gE.call(this,t,e)}function RS(t,e){gE.call(this,t,e)}function BS(t,e){gE.call(this,t,e)}function FS(t,e){gE.call(this,t,e)}function jS(t,e){gE.call(this,t,e)}function $S(t,e){gE.call(this,t,e)}function VS(t,e){gE.call(this,t,e)}function zS(t,e){gE.call(this,t,e)}function HS(t,e){gE.call(this,t,e)}function US(t,e){gE.call(this,t,e)}function qS(t,e){gE.call(this,t,e)}function WS(t,e){gE.call(this,t,e)}function GS(t,e){gE.call(this,t,e)}function KS(t,e){gE.call(this,t,e)}function YS(t,e){gE.call(this,t,e)}function XS(t,e){this.a=t,this.b=e}function ZS(t,e){this.a=t,this.b=e}function QS(t,e){this.a=t,this.b=e}function JS(t,e){this.a=t,this.b=e}function tI(t,e){this.a=t,this.b=e}function eI(t,e){this.a=t,this.b=e}function nI(t,e){this.a=t,this.b=e}function iI(t,e){gE.call(this,t,e)}function rI(t,e){this.a=t,this.b=e}function oI(t,e){this.a=t,this.b=e}function sI(t,e){this.a=t,this.b=e}function aI(t,e){this.a=t,this.b=e}function cI(t,e){this.a=t,this.b=e}function lI(t,e){this.a=t,this.b=e}function uI(t,e){this.b=t,this.a=e}function hI(t,e){this.b=t,this.a=e}function dI(t,e){this.b=t,this.a=e}function fI(t,e){this.b=t,this.a=e}function gI(t,e){this.a=t,this.b=e}function pI(t,e){this.a=t,this.b=e}function mI(t,e){ZDt(t.a,jV(e,56))}function bI(t,e){m9(t.a,jV(e,11))}function wI(t,e){return cz(),e!=t}function yI(){return L_(),new yne}function vI(){VJ(),this.b=new Lw}function _I(){gLt(),this.a=new Lw}function kI(){RJ(),RU.call(this)}function xI(t,e){gE.call(this,t,e)}function EI(t,e){this.a=t,this.b=e}function TI(t,e){this.a=t,this.b=e}function CI(t,e){this.a=t,this.b=e}function AI(t,e){this.a=t,this.b=e}function SI(t,e){this.a=t,this.b=e}function II(t,e){this.a=t,this.b=e}function MI(t,e){this.d=t,this.b=e}function PI(t,e){this.d=t,this.e=e}function OI(t,e){this.f=t,this.c=e}function DI(t,e){this.b=t,this.c=e}function NI(t,e){this.i=t,this.g=e}function LI(t,e){this.e=t,this.a=e}function RI(t,e){this.a=t,this.b=e}function BI(t,e){t.i=null,ort(t,e)}function FI(t,e){t&&GK(oPe,t,e)}function jI(t,e){return ipt(t.a,e)}function $I(t){return opt(t.c,t.b)}function VI(t){return t?t.dd():null}function zI(t){return null==t?null:t}function HI(t){return typeof t===PKt}function UI(t){return typeof t===OKt}function qI(t){return typeof t===DKt}function WI(t,e){return t.Hd().Xb(e)}function GI(t,e){return Yot(t.Kc(),e)}function KI(t,e){return 0==Kut(t,e)}function YI(t,e){return Kut(t,e)>=0}function XI(t,e){return 0!=Kut(t,e)}function ZI(t){return""+(yK(t),t)}function QI(t,e){return t.substr(e)}function JI(t){return Uft(t),t.d.gc()}function tM(t){return UMt(t,t.c),t}function eM(t){return Xz(null==t),t}function nM(t,e){return t.a+=""+e,t}function iM(t,e){return t.a+=""+e,t}function rM(t,e){return t.a+=""+e,t}function oM(t,e){return t.a+=""+e,t}function sM(t,e){return t.a+=""+e,t}function aM(t,e){return t.a+=""+e,t}function cM(t,e){n4(t,e,t.a,t.a.a)}function lM(t,e){n4(t,e,t.c.b,t.c)}function uM(t,e,n){Bkt(e,RAt(t,n))}function hM(t,e,n){Bkt(e,RAt(t,n))}function dM(t,e){ktt(new ID(t),e)}function fM(t,e){t.q.setTime(v2(e))}function gM(t,e){Hq.call(this,t,e)}function pM(t,e){Hq.call(this,t,e)}function mM(t,e){Hq.call(this,t,e)}function bM(t){MW(this),xot(this,t)}function wM(t){return u1(t,0),null}function yM(t){return t.a=0,t.b=0,t}function vM(t,e){return t.a=e.g+1,t}function _M(t,e){return 2==t.j[e.p]}function kM(t){return aG(jV(t,79))}function xM(){xM=M,Ire=hut(tbt())}function EM(){EM=M,Zce=hut(kNt())}function TM(){this.b=new qE(tet(12))}function CM(){this.b=0,this.a=!1}function AM(){this.b=0,this.a=!1}function SM(t){this.a=t,ju.call(this)}function IM(t){this.a=t,ju.call(this)}function MM(t,e){eB.call(this,t,e)}function PM(t,e){JB.call(this,t,e)}function OM(t,e){NI.call(this,t,e)}function DM(t,e){Mst.call(this,t,e)}function NM(t,e){KN.call(this,t,e)}function LM(t,e){QT(),GK(mPe,t,e)}function RM(t,e){return lL(t.a,0,e)}function BM(t,e){return t.a.a.a.cc(e)}function FM(t,e){return zI(t)===zI(e)}function jM(t,e){return Cdt(t.a,e.a)}function $M(t,e){return _O(t.a,e.a)}function VM(t,e){return FW(t.a,e.a)}function zM(t,e){return t.indexOf(e)}function HM(t,e){return t==e?0:t?1:-1}function UM(t){return t<10?"0"+t:""+t}function qM(t){return wG(t),new SM(t)}function WM(t){return xO(t.l,t.m,t.h)}function GM(t){return CQ((yK(t),t))}function KM(t){return CQ((yK(t),t))}function YM(t,e){return _O(t.g,e.g)}function XM(t){return typeof t===OKt}function ZM(t){return t==Zse||t==tae}function QM(t){return t==Zse||t==Qse}function JM(t){return _9(t.b.b,t,0)}function tP(t){this.a=yI(),this.b=t}function eP(t){this.a=yI(),this.b=t}function nP(t,e){return WV(t.a,e),e}function iP(t,e){return WV(t.c,e),t}function rP(t,e){return Zot(t.a,e),t}function oP(t,e){return zj(),e.a+=t}function sP(t,e){return zj(),e.a+=t}function aP(t,e){return zj(),e.c+=t}function cP(t,e){H8(t,0,t.length,e)}function lP(){tg.call(this,new m5)}function uP(){oU.call(this,0,0,0,0)}function hP(){UY.call(this,0,0,0,0)}function dP(t){this.a=t.a,this.b=t.b}function fP(t){return t==BAe||t==FAe}function gP(t){return t==$Ae||t==RAe}function pP(t){return t==lwe||t==cwe}function mP(t){return t!=KSe&&t!=YSe}function bP(t){return t.Lg()&&t.Mg()}function wP(t){return bY(jV(t,118))}function yP(t){return Zot(new j2,t)}function vP(t,e){return new Mst(e,t)}function _P(t,e){return new Mst(e,t)}function kP(t,e,n){_nt(t,e),knt(t,n)}function xP(t,e,n){Tnt(t,e),Ent(t,n)}function EP(t,e,n){Cnt(t,e),Ant(t,n)}function TP(t,e,n){xnt(t,e),Int(t,n)}function CP(t,e,n){Snt(t,e),Mnt(t,n)}function AP(t,e){Llt(t,e),Nnt(t,t.D)}function SP(t){OI.call(this,t,!0)}function IP(t,e,n){OR.call(this,t,e,n)}function MP(t){IRt(),cst.call(this,t)}function PP(){gC.call(this,"Head",1)}function OP(){gC.call(this,"Tail",3)}function DP(t){t.c=D7(Mte,VKt,1,0,5,1)}function NP(t){t.a=D7(Mte,VKt,1,8,5,1)}function LP(t){Iet(t.xf(),new Eg(t))}function RP(t){return null!=t?Jct(t):0}function BP(t,e){return Aet(e,WQ(t))}function FP(t,e){return Aet(e,WQ(t))}function jP(t,e){return t[t.length]=e}function $P(t,e){return t[t.length]=e}function VP(t){return FV(t.b.Kc(),t.a)}function zP(t,e){return qit(TG(t.d),e)}function HP(t,e){return qit(TG(t.g),e)}function UP(t,e){return qit(TG(t.j),e)}function qP(t,e){eB.call(this,t.b,e)}function WP(t){oU.call(this,t,t,t,t)}function GP(t){return t.b&&KVt(t),t.a}function KP(t){return t.b&&KVt(t),t.c}function YP(t,e){Kne||(t.b=e)}function XP(t,e,n){return MG(t,e,n),n}function ZP(t,e,n){MG(t.c[e.g],e.g,n)}function QP(t,e,n){jV(t.c,69).Xh(e,n)}function JP(t,e,n){EP(n,n.i+t,n.j+e)}function tO(t,e){l8(r5(t.a),t1(e))}function eO(t,e){l8($9(t.a),e1(e))}function nO(t){fKt(),Ib.call(this,t)}function iO(t){return null==t?0:Jct(t)}function rO(){rO=M,ave=new Vft(sSe)}function oO(){oO=M,new sO,new Ob}function sO(){new Db,new Db,new Db}function aO(){aO=M,xw(),nee=new Db}function cO(){cO=M,i.Math.log(2)}function lO(){lO=M,HT(),NOe=CMe}function uO(){throw $b(new Jv(xte))}function hO(){throw $b(new Jv(xte))}function dO(){throw $b(new Jv(Ete))}function fO(){throw $b(new Jv(Ete))}function gO(t){this.a=t,KV.call(this,t)}function pO(t){this.a=t,EE.call(this,t)}function mO(t){this.a=t,EE.call(this,t)}function bO(t,e){wU(t.c,t.c.length,e)}function wO(t){return t.a<t.c.c.length}function yO(t){return t.a<t.c.a.length}function vO(t,e){return t.a?t.b:e.De()}function _O(t,e){return t<e?-1:t>e?1:0}function kO(t,e){return Kut(t,e)>0?t:e}function xO(t,e,n){return{l:t,m:e,h:n}}function EO(t,e){null!=t.a&&bI(e,t.a)}function TO(t){t.a=new O,t.c=new O}function CO(t){this.b=t,this.a=new Ob}function AO(t){this.b=new ee,this.a=t}function SO(t){PB.call(this),this.a=t}function IO(){gC.call(this,"Range",2)}function MO(){tkt(),this.a=new ANt(Use)}function PO(t,e){wG(e),_Y(t).Jc(new f)}function OO(t,e){return jJ(),e.n.b+=t}function DO(t,e,n){return GK(t.g,n,e)}function NO(t,e,n){return GK(t.k,n,e)}function LO(t,e){return GK(t.a,e.a,e)}function RO(t,e,n){return Spt(e,n,t.c)}function BO(t){return new DS(t.c,t.d)}function FO(t){return new DS(t.c,t.d)}function jO(t){return new DS(t.a,t.b)}function $O(t,e){return tqt(t.a,e,null)}function VO(t){EJ(t,null),xJ(t,null)}function zO(t){WJ(t,null),GJ(t,null)}function HO(){KN.call(this,null,null)}function UO(){YN.call(this,null,null)}function qO(t){this.a=t,Db.call(this)}function WO(t){this.b=(EX(),new qf(t))}function GO(t){t.j=D7(jee,cYt,310,0,0,1)}function KO(t,e,n){t.c.Vc(e,jV(n,133))}function YO(t,e,n){t.c.ji(e,jV(n,133))}function XO(t,e){cHt(t),t.Gc(jV(e,15))}function ZO(t,e){return $Ht(t.c,t.b,e)}function QO(t,e){return new pN(t.Kc(),e)}function JO(t,e){return-1!=jat(t.Kc(),e)}function tD(t,e){return null!=t.a.Bc(e)}function eD(t){return t.Ob()?t.Pb():null}function nD(t){return $pt(t,0,t.length)}function iD(t,e){return null!=t&&Ybt(t,e)}function rD(t,e){t.q.setHours(e),hVt(t,e)}function oD(t,e){t.c&&(Lz(e),yQ(e))}function sD(t,e,n){jV(t.Kb(n),164).Nb(e)}function aD(t,e,n){return VUt(t,e,n),n}function cD(t,e,n){t.a=1502^e,t.b=n^oZt}function lD(t,e,n){return t.a[e.g][n.g]}function uD(t,e){return t.a[e.c.p][e.p]}function hD(t,e){return t.e[e.c.p][e.p]}function dD(t,e){return t.c[e.c.p][e.p]}function fD(t,e){return t.j[e.p]=mDt(e)}function gD(t,e){return l6(t.f,e.tg())}function pD(t,e){return l6(t.b,e.tg())}function mD(t,e){return t.a<qF(e)?-1:1}function bD(t,e,n){return n?0!=e:e!=t-1}function wD(t,e,n){return t.a=e,t.b=n,t}function yD(t,e){return t.a*=e,t.b*=e,t}function vD(t,e,n){return MG(t.g,e,n),n}function _D(t,e,n,i){MG(t.a[e.g],n.g,i)}function kD(t,e){BL(e,t.a.a.a,t.a.a.b)}function xD(t){t.a=jV(yst(t.b.a,4),126)}function ED(t){t.a=jV(yst(t.b.a,4),126)}function TD(t){SZ(t,n7t),VDt(t,SWt(t))}function CD(){CD=M,Ene=new mv(null)}function AD(){(AD=M)(),Mne=new q}function SD(){this.Bb|=256,this.Bb|=512}function ID(t){this.i=t,this.f=this.i.j}function MD(t,e,n){wz.call(this,t,e,n)}function PD(t,e,n){MD.call(this,t,e,n)}function OD(t,e,n){MD.call(this,t,e,n)}function DD(t,e,n){PD.call(this,t,e,n)}function ND(t,e,n){wz.call(this,t,e,n)}function LD(t,e,n){wz.call(this,t,e,n)}function RD(t,e,n){xz.call(this,t,e,n)}function BD(t,e,n){xz.call(this,t,e,n)}function FD(t,e,n){RD.call(this,t,e,n)}function jD(t,e,n){ND.call(this,t,e,n)}function $D(t,e){this.a=t,EE.call(this,e)}function VD(t,e){this.a=t,o_.call(this,e)}function zD(t,e){this.a=t,o_.call(this,e)}function HD(t,e){this.a=t,o_.call(this,e)}function UD(t){this.a=t,ad.call(this,t.d)}function qD(t){this.c=t,this.a=this.c.a}function WD(t,e){this.a=e,o_.call(this,t)}function GD(t,e){this.a=e,f5.call(this,t)}function KD(t,e){this.a=t,f5.call(this,e)}function YD(t,e){return dq(hq(t.c)).Xb(e)}function XD(t,e){return eft(t,new C_,e).a}function ZD(t,e){return wG(e),new QD(t,e)}function QD(t,e){this.a=e,SE.call(this,t)}function JD(t){this.b=t,this.a=this.b.a.e}function tN(t){t.b.Qb(),--t.d.f.d,MU(t.d)}function eN(t){Qh.call(this,jV(wG(t),35))}function nN(t){Qh.call(this,jV(wG(t),35))}function iN(){gE.call(this,"INSTANCE",0)}function rN(t){if(!t)throw $b(new dw)}function oN(t){if(!t)throw $b(new fw)}function sN(t){if(!t)throw $b(new ww)}function aN(){aN=M,XT(),nDe=new Bh}function cN(){cN=M,mee=!1,bee=!0}function lN(t){If.call(this,(yK(t),t))}function uN(t){If.call(this,(yK(t),t))}function hN(t){$f.call(this,t),this.a=t}function dN(t){Vf.call(this,t),this.a=t}function fN(t){I_.call(this,t),this.a=t}function gN(){GO(this),vX(this),this._d()}function pN(t,e){this.a=e,SE.call(this,t)}function mN(t,e){return new BAt(t.a,t.b,e)}function bN(t,e){return t.lastIndexOf(e)}function wN(t,e,n){return t.indexOf(e,n)}function yN(t){return null==t?UKt:$ft(t)}function vN(t){return null==t?null:t.name}function _N(t){return null!=t.a?t.a:null}function kN(t){return _x(t.a)?o1(t):null}function xN(t,e){return null!=MQ(t.a,e)}function EN(t,e){return!!e&&t.b[e.g]==e}function TN(t){return t.$H||(t.$H=++iie)}function CN(t){return t.l+t.m*SXt+t.h*IXt}function AN(t,e){return WV(e.a,t.a),t.a}function SN(t,e){return WV(e.b,t.a),t.a}function IN(t,e){return WV(e.a,t.a),t.a}function MN(t){return TL(null!=t.a),t.a}function PN(t){tg.call(this,new V7(t))}function ON(t,e){Tmt.call(this,t,e,null)}function DN(t){this.a=t,jf.call(this,t)}function NN(){NN=M,Pre=new eB(gQt,0)}function LN(t,e){return++t.b,WV(t.a,e)}function RN(t,e){return++t.b,w9(t.a,e)}function BN(t,e){return Cdt(t.n.a,e.n.a)}function FN(t,e){return Cdt(t.c.d,e.c.d)}function jN(t,e){return Cdt(t.c.c,e.c.c)}function $N(t,e){return jV(c6(t.b,e),15)}function VN(t,e){return t.n.b=(yK(e),e)}function zN(t,e){return t.n.b=(yK(e),e)}function HN(t){return wO(t.a)||wO(t.b)}function UN(t,e,n){return p3(t,e,n,t.b)}function qN(t,e,n){return p3(t,e,n,t.c)}function WN(t,e,n){jV(N9(t,e),21).Fc(n)}function GN(t,e,n){Idt(t.a,n),Swt(t.a,e)}function KN(t,e){KT(),this.a=t,this.b=e}function YN(t,e){YT(),this.b=t,this.c=e}function XN(t,e){FU(),this.f=e,this.d=t}function ZN(t,e){d6(e,t),this.d=t,this.c=e}function QN(t){var e;e=t.a,t.a=t.b,t.b=e}function JN(t){return zj(),!!t&&!t.dc()}function tL(t){return new c5(3,t)}function eL(t,e){return new hF(t,t.gc(),e)}function nL(t){return nv(),Ctt((NJ(),Wte),t)}function iL(t){this.d=t,ID.call(this,t)}function rL(t){this.c=t,ID.call(this,t)}function oL(t){this.c=t,iL.call(this,t)}function sL(){xT(),this.b=new wp(this)}function aL(t){return hit(t,MYt),new X6(t)}function cL(t){return TZ(),parseInt(t)||-1}function lL(t,e,n){return t.substr(e,n-e)}function uL(t,e,n){return wN(t,XEt(e),n)}function hL(t){return GW(t.c,t.c.length)}function dL(t){return null!=t.f?t.f:""+t.g}function fL(t){return null!=t.f?t.f:""+t.g}function gL(t){return TL(0!=t.b),t.a.a.c}function pL(t){return TL(0!=t.b),t.c.b.c}function mL(t){iD(t,150)&&jV(t,150).Gh()}function bL(t){return t.b=jV(bX(t.a),42)}function wL(t){cT(),this.b=t,this.a=!0}function yL(t){lT(),this.b=t,this.a=!0}function vL(t){t.d=new CL(t),t.e=new Db}function _L(t){if(!t)throw $b(new mw)}function kL(t){if(!t)throw $b(new dw)}function xL(t){if(!t)throw $b(new fw)}function EL(t){if(!t)throw $b(new uw)}function TL(t){if(!t)throw $b(new ww)}function CL(t){QV.call(this,t,null,null)}function AL(){gE.call(this,"POLYOMINO",0)}function SL(t,e,n,i){aq.call(this,t,e,n,i)}function IL(t,e){return FTt(),ZIt(t,e.e,e)}function ML(t,e,n){return IT(),n.qg(t,e)}function PL(t,e){return!!t.q&&cW(t.q,e)}function OL(t,e){return t>0?e*e/t:e*e*100}function DL(t,e){return t>0?e/(t*t):100*e}function NL(t,e,n){return WV(e,agt(t,n))}function LL(t,e,n){D8(),t.Xe(e)&&n.td(t)}function RL(t,e,n){t.Zc(e).Rb(n)}function BL(t,e,n){return t.a+=e,t.b+=n,t}function FL(t,e,n){return t.a*=e,t.b*=n,t}function jL(t,e,n){return t.a-=e,t.b-=n,t}function $L(t,e){return t.a=e.a,t.b=e.b,t}function VL(t){return t.a=-t.a,t.b=-t.b,t}function zL(t){this.c=t,this.a=1,this.b=1}function HL(t){this.c=t,Cnt(t,0),Ant(t,0)}function UL(t){YE.call(this),Jnt(this,t)}function qL(t){RGt(),jb(this),this.mf(t)}function WL(t,e){KT(),KN.call(this,t,e)}function GL(t,e){YT(),YN.call(this,t,e)}function KL(t,e){YT(),YN.call(this,t,e)}function YL(t,e){YT(),GL.call(this,t,e)}function XL(t,e,n){w8.call(this,t,e,n,2)}function ZL(t,e){lO(),iU.call(this,t,e)}function QL(t,e){lO(),ZL.call(this,t,e)}function JL(t,e){lO(),ZL.call(this,t,e)}function tR(t,e){lO(),JL.call(this,t,e)}function eR(t,e){lO(),iU.call(this,t,e)}function nR(t,e){lO(),eR.call(this,t,e)}function iR(t,e){lO(),iU.call(this,t,e)}function rR(t,e){return t.c.Fc(jV(e,133))}function oR(t,e,n){return Dzt(F9(t,e),n)}function sR(t,e,n){return e.Qk(t.e,t.c,n)}function aR(t,e,n){return e.Rk(t.e,t.c,n)}function cR(t,e){return tht(t.e,jV(e,49))}function lR(t,e,n){cdt($9(t.a),e,e1(n))}function uR(t,e,n){cdt(r5(t.a),e,t1(n))}function hR(t,e){e.$modCount=t.$modCount}function dR(){dR=M,G_e=new ob("root")}function fR(){fR=M,gPe=new ky,new xy}function gR(){this.a=new pQ,this.b=new pQ}function pR(){_it.call(this),this.Bb|=$Xt}function mR(){gE.call(this,"GROW_TREE",0)}function bR(t){return null==t?null:fWt(t)}function wR(t){return null==t?null:OCt(t)}function yR(t){return null==t?null:$ft(t)}function vR(t){return null==t?null:$ft(t)}function _R(t){null==t.o&&pOt(t)}function kR(t){return Xz(null==t||HI(t)),t}function xR(t){return Xz(null==t||UI(t)),t}function ER(t){return Xz(null==t||qI(t)),t}function TR(t){this.q=new i.Date(v2(t))}function CR(t,e){this.c=t,pE.call(this,t,e)}function AR(t,e){this.a=t,CR.call(this,t,e)}function SR(t,e){this.d=t,xf(this),this.b=e}function IR(t,e){j7.call(this,t),this.a=e}function MR(t,e){j7.call(this,t),this.a=e}function PR(t){zgt.call(this,0,0),this.f=t}function OR(t,e,n){W6.call(this,t,e,n,null)}function DR(t,e,n){W6.call(this,t,e,n,null)}function NR(t,e,n){return t.ue(e,n)<=0?n:e}function LR(t,e,n){return t.ue(e,n)<=0?e:n}function RR(t,e){return jV(utt(t.b,e),149)}function BR(t,e){return jV(utt(t.c,e),229)}function FR(t){return jV(DH(t.a,t.b),287)}function jR(t){return new DS(t.c,t.d+t.a)}function $R(t){return jJ(),pP(jV(t,197))}function VR(){VR=M,Mre=Jdt((wpt(),BIe))}function zR(t,e){e.a?jLt(t,e):xN(t.a,e.b)}function HR(t,e){Kne||WV(t.a,e)}function UR(t,e){return bT(),fst(e.d.i,t)}function qR(t,e){return Srt(),new rFt(e,t)}function WR(t,e){return SZ(e,sQt),t.f=e,t}function GR(t,e,n){return n=xjt(t,e,3,n)}function KR(t,e,n){return n=xjt(t,e,6,n)}function YR(t,e,n){return n=xjt(t,e,9,n)}function XR(t,e,n){++t.j,t.Ki(),P7(t,e,n)}function ZR(t,e,n){++t.j,t.Hi(e,t.oi(e,n))}function QR(t,e,n){t.Zc(e).Rb(n)}function JR(t,e,n){return QVt(t.c,t.b,e,n)}function tB(t,e){return(e&LKt)%t.d.length}function eB(t,e){ob.call(this,t),this.a=e}function nB(t,e){yb.call(this,t),this.a=e}function iB(t,e){yb.call(this,t),this.a=e}function rB(t,e){this.c=t,pet.call(this,e)}function oB(t,e){this.a=t,wb.call(this,e)}function sB(t,e){this.a=t,wb.call(this,e)}function aB(t){this.a=(hit(t,MYt),new X6(t))}function cB(t){this.a=(hit(t,MYt),new X6(t))}function lB(t){return!t.a&&(t.a=new g),t.a}function uB(t){return t>8?0:t+1}function hB(t,e){return cN(),t==e?0:t?1:-1}function dB(t,e,n){return bU(t,jV(e,22),n)}function fB(t,e,n){return t.apply(e,n)}function gB(t,e,n){return t.a+=$pt(e,0,n),t}function pB(t,e){var n;return n=t.e,t.e=e,n}function mB(t,e){t[nZt].call(t,e)}function bB(t,e){t[nZt].call(t,e)}function wB(t,e){t.a.Vc(t.b,e),++t.b,t.c=-1}function yB(t){MW(t.e),t.d.b=t.d,t.d.a=t.d}function vB(t){t.b?vB(t.b):t.f.c.zc(t.e,t.d)}function _B(t,e,n){fT(),Cd(t,e.Ce(t.a,n))}function kB(t,e){return Kk(Ept(t.a,e,!0))}function xB(t,e){return Kk(Tpt(t.a,e,!0))}function EB(t,e){return V_(new Array(e),t)}function TB(t){return String.fromCharCode(t)}function CB(t){return null==t?null:t.message}function AB(){this.a=new Ob,this.b=new Ob}function SB(){this.a=new de,this.b=new kw}function IB(){this.b=new zk,this.c=new Ob}function MB(){this.d=new zk,this.e=new zk}function PB(){this.n=new zk,this.o=new zk}function OB(){this.n=new hy,this.i=new hP}function DB(){this.a=new Qu,this.b=new ao}function NB(){this.a=new Ob,this.d=new Ob}function LB(){this.b=new Lw,this.a=new Lw}function RB(){this.b=new Db,this.a=new Db}function BB(){this.b=new Ix,this.a=new ms}function FB(){OB.call(this),this.a=new zk}function jB(t){Ist.call(this,t,(Z8(),One))}function $B(t,e,n,i){oU.call(this,t,e,n,i)}function VB(t,e,n){null!=n&&Oit(e,Myt(t,n))}function zB(t,e,n){null!=n&&Dit(e,Myt(t,n))}function HB(t,e,n){return n=xjt(t,e,11,n)}function UB(t,e){return t.a+=e.a,t.b+=e.b,t}function qB(t,e){return t.a-=e.a,t.b-=e.b,t}function WB(t,e){return t.n.a=(yK(e),e+10)}function GB(t,e){return t.n.a=(yK(e),e+10)}function KB(t,e){return e==t||Tkt(ADt(e),t)}function YB(t,e){return null==GK(t.a,e,"")}function XB(t,e){return bT(),!fst(e.d.i,t)}function ZB(t,e){fP(t.f)?rOt(t,e):SEt(t,e)}function QB(t,e){return e.Hh(t.a)}function JB(t,e){Iv.call(this,e8t+t+a7t+e)}function tF(t,e,n,i){tW.call(this,t,e,n,i)}function eF(t,e,n,i){tW.call(this,t,e,n,i)}function nF(t,e,n,i){eF.call(this,t,e,n,i)}function iF(t,e,n,i){eW.call(this,t,e,n,i)}function rF(t,e,n,i){eW.call(this,t,e,n,i)}function oF(t,e,n,i){eW.call(this,t,e,n,i)}function sF(t,e,n,i){rF.call(this,t,e,n,i)}function aF(t,e,n,i){rF.call(this,t,e,n,i)}function cF(t,e,n,i){oF.call(this,t,e,n,i)}function lF(t,e,n,i){aF.call(this,t,e,n,i)}function uF(t,e,n,i){Zq.call(this,t,e,n,i)}function hF(t,e,n){this.a=t,ZN.call(this,e,n)}function dF(t,e,n){this.c=e,this.b=n,this.a=t}function fF(t,e,n){return t.d=jV(e.Kb(n),164)}function gF(t,e){return t.Aj().Nh().Kh(t,e)}function pF(t,e){return t.Aj().Nh().Ih(t,e)}function mF(t,e){return yK(t),zI(t)===zI(e)}function bF(t,e){return yK(t),zI(t)===zI(e)}function wF(t,e){return Kk(Ept(t.a,e,!1))}function yF(t,e){return Kk(Tpt(t.a,e,!1))}function vF(t,e){return t.b.sd(new MC(t,e))}function _F(t,e){return t.b.sd(new PC(t,e))}function kF(t,e){return t.b.sd(new OC(t,e))}function xF(t,e,n){return t.lastIndexOf(e,n)}function EF(t,e,n){return Cdt(t[e.b],t[n.b])}function TF(t,e){return lct(e,(VGt(),Lpe),t)}function CF(t,e){return _O(e.a.d.p,t.a.d.p)}function AF(t,e){return _O(t.a.d.p,e.a.d.p)}function SF(t,e){return Cdt(t.c-t.s,e.c-e.s)}function IF(t){return t.c?_9(t.c.a,t,0):-1}function MF(t){return t<100?null:new Fk(t)}function PF(t){return t==USe||t==WSe||t==qSe}function OF(t,e){return iD(e,15)&&YRt(t.c,e)}function DF(t,e){Kne||e&&(t.d=e)}function NF(t,e){return!!hlt(t,e)}function LF(t,e){this.c=t,zW.call(this,t,e)}function RF(t){this.c=t,mM.call(this,dYt,0)}function BF(t,e){XV.call(this,t,t.length,e)}function FF(t,e,n){return jV(t.c,69).lk(e,n)}function jF(t,e,n){return jV(t.c,69).mk(e,n)}function $F(t,e,n){return sR(t,jV(e,332),n)}function VF(t,e,n){return aR(t,jV(e,332),n)}function zF(t,e,n){return Sxt(t,jV(e,332),n)}function HF(t,e,n){return YEt(t,jV(e,332),n)}function UF(t,e){return null==e?null:hht(t.b,e)}function qF(t){return UI(t)?(yK(t),t):t.ke()}function WF(t){return!isNaN(t)&&!isFinite(t)}function GF(t){aj(),this.a=(EX(),new I_(t))}function KF(t){cz(),this.d=t,this.a=new Pb}function YF(t,e,n){this.a=t,this.b=e,this.c=n}function XF(t,e,n){this.a=t,this.b=e,this.c=n}function ZF(t,e,n){this.d=t,this.b=n,this.a=e}function QF(t){TO(this),wX(this),jrt(this,t)}function JF(t){DP(this),JV(this.c,0,t.Pc())}function tj(t){lK(t.a),H7(t.c,t.b),t.b=null}function ej(t){this.a=t,ME(),ust(Date.now())}function nj(){nj=M,eie=new r,nie=new r}function ij(){ij=M,kne=new D,xne=new N}function rj(){rj=M,hPe=D7(Mte,VKt,1,0,5,1)}function oj(){oj=M,kOe=D7(Mte,VKt,1,0,5,1)}function sj(){sj=M,xOe=D7(Mte,VKt,1,0,5,1)}function aj(){aj=M,new nw((EX(),EX(),cne))}function cj(t){return Z8(),Ctt((Q8(),Bne),t)}function lj(t){return zlt(),Ctt((t7(),Zne),t)}function uj(t){return lbt(),Ctt((A5(),pie),t)}function hj(t){return Ltt(),Ctt((S5(),yie),t)}function dj(t){return tBt(),Ctt((Nst(),Fie),t)}function fj(t){return Let(),Ctt((Z6(),Wie),t)}function gj(t){return X8(),Ctt((Q6(),Jie),t)}function pj(t){return z9(),Ctt((J6(),ore),t)}function mj(t){return gKt(),Ctt((xM(),Ire),t)}function bj(t){return Lst(),Ctt((t9(),Bre),t)}function wj(t){return Vbt(),Ctt((e9(),Hre),t)}function yj(t){return zbt(),Ctt((n9(),eoe),t)}function vj(t){return dT(),Ctt((K2(),roe),t)}function _j(t){return Rtt(),Ctt((I5(),Boe),t)}function kj(t){return V9(),Ctt((e7(),Pse),t)}function xj(t){return yTt(),Ctt((qtt(),Vse),t)}function Ej(t){return Mat(),Ctt((J8(),nae),t)}function Tj(t){return $ht(),Ctt((n7(),gae),t)}function Cj(t,e){if(!t)throw $b(new Bv(e))}function Aj(t){return sCt(),Ctt((lnt(),Iae),t)}function Sj(t){oU.call(this,t.d,t.c,t.a,t.b)}function Ij(t){oU.call(this,t.d,t.c,t.a,t.b)}function Mj(t,e,n){this.b=t,this.c=e,this.a=n}function Pj(t,e,n){this.b=t,this.a=e,this.c=n}function Oj(t,e,n){this.a=t,this.b=e,this.c=n}function Dj(t,e,n){this.a=t,this.b=e,this.c=n}function Nj(t,e,n){this.a=t,this.b=e,this.c=n}function Lj(t,e,n){this.a=t,this.b=e,this.c=n}function Rj(t,e,n){this.b=t,this.a=e,this.c=n}function Bj(t,e,n){this.e=e,this.b=t,this.d=n}function Fj(t,e,n){return fT(),t.a.Od(e,n),e}function jj(t){var e;return(e=new _t).e=t,e}function $j(t){var e;return(e=new Zw).b=t,e}function Vj(){Vj=M,Uae=new Nn,qae=new Ln}function zj(){zj=M,fle=new wr,gle=new yr}function Hj(t){return Sat(),Ctt((r9(),sle),t)}function Uj(t){return Iat(),Ctt((s9(),_le),t)}function qj(t){return vRt(),Ctt((Hot(),Gle),t)}function Wj(t){return PAt(),Ctt((dnt(),nue),t)}function Gj(t){return G7(),Ctt((L5(),sue),t)}function Kj(t){return Iit(),Ctt((i7(),hue),t)}function Yj(t){return Oxt(),Ctt(($tt(),Sle),t)}function Xj(t){return Art(),Ctt((s7(),Ble),t)}function Zj(t){return sit(),Ctt((r7(),mue),t)}function Qj(t){return Kwt(),Ctt((Ftt(),xue),t)}function Jj(t){return Btt(),Ctt((P5(),Aue),t)}function t$(t){return Zat(),Ctt((o7(),Oue),t)}function e$(t){return pCt(),Ctt((mnt(),$ue),t)}function n$(t){return g9(),Ctt((O5(),Uue),t)}function i$(t){return $kt(),Ctt((gnt(),Que),t)}function r$(t){return ZTt(),Ctt((fnt(),she),t)}function o$(t){return dRt(),Ctt((Kat(),whe),t)}function s$(t){return Bst(),Ctt((c7(),xhe),t)}function a$(t){return H9(),Ctt((a7(),She),t)}function c$(t){return H2(),Ctt((R5(),Ohe),t)}function l$(t){return xft(),Ctt((Vtt(),Hde),t)}function u$(t){return xEt(),Ctt((pnt(),nwe),t)}function h$(t){return Eut(),Ctt((l7(),awe),t)}function d$(t){return dwt(),Ctt((a9(),fwe),t)}function f$(t){return oit(),Ctt((d7(),Uwe),t)}function g$(t){return cNt(),Ctt((zot(),Mwe),t)}function p$(t){return wct(),Ctt((h7(),Lwe),t)}function m$(t){return U9(),Ctt((N5(),jwe),t)}function b$(t){return Vot(),Ctt((u7(),Ywe),t)}function w$(t){return Dwt(),Ctt((jtt(),vwe),t)}function y$(t){return I6(),Ctt((D5(),Jwe),t)}function v$(t){return qlt(),Ctt((g7(),rye),t)}function _$(t){return got(),Ctt((p7(),lye),t)}function k$(t){return Pat(),Ctt((f7(),gye),t)}function x$(t){return ait(),Ctt((m7(),Oye),t)}function E$(t){return K5(),Ctt((F5(),zye),t)}function T$(t){return gQ(),Ctt((j5(),eve),t)}function C$(t){return sJ(),Ctt(($5(),ove),t)}function A$(t){return S6(),Ctt((B5(),Tve),t)}function S$(t){return fQ(),Ctt((V5(),Nve),t)}function I$(t){return Uvt(),Ctt((i9(),$ve),t)}function M$(t){return LAt(),Ctt((bnt(),Xve),t)}function P$(t){return aJ(),Ctt((U5(),F_e),t)}function O$(t){return Crt(),Ctt((H5(),Z_e),t)}function D$(t){return j0(),Ctt((z5(),z_e),t)}function N$(t){return Aft(),Ctt((b7(),nke),t)}function L$(t){return N8(),Ctt((q5(),ske),t)}function R$(t){return Vlt(),Ctt((w7(),hke),t)}function B$(t){return Iyt(),Ctt((o9(),Hke),t)}function F$(t){return $ot(),Ctt((v7(),Kke),t)}function j$(t){return Tft(),Ctt((y7(),txe),t)}function $$(t){return XDt(),Ctt((Utt(),jxe),t)}function V$(t){return Cft(),Ctt((_7(),Uxe),t)}function z$(t){return CT(),Ctt((W2(),Gxe),t)}function H$(t){return AT(),Ctt((q2(),Xxe),t)}function U$(t){return M6(),Ctt((G5(),tEe),t)}function q$(t){return PCt(),Ctt((ztt(),aEe),t)}function W$(t){return ST(),Ctt((G2(),UEe),t)}function G$(t){return Oat(),Ctt((W5(),KEe),t)}function K$(t){return ibt(),Ctt((Htt(),hTe),t)}function Y$(t){return CAt(),Ctt((Uot(),_Te),t)}function X$(t){return fwt(),Ctt((hnt(),DTe),t)}function Z$(t){return fxt(),Ctt((unt(),JTe),t)}function Q$(t){return hKt(),Ctt((EM(),Zce),t)}function J$(t){return Trt(),Ctt((M5(),Hae),t)}function tV(t){return jht(),Ctt((Wtt(),zAe),t)}function eV(t){return Ret(),Ctt((x7(),GAe),t)}function nV(t){return Eft(),Ctt((u9(),JAe),t)}function iV(t){return JEt(),Ctt((ynt(),aSe),t)}function rV(t){return sht(),Ctt((k7(),ySe),t)}function oV(t){return Wvt(),Ctt((l9(),TSe),t)}function sV(t){return JPt(),Ctt((Dst(),RSe),t)}function aV(t){return rbt(),Ctt((Gtt(),HSe),t)}function cV(t){return Yxt(),Ctt((Vet(),ZSe),t)}function lV(t){return hIt(),Ctt((wnt(),oIe),t)}function uV(t){return wpt(),Ctt((d9(),jIe),t)}function hV(t){return JFt(),Ctt((Yat(),XIe),t)}function dV(t){return vWt(),Ctt((Ktt(),SIe),t)}function fV(t){return jgt(),Ctt((h9(),nMe),t)}function gV(t){return $lt(),Ctt((c9(),lMe),t)}function pV(t){return lPt(),Ctt((qot(),nPe),t)}function mV(t,e){return yK(t),t+(yK(e),e)}function bV(t,e){return ME(),l8(KX(t.a),e)}function wV(t,e){return ME(),l8(KX(t.a),e)}function yV(t,e){this.c=t,this.a=e,this.b=e-t}function vV(t,e,n){this.a=t,this.b=e,this.c=n}function _V(t,e,n){this.a=t,this.b=e,this.c=n}function kV(t,e,n){this.a=t,this.b=e,this.c=n}function xV(t,e,n){this.a=t,this.b=e,this.c=n}function EV(t,e,n){this.a=t,this.b=e,this.c=n}function TV(t,e,n){this.e=t,this.a=e,this.c=n}function CV(t,e,n){lO(),bQ.call(this,t,e,n)}function AV(t,e,n){lO(),nK.call(this,t,e,n)}function SV(t,e,n){lO(),nK.call(this,t,e,n)}function IV(t,e,n){lO(),nK.call(this,t,e,n)}function MV(t,e,n){lO(),AV.call(this,t,e,n)}function PV(t,e,n){lO(),AV.call(this,t,e,n)}function OV(t,e,n){lO(),PV.call(this,t,e,n)}function DV(t,e,n){lO(),SV.call(this,t,e,n)}function NV(t,e,n){lO(),IV.call(this,t,e,n)}function LV(t,e){return wG(t),wG(e),new cE(t,e)}function RV(t,e){return wG(t),wG(e),new Bz(t,e)}function BV(t,e){return wG(t),wG(e),new Fz(t,e)}function FV(t,e){return wG(t),wG(e),new uE(t,e)}function jV(t,e){return Xz(null==t||Ybt(t,e)),t}function $V(t){var e;return ltt(e=new Ob,t),e}function VV(t){var e;return ltt(e=new Lw,t),e}function zV(t){var e;return zrt(e=new Hw,t),e}function HV(t){var e;return zrt(e=new YE,t),e}function UV(t){return!t.e&&(t.e=new Ob),t.e}function qV(t){return!t.c&&(t.c=new Vc),t.c}function WV(t,e){return t.c[t.c.length]=e,!0}function GV(t,e){this.c=t,this.b=e,this.a=!1}function KV(t){this.d=t,xf(this),this.b=nq(t.d)}function YV(){this.a=";,;",this.b="",this.c=""}function XV(t,e,n){Uq.call(this,e,n),this.a=t}function ZV(t,e,n){this.b=t,gM.call(this,e,n)}function QV(t,e,n){this.c=t,TC.call(this,e,n)}function JV(t,e,n){FSt(n,0,t,e,n.length,!1)}function tz(t,e,n,i,r){t.b=e,t.c=n,t.d=i,t.a=r}function ez(t,e){e&&(t.b=e,t.a=(_K(e),e.a))}function nz(t,e,n,i,r){t.d=e,t.c=n,t.a=i,t.b=r}function iz(t){var e,n;e=t.b,n=t.c,t.b=n,t.c=e}function rz(t){var e,n;n=t.d,e=t.a,t.d=e,t.a=n}function oz(t){return sst(DW(XM(t)?Cst(t):t))}function sz(t,e){return _O(sH(t.d),sH(e.d))}function az(t,e){return e==(vWt(),CIe)?t.c:t.d}function cz(){cz=M,vWt(),Lye=CIe,Rye=sIe}function lz(){this.b=zv(xR(wbt((uBt(),rse))))}function uz(t){return fT(),D7(Mte,VKt,1,t,5,1)}function hz(t){return new DS(t.c+t.b,t.d+t.a)}function dz(t,e){return ET(),_O(t.d.p,e.d.p)}function fz(t){return TL(0!=t.b),Met(t,t.a.a)}function gz(t){return TL(0!=t.b),Met(t,t.c.b)}function pz(t,e){if(!t)throw $b(new Mv(e))}function mz(t,e){if(!t)throw $b(new Bv(e))}function bz(t,e,n){fA.call(this,t,e),this.b=n}function wz(t,e,n){PI.call(this,t,e),this.c=n}function yz(t,e,n){det.call(this,e,n),this.d=t}function vz(t){sj(),vc.call(this),this.th(t)}function _z(t,e,n){this.a=t,OM.call(this,e,n)}function kz(t,e,n){this.a=t,OM.call(this,e,n)}function xz(t,e,n){PI.call(this,t,e),this.c=n}function Ez(){L4(),sK.call(this,(WT(),zPe))}function Tz(t){return null!=t&&!Wft(t,MPe,PPe)}function Cz(t,e){return(Ght(t)<<4|Ght(e))&YYt}function Az(t,e){return QK(),Uwt(t,e),new zK(t,e)}function Sz(t,e){var n;t.n&&(n=e,WV(t.f,n))}function Iz(t,e,n){net(t,e,new zG(n))}function Mz(t,e){var n;return n=t.c,Bit(t,e),n}function Pz(t,e){return t.g=e<0?-1:e,t}function Oz(t,e){return Uet(t),t.a*=e,t.b*=e,t}function Dz(t,e,n,i,r){t.c=e,t.d=n,t.b=i,t.a=r}function Nz(t,e){return n4(t,e,t.c.b,t.c),!0}function Lz(t){t.a.b=t.b,t.b.a=t.a,t.a=t.b=null}function Rz(t){this.b=t,this.a=uq(this.b.a).Ed()}function Bz(t,e){this.b=t,this.a=e,ju.call(this)}function Fz(t,e){this.a=t,this.b=e,ju.call(this)}function jz(t,e){Uq.call(this,e,1040),this.a=t}function $z(t){return 0==t||isNaN(t)?t:t<0?-1:1}function Vz(t){return xX(),CTt(t)==XQ(ITt(t))}function zz(t){return xX(),ITt(t)==XQ(CTt(t))}function Hz(t,e){return Xkt(t,new fA(e.a,e.b))}function Uz(t){return!h4(t)&&t.c.i.c==t.d.i.c}function qz(t){var e;return e=t.n,t.a.b+e.d+e.a}function Wz(t){var e;return e=t.n,t.e.b+e.d+e.a}function Gz(t){var e;return e=t.n,t.e.a+e.b+e.c}function Kz(t){return fKt(),new sU(0,t)}function Yz(t){return t.a?t.a:tX(t)}function Xz(t){if(!t)throw $b(new Rv(null))}function Zz(){Zz=M,EX(),rDe=new zf(C9t)}function Qz(){Qz=M,new cwt((Jy(),Fte),(tv(),Bte))}function Jz(){Jz=M,See=D7(Mee,cYt,19,256,0,1)}function tH(t,e,n,i){ogt.call(this,t,e,n,i,0,0)}function eH(t,e,n){return GK(t.b,jV(n.b,17),e)}function nH(t,e,n){return GK(t.b,jV(n.b,17),e)}function iH(t,e){return WV(t,new DS(e.a,e.b))}function rH(t,e){return t.c<e.c?-1:t.c==e.c?0:1}function oH(t){return t.e.c.length+t.g.c.length}function sH(t){return t.e.c.length-t.g.c.length}function aH(t){return t.b.c.length-t.e.c.length}function cH(t){return jJ(),(vWt(),hIe).Hc(t.j)}function lH(t){sj(),vz.call(this,t),this.a=-1}function uH(t,e){DI.call(this,t,e),this.a=this}function hH(t,e){var n;return(n=bG(t,e)).i=2,n}function dH(t,e){return++t.j,t.Ti(e)}function fH(t,e,n){return t.a=-1,WN(t,e.g,n),t}function gH(t,e,n){Bqt(t.a,t.b,t.c,jV(e,202),n)}function pH(t,e){$it(t,null==e?null:(yK(e),e))}function mH(t,e){Rit(t,null==e?null:(yK(e),e))}function bH(t,e){Rit(t,null==e?null:(yK(e),e))}function wH(t,e,n){return new dF(fK(t).Ie(),n,e)}function yH(t,e,n,i,r,o){return Kkt(t,e,n,i,r,0,o)}function vH(){vH=M,_ee=D7(xee,cYt,217,256,0,1)}function _H(){_H=M,Pee=D7(Ree,cYt,162,256,0,1)}function kH(){kH=M,Bee=D7(Fee,cYt,184,256,0,1)}function xH(){xH=M,Eee=D7(Tee,cYt,172,128,0,1)}function EH(){tz(this,!1,!1,!1,!1)}function TH(t){WG(),this.a=(EX(),new zf(wG(t)))}function CH(t){for(wG(t);t.Ob();)t.Pb(),t.Qb()}function AH(t){t.a.cd(),jV(t.a.dd(),14).gc(),d_()}function SH(t){this.c=t,this.b=this.c.d.vc().Kc()}function IH(t){this.c=t,this.a=new KE(this.c.a)}function MH(t){this.a=new qE(t.gc()),jrt(this,t)}function PH(t){tg.call(this,new m5),jrt(this,t)}function OH(t,e){return t.a+=$pt(e,0,e.length),t}function DH(t,e){return u1(e,t.c.length),t.c[e]}function NH(t,e){return u1(e,t.a.length),t.a[e]}function LH(t,e){fT(),j7.call(this,t),this.a=e}function RH(t,e){return _mt(ift(_mt(t.a).a,e.a))}function BH(t,e){return yK(t),Dot(t,(yK(e),e))}function FH(t,e){return yK(e),Dot(e,(yK(t),t))}function jH(t,e){return MG(e,0,$H(e[0],_mt(1)))}function $H(t,e){return RH(jV(t,162),jV(e,162))}function VH(t){return t.c-jV(DH(t.a,t.b),287).b}function zH(t){return t.q?t.q:(EX(),EX(),lne)}function HH(t){return t.e.Hd().gc()*t.c.Hd().gc()}function UH(t,e,n){return _O(e.d[t.g],n.d[t.g])}function qH(t,e,n){return _O(t.d[e.p],t.d[n.p])}function WH(t,e,n){return _O(t.d[e.p],t.d[n.p])}function GH(t,e,n){return _O(t.d[e.p],t.d[n.p])}function KH(t,e,n){return _O(t.d[e.p],t.d[n.p])}function YH(t,e,n){return i.Math.min(n/t,1/e)}function XH(t,e){return t?0:i.Math.max(0,e-1)}function ZH(t,e){var n;for(n=0;n<e;++n)t[n]=-1}function QH(t){var e;return(e=sxt(t))?QH(e):t}function JH(t,e){return null==t.a&&fBt(t),t.a[e]}function tU(t){return t.c?t.c.f:t.e.b}function eU(t){return t.c?t.c.g:t.e.a}function nU(t){pet.call(this,t.gc()),pG(this,t)}function iU(t,e){lO(),vb.call(this,e),this.a=t}function rU(t,e,n){this.a=t,MD.call(this,e,n,2)}function oU(t,e,n,i){nz(this,t,e,n,i)}function sU(t,e){fKt(),Ib.call(this,t),this.a=e}function aU(t){this.b=new YE,this.a=t,this.c=-1}function cU(){this.d=new DS(0,0),this.e=new Lw}function lU(t){ZN.call(this,0,0),this.a=t,this.b=0}function uU(t){this.a=t,this.c=new Db,ict(this)}function hU(t){if(t.e.c!=t.b)throw $b(new mw)}function dU(t){if(t.c.e!=t.a)throw $b(new mw)}function fU(t){return XM(t)?0|t:kx(t)}function gU(t,e){return fKt(),new UW(t,e)}function pU(t,e){return null==t?null==e:bF(t,e)}function mU(t,e){return null==t?null==e:wmt(t,e)}function bU(t,e,n){return art(t.a,e),_W(t,e.g,n)}function wU(t,e,n){nut(0,e,t.length),H8(t,0,e,n)}function yU(t,e,n){PJ(e,t.c.length),xC(t.c,e,n)}function vU(t,e,n){var i;for(i=0;i<e;++i)t[i]=n}function _U(t,e){var n;return Pct(n=Jdt(t),e),n}function kU(t,e){return!t&&(t=[]),t[t.length]=e,t}function xU(t,e){return!(void 0===t.a.get(e))}function EU(t,e){return Wit(new tt,new og(t),e)}function TU(t){return null==t?Ene:new mv(yK(t))}function CU(t,e){return iD(e,22)&&EN(t,jV(e,22))}function AU(t,e){return iD(e,22)&&Pet(t,jV(e,22))}function SU(t){return VOt(t,26)*iZt+VOt(t,27)*rZt}function IU(t){return Array.isArray(t)&&t.im===I}function MU(t){t.b?MU(t.b):t.d.dc()&&t.f.c.Bc(t.e)}function PU(t,e){UB(t.c,e),t.b.c+=e.a,t.b.d+=e.b}function OU(t,e){PU(t,qB(new DS(e.a,e.b),t.c))}function DU(t,e){this.b=new YE,this.a=t,this.c=e}function NU(){this.b=new Ie,this.c=new uZ(this)}function LU(){this.d=new wt,this.e=new lZ(this)}function RU(){RJ(),this.f=new YE,this.e=new YE}function BU(){jJ(),this.k=new Db,this.d=new Lw}function FU(){FU=M,hMe=new qP((cKt(),rAe),0)}function jU(){jU=M,zte=new lU(D7(Mte,VKt,1,0,5,1))}function $U(t,e,n){KPt(n,t,1),WV(e,new iA(n,t))}function VU(t,e,n){j_t(n,t,1),WV(e,new hA(n,t))}function zU(t,e,n){return kW(t,new DC(e.a,n.a))}function HU(t,e,n){return-_O(t.f[e.p],t.f[n.p])}function UU(t,e,n){var i;t&&((i=t.i).c=e,i.b=n)}function qU(t,e,n){var i;t&&((i=t.i).d=e,i.a=n)}function WU(t,e,n){return t.a=-1,WN(t,e.g+1,n),t}function GU(t,e,n){return n=xjt(t,jV(e,49),7,n)}function KU(t,e,n){return n=xjt(t,jV(e,49),3,n)}function YU(t,e,n){this.a=t,PD.call(this,e,n,22)}function XU(t,e,n){this.a=t,PD.call(this,e,n,14)}function ZU(t,e,n,i){lO(),O0.call(this,t,e,n,i)}function QU(t,e,n,i){lO(),O0.call(this,t,e,n,i)}function JU(t,e){e.Bb&l6t&&!t.a.o&&(t.a.o=e)}function tq(t){return null!=t&&NW(t)&&!(t.im===I)}function eq(t){return!Array.isArray(t)&&t.im===I}function nq(t){return iD(t,15)?jV(t,15).Yc():t.Kc()}function iq(t){return t.Qc(D7(Mte,VKt,1,t.gc(),5,1))}function rq(t,e){return hmt(F9(t,e))?e.Qh():null}function oq(t){t?jyt(t,(ME(),$ee)):ME()}function sq(t){this.a=(jU(),zte),this.d=jV(wG(t),47)}function aq(t,e,n,i){this.a=t,W6.call(this,t,e,n,i)}function cq(t){tC(),this.a=0,this.b=t-1,this.c=1}function lq(t){GO(this),this.g=t,vX(this),this._d()}function uq(t){return t.c?t.c:t.c=t.Id()}function hq(t){return t.d?t.d:t.d=t.Jd()}function dq(t){return t.c||(t.c=t.Dd())}function fq(t){return t.f||(t.f=t.Dc())}function gq(t){return t.i||(t.i=t.bc())}function pq(t){return fKt(),new mQ(10,t,0)}function mq(t){return XM(t)?""+t:HRt(t)}function bq(t){if(t.e.j!=t.d)throw $b(new mw)}function wq(t,e){return sst(hCt(XM(t)?Cst(t):t,e))}function yq(t,e){return sst(_Pt(XM(t)?Cst(t):t,e))}function vq(t,e){return sst(ZCt(XM(t)?Cst(t):t,e))}function _q(t,e){return hB((yK(t),t),(yK(e),e))}function kq(t,e){return Cdt((yK(t),t),(yK(e),e))}function xq(t,e){return wG(e),t.a.Ad(e)&&!t.b.Ad(e)}function Eq(t,e){return xO(t.l&e.l,t.m&e.m,t.h&e.h)}function Tq(t,e){return xO(t.l|e.l,t.m|e.m,t.h|e.h)}function Cq(t,e){return xO(t.l^e.l,t.m^e.m,t.h^e.h)}function Aq(t,e){return Pht(t,(yK(e),new ng(e)))}function Sq(t,e){return Pht(t,(yK(e),new ig(e)))}function Iq(t){return pot(),0!=jV(t,11).e.c.length}function Mq(t){return pot(),0!=jV(t,11).g.c.length}function Pq(t,e){return Srt(),Cdt(e.a.o.a,t.a.o.a)}function Oq(t,e,n){return xWt(t,jV(e,11),jV(n,11))}function Dq(t){return t.e?N6(t.e):null}function Nq(t){t.d||(t.d=t.b.Kc(),t.c=t.b.gc())}function Lq(t,e,n){t.a.Mb(n)&&(t.b=!0,e.td(n))}function Rq(t,e){if(t<0||t>=e)throw $b(new Ew)}function Bq(t,e,n){return MG(e,0,$H(e[0],n[0])),e}function Fq(t,e,n){e.Ye(n,zv(xR(LG(t.b,n)))*t.a)}function jq(t,e,n){return _Rt(),Lot(t,e)&&Lot(t,n)}function $q(t){return hIt(),!t.Hc(tIe)&&!t.Hc(nIe)}function Vq(t){return new DS(t.c+t.b/2,t.d+t.a/2)}function zq(t,e){return e.kh()?tht(t.b,jV(e,49)):e}function Hq(t,e){this.e=t,this.d=64&e?e|lYt:e}function Uq(t,e){this.c=0,this.d=t,this.b=64|e|lYt}function qq(t){this.b=new X6(11),this.a=(TX(),t)}function Wq(t){this.b=null,this.a=(TX(),t||dne)}function Gq(t){this.a=iwt(t.a),this.b=new JF(t.b)}function Kq(t){this.b=t,iL.call(this,t),xD(this)}function Yq(t){this.b=t,oL.call(this,t),ED(this)}function Xq(t,e,n){this.a=t,tF.call(this,e,n,5,6)}function Zq(t,e,n,i){this.b=t,MD.call(this,e,n,i)}function Qq(t,e,n,i,r){y8.call(this,t,e,n,i,r,-1)}function Jq(t,e,n,i,r){v8.call(this,t,e,n,i,r,-1)}function tW(t,e,n,i){MD.call(this,t,e,n),this.b=i}function eW(t,e,n,i){wz.call(this,t,e,n),this.b=i}function nW(t){OI.call(this,t,!1),this.a=!1}function iW(t,e){this.b=t,ad.call(this,t.b),this.a=e}function rW(t,e){WG(),vE.call(this,t,cht(new Xv(e)))}function oW(t,e){return fKt(),new iK(t,e,0)}function sW(t,e){return fKt(),new iK(6,t,e)}function aW(t,e){return bF(t.substr(0,e.length),e)}function cW(t,e){return qI(e)?tZ(t,e):!!IZ(t.f,e)}function lW(t,e){for(yK(e);t.Ob();)e.td(t.Pb())}function uW(t,e,n){IRt(),this.e=t,this.d=e,this.a=n}function hW(t,e,n,i){var r;(r=t.i).i=e,r.a=n,r.b=i}function dW(t){var e;for(e=t;e.f;)e=e.f;return e}function fW(t){var e;return TL(null!=(e=kct(t))),e}function gW(t){var e;return TL(null!=(e=wdt(t))),e}function pW(t,e){var n;return d6(e,n=t.a.gc()),n-e}function mW(t,e){var n;for(n=0;n<e;++n)t[n]=!1}function bW(t,e,n,i){var r;for(r=e;r<n;++r)t[r]=i}function wW(t,e,n,i){nut(e,n,t.length),bW(t,e,n,i)}function yW(t,e,n){Rq(n,t.a.c.length),i4(t.a,n,e)}function vW(t,e,n){this.c=t,this.a=e,EX(),this.b=n}function _W(t,e,n){var i;return i=t.b[e],t.b[e]=n,i}function kW(t,e){return null==t.a.zc(e,t)}function xW(t){if(!t)throw $b(new ww);return t.d}function EW(t,e){if(null==t)throw $b(new $v(e))}function TW(t,e){return!!e&&jrt(t,e)}function CW(t,e,n){return eut(t,e.g,n),art(t.c,e),t}function AW(t){return Eqt(t,(jht(),BAe)),t.d=!0,t}function SW(t){return!t.j&&wf(t,jFt(t.g,t.b)),t.j}function IW(t){xL(-1!=t.b),a6(t.c,t.a=t.b),t.b=-1}function MW(t){t.f=new tP(t),t.g=new eP(t),sZ(t)}function PW(t){return new LH(null,VW(t,t.length))}function OW(t){return new sq(new WD(t.a.length,t.a))}function DW(t){return xO(~t.l&TXt,~t.m&TXt,~t.h&CXt)}function NW(t){return typeof t===MKt||typeof t===NKt}function LW(t){return t==RXt?N9t:t==BXt?"-INF":""+t}function RW(t){return t==RXt?N9t:t==BXt?"-INF":""+t}function BW(t,e){return t>0?i.Math.log(t/e):-100}function FW(t,e){return Kut(t,e)<0?-1:Kut(t,e)>0?1:0}function jW(t,e,n){return Tzt(t,jV(e,46),jV(n,167))}function $W(t,e){return jV(dq(uq(t.a)).Xb(e),42).cd()}function VW(t,e){return met(e,t.length),new jz(t,e)}function zW(t,e){this.d=t,ID.call(this,t),this.e=e}function HW(t){this.d=(yK(t),t),this.a=0,this.c=dYt}function UW(t,e){Ib.call(this,1),this.a=t,this.b=e}function qW(t,e){return t.c?qW(t.c,e):WV(t.b,e),t}function WW(t,e,n){var i;return i=ftt(t,e),n5(t,e,n),i}function GW(t,e){return b9(t.slice(0,e),t)}function KW(t,e,n){var i;for(i=0;i<e;++i)MG(t,i,n)}function YW(t,e,n,i,r){for(;e<n;)i[r++]=lY(t,e++)}function XW(t,e){return Cdt(t.c.c+t.c.b,e.c.c+e.c.b)}function ZW(t,e){return null==Ect(t.a,e,(cN(),mee))}function QW(t,e){n4(t.d,e,t.b.b,t.b),++t.a,t.c=null}function JW(t,e){XO(t,iD(e,153)?e:jV(e,1937).gl())}function tG(t,e){XE(MY(t.Oc(),new Zr),new Ap(e))}function eG(t,e,n,i,r){Dxt(t,jV(c6(e.k,n),15),n,i,r)}function nG(t){t.s=NaN,t.c=NaN,QMt(t,t.e),QMt(t,t.j)}function iG(t){t.a=null,t.e=null,MW(t.b),t.d=0,++t.c}function rG(t){return i.Math.abs(t.d.e-t.e.e)-t.a}function oG(t,e,n){return jV(t.c._c(e,jV(n,133)),42)}function sG(){return nv(),Cat(z_(Gte,1),PYt,538,0,[Ute])}function aG(t){return xX(),XQ(CTt(t))==XQ(ITt(t))}function cG(t){MB.call(this),this.a=t,WV(t.a,this)}function lG(t,e){this.d=Tdt(t),this.c=e,this.a=.5*e}function uG(){m5.call(this),this.a=!0,this.b=!0}function hG(t){return(null==t.i&&z$t(t),t.i).length}function dG(t){return iD(t,99)&&!!(jV(t,18).Bb&l6t)}function fG(t,e){++t.j,cEt(t,t.i,e),UIt(t,jV(e,332))}function gG(t,e){return e=t.nk(null,e),PEt(t,null,e)}function pG(t,e){return t.hi()&&(e=QQ(t,e)),t.Wh(e)}function mG(t,e,n){var i;return Ynt(n,i=bG(t,e)),i}function bG(t,e){var n;return(n=new mct).j=t,n.d=e,n}function wG(t){if(null==t)throw $b(new gw);return t}function yG(t){return t.j||(t.j=new hd(t))}function vG(t){return t.f||(t.f=new UD(t))}function _G(t){return t.k||(t.k=new Kh(t))}function kG(t){return t.k||(t.k=new Kh(t))}function xG(t){return t.g||(t.g=new Gh(t))}function EG(t){return t.i||(t.i=new Zh(t))}function TG(t){return t.d||(t.d=new td(t))}function CG(t){return wG(t),iD(t,475)?jV(t,475):$ft(t)}function AG(t){return iD(t,607)?t:new hQ(t)}function SG(t,e){return d2(e,t.c.b.c.gc()),new aE(t,e)}function IG(t,e,n){return fKt(),new k0(t,e,n)}function MG(t,e,n){return EL(null==n||Yjt(t,n)),t[e]=n}function PG(t,e){var n;return d2(e,n=t.a.gc()),n-1-e}function OG(t,e){return t.a+=String.fromCharCode(e),t}function DG(t,e){return t.a+=String.fromCharCode(e),t}function NG(t,e){for(yK(e);t.c<t.d;)t.ze(e,t.c++)}function LG(t,e){return qI(e)?EQ(t,e):VI(IZ(t.f,e))}function RG(t,e){return xX(),t==CTt(e)?ITt(e):CTt(e)}function BG(t,e){QG(t,new zG(null!=e.f?e.f:""+e.g))}function FG(t,e){QG(t,new zG(null!=e.f?e.f:""+e.g))}function jG(t){this.b=new Ob,this.a=new Ob,this.c=t}function $G(t){this.c=new zk,this.a=new Ob,this.b=t}function VG(t){MB.call(this),this.a=new zk,this.c=t}function zG(t){if(null==t)throw $b(new gw);this.a=t}function HG(t){xw(),this.b=new Ob,this.a=t,bUt(this,t)}function UG(t){this.c=t,this.a=new YE,this.b=new YE}function qG(){qG=M,aee=new kd(!1),cee=new kd(!0)}function WG(){WG=M,aj(),jte=new EZ((EX(),EX(),cne))}function GG(){GG=M,aj(),Kte=new mC((EX(),EX(),une))}function KG(){KG=M,QPe=HIt(),pKt(),tOe&&R_t()}function YG(t,e){return Srt(),jV(sY(t,e.d),15).Fc(e)}function XG(t,e,n,i){return 0==n||(n-i)/n<t.e||e>=t.g}function ZG(t,e,n){return DBt(t,yrt(t,e,n))}function QG(t,e){var n;ftt(t,n=t.a.length),n5(t,n,e)}function JG(t,e){console[t].call(console,e)}function tK(t,e){var n;++t.j,n=t.Vi(),t.Ii(t.oi(n,e))}function eK(t,e,n){jV(e.b,65),Iet(e.a,new _V(t,n,e))}function nK(t,e,n){vb.call(this,e),this.a=t,this.b=n}function iK(t,e,n){Ib.call(this,t),this.a=e,this.b=n}function rK(t,e,n){this.a=t,yb.call(this,e),this.b=n}function oK(t,e,n){this.a=t,$2.call(this,8,e,null,n)}function sK(t){this.a=(yK(F8t),F8t),this.b=t,new Oy}function aK(t){this.c=t,this.b=this.c.a,this.a=this.c.e}function cK(t){this.c=t,this.b=t.a.d.a,hR(t.a.e,this)}function lK(t){xL(-1!=t.c),t.d.$c(t.c),t.b=t.c,t.c=-1}function uK(t){return i.Math.sqrt(t.a*t.a+t.b*t.b)}function hK(t,e){return Rq(e,t.a.c.length),DH(t.a,e)}function dK(t,e){return zI(t)===zI(e)||null!=t&&Dht(t,e)}function fK(t){return 0>=t?new GE:Git(t-1)}function gK(t){return!!xNe&&tZ(xNe,t)}function pK(t){return t?t.dc():!t.Kc().Ob()}function mK(t){return!t.a&&t.c?t.c.b:t.a}function bK(t){return!t.a&&(t.a=new MD(MMe,t,4)),t.a}function wK(t){return!t.d&&(t.d=new MD(WPe,t,1)),t.d}function yK(t){if(null==t)throw $b(new gw);return t}function vK(t){t.c?t.c.He():(t.d=!0,YNt(t))}function _K(t){t.c?_K(t.c):(Ydt(t),t.d=!0)}function kK(t){kY(t.a),t.b=D7(Mte,VKt,1,t.b.length,5,1)}function xK(t,e){return _O(e.j.c.length,t.j.c.length)}function EK(t,e){t.c<0||t.b.b<t.c?lM(t.b,e):t.a._e(e)}function TK(t,e){var n;(n=t.Yg(e))>=0?t.Bh(n):rIt(t,e)}function CK(t){return t.c.i.c==t.d.i.c}function AK(t){if(4!=t.p)throw $b(new fw);return t.e}function SK(t){if(3!=t.p)throw $b(new fw);return t.e}function IK(t){if(6!=t.p)throw $b(new fw);return t.f}function MK(t){if(6!=t.p)throw $b(new fw);return t.k}function PK(t){if(3!=t.p)throw $b(new fw);return t.j}function OK(t){if(4!=t.p)throw $b(new fw);return t.j}function DK(t){return!t.b&&(t.b=new kb(new Dy)),t.b}function NK(t){return-2==t.c&&gf(t,sTt(t.g,t.b)),t.c}function LK(t,e){var n;return(n=bG("",t)).n=e,n.i=1,n}function RK(t,e){PU(jV(e.b,65),t),Iet(e.a,new Ig(t))}function BK(t,e){l8((!t.a&&(t.a=new sB(t,t)),t.a),e)}function FK(t,e){this.b=t,zW.call(this,t,e),xD(this)}function jK(t,e){this.b=t,LF.call(this,t,e),ED(this)}function $K(t,e,n,i){mE.call(this,t,e),this.d=n,this.a=i}function VK(t,e,n,i){mE.call(this,t,n),this.a=e,this.f=i}function zK(t,e){WO.call(this,Kit(wG(t),wG(e))),this.a=e}function HK(){gTt.call(this,T9t,(nx(),dDe)),GHt(this)}function UK(){gTt.call(this,K8t,(ex(),ZPe)),Izt(this)}function qK(){gE.call(this,"DELAUNAY_TRIANGULATION",0)}function WK(t){return String.fromCharCode.apply(null,t)}function GK(t,e,n){return qI(e)?bJ(t,e,n):_St(t.f,e,n)}function KK(t){return EX(),t?t.ve():(TX(),TX(),gne)}function YK(t,e,n){return Dat(),n.pg(t,jV(e.cd(),146))}function XK(t,e){return Qz(),new cwt(new nN(t),new eN(e))}function ZK(t){return hit(t,DYt),Jtt(ift(ift(5,t),t/10|0))}function QK(){QK=M,$te=new cv(Cat(z_(Vte,1),vYt,42,0,[]))}function JK(t){return!t.d&&(t.d=new $f(t.c.Cc())),t.d}function tY(t){return!t.a&&(t.a=new P_(t.c.vc())),t.a}function eY(t){return!t.b&&(t.b=new I_(t.c.ec())),t.b}function nY(t,e){for(;e-- >0;)t=t<<1|(t<0?1:0);return t}function iY(t,e){return zI(t)===zI(e)||null!=t&&Dht(t,e)}function rY(t,e){return cN(),jV(e.b,19).a<t}function oY(t,e){return cN(),jV(e.a,19).a<t}function sY(t,e){return CU(t.a,e)?t.b[jV(e,22).g]:null}function aY(t,e,n,i){t.a=lL(t.a,0,e)+""+i+QI(t.a,n)}function cY(t,e){t.u.Hc((hIt(),tIe))&&CIt(t,e),H6(t,e)}function lY(t,e){return h1(e,t.length),t.charCodeAt(e)}function uY(){fv.call(this,"There is no more element.")}function hY(t){this.d=t,this.a=this.d.b,this.b=this.d.c}function dY(t){t.b=!1,t.c=!1,t.d=!1,t.a=!1}function fY(t,e,n,i){return Rot(t,e,n,!1),Qht(t,i),t}function gY(t){return t.j.c=D7(Mte,VKt,1,0,5,1),t.a=-1,t}function pY(t){return!t.c&&(t.c=new cF(LMe,t,5,8)),t.c}function mY(t){return!t.b&&(t.b=new cF(LMe,t,4,7)),t.b}function bY(t){return!t.n&&(t.n=new tW(zMe,t,1,7)),t.n}function wY(t){return!t.c&&(t.c=new tW(UMe,t,9,9)),t.c}function yY(t){return t.e==A9t&&mf(t,xmt(t.g,t.b)),t.e}function vY(t){return t.f==A9t&&bf(t,m_t(t.g,t.b)),t.f}function _Y(t){var e;return!(e=t.b)&&(t.b=e=new Yh(t)),e}function kY(t){var e;for(e=t.Kc();e.Ob();)e.Pb(),e.Qb()}function xY(t){if(Uft(t.d),t.d.d!=t.c)throw $b(new mw)}function EY(t,e){this.b=t,this.c=e,this.a=new KE(this.b)}function TY(t,e,n){this.a=WYt,this.d=t,this.b=e,this.c=n}function CY(t,e){this.d=(yK(t),t),this.a=16449,this.c=e}function AY(t,e){Zdt(t,zv(Rnt(e,"x")),zv(Rnt(e,"y")))}function SY(t,e){Zdt(t,zv(Rnt(e,"x")),zv(Rnt(e,"y")))}function IY(t,e){return Ydt(t),new LH(t,new K8(e,t.a))}function MY(t,e){return Ydt(t),new LH(t,new x6(e,t.a))}function PY(t,e){return Ydt(t),new IR(t,new _6(e,t.a))}function OY(t,e){return Ydt(t),new MR(t,new k6(e,t.a))}function DY(t,e){return new pZ(jV(wG(t),62),jV(wG(e),62))}function NY(t,e){return vT(),Cdt((yK(t),t),(yK(e),e))}function LY(){return dT(),Cat(z_(Toe,1),PYt,481,0,[noe])}function RY(){return CT(),Cat(z_(Yxe,1),PYt,482,0,[qxe])}function BY(){return AT(),Cat(z_(Jxe,1),PYt,551,0,[Kxe])}function FY(){return ST(),Cat(z_(GEe,1),PYt,530,0,[zEe])}function jY(t){this.a=new Ob,this.e=D7(SNe,cYt,48,t,0,2)}function $Y(t,e,n,i){this.a=t,this.e=e,this.d=n,this.c=i}function VY(t,e,n,i){this.a=t,this.c=e,this.b=n,this.d=i}function zY(t,e,n,i){this.c=t,this.b=e,this.a=n,this.d=i}function HY(t,e,n,i){this.c=t,this.b=e,this.d=n,this.a=i}function UY(t,e,n,i){this.c=t,this.d=e,this.b=n,this.a=i}function qY(t,e,n,i){this.a=t,this.d=e,this.c=n,this.b=i}function WY(t,e,n,i){gE.call(this,t,e),this.a=n,this.b=i}function GY(t,e,n,i){this.a=t,this.c=e,this.d=n,this.b=i}function KY(t,e,n){kzt(t.a,n),Jst(n),MPt(t.b,n),iHt(e,n)}function YY(t,e,n){var i;return i=PWt(t),e.Kh(n,i)}function XY(t,e){var n,i;return(n=t/e)>(i=CQ(n))&&++i,i}function ZY(t){var e;return rnt(e=new Rb,t),e}function QY(t){var e;return LTt(e=new Rb,t),e}function JY(t,e){return Bot(e,LG(t.f,e)),null}function tX(t){return Xit(t)||null}function eX(t){return!t.b&&(t.b=new tW(RMe,t,12,3)),t.b}function nX(t){return null!=t&&DE(yPe,t.toLowerCase())}function iX(t,e){return Cdt(eU(t)*tU(t),eU(e)*tU(e))}function rX(t,e){return Cdt(eU(t)*tU(t),eU(e)*tU(e))}function oX(t,e){return Cdt(t.d.c+t.d.b/2,e.d.c+e.d.b/2)}function sX(t,e){return Cdt(t.g.c+t.g.b/2,e.g.c+e.g.b/2)}function aX(t,e,n){n.a?Ant(t,e.b-t.f/2):Cnt(t,e.a-t.g/2)}function cX(t,e,n,i){this.a=t,this.b=e,this.c=n,this.d=i}function lX(t,e,n,i){this.a=t,this.b=e,this.c=n,this.d=i}function uX(t,e,n,i){this.e=t,this.a=e,this.c=n,this.d=i}function hX(t,e,n,i){this.a=t,this.c=e,this.d=n,this.b=i}function dX(t,e,n,i){lO(),t6.call(this,e,n,i),this.a=t}function fX(t,e,n,i){lO(),t6.call(this,e,n,i),this.a=t}function gX(t,e){this.a=t,SR.call(this,t,jV(t.d,15).Zc(e))}function pX(t){this.f=t,this.c=this.f.e,t.f>0&&skt(this)}function mX(t,e,n,i){this.b=t,this.c=i,mM.call(this,e,n)}function bX(t){return TL(t.b<t.d.gc()),t.d.Xb(t.c=t.b++)}function wX(t){t.a.a=t.c,t.c.b=t.a,t.a.b=t.c.a=null,t.b=0}function yX(t,e){return t.b=e.b,t.c=e.c,t.d=e.d,t.a=e.a,t}function vX(t){return t.n&&(t.e!==jYt&&t._d(),t.j=null),t}function _X(t){return Xz(null==t||NW(t)&&!(t.im===I)),t}function kX(t){this.b=new Ob,pat(this.b,this.b),this.a=t}function xX(){xX=M,Eoe=new Ob,xoe=new Db,koe=new Ob}function EX(){EX=M,cne=new C,lne=new S,une=new T}function TX(){TX=M,dne=new B,fne=new B,gne=new F}function CX(){CX=M,cie=new pt,uie=new LU,lie=new mt}function AX(){256==rie&&(eie=nie,nie=new r,rie=0),++rie}function SX(t){return t.f||(t.f=new pE(t,t.c))}function IX(t){return YIt(t)&&Vv(kR(QPt(t,(VGt(),fme))))}function MX(t,e){return ZIt(t,jV(wTt(e,(VGt(),Wme)),19),e)}function PX(t,e){return xht(t.j,e.s,e.c)+xht(e.e,t.s,t.c)}function OX(t,e){t.e&&!t.e.a&&(Fb(t.e,e),OX(t.e,e))}function DX(t,e){t.d&&!t.d.a&&(Fb(t.d,e),DX(t.d,e))}function NX(t,e){return-Cdt(eU(t)*tU(t),eU(e)*tU(e))}function LX(t){return jV(t.cd(),146).tg()+":"+$ft(t.dd())}function RX(t){var e;zj(),(e=jV(t.g,10)).n.a=t.d.c+e.d.b}function BX(t,e,n){return xT(),Nft(jV(LG(t.e,e),522),n)}function FX(t,e){return tlt(t),tlt(e),Tv(jV(t,22),jV(e,22))}function jX(t,e,n){t.i=0,t.e=0,e!=n&&Wct(t,e,n)}function $X(t,e,n){t.i=0,t.e=0,e!=n&&Gct(t,e,n)}function VX(t,e,n){net(t,e,new xd(qF(n)))}function zX(t,e,n,i,r,o){v8.call(this,t,e,n,i,r,o?-2:-1)}function HX(t,e,n,i){PI.call(this,e,n),this.b=t,this.a=i}function UX(t,e){new YE,this.a=new yy,this.b=t,this.c=e}function qX(t,e){return jV(wTt(t,(lKt(),ide)),15).Fc(e),e}function WX(t,e){if(null==t)throw $b(new $v(e));return t}function GX(t){return!t.q&&(t.q=new tW(GPe,t,11,10)),t.q}function KX(t){return!t.s&&(t.s=new tW(BPe,t,21,17)),t.s}function YX(t){return!t.a&&(t.a=new tW(HMe,t,10,11)),t.a}function XX(t){return iD(t,14)?new MH(jV(t,14)):VV(t.Kc())}function ZX(t){return new VD(t,t.e.Hd().gc()*t.c.Hd().gc())}function QX(t){return new zD(t,t.e.Hd().gc()*t.c.Hd().gc())}function JX(t){return t&&t.hashCode?t.hashCode():TN(t)}function tZ(t,e){return null==e?!!IZ(t.f,null):xU(t.g,e)}function eZ(t){return wG(t),eyt(new sq(ZD(t.a.Kc(),new u)))}function nZ(t){return EX(),iD(t,54)?new M_(t):new hN(t)}function iZ(t,e,n){return!!t.f&&t.f.Ne(e,n)}function rZ(t,e){return t.a=lL(t.a,0,e)+""+QI(t.a,e+1),t}function oZ(t,e){var n;return(n=tD(t.a,e))&&(e.d=null),n}function sZ(t){var e,n;e=0|(n=t).$modCount,n.$modCount=e+1}function aZ(t){this.b=t,this.c=t,t.e=null,t.c=null,this.a=1}function cZ(t){this.b=t,this.a=new fx(jV(wG(new te),62))}function lZ(t){this.c=t,this.b=new fx(jV(wG(new bt),62))}function uZ(t){this.c=t,this.b=new fx(jV(wG(new Se),62))}function hZ(){this.a=new Kw,this.b=new cy,this.d=new Le}function dZ(){this.a=new yy,this.b=(hit(3,MYt),new X6(3))}function fZ(){this.b=new Lw,this.d=new YE,this.e=new sy}function gZ(t){this.c=t.c,this.d=t.d,this.b=t.b,this.a=t.a}function pZ(t,e){Hy.call(this,new Wq(t)),this.a=t,this.b=e}function mZ(){nCt(this,new Nh),this.wb=(KG(),QPe),ex()}function bZ(t){IEt(t,"No crossing minimization",1),VCt(t)}function wZ(t){N_(),i.setTimeout((function(){throw t}),0)}function yZ(t){return t.u||(T4(t),t.u=new oB(t,t)),t.u}function vZ(t){return jV(yst(t,16),26)||t.zh()}function _Z(t,e){return iD(e,146)&&bF(t.b,jV(e,146).tg())}function kZ(t,e){return t.a?e.Wg().Kc():jV(e.Wg(),69).Zh()}function xZ(t){return t.k==(sCt(),Cae)&&PL(t,(lKt(),Hhe))}function EZ(t){this.a=(EX(),iD(t,54)?new M_(t):new hN(t))}function TZ(){var t,e;TZ=M,e=!Lpt(),t=new p,eee=e?new x:t}function CZ(t,e){var n;return n=Qk(t.gm),null==e?n:n+": "+e}function AZ(t,e){var n;return v5(n=t.b.Qc(e),t.b.gc()),n}function SZ(t,e){if(null==t)throw $b(new $v(e));return t}function IZ(t,e){return lut(t,e,pJ(t,null==e?0:t.b.se(e)))}function MZ(t,e,n){return n>=0&&bF(t.substr(n,e.length),e)}function PZ(t,e,n,i,r,o,s){return new h5(t.e,e,n,i,r,o,s)}function OZ(t,e,n,i,r,o){this.a=t,vit.call(this,e,n,i,r,o)}function DZ(t,e,n,i,r,o){this.a=t,vit.call(this,e,n,i,r,o)}function NZ(t,e){this.g=t,this.d=Cat(z_(Sae,1),o1t,10,0,[e])}function LZ(t,e){this.e=t,this.a=Mte,this.b=MBt(e),this.c=e}function RZ(t,e){OB.call(this),Net(this),this.a=t,this.c=e}function BZ(t,e,n,i){MG(t.c[e.g],n.g,i),MG(t.c[n.g],e.g,i)}function FZ(t,e,n,i){MG(t.c[e.g],e.g,n),MG(t.b[e.g],e.g,i)}function jZ(){return I6(),Cat(z_(iye,1),PYt,376,0,[Zwe,Xwe])}function $Z(){return g9(),Cat(z_(Zue,1),PYt,479,0,[zue,Vue])}function VZ(){return Btt(),Cat(z_(Pue,1),PYt,419,0,[Eue,Tue])}function zZ(){return G7(),Cat(z_(uue,1),PYt,422,0,[iue,rue])}function HZ(){return H2(),Cat(z_(zde,1),PYt,420,0,[Ihe,Mhe])}function UZ(){return U9(),Cat(z_(Hwe,1),PYt,421,0,[Rwe,Bwe])}function qZ(){return K5(),Cat(z_(Gye,1),PYt,523,0,[$ye,jye])}function WZ(){return S6(),Cat(z_(Dve,1),PYt,520,0,[xve,kve])}function GZ(){return gQ(),Cat(z_(rve,1),PYt,516,0,[Jye,Qye])}function KZ(){return sJ(),Cat(z_(Eve,1),PYt,515,0,[nve,ive])}function YZ(){return fQ(),Cat(z_(jve,1),PYt,455,0,[Pve,Ove])}function XZ(){return j0(),Cat(z_(X_e,1),PYt,425,0,[$_e,j_e])}function ZZ(){return aJ(),Cat(z_(V_e,1),PYt,480,0,[L_e,R_e])}function QZ(){return Crt(),Cat(z_(eke,1),PYt,495,0,[K_e,Y_e])}function JZ(){return N8(),Cat(z_(uke,1),PYt,426,0,[ike,rke])}function tQ(){return Oat(),Cat(z_(YEe,1),PYt,429,0,[WEe,qEe])}function eQ(){return M6(),Cat(z_(sEe,1),PYt,430,0,[Qxe,Zxe])}function nQ(){return lbt(),Cat(z_(wie,1),PYt,428,0,[fie,die])}function iQ(){return Ltt(),Cat(z_(Rie,1),PYt,427,0,[mie,bie])}function rQ(){return Rtt(),Cat(z_(Mse,1),PYt,424,0,[Noe,Loe])}function oQ(){return Trt(),Cat(z_(Wae,1),PYt,511,0,[Vae,$ae])}function sQ(t,e,n,i){return n>=0?t.jh(e,n,i):t.Sg(null,n,i)}function aQ(t){return 0==t.b.b?t.a.$e():fz(t.b)}function cQ(t){if(5!=t.p)throw $b(new fw);return fU(t.f)}function lQ(t){if(5!=t.p)throw $b(new fw);return fU(t.k)}function uQ(t){return zI(t.a)===zI((fot(),COe))&&RHt(t),t.a}function hQ(t){this.a=jV(wG(t),271),this.b=(EX(),new fN(t))}function dQ(t,e){Xd(this,new DS(t.a,t.b)),Zd(this,HV(e))}function fQ(){fQ=M,Pve=new sS(rQt,0),Ove=new sS(oQt,1)}function gQ(){gQ=M,Jye=new iS(oQt,0),Qye=new iS(rQt,1)}function pQ(){rv.call(this,new qE(tet(12))),rN(!0),this.a=2}function mQ(t,e,n){fKt(),Ib.call(this,t),this.b=e,this.a=n}function bQ(t,e,n){lO(),vb.call(this,e),this.a=t,this.b=n}function wQ(t){OB.call(this),Net(this),this.a=t,this.c=!0}function yQ(t){var e;e=t.c.d.b,t.b=e,t.a=t.c.d,e.a=t.c.d.b=t}function vQ(t){mit(t.a),LP(t.a),tgt(new Tg(t.a))}function _Q(t,e){aBt(t,!0),Iet(t.e.wf(),new Mj(t,!0,e))}function kQ(t,e){return i5(e),Xnt(t,D7(SNe,lXt,25,e,15,1),e)}function xQ(t,e){return xX(),t==XQ(CTt(e))||t==XQ(ITt(e))}function EQ(t,e){return null==e?VI(IZ(t.f,null)):cC(t.g,e)}function TQ(t){return 0==t.b?null:(TL(0!=t.b),Met(t,t.a.a))}function CQ(t){return 0|Math.max(Math.min(t,LKt),-2147483648)}function AQ(t,e){var n=Qte[t.charCodeAt(0)];return null==n?t:n}function SQ(t,e){return WX(t,"set1"),WX(e,"set2"),new _E(t,e)}function IQ(t,e){return UB(VL(Jet(t.f,e)),t.f.d)}function MQ(t,e){var n;return XUt(t,e,n=new H),n.d}function PQ(t,e,n,i){var r;r=new FB,e.a[n.g]=r,bU(t.b,i,r)}function OQ(t,e,n){var i;(i=t.Yg(e))>=0?t.sh(i,n):xDt(t,e,n)}function DQ(t,e,n){cJ(),t&&GK(sPe,t,e),t&&GK(oPe,t,n)}function NQ(t,e,n){this.i=new Ob,this.b=t,this.g=e,this.a=n}function LQ(t,e,n){this.c=new Ob,this.e=t,this.f=e,this.b=n}function RQ(t,e,n){this.a=new Ob,this.e=t,this.f=e,this.c=n}function BQ(t,e){GO(this),this.f=e,this.g=t,vX(this),this._d()}function FQ(t,e){var n;n=t.q.getHours(),t.q.setDate(e),hVt(t,n)}function jQ(t,e){var n;for(wG(e),n=t.a;n;n=n.c)e.Od(n.g,n.i)}function $Q(t){var e;return Pct(e=new hx(tet(t.length)),t),e}function VQ(t){function e(){}return e.prototype=t||{},new e}function zQ(t,e){return!!fat(t,e)&&(eit(t),!0)}function HQ(t,e){if(null==e)throw $b(new gw);return smt(t,e)}function UQ(t){if(t.qe())return null;var e=t.n;return TKt[e]}function qQ(t){return t.Db>>16!=3?null:jV(t.Cb,33)}function WQ(t){return t.Db>>16!=9?null:jV(t.Cb,33)}function GQ(t){return t.Db>>16!=6?null:jV(t.Cb,79)}function KQ(t){return t.Db>>16!=7?null:jV(t.Cb,235)}function YQ(t){return t.Db>>16!=7?null:jV(t.Cb,160)}function XQ(t){return t.Db>>16!=11?null:jV(t.Cb,33)}function ZQ(t,e){var n;return(n=t.Yg(e))>=0?t.lh(n):zIt(t,e)}function QQ(t,e){var n;return aTt(n=new PH(e),t),new JF(n)}function JQ(t){var e;return e=t.d,e=t.si(t.f),l8(t,e),e.Ob()}function tJ(t,e){return t.b+=e.b,t.c+=e.c,t.d+=e.d,t.a+=e.a,t}function eJ(t,e){return i.Math.abs(t)<i.Math.abs(e)?t:e}function nJ(t){return!t.a&&(t.a=new tW(HMe,t,10,11)),t.a.i>0}function iJ(){this.a=new lP,this.e=new Lw,this.g=0,this.i=0}function rJ(t){this.a=t,this.b=D7(Bye,cYt,1944,t.e.length,0,2)}function oJ(t,e,n){var i;i=Dct(t,e,n),t.b=new wrt(i.c.length)}function sJ(){sJ=M,nve=new nS(mQt,0),ive=new nS("UP",1)}function aJ(){aJ=M,L_e=new hS(q3t,0),R_e=new hS("FAN",1)}function cJ(){cJ=M,sPe=new Db,oPe=new Db,FI(wne,new pc)}function lJ(t){if(0!=t.p)throw $b(new fw);return XI(t.f,0)}function uJ(t){if(0!=t.p)throw $b(new fw);return XI(t.k,0)}function hJ(t){return t.Db>>16!=3?null:jV(t.Cb,147)}function dJ(t){return t.Db>>16!=6?null:jV(t.Cb,235)}function fJ(t){return t.Db>>16!=17?null:jV(t.Cb,26)}function gJ(t,e){var n=t.a=t.a||[];return n[e]||(n[e]=t.le(e))}function pJ(t,e){var n;return null==(n=t.a.get(e))?new Array:n}function mJ(t,e){var n;n=t.q.getHours(),t.q.setMonth(e),hVt(t,n)}function bJ(t,e,n){return null==e?_St(t.f,null,n):sft(t.g,e,n)}function wJ(t,e,n,i,r,o){return new O9(t.e,e,t.aj(),n,i,r,o)}function yJ(t,e,n){return t.a=lL(t.a,0,e)+""+n+QI(t.a,e),t}function vJ(t,e,n){return WV(t.a,(QK(),Uwt(e,n),new mE(e,n))),t}function _J(t){return sN(t.c),t.e=t.a=t.c,t.c=t.c.c,++t.d,t.a.f}function kJ(t){return sN(t.e),t.c=t.a=t.e,t.e=t.e.e,--t.d,t.a.f}function xJ(t,e){t.d&&w9(t.d.e,t),t.d=e,t.d&&WV(t.d.e,t)}function EJ(t,e){t.c&&w9(t.c.g,t),t.c=e,t.c&&WV(t.c.g,t)}function TJ(t,e){t.c&&w9(t.c.a,t),t.c=e,t.c&&WV(t.c.a,t)}function CJ(t,e){t.i&&w9(t.i.j,t),t.i=e,t.i&&WV(t.i.j,t)}function AJ(t,e,n){this.a=e,this.c=t,this.b=(wG(n),new JF(n))}function SJ(t,e,n){this.a=e,this.c=t,this.b=(wG(n),new JF(n))}function IJ(t,e){this.a=t,this.c=jO(this.a),this.b=new gZ(e)}function MJ(t){return Ydt(t),IY(t,new mg(new Lw))}function PJ(t,e){if(t<0||t>e)throw $b(new Iv(_Zt+t+kZt+e))}function OJ(t,e){return AU(t.a,e)?_W(t,jV(e,22).g,null):null}function DJ(t){return Tut(),cN(),0!=jV(t.a,81).d.e}function NJ(){NJ=M,Wte=hut((nv(),Cat(z_(Gte,1),PYt,538,0,[Ute])))}function LJ(){LJ=M,pye=WU(new j2,(yTt(),jse),(hKt(),Vce))}function RJ(){RJ=M,mye=WU(new j2,(yTt(),jse),(hKt(),Vce))}function BJ(){BJ=M,wye=WU(new j2,(yTt(),jse),(hKt(),Vce))}function FJ(){FJ=M,Hye=fH(new j2,(yTt(),jse),(hKt(),fce))}function jJ(){jJ=M,Kye=fH(new j2,(yTt(),jse),(hKt(),fce))}function $J(){$J=M,Zye=fH(new j2,(yTt(),jse),(hKt(),fce))}function VJ(){VJ=M,sve=fH(new j2,(yTt(),jse),(hKt(),fce))}function zJ(){zJ=M,H_e=WU(new j2,(Uvt(),Fve),(LAt(),Hve))}function HJ(t,e,n,i){this.c=t,this.d=i,WJ(this,e),GJ(this,n)}function UJ(t){this.c=new YE,this.b=t.b,this.d=t.c,this.a=t.a}function qJ(t){this.a=i.Math.cos(t),this.b=i.Math.sin(t)}function WJ(t,e){t.a&&w9(t.a.k,t),t.a=e,t.a&&WV(t.a.k,t)}function GJ(t,e){t.b&&w9(t.b.f,t),t.b=e,t.b&&WV(t.b.f,t)}function KJ(t,e){eK(t,t.b,t.c),jV(t.b.b,65),e&&jV(e.b,65).b}function YJ(t,e){Udt(t,e),iD(t.Cb,88)&&MSt(T4(jV(t.Cb,88)),2)}function XJ(t,e){iD(t.Cb,88)&&MSt(T4(jV(t.Cb,88)),4),Drt(t,e)}function ZJ(t,e){iD(t.Cb,179)&&(jV(t.Cb,179).tb=null),Drt(t,e)}function QJ(t,e){return ZT(),ctt(e)?new uH(e,t):new DI(e,t)}function JJ(t,e){null!=e.c&&QG(t,new zG(e.c))}function t1(t){var e;return ex(),rnt(e=new Rb,t),e}function e1(t){var e;return ex(),rnt(e=new Rb,t),e}function n1(t,e){var n;return n=new $G(t),e.c[e.c.length]=n,n}function i1(t,e){var n;return(n=jV(hht(SX(t.a),e),14))?n.gc():0}function r1(t){return Ydt(t),TX(),TX(),yet(t,fne)}function o1(t){for(var e;;)if(e=t.Pb(),!t.Ob())return e}function s1(t,e){Uy.call(this,new qE(tet(t))),hit(e,aYt),this.a=e}function a1(t,e,n){Vht(e,n,t.gc()),this.c=t,this.a=e,this.b=n-e}function c1(t,e,n){var i;Vht(e,n,t.c.length),i=n-e,Tx(t.c,e,i)}function l1(t,e){cD(t,fU(t0(yq(e,24),cZt)),fU(t0(e,cZt)))}function u1(t,e){if(t<0||t>=e)throw $b(new Iv(_Zt+t+kZt+e))}function h1(t,e){if(t<0||t>=e)throw $b(new S_(_Zt+t+kZt+e))}function d1(t,e){this.b=(yK(t),t),this.a=e&FXt?e:64|e|lYt}function f1(t){NP(this),Tw(this.a,vct(i.Math.max(8,t))<<1)}function g1(t){return Mct(Cat(z_(TTe,1),cYt,8,0,[t.i.n,t.n,t.a]))}function p1(){return zlt(),Cat(z_(Qne,1),PYt,132,0,[Hne,Une,qne])}function m1(){return Let(),Cat(z_(Gie,1),PYt,232,0,[zie,Hie,Uie])}function b1(){return X8(),Cat(z_(tre,1),PYt,461,0,[Yie,Kie,Xie])}function w1(){return z9(),Cat(z_(Sre,1),PYt,462,0,[ire,nre,ere])}function y1(){return $ht(),Cat(z_(bae,1),PYt,423,0,[dae,hae,uae])}function v1(){return V9(),Cat(z_($se,1),PYt,379,0,[Sse,Ase,Ise])}function _1(){return Eut(),Cat(z_(dwe,1),PYt,378,0,[iwe,rwe,owe])}function k1(){return Iit(),Cat(z_(pue,1),PYt,314,0,[cue,aue,lue])}function x1(){return sit(),Cat(z_(kue,1),PYt,337,0,[due,gue,fue])}function E1(){return Zat(),Cat(z_(jue,1),PYt,450,0,[Iue,Sue,Mue])}function T1(){return Art(),Cat(z_(Wle,1),PYt,361,0,[Lle,Nle,Dle])}function C1(){return H9(),Cat(z_(Phe,1),PYt,303,0,[The,Che,Ehe])}function A1(){return Bst(),Cat(z_(Ahe,1),PYt,292,0,[vhe,_he,yhe])}function S1(){return oit(),Cat(z_(Kwe,1),PYt,452,0,[zwe,$we,Vwe])}function I1(){return wct(),Cat(z_(Fwe,1),PYt,339,0,[Owe,Pwe,Dwe])}function M1(){return Vot(),Cat(z_(Qwe,1),PYt,375,0,[qwe,Wwe,Gwe])}function P1(){return Pat(),Cat(z_(Eye,1),PYt,377,0,[hye,dye,uye])}function O1(){return qlt(),Cat(z_(cye,1),PYt,336,0,[tye,eye,nye])}function D1(){return got(),Cat(z_(fye,1),PYt,338,0,[aye,oye,sye])}function N1(){return ait(),Cat(z_(Dye,1),PYt,454,0,[Sye,Iye,Mye])}function L1(){return Aft(),Cat(z_(oke,1),PYt,442,0,[tke,Q_e,J_e])}function R1(){return Vlt(),Cat(z_(zke,1),PYt,380,0,[ake,cke,lke])}function B1(){return Tft(),Cat(z_(Oxe,1),PYt,381,0,[Zke,Qke,Xke])}function F1(){return $ot(),Cat(z_(Yke,1),PYt,293,0,[qke,Wke,Uke])}function j1(){return Cft(),Cat(z_(Wxe,1),PYt,437,0,[$xe,Vxe,zxe])}function $1(){return sht(),Cat(z_(ESe,1),PYt,334,0,[mSe,pSe,bSe])}function V1(){return Ret(),Cat(z_(QAe,1),PYt,272,0,[HAe,UAe,qAe])}function z1(t,e){return vOt(t,e,iD(e,99)&&!!(jV(e,18).Bb&$Xt))}function H1(t,e,n){var i;return(i=rzt(t,e,!1)).b<=e&&i.a<=n}function U1(t,e,n){var i;(i=new ss).b=e,i.a=n,++e.b,WV(t.d,i)}function q1(t,e){var n;return kL(!!(n=(yK(t),t).g)),yK(e),n(e)}function W1(t,e){var n,i;return i=pW(t,e),n=t.a.Zc(i),new yE(t,n)}function G1(t){return t.Db>>16!=6?null:jV(rPt(t),235)}function K1(t){if(2!=t.p)throw $b(new fw);return fU(t.f)&YYt}function Y1(t){if(2!=t.p)throw $b(new fw);return fU(t.k)&YYt}function X1(t){return t.a==(L4(),JOe)&&ff(t,eDt(t.g,t.b)),t.a}function Z1(t){return t.d==(L4(),JOe)&&pf(t,DFt(t.g,t.b)),t.d}function Q1(t){return TL(t.a<t.c.c.length),t.b=t.a++,t.c.c[t.b]}function J1(t,e){t.b=t.b|e.b,t.c=t.c|e.c,t.d=t.d|e.d,t.a=t.a|e.a}function t0(t,e){return sst(Eq(XM(t)?Cst(t):t,XM(e)?Cst(e):e))}function e0(t,e){return sst(Tq(XM(t)?Cst(t):t,XM(e)?Cst(e):e))}function n0(t,e){return sst(Cq(XM(t)?Cst(t):t,XM(e)?Cst(e):e))}function i0(t){return ift(wq(ust(VOt(t,32)),32),ust(VOt(t,32)))}function r0(t){return wG(t),iD(t,14)?new JF(jV(t,14)):$V(t.Kc())}function o0(t,e){return Ntt(),t.c==e.c?Cdt(e.d,t.d):Cdt(t.c,e.c)}function s0(t,e){return Ntt(),t.c==e.c?Cdt(t.d,e.d):Cdt(t.c,e.c)}function a0(t,e){return Ntt(),t.c==e.c?Cdt(t.d,e.d):Cdt(e.c,t.c)}function c0(t,e){return Ntt(),t.c==e.c?Cdt(e.d,t.d):Cdt(e.c,t.c)}function l0(t,e){var n;n=zv(xR(t.a.We((cKt(),SAe)))),KWt(t,e,n)}function u0(t,e){var n;n=jV(LG(t.g,e),57),Iet(e.d,new sA(t,n))}function h0(t,e){var n,i;return(n=avt(t))<(i=avt(e))?-1:n>i?1:0}function d0(t,e){var n;return n=E9(e),jV(LG(t.c,n),19).a}function f0(t,e){var n;for(n=t+"";n.length<e;)n="0"+n;return n}function g0(t){return null==t.c||0==t.c.length?"n_"+t.g:"n_"+t.c}function p0(t){return null==t.c||0==t.c.length?"n_"+t.b:"n_"+t.c}function m0(t,e){return t&&t.equals?t.equals(e):zI(t)===zI(e)}function b0(t,e){return 0==e?!!t.o&&0!=t.o.f:bbt(t,e)}function w0(t,e,n){var i;t.n&&e&&n&&(i=new tc,WV(t.e,i))}function y0(t,e,n){var i;i=t.d[e.p],t.d[e.p]=t.d[n.p],t.d[n.p]=i}function v0(t,e,n){this.d=t,this.j=e,this.e=n,this.o=-1,this.p=3}function _0(t,e,n){this.d=t,this.k=e,this.f=n,this.o=-1,this.p=5}function k0(t,e,n){Ib.call(this,25),this.b=t,this.a=e,this.c=n}function x0(t){fKt(),Ib.call(this,t),this.c=!1,this.a=!1}function E0(t,e,n,i,r,o){Vnt.call(this,t,e,n,i,r),o&&(this.o=-2)}function T0(t,e,n,i,r,o){znt.call(this,t,e,n,i,r),o&&(this.o=-2)}function C0(t,e,n,i,r,o){X4.call(this,t,e,n,i,r),o&&(this.o=-2)}function A0(t,e,n,i,r,o){qnt.call(this,t,e,n,i,r),o&&(this.o=-2)}function S0(t,e,n,i,r,o){Z4.call(this,t,e,n,i,r),o&&(this.o=-2)}function I0(t,e,n,i,r,o){Hnt.call(this,t,e,n,i,r),o&&(this.o=-2)}function M0(t,e,n,i,r,o){Unt.call(this,t,e,n,i,r),o&&(this.o=-2)}function P0(t,e,n,i,r,o){Q4.call(this,t,e,n,i,r),o&&(this.o=-2)}function O0(t,e,n,i){vb.call(this,n),this.b=t,this.c=e,this.d=i}function D0(t,e){this.a=new Ob,this.d=new Ob,this.f=t,this.c=e}function N0(){this.c=new MO,this.a=new hZ,this.b=new ty,hT()}function L0(){Dat(),this.b=new Db,this.a=new Db,this.c=new Ob}function R0(t,e){this.g=t,this.d=(L4(),JOe),this.a=JOe,this.b=e}function B0(t,e){this.f=t,this.a=(L4(),QOe),this.c=QOe,this.b=e}function F0(t,e){!t.c&&(t.c=new kot(t,0)),Ezt(t.c,(qHt(),MDe),e)}function j0(){j0=M,$_e=new dS("DFS",0),j_e=new dS("BFS",1)}function $0(t,e,n){var i;return!!(i=jV(t.Zb().xc(e),14))&&i.Hc(n)}function V0(t,e,n){var i;return!!(i=jV(t.Zb().xc(e),14))&&i.Mc(n)}function z0(t,e,n,i){return t.a+=""+lL(null==e?UKt:$ft(e),n,i),t}function H0(t,e,n,i,r,o){return Rot(t,e,n,o),Zht(t,i),tdt(t,r),t}function U0(t){return TL(t.b.b!=t.d.a),t.c=t.b=t.b.b,--t.a,t.c.c}function q0(t){for(;t.d>0&&0==t.a[--t.d];);0==t.a[t.d++]&&(t.e=0)}function W0(t){return t.a?0==t.e.length?t.a.a:t.a.a+""+t.e:t.c}function G0(t){return!(!t.a||0==$9(t.a.a).i||t.b&&Bwt(t.b))}function K0(t){return!(!t.u||0==r5(t.u.a).i||t.n&&Rwt(t.n))}function Y0(t){return wH(t.e.Hd().gc()*t.c.Hd().gc(),16,new zh(t))}function X0(t,e){return FW(ust(t.q.getTime()),ust(e.q.getTime()))}function Z0(t){return jV(Ymt(t,D7(wae,r1t,17,t.c.length,0,1)),474)}function Q0(t){return jV(Ymt(t,D7(Sae,o1t,10,t.c.length,0,1)),193)}function J0(t){return jJ(),!(h4(t)||!h4(t)&&t.c.i.c==t.d.i.c)}function t2(t,e,n){wG(t),Nvt(new AJ(new JF(t),e,n))}function e2(t,e,n){wG(t),Lvt(new SJ(new JF(t),e,n))}function n2(t,e){var n;return n=1-e,t.a[n]=frt(t.a[n],n),frt(t,e)}function i2(t,e){var n;t.e=new Xy,bO(n=fRt(e),t.c),SRt(t,n,0)}function r2(t,e,n,i){var r;(r=new ya).a=e,r.b=n,r.c=i,Nz(t.a,r)}function o2(t,e,n,i){var r;(r=new ya).a=e,r.b=n,r.c=i,Nz(t.b,r)}function s2(t){var e,n;return n=tjt(e=new uG,t),yqt(e),n}function a2(){var t,e;return t=new Rb,WV(WOe,e=t),e}function c2(t){return t.j.c=D7(Mte,VKt,1,0,5,1),kY(t.c),gY(t.a),t}function l2(t){return xT(),iD(t.g,10)?jV(t.g,10):null}function u2(t){return!_Y(t).dc()&&(PO(t,new y),!0)}function h2(t){if(!("stack"in t))try{throw t}catch(t){}return t}function d2(t,e){if(t<0||t>=e)throw $b(new Iv(OSt(t,e)));return t}function f2(t,e,n){if(t<0||e<t||e>n)throw $b(new Iv(aAt(t,e,n)))}function g2(t,e){if(kW(t.a,e),e.d)throw $b(new fv(SZt));e.d=t}function p2(t,e){if(e.$modCount!=t.$modCount)throw $b(new mw)}function m2(t,e){return!!iD(e,42)&&Eyt(t.a,jV(e,42))}function b2(t,e){return!!iD(e,42)&&Eyt(t.a,jV(e,42))}function w2(t,e){return!!iD(e,42)&&Eyt(t.a,jV(e,42))}function y2(t,e){return t.a<=t.b&&(e.ud(t.a++),!0)}function v2(t){var e;return XM(t)?-0==(e=t)?0:e:ptt(t)}function _2(t){var e;return _K(t),e=new $,gx(t.a,new gg(e)),e}function k2(t){var e;return _K(t),e=new j,gx(t.a,new fg(e)),e}function x2(t,e){this.a=t,Ef.call(this,t),PJ(e,t.gc()),this.b=e}function E2(t){this.e=t,this.b=this.e.a.entries(),this.a=new Array}function T2(t){return wH(t.e.Hd().gc()*t.c.Hd().gc(),273,new Vh(t))}function C2(t){return new X6((hit(t,DYt),Jtt(ift(ift(5,t),t/10|0))))}function A2(t){return jV(Ymt(t,D7(zae,s1t,11,t.c.length,0,1)),1943)}function S2(t,e,n){return n.f.c.length>0?jW(t.a,e,n):jW(t.b,e,n)}function I2(t,e,n){t.d&&w9(t.d.e,t),t.d=e,t.d&&yU(t.d.e,n,t)}function M2(t,e){bGt(e,t),rz(t.d),rz(jV(wTt(t,(VGt(),Ime)),207))}function P2(t,e){mGt(e,t),iz(t.d),iz(jV(wTt(t,(VGt(),Ime)),207))}function O2(t,e){var n,i;return i=null,(n=HQ(t,e))&&(i=n.fe()),i}function D2(t,e){var n,i;return i=null,(n=ftt(t,e))&&(i=n.ie()),i}function N2(t,e){var n,i;return i=null,(n=HQ(t,e))&&(i=n.ie()),i}function L2(t,e){var n,i;return i=null,(n=HQ(t,e))&&(i=yAt(n)),i}function R2(t,e,n){var i;return i=Ypt(n),fFt(t.g,i,e),fFt(t.i,e,n),e}function B2(t,e,n){var i;i=Opt();try{return fB(t,e,n)}finally{w3(i)}}function F2(t){var e;e=t.Wg(),this.a=iD(e,69)?jV(e,69).Zh():e.Kc()}function j2(){Yy.call(this),this.j.c=D7(Mte,VKt,1,0,5,1),this.a=-1}function $2(t,e,n,i){this.d=t,this.n=e,this.g=n,this.o=i,this.p=-1}function V2(t,e,n,i){this.e=i,this.d=null,this.c=t,this.a=e,this.b=n}function z2(t,e,n){this.d=new Fp(this),this.e=t,this.i=e,this.f=n}function H2(){H2=M,Ihe=new NA(eQt,0),Mhe=new NA("TOP_LEFT",1)}function U2(){U2=M,kye=XK(ndt(1),ndt(4)),_ye=XK(ndt(1),ndt(2))}function q2(){q2=M,Xxe=hut((AT(),Cat(z_(Jxe,1),PYt,551,0,[Kxe])))}function W2(){W2=M,Gxe=hut((CT(),Cat(z_(Yxe,1),PYt,482,0,[qxe])))}function G2(){G2=M,UEe=hut((ST(),Cat(z_(GEe,1),PYt,530,0,[zEe])))}function K2(){K2=M,roe=hut((dT(),Cat(z_(Toe,1),PYt,481,0,[noe])))}function Y2(){return Lst(),Cat(z_(zre,1),PYt,406,0,[Lre,Ore,Dre,Nre])}function X2(){return Z8(),Cat(z_(Fne,1),PYt,297,0,[One,Dne,Nne,Lne])}function Z2(){return zbt(),Cat(z_(ioe,1),PYt,394,0,[Zre,Xre,Qre,Jre])}function Q2(){return Vbt(),Cat(z_(Ure,1),PYt,323,0,[jre,Fre,$re,Vre])}function J2(){return Mat(),Cat(z_(fae,1),PYt,405,0,[Zse,tae,Qse,Jse])}function t3(){return Sat(),Cat(z_(ple,1),PYt,360,0,[rle,nle,ile,ele])}function e3(t,e,n,i){return iD(n,54)?new SL(t,e,n,i):new aq(t,e,n,i)}function n3(){return Iat(),Cat(z_(Ale,1),PYt,411,0,[mle,ble,wle,yle])}function i3(t){return t.j==(vWt(),EIe)&&EN(qMt(t),sIe)}function r3(t,e){var n;EJ(n=e.a,e.c.d),xJ(n,e.d.d),Qet(n.a,t.n)}function o3(t,e){return jV(MN(Aq(jV(c6(t.k,e),15).Oc(),Kle)),113)}function s3(t,e){return jV(MN(Sq(jV(c6(t.k,e),15).Oc(),Kle)),113)}function a3(t){return new d1(tot(jV(t.a.dd(),14).gc(),t.a.cd()),16)}function c3(t){return iD(t,14)?jV(t,14).dc():!t.Kc().Ob()}function l3(t){return xT(),iD(t.g,145)?jV(t.g,145):null}function u3(t){if(t.e.g!=t.b)throw $b(new mw);return!!t.c&&t.d>0}function h3(t){return TL(t.b!=t.d.c),t.c=t.b,t.b=t.b.a,++t.a,t.c.c}function d3(t,e){yK(e),MG(t.a,t.c,e),t.c=t.c+1&t.a.length-1,fvt(t)}function f3(t,e){yK(e),t.b=t.b-1&t.a.length-1,MG(t.a,t.b,e),fvt(t)}function g3(t,e){var n;for(n=t.j.c.length;n<e;n++)WV(t.j,t.rg())}function p3(t,e,n,i){var r;return r=i[e.g][n.g],zv(xR(wTt(t.a,r)))}function m3(t,e,n,i,r){this.i=t,this.a=e,this.e=n,this.j=i,this.f=r}function b3(t,e,n,i,r){this.a=t,this.e=e,this.f=n,this.b=i,this.g=r}function w3(t){t&&Att((a_(),tee)),--ree,t&&-1!=see&&(eC(see),see=-1)}function y3(){return dwt(),Cat(z_(ywe,1),PYt,197,0,[uwe,hwe,lwe,cwe])}function v3(){return Uvt(),Cat(z_(Vve,1),PYt,393,0,[Lve,Rve,Bve,Fve])}function _3(){return Iyt(),Cat(z_(Gke,1),PYt,340,0,[Vke,jke,$ke,Fke])}function k3(){return wpt(),Cat(z_(YIe,1),PYt,374,0,[RIe,BIe,LIe,NIe])}function x3(){return Wvt(),Cat(z_(LSe,1),PYt,285,0,[xSe,vSe,_Se,kSe])}function E3(){return Eft(),Cat(z_(sSe,1),PYt,218,0,[ZAe,YAe,KAe,XAe])}function T3(){return jgt(),Cat(z_(iMe,1),PYt,311,0,[tMe,ZIe,JIe,QIe])}function C3(){return $lt(),Cat(z_(dMe,1),PYt,396,0,[oMe,sMe,rMe,aMe])}function A3(t){return cJ(),cW(sPe,t)?jV(LG(sPe,t),331).ug():null}function S3(t,e,n){return e<0?zIt(t,n):jV(n,66).Nj().Sj(t,t.yh(),e)}function I3(t,e,n){var i;return i=Ypt(n),fFt(t.d,i,e),GK(t.e,e,n),e}function M3(t,e,n){var i;return i=Ypt(n),fFt(t.j,i,e),GK(t.k,e,n),e}function P3(t){var e;return Jk(),e=new rc,t&&VDt(e,t),e}function O3(t){var e;return e=t.ri(t.i),t.i>0&&ozt(t.g,0,e,0,t.i),e}function D3(t,e){var n;return QT(),!(n=jV(LG(mPe,t),55))||n.wj(e)}function N3(t){if(1!=t.p)throw $b(new fw);return fU(t.f)<<24>>24}function L3(t){if(1!=t.p)throw $b(new fw);return fU(t.k)<<24>>24}function R3(t){if(7!=t.p)throw $b(new fw);return fU(t.k)<<16>>16}function B3(t){if(7!=t.p)throw $b(new fw);return fU(t.f)<<16>>16}function F3(t){var e;for(e=0;t.Ob();)t.Pb(),e=ift(e,1);return Jtt(e)}function j3(t,e){var n;return n=new A_,t.xd(n),n.a+="..",e.yd(n),n.a}function $3(t,e,n){var i;i=jV(LG(t.g,n),57),WV(t.a.c,new nI(e,i))}function V3(t,e,n){return kq(xR(VI(IZ(t.f,e))),xR(VI(IZ(t.f,n))))}function z3(t,e,n){return q$t(t,e,n,iD(e,99)&&!!(jV(e,18).Bb&$Xt))}function H3(t,e,n){return mVt(t,e,n,iD(e,99)&&!!(jV(e,18).Bb&$Xt))}function U3(t,e,n){return NOt(t,e,n,iD(e,99)&&!!(jV(e,18).Bb&$Xt))}function q3(t,e){return t==(sCt(),Cae)&&e==Cae?4:t==Cae||e==Cae?8:32}function W3(t,e){return zI(e)===zI(t)?"(this Map)":null==e?UKt:$ft(e)}function G3(t,e){return jV(null==e?VI(IZ(t.f,null)):cC(t.g,e),281)}function K3(t,e,n){var i;return i=Ypt(n),GK(t.b,i,e),GK(t.c,e,n),e}function Y3(t,e){var n;for(n=e;n;)BL(t,n.i,n.j),n=XQ(n);return t}function X3(t,e){var n;return n=nZ($V(new C9(t,e))),CH(new C9(t,e)),n}function Z3(t,e){var n;return ZT(),xCt(n=jV(t,66).Mj(),e),n.Ok(e)}function Q3(t,e,n,i,r){WV(e,wSt(r,WOt(r,n,i))),qTt(t,r,e)}function J3(t,e,n){t.i=0,t.e=0,e!=n&&(Gct(t,e,n),Wct(t,e,n))}function t5(t,e){var n;n=t.q.getHours(),t.q.setFullYear(e+cXt),hVt(t,n)}function e5(t,e,n){if(n){var i=n.ee();t.a[e]=i(n)}else delete t.a[e]}function n5(t,e,n){if(n){var i=n.ee();n=i(n)}else n=void 0;t.a[e]=n}function i5(t){if(t<0)throw $b(new jv("Negative array size: "+t))}function r5(t){return t.n||(T4(t),t.n=new YU(t,WPe,t),yZ(t)),t.n}function o5(t){return TL(t.a<t.c.a.length),t.b=t.a,Itt(t),t.c.b[t.b]}function s5(t){t.b!=t.c&&(t.a=D7(Mte,VKt,1,8,5,1),t.b=0,t.c=0)}function a5(t){this.b=new Db,this.c=new Db,this.d=new Db,this.a=t}function c5(t,e){fKt(),Ib.call(this,t),this.a=e,this.c=-1,this.b=-1}function l5(t,e,n,i){v0.call(this,1,n,i),this.c=t,this.b=e}function u5(t,e,n,i){_0.call(this,1,n,i),this.c=t,this.b=e}function h5(t,e,n,i,r,o,s){vit.call(this,e,i,r,o,s),this.c=t,this.a=n}function d5(t,e,n){this.e=t,this.a=Mte,this.b=MBt(e),this.c=e,this.d=n}function f5(t){this.e=t,this.c=this.e.a,this.b=this.e.g,this.d=this.e.i}function g5(t){this.c=t,this.a=jV(S_t(t),148),this.b=this.a.Aj().Nh()}function p5(t){this.d=t,this.b=this.d.a.entries(),this.a=this.b.next()}function m5(){Db.call(this),vL(this),this.d.b=this.d,this.d.a=this.d}function b5(t,e){MB.call(this),this.a=t,this.b=e,WV(this.a.b,this)}function w5(t,e){return eM(null!=e?EQ(t,e):VI(IZ(t.f,e)))}function y5(t,e){return eM(null!=e?EQ(t,e):VI(IZ(t.f,e)))}function v5(t,e){var n;for(n=0;n<e;++n)MG(t,n,new Uf(jV(t[n],42)))}function _5(t,e){var n;for(n=t.d-1;n>=0&&t.a[n]===e[n];n--);return n<0}function k5(t,e){var n;return Ult(),0!=(n=t.j.g-e.j.g)?n:0}function x5(t,e){return yK(e),null!=t.a?TU(e.Kb(t.a)):Ene}function E5(t){var e;return t?new PH(t):(zrt(e=new lP,t),e)}function T5(t,e){return e.b.Kb(k9(t,e.c.Ee(),new wg(e)))}function C5(t){yEt(),cD(this,fU(t0(yq(t,24),cZt)),fU(t0(t,cZt)))}function A5(){A5=M,pie=hut((lbt(),Cat(z_(wie,1),PYt,428,0,[fie,die])))}function S5(){S5=M,yie=hut((Ltt(),Cat(z_(Rie,1),PYt,427,0,[mie,bie])))}function I5(){I5=M,Boe=hut((Rtt(),Cat(z_(Mse,1),PYt,424,0,[Noe,Loe])))}function M5(){M5=M,Hae=hut((Trt(),Cat(z_(Wae,1),PYt,511,0,[Vae,$ae])))}function P5(){P5=M,Aue=hut((Btt(),Cat(z_(Pue,1),PYt,419,0,[Eue,Tue])))}function O5(){O5=M,Uue=hut((g9(),Cat(z_(Zue,1),PYt,479,0,[zue,Vue])))}function D5(){D5=M,Jwe=hut((I6(),Cat(z_(iye,1),PYt,376,0,[Zwe,Xwe])))}function N5(){N5=M,jwe=hut((U9(),Cat(z_(Hwe,1),PYt,421,0,[Rwe,Bwe])))}function L5(){L5=M,sue=hut((G7(),Cat(z_(uue,1),PYt,422,0,[iue,rue])))}function R5(){R5=M,Ohe=hut((H2(),Cat(z_(zde,1),PYt,420,0,[Ihe,Mhe])))}function B5(){B5=M,Tve=hut((S6(),Cat(z_(Dve,1),PYt,520,0,[xve,kve])))}function F5(){F5=M,zye=hut((K5(),Cat(z_(Gye,1),PYt,523,0,[$ye,jye])))}function j5(){j5=M,eve=hut((gQ(),Cat(z_(rve,1),PYt,516,0,[Jye,Qye])))}function $5(){$5=M,ove=hut((sJ(),Cat(z_(Eve,1),PYt,515,0,[nve,ive])))}function V5(){V5=M,Nve=hut((fQ(),Cat(z_(jve,1),PYt,455,0,[Pve,Ove])))}function z5(){z5=M,z_e=hut((j0(),Cat(z_(X_e,1),PYt,425,0,[$_e,j_e])))}function H5(){H5=M,Z_e=hut((Crt(),Cat(z_(eke,1),PYt,495,0,[K_e,Y_e])))}function U5(){U5=M,F_e=hut((aJ(),Cat(z_(V_e,1),PYt,480,0,[L_e,R_e])))}function q5(){q5=M,ske=hut((N8(),Cat(z_(uke,1),PYt,426,0,[ike,rke])))}function W5(){W5=M,KEe=hut((Oat(),Cat(z_(YEe,1),PYt,429,0,[WEe,qEe])))}function G5(){G5=M,tEe=hut((M6(),Cat(z_(sEe,1),PYt,430,0,[Qxe,Zxe])))}function K5(){K5=M,$ye=new XA("UPPER",0),jye=new XA("LOWER",1)}function Y5(t,e){var n;VX(n=new pv,"x",e.a),VX(n,"y",e.b),QG(t,n)}function X5(t,e){var n;VX(n=new pv,"x",e.a),VX(n,"y",e.b),QG(t,n)}function Z5(t,e){var n,i;i=!1;do{i|=n=dct(t,e)}while(n);return i}function Q5(t,e){var n,i;for(n=e,i=0;n>0;)i+=t.a[n],n-=n&-n;return i}function J5(t,e){var n;for(n=e;n;)BL(t,-n.i,-n.j),n=XQ(n);return t}function t4(t,e){var n,i;for(yK(e),i=t.Kc();i.Ob();)n=i.Pb(),e.td(n)}function e4(t,e){var n;return new mE(n=e.cd(),t.e.pc(n,jV(e.dd(),14)))}function n4(t,e,n,i){var r;(r=new O).c=e,r.b=n,r.a=i,i.b=n.a=r,++t.b}function i4(t,e,n){var i;return u1(e,t.c.length),i=t.c[e],t.c[e]=n,i}function r4(t,e,n){return jV(null==e?_St(t.f,null,n):sft(t.g,e,n),281)}function o4(t){return t.c&&t.d?p0(t.c)+"->"+p0(t.d):"e_"+TN(t)}function s4(t,e){return(Ydt(t),vx(new LH(t,new K8(e,t.a)))).sd(Jne)}function a4(){return yTt(),Cat(z_(Use,1),PYt,356,0,[Lse,Rse,Bse,Fse,jse])}function c4(){return vWt(),Cat(z_(FIe,1),XJt,61,0,[TIe,aIe,sIe,EIe,CIe])}function l4(t){return N_(),function(){return B2(t,this,arguments)}}function u4(){return Date.now?Date.now():(new Date).getTime()}function h4(t){return!(!t.c||!t.d||!t.c.i||t.c.i!=t.d.i)}function d4(t){if(!t.c.Sb())throw $b(new ww);return t.a=!0,t.c.Ub()}function f4(t){t.i=0,wC(t.b,null),wC(t.c,null),t.a=null,t.e=null,++t.g}function g4(t){fC.call(this,null==t?UKt:$ft(t),iD(t,78)?jV(t,78):null)}function p4(t){eKt(),jb(this),this.a=new YE,glt(this,t),Nz(this.a,t)}function m4(){DP(this),this.b=new DS(RXt,RXt),this.a=new DS(BXt,BXt)}function b4(t,e){this.c=0,this.b=e,pM.call(this,t,17493),this.a=this.c}function w4(t){y4(),Kne||(this.c=t,this.e=!0,this.a=new Ob)}function y4(){y4=M,Kne=!0,Wne=!1,Gne=!1,Xne=!1,Yne=!1}function v4(t,e){return!!iD(e,149)&&bF(t.c,jV(e,149).c)}function _4(t,e){var n;return n=0,t&&(n+=t.f.a/2),e&&(n+=e.f.a/2),n}function k4(t,e){return jV(utt(t.d,e),23)||jV(utt(t.e,e),23)}function x4(t){this.b=t,ID.call(this,t),this.a=jV(yst(this.b.a,4),126)}function E4(t){this.b=t,rL.call(this,t),this.a=jV(yst(this.b.a,4),126)}function T4(t){return t.t||(t.t=new fb(t),cdt(new Dv(t),0,t.t)),t.t}function C4(){return jht(),Cat(z_(WAe,1),PYt,103,0,[jAe,FAe,BAe,RAe,$Ae])}function A4(){return rbt(),Cat(z_(XSe,1),PYt,249,0,[jSe,VSe,BSe,FSe,$Se])}function S4(){return ibt(),Cat(z_(vTe,1),PYt,175,0,[cTe,aTe,oTe,lTe,sTe])}function I4(){return PCt(),Cat(z_(HEe,1),PYt,316,0,[eEe,nEe,oEe,iEe,rEe])}function M4(){return Dwt(),Cat(z_(Iwe,1),PYt,315,0,[wwe,pwe,mwe,gwe,bwe])}function P4(){return Kwt(),Cat(z_(Cue,1),PYt,335,0,[wue,bue,vue,_ue,yue])}function O4(){return XDt(),Cat(z_(Hxe,1),PYt,355,0,[Nxe,Dxe,Rxe,Lxe,Bxe])}function D4(){return Oxt(),Cat(z_(Rle,1),PYt,363,0,[xle,Tle,Cle,Ele,kle])}function N4(){return xft(),Cat(z_(ewe,1),PYt,163,0,[Vde,Bde,Fde,jde,$de])}function L4(){var t,e;L4=M,ex(),e=new _w,QOe=e,t=new Sy,JOe=t}function R4(t){var e;return t.c||iD(e=t.r,88)&&(t.c=jV(e,26)),t.c}function B4(t){return t.e=3,t.d=t.Yb(),2!=t.e&&(t.e=0,!0)}function F4(t){return xO(t&TXt,t>>22&TXt,t<0?CXt:0)}function j4(t){var e,n,i;for(n=0,i=(e=t).length;n<i;++n)vK(e[n])}function $4(t,e){var n,i;(n=jV(dht(t.c,e),14))&&(i=n.gc(),n.$b(),t.d-=i)}function V4(t,e){var n;return!!(n=hlt(t,e.cd()))&&iY(n.e,e.dd())}function z4(t,e){return 0==e||0==t.e?t:e>0?kpt(t,e):SLt(t,-e)}function H4(t,e){return 0==e||0==t.e?t:e>0?SLt(t,e):kpt(t,-e)}function U4(t){if(gPt(t))return t.c=t.a,t.a.Pb();throw $b(new ww)}function q4(t){var e,n;return e=t.c.i,n=t.d.i,e.k==(sCt(),xae)&&n.k==xae}function W4(t){var e;return zst(e=new dZ,t),lct(e,(VGt(),mme),null),e}function G4(t,e,n){var i;return(i=t.Yg(e))>=0?t._g(i,n,!0):rMt(t,e,n)}function K4(t,e,n,i){var r;for(r=0;r<Zie;r++)qU(t.a[e.g][r],n,i[e.g])}function Y4(t,e,n,i){var r;for(r=0;r<Qie;r++)UU(t.a[r][e.g],n,i[e.g])}function X4(t,e,n,i,r){v0.call(this,e,i,r),this.c=t,this.a=n}function Z4(t,e,n,i,r){_0.call(this,e,i,r),this.c=t,this.a=n}function Q4(t,e,n,i,r){e6.call(this,e,i,r),this.c=t,this.a=n}function J4(t,e,n,i,r){e6.call(this,e,i,r),this.c=t,this.b=n}function t6(t,e,n){vb.call(this,n),this.b=t,this.c=e,this.d=($gt(),zOe)}function e6(t,e,n){this.d=t,this.k=e?1:0,this.f=n?1:0,this.o=-1,this.p=0}function n6(t,e,n){var i;xot(i=new qO(t.a),t.a.a),_St(i.f,e,n),t.a.a=i}function i6(t,e){t.qi(t.i+1),vD(t,t.i,t.oi(t.i,e)),t.bi(t.i++,e),t.ci()}function r6(t){var e,n;++t.j,e=t.g,n=t.i,t.g=null,t.i=0,t.di(n,e),t.ci()}function o6(t){var e;return wG(t),Pct(e=new X6(ZK(t.length)),t),e}function s6(t){var e;return wG(t),ZAt(e=t?new JF(t):$V(t.Kc())),cht(e)}function a6(t,e){var n;return u1(e,t.c.length),n=t.c[e],Tx(t.c,e,1),n}function c6(t,e){var n;return!(n=jV(t.c.xc(e),14))&&(n=t.ic(e)),t.pc(e,n)}function l6(t,e){var n,i;return yK(t),n=t,yK(e),n==(i=e)?0:n<i?-1:1}function u6(t){var e;return e=t.e+t.f,isNaN(e)&&WF(t.d)?t.d:e}function h6(t,e){return t.a?sM(t.a,t.b):t.a=new uN(t.d),rM(t.a,e),t}function d6(t,e){if(t<0||t>e)throw $b(new Iv(gSt(t,e,"index")));return t}function f6(t,e,n,i){var r;return bEt(r=D7(SNe,lXt,25,e,15,1),t,e,n,i),r}function g6(t,e){var n;n=t.q.getHours()+(e/60|0),t.q.setMinutes(e),hVt(t,n)}function p6(t,e){return i.Math.min(W7(e.a,t.d.d.c),W7(e.b,t.d.d.c))}function m6(t,e){return qI(e)?null==e?pPt(t.f,null):Hst(t.g,e):pPt(t.f,e)}function b6(t){this.c=t,this.a=new Wf(this.c.a),this.b=new Wf(this.c.b)}function w6(){this.e=new Ob,this.c=new Ob,this.d=new Ob,this.b=new Ob}function y6(){this.g=new jw,this.b=new jw,this.a=new Ob,this.k=new Ob}function v6(t,e,n){this.a=t,this.c=e,this.d=n,WV(e.e,this),WV(n.b,this)}function _6(t,e){gM.call(this,e.rd(),-6&e.qd()),yK(t),this.a=t,this.b=e}function k6(t,e){pM.call(this,e.rd(),-6&e.qd()),yK(t),this.a=t,this.b=e}function x6(t,e){mM.call(this,e.rd(),-6&e.qd()),yK(t),this.a=t,this.b=e}function E6(t,e,n){this.a=t,this.b=e,this.c=n,WV(t.t,this),WV(e.i,this)}function T6(){this.b=new YE,this.a=new YE,this.b=new YE,this.a=new YE}function C6(){C6=M,kTe=new ob("org.eclipse.elk.labels.labelManager")}function A6(){A6=M,tle=new eB("separateLayerConnections",(Sat(),rle))}function S6(){S6=M,xve=new oS("REGULAR",0),kve=new oS("CRITICAL",1)}function I6(){I6=M,Zwe=new qA("STACKED",0),Xwe=new qA("SEQUENCED",1)}function M6(){M6=M,Qxe=new kS("FIXED",0),Zxe=new kS("CENTER_NODE",1)}function P6(t,e){var n;return n=NUt(t,e),t.b=new wrt(n.c.length),yHt(t,n)}function O6(t,e,n){return++t.e,--t.f,jV(t.d[e].$c(n),133).dd()}function D6(t){var e;return t.a||iD(e=t.r,148)&&(t.a=jV(e,148)),t.a}function N6(t){return t.a?t.e?N6(t.e):null:t}function L6(t,e){return t.p<e.p?1:t.p>e.p?-1:0}function R6(t,e){return yK(e),t.c<t.d&&(t.ze(e,t.c++),!0)}function B6(t,e){return!!cW(t.a,e)&&(m6(t.a,e),!0)}function F6(t){var e;return e=t.cd(),LV(jV(t.dd(),14).Nc(),new Wh(e))}function j6(t){var e;return e=jV(GW(t.b,t.b.length),9),new YF(t.a,e,t.c)}function $6(t){return Ydt(t),new IR(t,new ZV(t,t.a.e,4|t.a.d))}function V6(t){var e;for(_K(t),e=0;t.a.sd(new ut);)e=ift(e,1);return e}function z6(t,e,n){var i,r;for(i=0,r=0;r<e.length;r++)i+=t.$f(e[r],i,n)}function H6(t,e){var n;t.C&&((n=jV(sY(t.b,e),124).n).d=t.C.d,n.a=t.C.a)}function U6(t,e,n){return d2(e,t.e.Hd().gc()),d2(n,t.c.Hd().gc()),t.a[e][n]}function q6(t,e){IRt(),this.e=t,this.d=1,this.a=Cat(z_(SNe,1),lXt,25,15,[e])}function W6(t,e,n,i){this.f=t,this.e=e,this.d=n,this.b=i,this.c=i?i.d:null}function G6(t){var e,n,i,r;r=t.d,e=t.a,n=t.b,i=t.c,t.d=n,t.a=i,t.b=r,t.c=e}function K6(t,e,n,i){w$t(t,e,n,mVt(t,e,i,iD(e,99)&&!!(jV(e,18).Bb&$Xt)))}function Y6(t,e){IEt(e,"Label management",1),eM(wTt(t,(C6(),kTe))),VCt(e)}function X6(t){DP(this),mz(t>=0,"Initial capacity must not be negative")}function Z6(){Z6=M,Wie=hut((Let(),Cat(z_(Gie,1),PYt,232,0,[zie,Hie,Uie])))}function Q6(){Q6=M,Jie=hut((X8(),Cat(z_(tre,1),PYt,461,0,[Yie,Kie,Xie])))}function J6(){J6=M,ore=hut((z9(),Cat(z_(Sre,1),PYt,462,0,[ire,nre,ere])))}function t7(){t7=M,Zne=hut((zlt(),Cat(z_(Qne,1),PYt,132,0,[Hne,Une,qne])))}function e7(){e7=M,Pse=hut((V9(),Cat(z_($se,1),PYt,379,0,[Sse,Ase,Ise])))}function n7(){n7=M,gae=hut(($ht(),Cat(z_(bae,1),PYt,423,0,[dae,hae,uae])))}function i7(){i7=M,hue=hut((Iit(),Cat(z_(pue,1),PYt,314,0,[cue,aue,lue])))}function r7(){r7=M,mue=hut((sit(),Cat(z_(kue,1),PYt,337,0,[due,gue,fue])))}function o7(){o7=M,Oue=hut((Zat(),Cat(z_(jue,1),PYt,450,0,[Iue,Sue,Mue])))}function s7(){s7=M,Ble=hut((Art(),Cat(z_(Wle,1),PYt,361,0,[Lle,Nle,Dle])))}function a7(){a7=M,She=hut((H9(),Cat(z_(Phe,1),PYt,303,0,[The,Che,Ehe])))}function c7(){c7=M,xhe=hut((Bst(),Cat(z_(Ahe,1),PYt,292,0,[vhe,_he,yhe])))}function l7(){l7=M,awe=hut((Eut(),Cat(z_(dwe,1),PYt,378,0,[iwe,rwe,owe])))}function u7(){u7=M,Ywe=hut((Vot(),Cat(z_(Qwe,1),PYt,375,0,[qwe,Wwe,Gwe])))}function h7(){h7=M,Lwe=hut((wct(),Cat(z_(Fwe,1),PYt,339,0,[Owe,Pwe,Dwe])))}function d7(){d7=M,Uwe=hut((oit(),Cat(z_(Kwe,1),PYt,452,0,[zwe,$we,Vwe])))}function f7(){f7=M,gye=hut((Pat(),Cat(z_(Eye,1),PYt,377,0,[hye,dye,uye])))}function g7(){g7=M,rye=hut((qlt(),Cat(z_(cye,1),PYt,336,0,[tye,eye,nye])))}function p7(){p7=M,lye=hut((got(),Cat(z_(fye,1),PYt,338,0,[aye,oye,sye])))}function m7(){m7=M,Oye=hut((ait(),Cat(z_(Dye,1),PYt,454,0,[Sye,Iye,Mye])))}function b7(){b7=M,nke=hut((Aft(),Cat(z_(oke,1),PYt,442,0,[tke,Q_e,J_e])))}function w7(){w7=M,hke=hut((Vlt(),Cat(z_(zke,1),PYt,380,0,[ake,cke,lke])))}function y7(){y7=M,txe=hut((Tft(),Cat(z_(Oxe,1),PYt,381,0,[Zke,Qke,Xke])))}function v7(){v7=M,Kke=hut(($ot(),Cat(z_(Yke,1),PYt,293,0,[qke,Wke,Uke])))}function _7(){_7=M,Uxe=hut((Cft(),Cat(z_(Wxe,1),PYt,437,0,[$xe,Vxe,zxe])))}function k7(){k7=M,ySe=hut((sht(),Cat(z_(ESe,1),PYt,334,0,[mSe,pSe,bSe])))}function x7(){x7=M,GAe=hut((Ret(),Cat(z_(QAe,1),PYt,272,0,[HAe,UAe,qAe])))}function E7(){return Yxt(),Cat(z_(rIe,1),PYt,98,0,[YSe,KSe,GSe,USe,WSe,qSe])}function T7(t,e){return!t.o&&(t.o=new w8((AGt(),xMe),ePe,t,0)),ipt(t.o,e)}function C7(t){return!t.g&&(t.g=new lc),!t.g.d&&(t.g.d=new ub(t)),t.g.d}function A7(t){return!t.g&&(t.g=new lc),!t.g.a&&(t.g.a=new hb(t)),t.g.a}function S7(t){return!t.g&&(t.g=new lc),!t.g.b&&(t.g.b=new lb(t)),t.g.b}function I7(t){return!t.g&&(t.g=new lc),!t.g.c&&(t.g.c=new db(t)),t.g.c}function M7(t,e,n){var i,r;for(r=new Mst(e,t),i=0;i<n;++i)rwt(r);return r}function P7(t,e,n){var i,r;if(null!=n)for(i=0;i<e;++i)r=n[i],t.fi(i,r)}function O7(t,e,n,i){var r;return M$t(r=D7(SNe,lXt,25,e+1,15,1),t,e,n,i),r}function D7(t,e,n,i,r,o){var s;return s=$yt(r,i),10!=r&&Cat(z_(t,o),e,n,r,s),s}function N7(t,e,n,i){return n&&(i=n.gh(e,Mgt(n.Tg(),t.c.Lj()),null,i)),i}function L7(t,e,n,i){return n&&(i=n.ih(e,Mgt(n.Tg(),t.c.Lj()),null,i)),i}function R7(t,e,n){jV(t.b,65),jV(t.b,65),jV(t.b,65),Iet(t.a,new Oj(n,e,t))}function B7(t,e,n){if(t<0||e>n||e<t)throw $b(new S_(wZt+t+vZt+e+lZt+n))}function F7(t){if(!t)throw $b(new Fv("Unable to add element to queue"))}function j7(t){t?(this.c=t,this.b=null):(this.c=null,this.b=new Ob)}function $7(t,e){TC.call(this,t,e),this.a=D7(Rne,vYt,436,2,0,1),this.b=!0}function V7(t){Jat.call(this,t,0),vL(this),this.d.b=this.d,this.d.a=this.d}function z7(t){var e;return 0==(e=t.b).b?null:jV(Lbt(e,0),188).b}function H7(t,e){var n;return(n=new H).c=!0,n.d=e.dd(),XUt(t,e.cd(),n)}function U7(t,e){var n;n=t.q.getHours()+(e/3600|0),t.q.setSeconds(e),hVt(t,n)}function q7(t,e,n){var i;(i=t.b[n.c.p][n.p]).b+=e.b,i.c+=e.c,i.a+=e.a,++i.a}function W7(t,e){var n,r;return n=t.a-e.a,r=t.b-e.b,i.Math.sqrt(n*n+r*r)}function G7(){G7=M,iue=new _A("QUADRATIC",0),rue=new _A("SCANLINE",1)}function K7(){K7=M,bye=WU(fH(new j2,(yTt(),Lse),(hKt(),yce)),jse,Vce)}function Y7(){return fxt(),Cat(z_(VAe,1),PYt,291,0,[ZTe,XTe,YTe,GTe,WTe,KTe])}function X7(){return fwt(),Cat(z_(QTe,1),PYt,248,0,[CTe,ITe,MTe,PTe,ATe,STe])}function Z7(){return PAt(),Cat(z_(oue,1),PYt,227,0,[Zle,Jle,Xle,Qle,tue,Yle])}function Q7(){return ZTt(),Cat(z_(bhe,1),PYt,275,0,[ihe,the,rhe,nhe,ehe,Jue])}function J7(){return $kt(),Cat(z_(ohe,1),PYt,274,0,[Kue,Gue,Xue,Wue,Yue,que])}function t8(){return xEt(),Cat(z_(swe,1),PYt,313,0,[Jbe,Zbe,Ybe,Xbe,twe,Qbe])}function e8(){return pCt(),Cat(z_(Hue,1),PYt,276,0,[Nue,Due,Rue,Lue,Fue,Bue])}function n8(){return LAt(),Cat(z_(B_e,1),PYt,327,0,[Kve,Uve,Wve,qve,Gve,Hve])}function i8(){return hIt(),Cat(z_(AIe,1),PYt,273,0,[nIe,tIe,eIe,JSe,QSe,iIe])}function r8(){return JEt(),Cat(z_(wSe,1),PYt,312,0,[rSe,nSe,oSe,tSe,iSe,eSe])}function o8(){return sCt(),Cat(z_(Mae,1),PYt,267,0,[Cae,Tae,xae,Aae,Eae,kae])}function s8(t){xL(!!t.c),p2(t.e,t),t.c.Qb(),t.c=null,t.b=gat(t),hR(t.e,t)}function a8(t){return p2(t.c.a.e,t),TL(t.b!=t.c.a.d),t.a=t.b,t.b=t.b.a,t.a}function c8(t){var e;return t.a||-1==t.b||(e=t.c.Tg(),t.a=eet(e,t.b)),t.a}function l8(t,e){return!(t.hi()&&t.Hc(e)||(t.Yh(e),0))}function u8(t,e){return SZ(e,"Horizontal alignment cannot be null"),t.b=e,t}function h8(t,e,n){var i;return fKt(),i=QWt(t,e),n&&i&&gK(t)&&(i=null),i}function d8(t,e,n){var i;for(i=t.Kc();i.Ob();)QBt(jV(i.Pb(),37),e,n)}function f8(t,e){var n;for(n=e.Kc();n.Ob();)PFt(t,jV(n.Pb(),37),0,0)}function g8(t,e,n){var r;t.d[e.g]=n,(r=t.g.c)[e.g]=i.Math.max(r[e.g],n+1)}function p8(t,e){var n,i,r;return r=t.r,i=t.d,(n=rzt(t,e,!0)).b!=r||n.a!=i}function m8(t,e){return uC(t.e,e)||Zmt(t.e,e,new nbt(e)),jV(utt(t.e,e),113)}function b8(t,e,n,i){return yK(t),yK(e),yK(n),yK(i),new vW(t,e,new U)}function w8(t,e,n,i){this.rj(),this.a=e,this.b=t,this.c=new Zq(this,e,n,i)}function y8(t,e,n,i,r,o){$2.call(this,e,i,r,o),this.c=t,this.b=n}function v8(t,e,n,i,r,o){$2.call(this,e,i,r,o),this.c=t,this.a=n}function _8(t,e,n){var i,r;r=null,(i=HQ(t,n))&&(r=yAt(i)),Wmt(e,n,r)}function k8(t,e,n){var i,r;r=null,(i=HQ(t,n))&&(r=yAt(i)),Wmt(e,n,r)}function x8(t,e,n){var i;return(i=POt(t.b,e))?Dzt(F9(t,i),n):null}function E8(t,e){var n;return(n=t.Yg(e))>=0?t._g(n,!0,!0):rMt(t,e,!0)}function T8(t,e){return Cdt(zv(xR(wTt(t,(lKt(),kde)))),zv(xR(wTt(e,kde))))}function C8(){C8=M,U_e=amt(amt(FT(new j2,(Uvt(),Rve)),(LAt(),Kve)),Uve)}function A8(t,e,n){var i;return i=Dct(t,e,n),t.b=new wrt(i.c.length),cRt(t,i)}function S8(t){if(t.b<=0)throw $b(new ww);return--t.b,t.a-=t.c.c,ndt(t.a)}function I8(t){var e;if(!t.a)throw $b(new uY);return e=t.a,t.a=XQ(t.a),e}function M8(t){for(;!t.a;)if(!kF(t.c,new pg(t)))return!1;return!0}function P8(t){return wG(t),iD(t,198)?jV(t,198):new od(t)}function O8(t){D8(),jV(t.We((cKt(),lAe)),174).Fc((hIt(),eIe)),t.Ye(cAe,null)}function D8(){D8=M,JEe=new ga,eTe=new pa,tTe=blt((cKt(),cAe),JEe,VCe,eTe)}function N8(){N8=M,ike=new pS("LEAF_NUMBER",0),rke=new pS("NODE_SIZE",1)}function L8(t,e,n){t.a=e,t.c=n,t.b.a.$b(),wX(t.d),t.e.a.c=D7(Mte,VKt,1,0,5,1)}function R8(t){t.a=D7(SNe,lXt,25,t.b+1,15,1),t.c=D7(SNe,lXt,25,t.b,15,1),t.d=0}function B8(t,e){t.a.ue(e.d,t.b)>0&&(WV(t.c,new bz(e.c,e.d,t.d)),t.b=e.d)}function F8(t,e){if(null==t.g||e>=t.i)throw $b(new PM(e,t.i));return t.g[e]}function j8(t,e,n){if(Nlt(t,n),null!=n&&!t.wj(n))throw $b(new uw);return n}function $8(t){var e;if(t.Ek())for(e=t.i-1;e>=0;--e)Get(t,e);return O3(t)}function V8(t){var e,n;if(!t.b)return null;for(n=t.b;e=n.a[0];)n=e;return n}function z8(t,e){var n;return i5(e),(n=b9(t.slice(0,e),t)).length=e,n}function H8(t,e,n,i){TX(),i=i||dne,pSt(t.slice(e,n),t,e,n,-e,i)}function U8(t,e,n,i,r){return e<0?rMt(t,n,i):jV(n,66).Nj().Pj(t,t.yh(),e,i,r)}function q8(t){return iD(t,172)?""+jV(t,172).a:null==t?null:$ft(t)}function W8(t){return iD(t,172)?""+jV(t,172).a:null==t?null:$ft(t)}function G8(t,e){if(e.a)throw $b(new fv(SZt));kW(t.a,e),e.a=t,!t.j&&(t.j=e)}function K8(t,e){mM.call(this,e.rd(),-16449&e.qd()),yK(t),this.a=t,this.c=e}function Y8(t,e){var n,i;return i=e/t.c.Hd().gc()|0,n=e%t.c.Hd().gc(),U6(t,i,n)}function X8(){X8=M,Yie=new zC(rQt,0),Kie=new zC(eQt,1),Xie=new zC(oQt,2)}function Z8(){Z8=M,One=new gC("All",0),Dne=new PP,Nne=new IO,Lne=new OP}function Q8(){Q8=M,Bne=hut((Z8(),Cat(z_(Fne,1),PYt,297,0,[One,Dne,Nne,Lne])))}function J8(){J8=M,nae=hut((Mat(),Cat(z_(fae,1),PYt,405,0,[Zse,tae,Qse,Jse])))}function t9(){t9=M,Bre=hut((Lst(),Cat(z_(zre,1),PYt,406,0,[Lre,Ore,Dre,Nre])))}function e9(){e9=M,Hre=hut((Vbt(),Cat(z_(Ure,1),PYt,323,0,[jre,Fre,$re,Vre])))}function n9(){n9=M,eoe=hut((zbt(),Cat(z_(ioe,1),PYt,394,0,[Zre,Xre,Qre,Jre])))}function i9(){i9=M,$ve=hut((Uvt(),Cat(z_(Vve,1),PYt,393,0,[Lve,Rve,Bve,Fve])))}function r9(){r9=M,sle=hut((Sat(),Cat(z_(ple,1),PYt,360,0,[rle,nle,ile,ele])))}function o9(){o9=M,Hke=hut((Iyt(),Cat(z_(Gke,1),PYt,340,0,[Vke,jke,$ke,Fke])))}function s9(){s9=M,_le=hut((Iat(),Cat(z_(Ale,1),PYt,411,0,[mle,ble,wle,yle])))}function a9(){a9=M,fwe=hut((dwt(),Cat(z_(ywe,1),PYt,197,0,[uwe,hwe,lwe,cwe])))}function c9(){c9=M,lMe=hut(($lt(),Cat(z_(dMe,1),PYt,396,0,[oMe,sMe,rMe,aMe])))}function l9(){l9=M,TSe=hut((Wvt(),Cat(z_(LSe,1),PYt,285,0,[xSe,vSe,_Se,kSe])))}function u9(){u9=M,JAe=hut((Eft(),Cat(z_(sSe,1),PYt,218,0,[ZAe,YAe,KAe,XAe])))}function h9(){h9=M,nMe=hut((jgt(),Cat(z_(iMe,1),PYt,311,0,[tMe,ZIe,JIe,QIe])))}function d9(){d9=M,jIe=hut((wpt(),Cat(z_(YIe,1),PYt,374,0,[RIe,BIe,LIe,NIe])))}function f9(){f9=M,zVt(),jDe=RXt,FDe=BXt,VDe=new Of(RXt),$De=new Of(BXt)}function g9(){g9=M,zue=new SA(YJt,0),Vue=new SA("IMPROVE_STRAIGHTNESS",1)}function p9(t,e){return cz(),WV(t,new nI(e,ndt(e.e.c.length+e.g.c.length)))}function m9(t,e){return cz(),WV(t,new nI(e,ndt(e.e.c.length+e.g.c.length)))}function b9(t,e){return 10!=mtt(e)&&Cat(tlt(e),e.hm,e.__elementTypeId$,mtt(e),t),t}function w9(t,e){var n;return-1!=(n=_9(t,e,0))&&(a6(t,n),!0)}function y9(t,e){var n;return(n=jV(m6(t.e,e),387))?(Lz(n),n.e):null}function v9(t){var e;return XM(t)&&(e=0-t,!isNaN(e))?e:sst(oct(t))}function _9(t,e,n){for(;n<t.c.length;++n)if(iY(e,t.c[n]))return n;return-1}function k9(t,e,n){var i;return _K(t),(i=new ct).a=e,t.a.Nb(new AC(i,n)),i.a}function x9(t){var e;return _K(t),e=D7(ONe,zXt,25,0,15,1),gx(t.a,new dg(e)),e}function E9(t){var e;return e=jV(DH(t.j,0),11),jV(wTt(e,(lKt(),fde)),11)}function T9(t){var e;if(!Qit(t))throw $b(new ww);return t.e=1,e=t.d,t.d=null,e}function C9(t,e){var n;this.f=t,this.b=e,n=jV(LG(t.b,e),283),this.c=n?n.b:null}function A9(){zj(),this.b=new Db,this.f=new Db,this.g=new Db,this.e=new Db}function S9(t,e){this.a=D7(Sae,o1t,10,t.a.c.length,0,1),Ymt(t.a,this.a),this.b=e}function I9(t){var e;for(e=t.p+1;e<t.c.a.c.length;++e)--jV(DH(t.c.a,e),10).p}function M9(t){var e;null!=(e=t.Ai())&&-1!=t.d&&jV(e,92).Ng(t),t.i&&t.i.Fi()}function P9(t){GO(this),this.g=t?CZ(t,t.$d()):null,this.f=t,vX(this),this._d()}function O9(t,e,n,i,r,o,s){vit.call(this,e,i,r,o,s),this.c=t,this.b=n}function D9(t,e,n,i,r){return yK(t),yK(e),yK(n),yK(i),yK(r),new vW(t,e,i)}function N9(t,e){if(e<0)throw $b(new Iv(J5t+e));return g3(t,e+1),DH(t.j,e)}function L9(t,e,n,i){if(!t)throw $b(new Bv(PBt(e,Cat(z_(Mte,1),VKt,1,5,[n,i]))))}function R9(t,e){return iY(e,DH(t.f,0))||iY(e,DH(t.f,1))||iY(e,DH(t.f,2))}function B9(t,e){PF(jV(jV(t.f,33).We((cKt(),oAe)),98))&&Yft(wY(jV(t.f,33)),e)}function F9(t,e){var n,i;return!(i=(n=jV(e,675)).Oh())&&n.Rh(i=new LI(t,e)),i}function j9(t,e){var n,i;return!(i=(n=jV(e,677)).pk())&&n.tk(i=new R0(t,e)),i}function $9(t){return t.b||(t.b=new XU(t,WPe,t),!t.a&&(t.a=new sB(t,t))),t.b}function V9(){V9=M,Sse=new WC("XY",0),Ase=new WC("X",1),Ise=new WC("Y",2)}function z9(){z9=M,ire=new HC("TOP",0),nre=new HC(eQt,1),ere=new HC(aQt,2)}function H9(){H9=M,The=new DA(YJt,0),Che=new DA("TOP",1),Ehe=new DA(aQt,2)}function U9(){U9=M,Rwe=new zA("INPUT_ORDER",0),Bwe=new zA("PORT_DEGREE",1)}function q9(){q9=M,dee=xO(TXt,TXt,524287),fee=xO(0,0,AXt),gee=F4(1),F4(2),pee=F4(0)}function W9(t,e,n){t.a.c=D7(Mte,VKt,1,0,5,1),WHt(t,e,n),0==t.a.c.length||ujt(t,e)}function G9(t){var e,n;return YW(t,0,n=t.length,e=D7(ANe,GYt,25,n,15,1),0),e}function K9(t){var e;return t.dh()||(e=hG(t.Tg())-t.Ah(),t.ph().bk(e)),t.Pg()}function Y9(t){var e;return null==(e=ent(yst(t,32)))&&(umt(t),e=ent(yst(t,32))),e}function X9(t,e){var n;return(n=Mgt(t.d,e))>=0?Qbt(t,n,!0,!0):rMt(t,e,!0)}function Z9(t,e){var n,i;return xT(),n=l3(t),i=l3(e),!!n&&!!i&&!Bbt(n.k,i.k)}function Q9(t,e){Cnt(t,null==e||WF((yK(e),e))||isNaN((yK(e),e))?0:(yK(e),e))}function J9(t,e){Ant(t,null==e||WF((yK(e),e))||isNaN((yK(e),e))?0:(yK(e),e))}function ttt(t,e){Tnt(t,null==e||WF((yK(e),e))||isNaN((yK(e),e))?0:(yK(e),e))}function ett(t,e){Ent(t,null==e||WF((yK(e),e))||isNaN((yK(e),e))?0:(yK(e),e))}function ntt(t){(this.q?this.q:(EX(),EX(),lne)).Ac(t.q?t.q:(EX(),EX(),lne))}function itt(t,e){return iD(e,99)&&jV(e,18).Bb&$Xt?new DM(e,t):new Mst(e,t)}function rtt(t,e){return iD(e,99)&&jV(e,18).Bb&$Xt?new DM(e,t):new Mst(e,t)}function ott(t,e){Gre=new ne,toe=e,jV((Wre=t).b,65),R7(Wre,Gre,null),sHt(Wre)}function stt(t,e,n){var i;return i=t.g[e],vD(t,e,t.oi(e,n)),t.gi(e,n,i),t.ci(),i}function att(t,e){var n;return(n=t.Xc(e))>=0&&(t.$c(n),!0)}function ctt(t){var e;return t.d!=t.r&&(e=S_t(t),t.e=!!e&&e.Cj()==k8t,t.d=e),t.e}function ltt(t,e){var n;for(wG(t),wG(e),n=!1;e.Ob();)n|=t.Fc(e.Pb());return n}function utt(t,e){var n;return(n=jV(LG(t.e,e),387))?(oD(t,n),n.e):null}function htt(t){var e,n;return e=t/60|0,0==(n=t%60)?""+e:e+":"+n}function dtt(t,e){return Ydt(t),new LH(t,new RF(new x6(e,t.a)))}function ftt(t,e){var n=t.a[e],i=(Qat(),uee)[typeof n];return i?i(n):vut(typeof n)}function gtt(t){switch(t.g){case 0:return LKt;case 1:return-1;default:return 0}}function ptt(t){return B_t(t,(q9(),pee))<0?-CN(oct(t)):t.l+t.m*SXt+t.h*IXt}function mtt(t){return null==t.__elementTypeCategory$?10:t.__elementTypeCategory$}function btt(t){var e;return null!=(e=0==t.b.c.length?null:DH(t.b,0))&&lrt(t,0),e}function wtt(t,e){for(;e[0]<t.length&&zM(" \t\r\n",XEt(lY(t,e[0])))>=0;)++e[0]}function ytt(t,e){this.e=e,this.a=Kst(t),this.a<54?this.f=v2(t):this.c=Jmt(t)}function vtt(t,e,n,i){fKt(),Ib.call(this,26),this.c=t,this.a=e,this.d=n,this.b=i}function _tt(t,e,n){var i,r;for(i=10,r=0;r<n-1;r++)e<i&&(t.a+="0"),i*=10;t.a+=e}function ktt(t,e){var n;for(n=0;t.e!=t.i.gc();)gH(e,vbt(t),ndt(n)),n!=LKt&&++n}function xtt(t,e){var n;for(++t.d,++t.c[e],n=e+1;n<t.a.length;)++t.a[n],n+=n&-n}function Ett(t,e){var n,i,r;r=e.c.i,i=(n=jV(LG(t.f,r),57)).d.c-n.e.c,Xrt(e.a,i,0)}function Ttt(t){var e,n;return e=t+128,!(n=(vH(),_ee)[e])&&(n=_ee[e]=new Mf(t)),n}function Ctt(t,e){var n;return yK(e),Dtt(!!(n=t[":"+e]),Cat(z_(Mte,1),VKt,1,5,[e])),n}function Att(t){var e,n;if(t.b){n=null;do{e=t.b,t.b=null,n=cAt(e,n)}while(t.b);t.b=n}}function Stt(t){var e,n;if(t.a){n=null;do{e=t.a,t.a=null,n=cAt(e,n)}while(t.a);t.a=n}}function Itt(t){var e;for(++t.a,e=t.c.a.length;t.a<e;++t.a)if(t.c.b[t.a])return}function Mtt(t,e){var n,i;for(n=(i=e.c)+1;n<=e.f;n++)t.a[n]>t.a[i]&&(i=n);return i}function Ptt(t,e){var n;return 0==(n=Sft(t.e.c,e.e.c))?Cdt(t.e.d,e.e.d):n}function Ott(t,e){return 0==e.e||0==t.e?ene:(PMt(),MNt(t,e))}function Dtt(t,e){if(!t)throw $b(new Bv(XNt("Enum constant undefined: %s",e)))}function Ntt(){Ntt=M,oae=new Te,sae=new xe,iae=new Me,rae=new Pe,aae=new Oe}function Ltt(){Ltt=M,mie=new jC("BY_SIZE",0),bie=new jC("BY_SIZE_AND_SHAPE",1)}function Rtt(){Rtt=M,Noe=new qC("EADES",0),Loe=new qC("FRUCHTERMAN_REINGOLD",1)}function Btt(){Btt=M,Eue=new TA("READING_DIRECTION",0),Tue=new TA("ROTATION",1)}function Ftt(){Ftt=M,xue=hut((Kwt(),Cat(z_(Cue,1),PYt,335,0,[wue,bue,vue,_ue,yue])))}function jtt(){jtt=M,vwe=hut((Dwt(),Cat(z_(Iwe,1),PYt,315,0,[wwe,pwe,mwe,gwe,bwe])))}function $tt(){$tt=M,Sle=hut((Oxt(),Cat(z_(Rle,1),PYt,363,0,[xle,Tle,Cle,Ele,kle])))}function Vtt(){Vtt=M,Hde=hut((xft(),Cat(z_(ewe,1),PYt,163,0,[Vde,Bde,Fde,jde,$de])))}function ztt(){ztt=M,aEe=hut((PCt(),Cat(z_(HEe,1),PYt,316,0,[eEe,nEe,oEe,iEe,rEe])))}function Htt(){Htt=M,hTe=hut((ibt(),Cat(z_(vTe,1),PYt,175,0,[cTe,aTe,oTe,lTe,sTe])))}function Utt(){Utt=M,jxe=hut((XDt(),Cat(z_(Hxe,1),PYt,355,0,[Nxe,Dxe,Rxe,Lxe,Bxe])))}function qtt(){qtt=M,Vse=hut((yTt(),Cat(z_(Use,1),PYt,356,0,[Lse,Rse,Bse,Fse,jse])))}function Wtt(){Wtt=M,zAe=hut((jht(),Cat(z_(WAe,1),PYt,103,0,[jAe,FAe,BAe,RAe,$Ae])))}function Gtt(){Gtt=M,HSe=hut((rbt(),Cat(z_(XSe,1),PYt,249,0,[jSe,VSe,BSe,FSe,$Se])))}function Ktt(){Ktt=M,SIe=hut((vWt(),Cat(z_(FIe,1),XJt,61,0,[TIe,aIe,sIe,EIe,CIe])))}function Ytt(t,e){var n;return(n=jV(LG(t.a,e),134))||(n=new Qt,GK(t.a,e,n)),n}function Xtt(t){var e;return!!(e=jV(wTt(t,(lKt(),Lhe)),305))&&e.a==t}function Ztt(t){var e;return!!(e=jV(wTt(t,(lKt(),Lhe)),305))&&e.i==t}function Qtt(t,e){return yK(e),Nq(t),!!t.d.Ob()&&(e.td(t.d.Pb()),!0)}function Jtt(t){return Kut(t,LKt)>0?LKt:Kut(t,FYt)<0?FYt:fU(t)}function tet(t){return t<3?(hit(t,SYt),t+1):t<IYt?CQ(t/.75+1):LKt}function eet(t,e){var n;return null==t.i&&z$t(t),n=t.i,e>=0&&e<n.length?n[e]:null}function net(t,e,n){var i;if(null==e)throw $b(new gw);return i=HQ(t,e),e5(t,e,n),i}function iet(t){return t.a>=-.01&&t.a<=uQt&&(t.a=0),t.b>=-.01&&t.b<=uQt&&(t.b=0),t}function ret(t,e){return e==(ij(),ij(),xne)?t.toLocaleLowerCase():t.toLowerCase()}function oet(t){return(2&t.i?"interface ":1&t.i?"":"class ")+(_R(t),t.o)}function set(t){var e;e=new My,l8((!t.q&&(t.q=new tW(GPe,t,11,10)),t.q),e)}function aet(t,e){var n;return n=e>0?e-1:e,Mk(Pk(jnt(Pz(new qy,n),t.n),t.j),t.k)}function cet(t,e,n,i){t.j=-1,zMt(t,kAt(t,e,n),(ZT(),jV(e,66).Mj().Ok(i)))}function uet(t){this.g=t,this.f=new Ob,this.a=i.Math.min(this.g.c.c,this.g.d.c)}function het(t){this.b=new Ob,this.a=new Ob,this.c=new Ob,this.d=new Ob,this.e=t}function det(t,e){this.a=new Db,this.e=new Db,this.b=(Eut(),owe),this.c=t,this.b=e}function fet(t,e,n){OB.call(this),Net(this),this.a=t,this.c=n,this.b=e.d,this.f=e.e}function get(t){this.d=t,this.c=t.c.vc().Kc(),this.b=null,this.a=null,this.e=(nv(),Ute)}function pet(t){if(t<0)throw $b(new Bv("Illegal Capacity: "+t));this.g=this.ri(t)}function met(t,e){if(0>t||t>e)throw $b(new k_("fromIndex: 0, toIndex: "+t+lZt+e))}function bet(t){var e;if(t.a==t.b.a)throw $b(new ww);return e=t.a,t.c=e,t.a=t.a.e,e}function wet(t){var e;xL(!!t.c),e=t.c.a,Met(t.d,t.c),t.b==t.c?t.b=e:--t.a,t.c=null}function yet(t,e){var n;return Ydt(t),n=new mX(t,t.a.rd(),4|t.a.qd(),e),new LH(t,n)}function vet(t,e){var n,i;return(n=jV(hht(t.d,e),14))?(i=e,t.e.pc(i,n)):null}function _et(t,e){var n;for(n=t.Kc();n.Ob();)lct(jV(n.Pb(),70),(lKt(),ode),e)}function ket(t){var e;return(e=zv(xR(wTt(t,(VGt(),rme)))))<0&&lct(t,rme,e=0),e}function xet(t,e,n){var r;j_t(n,r=i.Math.max(0,t.b/2-.5),1),WV(e,new eA(n,r))}function Eet(t,e,n){return CQ($z(t.a.e[jV(e.a,10).p]-t.a.e[jV(n.a,10).p]))}function Tet(t,e,n,i,r,o){var s;EJ(s=W4(i),r),xJ(s,o),ZIt(t.a,i,new Pj(s,e,n.f))}function Cet(t,e){var n;if(!(n=DNt(t.Tg(),e)))throw $b(new Bv(i6t+e+s6t));return n}function Aet(t,e){var n;for(n=t;XQ(n);)if((n=XQ(n))==e)return!0;return!1}function Set(t,e){var n,i,r;for(i=e.a.cd(),n=jV(e.a.dd(),14).gc(),r=0;r<n;r++)t.td(i)}function Iet(t,e){var n,i,r,o;for(yK(e),r=0,o=(i=t.c).length;r<o;++r)n=i[r],e.td(n)}function Met(t,e){var n;return n=e.c,e.a.b=e.b,e.b.a=e.a,e.a=e.b=null,e.c=null,--t.b,n}function Pet(t,e){return!(!e||t.b[e.g]!=e||(MG(t.b,e.g,null),--t.c,0))}function Oet(t,e){return!!Qrt(t,e,fU(rft(TYt,nY(fU(rft(null==e?0:Jct(e),CYt)),15))))}function Det(t,e){PF(jV(wTt(jV(t.e,10),(VGt(),tbe)),98))&&(EX(),bO(jV(t.e,10).j,e))}function Net(t){t.b=(X8(),Kie),t.f=(z9(),nre),t.d=(hit(2,MYt),new X6(2)),t.e=new zk}function Let(){Let=M,zie=new VC("BEGIN",0),Hie=new VC(eQt,1),Uie=new VC("END",2)}function Ret(){Ret=M,HAe=new BS(eQt,0),UAe=new BS("HEAD",1),qAe=new BS("TAIL",2)}function Bet(){return lPt(),Cat(z_(iPe,1),PYt,237,0,[tPe,ZMe,QMe,XMe,JMe,KMe,GMe,YMe])}function Fet(){return CAt(),Cat(z_(ETe,1),PYt,277,0,[yTe,dTe,mTe,wTe,fTe,gTe,pTe,bTe])}function jet(){return vRt(),Cat(z_(eue,1),PYt,270,0,[jle,zle,Fle,qle,Vle,$le,Ule,Hle])}function $et(){return cNt(),Cat(z_(Nwe,1),PYt,260,0,[Awe,kwe,Twe,xwe,Ewe,_we,Cwe,Swe])}function Vet(){Vet=M,ZSe=hut((Yxt(),Cat(z_(rIe,1),PYt,98,0,[YSe,KSe,GSe,USe,WSe,qSe])))}function zet(){zet=M,Qie=(Let(),Cat(z_(Gie,1),PYt,232,0,[zie,Hie,Uie])).length,Zie=Qie}function Het(t){this.b=(wG(t),new JF(t)),this.a=new Ob,this.d=new Ob,this.e=new zk}function Uet(t){var e;return(e=i.Math.sqrt(t.a*t.a+t.b*t.b))>0&&(t.a/=e,t.b/=e),t}function qet(t){var e;return t.w?t.w:((e=G1(t))&&!e.kh()&&(t.w=e),e)}function Wet(t){var e;return null==t?null:KEt(e=jV(t,190),e.length)}function Get(t,e){if(null==t.g||e>=t.i)throw $b(new PM(e,t.i));return t.li(e,t.g[e])}function Ket(t){var e,n;for(e=t.a.d.j,n=t.c.d.j;e!=n;)art(t.b,e),e=Edt(e);art(t.b,e)}function Yet(t){var e;for(e=0;e<t.c.length;e++)(u1(e,t.c.length),jV(t.c[e],11)).p=e}function Xet(t,e,n){var i,r,o;for(r=e[n],i=0;i<r.length;i++)o=r[i],t.e[o.c.p][o.p]=i}function Zet(t,e){var n,i,r,o;for(r=0,o=(i=t.d).length;r<o;++r)n=i[r],uD(t.g,n).a=e}function Qet(t,e){var n;for(n=cbt(t,0);n.b!=n.d.c;)UB(jV(h3(n),8),e);return t}function Jet(t,e){return qB(jO(jV(LG(t.g,e),8)),BO(jV(LG(t.f,e),460).b))}function tnt(t){var e;return p2(t.e,t),TL(t.b),t.c=t.a,e=jV(t.a.Pb(),42),t.b=gat(t),e}function ent(t){var e;return Xz(null==t||Array.isArray(t)&&!((e=mtt(t))>=14&&e<=16)),t}function nnt(t,e,n){var i=function(){return t.apply(i,arguments)};return e.apply(i,n),i}function int(t,e,n){var i,r;i=e;do{r=zv(t.p[i.p])+n,t.p[i.p]=r,i=t.a[i.p]}while(i!=e)}function rnt(t,e){var n,i;i=t.a,n=Yht(t,e,null),i!=e&&!t.e&&(n=oqt(t,e,n)),n&&n.Fi()}function ont(t,e){return cO(),iit(BYt),i.Math.abs(t-e)<=BYt||t==e||isNaN(t)&&isNaN(e)}function snt(t,e){return cO(),iit(BYt),i.Math.abs(t-e)<=BYt||t==e||isNaN(t)&&isNaN(e)}function ant(t,e){return FTt(),_O(t.b.c.length-t.e.c.length,e.b.c.length-e.e.c.length)}function cnt(t,e){return Zk(Zrt(t,e,fU(rft(TYt,nY(fU(rft(null==e?0:Jct(e),CYt)),15)))))}function lnt(){lnt=M,Iae=hut((sCt(),Cat(z_(Mae,1),PYt,267,0,[Cae,Tae,xae,Aae,Eae,kae])))}function unt(){unt=M,JTe=hut((fxt(),Cat(z_(VAe,1),PYt,291,0,[ZTe,XTe,YTe,GTe,WTe,KTe])))}function hnt(){hnt=M,DTe=hut((fwt(),Cat(z_(QTe,1),PYt,248,0,[CTe,ITe,MTe,PTe,ATe,STe])))}function dnt(){dnt=M,nue=hut((PAt(),Cat(z_(oue,1),PYt,227,0,[Zle,Jle,Xle,Qle,tue,Yle])))}function fnt(){fnt=M,she=hut((ZTt(),Cat(z_(bhe,1),PYt,275,0,[ihe,the,rhe,nhe,ehe,Jue])))}function gnt(){gnt=M,Que=hut(($kt(),Cat(z_(ohe,1),PYt,274,0,[Kue,Gue,Xue,Wue,Yue,que])))}function pnt(){pnt=M,nwe=hut((xEt(),Cat(z_(swe,1),PYt,313,0,[Jbe,Zbe,Ybe,Xbe,twe,Qbe])))}function mnt(){mnt=M,$ue=hut((pCt(),Cat(z_(Hue,1),PYt,276,0,[Nue,Due,Rue,Lue,Fue,Bue])))}function bnt(){bnt=M,Xve=hut((LAt(),Cat(z_(B_e,1),PYt,327,0,[Kve,Uve,Wve,qve,Gve,Hve])))}function wnt(){wnt=M,oIe=hut((hIt(),Cat(z_(AIe,1),PYt,273,0,[nIe,tIe,eIe,JSe,QSe,iIe])))}function ynt(){ynt=M,aSe=hut((JEt(),Cat(z_(wSe,1),PYt,312,0,[rSe,nSe,oSe,tSe,iSe,eSe])))}function vnt(){return JPt(),Cat(z_(zSe,1),PYt,93,0,[ASe,CSe,ISe,NSe,DSe,OSe,MSe,PSe,SSe])}function _nt(t,e){var n;n=t.a,t.a=e,4&t.Db&&!(1&t.Db)&&dst(t,new l5(t,0,n,t.a))}function knt(t,e){var n;n=t.b,t.b=e,4&t.Db&&!(1&t.Db)&&dst(t,new l5(t,1,n,t.b))}function xnt(t,e){var n;n=t.b,t.b=e,4&t.Db&&!(1&t.Db)&&dst(t,new l5(t,3,n,t.b))}function Ent(t,e){var n;n=t.f,t.f=e,4&t.Db&&!(1&t.Db)&&dst(t,new l5(t,3,n,t.f))}function Tnt(t,e){var n;n=t.g,t.g=e,4&t.Db&&!(1&t.Db)&&dst(t,new l5(t,4,n,t.g))}function Cnt(t,e){var n;n=t.i,t.i=e,4&t.Db&&!(1&t.Db)&&dst(t,new l5(t,5,n,t.i))}function Ant(t,e){var n;n=t.j,t.j=e,4&t.Db&&!(1&t.Db)&&dst(t,new l5(t,6,n,t.j))}function Snt(t,e){var n;n=t.j,t.j=e,4&t.Db&&!(1&t.Db)&&dst(t,new l5(t,1,n,t.j))}function Int(t,e){var n;n=t.c,t.c=e,4&t.Db&&!(1&t.Db)&&dst(t,new l5(t,4,n,t.c))}function Mnt(t,e){var n;n=t.k,t.k=e,4&t.Db&&!(1&t.Db)&&dst(t,new l5(t,2,n,t.k))}function Pnt(t,e){var n;n=t.d,t.d=e,4&t.Db&&!(1&t.Db)&&dst(t,new u5(t,2,n,t.d))}function Ont(t,e){var n;n=t.s,t.s=e,4&t.Db&&!(1&t.Db)&&dst(t,new u5(t,4,n,t.s))}function Dnt(t,e){var n;n=t.t,t.t=e,4&t.Db&&!(1&t.Db)&&dst(t,new u5(t,5,n,t.t))}function Nnt(t,e){var n;n=t.F,t.F=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,5,n,e))}function Lnt(t,e){var n;return(n=jV(LG((QT(),mPe),t),55))?n.xj(e):D7(Mte,VKt,1,e,5,1)}function Rnt(t,e){var n;return e in t.a&&(n=HQ(t,e).he())?n.a:null}function Bnt(t,e){var n,i;return Jk(),i=new cc,!!e&&SNt(i,e),Nit(n=i,t),n}function Fnt(t,e,n){if(Nlt(t,n),!t.Bk()&&null!=n&&!t.wj(n))throw $b(new uw);return n}function jnt(t,e){return t.n=e,t.n?(t.f=new Ob,t.e=new Ob):(t.f=null,t.e=null),t}function $nt(t,e,n,i,r,o){var s;return Ynt(n,s=bG(t,e)),s.i=r?8:0,s.f=i,s.e=r,s.g=o,s}function Vnt(t,e,n,i,r){this.d=e,this.k=i,this.f=r,this.o=-1,this.p=1,this.c=t,this.a=n}function znt(t,e,n,i,r){this.d=e,this.k=i,this.f=r,this.o=-1,this.p=2,this.c=t,this.a=n}function Hnt(t,e,n,i,r){this.d=e,this.k=i,this.f=r,this.o=-1,this.p=6,this.c=t,this.a=n}function Unt(t,e,n,i,r){this.d=e,this.k=i,this.f=r,this.o=-1,this.p=7,this.c=t,this.a=n}function qnt(t,e,n,i,r){this.d=e,this.j=i,this.e=r,this.o=-1,this.p=4,this.c=t,this.a=n}function Wnt(t,e){var n,i,r,o;for(r=0,o=(i=e).length;r<o;++r)n=i[r],G8(t.a,n);return t}function Gnt(t){var e,n,i;for(n=0,i=(e=t).length;n<i;++n)wG(e[n]);return new IM(t)}function Knt(t){var e=/function(?:\s+([\w$]+))?\s*\(/.exec(t);return e&&e[1]||UYt}function Ynt(t,e){if(t){e.n=t;var n=UQ(e);n?n.gm=e:TKt[t]=[e]}}function Xnt(t,e,n){var r;return r=t.length,FSt(t,0,e,0,i.Math.min(n,r),!0),e}function Znt(t,e,n){var i,r;for(r=e.Kc();r.Ob();)i=jV(r.Pb(),79),kW(t,jV(n.Kb(i),33))}function Qnt(){Yx();for(var t=CKt,e=0;e<arguments.length;e++)t.push(arguments[e])}function Jnt(t,e){var n,i,r;for(i=0,r=(n=e).length;i<r;++i)n4(t,n[i],t.c.b,t.c)}function tit(t,e){t.b=i.Math.max(t.b,e.d),t.e+=e.r+(0==t.a.c.length?0:t.c),WV(t.a,e)}function eit(t){xL(t.c>=0),imt(t.d,t.c)<0&&(t.a=t.a-1&t.d.a.length-1,t.b=t.d.c),t.c=-1}function nit(t){return t.a<54?t.f<0?-1:t.f>0?1:0:(!t.c&&(t.c=yut(t.f)),t.c).e}function iit(t){if(!(t>=0))throw $b(new Bv("tolerance ("+t+") must be >= 0"));return t}function rit(){return iTe||vlt(iTe=new IBt,Cat(z_(Bie,1),VKt,130,0,[new Ph])),iTe}function oit(){oit=M,zwe=new HA(lQt,0),$we=new HA("INPUT",1),Vwe=new HA("OUTPUT",2)}function sit(){sit=M,due=new xA("ARD",0),gue=new xA("MSD",1),fue=new xA("MANUAL",2)}function ait(){ait=M,Sye=new YA("BARYCENTER",0),Iye=new YA(k1t,1),Mye=new YA(x1t,2)}function cit(t,e){var n;if(n=t.gc(),e<0||e>n)throw $b(new JB(e,n));return new LF(t,e)}function lit(t,e){var n;return iD(e,42)?t.c.Mc(e):(n=ipt(t,e),Gpt(t,e),n)}function uit(t,e,n){return Sut(t,e),Drt(t,n),Ont(t,0),Dnt(t,1),Jht(t,!0),Xht(t,!0),t}function hit(t,e){if(t<0)throw $b(new Bv(e+" cannot be negative but was: "+t));return t}function dit(t,e){var n,i;for(n=0,i=t.gc();n<i;++n)if(iY(e,t.Xb(n)))return n;return-1}function fit(t){var e;for(e=t.c.Cc().Kc();e.Ob();)jV(e.Pb(),14).$b();t.c.$b(),t.d=0}function git(t){var e,n,i,r;for(i=0,r=(n=t.a).length;i<r;++i)KW(e=n[i],e.length,null)}function pit(t){var e,n;if(0==t)return 32;for(n=0,e=1;!(e&t);e<<=1)++n;return n}function mit(t){var e;for(e=new Wf(evt(t));e.a<e.c.c.length;)jV(Q1(e),680).Gf()}function bit(t){mT(),this.g=new Db,this.f=new Db,this.b=new Db,this.c=new pQ,this.i=t}function wit(){this.f=new zk,this.d=new dy,this.c=new zk,this.a=new Ob,this.b=new Ob}function yit(t,e,n,i){this.rj(),this.a=e,this.b=t,this.c=null,this.c=new uF(this,e,n,i)}function vit(t,e,n,i,r){this.d=t,this.n=e,this.g=n,this.o=i,this.p=-1,r||(this.o=-2-i-1)}function _it(){SD.call(this),this.n=-1,this.g=null,this.i=null,this.j=null,this.Bb|=v6t}function kit(){return JFt(),Cat(z_(eMe,1),PYt,259,0,[zIe,UIe,VIe,qIe,WIe,KIe,GIe,HIe,$Ie])}function xit(){return tBt(),Cat(z_(jie,1),PYt,250,0,[Lie,Mie,Pie,Iie,Die,Nie,Oie,Sie,Aie])}function Eit(){Eit=M,Iee=Cat(z_(SNe,1),lXt,25,15,[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15])}function Tit(){Tit=M,yye=fH(fH(fH(new j2,(yTt(),Lse),(hKt(),ice)),Rse,Sce),Bse,Ace)}function Cit(){Cit=M,vye=fH(fH(fH(new j2,(yTt(),Lse),(hKt(),ice)),Rse,Sce),Bse,Ace)}function Ait(){Ait=M,xye=fH(fH(fH(new j2,(yTt(),Lse),(hKt(),ice)),Rse,Sce),Bse,Ace)}function Sit(){Sit=M,Cye=WU(fH(fH(new j2,(yTt(),Bse),(hKt(),Pce)),Fse,_ce),jse,Mce)}function Iit(){Iit=M,cue=new kA("LAYER_SWEEP",0),aue=new kA($1t,1),lue=new kA(YJt,2)}function Mit(t,e){var n,i;return n=t.c,(i=e.e[t.p])>0?jV(DH(n.a,i-1),10):null}function Pit(t,e){var n;n=t.k,t.k=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,2,n,t.k))}function Oit(t,e){var n;n=t.f,t.f=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,8,n,t.f))}function Dit(t,e){var n;n=t.i,t.i=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,7,n,t.i))}function Nit(t,e){var n;n=t.a,t.a=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,8,n,t.a))}function Lit(t,e){var n;n=t.b,t.b=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,0,n,t.b))}function Rit(t,e){var n;n=t.b,t.b=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,0,n,t.b))}function Bit(t,e){var n;n=t.c,t.c=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,1,n,t.c))}function Fit(t,e){var n;n=t.c,t.c=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,1,n,t.c))}function jit(t,e){var n;n=t.c,t.c=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,4,n,t.c))}function $it(t,e){var n;n=t.d,t.d=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,1,n,t.d))}function Vit(t,e){var n;n=t.D,t.D=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,2,n,t.D))}function zit(t,e){t.r>0&&t.c<t.r&&(t.c+=e,t.i&&t.i.d>0&&0!=t.g&&zit(t.i,e/t.r*t.i.d))}function Hit(t,e,n){var i;t.b=e,t.a=n,i=512&~t.a?new Ru:new Fy,t.c=ERt(i,t.b,t.a)}function Uit(t,e){return PLt(t.e,e)?(ZT(),ctt(e)?new uH(e,t):new DI(e,t)):new RI(e,t)}function qit(t,e){return Xk(Qrt(t.a,e,fU(rft(TYt,nY(fU(rft(null==e?0:Jct(e),CYt)),15)))))}function Wit(t,e,n){return D9(t,new lg(e),new st,new ug(n),Cat(z_(Qne,1),PYt,132,0,[]))}function Git(t){return 0>t?new GE:new MR(null,new b4(t+1,t))}function Kit(t,e){var n;return EX(),n=new qE(1),qI(t)?bJ(n,t,e):_St(n.f,t,e),new qf(n)}function Yit(t,e){var n,i;return(n=t.o+t.p)<(i=e.o+e.p)?-1:n==i?0:1}function Xit(t){var e;return iD(e=wTt(t,(lKt(),fde)),160)?wgt(jV(e,160)):null}function Zit(t){var e;return(t=i.Math.max(t,2))>(e=vct(t))?(e<<=1)>0?e:IYt:e}function Qit(t){switch(oN(3!=t.e),t.e){case 2:return!1;case 0:return!0}return B4(t)}function Jit(t,e){var n;return!!iD(e,8)&&(n=jV(e,8),t.a==n.a&&t.b==n.b)}function trt(t,e,n){var i,r;return r=e>>5,i=31&e,t0(vq(t.n[n][r],fU(wq(i,1))),3)}function ert(t,e){var n,i;for(i=e.vc().Kc();i.Ob();)bkt(t,(n=jV(i.Pb(),42)).cd(),n.dd())}function nrt(t,e){var n;n=new ne,jV(e.b,65),jV(e.b,65),jV(e.b,65),Iet(e.a,new kV(t,n,e))}function irt(t,e){var n;n=t.b,t.b=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,21,n,t.b))}function rrt(t,e){var n;n=t.d,t.d=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,11,n,t.d))}function ort(t,e){var n;n=t.j,t.j=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,13,n,t.j))}function srt(t,e,n){var i,r,o;for(o=t.a.length-1,r=t.b,i=0;i<n;r=r+1&o,++i)MG(e,i,t.a[r])}function art(t,e){var n;return yK(e),n=e.g,!t.b[n]&&(MG(t.b,n,e),++t.c,!0)}function crt(t,e){var n;return!((n=null==e?-1:_9(t.b,e,0))<0||(lrt(t,n),0))}function lrt(t,e){var n;n=a6(t.b,t.b.c.length-1),e<t.b.c.length&&(i4(t.b,e,n),BSt(t,e))}function urt(t,e){0==(y4(),Kne?null:e.c).length&&HR(e,new G),bJ(t.a,Kne?null:e.c,e)}function hrt(t,e){IEt(e,"Hierarchical port constraint processing",1),dbt(t),XGt(t),VCt(e)}function drt(t,e){var n,i;for(i=e.Kc();i.Ob();)n=jV(i.Pb(),266),t.b=!0,kW(t.e,n),n.b=t}function frt(t,e){var n,i;return n=1-e,i=t.a[n],t.a[n]=i.a[e],i.a[e]=t,t.b=!0,i.b=!1,i}function grt(t,e){var n,i;return n=jV(wTt(t,(VGt(),abe)),8),i=jV(wTt(e,abe),8),Cdt(n.b,i.b)}function prt(t){LU.call(this),this.b=zv(xR(wTt(t,(VGt(),wbe)))),this.a=jV(wTt(t,Zpe),218)}function mrt(t,e,n){z2.call(this,t,e,n),this.a=new Db,this.b=new Db,this.d=new Wp(this)}function brt(t){this.e=t,this.d=new hx(tet(gq(this.e).gc())),this.c=this.e.a,this.b=this.e.c}function wrt(t){this.b=t,this.a=D7(SNe,lXt,25,t+1,15,1),this.c=D7(SNe,lXt,25,t,15,1),this.d=0}function yrt(t,e,n){var i;return _Lt(t,e,i=new Ob,n,!0,!0),t.b=new wrt(i.c.length),i}function vrt(t,e){var n;return(n=jV(LG(t.c,e),458))||((n=new iy).c=e,GK(t.c,n.c,n)),n}function _rt(t,e){var n=t.a,i=0;for(var r in n)n.hasOwnProperty(r)&&(e[i++]=r);return e}function krt(t){return null==t.b?(YT(),YT(),OOe):t.Lk()?t.Kk():t.Jk()}function xrt(t){var e,n;for(n=new ID(t);n.e!=n.i.gc();)Cnt(e=jV(vbt(n),33),0),Ant(e,0)}function Ert(){Ert=M,ase=new ob(IJt),cse=new ob(MJt),sse=new ob(PJt),ose=new ob(OJt)}function Trt(){Trt=M,Vae=new ZC("TO_INTERNAL_LTR",0),$ae=new ZC("TO_INPUT_DIRECTION",1)}function Crt(){Crt=M,K_e=new fS("P1_NODE_PLACEMENT",0),Y_e=new fS("P2_EDGE_ROUTING",1)}function Art(){Art=M,Lle=new yA("START",0),Nle=new yA("MIDDLE",1),Dle=new yA("END",2)}function Srt(){Srt=M,Jce=new eB("edgelabelcenterednessanalysis.includelabel",(cN(),mee))}function Irt(t,e){XE(IY(new LH(null,new d1(new Cf(t.b),1)),new XS(t,e)),new QS(t,e))}function Mrt(){this.c=new Ax(0),this.b=new Ax($3t),this.d=new Ax(j3t),this.a=new Ax(ZQt)}function Prt(t){var e,n;for(n=t.c.a.ec().Kc();n.Ob();)Hd(e=jV(n.Pb(),214),new VTt(e.e))}function Ort(t){var e,n;for(n=t.c.a.ec().Kc();n.Ob();)zd(e=jV(n.Pb(),214),new Gq(e.f))}function Drt(t,e){var n;n=t.zb,t.zb=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,1,n,t.zb))}function Nrt(t,e){var n;n=t.xb,t.xb=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,3,n,t.xb))}function Lrt(t,e){var n;n=t.yb,t.yb=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,2,n,t.yb))}function Rrt(t,e){var n;(n=new Sy).n=e,l8((!t.s&&(t.s=new tW(BPe,t,21,17)),t.s),n)}function Brt(t,e){var n;(n=new pR).n=e,l8((!t.s&&(t.s=new tW(BPe,t,21,17)),t.s),n)}function Frt(t,e){var n,i;for(H8(n=t.Pc(),0,n.length,e),i=0;i<n.length;i++)t._c(i,n[i])}function jrt(t,e){var n,i,r;for(yK(e),n=!1,r=e.Kc();r.Ob();)i=r.Pb(),n|=t.Fc(i);return n}function $rt(t){var e,n,i;for(e=0,i=t.Kc();i.Ob();)e=~~(e+=null!=(n=i.Pb())?Jct(n):0);return e}function Vrt(t){var e;return 0==t?"UTC":(t<0?(t=-t,e="UTC+"):e="UTC-",e+htt(t))}function zrt(t,e){var n;return iD(e,14)?(n=jV(e,14),t.Gc(n)):ltt(t,jV(wG(e),20).Kc())}function Hrt(t,e,n){det.call(this,e,n),this.d=D7(Sae,o1t,10,t.a.c.length,0,1),Ymt(t.a,this.d)}function Urt(t){t.a=null,t.e=null,t.b.c=D7(Mte,VKt,1,0,5,1),t.f.c=D7(Mte,VKt,1,0,5,1),t.c=null}function qrt(t,e){e?null==t.B&&(t.B=t.D,t.D=null):null!=t.B&&(t.D=t.B,t.B=null)}function Wrt(t,e){return zv(xR(MN(Pht(MY(new LH(null,new d1(t.c.b,16)),new Dp(t)),e))))}function Grt(t,e){return zv(xR(MN(Pht(MY(new LH(null,new d1(t.c.b,16)),new Op(t)),e))))}function Krt(t,e){IEt(e,v1t,1),XE(dtt(new LH(null,new d1(t.b,16)),new Qe),new Je),VCt(e)}function Yrt(t,e){var n,i;return n=jV(QPt(t,(qvt(),Pke)),19),i=jV(QPt(e,Pke),19),_O(n.a,i.a)}function Xrt(t,e,n){var i,r;for(r=cbt(t,0);r.b!=r.d.c;)(i=jV(h3(r),8)).a+=e,i.b+=n;return t}function Zrt(t,e,n){var i;for(i=t.b[n&t.f];i;i=i.b)if(n==i.a&&dK(e,i.g))return i;return null}function Qrt(t,e,n){var i;for(i=t.c[n&t.f];i;i=i.d)if(n==i.f&&dK(e,i.i))return i;return null}function Jrt(t,e,n){var i,r,o;for(i=0,r=0;r<n;r++)o=e[r],t[r]=o<<1|i,i=o>>>31;0!=i&&(t[n]=i)}function tot(t,e){var n,i;for(EX(),i=new Ob,n=0;n<t;++n)i.c[i.c.length]=e;return new M_(i)}function eot(t){var e;return KI((e=k2(t)).a,0)?(cT(),cT(),Tne):(cT(),new wL(e.b))}function not(t){var e;return KI((e=k2(t)).a,0)?(cT(),cT(),Tne):(cT(),new wL(e.c))}function iot(t){var e;return KI((e=_2(t)).a,0)?(lT(),lT(),Cne):(lT(),new yL(e.b))}function rot(t){return t.b.c.i.k==(sCt(),xae)?jV(wTt(t.b.c.i,(lKt(),fde)),11):t.b.c}function oot(t){return t.b.d.i.k==(sCt(),xae)?jV(wTt(t.b.d.i,(lKt(),fde)),11):t.b.d}function sot(t,e,n,i,r,o,s,a,c,l,u,h,d){return dSt(t,e,n,i,r,o,s,a,c,l,u,h,d),Hdt(t,!1),t}function aot(t,e,n,i,r,o,s){gE.call(this,t,e),this.d=n,this.e=i,this.c=r,this.b=o,this.a=o6(s)}function cot(t,e){typeof window===MKt&&typeof window.$gwt===MKt&&(window.$gwt[t]=e)}function lot(t,e){return Mat(),t==Zse&&e==tae||t==tae&&e==Zse||t==Jse&&e==Qse||t==Qse&&e==Jse}function uot(t,e){return Mat(),t==Zse&&e==Qse||t==Zse&&e==Jse||t==tae&&e==Jse||t==tae&&e==Qse}function hot(t,e){return cO(),iit(uQt),i.Math.abs(0-e)<=uQt||0==e||isNaN(0)&&isNaN(e)?0:t/e}function dot(){return dRt(),Cat(z_(khe,1),PYt,256,0,[che,uhe,hhe,dhe,fhe,ghe,mhe,ahe,lhe,phe])}function fot(){fot=M,EOe=new Ay,COe=Cat(z_(BPe,1),D8t,170,0,[]),TOe=Cat(z_(GPe,1),N8t,59,0,[])}function got(){got=M,aye=new GA("NO",0),oye=new GA("GREEDY",1),sye=new GA("LOOK_BACK",2)}function pot(){pot=M,Nae=new Ve,Oae=new $e,Dae=new ze,Pae=new He,Lae=new Ue,Rae=new qe}function mot(t){var e,n;for(n=0,e=new Wf(t.b);e.a<e.c.c.length;)jV(Q1(e),29).p=n,++n}function bot(t,e){var n;return PIt(new DS((n=FEt(t)).c,n.d),new DS(n.b,n.a),t.rf(),e,t.Hf())}function wot(t,e){var n;return t.b?null:(n=aet(t,t.g),Nz(t.a,n),n.i=t,t.d=e,n)}function yot(t,e,n){IEt(n,"DFS Treeifying phase",1),_pt(t,e),rLt(t,e),t.a=null,t.b=null,VCt(n)}function vot(t,e,n){this.g=t,this.d=e,this.e=n,this.a=new Ob,qSt(this),EX(),bO(this.a,null)}function _ot(t){this.i=t.gc(),this.i>0&&(this.g=this.ri(this.i+(this.i/8|0)+1),t.Qc(this.g))}function kot(t,e){xz.call(this,qOe,t,e),this.b=this,this.a=oLt(t.Tg(),eet(this.e.Tg(),this.c))}function xot(t,e){var n,i;for(yK(e),i=e.vc().Kc();i.Ob();)n=jV(i.Pb(),42),t.zc(n.cd(),n.dd())}function Eot(t,e,n){var i;for(i=n.Kc();i.Ob();)if(!z3(t,e,i.Pb()))return!1;return!0}function Tot(t,e,n,i,r){var o;return n&&(o=Mgt(e.Tg(),t.c),r=n.gh(e,-1-(-1==o?i:o),null,r)),r}function Cot(t,e,n,i,r){var o;return n&&(o=Mgt(e.Tg(),t.c),r=n.ih(e,-1-(-1==o?i:o),null,r)),r}function Aot(t){var e;if(-2==t.b){if(0==t.e)e=-1;else for(e=0;0==t.a[e];e++);t.b=e}return t.b}function Sot(t){switch(t.g){case 2:return vWt(),CIe;case 4:return vWt(),sIe;default:return t}}function Iot(t){switch(t.g){case 1:return vWt(),EIe;case 3:return vWt(),aIe;default:return t}}function Mot(t){var e,n,i;return t.j==(vWt(),aIe)&&(n=EN(e=qMt(t),sIe),(i=EN(e,CIe))||i&&n)}function Pot(t){var e;return new YF(e=jV(t.e&&t.e(),9),jV(GW(e,e.length),9),e.length)}function Oot(t,e){IEt(e,v1t,1),tgt(aT(new Tg((gT(),new $Y(t,!1,!1,new je))))),VCt(e)}function Dot(t,e){return cN(),qI(t)?l6(t,ER(e)):UI(t)?kq(t,xR(e)):HI(t)?_q(t,kR(e)):t.wd(e)}function Not(t,e){e.q=t,t.d=i.Math.max(t.d,e.r),t.b+=e.d+(0==t.a.c.length?0:t.c),WV(t.a,e)}function Lot(t,e){var n,i,r,o;return r=t.c,n=t.c+t.b,o=t.d,i=t.d+t.a,e.a>r&&e.a<n&&e.b>o&&e.b<i}function Rot(t,e,n,i){iD(t.Cb,179)&&(jV(t.Cb,179).tb=null),Drt(t,n),e&&FIt(t,e),i&&t.xk(!0)}function Bot(t,e){var n;VX(n=jV(e,183),"x",t.i),VX(n,"y",t.j),VX(n,A6t,t.g),VX(n,C6t,t.f)}function Fot(){Fot=M,Aye=amt(vM(fH(fH(new j2,(yTt(),Bse),(hKt(),Pce)),Fse,_ce),jse),Mce)}function jot(){jot=M,Nye=amt(vM(fH(fH(new j2,(yTt(),Bse),(hKt(),Pce)),Fse,_ce),jse),Mce)}function $ot(){$ot=M,qke=new wS(YJt,0),Wke=new wS("POLAR_COORDINATE",1),Uke=new wS("ID",2)}function Vot(){Vot=M,qwe=new UA("EQUALLY",0),Wwe=new UA(wQt,1),Gwe=new UA("NORTH_SOUTH",2)}function zot(){zot=M,Mwe=hut((cNt(),Cat(z_(Nwe,1),PYt,260,0,[Awe,kwe,Twe,xwe,Ewe,_we,Cwe,Swe])))}function Hot(){Hot=M,Gle=hut((vRt(),Cat(z_(eue,1),PYt,270,0,[jle,zle,Fle,qle,Vle,$le,Ule,Hle])))}function Uot(){Uot=M,_Te=hut((CAt(),Cat(z_(ETe,1),PYt,277,0,[yTe,dTe,mTe,wTe,fTe,gTe,pTe,bTe])))}function qot(){qot=M,nPe=hut((lPt(),Cat(z_(iPe,1),PYt,237,0,[tPe,ZMe,QMe,XMe,JMe,KMe,GMe,YMe])))}function Wot(){Wot=M,Kre=new eB("debugSVG",(cN(),!1)),Yre=new eB("overlapsExisted",!0)}function Got(t,e){return D9(new sg(t),new ag(e),new cg(e),new et,Cat(z_(Qne,1),PYt,132,0,[]))}function Kot(){var t;return Vne||(Vne=new Rw,YP(t=new w4(""),(uT(),$ne)),urt(Vne,t)),Vne}function Yot(t,e){for(wG(e);t.Ob();)if(!Yst(jV(t.Pb(),10)))return!1;return!0}function Xot(t,e){var n;return!!(n=WBt(rit(),t))&&(Xbt(e,(cKt(),bAe),n),!0)}function Zot(t,e){var n;for(n=0;n<e.j.c.length;n++)jV(N9(t,n),21).Gc(jV(N9(e,n),14));return t}function Qot(t,e){var n,i;for(i=new Wf(e.b);i.a<i.c.c.length;)n=jV(Q1(i),29),t.a[n.p]=YTt(n)}function Jot(t,e){var n,i;for(yK(e),i=t.vc().Kc();i.Ob();)n=jV(i.Pb(),42),e.Od(n.cd(),n.dd())}function tst(t,e){iD(e,83)?(jV(t.c,76).Xj(),ert(t,jV(e,83))):jV(t.c,76).Wb(e)}function est(t){return iD(t,152)?s6(jV(t,152)):iD(t,131)?jV(t,131).a:iD(t,54)?new lv(t):new CE(t)}function nst(t,e){return e<t.b.gc()?jV(t.b.Xb(e),10):e==t.b.gc()?t.a:jV(DH(t.e,e-t.b.gc()-1),10)}function ist(t,e){t.a=ift(t.a,1),t.c=i.Math.min(t.c,e),t.b=i.Math.max(t.b,e),t.d=ift(t.d,e)}function rst(t,e){IEt(e,"Edge and layer constraint edge reversal",1),jqt(OBt(t)),VCt(e)}function ost(t){var e;null==t.d?(++t.e,t.f=0,iht(null)):(++t.e,e=t.d,t.d=null,t.f=0,iht(e))}function sst(t){var e;return 0==(e=t.h)?t.l+t.m*SXt:e==CXt?t.l+t.m*SXt-IXt:t}function ast(t){return VR(),t.A.Hc((wpt(),NIe))&&!t.B.Hc((JFt(),UIe))?Jgt(t):null}function cst(t){if(yK(t),0==t.length)throw $b(new x_("Zero length BigInteger"));nFt(this,t)}function lst(t){if(!t)throw $b(new Fv("no calls to next() since the last call to remove()"))}function ust(t){return PXt<t&&t<IXt?t<0?i.Math.ceil(t):i.Math.floor(t):sst(pNt(t))}function hst(t,e){var n,i,r;for(n=t.c.Ee(),r=e.Kc();r.Ob();)i=r.Pb(),t.a.Od(n,i);return t.b.Kb(n)}function dst(t,e){var n,i,r;if(null!=(n=t.Jg())&&t.Mg())for(i=0,r=n.length;i<r;++i)n[i].ui(e)}function fst(t,e){var n,i;for(i=mK(n=t).e;i;){if((n=i)==e)return!0;i=mK(n).e}return!1}function gst(t,e,n){var i,r;return(i=t.a.f[e.p])<(r=t.a.f[n.p])?-1:i==r?0:1}function pst(t,e,n){var i,r;return r=jV(UF(t.d,e),19),i=jV(UF(t.b,n),19),r&&i?U6(t,r.a,i.a):null}function mst(t,e){var n,i;for(i=new ID(t);i.e!=i.i.gc();)EP(n=jV(vbt(i),33),n.i+e.b,n.j+e.d)}function bst(t,e){var n,i;for(i=new Wf(e);i.a<i.c.c.length;)n=jV(Q1(i),70),WV(t.d,n),BTt(t,n)}function wst(t,e){var n,i;i=new Ob,n=e;do{i.c[i.c.length]=n,n=jV(LG(t.k,n),17)}while(n);return i}function yst(t,e){var n;return t.Db&e?-1==(n=Ryt(t,e))?t.Eb:ent(t.Eb)[n]:null}function vst(t,e){var n;return(n=new Rh).G=e,!t.rb&&(t.rb=new Xq(t,jPe,t)),l8(t.rb,n),n}function _st(t,e){var n;return(n=new _w).G=e,!t.rb&&(t.rb=new Xq(t,jPe,t)),l8(t.rb,n),n}function kst(t,e){switch(e){case 1:return!!t.n&&0!=t.n.i;case 2:return null!=t.k}return b0(t,e)}function xst(t){switch(t.a.g){case 1:return new _I;case 3:return new lvt;default:return new Ch}}function Est(t){var e;if(t.g>1||t.Ob())return++t.a,t.g=0,e=t.i,t.Ob(),e;throw $b(new ww)}function Tst(t){var e;return rO(),oC(ave,t)||((e=new cs).a=t,dB(ave,t,e)),jV(sY(ave,t),635)}function Cst(t){var e,n,i;return n=0,(i=t)<0&&(i+=IXt,n=CXt),e=CQ(i/SXt),xO(CQ(i-e*SXt),e,n)}function Ast(t){var e,n,i;for(i=0,n=new KE(t.a);n.a<n.c.a.length;)e=o5(n),t.b.Hc(e)&&++i;return i}function Sst(t){var e,n,i;for(e=1,i=t.Kc();i.Ob();)e=~~(e=31*e+(null==(n=i.Pb())?0:Jct(n)));return e}function Ist(t,e){var n;this.c=t,pyt(t,n=new Ob,e,t.b,null,!1,null,!1),this.a=new x2(n,0)}function Mst(t,e){this.b=t,this.e=e,this.d=e.j,this.f=(ZT(),jV(t,66).Oj()),this.k=oLt(e.e.Tg(),t)}function Pst(t,e,n){this.b=(yK(t),t),this.d=(yK(e),e),this.e=(yK(n),n),this.c=this.d+""+this.e}function Ost(){this.a=jV(wbt((uBt(),Voe)),19).a,this.c=zv(xR(wbt(ise))),this.b=zv(xR(wbt(Joe)))}function Dst(){Dst=M,RSe=hut((JPt(),Cat(z_(zSe,1),PYt,93,0,[ASe,CSe,ISe,NSe,DSe,OSe,MSe,PSe,SSe])))}function Nst(){Nst=M,Fie=hut((tBt(),Cat(z_(jie,1),PYt,250,0,[Lie,Mie,Pie,Iie,Die,Nie,Oie,Sie,Aie])))}function Lst(){Lst=M,Lre=new UC("UP",0),Ore=new UC(mQt,1),Dre=new UC(rQt,2),Nre=new UC(oQt,3)}function Rst(){Rst=M,aJ(),w_e=new MM(W3t,y_e=L_e),j0(),m_e=new MM(G3t,b_e=$_e)}function Bst(){Bst=M,vhe=new OA("ONE_SIDED",0),_he=new OA("TWO_SIDED",1),yhe=new OA("OFF",2)}function Fst(t){t.r=new Lw,t.w=new Lw,t.t=new Ob,t.i=new Ob,t.d=new Lw,t.a=new hP,t.c=new Db}function jst(t){this.n=new Ob,this.e=new YE,this.j=new YE,this.k=new Ob,this.f=new Ob,this.p=t}function $st(t,e){t.c&&(ZFt(t,e,!0),XE(new LH(null,new d1(e,16)),new Vp(t))),ZFt(t,e,!1)}function Vst(t,e,n){return t==(ait(),Mye)?new So:0!=VOt(e,1)?new Lk(n.length):new Nk(n.length)}function zst(t,e){var n;return e?((n=e.Ve()).dc()||(t.q?xot(t.q,n):t.q=new bM(n)),t):t}function Hst(t,e){var n;return void 0===(n=t.a.get(e))?++t.d:(bB(t.a,e),--t.c,sZ(t.b)),n}function Ust(t,e){var n;return 0==(n=e.p-t.p)?Cdt(t.f.a*t.f.b,e.f.a*e.f.b):n}function qst(t,e){var n,i;return(n=t.f.c.length)<(i=e.f.c.length)?-1:n==i?0:1}function Wst(t){return 0!=t.b.c.length&&jV(DH(t.b,0),70).a?jV(DH(t.b,0),70).a:tX(t)}function Gst(t){var e;if(t){if((e=t).dc())throw $b(new ww);return e.Xb(e.gc()-1)}return o1(t.Kc())}function Kst(t){var e;return Kut(t,0)<0&&(t=oz(t)),64-(0!=(e=fU(yq(t,32)))?QIt(e):QIt(fU(t))+32)}function Yst(t){var e;return e=jV(wTt(t,(lKt(),Khe)),61),t.k==(sCt(),xae)&&(e==(vWt(),CIe)||e==sIe)}function Xst(t,e,n){var i,r;(r=jV(wTt(t,(VGt(),mme)),74))&&(Glt(i=new yy,0,r),Qet(i,n),jrt(e,i))}function Zst(t,e,n){var i,r,o,s;i=(s=mK(t)).d,r=s.c,o=t.n,e&&(o.a=o.a-i.b-r.a),n&&(o.b=o.b-i.d-r.b)}function Qst(t,e){var n,i;return(n=t.j)!=(i=e.j)?n.g-i.g:t.p==e.p?0:n==(vWt(),aIe)?t.p-e.p:e.p-t.p}function Jst(t){var e,n;for(CWt(t),n=new Wf(t.d);n.a<n.c.c.length;)(e=jV(Q1(n),101)).i&&WCt(e)}function tat(t,e,n,i,r){MG(t.c[e.g],n.g,i),MG(t.c[n.g],e.g,i),MG(t.b[e.g],n.g,r),MG(t.b[n.g],e.g,r)}function eat(t,e,n,i){jV(n.b,65),jV(n.b,65),jV(i.b,65),jV(i.b,65),jV(i.b,65),Iet(i.a,new _V(t,e,i))}function nat(t,e){t.d==(jht(),BAe)||t.d==$Ae?jV(e.a,57).c.Fc(jV(e.b,57)):jV(e.b,57).c.Fc(jV(e.a,57))}function iat(t,e,n,i){return 1==n?(!t.n&&(t.n=new tW(zMe,t,1,7)),Fbt(t.n,e,i)):eCt(t,e,n,i)}function rat(t,e){var n;return Drt(n=new zc,e),l8((!t.A&&(t.A=new OD(AOe,t,7)),t.A),n),n}function oat(t,e,n){var i,r;return r=O2(e,M6t),mkt((i=new rI(t,n)).a,i.b,r),r}function sat(t){var e;return t.a&&(1&t.Bb||!t.a.kh())||iD(e=S_t(t),148)&&(t.a=jV(e,148)),t.a}function aat(t,e){var n,i;for(yK(e),i=e.Kc();i.Ob();)if(n=i.Pb(),!t.Hc(n))return!1;return!0}function cat(t,e){var n,i,r;return n=t.l+e.l,i=t.m+e.m+(n>>22),r=t.h+e.h+(i>>22),xO(n&TXt,i&TXt,r&CXt)}function lat(t,e){var n,i,r;return n=t.l-e.l,i=t.m-e.m+(n>>22),r=t.h-e.h+(i>>22),xO(n&TXt,i&TXt,r&CXt)}function uat(t){var e;return t<128?(!(e=(xH(),Eee)[t])&&(e=Eee[t]=new Pf(t)),e):new Pf(t)}function hat(t){var e;return iD(t,78)?t:((e=t&&t.__java$exception)||sw(e=new _ut(t)),e)}function dat(t){if(iD(t,186))return jV(t,118);if(t)return null;throw $b(new $v(e7t))}function fat(t,e){if(null==e)return!1;for(;t.a!=t.b;)if(Dht(e,Fut(t)))return!0;return!1}function gat(t){return!!t.a.Ob()||t.a==t.d&&(t.a=new E2(t.e.f),t.a.Ob())}function pat(t,e){var n;return 0!=(n=e.Pc()).length&&(JV(t.c,t.c.length,n),!0)}function mat(t,e,n){var i,r;for(r=e.vc().Kc();r.Ob();)i=jV(r.Pb(),42),t.yc(i.cd(),i.dd(),n);return t}function bat(t,e){var n;for(n=new Wf(t.b);n.a<n.c.c.length;)lct(jV(Q1(n),70),(lKt(),ode),e)}function wat(t,e,n){var i,r;for(r=new Wf(t.b);r.a<r.c.c.length;)EP(i=jV(Q1(r),33),i.i+e,i.j+n)}function yat(t,e){if(!t)throw $b(new Bv(PBt("value already present: %s",Cat(z_(Mte,1),VKt,1,5,[e]))))}function vat(t,e){return!(!t||!e||t==e)&&Fpt(t.d.c,e.d.c+e.d.b)&&Fpt(e.d.c,t.d.c+t.d.b)}function _at(){return y4(),Kne?new w4(null):jMt(Kot(),"com.google.common.base.Strings")}function kat(t,e){var n;return n=aL(e.a.gc()),XE(yet(new LH(null,new d1(e,1)),t.i),new OS(t,n)),n}function xat(t){var e;return Drt(e=new zc,"T"),l8((!t.d&&(t.d=new OD(AOe,t,11)),t.d),e),e}function Eat(t){var e,n,i,r;for(e=1,n=0,r=t.gc();n<r;++n)e=31*e+(null==(i=t.ki(n))?0:Jct(i));return e}function Tat(t,e,n,i){var r;return d2(e,t.e.Hd().gc()),d2(n,t.c.Hd().gc()),r=t.a[e][n],MG(t.a[e],n,i),r}function Cat(t,e,n,i,r){return r.gm=t,r.hm=e,r.im=I,r.__elementTypeId$=n,r.__elementTypeCategory$=i,r}function Aat(t,e,n,r,o){return _Rt(),i.Math.min(UUt(t,e,n,r,o),UUt(n,r,t,e,VL(new DS(o.a,o.b))))}function Sat(){Sat=M,rle=new JC(YJt,0),nle=new JC(A1t,1),ile=new JC(S1t,2),ele=new JC("BOTH",3)}function Iat(){Iat=M,mle=new bA(eQt,0),ble=new bA(rQt,1),wle=new bA(oQt,2),yle=new bA("TOP",3)}function Mat(){Mat=M,Zse=new KC("Q1",0),tae=new KC("Q4",1),Qse=new KC("Q2",2),Jse=new KC("Q3",3)}function Pat(){Pat=M,hye=new KA("OFF",0),dye=new KA("SINGLE_EDGE",1),uye=new KA("MULTI_EDGE",2)}function Oat(){Oat=M,WEe=new ES("MINIMUM_SPANNING_TREE",0),qEe=new ES("MAXIMUM_SPANNING_TREE",1)}function Dat(){Dat=M,ZEe=new la,XEe=new aa}function Nat(t){var e,n;for(e=new YE,n=cbt(t.d,0);n.b!=n.d.c;)Nz(e,jV(h3(n),188).c);return e}function Lat(t){var e,n;for(n=new Ob,e=t.Kc();e.Ob();)pat(n,fRt(jV(e.Pb(),33)));return n}function Rat(t){var e;tVt(t,!0),e=KYt,PL(t,(VGt(),lbe))&&(e+=jV(wTt(t,lbe),19).a),lct(t,lbe,ndt(e))}function Bat(t,e,n){var i;MW(t.a),Iet(n.i,new vm(t)),vmt(t,i=new CO(jV(LG(t.a,e.b),65)),e),n.f=i}function Fat(t,e){var n,i;return n=t.c,(i=e.e[t.p])<n.a.c.length-1?jV(DH(n.a,i+1),10):null}function jat(t,e){var n,i;for(WX(e,"predicate"),i=0;t.Ob();i++)if(n=t.Pb(),e.Lb(n))return i;return-1}function $at(t,e){var n,i;if(i=0,t<64&&t<=e)for(e=e<64?e:63,n=t;n<=e;n++)i=e0(i,wq(1,n));return i}function Vat(t){var e,n,i;for(EX(),i=0,n=t.Kc();n.Ob();)i+=null!=(e=n.Pb())?Jct(e):0,i|=0;return i}function zat(t){var e;return Jk(),e=new sc,t&&l8((!t.a&&(t.a=new tW(BMe,t,6,6)),t.a),e),e}function Hat(t){var e;return(e=new b).a=t,e.b=yct(t),e.c=D7(Yee,cYt,2,2,6,1),e.c[0]=Vrt(t),e.c[1]=Vrt(t),e}function Uat(t,e){if(0===e)return!t.o&&(t.o=new w8((AGt(),xMe),ePe,t,0)),void t.o.c.$b();wAt(t,e)}function qat(t,e,n){switch(n.g){case 2:t.b=e;break;case 1:t.c=e;break;case 4:t.d=e;break;case 3:t.a=e}}function Wat(t){switch(t.g){case 1:return _Se;case 2:return vSe;case 3:return kSe;default:return xSe}}function Gat(t){switch(jV(wTt(t,(VGt(),yme)),163).g){case 2:case 4:return!0;default:return!1}}function Kat(){Kat=M,whe=hut((dRt(),Cat(z_(khe,1),PYt,256,0,[che,uhe,hhe,dhe,fhe,ghe,mhe,ahe,lhe,phe])))}function Yat(){Yat=M,XIe=hut((JFt(),Cat(z_(eMe,1),PYt,259,0,[zIe,UIe,VIe,qIe,WIe,KIe,GIe,HIe,$Ie])))}function Xat(){Xat=M,q_e=fH(amt(amt(FT(fH(new j2,(Uvt(),Rve),(LAt(),Kve)),Bve),qve),Wve),Fve,Gve)}function Zat(){Zat=M,Iue=new CA(YJt,0),Sue=new CA("INCOMING_ONLY",1),Mue=new CA("OUTGOING_ONLY",2)}function Qat(){Qat=M,uee={boolean:UE,number:Cv,string:Av,object:xSt,function:xSt,undefined:Wb}}function Jat(t,e){mz(t>=0,"Negative initial capacity"),mz(e>=0,"Non-positive load factor"),MW(this)}function tct(t,e,n){return!(t>=128)&&XI(t<64?t0(wq(1,t),n):t0(wq(1,t-64),e),0)}function ect(t,e){return!(!t||!e||t==e)&&Sft(t.b.c,e.b.c+e.b.b)<0&&Sft(e.b.c,t.b.c+t.b.b)<0}function nct(t){var e,n,i;return n=t.n,i=t.o,e=t.d,new UY(n.a-e.b,n.b-e.d,i.a+(e.b+e.c),i.b+(e.d+e.a))}function ict(t){var e,n,i,r;for(i=0,r=(n=t.a).length;i<r;++i)Tct(t,e=n[i],(vWt(),EIe)),Tct(t,e,aIe)}function rct(t){var e,n;for(null==t.j&&(t.j=(TZ(),Skt(eee.ce(t)))),e=0,n=t.j.length;e<n;++e);}function oct(t){var e,n;return xO(e=1+~t.l&TXt,n=~t.m+(0==e?1:0)&TXt,~t.h+(0==e&&0==n?1:0)&CXt)}function sct(t,e){return x$t(jV(jV(LG(t.g,e.a),46).a,65),jV(jV(LG(t.g,e.b),46).a,65))}function act(t,e,n){var i;if(e>(i=t.gc()))throw $b(new JB(e,i));return t.hi()&&(n=QQ(t,n)),t.Vh(e,n)}function cct(t,e,n){return null==n?(!t.q&&(t.q=new Db),m6(t.q,e)):(!t.q&&(t.q=new Db),GK(t.q,e,n)),t}function lct(t,e,n){return null==n?(!t.q&&(t.q=new Db),m6(t.q,e)):(!t.q&&(t.q=new Db),GK(t.q,e,n)),t}function uct(t){var e,n;return zst(n=new w6,t),lct(n,(Ert(),ase),t),eVt(t,n,e=new Db),Tqt(t,n,e),n}function hct(t){var e,n,i;for(_Rt(),n=D7(TTe,cYt,8,2,0,1),i=0,e=0;e<2;e++)i+=.5,n[e]=hyt(i,t);return n}function dct(t,e){var n,i,r;for(n=!1,i=t.a[e].length,r=0;r<i-1;r++)n|=Cpt(t,e,r,r+1);return n}function fct(t,e,n,i,r){var o,s;for(s=n;s<=r;s++)for(o=e;o<=i;o++)byt(t,o,s)||jBt(t,o,s,!0,!1)}function gct(t,e){this.b=t,OM.call(this,(jV(Get(KX((KG(),QPe).o),10),18),e.i),e.g),this.a=(fot(),COe)}function pct(t,e){this.c=t,this.d=e,this.b=this.d/this.c.c.Hd().gc()|0,this.a=this.d%this.c.c.Hd().gc()}function mct(){this.o=null,this.k=null,this.j=null,this.d=null,this.b=null,this.n=null,this.a=null}function bct(t,e,n){this.q=new i.Date,this.q.setFullYear(t+cXt,e,n),this.q.setHours(0,0,0,0),hVt(this,0)}function wct(){wct=M,Owe=new VA(YJt,0),Pwe=new VA("NODES_AND_EDGES",1),Dwe=new VA("PREFER_EDGES",2)}function yct(t){var e;return 0==t?"Etc/GMT":(t<0?(t=-t,e="Etc/GMT-"):e="Etc/GMT+",e+htt(t))}function vct(t){var e;if(t<0)return FYt;if(0==t)return 0;for(e=IYt;!(e&t);e>>=1);return e}function _ct(t){var e,n;return 32==(n=QIt(t.h))?32==(e=QIt(t.m))?QIt(t.l)+32:e+20-10:n-12}function kct(t){var e;return null==(e=t.a[t.b])?null:(MG(t.a,t.b,null),t.b=t.b+1&t.a.length-1,e)}function xct(t){var e,n;return e=t.t-t.k[t.o.p]*t.d+t.j[t.o.p]>t.f,n=t.u+t.e[t.o.p]*t.d>t.f*t.s*t.d,e||n}function Ect(t,e,n){var i,r;return i=new $7(e,n),r=new H,t.b=GLt(t,t.b,i,r),r.b||++t.c,t.b.b=!1,r.d}function Tct(t,e,n){var i,r,o;for(o=0,r=Oht(e,n).Kc();r.Ob();)i=jV(r.Pb(),11),GK(t.c,i,ndt(o++))}function Cct(t){var e,n;for(n=new Wf(t.a.b);n.a<n.c.c.length;)(e=jV(Q1(n),81)).g.c=-e.g.c-e.g.b;vNt(t)}function Act(t){var e,n;for(n=new Wf(t.a.b);n.a<n.c.c.length;)(e=jV(Q1(n),57)).d.c=-e.d.c-e.d.b;yNt(t)}function Sct(t){var e;return(!t.c||!(1&t.Bb)&&64&t.c.Db)&&iD(e=S_t(t),88)&&(t.c=jV(e,26)),t.c}function Ict(t){var e,n,i;e=1+~t.l&TXt,n=~t.m+(0==e?1:0)&TXt,i=~t.h+(0==e&&0==n?1:0)&CXt,t.l=e,t.m=n,t.h=i}function Mct(t){var e,n,i,r,o;for(e=new zk,r=0,o=(i=t).length;r<o;++r)n=i[r],e.a+=n.a,e.b+=n.b;return e}function Pct(t,e){var n,i,r,o,s;for(EX(),s=!1,r=0,o=(i=e).length;r<o;++r)n=i[r],s|=t.Fc(n);return s}function Oct(t){var e,n;for(_Rt(),n=-17976931348623157e292,e=0;e<t.length;e++)t[e]>n&&(n=t[e]);return n}function Dct(t,e,n){var i;return _Lt(t,e,i=new Ob,(vWt(),sIe),!0,!1),_Lt(t,n,i,CIe,!1,!1),i}function Nct(t,e,n){var i,r;return r=O2(e,"labels"),WPt((i=new gI(t,n)).a,i.b,r),r}function Lct(t,e,n,i){var r;return(r=wOt(t,e,n,i))||!(r=odt(t,n,i))||jHt(t,e,r)?r:null}function Rct(t,e,n,i){var r;return(r=yOt(t,e,n,i))||!(r=sdt(t,n,i))||jHt(t,e,r)?r:null}function Bct(t,e){var n;for(n=0;n<t.a.a.length;n++)if(!jV(NH(t.a,n),169).Lb(e))return!1;return!0}function Fct(t,e,n){if(wG(e),n.Ob())for(aM(e,CG(n.Pb()));n.Ob();)aM(e,t.a),aM(e,CG(n.Pb()));return e}function jct(t){var e,n,i;for(EX(),i=1,n=t.Kc();n.Ob();)i=31*i+(null!=(e=n.Pb())?Jct(e):0),i|=0;return i}function $ct(t,e,n,i,r){var o;return o=_Pt(t,e),n&&Ict(o),r&&(t=Tyt(t,e),hee=i?oct(t):xO(t.l,t.m,t.h)),o}function Vct(t,e){var n;try{e.Vd()}catch(e){if(!iD(e=hat(e),78))throw $b(e);n=e,t.c[t.c.length]=n}}function zct(t,e,n){var i,r;return iD(e,144)&&n?(i=jV(e,144),r=n,t.a[i.b][r.b]+t.a[r.b][i.b]):0}function Hct(t,e){switch(e){case 7:return!!t.e&&0!=t.e.i;case 8:return!!t.d&&0!=t.d.i}return ugt(t,e)}function Uct(t,e){switch(e.g){case 0:iD(t.b,631)||(t.b=new Ost);break;case 1:iD(t.b,632)||(t.b=new lz)}}function qct(t,e){for(;null!=t.g||t.c?null==t.g||0!=t.i&&jV(t.g[t.i-1],47).Ob():JQ(t);)mI(e,oDt(t))}function Wct(t,e,n){t.g=MAt(t,e,(vWt(),sIe),t.b),t.d=MAt(t,n,sIe,t.b),0!=t.g.c&&0!=t.d.c&&UTt(t)}function Gct(t,e,n){t.g=MAt(t,e,(vWt(),CIe),t.j),t.d=MAt(t,n,CIe,t.j),0!=t.g.c&&0!=t.d.c&&UTt(t)}function Kct(t,e,n){return!vx(IY(new LH(null,new d1(t.c,16)),new rg(new ZS(e,n)))).sd((fT(),Jne))}function Yct(t){var e;return _K(t),e=new ct,t.a.sd(e)?(CD(),new mv(yK(e.a))):(CD(),CD(),Ene)}function Xct(t){var e;return!(t.b<=0)&&((e=zM("MLydhHmsSDkK",XEt(lY(t.c,0))))>1||e>=0&&t.b<3)}function Zct(t){var e,n;for(e=new yy,n=cbt(t,0);n.b!=n.d.c;)RL(e,0,new dP(jV(h3(n),8)));return e}function Qct(t){var e;for(e=new Wf(t.a.b);e.a<e.c.c.length;)jV(Q1(e),81).f.$b();yv(t.b,t),$Nt(t)}function Jct(t){return qI(t)?bwt(t):UI(t)?GM(t):HI(t)?(yK(t),t?1231:1237):eq(t)?t.Hb():IU(t)?TN(t):JX(t)}function tlt(t){return qI(t)?Yee:UI(t)?Cee:HI(t)?vee:eq(t)||IU(t)?t.gm:t.gm||Array.isArray(t)&&z_(Jte,1)||Jte}function elt(t){if(0===t.g)return new sa;throw $b(new Bv(D5t+(null!=t.f?t.f:""+t.g)))}function nlt(t){if(0===t.g)return new ra;throw $b(new Bv(D5t+(null!=t.f?t.f:""+t.g)))}function ilt(t,e,n){if(0===e)return!t.o&&(t.o=new w8((AGt(),xMe),ePe,t,0)),void tst(t.o,n);ySt(t,e,n)}function rlt(t,e,n){this.g=t,this.e=new zk,this.f=new zk,this.d=new YE,this.b=new YE,this.a=e,this.c=n}function olt(t,e,n,i){this.b=new Ob,this.n=new Ob,this.i=i,this.j=n,this.s=t,this.t=e,this.r=0,this.d=0}function slt(t){this.e=t,this.d=new p5(this.e.g),this.a=this.d,this.b=gat(this),this.$modCount=t.$modCount}function alt(t){for(;!t.d||!t.d.Ob();){if(!t.b||Wv(t.b))return null;t.d=jV(fW(t.b),47)}return t.d}function clt(t){return WV(t.c,(Dat(),ZEe)),snt(t.a,zv(xR(wbt((Rgt(),Gbe)))))?new Ua:new Cm(t)}function llt(t){switch(t.g){case 1:return j3t;default:case 2:return 0;case 3:return ZQt;case 4:return $3t}}function ult(){var t;return fKt(),ENe||(t=tL(QWt("M",!0)),t=gU(QWt("M",!1),t),ENe=t)}function hlt(t,e){var n,i,r;for(r=t.b;r;){if(0==(n=t.a.ue(e,r.d)))return r;i=n<0?0:1,r=r.a[i]}return null}function dlt(t,e,n){var i,r;cN(),i=!!kM(n),(r=jV(e.xc(i),15))||(r=new Ob,e.zc(i,r)),r.Fc(n)}function flt(t,e){var n,i;return(n=jV(QPt(t,(GOt(),fxe)),19).a)==(i=jV(QPt(e,fxe),19).a)||n<i?-1:n>i?1:0}function glt(t,e){return!!dNt(t,e)&&(ZIt(t.b,jV(wTt(e,(lKt(),qhe)),21),e),Nz(t.a,e),!0)}function plt(t){var e,n;(e=jV(wTt(t,(lKt(),_de)),10))&&(w9((n=e.c).a,e),0==n.a.c.length&&w9(mK(e).b,n))}function mlt(t){return Kne?D7(zne,gZt,572,0,0,1):jV(Ymt(t.a,D7(zne,gZt,572,t.a.c.length,0,1)),842)}function blt(t,e,n,i){return QK(),new cv(Cat(z_(Vte,1),vYt,42,0,[(Uwt(t,e),new mE(t,e)),(Uwt(n,i),new mE(n,i))]))}function wlt(t,e,n){var i;return uit(i=new My,e,n),l8((!t.q&&(t.q=new tW(GPe,t,11,10)),t.q),i),i}function ylt(t){var e,n,i,r;for(n=(r=lC(IMe,t)).length,i=D7(Yee,cYt,2,n,6,1),e=0;e<n;++e)i[e]=r[e];return i}function vlt(t,e){var n,i,r,o,s;for(r=0,o=(i=e).length;r<o;++r)n=i[r],s=new UG(t),n.Qe(s),DVt(s);MW(t.f)}function _lt(t,e){var n;return e===t||!!iD(e,224)&&(n=jV(e,224),Dht(t.Zb(),n.Zb()))}function klt(t,e){var n;2*e+1>=t.b.c.length||(klt(t,2*e+1),(n=2*e+2)<t.b.c.length&&klt(t,n),BSt(t,e))}function xlt(t,e,n){var i,r;this.g=t,this.c=e,this.a=this,this.d=this,r=Zit(n),i=D7(Yte,AYt,330,r,0,1),this.b=i}function Elt(t,e,n){var i;for(i=n-1;i>=0&&t[i]===e[i];i--);return i<0?0:aC(t0(t[i],qXt),t0(e[i],qXt))?-1:1}function Tlt(t,e){var n,i;for(i=cbt(t,0);i.b!=i.d.c;)(n=jV(h3(i),214)).e.length>0&&(e.td(n),n.i&&mdt(n))}function Clt(t,e){var n,i;return i=jV(yst(t.a,4),126),n=D7(dPe,n8t,415,e,0,1),null!=i&&ozt(i,0,n,0,i.length),n}function Alt(t,e){var n;return n=new iBt(!!(256&t.f),t.i,t.a,t.d,!!(16&t.f),t.j,t.g,e),null!=t.e||(n.c=t),n}function Slt(t,e){var n;for(n=t.Zb().Cc().Kc();n.Ob();)if(jV(n.Pb(),14).Hc(e))return!0;return!1}function Ilt(t,e,n,i,r){var o,s;for(s=n;s<=r;s++)for(o=e;o<=i;o++)if(byt(t,o,s))return!0;return!1}function Mlt(t,e,n){var i,r,o,s;for(yK(n),s=!1,o=t.Zc(e),r=n.Kc();r.Ob();)i=r.Pb(),o.Rb(i),s=!0;return s}function Plt(t,e){var n;return t===e||!!iD(e,83)&&(n=jV(e,83),UCt(uq(t),n.vc()))}function Olt(t,e,n){var i,r;for(r=n.Kc();r.Ob();)if(i=jV(r.Pb(),42),t.re(e,i.dd()))return!0;return!1}function Dlt(t,e,n){return t.d[e.p][n.p]||(nwt(t,e,n),t.d[e.p][n.p]=!0,t.d[n.p][e.p]=!0),t.a[e.p][n.p]}function Nlt(t,e){if(!t.ai()&&null==e)throw $b(new Bv("The 'no null' constraint is violated"));return e}function Llt(t,e){null==t.D&&null!=t.B&&(t.D=t.B,t.B=null),Vit(t,null==e?null:(yK(e),e)),t.C&&t.yk(null)}function Rlt(t,e){return!(!t||t==e||!PL(e,(lKt(),nde)))&&jV(wTt(e,(lKt(),nde)),10)!=t}function Blt(t){switch(t.i){case 2:return!0;case 1:return!1;case-1:++t.c;default:return t.pl()}}function Flt(t){switch(t.i){case-2:return!0;case-1:return!1;case 1:--t.c;default:return t.ql()}}function jlt(t){BQ.call(this,"The given string does not match the expected format for individual spacings.",t)}function $lt(){$lt=M,oMe=new iI("ELK",0),sMe=new iI("JSON",1),rMe=new iI("DOT",2),aMe=new iI("SVG",3)}function Vlt(){Vlt=M,ake=new mS(YJt,0),cke=new mS("RADIAL_COMPACTION",1),lke=new mS("WEDGE_COMPACTION",2)}function zlt(){zlt=M,Hne=new pC("CONCURRENT",0),Une=new pC("IDENTITY_FINISH",1),qne=new pC("UNORDERED",2)}function Hlt(){Hlt=M,dT(),soe=new MM($Qt,aoe=noe),ooe=new ob(VQt),coe=new ob(zQt),loe=new ob(HQt)}function Ult(){Ult=M,ule=new ki,hle=new xi,lle=new Ei,cle=new Ti,yK(new Ci),ale=new R}function qlt(){qlt=M,tye=new WA("CONSERVATIVE",0),eye=new WA("CONSERVATIVE_SOFT",1),nye=new WA("SLOPPY",2)}function Wlt(){Wlt=M,fSe=new WP(15),dSe=new qP((cKt(),qCe),fSe),gSe=gAe,cSe=rCe,lSe=RCe,hSe=jCe,uSe=FCe}function Glt(t,e,n){var i,r;for(i=new YE,r=cbt(n,0);r.b!=r.d.c;)Nz(i,new dP(jV(h3(r),8)));Mlt(t,e,i)}function Klt(t){var e,n,i;for(e=0,i=D7(TTe,cYt,8,t.b,0,1),n=cbt(t,0);n.b!=n.d.c;)i[e++]=jV(h3(n),8);return i}function Ylt(t){var e;return!t.a&&(t.a=new tW(qPe,t,9,5)),0!=(e=t.a).i?$T(jV(Get(e,0),678)):null}function Xlt(t,e){var n;return n=ift(t,e),aC(n0(t,e),0)|YI(n0(t,n),0)?n:ift(dYt,n0(vq(n,63),1))}function Zlt(t,e){var n;n=null!=wbt((Rgt(),Gbe))&&null!=e.wg()?zv(xR(e.wg()))/zv(xR(wbt(Gbe))):1,GK(t.b,e,n)}function Qlt(t,e){var n,i;return(n=jV(t.d.Bc(e),14))?((i=t.e.hc()).Gc(n),t.e.d-=n.gc(),n.$b(),i):null}function Jlt(t,e){var n,i;if(0!=(i=t.c[e]))for(t.c[e]=0,t.d-=i,n=e+1;n<t.a.length;)t.a[n]-=i,n+=n&-n}function tut(t){var e;if((e=t.a.c.length)>0)return Rq(e-1,t.a.c.length),a6(t.a,e-1);throw $b(new bw)}function eut(t,e,n){if(e<0)throw $b(new Iv(J5t+e));e<t.j.c.length?i4(t.j,e,n):(g3(t,e),WV(t.j,n))}function nut(t,e,n){if(t>e)throw $b(new Bv(wZt+t+yZt+e));if(t<0||e>n)throw $b(new k_(wZt+t+vZt+e+lZt+n))}function iut(t){if(!(t.a&&8&t.a.i))throw $b(new Fv("Enumeration class expected for layout option "+t.f))}function rut(t){var e;++t.j,0==t.i?t.g=null:t.i<t.g.length&&(e=t.g,t.g=t.ri(t.i),ozt(e,0,t.g,0,t.i))}function out(t,e){var n,i;for(n=t.a.length-1,t.c=t.c-1&n;e!=t.c;)i=e+1&n,MG(t.a,e,t.a[i]),e=i;MG(t.a,t.c,null)}function sut(t,e){var n,i;for(n=t.a.length-1;e!=t.b;)i=e-1&n,MG(t.a,e,t.a[i]),e=i;MG(t.a,t.b,null),t.b=t.b+1&n}function aut(t,e,n){var i;return PJ(e,t.c.length),0!=(i=n.Pc()).length&&(JV(t.c,e,i),!0)}function cut(t){var e,n;if(null==t)return null;for(e=0,n=t.length;e<n;e++)if(!Tz(t[e]))return t[e];return null}function lut(t,e,n){var i,r,o,s;for(o=0,s=(r=n).length;o<s;++o)if(i=r[o],t.b.re(e,i.cd()))return i;return null}function uut(t){var e,n,i,r,o;for(o=1,i=0,r=(n=t).length;i<r;++i)o=31*o+(null!=(e=n[i])?Jct(e):0),o|=0;return o}function hut(t){var e,n,i,r,o;for(e={},r=0,o=(i=t).length;r<o;++r)e[":"+(null!=(n=i[r]).f?n.f:""+n.g)]=n;return e}function dut(t){var e;for(wG(t),Cj(!0,"numberToAdvance must be nonnegative"),e=0;e<0&&gPt(t);e++)U4(t);return e}function fut(t){var e,n,i;for(i=0,n=new sq(ZD(t.a.Kc(),new u));gPt(n);)(e=jV(U4(n),17)).c.i==e.d.i||++i;return i}function gut(t,e){var n,i,r;for(n=t,r=0;;){if(n==e)return r;if(!(i=n.e))throw $b(new dw);n=mK(i),++r}}function put(t,e){var n,i,r;for(r=e-t.f,i=new Wf(t.d);i.a<i.c.c.length;)vpt(n=jV(Q1(i),443),n.e,n.f+r);t.f=e}function mut(t,e,n){return i.Math.abs(e-t)<F3t||i.Math.abs(n-t)<F3t||(e-t>F3t?t-n>F3t:n-t>F3t)}function but(t,e){return t?e&&!t.j||iD(t,124)&&0==jV(t,124).a.b?0:t.Re():0}function wut(t,e){return t?e&&!t.k||iD(t,124)&&0==jV(t,124).a.a?0:t.Se():0}function yut(t){return IRt(),t<0?-1!=t?new Rbt(-1,-t):Xee:t<=10?Qee[CQ(t)]:new Rbt(1,t)}function vut(t){throw Qat(),$b(new gv("Unexpected typeof result '"+t+"'; please report this bug to the GWT team"))}function _ut(t){c_(),GO(this),vX(this),this.e=t,ALt(this,t),this.g=null==t?UKt:$ft(t),this.a="",this.b=t,this.a=""}function kut(){this.a=new ea,this.f=new fm(this),this.b=new gm(this),this.i=new pm(this),this.e=new mm(this)}function xut(){iv.call(this,new V7(tet(16))),hit(2,aYt),this.b=2,this.a=new $K(null,null,0,null),ew(this.a,this.a)}function Eut(){Eut=M,iwe=new RA("DUMMY_NODE_OVER",0),rwe=new RA("DUMMY_NODE_UNDER",1),owe=new RA("EQUAL",2)}function Tut(){Tut=M,qse=$Q(Cat(z_(WAe,1),PYt,103,0,[(jht(),BAe),FAe])),Wse=$Q(Cat(z_(WAe,1),PYt,103,0,[$Ae,RAe]))}function Cut(t){return(vWt(),wIe).Hc(t.j)?zv(xR(wTt(t,(lKt(),Pde)))):Mct(Cat(z_(TTe,1),cYt,8,0,[t.i.n,t.n,t.a])).b}function Aut(t){var e,n;for(e=t.b.a.a.ec().Kc();e.Ob();)n=new YOt(jV(e.Pb(),561),t.e,t.f),WV(t.g,n)}function Sut(t,e){var n,i;n=t.nk(e,null),i=null,e&&(ex(),rnt(i=new Rb,t.r)),(n=VEt(t,i,n))&&n.Fi()}function Iut(t,e){var n,i;for(i=0!=VOt(t.d,1),n=!0;n;)n=!1,n=e.c.Tf(e.e,i),n|=LNt(t,e,i,!1),i=!i;Prt(t)}function Mut(t,e){var n,i,r;return i=!1,n=e.q.d,e.d<t.b&&(r=gNt(e.q,t.b),e.q.d>r&&(oxt(e.q,r),i=n!=e.q.d)),i}function Put(t,e){var n,r,o,s,a;return s=e.i,a=e.j,r=s-(n=t.f).i,o=a-n.j,i.Math.sqrt(r*r+o*o)}function Out(t,e){var n;return(n=Xpt(t))||(Rzt(),l8((n=new Cb(XAt(e))).Vk(),t)),n}function Dut(t,e){var n,i;return(n=jV(t.c.Bc(e),14))?((i=t.hc()).Gc(n),t.d-=n.gc(),n.$b(),t.mc(i)):t.jc()}function Nut(t,e){var n;for(n=0;n<e.length;n++)if(t==(h1(n,e.length),e.charCodeAt(n)))return!0;return!1}function Lut(t,e){var n;for(n=0;n<e.length;n++)if(t==(h1(n,e.length),e.charCodeAt(n)))return!0;return!1}function Rut(t){var e,n;if(null==t)return!1;for(e=0,n=t.length;e<n;e++)if(!Tz(t[e]))return!1;return!0}function But(t){var e;if(0!=t.c)return t.c;for(e=0;e<t.a.length;e++)t.c=33*t.c+(-1&t.a[e]);return t.c=t.c*t.e,t.c}function Fut(t){var e;return TL(t.a!=t.b),e=t.d.a[t.a],_L(t.b==t.d.c&&null!=e),t.c=t.a,t.a=t.a+1&t.d.a.length-1,e}function jut(t){var e;if(!(t.c.c<0?t.a>=t.c.b:t.a<=t.c.b))throw $b(new ww);return e=t.a,t.a+=t.c.c,++t.b,ndt(e)}function $ut(t){var e;return e=new uet(t),e2(t.a,aae,new Xv(Cat(z_(Xse,1),VKt,369,0,[e]))),e.d&&WV(e.f,e.d),e.f}function Vut(t){var e;return zst(e=new SO(t.a),t),lct(e,(lKt(),fde),t),e.o.a=t.g,e.o.b=t.f,e.n.a=t.i,e.n.b=t.j,e}function zut(t,e,n,i){var r,o;for(o=t.Kc();o.Ob();)(r=jV(o.Pb(),70)).n.a=e.a+(i.a-r.o.a)/2,r.n.b=e.b,e.b+=r.o.b+n}function Hut(t,e,n){var i;for(i=e.a.a.ec().Kc();i.Ob();)if(iZ(t,jV(i.Pb(),57),n))return!0;return!1}function Uut(t){var e,n;for(n=new Wf(t.r);n.a<n.c.c.length;)if(e=jV(Q1(n),10),t.n[e.p]<=0)return e;return null}function qut(t){var e,n;for(n=new Lw,e=new Wf(t);e.a<e.c.c.length;)jrt(n,gRt(jV(Q1(e),33)));return n}function Wut(t){var e;return e=yP(Cye),jV(wTt(t,(lKt(),Zhe)),21).Hc((dRt(),fhe))&&fH(e,(yTt(),Bse),(hKt(),jce)),e}function Gut(t,e,n){var i;i=new EMt(t,e),ZIt(t.r,e.Hf(),i),n&&!$q(t.u)&&(i.c=new wQ(t.d),Iet(e.wf(),new Cg(i)))}function Kut(t,e){var n;return XM(t)&&XM(e)&&(n=t-e,!isNaN(n))?n:B_t(XM(t)?Cst(t):t,XM(e)?Cst(e):e)}function Yut(t,e){return e<t.length&&(h1(e,t.length),63!=t.charCodeAt(e))&&(h1(e,t.length),35!=t.charCodeAt(e))}function Xut(t,e,n,i){var r,o;t.a=e,o=i?0:1,t.f=(r=new QCt(t.c,t.a,n,o),new sBt(n,t.a,r,t.e,t.b,t.c==(ait(),Iye)))}function Zut(t,e,n){var i,r;return r=t.a,t.a=e,4&t.Db&&!(1&t.Db)&&(i=new Qq(t,1,1,r,e),n?n.Ei(i):n=i),n}function Qut(t,e,n){var i,r;return r=t.b,t.b=e,4&t.Db&&!(1&t.Db)&&(i=new Qq(t,1,3,r,e),n?n.Ei(i):n=i),n}function Jut(t,e,n){var i,r;return r=t.f,t.f=e,4&t.Db&&!(1&t.Db)&&(i=new Qq(t,1,0,r,e),n?n.Ei(i):n=i),n}function tht(t,e){var n,i,r,o;return(o=vSt((i=e,(r=t?Xpt(t):null)&&r.Xk(),i)))==e&&(n=Xpt(t))&&n.Xk(),o}function eht(t,e){var n,i,r;for(r=1,n=t,i=e>=0?e:-e;i>0;)i%2==0?(n*=n,i=i/2|0):(r*=n,i-=1);return e<0?1/r:r}function nht(t,e){var n,i,r;for(r=1,n=t,i=e>=0?e:-e;i>0;)i%2==0?(n*=n,i=i/2|0):(r*=n,i-=1);return e<0?1/r:r}function iht(t){var e,n;if(null!=t)for(n=0;n<t.length;++n)(e=t[n])&&(jV(e.g,367),e.i)}function rht(t){var e,n,r;for(r=0,n=new Wf(t.a);n.a<n.c.c.length;)e=jV(Q1(n),187),r=i.Math.max(r,e.g);return r}function oht(t){var e,n,i;for(i=new Wf(t.b);i.a<i.c.c.length;)(e=(n=jV(Q1(i),214)).c.Rf()?n.f:n.a)&&fHt(e,n.j)}function sht(){sht=M,mSe=new $S("INHERIT",0),pSe=new $S("INCLUDE_CHILDREN",1),bSe=new $S("SEPARATE_CHILDREN",2)}function aht(t,e){switch(e){case 1:return!t.n&&(t.n=new tW(zMe,t,1,7)),void cHt(t.n);case 2:return void Pit(t,null)}Uat(t,e)}function cht(t){switch(t.gc()){case 0:return jte;case 1:return new TH(wG(t.Xb(0)));default:return new EZ(t)}}function lht(t){switch(aj(),t.gc()){case 0:return GG(),Kte;case 1:return new w_(t.Kc().Pb());default:return new mC(t)}}function uht(t){switch(aj(),t.c){case 0:return GG(),Kte;case 1:return new w_(ZSt(new KE(t)));default:return new av(t)}}function hht(t,e){wG(t);try{return t.xc(e)}catch(t){if(iD(t=hat(t),205)||iD(t,173))return null;throw $b(t)}}function dht(t,e){wG(t);try{return t.Bc(e)}catch(t){if(iD(t=hat(t),205)||iD(t,173))return null;throw $b(t)}}function fht(t,e){wG(t);try{return t.Hc(e)}catch(t){if(iD(t=hat(t),205)||iD(t,173))return!1;throw $b(t)}}function ght(t,e){wG(t);try{return t.Mc(e)}catch(t){if(iD(t=hat(t),205)||iD(t,173))return!1;throw $b(t)}}function pht(t,e){wG(t);try{return t._b(e)}catch(t){if(iD(t=hat(t),205)||iD(t,173))return!1;throw $b(t)}}function mht(t,e){t.a.c.length>0&&glt(jV(DH(t.a,t.a.c.length-1),570),e)||WV(t.a,new p4(e))}function bht(t){var e,n;zj(),e=t.d.c-t.e.c,Iet((n=jV(t.g,145)).b,new vp(e)),Iet(n.c,new _p(e)),t4(n.i,new kp(e))}function wht(t){var e;return(e=new C_).a+="VerticalSegment ",oM(e,t.e),e.a+=" ",sM(e,XD(new b_,new Wf(t.k))),e.a}function yht(t){var e;return(e=jV(utt(t.c.c,""),229))||(e=new UJ(vk(yk(new wa,""),"Other")),Zmt(t.c.c,"",e)),e}function vht(t){var e;return 64&t.Db?COt(t):((e=new lN(COt(t))).a+=" (name: ",iM(e,t.zb),e.a+=")",e.a)}function _ht(t,e,n){var i,r;return r=t.sb,t.sb=e,4&t.Db&&!(1&t.Db)&&(i=new Qq(t,1,4,r,e),n?n.Ei(i):n=i),n}function kht(t,e){var n,i;for(n=0,i=oft(t,e).Kc();i.Ob();)n+=null!=wTt(jV(i.Pb(),11),(lKt(),_de))?1:0;return n}function xht(t,e,n){var i,r,o;for(i=0,o=cbt(t,0);o.b!=o.d.c&&!((r=zv(xR(h3(o))))>n);)r>=e&&++i;return i}function Eht(t,e,n){var i;return i=new O9(t.e,3,13,null,e.c||(pKt(),lOe),swt(t,e),!1),n?n.Ei(i):n=i,n}function Tht(t,e,n){var i;return i=new O9(t.e,4,13,e.c||(pKt(),lOe),null,swt(t,e),!1),n?n.Ei(i):n=i,n}function Cht(t,e,n){var i,r;return r=t.r,t.r=e,4&t.Db&&!(1&t.Db)&&(i=new Qq(t,1,8,r,t.r),n?n.Ei(i):n=i),n}function Aht(t,e){var n,i;return!(i=(n=jV(e,676)).vk())&&n.wk(i=iD(e,88)?new MI(t,jV(e,26)):new B0(t,jV(e,148))),i}function Sht(t,e,n){var i;t.qi(t.i+1),i=t.oi(e,n),e!=t.i&&ozt(t.g,e,t.g,e+1,t.i-e),MG(t.g,e,i),++t.i,t.bi(e,n),t.ci()}function Iht(t,e){var n;return e.a&&(n=e.a.a.length,t.a?sM(t.a,t.b):t.a=new uN(t.d),z0(t.a,e.a,e.d.length,n)),t}function Mht(t,e){var n,i,r;if(e.vi(t.a),null!=(r=jV(yst(t.a,8),1936)))for(n=0,i=r.length;n<i;++n)null.jm()}function Pht(t,e){var n;return n=new ct,t.a.sd(n)?(CD(),new mv(yK(k9(t,n.a,e)))):(_K(t),CD(),CD(),Ene)}function Oht(t,e){switch(e.g){case 2:case 1:return oft(t,e);case 3:case 4:return est(oft(t,e))}return EX(),EX(),cne}function Dht(t,e){return qI(t)?bF(t,e):UI(t)?mF(t,e):HI(t)?(yK(t),zI(t)===zI(e)):eq(t)?t.Fb(e):IU(t)?FM(t,e):m0(t,e)}function Nht(t){return t?1&t.i?t==INe?vee:t==SNe?Mee:t==DNe?Aee:t==ONe?Cee:t==MNe?Ree:t==NNe?Fee:t==PNe?xee:Tee:t:null}function Lht(t,e,n,i,r){0!=e&&0!=i&&(1==e?r[i]=gwt(r,n,i,t[0]):1==i?r[e]=gwt(r,t,e,n[0]):XMt(t,n,r,e,i))}function Rht(t,e){var n;0!=t.c.length&&(cP(n=jV(Ymt(t,D7(Sae,o1t,10,t.c.length,0,1)),193),new Mn),eMt(n,e))}function Bht(t,e){var n;0!=t.c.length&&(cP(n=jV(Ymt(t,D7(Sae,o1t,10,t.c.length,0,1)),193),new Pn),eMt(n,e))}function Fht(t,e,n,i){switch(e){case 1:return!t.n&&(t.n=new tW(zMe,t,1,7)),t.n;case 2:return t.k}return kvt(t,e,n,i)}function jht(){jht=M,jAe=new RS(lQt,0),FAe=new RS(oQt,1),BAe=new RS(rQt,2),RAe=new RS(mQt,3),$Ae=new RS("UP",4)}function $ht(){$ht=M,dae=new YC(YJt,0),hae=new YC("INSIDE_PORT_SIDE_GROUPS",1),uae=new YC("FORCE_MODEL_ORDER",2)}function Vht(t,e,n){if(t<0||e>n)throw $b(new Iv(wZt+t+vZt+e+", size: "+n));if(t>e)throw $b(new Bv(wZt+t+yZt+e))}function zht(t,e,n){if(e<0)rIt(t,n);else{if(!n.Ij())throw $b(new Bv(i6t+n.ne()+r6t));jV(n,66).Nj().Vj(t,t.yh(),e)}}function Hht(t,e,n,i,r,o,s,a){var c;for(c=n;o<s;)c>=i||e<n&&a.ue(t[e],t[c])<=0?MG(r,o++,t[e++]):MG(r,o++,t[c++])}function Uht(t,e,n,i,r,o){this.e=new Ob,this.f=(oit(),zwe),WV(this.e,t),this.d=e,this.a=n,this.b=i,this.f=r,this.c=o}function qht(t,e){var n,i;for(i=new ID(t);i.e!=i.i.gc();)if(n=jV(vbt(i),26),zI(e)===zI(n))return!0;return!1}function Wht(t){var e,n,i,r;for(gKt(),i=0,r=(n=tbt()).length;i<r;++i)if(-1!=_9((e=n[i]).a,t,0))return e;return Are}function Ght(t){return t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:t>=48&&t<=57?t-48:0}function Kht(t){var e;return 64&t.Db?COt(t):((e=new lN(COt(t))).a+=" (source: ",iM(e,t.d),e.a+=")",e.a)}function Yht(t,e,n){var i,r;return r=t.a,t.a=e,4&t.Db&&!(1&t.Db)&&(i=new Qq(t,1,5,r,t.a),n?Bxt(n,i):n=i),n}function Xht(t,e){var n;n=!!(256&t.Bb),e?t.Bb|=256:t.Bb&=-257,4&t.Db&&!(1&t.Db)&&dst(t,new J4(t,1,2,n,e))}function Zht(t,e){var n;n=!!(256&t.Bb),e?t.Bb|=256:t.Bb&=-257,4&t.Db&&!(1&t.Db)&&dst(t,new J4(t,1,8,n,e))}function Qht(t,e){var n;n=!!(256&t.Bb),e?t.Bb|=256:t.Bb&=-257,4&t.Db&&!(1&t.Db)&&dst(t,new J4(t,1,8,n,e))}function Jht(t,e){var n;n=!!(512&t.Bb),e?t.Bb|=512:t.Bb&=-513,4&t.Db&&!(1&t.Db)&&dst(t,new J4(t,1,3,n,e))}function tdt(t,e){var n;n=!!(512&t.Bb),e?t.Bb|=512:t.Bb&=-513,4&t.Db&&!(1&t.Db)&&dst(t,new J4(t,1,9,n,e))}function edt(t,e){var n;return-1==t.b&&t.a&&(n=t.a.Gj(),t.b=n?t.c.Xg(t.a.aj(),n):Mgt(t.c.Tg(),t.a)),t.c.Og(t.b,e)}function ndt(t){var e,n;return t>-129&&t<128?(e=t+128,!(n=(Jz(),See)[e])&&(n=See[e]=new Df(t)),n):new Df(t)}function idt(t){var e,n;return t>-129&&t<128?(e=t+128,!(n=(kH(),Bee)[e])&&(n=Bee[e]=new Lf(t)),n):new Lf(t)}function rdt(t){var e;return t.k==(sCt(),xae)&&((e=jV(wTt(t,(lKt(),Khe)),61))==(vWt(),aIe)||e==EIe)}function odt(t,e,n){var i,r;return(r=POt(t.b,e))&&(i=jV(Dzt(F9(t,r),""),26))?wOt(t,i,e,n):null}function sdt(t,e,n){var i,r;return(r=POt(t.b,e))&&(i=jV(Dzt(F9(t,r),""),26))?yOt(t,i,e,n):null}function adt(t,e){var n,i;for(i=new ID(t);i.e!=i.i.gc();)if(n=jV(vbt(i),138),zI(e)===zI(n))return!0;return!1}function cdt(t,e,n){var i;if(e>(i=t.gc()))throw $b(new JB(e,i));if(t.hi()&&t.Hc(n))throw $b(new Bv(o7t));t.Xh(e,n)}function ldt(t,e){var n;if(null==(n=cnt(t.i,e)))throw $b(new t_("Node did not exist in input."));return Bot(e,n),null}function udt(t,e){var n;if(iD(n=DNt(t,e),322))return jV(n,34);throw $b(new Bv(i6t+e+"' is not a valid attribute"))}function hdt(t,e,n){var i,r;for(r=iD(e,99)&&jV(e,18).Bb&$Xt?new DM(e,t):new Mst(e,t),i=0;i<n;++i)rwt(r);return r}function ddt(t){var e,n,i;for(i=0,n=t.length,e=0;e<n;e++)32==t[e]||13==t[e]||10==t[e]||9==t[e]||(t[i++]=t[e]);return i}function fdt(t){var e,n,i;for(e=new Ob,i=new Wf(t.b);i.a<i.c.c.length;)n=jV(Q1(i),594),pat(e,jV(n.jf(),14));return e}function gdt(t){var e,n;for(n=jV(wTt(t,(zHt(),u_e)),15).Kc();n.Ob();)Nz((e=jV(n.Pb(),188)).b.d,e),Nz(e.c.b,e)}function pdt(t){switch(jV(wTt(t,(lKt(),ede)),303).g){case 1:lct(t,ede,(H9(),Ehe));break;case 2:lct(t,ede,(H9(),Che))}}function mdt(t){var e;t.g&&(NLt((e=t.c.Rf()?t.f:t.a).a,t.o,!0),NLt(e.a,t.o,!1),lct(t.o,(VGt(),tbe),(Yxt(),USe)))}function bdt(t){var e;if(!t.a)throw $b(new Fv("Cannot offset an unassigned cut."));e=t.c-t.b,t.b+=e,DX(t,e),OX(t,e)}function wdt(t){var e;return null==(e=t.a[t.c-1&t.a.length-1])?null:(t.c=t.c-1&t.a.length-1,MG(t.a,t.c,null),e)}function ydt(t){var e,n;for(n=t.p.a.ec().Kc();n.Ob();)if((e=jV(n.Pb(),213)).f&&t.b[e.c]<-1e-10)return e;return null}function vdt(t,e){switch(t.b.g){case 0:case 1:return e;case 2:case 3:return new UY(e.d,0,e.a,e.b);default:return null}}function _dt(t){switch(t.g){case 2:return FAe;case 1:return BAe;case 4:return RAe;case 3:return $Ae;default:return jAe}}function kdt(t){switch(t.g){case 1:return CIe;case 2:return aIe;case 3:return sIe;case 4:return EIe;default:return TIe}}function xdt(t){switch(t.g){case 1:return EIe;case 2:return CIe;case 3:return aIe;case 4:return sIe;default:return TIe}}function Edt(t){switch(t.g){case 1:return sIe;case 2:return EIe;case 3:return CIe;case 4:return aIe;default:return TIe}}function Tdt(t){switch(t){case 0:return new by;case 1:return new py;case 2:return new my;default:throw $b(new dw)}}function Cdt(t,e){return t<e?-1:t>e?1:t==e?0==t?Cdt(1/t,1/e):0:isNaN(t)?isNaN(e)?0:1:-1}function Adt(t,e){IEt(e,"Sort end labels",1),XE(IY(dtt(new LH(null,new d1(t.b,16)),new gn),new pn),new mn),VCt(e)}function Sdt(t,e,n){var i,r;return t.ej()?(r=t.fj(),i=XIt(t,e,n),t.$i(t.Zi(7,ndt(n),i,e,r)),i):XIt(t,e,n)}function Idt(t,e){var n,i,r;null==t.d?(++t.e,--t.f):(r=e.cd(),O6(t,i=((n=e.Sh())&LKt)%t.d.length,MOt(t,i,n,r)))}function Mdt(t,e){var n;n=!!(t.Bb&v6t),e?t.Bb|=v6t:t.Bb&=-1025,4&t.Db&&!(1&t.Db)&&dst(t,new J4(t,1,10,n,e))}function Pdt(t,e){var n;n=!!(t.Bb&FXt),e?t.Bb|=FXt:t.Bb&=-4097,4&t.Db&&!(1&t.Db)&&dst(t,new J4(t,1,12,n,e))}function Odt(t,e){var n;n=!!(t.Bb&x8t),e?t.Bb|=x8t:t.Bb&=-8193,4&t.Db&&!(1&t.Db)&&dst(t,new J4(t,1,15,n,e))}function Ddt(t,e){var n;n=!!(t.Bb&E8t),e?t.Bb|=E8t:t.Bb&=-2049,4&t.Db&&!(1&t.Db)&&dst(t,new J4(t,1,11,n,e))}function Ndt(t,e){var n;return 0!=(n=Cdt(t.b.c,e.b.c))||0!=(n=Cdt(t.a.a,e.a.a))?n:Cdt(t.a.b,e.a.b)}function Ldt(t,e){var n;if(null==(n=LG(t.k,e)))throw $b(new t_("Port did not exist in input."));return Bot(e,n),null}function Rdt(t){var e,n;for(n=HOt(qet(t)).Kc();n.Ob();)if(Djt(t,e=ER(n.Pb())))return w5((UT(),NPe),e);return null}function Bdt(t,e){var n,i,r,o,s;for(s=oLt(t.e.Tg(),e),o=0,n=jV(t.g,119),r=0;r<t.i;++r)i=n[r],s.rl(i.ak())&&++o;return o}function Fdt(t,e,n){var i,r;return i=jV(e.We(t.a),35),r=jV(n.We(t.a),35),null!=i&&null!=r?Dot(i,r):null!=i?-1:null!=r?1:0}function jdt(t,e,n){var i;if(t.c)hTt(t.c,e,n);else for(i=new Wf(t.b);i.a<i.c.c.length;)jdt(jV(Q1(i),157),e,n)}function $dt(t,e){var n,i;for(i=new Wf(e);i.a<i.c.c.length;)n=jV(Q1(i),46),w9(t.b.b,n.b),oZ(jV(n.a,189),jV(n.b,81))}function Vdt(t){var e,n;for(n=DG(new C_,91),e=!0;t.Ob();)e||(n.a+=jKt),e=!1,oM(n,t.Pb());return(n.a+="]",n).a}function zdt(t,e){var n;n=!!(t.Bb&lYt),e?t.Bb|=lYt:t.Bb&=-16385,4&t.Db&&!(1&t.Db)&&dst(t,new J4(t,1,16,n,e))}function Hdt(t,e){var n;n=!!(t.Bb&l6t),e?t.Bb|=l6t:t.Bb&=-32769,4&t.Db&&!(1&t.Db)&&dst(t,new J4(t,1,18,n,e))}function Udt(t,e){var n;n=!!(t.Bb&l6t),e?t.Bb|=l6t:t.Bb&=-32769,4&t.Db&&!(1&t.Db)&&dst(t,new J4(t,1,18,n,e))}function qdt(t,e){var n;n=!!(t.Bb&$Xt),e?t.Bb|=$Xt:t.Bb&=-65537,4&t.Db&&!(1&t.Db)&&dst(t,new J4(t,1,20,n,e))}function Wdt(t){var e;return e=D7(ANe,GYt,25,2,15,1),t-=$Xt,e[0]=(t>>10)+VXt&YYt,e[1]=56320+(1023&t)&YYt,$pt(e,0,e.length)}function Gdt(t){var e;return(e=jV(wTt(t,(VGt(),Upe)),103))==(jht(),jAe)?zv(xR(wTt(t,_pe)))>=1?FAe:RAe:e}function Kdt(t){switch(jV(wTt(t,(VGt(),Zpe)),218).g){case 1:return new io;case 3:return new co;default:return new no}}function Ydt(t){if(t.c)Ydt(t.c);else if(t.d)throw $b(new Fv("Stream already terminated, can't be modified or used"))}function Xdt(t){var e;return 64&t.Db?COt(t):((e=new lN(COt(t))).a+=" (identifier: ",iM(e,t.k),e.a+=")",e.a)}function Zdt(t,e,n){var i;return Jk(),_nt(i=new oc,e),knt(i,n),t&&l8((!t.a&&(t.a=new MD(OMe,t,5)),t.a),i),i}function Qdt(t,e,n,i){var r,o;return yK(i),yK(n),null==(o=null==(r=t.xc(e))?n:ZE(jV(r,15),jV(n,14)))?t.Bc(e):t.zc(e,o),o}function Jdt(t){var e,n,i,r;return art(n=new YF(e=jV(Gk((r=(i=t.gm).f)==qte?i:r),9),jV(EB(e,e.length),9),0),t),n}function tft(t,e,n){var i,r;for(r=t.a.ec().Kc();r.Ob();)if(i=jV(r.Pb(),10),aat(n,jV(DH(e,i.p),14)))return i;return null}function eft(t,e,n){try{Fct(t,e,n)}catch(t){throw iD(t=hat(t),597)?$b(new g4(t)):$b(t)}return e}function nft(t,e){var n;return XM(t)&&XM(e)&&PXt<(n=t-e)&&n<IXt?n:sst(lat(XM(t)?Cst(t):t,XM(e)?Cst(e):e))}function ift(t,e){var n;return XM(t)&&XM(e)&&PXt<(n=t+e)&&n<IXt?n:sst(cat(XM(t)?Cst(t):t,XM(e)?Cst(e):e))}function rft(t,e){var n;return XM(t)&&XM(e)&&PXt<(n=t*e)&&n<IXt?n:sst(uHt(XM(t)?Cst(t):t,XM(e)?Cst(e):e))}function oft(t,e){var n;return t.i||eIt(t),(n=jV(sY(t.g,e),46))?new a1(t.j,jV(n.a,19).a,jV(n.b,19).a):(EX(),EX(),cne)}function sft(t,e,n){var i;return i=t.a.get(e),t.a.set(e,void 0===n?null:n),void 0===i?(++t.c,sZ(t.b)):++t.d,i}function aft(t,e,n){t.n=yH(MNe,[cYt,jXt],[364,25],14,[n,CQ(i.Math.ceil(e/32))],2),t.o=e,t.p=n,t.j=e-1>>1,t.k=n-1>>1}function cft(){var t,e,n;yEt(),n=Pne+++Date.now(),t=CQ(i.Math.floor(n*sZt))&cZt,e=CQ(n-t*aZt),this.a=1502^t,this.b=e^oZt}function lft(t){var e,n;for(e=new Ob,n=new Wf(t.j);n.a<n.c.c.length;)WV(e,jV(Q1(n),11).b);return wG(e),new SM(e)}function uft(t){var e,n;for(e=new Ob,n=new Wf(t.j);n.a<n.c.c.length;)WV(e,jV(Q1(n),11).e);return wG(e),new SM(e)}function hft(t){var e,n;for(e=new Ob,n=new Wf(t.j);n.a<n.c.c.length;)WV(e,jV(Q1(n),11).g);return wG(e),new SM(e)}function dft(t){var e,n;for(n=tOt(qet(fJ(t))).Kc();n.Ob();)if(Djt(t,e=ER(n.Pb())))return y5((qT(),HPe),e);return null}function fft(t){var e,n;for(e=0,n=t.length;e<n;e++)if(null==t[e])throw $b(new $v("at index "+e));return new Xv(t)}function gft(t,e){var n;if(iD(n=DNt(t.Tg(),e),99))return jV(n,18);throw $b(new Bv(i6t+e+"' is not a valid reference"))}function pft(t){var e;return(e=dCt(t))>34028234663852886e22?RXt:e<-34028234663852886e22?BXt:e}function mft(t){return t=((t=((t-=t>>1&1431655765)>>2&858993459)+(858993459&t))>>4)+t&252645135,t+=t>>8,63&(t+=t>>16)}function bft(t){var e,n,i;for(e=new cB(t.Hd().gc()),i=0,n=P8(t.Hd().Kc());n.Ob();)vJ(e,n.Pb(),ndt(i++));return DCt(e.a)}function wft(t,e){var n,i,r;for(r=new Db,i=e.vc().Kc();i.Ob();)GK(r,(n=jV(i.Pb(),42)).cd(),hst(t,jV(n.dd(),15)));return r}function yft(t,e){0==t.n.c.length&&WV(t.n,new LQ(t.s,t.t,t.i)),WV(t.b,e),cyt(jV(DH(t.n,t.n.c.length-1),211),e),$$t(t,e)}function vft(t){return t.c==t.b.b&&t.i==t.g.b||(t.a.c=D7(Mte,VKt,1,0,5,1),pat(t.a,t.b),pat(t.a,t.g),t.c=t.b.b,t.i=t.g.b),t.a}function _ft(t,e){var n,i;for(i=0,n=jV(e.Kb(t),20).Kc();n.Ob();)Vv(kR(wTt(jV(n.Pb(),17),(lKt(),Cde))))||++i;return i}function kft(t,e){var n,r;r=zv(xR(ept(l2(e),(VGt(),wbe)))),j_t(e,n=i.Math.max(0,r/2-.5),1),WV(t,new uA(e,n))}function xft(){xft=M,Vde=new jA(YJt,0),Bde=new jA("FIRST",1),Fde=new jA(A1t,2),jde=new jA("LAST",3),$de=new jA(S1t,4)}function Eft(){Eft=M,ZAe=new FS(lQt,0),YAe=new FS("POLYLINE",1),KAe=new FS("ORTHOGONAL",2),XAe=new FS("SPLINES",3)}function Tft(){Tft=M,Zke=new yS("ASPECT_RATIO_DRIVEN",0),Qke=new yS("MAX_SCALE_DRIVEN",1),Xke=new yS("AREA_DRIVEN",2)}function Cft(){Cft=M,$xe=new _S("P1_STRUCTURE",0),Vxe=new _S("P2_PROCESSING_ORDER",1),zxe=new _S("P3_EXECUTION",2)}function Aft(){Aft=M,tke=new gS("OVERLAP_REMOVAL",0),Q_e=new gS("COMPACTION",1),J_e=new gS("GRAPH_SIZE_CALCULATION",2)}function Sft(t,e){return cO(),iit(BYt),i.Math.abs(t-e)<=BYt||t==e||isNaN(t)&&isNaN(e)?0:t<e?-1:t>e?1:HM(isNaN(t),isNaN(e))}function Ift(t,e){var n,i;for(n=cbt(t,0);n.b!=n.d.c;){if((i=Hv(xR(h3(n))))==e)return;if(i>e){U0(n);break}}QW(n,e)}function Mft(t,e){var n,i,r,o,s;if(n=e.f,Zmt(t.c.d,n,e),null!=e.g)for(o=0,s=(r=e.g).length;o<s;++o)i=r[o],Zmt(t.c.e,i,e)}function Pft(t,e,n,i){var r,o,s;for(r=e+1;r<n;++r)for(o=r;o>e&&i.ue(t[o-1],t[o])>0;--o)s=t[o],MG(t,o,t[o-1]),MG(t,o-1,s)}function Oft(t,e,n,i){if(e<0)xDt(t,n,i);else{if(!n.Ij())throw $b(new Bv(i6t+n.ne()+r6t));jV(n,66).Nj().Tj(t,t.yh(),e,i)}}function Dft(t,e){if(e==t.d)return t.e;if(e==t.e)return t.d;throw $b(new Bv("Node "+e+" not part of edge "+t))}function Nft(t,e){switch(e.g){case 2:return t.b;case 1:return t.c;case 4:return t.d;case 3:return t.a;default:return!1}}function Lft(t,e){switch(e.g){case 2:return t.b;case 1:return t.c;case 4:return t.d;case 3:return t.a;default:return!1}}function Rft(t,e,n,i){switch(e){case 3:return t.f;case 4:return t.g;case 5:return t.i;case 6:return t.j}return Fht(t,e,n,i)}function Bft(t){return t.k==(sCt(),Cae)&&s4(new LH(null,new HW(new sq(ZD(hft(t).a.Kc(),new u)))),new Hr)}function Fft(t){return null==t.e?t:(!t.c&&(t.c=new iBt(!!(256&t.f),t.i,t.a,t.d,!!(16&t.f),t.j,t.g,null)),t.c)}function jft(t,e){return t.h==AXt&&0==t.m&&0==t.l?(e&&(hee=xO(0,0,0)),WM((q9(),gee))):(e&&(hee=xO(t.l,t.m,t.h)),xO(0,0,0))}function $ft(t){return Array.isArray(t)&&t.im===I?Qk(tlt(t))+"@"+(Jct(t)>>>0).toString(16):t.toString()}function Vft(t){var e;this.a=new YF(e=jV(t.e&&t.e(),9),jV(EB(e,e.length),9),0),this.b=D7(Mte,VKt,1,this.a.a.length,5,1)}function zft(t){var e,n,i;for(this.a=new lP,i=new Wf(t);i.a<i.c.c.length;)n=jV(Q1(i),14),drt(e=new cU,n),kW(this.a,e)}function Hft(t){var e,n;for(VR(),e=t.o.b,n=jV(jV(c6(t.r,(vWt(),EIe)),21),84).Kc();n.Ob();)jV(n.Pb(),111).e.b+=e}function Uft(t){var e;if(t.b){if(Uft(t.b),t.b.d!=t.c)throw $b(new mw)}else t.d.dc()&&(e=jV(t.f.c.xc(t.e),14))&&(t.d=e)}function qft(t){var e;return null==t||(e=t.length)>0&&(h1(e-1,t.length),58==t.charCodeAt(e-1))&&!Wft(t,MPe,PPe)}function Wft(t,e,n){var i,r;for(i=0,r=t.length;i<r;i++)if(tct((h1(i,t.length),t.charCodeAt(i)),e,n))return!0;return!1}function Gft(t,e){var n,i;for(i=t.e.a.ec().Kc();i.Ob();)if(tCt(e,(n=jV(i.Pb(),266)).d)||SSt(e,n.d))return!0;return!1}function Kft(t,e){var n,i,r;for(r=(i=VBt(t,e))[i.length-1]/2,n=0;n<i.length;n++)if(i[n]>=r)return e.c+n;return e.c+e.b.gc()}function Yft(t,e){var n,i,r,o;for(fR(),r=e,H8(i=$8(t),0,i.length,r),n=0;n<i.length;n++)n!=(o=p_t(t,i[n],n))&&Sdt(t,n,o)}function Xft(t,e){var n,i,r,o,s,a;for(i=0,n=0,s=0,a=(o=e).length;s<a;++s)(r=o[s])>0&&(i+=r,++n);return n>1&&(i+=t.d*(n-1)),i}function Zft(t){var e,n,i;for((i=new E_).a+="[",e=0,n=t.gc();e<n;)iM(i,yN(t.ki(e))),++e<n&&(i.a+=jKt);return i.a+="]",i.a}function Qft(t){var e,n,i;return i=MEt(t),!Wx(t.c)&&(net(i,"knownLayouters",n=new Td),e=new nb(n),t4(t.c,e)),i}function Jft(t,e){var n,i;for(yK(e),n=!1,i=new Wf(t);i.a<i.c.c.length;)ygt(e,Q1(i),!1)&&(IW(i),n=!0);return n}function tgt(t){var e,n;for(n=zv(xR(t.a.We((cKt(),SAe)))),e=new Wf(t.a.xf());e.a<e.c.c.length;)KWt(t,jV(Q1(e),680),n)}function egt(t,e){var n,i;for(i=new Wf(e);i.a<i.c.c.length;)n=jV(Q1(i),46),WV(t.b.b,jV(n.b,81)),g2(jV(n.a,189),jV(n.b,81))}function ngt(t,e,n){var i,r;for(i=(r=t.a.b).c.length;i<n;i++)yU(r,0,new $G(t.a));TJ(e,jV(DH(r,r.c.length-n),29)),t.b[e.p]=n}function igt(t,e,n){var i;!(i=n)&&(i=Pz(new qy,0)),IEt(i,zJt,2),wwt(t.b,e,wot(i,1)),BHt(t,e,wot(i,1)),zWt(e,wot(i,1)),VCt(i)}function rgt(t,e,n,i,r){jJ(),qNt(rT(iT(nT(oT(new $w,0),r.d.e-t),e),r.d)),qNt(rT(iT(nT(oT(new $w,0),n-r.a.e),r.a),i))}function ogt(t,e,n,i,r,o){this.a=t,this.c=e,this.b=n,this.f=i,this.d=r,this.e=o,this.c>0&&this.b>0&&YH(this.c,this.b,this.a)}function sgt(t){Rgt(),this.c=o6(Cat(z_(nTe,1),VKt,831,0,[Wbe])),this.b=new Db,this.a=t,GK(this.b,Gbe,1),Iet(Kbe,new Tm(this))}function agt(t,e){var n;return t.d?cW(t.b,e)?jV(LG(t.b,e),51):(n=e.Kf(),GK(t.b,e,n),n):e.Kf()}function cgt(t,e){var n;return zI(t)===zI(e)||!!iD(e,91)&&(n=jV(e,91),t.e==n.e&&t.d==n.d&&_5(t,n.a))}function lgt(t){switch(vWt(),t.g){case 4:return aIe;case 1:return sIe;case 3:return EIe;case 2:return CIe;default:return TIe}}function ugt(t,e){switch(e){case 3:return 0!=t.f;case 4:return 0!=t.g;case 5:return 0!=t.i;case 6:return 0!=t.j}return kst(t,e)}function hgt(t){switch(t.g){case 0:return new qs;case 1:return new Ws;default:throw $b(new Bv(r5t+(null!=t.f?t.f:""+t.g)))}}function dgt(t){switch(t.g){case 0:return new Us;case 1:return new Gs;default:throw $b(new Bv(E1t+(null!=t.f?t.f:""+t.g)))}}function fgt(t){switch(t.g){case 0:return new Gy;case 1:return new wy;default:throw $b(new Bv(D5t+(null!=t.f?t.f:""+t.g)))}}function ggt(t){switch(t.g){case 1:return new Fs;case 2:return new gR;default:throw $b(new Bv(r5t+(null!=t.f?t.f:""+t.g)))}}function pgt(t){var e,n;if(t.b)return t.b;for(n=Kne?null:t.d;n;){if(e=Kne?null:n.b)return e;n=Kne?null:n.d}return uT(),$ne}function mgt(t){var e,n;return 0==t.e?0:(e=t.d<<5,n=t.a[t.d-1],t.e<0&&Aot(t)==t.d-1&&(--n,n|=0),e-=QIt(n))}function bgt(t){var e,n,i;return t<tne.length?tne[t]:(e=31&t,(i=D7(SNe,lXt,25,1+(n=t>>5),15,1))[n]=1<<e,new uW(1,n+1,i))}function wgt(t){var e,n,i;return(n=t.zg())?iD(e=t.Ug(),160)&&null!=(i=wgt(jV(e,160)))?i+"."+n:n:null}function ygt(t,e,n){var i,r;for(r=t.Kc();r.Ob();)if(i=r.Pb(),zI(e)===zI(i)||null!=e&&Dht(e,i))return n&&r.Qb(),!0;return!1}function vgt(t,e,n){var i,r;if(++t.j,n.dc())return!1;for(r=n.Kc();r.Ob();)i=r.Pb(),t.Hi(e,t.oi(e,i)),++e;return!0}function _gt(t,e,n,i){var r,o;if((o=n-e)<3)for(;o<3;)t*=10,++o;else{for(r=1;o>3;)r*=10,--o;t=(t+(r>>1))/r|0}return i.i=t,!0}function kgt(t){return Tut(),cN(),!!(Lft(jV(t.a,81).j,jV(t.b,103))||0!=jV(t.a,81).d.e&&Lft(jV(t.a,81).j,jV(t.b,103)))}function xgt(t){D8(),jV(t.We((cKt(),VCe)),174).Hc((JFt(),GIe))&&(jV(t.We(lAe),174).Fc((hIt(),iIe)),jV(t.We(VCe),174).Mc(GIe))}function Egt(t,e){var n;if(e){for(n=0;n<t.i;++n)if(jV(t.g[n],366).Di(e))return!1;return l8(t,e)}return!1}function Tgt(t){var e,n,i;for(e=new Td,i=new Vf(t.b.Kc());i.b.Ob();)n=KCt(jV(i.b.Pb(),686)),WW(e,e.a.length,n);return e.a}function Cgt(t){var e;return!t.c&&(t.c=new Dt),bO(t.d,new Lt),XFt(t),e=hRt(t),XE(new LH(null,new d1(t.d,16)),new Ag(t)),e}function Agt(t){var e;return 64&t.Db?vht(t):((e=new lN(vht(t))).a+=" (instanceClassName: ",iM(e,t.D),e.a+=")",e.a)}function Sgt(t,e){var n,i;e&&(n=Rnt(e,"x"),xnt(new Zm(t).a,(yK(n),n)),i=Rnt(e,"y"),Int(new Qm(t).a,(yK(i),i)))}function Igt(t,e){var n,i;e&&(n=Rnt(e,"x"),Snt(new Gm(t).a,(yK(n),n)),i=Rnt(e,"y"),Mnt(new Ym(t).a,(yK(i),i)))}function Mgt(t,e){var n,i,r;if(null==t.i&&z$t(t),n=t.i,-1!=(i=e.aj()))for(r=n.length;i<r;++i)if(n[i]==e)return i;return-1}function Pgt(t){var e,n,i,r;for(n=jV(t.g,674),i=t.i-1;i>=0;--i)for(e=n[i],r=0;r<i;++r)if(b$t(t,e,n[r])){Ovt(t,i);break}}function Ogt(t){var e=t.e;function n(t){return t&&0!=t.length?"\t"+t.join("\n\t"):""}return e&&(e.stack||n(t[qYt]))}function Dgt(t){var e;switch(WG(),(e=t.Pc()).length){case 0:return jte;case 1:return new TH(wG(e[0]));default:return new EZ(fft(e))}}function Ngt(t,e){switch(e.g){case 1:return RV(t.j,(pot(),Oae));case 2:return RV(t.j,(pot(),Nae));default:return EX(),EX(),cne}}function Lgt(t,e){switch(e){case 3:return void Ent(t,0);case 4:return void Tnt(t,0);case 5:return void Cnt(t,0);case 6:return void Ant(t,0)}aht(t,e)}function Rgt(){Rgt=M,IT(),VGt(),Gbe=Sbe,Kbe=o6(Cat(z_(uTe,1),v3t,146,0,[bbe,wbe,vbe,_be,Ebe,Tbe,Cbe,Abe,Mbe,Obe,ybe,kbe,Ibe]))}function Bgt(t){var e,n;e=t.d==(PAt(),Xle),n=Pxt(t),lct(t.a,(VGt(),ype),e&&!n||!e&&n?(fwt(),MTe):(fwt(),ITe))}function Fgt(t,e){var n;return(n=jV(T5(t,b8(new z,new V,new it,Cat(z_(Qne,1),PYt,132,0,[(zlt(),Une)]))),15)).Qc(uz(n.gc()))}function jgt(){jgt=M,tMe=new YS("SIMPLE",0),ZIe=new YS("GROUP_DEC",1),JIe=new YS("GROUP_MIXED",2),QIe=new YS("GROUP_INC",3)}function $gt(){$gt=M,zOe=new Oc,LOe=new Dc,ROe=new Nc,BOe=new Lc,FOe=new Rc,jOe=new Bc,$Oe=new Fc,VOe=new jc,HOe=new $c}function Vgt(t,e,n){zet(),ay.call(this),this.a=yH(qie,[cYt,iQt],[595,212],0,[Qie,Zie],2),this.c=new hP,this.g=t,this.f=e,this.d=n}function zgt(t,e){this.n=yH(MNe,[cYt,jXt],[364,25],14,[e,CQ(i.Math.ceil(t/32))],2),this.o=t,this.p=e,this.j=t-1>>1,this.k=e-1>>1}function Hgt(t,e){IEt(e,"End label post-processing",1),XE(IY(dtt(new LH(null,new d1(t.b,16)),new sn),new an),new cn),VCt(e)}function Ugt(t,e,n){var i;return i=zv(t.p[e.i.p])+zv(t.d[e.i.p])+e.n.b+e.a.b,zv(t.p[n.i.p])+zv(t.d[n.i.p])+n.n.b+n.a.b-i}function qgt(t,e,n){var i,r;for(i=t0(n,qXt),r=0;0!=Kut(i,0)&&r<e;r++)i=ift(i,t0(t[r],qXt)),t[r]=fU(i),i=yq(i,32);return fU(i)}function Wgt(t){var e,n,i,r;for(r=0,n=0,i=t.length;n<i;n++)h1(n,t.length),(e=t.charCodeAt(n))<64&&(r=e0(r,wq(1,e)));return r}function Ggt(t){var e;return null==t?null:new MP((e=jVt(t,!0)).length>0&&(h1(0,e.length),43==e.charCodeAt(0))?e.substr(1):e)}function Kgt(t){var e;return null==t?null:new MP((e=jVt(t,!0)).length>0&&(h1(0,e.length),43==e.charCodeAt(0))?e.substr(1):e)}function Ygt(t,e){return t.i>0&&(e.length<t.i&&(e=Lnt(tlt(e).c,t.i)),ozt(t.g,0,e,0,t.i)),e.length>t.i&&MG(e,t.i,null),e}function Xgt(t,e,n){var i,r,o;return t.ej()?(i=t.i,o=t.fj(),Sht(t,i,e),r=t.Zi(3,null,e,i,o),n?n.Ei(r):n=r):Sht(t,t.i,e),n}function Zgt(t,e,n){var i,r;return i=new O9(t.e,4,10,iD(r=e.c,88)?jV(r,26):(pKt(),dOe),null,swt(t,e),!1),n?n.Ei(i):n=i,n}function Qgt(t,e,n){var i,r;return i=new O9(t.e,3,10,null,iD(r=e.c,88)?jV(r,26):(pKt(),dOe),swt(t,e),!1),n?n.Ei(i):n=i,n}function Jgt(t){var e;return VR(),e=new dP(jV(t.e.We((cKt(),jCe)),8)),t.B.Hc((JFt(),zIe))&&(e.a<=0&&(e.a=20),e.b<=0&&(e.b=20)),e}function tpt(t){return dwt(),(t.q?t.q:(EX(),EX(),lne))._b((VGt(),Lme))?jV(wTt(t,Lme),197):jV(wTt(mK(t),Rme),197)}function ept(t,e){var n,i;return i=null,PL(t,(VGt(),xbe))&&(n=jV(wTt(t,xbe),94)).Xe(e)&&(i=n.We(e)),null==i&&(i=wTt(mK(t),e)),i}function npt(t,e){var n,i,r;return!!iD(e,42)&&(i=(n=jV(e,42)).cd(),dK(r=hht(t.Rc(),i),n.dd())&&(null!=r||t.Rc()._b(i)))}function ipt(t,e){var n;return t.f>0&&(t.qj(),-1!=MOt(t,((n=null==e?0:Jct(e))&LKt)%t.d.length,n,e))}function rpt(t,e){var n,i;return t.f>0&&(t.qj(),n=oMt(t,((i=null==e?0:Jct(e))&LKt)%t.d.length,i,e))?n.dd():null}function opt(t,e){var n,i,r,o;for(o=oLt(t.e.Tg(),e),n=jV(t.g,119),r=0;r<t.i;++r)if(i=n[r],o.rl(i.ak()))return!1;return!0}function spt(t){if(null==t.b){for(;t.a.Ob();)if(t.b=t.a.Pb(),!jV(t.b,49).Zg())return!0;return t.b=null,!1}return!0}function apt(t,e){t.mj();try{t.d.Vc(t.e++,e),t.f=t.d.j,t.g=-1}catch(t){throw iD(t=hat(t),73)?$b(new mw):$b(t)}}function cpt(t,e){var n,i;return aO(),i=null,e==(n=lB((l_(),l_(),iee)))&&(i=jV(EQ(nee,t),615)),i||(i=new HG(t),e==n&&bJ(nee,t,i)),i}function lpt(t,e){var n,r;t.a=ift(t.a,1),t.c=i.Math.min(t.c,e),t.b=i.Math.max(t.b,e),t.d+=e,n=e-t.f,r=t.e+n,t.f=r-t.e-n,t.e=r}function upt(t,e){var n;t.c=e,t.a=mgt(e),t.a<54&&(t.f=(n=e.d>1?e0(wq(e.a[1],32),t0(e.a[0],qXt)):t0(e.a[0],qXt),v2(rft(e.e,n))))}function hpt(t,e){var n;return XM(t)&&XM(e)&&PXt<(n=t%e)&&n<IXt?n:sst((MHt(XM(t)?Cst(t):t,XM(e)?Cst(e):e,!0),hee))}function dpt(t,e){var n;Lqt(e),(n=jV(wTt(t,(VGt(),Xpe)),276))&&lct(t,Xpe,Mvt(n)),QN(t.c),QN(t.f),G6(t.d),G6(jV(wTt(t,Ime),207))}function fpt(t){this.e=D7(SNe,lXt,25,t.length,15,1),this.c=D7(INe,QZt,25,t.length,16,1),this.b=D7(INe,QZt,25,t.length,16,1),this.f=0}function gpt(t){var e,n;for(t.j=D7(ONe,zXt,25,t.p.c.length,15,1),n=new Wf(t.p);n.a<n.c.c.length;)e=jV(Q1(n),10),t.j[e.p]=e.o.b/t.i}function ppt(t){var e;0!=t.c&&(1==(e=jV(DH(t.a,t.b),287)).b?(++t.b,t.b<t.a.c.length&&kf(jV(DH(t.a,t.b),287))):--e.b,--t.c)}function mpt(t){var e;e=t.a;do{(e=jV(U4(new sq(ZD(hft(e).a.Kc(),new u))),17).d.i).k==(sCt(),Tae)&&WV(t.e,e)}while(e.k==(sCt(),Tae))}function bpt(){bpt=M,PIe=new WP(15),MIe=new qP((cKt(),qCe),PIe),DIe=new qP(PAe,15),OIe=new qP(mAe,ndt(0)),IIe=new qP(iCe,gJt)}function wpt(){wpt=M,RIe=new GS("PORTS",0),BIe=new GS("PORT_LABELS",1),LIe=new GS("NODE_LABELS",2),NIe=new GS("MINIMUM_SIZE",3)}function ypt(t,e){var n,i;for(i=e.length,n=0;n<i;n+=2)XLt(t,(h1(n,e.length),e.charCodeAt(n)),(h1(n+1,e.length),e.charCodeAt(n+1)))}function vpt(t,e,n){var i,r,o,s;for(o=e-t.e,s=n-t.f,r=new Wf(t.a);r.a<r.c.c.length;)xwt(i=jV(Q1(r),187),i.s+o,i.t+s);t.e=e,t.f=n}function _pt(t,e){var n,i,r;for(r=e.b.b,t.a=new YE,t.b=D7(SNe,lXt,25,r,15,1),n=0,i=cbt(e.b,0);i.b!=i.d.c;)jV(h3(i),86).g=n++}function kpt(t,e){var n,i,r,o;return n=e>>5,e&=31,r=t.d+n+(0==e?0:1),NEt(i=D7(SNe,lXt,25,r,15,1),t.a,n,e),q0(o=new uW(t.e,r,i)),o}function xpt(t,e,n){var i,r;i=jV(EQ(tNe,e),117),r=jV(EQ(eNe,e),117),n?(bJ(tNe,t,i),bJ(eNe,t,r)):(bJ(eNe,t,i),bJ(tNe,t,r))}function Ept(t,e,n){var i,r,o;for(r=null,o=t.b;o;){if(i=t.a.ue(e,o.d),n&&0==i)return o;i>=0?o=o.a[1]:(r=o,o=o.a[0])}return r}function Tpt(t,e,n){var i,r,o;for(r=null,o=t.b;o;){if(i=t.a.ue(e,o.d),n&&0==i)return o;i<=0?o=o.a[0]:(r=o,o=o.a[1])}return r}function Cpt(t,e,n,i){var r,o,s;return r=!1,OUt(t.f,n,i)&&(Nmt(t.f,t.a[e][n],t.a[e][i]),s=(o=t.a[e])[i],o[i]=o[n],o[n]=s,r=!0),r}function Apt(t,e,n,i,r){var o,s,a;for(s=r;e.b!=e.c;)o=jV(fW(e),10),a=jV(oft(o,i).Xb(0),11),t.d[a.p]=s++,n.c[n.c.length]=a;return s}function Spt(t,e,n){var r,o,s,a,c;return a=t.k,c=e.k,o=xR(ept(t,r=n[a.g][c.g])),s=xR(ept(e,r)),i.Math.max((yK(o),o),(yK(s),s))}function Ipt(t,e,n){var i,r,o,s;for(i=n/t.c.length,r=0,s=new Wf(t);s.a<s.c.c.length;)put(o=jV(Q1(s),200),o.f+i*r),okt(o,e,i),++r}function Mpt(t,e,n){var i,r,o;for(r=jV(LG(t.b,n),177),i=0,o=new Wf(e.j);o.a<o.c.c.length;)r[jV(Q1(o),113).d.p]&&++i;return i}function Ppt(t){var e,n;return null!=(e=jV(yst(t.a,4),126))?(ozt(e,0,n=D7(dPe,n8t,415,e.length,0,1),0,e.length),n):hPe}function Opt(){var t;return 0!=ree&&(t=u4())-oee>2e3&&(oee=t,see=i.setTimeout(Kx,10)),0==ree++&&(Stt((a_(),tee)),!0)}function Dpt(t,e){var n;for(n=new sq(ZD(hft(t).a.Kc(),new u));gPt(n);)if(jV(U4(n),17).d.i.c==e)return!1;return!0}function Npt(t,e){var n;if(iD(e,245)){n=jV(e,245);try{return 0==t.vd(n)}catch(t){if(!iD(t=hat(t),205))throw $b(t)}}return!1}function Lpt(){return Error.stackTraceLimit>0?(i.Error.stackTraceLimit=Error.stackTraceLimit=64,!0):"stack"in new Error}function Rpt(t,e){return cO(),cO(),iit(BYt),(i.Math.abs(t-e)<=BYt||t==e||isNaN(t)&&isNaN(e)?0:t<e?-1:t>e?1:HM(isNaN(t),isNaN(e)))>0}function Bpt(t,e){return cO(),cO(),iit(BYt),(i.Math.abs(t-e)<=BYt||t==e||isNaN(t)&&isNaN(e)?0:t<e?-1:t>e?1:HM(isNaN(t),isNaN(e)))<0}function Fpt(t,e){return cO(),cO(),iit(BYt),(i.Math.abs(t-e)<=BYt||t==e||isNaN(t)&&isNaN(e)?0:t<e?-1:t>e?1:HM(isNaN(t),isNaN(e)))<=0}function jpt(t,e){for(var n=0;!e[n]||""==e[n];)n++;for(var i=e[n++];n<e.length;n++)e[n]&&""!=e[n]&&(i+=t+e[n]);return i}function $pt(t,e,n){var r,o,s,a;for(B7(e,s=e+n,t.length),a="",o=e;o<s;)r=i.Math.min(o+1e4,s),a+=WK(t.slice(o,r)),o=r;return a}function Vpt(t){var e,n,i,r;if(null==t)return null;for(r=new Ob,n=0,i=(e=ylt(t)).length;n<i;++n)WV(r,jVt(e[n],!0));return r}function zpt(t){var e,n,i,r;if(null==t)return null;for(r=new Ob,n=0,i=(e=ylt(t)).length;n<i;++n)WV(r,jVt(e[n],!0));return r}function Hpt(t){var e,n,i,r;if(null==t)return null;for(r=new Ob,n=0,i=(e=ylt(t)).length;n<i;++n)WV(r,jVt(e[n],!0));return r}function Upt(t,e){var n,i,r;if(t.c)Tnt(t.c,e);else for(n=e-eU(t),r=new Wf(t.d);r.a<r.c.c.length;)Upt(i=jV(Q1(r),157),eU(i)+n)}function qpt(t,e){var n,i,r;if(t.c)Ent(t.c,e);else for(n=e-tU(t),r=new Wf(t.a);r.a<r.c.c.length;)qpt(i=jV(Q1(r),157),tU(i)+n)}function Wpt(t,e){var n,i,r;for(i=new X6(e.gc()),n=e.Kc();n.Ob();)(r=tjt(t,jV(n.Pb(),56)))&&(i.c[i.c.length]=r);return i}function Gpt(t,e){var n,i;return t.qj(),(n=oMt(t,((i=null==e?0:Jct(e))&LKt)%t.d.length,i,e))?(lit(t,n),n.dd()):null}function Kpt(t){var e,n;for(n=sAt(t),e=null;2==t.c;)YGt(t),e||(fKt(),fKt(),tHt(e=new nO(2),n),n=e),n.$l(sAt(t));return n}function Ypt(t){if(!(z6t in t.a))throw $b(new t_("Every element must have an id."));return vIt(HQ(t,z6t))}function Xpt(t){var e,n,i;if(!(i=t.Zg()))for(e=0,n=t.eh();n;n=n.eh()){if(++e>HXt)return n.fh();if((i=n.Zg())||n==t)break}return i}function Zpt(t){return cJ(),iD(t,156)?jV(LG(oPe,wne),288).vg(t):cW(oPe,tlt(t))?jV(LG(oPe,tlt(t)),288).vg(t):null}function Qpt(t){if(wmt(o4t,t))return cN(),bee;if(wmt(s4t,t))return cN(),mee;throw $b(new Bv("Expecting true or false"))}function Jpt(t,e){if(e.c==t)return e.d;if(e.d==t)return e.c;throw $b(new Bv("Input edge is not connected to the input port."))}function tmt(t,e){return t.e>e.e?1:t.e<e.e?-1:t.d>e.d?t.e:t.d<e.d?-e.e:t.e*Elt(t.a,e.a,t.d)}function emt(t){return t>=48&&t<48+i.Math.min(10,10)?t-48:t>=97&&t<97?t-97+10:t>=65&&t<65?t-65+10:-1}function nmt(t,e){var n;return zI(e)===zI(t)||!!iD(e,21)&&(n=jV(e,21)).gc()==t.gc()&&t.Ic(n)}function imt(t,e){var n,i,r;return i=t.a.length-1,n=e-t.b&i,r=t.c-e&i,_L(n<(t.c-t.b&i)),n>=r?(out(t,e),-1):(sut(t,e),1)}function rmt(t,e){var n,i;for(h1(e,t.length),n=t.charCodeAt(e),i=e+1;i<t.length&&(h1(i,t.length),t.charCodeAt(i)==n);)++i;return i-e}function omt(t){switch(t.g){case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:return!0;default:return!1}}function smt(t,e){var n,i=t.a;e=String(e),i.hasOwnProperty(e)&&(n=i[e]);var r=(Qat(),uee)[typeof n];return r?r(n):vut(typeof n)}function amt(t,e){if(t.a<0)throw $b(new Fv("Did not call before(...) or after(...) before calling add(...)."));return WN(t,t.a,e),t}function cmt(t,e,n,i){var r;0!=e.c.length&&(r=EDt(n,i),XE(yet(new LH(null,new d1(sIt(e),1)),new xs),new qY(t,n,r,i)))}function lmt(t,e,n){var i;t.Db&e?null==n?GMt(t,e):-1==(i=Ryt(t,e))?t.Eb=n:MG(ent(t.Eb),i,n):null!=n&&wLt(t,e,n)}function umt(t){var e;return 32&t.Db||0!=(e=hG(jV(yst(t,16),26)||t.zh())-hG(t.zh()))&&lmt(t,32,D7(Mte,VKt,1,e,5,1)),t}function hmt(t){var e;return t.b||qk(t,!(e=QB(t.e,t.a))||!bF(s4t,rpt((!e.b&&(e.b=new XL((pKt(),wOe),UOe,e)),e.b),"qualified"))),t.c}function dmt(t,e,n){var i,r;return((r=(i=jV(Get($9(t.a),e),87)).c||(pKt(),lOe)).kh()?tht(t.b,jV(r,49)):r)==n?h$t(i):rnt(i,n),r}function fmt(t,e){(e||null==console.groupCollapsed?null!=console.group?console.group:console.log:console.groupCollapsed).call(console,t)}function gmt(t,e,n,i){jV(n.b,65),jV(n.b,65),jV(i.b,65),jV(i.b,65).c.b,R7(i,e,t)}function pmt(t){var e,n;for(e=new Wf(t.g);e.a<e.c.c.length;)jV(Q1(e),562);Uqt(n=new yLt(t.g,zv(t.a),t.c)),t.g=n.b,t.d=n.a}function mmt(t,e,n){e.b=i.Math.max(e.b,-n.a),e.c=i.Math.max(e.c,n.a-t.a),e.d=i.Math.max(e.d,-n.b),e.a=i.Math.max(e.a,n.b-t.b)}function bmt(t,e){return t.e<e.e?-1:t.e>e.e?1:t.f<e.f?-1:t.f>e.f?1:Jct(t)-Jct(e)}function wmt(t,e){return yK(t),null!=e&&(!!bF(t,e)||t.length==e.length&&bF(t.toLowerCase(),e.toLowerCase()))}function ymt(t,e){var n,i,r,o;for(i=0,r=e.gc();i<r;++i)iD(n=e.il(i),99)&&jV(n,18).Bb&l6t&&null!=(o=e.jl(i))&&tjt(t,jV(o,56))}function vmt(t,e,n){var i,r,o;for(o=new Wf(n.a);o.a<o.c.c.length;)r=jV(Q1(o),221),i=new CO(jV(LG(t.a,r.b),65)),WV(e.a,i),vmt(t,i,r)}function _mt(t){var e,n;return Kut(t,-129)>0&&Kut(t,128)<0?(e=fU(t)+128,!(n=(_H(),Pee)[e])&&(n=Pee[e]=new Nf(t)),n):new Nf(t)}function kmt(t,e){var n,i;return(n=e.Hh(t.a))&&null!=(i=ER(rpt((!n.b&&(n.b=new XL((pKt(),wOe),UOe,n)),n.b),t7t)))?i:e.ne()}function xmt(t,e){var n,i;return(n=e.Hh(t.a))&&null!=(i=ER(rpt((!n.b&&(n.b=new XL((pKt(),wOe),UOe,n)),n.b),t7t)))?i:e.ne()}function Emt(t,e){var n,i;for(VJ(),i=new sq(ZD(lft(t).a.Kc(),new u));gPt(i);)if((n=jV(U4(i),17)).d.i==e||n.c.i==e)return n;return null}function Tmt(t,e,n){this.c=t,this.f=new Ob,this.e=new zk,this.j=new EH,this.n=new EH,this.b=e,this.g=new UY(e.c,e.d,e.b,e.a),this.a=n}function Cmt(t){var e,n,i,r;for(this.a=new lP,this.d=new Lw,this.e=0,i=0,r=(n=t).length;i<r;++i)e=n[i],!this.f&&(this.f=e),g2(this,e)}function Amt(t){IRt(),0==t.length?(this.e=0,this.d=1,this.a=Cat(z_(SNe,1),lXt,25,15,[0])):(this.e=1,this.d=t.length,this.a=t,q0(this))}function Smt(t,e,n){ay.call(this),this.a=D7(qie,iQt,212,(Let(),Cat(z_(Gie,1),PYt,232,0,[zie,Hie,Uie])).length,0,1),this.b=t,this.d=e,this.c=n}function Imt(t){this.d=new Ob,this.e=new m5,this.c=D7(SNe,lXt,25,(vWt(),Cat(z_(FIe,1),XJt,61,0,[TIe,aIe,sIe,EIe,CIe])).length,15,1),this.b=t}function Mmt(t){var e,n,i,r;for(lct(r=jV(wTt(t,(lKt(),fde)),11),Pde,t.i.n.b),n=0,i=(e=Z0(t.e)).length;n<i;++n)xJ(e[n],r)}function Pmt(t){var e,n,i,r;for(lct(e=jV(wTt(t,(lKt(),fde)),11),Pde,t.i.n.b),i=0,r=(n=Z0(t.g)).length;i<r;++i)EJ(n[i],e)}function Omt(t){var e,n;return!!PL(t.d.i,(VGt(),Wme))&&(e=jV(wTt(t.c.i,Wme),19),n=jV(wTt(t.d.i,Wme),19),_O(e.a,n.a)>0)}function Dmt(t){var e;zI(QPt(t,(cKt(),_Ce)))===zI((sht(),mSe))&&(XQ(t)?(e=jV(QPt(XQ(t),_Ce),334),Xbt(t,_Ce,e)):Xbt(t,_Ce,bSe))}function Nmt(t,e,n){var i,r;uTt(t.e,e,n,(vWt(),CIe)),uTt(t.i,e,n,sIe),t.a&&(r=jV(wTt(e,(lKt(),fde)),11),i=jV(wTt(n,fde),11),y0(t.g,r,i))}function Lmt(t,e,n){var i,r,o;i=e.c.p,o=e.p,t.b[i][o]=new NZ(t,e),n&&(t.a[i][o]=new jp(e),(r=jV(wTt(e,(lKt(),nde)),10))&&ZIt(t.d,r,e))}function Rmt(t,e){var n,i,r;if(WV(Eoe,t),e.Fc(t),n=jV(LG(xoe,t),21))for(r=n.Kc();r.Ob();)i=jV(r.Pb(),33),-1!=_9(Eoe,i,0)||Rmt(i,e)}function Bmt(t,e,n){var i;(Wne?(pgt(t),1):Gne||Xne?(uT(),1):Yne&&(uT(),0))&&((i=new ej(e)).b=n,oCt(t,i))}function Fmt(t,e){var n;n=!t.A.Hc((wpt(),BIe))||t.q==(Yxt(),qSe),t.u.Hc((hIt(),tIe))?n?DWt(t,e):oWt(t,e):t.u.Hc(nIe)&&(n?Mqt(t,e):ZWt(t,e))}function jmt(t,e){var n,i;++t.j,null!=e&&aMt(e,n=iD(i=t.a.Cb,97)?jV(i,97).Jg():null)?lmt(t.a,4,n):lmt(t.a,4,jV(e,126))}function $mt(t,e,n){return new UY(i.Math.min(t.a,e.a)-n/2,i.Math.min(t.b,e.b)-n/2,i.Math.abs(t.a-e.a)+n,i.Math.abs(t.b-e.b)+n)}function Vmt(t,e){var n,i;return 0!=(n=_O(t.a.c.p,e.a.c.p))?n:0!=(i=_O(t.a.d.i.p,e.a.d.i.p))?i:_O(e.a.d.p,t.a.d.p)}function zmt(t,e,n){var i,r,o,s;return(o=e.j)!=(s=n.j)?o.g-s.g:(i=t.f[e.p],r=t.f[n.p],0==i&&0==r?0:0==i?-1:0==r?1:Cdt(i,r))}function Hmt(t,e,n){var i;if(!n[e.d])for(n[e.d]=!0,i=new Wf(vft(e));i.a<i.c.c.length;)Hmt(t,Dft(jV(Q1(i),213),e),n)}function Umt(t,e,n){var i;switch(i=n[t.g][e],t.g){case 1:case 3:return new DS(0,i);case 2:case 4:return new DS(i,0);default:return null}}function qmt(t,e,n){var i;i=jV(aQ(e.f),209);try{i.Ze(t,n),EK(e.f,i)}catch(t){throw iD(t=hat(t),102),$b(t)}}function Wmt(t,e,n){var i,r,o,s;return i=null,(o=mUt(rit(),e))&&(r=null,null!=(s=QHt(o,n))&&(r=t.Ye(o,s)),i=r),i}function Gmt(t,e,n,i){var r;return r=new O9(t.e,1,13,e.c||(pKt(),lOe),n.c||(pKt(),lOe),swt(t,e),!1),i?i.Ei(r):i=r,i}function Kmt(t,e,n,i){var r;if(e>=(r=t.length))return r;for(e=e>0?e:0;e<r&&!tct((h1(e,t.length),t.charCodeAt(e)),n,i);e++);return e}function Ymt(t,e){var n,i;for(i=t.c.length,e.length<i&&(e=V_(new Array(i),e)),n=0;n<i;++n)MG(e,n,t.c[n]);return e.length>i&&MG(e,i,null),e}function Xmt(t,e){var n,i;for(i=t.a.length,e.length<i&&(e=V_(new Array(i),e)),n=0;n<i;++n)MG(e,n,t.a[n]);return e.length>i&&MG(e,i,null),e}function Zmt(t,e,n){var i,r,o;return(r=jV(LG(t.e,e),387))?(o=pB(r,n),oD(t,r),o):(i=new QV(t,e,n),GK(t.e,e,i),yQ(i),null)}function Qmt(t){var e;if(null==t)return null;if(null==(e=OOt(jVt(t,!0))))throw $b(new e_("Invalid hexBinary value: '"+t+"'"));return e}function Jmt(t){return IRt(),Kut(t,0)<0?0!=Kut(t,-1)?new bxt(-1,v9(t)):Xee:Kut(t,10)<=0?Qee[fU(t)]:new bxt(1,t)}function tbt(){return gKt(),Cat(z_(Rre,1),PYt,159,0,[Tre,Ere,Cre,mre,pre,bre,vre,yre,wre,xre,kre,_re,fre,dre,gre,ure,lre,hre,are,sre,cre,Are])}function ebt(t){var e;this.d=new Ob,this.j=new zk,this.g=new zk,e=t.g.b,this.f=jV(wTt(mK(e),(VGt(),Upe)),103),this.e=zv(xR(pbt(e,Ebe)))}function nbt(t){this.b=new Ob,this.e=new Ob,this.d=t,this.a=!vx(IY(new LH(null,new HW(new b6(t.b))),new rg(new Ur))).sd((fT(),Jne))}function ibt(){ibt=M,cTe=new IS("PARENTS",0),aTe=new IS("NODES",1),oTe=new IS("EDGES",2),lTe=new IS("PORTS",3),sTe=new IS("LABELS",4)}function rbt(){rbt=M,jSe=new HS("DISTRIBUTED",0),VSe=new HS("JUSTIFIED",1),BSe=new HS("BEGIN",2),FSe=new HS(eQt,3),$Se=new HS("END",4)}function obt(t){switch(t.yi(null)){case 10:return 0;case 15:return 1;case 14:return 2;case 11:return 3;case 21:return 4}return-1}function sbt(t){switch(t.g){case 1:return jht(),$Ae;case 4:return jht(),BAe;case 2:return jht(),FAe;case 3:return jht(),RAe}return jht(),jAe}function abt(t,e,n){var i;switch((i=n.q.getFullYear()-cXt+cXt)<0&&(i=-i),e){case 1:t.a+=i;break;case 2:_tt(t,i%100,2);break;default:_tt(t,i,e)}}function cbt(t,e){var n,i;if(PJ(e,t.b),e>=t.b>>1)for(i=t.c,n=t.b;n>e;--n)i=i.b;else for(i=t.a.a,n=0;n<e;++n)i=i.a;return new ZF(t,e,i)}function lbt(){lbt=M,fie=new FC("NUM_OF_EXTERNAL_SIDES_THAN_NUM_OF_EXTENSIONS_LAST",0),die=new FC("CORNER_CASES_THAN_SINGLE_SIDE_LAST",1)}function ubt(t){var e,n,i;for(bO(n=sSt(t),jae),(i=t.d).c=D7(Mte,VKt,1,0,5,1),e=new Wf(n);e.a<e.c.c.length;)pat(i,jV(Q1(e),456).b)}function hbt(t){var e,n;for(!t.o&&(t.o=new w8((AGt(),xMe),ePe,t,0)),e=(n=t.o).c.Kc();e.e!=e.i.gc();)jV(e.nj(),42).dd();return I7(n)}function dbt(t){var e;PF(jV(wTt(t,(VGt(),tbe)),98))&&(uMt((u1(0,(e=t.b).c.length),jV(e.c[0],29))),uMt(jV(DH(e,e.c.length-1),29)))}function fbt(t,e){var n,r,o,s;for(n=0,o=new Wf(e.a);o.a<o.c.c.length;)s=(r=jV(Q1(o),10)).o.a+r.d.c+r.d.b+t.j,n=i.Math.max(n,s);return n}function gbt(t){var e,n,i,r;for(r=0,n=0,i=t.length;n<i;n++)h1(n,t.length),(e=t.charCodeAt(n))>=64&&e<128&&(r=e0(r,wq(1,e-64)));return r}function pbt(t,e){var n,i;return i=null,PL(t,(cKt(),CAe))&&(n=jV(wTt(t,CAe),94)).Xe(e)&&(i=n.We(e)),null==i&&mK(t)&&(i=wTt(mK(t),e)),i}function mbt(t,e){var n,i,r;(i=(r=e.d.i).k)!=(sCt(),Cae)&&i!=kae&&gPt(n=new sq(ZD(hft(r).a.Kc(),new u)))&&GK(t.k,e,jV(U4(n),17))}function bbt(t,e){var n,i,r;return i=eet(t.Tg(),e),(n=e-t.Ah())<0?(r=t.Yg(i))>=0?t.lh(r):zIt(t,i):n<0?zIt(t,i):jV(i,66).Nj().Sj(t,t.yh(),n)}function wbt(t){var e;if(iD(t.a,4)){if(null==(e=Zpt(t.a)))throw $b(new Fv(a4t+t.b+"'. "+i4t+(_R(uPe),uPe.k)+r4t));return e}return t.a}function ybt(t){var e;if(null==t)return null;if(null==(e=qWt(jVt(t,!0))))throw $b(new e_("Invalid base64Binary value: '"+t+"'"));return e}function vbt(t){var e;try{return e=t.i.Xb(t.e),t.mj(),t.g=t.e++,e}catch(e){throw iD(e=hat(e),73)?(t.mj(),$b(new ww)):$b(e)}}function _bt(t){var e;try{return e=t.c.ki(t.e),t.mj(),t.g=t.e++,e}catch(e){throw iD(e=hat(e),73)?(t.mj(),$b(new ww)):$b(e)}}function kbt(){kbt=M,cKt(),_oe=kAe,poe=wCe,uoe=iCe,moe=qCe,F_t(),yoe=xie,woe=_ie,voe=Tie,boe=vie,Hlt(),doe=soe,hoe=ooe,foe=coe,goe=loe}function xbt(t){switch(vT(),this.c=new Ob,this.d=t,t.g){case 0:case 2:this.a=KK(cae),this.b=RXt;break;case 3:case 1:this.a=cae,this.b=BXt}}function Ebt(t,e,n){var i;if(t.c)Cnt(t.c,t.c.i+e),Ant(t.c,t.c.j+n);else for(i=new Wf(t.b);i.a<i.c.c.length;)Ebt(jV(Q1(i),157),e,n)}function Tbt(t,e){var n,i;if(t.j.length!=e.j.length)return!1;for(n=0,i=t.j.length;n<i;n++)if(!bF(t.j[n],e.j[n]))return!1;return!0}function Cbt(t,e,n){var i;e.a.length>0&&(WV(t.b,new GV(e.a,n)),0<(i=e.a.length)?e.a=e.a.substr(0,0):0>i&&(e.a+=nD(D7(ANe,GYt,25,-i,15,1))))}function Abt(t,e){var n,i,r;for(n=t.o,r=jV(jV(c6(t.r,e),21),84).Kc();r.Ob();)(i=jV(r.Pb(),111)).e.a=gvt(i,n.a),i.e.b=n.b*zv(xR(i.b.We(Pre)))}function Sbt(t,e){var n,i,r,o;return r=t.k,n=zv(xR(wTt(t,(lKt(),kde)))),o=e.k,i=zv(xR(wTt(e,kde))),o!=(sCt(),xae)?-1:r!=xae?1:n==i?0:n<i?-1:1}function Ibt(t,e){var n,i;return n=jV(jV(LG(t.g,e.a),46).a,65),i=jV(jV(LG(t.g,e.b),46).a,65),W7(e.a,e.b)-W7(e.a,BO(n.b))-W7(e.b,BO(i.b))}function Mbt(t,e){var n;return n=jV(wTt(t,(VGt(),mme)),74),JO(e,mae)?n?wX(n):(n=new yy,lct(t,mme,n)):n&&lct(t,mme,null),n}function Pbt(t){var e;return(e=new C_).a+="n",t.k!=(sCt(),Cae)&&sM(sM((e.a+="(",e),fL(t.k).toLowerCase()),")"),sM((e.a+="_",e),pvt(t)),e.a}function Obt(t,e){IEt(e,"Self-Loop post-processing",1),XE(IY(IY(dtt(new LH(null,new d1(t.b,16)),new Li),new Ri),new Bi),new Fi),VCt(e)}function Dbt(t,e,n,i){var r;return n>=0?t.hh(e,n,i):(t.eh()&&(i=(r=t.Vg())>=0?t.Qg(i):t.eh().ih(t,-1-r,null,i)),t.Sg(e,n,i))}function Nbt(t,e){switch(e){case 7:return!t.e&&(t.e=new cF(RMe,t,7,4)),void cHt(t.e);case 8:return!t.d&&(t.d=new cF(RMe,t,8,5)),void cHt(t.d)}Lgt(t,e)}function Lbt(t,e){var n;n=t.Zc(e);try{return n.Pb()}catch(t){throw iD(t=hat(t),109)?$b(new Iv("Can't get element "+e)):$b(t)}}function Rbt(t,e){this.e=t,e<WXt?(this.d=1,this.a=Cat(z_(SNe,1),lXt,25,15,[0|e])):(this.d=2,this.a=Cat(z_(SNe,1),lXt,25,15,[e%WXt|0,e/WXt|0]))}function Bbt(t,e){var n,i,r,o;for(EX(),n=t,o=e,iD(t,21)&&!iD(e,21)&&(n=e,o=t),r=n.Kc();r.Ob();)if(i=r.Pb(),o.Hc(i))return!1;return!0}function Fbt(t,e,n){var i,r,o,s;return-1!=(i=t.Xc(e))&&(t.ej()?(o=t.fj(),s=Ovt(t,i),r=t.Zi(4,s,null,i,o),n?n.Ei(r):n=r):Ovt(t,i)),n}function jbt(t,e,n){var i,r,o,s;return-1!=(i=t.Xc(e))&&(t.ej()?(o=t.fj(),s=dH(t,i),r=t.Zi(4,s,null,i,o),n?n.Ei(r):n=r):dH(t,i)),n}function $bt(t,e){var n;switch(n=jV(sY(t.b,e),124).n,e.g){case 1:t.t>=0&&(n.d=t.t);break;case 3:t.t>=0&&(n.a=t.t)}t.C&&(n.b=t.C.b,n.c=t.C.c)}function Vbt(){Vbt=M,jre=new BC(wQt,0),Fre=new BC(yQt,1),$re=new BC(vQt,2),Vre=new BC(_Qt,3),jre.a=!1,Fre.a=!0,$re.a=!1,Vre.a=!0}function zbt(){zbt=M,Zre=new RC(wQt,0),Xre=new RC(yQt,1),Qre=new RC(vQt,2),Jre=new RC(_Qt,3),Zre.a=!1,Xre.a=!0,Qre.a=!1,Jre.a=!0}function Hbt(t){var e;e=t.a;do{(e=jV(U4(new sq(ZD(uft(e).a.Kc(),new u))),17).c.i).k==(sCt(),Tae)&&t.b.Fc(e)}while(e.k==(sCt(),Tae));t.b=est(t.b)}function Ubt(t){var e,n,i;for(i=t.c.a,t.p=(wG(i),new JF(i)),n=new Wf(i);n.a<n.c.c.length;)(e=jV(Q1(n),10)).p=lSt(e).a;EX(),bO(t.p,new Po)}function qbt(t){var e,n,i;if(n=0,0==(i=fRt(t)).c.length)return 1;for(e=new Wf(i);e.a<e.c.c.length;)n+=qbt(jV(Q1(e),33));return n}function Wbt(t,e){var n,i,r;for(r=0,i=jV(jV(c6(t.r,e),21),84).Kc();i.Ob();)r+=(n=jV(i.Pb(),111)).d.b+n.b.rf().a+n.d.c,i.Ob()&&(r+=t.w);return r}function Gbt(t,e){var n,i,r;for(r=0,i=jV(jV(c6(t.r,e),21),84).Kc();i.Ob();)r+=(n=jV(i.Pb(),111)).d.d+n.b.rf().b+n.d.a,i.Ob()&&(r+=t.w);return r}function Kbt(t,e,n,i){if(e.a<i.a)return!0;if(e.a==i.a){if(e.b<i.b)return!0;if(e.b==i.b&&t.b>n.b)return!0}return!1}function Ybt(t,e){return qI(t)?!!IKt[e]:t.hm?!!t.hm[e]:UI(t)?!!SKt[e]:!!HI(t)&&!!AKt[e]}function Xbt(t,e,n){return null==n?(!t.o&&(t.o=new w8((AGt(),xMe),ePe,t,0)),Gpt(t.o,e)):(!t.o&&(t.o=new w8((AGt(),xMe),ePe,t,0)),bkt(t.o,e,n)),t}function Zbt(t,e,n,i){var r;(r=Wht(e.Xe((cKt(),NCe))?jV(e.We(NCe),21):t.j))!=(gKt(),Are)&&(n&&!omt(r)||qCt(DOt(t,r,i),e))}function Qbt(t,e,n,i){var r,o,s;return o=eet(t.Tg(),e),(r=e-t.Ah())<0?(s=t.Yg(o))>=0?t._g(s,n,!0):rMt(t,o,n):jV(o,66).Nj().Pj(t,t.yh(),r,n,i)}function Jbt(t,e,n,i){var r,o;n.mh(e)&&(ZT(),ctt(e)?ymt(t,jV(n.ah(e),153)):(r=(o=e)?jV(i,49).xh(o):null)&&Bb(n.ah(e),r))}function twt(t){switch(t.g){case 1:return Lst(),Lre;case 3:return Lst(),Ore;case 2:return Lst(),Nre;case 4:return Lst(),Dre;default:return null}}function ewt(t){switch(typeof t){case DKt:return bwt(t);case OKt:return CQ(t);case PKt:return cN(),t?1231:1237;default:return null==t?0:TN(t)}}function nwt(t,e,n){if(t.e)switch(t.b){case 1:jX(t.c,e,n);break;case 0:$X(t.c,e,n)}else J3(t.c,e,n);t.a[e.p][n.p]=t.c.i,t.a[n.p][e.p]=t.c.e}function iwt(t){var e,n;if(null==t)return null;for(n=D7(Sae,cYt,193,t.length,0,2),e=0;e<n.length;e++)n[e]=jV(z8(t[e],t[e].length),193);return n}function rwt(t){var e;if(Blt(t))return bq(t),t.Lk()&&(e=jIt(t.e,t.b,t.c,t.a,t.j),t.j=e),t.g=t.a,++t.a,++t.c,t.i=0,t.j;throw $b(new ww)}function owt(t,e){var n,i,r,o;return(o=t.o)<(n=t.p)?o*=o:n*=n,i=o+n,(o=e.o)<(n=e.p)?o*=o:n*=n,i<(r=o+n)?-1:i==r?0:1}function swt(t,e){var n,i;if((i=Gvt(t,e))>=0)return i;if(t.Fk())for(n=0;n<t.i;++n)if(zI(t.Gk(jV(t.g[n],56)))===zI(e))return n;return-1}function awt(t,e,n){var i,r;if(e>=(r=t.gc()))throw $b(new JB(e,r));if(t.hi()&&(i=t.Xc(n))>=0&&i!=e)throw $b(new Bv(o7t));return t.mi(e,n)}function cwt(t,e){if(this.a=jV(wG(t),245),this.b=jV(wG(e),245),t.vd(e)>0||t==(tv(),Bte)||e==(Jy(),Fte))throw $b(new Bv("Invalid range: "+j3(t,e)))}function lwt(t){var e,n;for(this.b=new Ob,this.c=t,this.a=!1,n=new Wf(t.a);n.a<n.c.c.length;)e=jV(Q1(n),10),this.a=this.a|e.k==(sCt(),Cae)}function uwt(t,e){var n,i,r;for(n=IN(new Vw,t),r=new Wf(e);r.a<r.c.c.length;)i=jV(Q1(r),121),qNt(rT(iT(oT(nT(new $w,0),0),n),i));return n}function hwt(t,e,n){var i,r,o;for(r=new sq(ZD((e?uft(t):hft(t)).a.Kc(),new u));gPt(r);)i=jV(U4(r),17),(o=e?i.c.i:i.d.i).k==(sCt(),Eae)&&TJ(o,n)}function dwt(){dwt=M,uwe=new BA(YJt,0),hwe=new BA("PORT_POSITION",1),lwe=new BA("NODE_SIZE_WHERE_SPACE_PERMITS",2),cwe=new BA("NODE_SIZE",3)}function fwt(){fwt=M,CTe=new NS("AUTOMATIC",0),ITe=new NS(rQt,1),MTe=new NS(oQt,2),PTe=new NS("TOP",3),ATe=new NS(aQt,4),STe=new NS(eQt,5)}function gwt(t,e,n,i){var r,o;for(PMt(),r=0,o=0;o<n;o++)r=ift(rft(t0(e[o],qXt),t0(i,qXt)),t0(fU(r),qXt)),t[o]=fU(r),r=vq(r,32);return fU(r)}function pwt(t,e,n){var r,o;for(o=0,r=0;r<Zie;r++)o=i.Math.max(o,but(t.a[e.g][r],n));return e==(Let(),Hie)&&t.b&&(o=i.Math.max(o,t.b.b)),o}function mwt(t,e){var n,i;if(kL(e>0),(e&-e)==e)return CQ(e*VOt(t,31)*4.656612873077393e-10);do{i=(n=VOt(t,31))%e}while(n-i+(e-1)<0);return CQ(i)}function bwt(t){var e,n,i;return nj(),null!=(i=nie[n=":"+t])?CQ((yK(i),i)):(e=null==(i=eie[n])?ZNt(t):CQ((yK(i),i)),AX(),nie[n]=e,e)}function wwt(t,e,n){IEt(n,"Compound graph preprocessor",1),t.a=new pQ,Dqt(t,e,null),Hzt(t,e),tNt(t),lct(e,(lKt(),$he),t.a),t.a=null,MW(t.b),VCt(n)}function ywt(t,e,n){switch(n.g){case 1:t.a=e.a/2,t.b=0;break;case 2:t.a=e.a,t.b=e.b/2;break;case 3:t.a=e.a/2,t.b=e.b;break;case 4:t.a=0,t.b=e.b/2}}function vwt(t){var e,n,i;for(i=jV(c6(t.a,(Oxt(),Tle)),15).Kc();i.Ob();)eG(t,n=jV(i.Pb(),101),(e=Vvt(n))[0],(Art(),Dle),0),eG(t,n,e[1],Lle,1)}function _wt(t){var e,n,i;for(i=jV(c6(t.a,(Oxt(),Cle)),15).Kc();i.Ob();)eG(t,n=jV(i.Pb(),101),(e=Vvt(n))[0],(Art(),Dle),0),eG(t,n,e[1],Lle,1)}function kwt(t){switch(t.g){case 0:return null;case 1:return new Mrt;case 2:return new Xy;default:throw $b(new Bv(r5t+(null!=t.f?t.f:""+t.g)))}}function xwt(t,e,n){var i,r;for(wat(t,e-t.s,n-t.t),r=new Wf(t.n);r.a<r.c.c.length;)ef(i=jV(Q1(r),211),i.e+e-t.s),nf(i,i.f+n-t.t);t.s=e,t.t=n}function Ewt(t){var e,n,i,r;for(n=0,i=new Wf(t.a);i.a<i.c.c.length;)jV(Q1(i),121).d=n++;return r=null,(e=fCt(t)).c.length>1&&(r=uwt(t,e)),r}function Twt(t){var e;return t.f&&t.f.kh()&&(e=jV(t.f,49),t.f=jV(tht(t,e),82),t.f!=e&&4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,9,8,e,t.f))),t.f}function Cwt(t){var e;return t.i&&t.i.kh()&&(e=jV(t.i,49),t.i=jV(tht(t,e),82),t.i!=e&&4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,9,7,e,t.i))),t.i}function Awt(t){var e;return t.b&&64&t.b.Db&&(e=t.b,t.b=jV(tht(t,e),18),t.b!=e&&4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,9,21,e,t.b))),t.b}function Swt(t,e){var n,i,r;null==t.d?(++t.e,++t.f):(i=e.Sh(),uNt(t,t.f+1),r=(i&LKt)%t.d.length,!(n=t.d[r])&&(n=t.d[r]=t.uj()),n.Fc(e),++t.f)}function Iwt(t,e,n){var i;return!e.Kj()&&(-2!=e.Zj()?null==(i=e.zj())?null==n:Dht(i,n):e.Hj()==t.e.Tg()&&null==n)}function Mwt(){var t;hit(16,SYt),t=Zit(16),this.b=D7(Hte,AYt,317,t,0,1),this.c=D7(Hte,AYt,317,t,0,1),this.a=null,this.e=null,this.i=0,this.f=t-1,this.g=0}function Pwt(t){PB.call(this),this.k=(sCt(),Cae),this.j=(hit(6,MYt),new X6(6)),this.b=(hit(2,MYt),new X6(2)),this.d=new ly,this.f=new dy,this.a=t}function Owt(t){var e,n;t.c.length<=1||(gAt(t,jV((e=kRt(t,(vWt(),EIe))).a,19).a,jV(e.b,19).a),gAt(t,jV((n=kRt(t,CIe)).a,19).a,jV(n.b,19).a))}function Dwt(){Dwt=M,wwe=new FA("SIMPLE",0),pwe=new FA($1t,1),mwe=new FA("LINEAR_SEGMENTS",2),gwe=new FA("BRANDES_KOEPF",3),bwe=new FA(_3t,4)}function Nwt(t,e,n){PF(jV(wTt(e,(VGt(),tbe)),98))||(W9(t,e,LCt(e,n)),W9(t,e,LCt(e,(vWt(),EIe))),W9(t,e,LCt(e,aIe)),EX(),bO(e.j,new Bp(t)))}function Lwt(t,e,n,i){var r;for(r=jV(c6(i?t.a:t.b,e),21).Kc();r.Ob();)if(FRt(t,n,jV(r.Pb(),33)))return!0;return!1}function Rwt(t){var e,n;for(n=new ID(t);n.e!=n.i.gc();)if((e=jV(vbt(n),87)).e||0!=(!e.d&&(e.d=new MD(WPe,e,1)),e.d).i)return!0;return!1}function Bwt(t){var e,n;for(n=new ID(t);n.e!=n.i.gc();)if((e=jV(vbt(n),87)).e||0!=(!e.d&&(e.d=new MD(WPe,e,1)),e.d).i)return!0;return!1}function Fwt(t){var e,n;for(e=0,n=new Wf(t.c.a);n.a<n.c.c.length;)e+=F3(new sq(ZD(hft(jV(Q1(n),10)).a.Kc(),new u)));return e/t.c.a.c.length}function jwt(t){var e,n;for(t.c||UHt(t),n=new yy,Q1(e=new Wf(t.a));e.a<e.c.c.length;)Nz(n,jV(Q1(e),407).a);return TL(0!=n.b),Met(n,n.c.b),n}function $wt(){$wt=M,dBt(),VEe=LEe,jEe=new WP(8),new qP((cKt(),qCe),jEe),new qP(PAe,8),$Ee=DEe,BEe=xEe,FEe=EEe,REe=new qP(uCe,(cN(),!1))}function Vwt(t,e,n,i){switch(e){case 7:return!t.e&&(t.e=new cF(RMe,t,7,4)),t.e;case 8:return!t.d&&(t.d=new cF(RMe,t,8,5)),t.d}return Rft(t,e,n,i)}function zwt(t){var e;return t.a&&t.a.kh()&&(e=jV(t.a,49),t.a=jV(tht(t,e),138),t.a!=e&&4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,9,5,e,t.a))),t.a}function Hwt(t){return t<48||t>102?-1:t<=57?t-48:t<65?-1:t<=70?t-65+10:t<97?-1:t-97+10}function Uwt(t,e){if(null==t)throw $b(new $v("null key in entry: null="+e));if(null==e)throw $b(new $v("null value in entry: "+t+"=null"))}function qwt(t,e){for(var n,i;t.Ob();){if(!e.Ob())return!1;if(n=t.Pb(),i=e.Pb(),!(zI(n)===zI(i)||null!=n&&Dht(n,i)))return!1}return!e.Ob()}function Wwt(t,e){var n;return n=Cat(z_(ONe,1),zXt,25,15,[but(t.a[0],e),but(t.a[1],e),but(t.a[2],e)]),t.d&&(n[0]=i.Math.max(n[0],n[2]),n[2]=n[0]),n}function Gwt(t,e){var n;return n=Cat(z_(ONe,1),zXt,25,15,[wut(t.a[0],e),wut(t.a[1],e),wut(t.a[2],e)]),t.d&&(n[0]=i.Math.max(n[0],n[2]),n[2]=n[0]),n}function Kwt(){Kwt=M,wue=new EA("GREEDY",0),bue=new EA(V1t,1),vue=new EA($1t,2),_ue=new EA("MODEL_ORDER",3),yue=new EA("GREEDY_MODEL_ORDER",4)}function Ywt(t,e){var n,i,r;for(t.b[e.g]=1,i=cbt(e.d,0);i.b!=i.d.c;)r=(n=jV(h3(i),188)).c,1==t.b[r.g]?Nz(t.a,n):2==t.b[r.g]?t.b[r.g]=1:Ywt(t,r)}function Xwt(t,e){var n,i,r;for(r=new X6(e.gc()),i=e.Kc();i.Ob();)(n=jV(i.Pb(),286)).c==n.f?lAt(t,n,n.c):iAt(t,n)||(r.c[r.c.length]=n);return r}function Zwt(t,e,n){var i,r,o,s;for(s=t.r+e,t.r+=e,t.d+=n,i=n/t.n.c.length,r=0,o=new Wf(t.n);o.a<o.c.c.length;)fOt(jV(Q1(o),211),s,i,r),++r}function Qwt(t){var e,n;for(bv(t.b.a),t.a=D7(hie,VKt,57,t.c.c.a.b.c.length,0,1),e=0,n=new Wf(t.c.c.a.b);n.a<n.c.c.length;)jV(Q1(n),57).f=e++}function Jwt(t){var e,n;for(bv(t.b.a),t.a=D7(Kse,VKt,81,t.c.a.a.b.c.length,0,1),e=0,n=new Wf(t.c.a.a.b);n.a<n.c.c.length;)jV(Q1(n),81).i=e++}function tyt(t,e,n){IEt(n,"Shrinking tree compaction",1),Vv(kR(wTt(e,(Wot(),Kre))))?(nrt(t,e.f),ott(e.f,e.c)):ott(e.f,e.c),VCt(n)}function eyt(t){var e;if(e=dut(t),!gPt(t))throw $b(new Iv("position (0) must be less than the number of elements that remained ("+e+")"));return U4(t)}function nyt(t,e,n){try{return byt(t,e+t.j,n+t.k)}catch(t){throw iD(t=hat(t),73)?$b(new Iv(t.g+AQt+e+jKt+n+").")):$b(t)}}function iyt(t,e,n){try{return wyt(t,e+t.j,n+t.k)}catch(t){throw iD(t=hat(t),73)?$b(new Iv(t.g+AQt+e+jKt+n+").")):$b(t)}}function ryt(t,e,n){try{return yyt(t,e+t.j,n+t.k)}catch(t){throw iD(t=hat(t),73)?$b(new Iv(t.g+AQt+e+jKt+n+").")):$b(t)}}function oyt(t){switch(t.g){case 1:return vWt(),CIe;case 4:return vWt(),aIe;case 3:return vWt(),sIe;case 2:return vWt(),EIe;default:return vWt(),TIe}}function syt(t,e,n){e.k==(sCt(),Cae)&&n.k==Tae&&(t.d=kht(e,(vWt(),EIe)),t.b=kht(e,aIe)),n.k==Cae&&e.k==Tae&&(t.d=kht(n,(vWt(),aIe)),t.b=kht(n,EIe))}function ayt(t,e){var n,i;for(i=oft(t,e).Kc();i.Ob();)if(null!=wTt(n=jV(i.Pb(),11),(lKt(),_de))||HN(new b6(n.b)))return!0;return!1}function cyt(t,e){return Cnt(e,t.e+t.d+(0==t.c.c.length?0:t.b)),Ant(e,t.f),t.a=i.Math.max(t.a,e.f),t.d+=e.g+(0==t.c.c.length?0:t.b),WV(t.c,e),!0}function lyt(t,e,n){var i,r,o,s;for(s=0,i=n/t.a.c.length,o=new Wf(t.a);o.a<o.c.c.length;)xwt(r=jV(Q1(o),187),r.s,r.t+s*i),Zwt(r,t.d-r.r+e,i),++s}function uyt(t){var e,n,i;for(n=new Wf(t.b);n.a<n.c.c.length;)for(e=0,i=new Wf(jV(Q1(n),29).a);i.a<i.c.c.length;)jV(Q1(i),10).p=e++}function hyt(t,e){var n,i,r,o,s,a;for(r=e.length-1,s=0,a=0,i=0;i<=r;i++)o=e[i],n=mCt(r,i)*eht(1-t,r-i)*eht(t,i),s+=o.a*n,a+=o.b*n;return new DS(s,a)}function dyt(t,e){var n,i,r,o,s;for(n=e.gc(),t.qi(t.i+n),o=e.Kc(),s=t.i,t.i+=n,i=s;i<t.i;++i)r=o.Pb(),vD(t,i,t.oi(i,r)),t.bi(i,r),t.ci();return 0!=n}function fyt(t,e,n){var i,r,o;return t.ej()?(i=t.Vi(),o=t.fj(),++t.j,t.Hi(i,t.oi(i,e)),r=t.Zi(3,null,e,i,o),n?n.Ei(r):n=r):ZR(t,t.Vi(),e),n}function gyt(t,e,n){var i,r,o;return(64&(o=iD(r=(i=jV(Get(r5(t.a),e),87)).c,88)?jV(r,26):(pKt(),dOe)).Db?tht(t.b,o):o)==n?h$t(i):rnt(i,n),o}function pyt(t,e,n,i,r,o,s,a){var c,l;i&&((c=i.a[0])&&pyt(t,e,n,c,r,o,s,a),Svt(t,n,i.d,r,o,s,a)&&e.Fc(i),(l=i.a[1])&&pyt(t,e,n,l,r,o,s,a))}function myt(t,e){var n;return t.a||(n=D7(ONe,zXt,25,0,15,1),gx(t.b.a,new hg(n)),n.sort(nnt(E.prototype.te,E,[])),t.a=new BF(n,t.d)),R6(t.a,e)}function byt(t,e,n){try{return KI(trt(t,e,n),1)}catch(i){throw iD(i=hat(i),320)?$b(new Iv(EQt+t.o+"*"+t.p+TQt+e+jKt+n+CQt)):$b(i)}}function wyt(t,e,n){try{return KI(trt(t,e,n),0)}catch(i){throw iD(i=hat(i),320)?$b(new Iv(EQt+t.o+"*"+t.p+TQt+e+jKt+n+CQt)):$b(i)}}function yyt(t,e,n){try{return KI(trt(t,e,n),2)}catch(i){throw iD(i=hat(i),320)?$b(new Iv(EQt+t.o+"*"+t.p+TQt+e+jKt+n+CQt)):$b(i)}}function vyt(t,e){if(-1==t.g)throw $b(new fw);t.mj();try{t.d._c(t.g,e),t.f=t.d.j}catch(t){throw iD(t=hat(t),73)?$b(new mw):$b(t)}}function _yt(t,e,n){IEt(n,"Linear segments node placement",1),t.b=jV(wTt(e,(lKt(),Ide)),304),KGt(t,e),bzt(t,e),Yzt(t,e),lGt(t),t.a=null,t.b=null,VCt(n)}function kyt(t,e){var n,i,r,o;for(o=t.gc(),e.length<o&&(e=V_(new Array(o),e)),r=e,i=t.Kc(),n=0;n<o;++n)MG(r,n,i.Pb());return e.length>o&&MG(e,o,null),e}function xyt(t,e){var n,i;if(i=t.gc(),null==e){for(n=0;n<i;n++)if(null==t.Xb(n))return n}else for(n=0;n<i;n++)if(Dht(e,t.Xb(n)))return n;return-1}function Eyt(t,e){var n,i,r;return n=e.cd(),r=e.dd(),i=t.xc(n),!(!(zI(r)===zI(i)||null!=r&&Dht(r,i))||null==i&&!t._b(n))}function Tyt(t,e){var n,i,r;return e<=22?(n=t.l&(1<<e)-1,i=r=0):e<=44?(n=t.l,i=t.m&(1<<e-22)-1,r=0):(n=t.l,i=t.m,r=t.h&(1<<e-44)-1),xO(n,i,r)}function Cyt(t,e){switch(e.g){case 1:return t.f.n.d+t.t;case 3:return t.f.n.a+t.t;case 2:return t.f.n.c+t.s;case 4:return t.f.n.b+t.s;default:return 0}}function Ayt(t,e){var n,i;switch(i=e.c,n=e.a,t.b.g){case 0:n.d=t.e-i.a-i.d;break;case 1:n.d+=t.e;break;case 2:n.c=t.e-i.a-i.d;break;case 3:n.c=t.e+i.d}}function Syt(t,e,n,i){var r,o;this.a=e,this.c=i,Id(this,new DS(-(r=t.a).c,-r.d)),UB(this.b,n),o=i/2,e.a?jL(this.b,0,o):jL(this.b,o,0),WV(t.c,this)}function Iyt(){Iyt=M,Vke=new bS(YJt,0),jke=new bS(z1t,1),$ke=new bS("EDGE_LENGTH_BY_POSITION",2),Fke=new bS("CROSSING_MINIMIZATION_BY_POSITION",3)}function Myt(t,e){var n,i;if(n=jV(cnt(t.g,e),33))return n;if(i=jV(cnt(t.j,e),118))return i;throw $b(new t_("Referenced shape does not exist: "+e))}function Pyt(t,e){if(t.c==e)return t.d;if(t.d==e)return t.c;throw $b(new Bv("Node 'one' must be either source or target of edge 'edge'."))}function Oyt(t,e){if(t.c.i==e)return t.d.i;if(t.d.i==e)return t.c.i;throw $b(new Bv("Node "+e+" is neither source nor target of edge "+t))}function Dyt(t,e){var n;switch(e.g){case 2:case 4:n=t.a,t.c.d.n.b<n.d.n.b&&(n=t.c),hW(t,e,(Iat(),yle),n);break;case 1:case 3:hW(t,e,(Iat(),mle),null)}}function Nyt(t,e,n,i,r,o){var s,a,c,l,u;for(s=nkt(e,n,o),a=n==(vWt(),aIe)||n==CIe?-1:1,l=t[n.g],u=0;u<l.length;u++)(c=l[u])>0&&(c+=r),l[u]=s,s+=a*(c+i)}function Lyt(t){var e,n,i;for(i=t.f,t.n=D7(ONe,zXt,25,i,15,1),t.d=D7(ONe,zXt,25,i,15,1),e=0;e<i;e++)n=jV(DH(t.c.b,e),29),t.n[e]=fbt(t,n),t.d[e]=KDt(t,n)}function Ryt(t,e){var n,i,r;for(r=0,i=2;i<e;i<<=1)t.Db&i&&++r;if(0==r){for(n=e<<=1;n<=128;n<<=1)if(t.Db&n)return 0;return-1}return r}function Byt(t,e){var n,i,r,o,s;for(s=oLt(t.e.Tg(),e),o=null,n=jV(t.g,119),r=0;r<t.i;++r)i=n[r],s.rl(i.ak())&&(!o&&(o=new mc),l8(o,i));o&&oGt(t,o)}function Fyt(t){var e,n;if(!t)return null;if(t.dc())return"";for(n=new E_,e=t.Kc();e.Ob();)iM(n,ER(e.Pb())),n.a+=" ";return RM(n,n.a.length-1)}function jyt(t,e,n){var i,r,o,s;for(rct(t),null==t.k&&(t.k=D7(Zte,cYt,78,0,0,1)),r=0,o=(i=t.k).length;r<o;++r)jyt(i[r]);(s=t.f)&&jyt(s)}function $yt(t,e){var n,i=new Array(e);switch(t){case 14:case 15:n=0;break;case 16:n=!1;break;default:return i}for(var r=0;r<e;++r)i[r]=n;return i}function Vyt(t){var e;for(e=new Wf(t.a.b);e.a<e.c.c.length;)jV(Q1(e),57).c.$b();Iet(fP(t.d)?t.a.c:t.a.d,new xg(t)),t.c.Me(t),FLt(t)}function zyt(t){var e,n,i;for(n=new Wf(t.e.c);n.a<n.c.c.length;){for(i=new Wf((e=jV(Q1(n),282)).b);i.a<i.c.c.length;)FVt(jV(Q1(i),447));$St(e)}}function Hyt(t){var e,n,r,o,s;for(r=0,s=0,o=0,n=new Wf(t.a);n.a<n.c.c.length;)e=jV(Q1(n),187),s=i.Math.max(s,e.r),r+=e.d+(o>0?t.c:0),++o;t.b=r,t.d=s}function Uyt(t,e){var n,r,o,s,a;for(r=0,o=0,n=0,a=new Wf(e);a.a<a.c.c.length;)s=jV(Q1(a),200),r=i.Math.max(r,s.e),o+=s.b+(n>0?t.g:0),++n;t.c=o,t.d=r}function qyt(t,e){var n;return n=Cat(z_(ONe,1),zXt,25,15,[pwt(t,(Let(),zie),e),pwt(t,Hie,e),pwt(t,Uie,e)]),t.f&&(n[0]=i.Math.max(n[0],n[2]),n[2]=n[0]),n}function Wyt(t,e,n){try{jBt(t,e+t.j,n+t.k,!1,!0)}catch(t){throw iD(t=hat(t),73)?$b(new Iv(t.g+AQt+e+jKt+n+").")):$b(t)}}function Gyt(t,e,n){try{jBt(t,e+t.j,n+t.k,!0,!1)}catch(t){throw iD(t=hat(t),73)?$b(new Iv(t.g+AQt+e+jKt+n+").")):$b(t)}}function Kyt(t){var e;PL(t,(VGt(),Mme))&&((e=jV(wTt(t,Mme),21)).Hc((JPt(),ASe))?(e.Mc(ASe),e.Fc(ISe)):e.Hc(ISe)&&(e.Mc(ISe),e.Fc(ASe)))}function Yyt(t){var e;PL(t,(VGt(),Mme))&&((e=jV(wTt(t,Mme),21)).Hc((JPt(),NSe))?(e.Mc(NSe),e.Fc(OSe)):e.Hc(OSe)&&(e.Mc(OSe),e.Fc(NSe)))}function Xyt(t,e,n){IEt(n,"Self-Loop ordering",1),XE(MY(IY(IY(dtt(new LH(null,new d1(e.b,16)),new Ii),new Mi),new Pi),new Oi),new hp(t)),VCt(n)}function Zyt(t,e,n,i){var r,o;for(r=e;r<t.c.length;r++){if(u1(r,t.c.length),o=jV(t.c[r],11),!n.Mb(o))return r;i.c[i.c.length]=o}return t.c.length}function Qyt(t,e,n,i){var r,o,s;return null==t.a&&gCt(t,e),s=e.b.j.c.length,o=n.d.p,(r=i.d.p-1)<0&&(r=s-1),o<=r?t.a[r]-t.a[o]:t.a[s-1]-t.a[o]+t.a[r]}function Jyt(t){var e,n;if(!t.b)for(t.b=C2(jV(t.f,33).Ag().i),n=new ID(jV(t.f,33).Ag());n.e!=n.i.gc();)e=jV(vbt(n),137),WV(t.b,new Lv(e));return t.b}function tvt(t){var e,n;if(!t.e)for(t.e=C2(wY(jV(t.f,33)).i),n=new ID(wY(jV(t.f,33)));n.e!=n.i.gc();)e=jV(vbt(n),118),WV(t.e,new sb(e));return t.e}function evt(t){var e,n;if(!t.a)for(t.a=C2(YX(jV(t.f,33)).i),n=new ID(YX(jV(t.f,33)));n.e!=n.i.gc();)e=jV(vbt(n),33),WV(t.a,new XN(t,e));return t.a}function nvt(t){var e;if(!t.C&&(null!=t.D||null!=t.B))if(e=dqt(t))t.yk(e);else try{t.yk(null)}catch(t){if(!iD(t=hat(t),60))throw $b(t)}return t.C}function ivt(t){switch(t.q.g){case 5:vkt(t,(vWt(),aIe)),vkt(t,EIe);break;case 4:rUt(t,(vWt(),aIe)),rUt(t,EIe);break;default:jAt(t,(vWt(),aIe)),jAt(t,EIe)}}function rvt(t){switch(t.q.g){case 5:_kt(t,(vWt(),sIe)),_kt(t,CIe);break;case 4:oUt(t,(vWt(),sIe)),oUt(t,CIe);break;default:$At(t,(vWt(),sIe)),$At(t,CIe)}}function ovt(t,e){var n,r,o;for(o=new zk,r=t.Kc();r.Ob();)QBt(n=jV(r.Pb(),37),o.a,0),o.a+=n.f.a+e,o.b=i.Math.max(o.b,n.f.b);return o.b>0&&(o.b+=e),o}function svt(t,e){var n,r,o;for(o=new zk,r=t.Kc();r.Ob();)QBt(n=jV(r.Pb(),37),0,o.b),o.b+=n.f.b+e,o.a=i.Math.max(o.a,n.f.a);return o.a>0&&(o.a+=e),o}function avt(t){var e,n,r;for(r=LKt,n=new Wf(t.a);n.a<n.c.c.length;)PL(e=jV(Q1(n),10),(lKt(),dde))&&(r=i.Math.min(r,jV(wTt(e,dde),19).a));return r}function cvt(t,e){var n,i;if(0==e.length)return 0;for(n=ZG(t.a,e[0],(vWt(),CIe)),n+=ZG(t.a,e[e.length-1],sIe),i=0;i<e.length;i++)n+=zTt(t,i,e);return n}function lvt(){pLt(),this.c=new Ob,this.i=new Ob,this.e=new lP,this.f=new lP,this.g=new lP,this.j=new Ob,this.a=new Ob,this.b=new Db,this.k=new Db}function uvt(t,e){var n;return t.Db>>16==6?t.Cb.ih(t,5,VMe,e):(n=Awt(jV(eet(jV(yst(t,16),26)||t.zh(),t.Db>>16),18)),t.Cb.ih(t,n.n,n.f,e))}function hvt(t){TZ();var e=t.e;if(e&&e.stack){var n=e.stack,i=e+"\n";return n.substring(0,i.length)==i&&(n=n.substring(i.length)),n.split("\n")}return[]}function dvt(t){var e;return Eit(),(e=Iee)[t>>>28]|e[t>>24&15]<<4|e[t>>20&15]<<8|e[t>>16&15]<<12|e[t>>12&15]<<16|e[t>>8&15]<<20|e[t>>4&15]<<24|e[15&t]<<28}function fvt(t){var e,n,r;t.b==t.c&&(r=t.a.length,n=vct(i.Math.max(8,r))<<1,0!=t.b?(srt(t,e=EB(t.a,n),r),t.a=e,t.b=0):Tw(t.a,n),t.c=r)}function gvt(t,e){var n;return(n=t.b).Xe((cKt(),rAe))?n.Hf()==(vWt(),CIe)?-n.rf().a-zv(xR(n.We(rAe))):e+zv(xR(n.We(rAe))):n.Hf()==(vWt(),CIe)?-n.rf().a:e}function pvt(t){var e;return 0!=t.b.c.length&&jV(DH(t.b,0),70).a?jV(DH(t.b,0),70).a:null!=(e=tX(t))?e:""+(t.c?_9(t.c.a,t,0):-1)}function mvt(t){var e;return 0!=t.f.c.length&&jV(DH(t.f,0),70).a?jV(DH(t.f,0),70).a:null!=(e=tX(t))?e:""+(t.i?_9(t.i.j,t,0):-1)}function bvt(t,e){var n,i;if(e<0||e>=t.gc())return null;for(n=e;n<t.gc();++n)if(i=jV(t.Xb(n),128),n==t.gc()-1||!i.o)return new nI(ndt(n),i);return null}function wvt(t,e,n){var i,r,o,s;for(o=t.c,i=n?t:e,r=(n?e:t).p+1;r<i.p;++r)if((s=jV(DH(o.a,r),10)).k!=(sCt(),kae)&&!O_t(s))return!1;return!0}function yvt(t){var e,n,r,o,s;for(s=0,o=BXt,r=0,n=new Wf(t.a);n.a<n.c.c.length;)s+=(e=jV(Q1(n),187)).r+(r>0?t.c:0),o=i.Math.max(o,e.d),++r;t.e=s,t.b=o}function vvt(t){var e,n;if(!t.b)for(t.b=C2(jV(t.f,118).Ag().i),n=new ID(jV(t.f,118).Ag());n.e!=n.i.gc();)e=jV(vbt(n),137),WV(t.b,new Lv(e));return t.b}function _vt(t,e){var n,i,r;if(e.dc())return fR(),fR(),gPe;for(n=new rB(t,e.gc()),r=new ID(t);r.e!=r.i.gc();)i=vbt(r),e.Hc(i)&&l8(n,i);return n}function kvt(t,e,n,i){return 0==e?i?(!t.o&&(t.o=new w8((AGt(),xMe),ePe,t,0)),t.o):(!t.o&&(t.o=new w8((AGt(),xMe),ePe,t,0)),I7(t.o)):Qbt(t,e,n,i)}function xvt(t){var e,n;if(t.rb)for(e=0,n=t.rb.i;e<n;++e)mL(Get(t.rb,e));if(t.vb)for(e=0,n=t.vb.i;e<n;++e)mL(Get(t.vb,e));rq((SAt(),XOe),t),t.Bb|=1}function Evt(t,e,n,i,r,o,s,a,c,l,u,h,d,f){return dSt(t,e,i,null,r,o,s,a,c,l,d,!0,f),Udt(t,u),iD(t.Cb,88)&&MSt(T4(jV(t.Cb,88)),2),n&&irt(t,n),qdt(t,h),t}function Tvt(t){var e;if(null==t)return null;e=0;try{e=hjt(t,FYt,LKt)&YYt}catch(n){if(!iD(n=hat(n),127))throw $b(n);e=G9(t)[0]}return uat(e)}function Cvt(t){var e;if(null==t)return null;e=0;try{e=hjt(t,FYt,LKt)&YYt}catch(n){if(!iD(n=hat(n),127))throw $b(n);e=G9(t)[0]}return uat(e)}function Avt(t,e){var n,i,r;return!((r=t.h-e.h)<0||(n=t.l-e.l,(r+=(i=t.m-e.m+(n>>22))>>22)<0||(t.l=n&TXt,t.m=i&TXt,t.h=r&CXt,0)))}function Svt(t,e,n,i,r,o,s){var a,c;return!(e.Ae()&&(c=t.a.ue(n,i),c<0||!r&&0==c)||e.Be()&&(a=t.a.ue(n,o),a>0||!s&&0==a))}function Ivt(t,e){if(Ult(),0!=t.j.g-e.j.g)return 0;switch(t.j.g){case 2:return _ft(e,hle)-_ft(t,hle);case 4:return _ft(t,ule)-_ft(e,ule)}return 0}function Mvt(t){switch(t.g){case 0:return Due;case 1:return Nue;case 2:return Lue;case 3:return Rue;case 4:return Bue;case 5:return Fue;default:return null}}function Pvt(t,e,n){var i,r;return Sut(r=new Py,e),Drt(r,n),l8((!t.c&&(t.c=new tW(KPe,t,12,10)),t.c),r),Ont(i=r,0),Dnt(i,1),Jht(i,!0),Xht(i,!0),i}function Ovt(t,e){var n,i;if(e>=t.i)throw $b(new PM(e,t.i));return++t.j,n=t.g[e],(i=t.i-e-1)>0&&ozt(t.g,e+1,t.g,e,i),MG(t.g,--t.i,null),t.fi(e,n),t.ci(),n}function Dvt(t,e){var n;return t.Db>>16==17?t.Cb.ih(t,21,$Pe,e):(n=Awt(jV(eet(jV(yst(t,16),26)||t.zh(),t.Db>>16),18)),t.Cb.ih(t,n.n,n.f,e))}function Nvt(t){var e,n,i;for(EX(),bO(t.c,t.a),i=new Wf(t.c);i.a<i.c.c.length;)for(n=Q1(i),e=new Wf(t.b);e.a<e.c.c.length;)jV(Q1(e),679).Ke(n)}function Lvt(t){var e,n,i;for(EX(),bO(t.c,t.a),i=new Wf(t.c);i.a<i.c.c.length;)for(n=Q1(i),e=new Wf(t.b);e.a<e.c.c.length;)jV(Q1(e),369).Ke(n)}function Rvt(t){var e,n,i,r,o;for(r=LKt,o=null,i=new Wf(t.d);i.a<i.c.c.length;)(n=jV(Q1(i),213)).d.j^n.e.j&&(e=n.e.e-n.d.e-n.a)<r&&(r=e,o=n);return o}function Bvt(){Bvt=M,fse=new MM(DJt,(cN(),!1)),lse=new MM(NJt,100),V9(),use=new MM(LJt,hse=Sse),dse=new MM(RJt,hJt),gse=new MM(BJt,ndt(LKt))}function Fvt(t,e,n){var i,r,o,s,a,c;for(c=0,r=0,o=(i=t.a[e]).length;r<o;++r)for(a=Oht(i[r],n).Kc();a.Ob();)s=jV(a.Pb(),11),GK(t.f,s,ndt(c++))}function jvt(t,e,n){var i,r;if(n)for(r=((i=new cq(n.a.length)).b-i.a)*i.c<0?(tC(),kNe):new qD(i);r.Ob();)ZIt(t,e,vIt(ftt(n,jV(r.Pb(),19).a)))}function $vt(t,e,n){var i,r;if(n)for(r=((i=new cq(n.a.length)).b-i.a)*i.c<0?(tC(),kNe):new qD(i);r.Ob();)ZIt(t,e,vIt(ftt(n,jV(r.Pb(),19).a)))}function Vvt(t){var e;return FTt(),H8(e=jV(kyt(gq(t.k),D7(FIe,XJt,61,2,0,1)),122),0,e.length,null),e[0]==(vWt(),aIe)&&e[1]==CIe&&(MG(e,0,CIe),MG(e,1,aIe)),e}function zvt(t,e,n){var i,r,o;return o=cRt(t,r=WNt(t,e,n)),R8(t.b),y0(t,e,n),EX(),bO(r,new Gp(t)),i=cRt(t,r),R8(t.b),y0(t,n,e),new nI(ndt(o),ndt(i))}function Hvt(){Hvt=M,Uye=fH(new j2,(yTt(),jse),(hKt(),fce)),qye=new eB("linearSegments.inputPrio",ndt(0)),Wye=new eB("linearSegments.outputPrio",ndt(0))}function Uvt(){Uvt=M,Lve=new lS("P1_TREEIFICATION",0),Rve=new lS("P2_NODE_ORDERING",1),Bve=new lS("P3_NODE_PLACEMENT",2),Fve=new lS("P4_EDGE_ROUTING",3)}function qvt(){qvt=M,cKt(),Dke=gAe,Rke=PAe,Cke=RCe,Ake=jCe,Ske=VCe,Tke=NCe,Ike=UCe,Oke=lAe,BPt(),xke=dke,Eke=fke,Mke=pke,Pke=bke,Nke=wke,Lke=yke,Bke=_ke}function Wvt(){Wvt=M,xSe=new VS("UNKNOWN",0),vSe=new VS("ABOVE",1),_Se=new VS("BELOW",2),kSe=new VS("INLINE",3),new eB("org.eclipse.elk.labelSide",xSe)}function Gvt(t,e){var n;if(t.ni()&&null!=e){for(n=0;n<t.i;++n)if(Dht(e,t.g[n]))return n}else for(n=0;n<t.i;++n)if(zI(t.g[n])===zI(e))return n;return-1}function Kvt(t,e,n){var i,r;return e.c==(oit(),Vwe)&&n.c==$we?-1:e.c==$we&&n.c==Vwe?1:(i=gut(e.a,t.a),r=gut(n.a,t.a),e.c==Vwe?r-i:i-r)}function Yvt(t,e,n){if(n&&(e<0||e>n.a.c.length))throw $b(new Bv("index must be >= 0 and <= layer node count"));t.c&&w9(t.c.a,t),t.c=n,n&&yU(n.a,e,t)}function Xvt(t,e){var n,i,r;for(i=new sq(ZD(lft(t).a.Kc(),new u));gPt(i);)return n=jV(U4(i),17),new $h(wG((r=jV(e.Kb(n),10)).n.b+r.o.b/2));return ev(),ev(),Ite}function Zvt(t,e){this.c=new Db,this.a=t,this.b=e,this.d=jV(wTt(t,(lKt(),Ide)),304),zI(wTt(t,(VGt(),Pme)))===zI((g9(),Vue))?this.e=new gy:this.e=new fy}function Qvt(t,e){var n,r,o;for(o=0,r=new Wf(t);r.a<r.c.c.length;)n=jV(Q1(r),33),o+=i.Math.pow(n.g*n.f-e,2);return i.Math.sqrt(o/(t.c.length-1))}function Jvt(t,e){var n,i;return i=null,t.Xe((cKt(),CAe))&&(n=jV(t.We(CAe),94)).Xe(e)&&(i=n.We(e)),null==i&&t.yf()&&(i=t.yf().We(e)),null==i&&(i=wbt(e)),i}function t_t(t,e){var n,i;n=t.Zc(e);try{return i=n.Pb(),n.Qb(),i}catch(t){throw iD(t=hat(t),109)?$b(new Iv("Can't remove element "+e)):$b(t)}}function e_t(t,e){var n,i,r;if(0==(n=LVt(t,e,r=new bct((i=new IE).q.getFullYear()-cXt,i.q.getMonth(),i.q.getDate())))||n<e.length)throw $b(new Bv(e));return r}function n_t(t,e){var n,i,r;for(yK(e),kL(e!=t),r=t.b.c.length,i=e.Kc();i.Ob();)n=i.Pb(),WV(t.b,yK(n));return r!=t.b.c.length&&(klt(t,0),!0)}function i_t(){i_t=M,cKt(),yse=CCe,new qP(fCe,(cN(),!0)),kse=RCe,xse=jCe,Ese=VCe,_se=NCe,Tse=UCe,Cse=lAe,Bvt(),wse=fse,mse=use,bse=dse,vse=gse,pse=lse}function r_t(t,e){if(e==t.c)return t.d;if(e==t.d)return t.c;throw $b(new Bv("'port' must be either the source port or target port of the edge."))}function o_t(t,e,n){var i,r;switch(r=t.o,i=t.d,e.g){case 1:return-i.d-n;case 3:return r.b+i.a+n;case 2:return r.a+i.c+n;case 4:return-i.b-n;default:return 0}}function s_t(t,e,n,i){var r,o,s;for(TJ(e,jV(i.Xb(0),29)),s=i.bd(1,i.gc()),o=jV(n.Kb(e),20).Kc();o.Ob();)s_t(t,(r=jV(o.Pb(),17)).c.i==e?r.d.i:r.c.i,n,s)}function a_t(t){var e;return e=new Db,PL(t,(lKt(),Nde))?jV(wTt(t,Nde),83):(XE(IY(new LH(null,new d1(t.j,16)),new er),new gp(e)),lct(t,Nde,e),e)}function c_t(t,e){var n;return t.Db>>16==6?t.Cb.ih(t,6,RMe,e):(n=Awt(jV(eet(jV(yst(t,16),26)||(AGt(),wMe),t.Db>>16),18)),t.Cb.ih(t,n.n,n.f,e))}function l_t(t,e){var n;return t.Db>>16==7?t.Cb.ih(t,1,DMe,e):(n=Awt(jV(eet(jV(yst(t,16),26)||(AGt(),vMe),t.Db>>16),18)),t.Cb.ih(t,n.n,n.f,e))}function u_t(t,e){var n;return t.Db>>16==9?t.Cb.ih(t,9,HMe,e):(n=Awt(jV(eet(jV(yst(t,16),26)||(AGt(),kMe),t.Db>>16),18)),t.Cb.ih(t,n.n,n.f,e))}function h_t(t,e){var n;return t.Db>>16==5?t.Cb.ih(t,9,UPe,e):(n=Awt(jV(eet(jV(yst(t,16),26)||(pKt(),sOe),t.Db>>16),18)),t.Cb.ih(t,n.n,n.f,e))}function d_t(t,e){var n;return t.Db>>16==3?t.Cb.ih(t,0,FMe,e):(n=Awt(jV(eet(jV(yst(t,16),26)||(pKt(),JPe),t.Db>>16),18)),t.Cb.ih(t,n.n,n.f,e))}function f_t(t,e){var n;return t.Db>>16==7?t.Cb.ih(t,6,VMe,e):(n=Awt(jV(eet(jV(yst(t,16),26)||(pKt(),pOe),t.Db>>16),18)),t.Cb.ih(t,n.n,n.f,e))}function g_t(){this.a=new fc,this.g=new Mwt,this.j=new Mwt,this.b=new Db,this.d=new Mwt,this.i=new Mwt,this.k=new Db,this.c=new Db,this.e=new Db,this.f=new Db}function p_t(t,e,n){var i,r,o;for(n<0&&(n=0),o=t.i,r=n;r<o;r++)if(i=Get(t,r),null==e){if(null==i)return r}else if(zI(e)===zI(i)||Dht(e,i))return r;return-1}function m_t(t,e){var n,i;return(n=e.Hh(t.a))?(i=ER(rpt((!n.b&&(n.b=new XL((pKt(),wOe),UOe,n)),n.b),_9t)),bF(k9t,i)?rq(t,qet(e.Hj())):i):null}function b_t(t,e){var n,i;if(e){if(e==t)return!0;for(n=0,i=jV(e,49).eh();i&&i!=e;i=i.eh()){if(++n>HXt)return b_t(t,i);if(i==t)return!0}}return!1}function w_t(t){switch(NN(),t.q.g){case 5:bIt(t,(vWt(),aIe)),bIt(t,EIe);break;case 4:UOt(t,(vWt(),aIe)),UOt(t,EIe);break;default:bWt(t,(vWt(),aIe)),bWt(t,EIe)}}function y_t(t){switch(NN(),t.q.g){case 5:TMt(t,(vWt(),sIe)),TMt(t,CIe);break;case 4:Abt(t,(vWt(),sIe)),Abt(t,CIe);break;default:wWt(t,(vWt(),sIe)),wWt(t,CIe)}}function v_t(t){var e,n;(e=jV(wTt(t,(uBt(),Qoe)),19))?(n=e.a,lct(t,(Ert(),cse),0==n?new cft:new C5(n))):lct(t,(Ert(),cse),new C5(1))}function __t(t,e){var n;switch(n=t.i,e.g){case 1:return-(t.n.b+t.o.b);case 2:return t.n.a-n.o.a;case 3:return t.n.b-n.o.b;case 4:return-(t.n.a+t.o.a)}return 0}function k_t(t,e){switch(t.g){case 0:return e==(xft(),Fde)?nle:ile;case 1:return e==(xft(),Fde)?nle:ele;case 2:return e==(xft(),Fde)?ele:ile;default:return ele}}function x_t(t,e){var n,r,o;for(w9(t.a,e),t.e-=e.r+(0==t.a.c.length?0:t.c),o=J3t,r=new Wf(t.a);r.a<r.c.c.length;)n=jV(Q1(r),187),o=i.Math.max(o,n.d);t.b=o}function E_t(t,e){var n;return t.Db>>16==3?t.Cb.ih(t,12,HMe,e):(n=Awt(jV(eet(jV(yst(t,16),26)||(AGt(),bMe),t.Db>>16),18)),t.Cb.ih(t,n.n,n.f,e))}function T_t(t,e){var n;return t.Db>>16==11?t.Cb.ih(t,10,HMe,e):(n=Awt(jV(eet(jV(yst(t,16),26)||(AGt(),_Me),t.Db>>16),18)),t.Cb.ih(t,n.n,n.f,e))}function C_t(t,e){var n;return t.Db>>16==10?t.Cb.ih(t,11,$Pe,e):(n=Awt(jV(eet(jV(yst(t,16),26)||(pKt(),fOe),t.Db>>16),18)),t.Cb.ih(t,n.n,n.f,e))}function A_t(t,e){var n;return t.Db>>16==10?t.Cb.ih(t,12,GPe,e):(n=Awt(jV(eet(jV(yst(t,16),26)||(pKt(),mOe),t.Db>>16),18)),t.Cb.ih(t,n.n,n.f,e))}function S_t(t){var e;return 1&t.Bb||!t.r||!t.r.kh()||(e=jV(t.r,49),t.r=jV(tht(t,e),138),t.r!=e&&4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,9,8,e,t.r))),t.r}function I_t(t,e,n){var r;return r=Cat(z_(ONe,1),zXt,25,15,[nTt(t,(Let(),zie),e,n),nTt(t,Hie,e,n),nTt(t,Uie,e,n)]),t.f&&(r[0]=i.Math.max(r[0],r[2]),r[2]=r[0]),r}function M_t(t,e){var n,i,r;if(0!=(r=Xwt(t,e)).c.length)for(bO(r,new ei),n=r.c.length,i=0;i<n;i++)lAt(t,(u1(i,r.c.length),jV(r.c[i],286)),xRt(t,r,i))}function P_t(t){var e,n,i;for(i=jV(c6(t.a,(Oxt(),kle)),15).Kc();i.Ob();)for(e=gq((n=jV(i.Pb(),101)).k).Kc();e.Ob();)eG(t,n,jV(e.Pb(),61),(Art(),Nle),1)}function O_t(t){var e,n;if(t.k==(sCt(),Tae))for(n=new sq(ZD(lft(t).a.Kc(),new u));gPt(n);)if(!h4(e=jV(U4(n),17))&&t.c==Mkt(e,t).c)return!0;return!1}function D_t(t){var e,n;if(t.k==(sCt(),Tae))for(n=new sq(ZD(lft(t).a.Kc(),new u));gPt(n);)if(!h4(e=jV(U4(n),17))&&e.c.i.c==e.d.i.c)return!0;return!1}function N_t(t,e){var n,i;for(IEt(e,"Dull edge routing",1),i=cbt(t.b,0);i.b!=i.d.c;)for(n=cbt(jV(h3(i),86).d,0);n.b!=n.d.c;)wX(jV(h3(n),188).a)}function L_t(t,e){var n,i,r;if(e)for(r=((n=new cq(e.a.length)).b-n.a)*n.c<0?(tC(),kNe):new qD(n);r.Ob();)(i=D2(e,jV(r.Pb(),19).a))&&IOt(t,i)}function R_t(){var t;for(JT(),JGt((KG(),QPe)),FGt(QPe),xvt(QPe),pKt(),MOe=lOe,t=new Wf(WOe);t.a<t.c.c.length;)oqt(jV(Q1(t),241),lOe,null);return!0}function B_t(t,e){var n,i,r,o,s,a;return(s=t.h>>19)!=(a=e.h>>19)?a-s:(i=t.h)!=(o=e.h)?i-o:(n=t.m)!=(r=e.m)?n-r:t.l-e.l}function F_t(){F_t=M,tBt(),Tie=new MM(qZt,Cie=Die),Ltt(),xie=new MM(WZt,Eie=bie),lbt(),_ie=new MM(GZt,kie=fie),vie=new MM(KZt,(cN(),!0))}function j_t(t,e,n){var i,r;i=e*n,iD(t.g,145)?(r=l3(t)).f.d?r.f.a||(t.d.a+=i+uQt):(t.d.d-=i+uQt,t.d.a+=i+uQt):iD(t.g,10)&&(t.d.d-=i,t.d.a+=2*i)}function $_t(t,e,n){var r,o,s,a,c;for(o=t[n.g],c=new Wf(e.d);c.a<c.c.c.length;)(s=(a=jV(Q1(c),101)).i)&&s.i==n&&(o[r=a.d[n.g]]=i.Math.max(o[r],s.j.b))}function V_t(t,e){var n,r,o,s,a;for(r=0,o=0,n=0,a=new Wf(e.d);a.a<a.c.c.length;)Hyt(s=jV(Q1(a),443)),r=i.Math.max(r,s.b),o+=s.d+(n>0?t.g:0),++n;e.b=r,e.e=o}function z_t(t){var e,n,i;if(i=t.b,VE(t.i,i.length)){for(n=2*i.length,t.b=D7(Hte,AYt,317,n,0,1),t.c=D7(Hte,AYt,317,n,0,1),t.f=n-1,t.i=0,e=t.a;e;e=e.c)XSt(t,e,e);++t.g}}function H_t(t,e,n,i){var r,o,s,a;for(r=0;r<e.o;r++)for(o=r-e.j+n,s=0;s<e.p;s++)a=s-e.k+i,byt(e,r,s)?ryt(t,o,a)||Wyt(t,o,a):yyt(e,r,s)&&(nyt(t,o,a)||Gyt(t,o,a))}function U_t(t,e,n){var i;(i=e.c.i).k==(sCt(),Tae)?(lct(t,(lKt(),cde),jV(wTt(i,cde),11)),lct(t,lde,jV(wTt(i,lde),11))):(lct(t,(lKt(),cde),e.c),lct(t,lde,n.d))}function q_t(t,e,n){var r,o,s,a,c,l;return _Rt(),a=e/2,s=n/2,c=1,l=1,(r=i.Math.abs(t.a))>a&&(c=a/r),(o=i.Math.abs(t.b))>s&&(l=s/o),yD(t,i.Math.min(c,l)),t}function W_t(){var t,e;zVt();try{if(e=jV(Wkt((WT(),zPe),y6t),2014))return e}catch(e){if(!iD(e=hat(e),102))throw $b(e);t=e,oq((oO(),t))}return new ac}function G_t(){var t,e;f9();try{if(e=jV(Wkt((WT(),zPe),T9t),2024))return e}catch(e){if(!iD(e=hat(e),102))throw $b(e);t=e,oq((oO(),t))}return new Rl}function K_t(){var t,e;zVt();try{if(e=jV(Wkt((WT(),zPe),K8t),1941))return e}catch(e){if(!iD(e=hat(e),102))throw $b(e);t=e,oq((oO(),t))}return new Hc}function Y_t(t,e,n){var i,r;return r=t.e,t.e=e,4&t.Db&&!(1&t.Db)&&(i=new Qq(t,1,4,r,e),n?n.Ei(i):n=i),r!=e&&(n=oqt(t,e?vDt(t,e):t.a,n)),n}function X_t(){IE.call(this),this.e=-1,this.a=!1,this.p=FYt,this.k=-1,this.c=-1,this.b=-1,this.g=!1,this.f=-1,this.j=-1,this.n=-1,this.i=-1,this.d=-1,this.o=FYt}function Z_t(t,e){var n,i,r;if(i=t.b.d.d,t.a||(i+=t.b.d.a),r=e.b.d.d,e.a||(r+=e.b.d.a),0==(n=Cdt(i,r))){if(!t.a&&e.a)return-1;if(!e.a&&t.a)return 1}return n}function Q_t(t,e){var n,i,r;if(i=t.b.b.d,t.a||(i+=t.b.b.a),r=e.b.b.d,e.a||(r+=e.b.b.a),0==(n=Cdt(i,r))){if(!t.a&&e.a)return-1;if(!e.a&&t.a)return 1}return n}function J_t(t,e){var n,i,r;if(i=t.b.g.d,t.a||(i+=t.b.g.a),r=e.b.g.d,e.a||(r+=e.b.g.a),0==(n=Cdt(i,r))){if(!t.a&&e.a)return-1;if(!e.a&&t.a)return 1}return n}function tkt(){tkt=M,Ose=WU(fH(fH(fH(new j2,(yTt(),Fse),(hKt(),wce)),Fse,kce),jse,Ice),jse,sce),Nse=fH(fH(new j2,Fse,Xae),Fse,ace),Dse=WU(new j2,jse,lce)}function ekt(t){var e,n,i,r,o;for(e=jV(wTt(t,(lKt(),Hhe)),83),o=t.n,i=e.Cc().Kc();i.Ob();)(r=(n=jV(i.Pb(),306)).i).c+=o.a,r.d+=o.b,n.c?DRt(n):NRt(n);lct(t,Hhe,null)}function nkt(t,e,n){var i,r;switch(i=(r=t.b).d,e.g){case 1:return-i.d-n;case 2:return r.o.a+i.c+n;case 3:return r.o.b+i.a+n;case 4:return-i.b-n;default:return-1}}function ikt(t){var e,n,i,r,o;if(i=0,r=QQt,t.b)for(e=0;e<360;e++)n=.017453292519943295*e,qFt(t,t.d,0,0,Q3t,n),(o=t.b.ig(t.d))<r&&(i=n,r=o);qFt(t,t.d,0,0,Q3t,i)}function rkt(t,e){var n,i,r,o;for(o=new Db,e.e=null,e.f=null,i=new Wf(e.i);i.a<i.c.c.length;)n=jV(Q1(i),65),r=jV(LG(t.g,n.a),46),n.a=Vq(n.b),GK(o,n.a,r);t.g=o}function okt(t,e,n){var i,r,o,s,a;for(r=(e-t.e)/t.d.c.length,o=0,a=new Wf(t.d);a.a<a.c.c.length;)s=jV(Q1(a),443),i=t.b-s.b+n,vpt(s,s.e+o*r,s.f),lyt(s,r,i),++o}function skt(t){var e;if(t.f.qj(),-1!=t.b){if(++t.b,e=t.f.d[t.a],t.b<e.i)return;++t.a}for(;t.a<t.f.d.length;++t.a)if((e=t.f.d[t.a])&&0!=e.i)return void(t.b=0);t.b=-1}function akt(t,e){var n,i,r;for(n=PSt(t,0==(r=e.c.length)?"":(u1(0,e.c.length),ER(e.c[0]))),i=1;i<r&&n;++i)n=jV(n,49).oh((u1(i,e.c.length),ER(e.c[i])));return n}function ckt(t,e){var n,i;for(i=new Wf(e);i.a<i.c.c.length;)n=jV(Q1(i),10),t.c[n.c.p][n.p].a=SU(t.i),t.c[n.c.p][n.p].d=zv(t.c[n.c.p][n.p].a),t.c[n.c.p][n.p].b=1}function lkt(t,e){var n,r,o;for(o=0,r=new Wf(t);r.a<r.c.c.length;)n=jV(Q1(r),157),o+=i.Math.pow(eU(n)*tU(n)-e,2);return i.Math.sqrt(o/(t.c.length-1))}function ukt(t,e,n,i){var r,o,s;return s=DBt(t,o=zBt(t,e,n,i)),uTt(t,e,n,i),R8(t.b),EX(),bO(o,new Kp(t)),r=DBt(t,o),uTt(t,n,e,i),R8(t.b),new nI(ndt(s),ndt(r))}function hkt(t,e,n){var i;for(IEt(n,"Interactive node placement",1),t.a=jV(wTt(e,(lKt(),Ide)),304),i=new Wf(e.b);i.a<i.c.c.length;)JLt(t,jV(Q1(i),29));VCt(n)}function dkt(t,e){IEt(e,"General Compactor",1),e.n&&t&&w0(e,s2(t),($lt(),oMe)),ggt(jV(QPt(t,(qvt(),Eke)),380)).hg(t),e.n&&t&&w0(e,s2(t),($lt(),oMe))}function fkt(t,e,n){var i,r;for(CP(t,t.j+e,t.k+n),r=new ID((!t.a&&(t.a=new MD(OMe,t,5)),t.a));r.e!=r.i.gc();)kP(i=jV(vbt(r),469),i.a+e,i.b+n);TP(t,t.b+e,t.c+n)}function gkt(t,e,n,i){switch(n){case 7:return!t.e&&(t.e=new cF(RMe,t,7,4)),Xgt(t.e,e,i);case 8:return!t.d&&(t.d=new cF(RMe,t,8,5)),Xgt(t.d,e,i)}return jEt(t,e,n,i)}function pkt(t,e,n,i){switch(n){case 7:return!t.e&&(t.e=new cF(RMe,t,7,4)),Fbt(t.e,e,i);case 8:return!t.d&&(t.d=new cF(RMe,t,8,5)),Fbt(t.d,e,i)}return iat(t,e,n,i)}function mkt(t,e,n){var i,r,o;if(n)for(o=((i=new cq(n.a.length)).b-i.a)*i.c<0?(tC(),kNe):new qD(i);o.Ob();)(r=D2(n,jV(o.Pb(),19).a))&&dIt(t,r,e)}function bkt(t,e,n){var i,r,o;return t.qj(),o=null==e?0:Jct(e),t.f>0&&(r=oMt(t,(o&LKt)%t.d.length,o,e))?r.ed(n):(i=t.tj(o,e,n),t.c.Fc(i),null)}function wkt(t,e){var n,i,r,o;switch(Aht(t,e)._k()){case 3:case 2:for(r=0,o=(n=XVt(e)).i;r<o;++r)if(5==NK(j9(t,i=jV(Get(n,r),34))))return i}return null}function ykt(t){var e,n,i,r,o;if(VE(t.f,t.b.length))for(i=D7(Yte,AYt,330,2*t.b.length,0,1),t.b=i,r=i.length-1,n=t.a;n!=t;n=n.Rd())e=(o=jV(n,330)).d&r,o.a=i[e],i[e]=o}function vkt(t,e){var n,r,o,s;for(s=0,o=jV(jV(c6(t.r,e),21),84).Kc();o.Ob();)r=jV(o.Pb(),111),s=i.Math.max(s,r.e.a+r.b.rf().a);(n=jV(sY(t.b,e),124)).n.b=0,n.a.a=s}function _kt(t,e){var n,r,o,s;for(n=0,s=jV(jV(c6(t.r,e),21),84).Kc();s.Ob();)o=jV(s.Pb(),111),n=i.Math.max(n,o.e.b+o.b.rf().b);(r=jV(sY(t.b,e),124)).n.d=0,r.a.b=n}function kkt(t){var e,n;return n=jV(wTt(t,(lKt(),Zhe)),21),e=yP(mve),n.Hc((dRt(),ghe))&&Zot(e,yve),n.Hc(mhe)&&Zot(e,_ve),n.Hc(ahe)&&Zot(e,bve),n.Hc(lhe)&&Zot(e,wve),e}function xkt(t,e){var n;IEt(e,"Delaunay triangulation",1),n=new Ob,Iet(t.i,new wm(n)),Vv(kR(wTt(t,(Wot(),Kre)))),t.e?jrt(t.e,PGt(n)):t.e=PGt(n),VCt(e)}function Ekt(t){if(t<0)throw $b(new Bv("The input must be positive"));return t<xTe.length?v2(xTe[t]):i.Math.sqrt(Q3t*t)*(nht(t,t)/eht(2.718281828459045,t))}function Tkt(t,e){var n;if(t.ni()&&null!=e){for(n=0;n<t.i;++n)if(Dht(e,t.g[n]))return!0}else for(n=0;n<t.i;++n)if(zI(t.g[n])===zI(e))return!0;return!1}function Ckt(t,e){if(null==e){for(;t.a.Ob();)if(null==jV(t.a.Pb(),42).dd())return!0}else for(;t.a.Ob();)if(Dht(e,jV(t.a.Pb(),42).dd()))return!0;return!1}function Akt(t,e){var n;return e===t||!!iD(e,664)&&(n=jV(e,1947),nmt(t.g||(t.g=new Xh(t)),n.g||(n.g=new Xh(n))))}function Skt(t){var e,n,r;for(e="Sz",n="ez",r=i.Math.min(t.length,5)-1;r>=0;r--)if(bF(t[r].d,e)||bF(t[r].d,n)){t.length>=r+1&&t.splice(0,r+1);break}return t}function Ikt(t,e){var n;return XM(t)&&XM(e)&&PXt<(n=t/e)&&n<IXt?n<0?i.Math.ceil(n):i.Math.floor(n):sst(MHt(XM(t)?Cst(t):t,XM(e)?Cst(e):e,!1))}function Mkt(t,e){if(e==t.c.i)return t.d.i;if(e==t.d.i)return t.c.i;throw $b(new Bv("'node' must either be the source node or target node of the edge."))}function Pkt(t){var e,n,i,r;if(r=jV(wTt(t,(lKt(),Fhe)),37)){for(i=new zk,e=mK(t.c.i);e!=r;)e=mK(n=e.e),BL(UB(UB(i,n.n),e.c),e.d.b,e.d.d);return i}return Fae}function Okt(t){var e;XE(dtt(new LH(null,new d1((e=jV(wTt(t,(lKt(),Sde)),403)).d,16)),new ji),new dp(t)),XE(IY(new LH(null,new d1(e.d,16)),new $i),new fp(t))}function Dkt(t,e){var n,i;for(n=new sq(ZD((e?hft(t):uft(t)).a.Kc(),new u));gPt(n);)if((i=Mkt(jV(U4(n),17),t)).k==(sCt(),Tae)&&i.c!=t.c)return i;return null}function Nkt(t){var e,n,r;for(n=new Wf(t.p);n.a<n.c.c.length;)(e=jV(Q1(n),10)).k==(sCt(),Cae)&&(r=e.o.b,t.i=i.Math.min(t.i,r),t.g=i.Math.max(t.g,r))}function Lkt(t,e,n){var i,r,o;for(o=new Wf(e);o.a<o.c.c.length;)i=jV(Q1(o),10),t.c[i.c.p][i.p].e=!1;for(r=new Wf(e);r.a<r.c.c.length;)Nqt(t,i=jV(Q1(r),10),n)}function Rkt(t,e,n){var r,o;(r=xht(e.j,n.s,n.c)+xht(n.e,e.s,e.c))==(o=xht(n.j,e.s,e.c)+xht(e.e,n.s,n.c))?r>0&&(t.b+=2,t.a+=r):(t.b+=1,t.a+=i.Math.min(r,o))}function Bkt(t,e){var n;if(n=!1,qI(e)&&(n=!0,QG(t,new zG(ER(e)))),n||iD(e,236)&&(n=!0,QG(t,new xd(qF(jV(e,236))))),!n)throw $b(new Pv(V6t))}function Fkt(t,e,n,i){var r,o,s;return r=new O9(t.e,1,10,iD(s=e.c,88)?jV(s,26):(pKt(),dOe),iD(o=n.c,88)?jV(o,26):(pKt(),dOe),swt(t,e),!1),i?i.Ei(r):i=r,i}function jkt(t){var e,n;switch(jV(wTt(mK(t),(VGt(),pme)),420).g){case 0:return e=t.n,n=t.o,new DS(e.a+n.a/2,e.b+n.b/2);case 1:return new dP(t.n);default:return null}}function $kt(){$kt=M,Kue=new IA(YJt,0),Gue=new IA("LEFTUP",1),Xue=new IA("RIGHTUP",2),Wue=new IA("LEFTDOWN",3),Yue=new IA("RIGHTDOWN",4),que=new IA("BALANCED",5)}function Vkt(t,e,n){var i,r,o;if(0==(i=Cdt(t.a[e.p],t.a[n.p]))){if(r=jV(wTt(e,(lKt(),ide)),15),o=jV(wTt(n,ide),15),r.Hc(n))return-1;if(o.Hc(e))return 1}return i}function zkt(t){switch(t.g){case 1:return new $s;case 2:return new Vs;case 3:return new js;case 0:return null;default:throw $b(new Bv(r5t+(null!=t.f?t.f:""+t.g)))}}function Hkt(t,e,n){switch(e){case 1:return!t.n&&(t.n=new tW(zMe,t,1,7)),cHt(t.n),!t.n&&(t.n=new tW(zMe,t,1,7)),void pG(t.n,jV(n,14));case 2:return void Pit(t,ER(n))}ilt(t,e,n)}function Ukt(t,e,n){switch(e){case 3:return void Ent(t,zv(xR(n)));case 4:return void Tnt(t,zv(xR(n)));case 5:return void Cnt(t,zv(xR(n)));case 6:return void Ant(t,zv(xR(n)))}Hkt(t,e,n)}function qkt(t,e,n){var i,r;(i=VEt(r=new Py,e,null))&&i.Fi(),Drt(r,n),l8((!t.c&&(t.c=new tW(KPe,t,12,10)),t.c),r),Ont(r,0),Dnt(r,1),Jht(r,!0),Xht(r,!0)}function Wkt(t,e){var n,i;return iD(n=cC(t.g,e),235)?((i=jV(n,235)).Qh(),i.Nh()):iD(n,498)?i=jV(n,1938).b:null}function Gkt(t,e,n,i){var r,o;return wG(e),wG(n),L9(!!(o=jV(UF(t.d,e),19)),"Row %s not in %s",e,t.e),L9(!!(r=jV(UF(t.b,n),19)),"Column %s not in %s",n,t.c),Tat(t,o.a,r.a,i)}function Kkt(t,e,n,i,r,o,s){var a,c,l,u,h;if(h=$yt(a=(l=o==s-1)?i:0,u=r[o]),10!=i&&Cat(z_(t,s-o),e[o],n[o],a,h),!l)for(++o,c=0;c<u;++c)h[c]=Kkt(t,e,n,i,r,o,s);return h}function Ykt(t){if(-1==t.g)throw $b(new fw);t.mj();try{t.i.$c(t.g),t.f=t.i.j,t.g<t.e&&--t.e,t.g=-1}catch(t){throw iD(t=hat(t),73)?$b(new mw):$b(t)}}function Xkt(t,e){return t.b.a=i.Math.min(t.b.a,e.c),t.b.b=i.Math.min(t.b.b,e.d),t.a.a=i.Math.max(t.a.a,e.c),t.a.b=i.Math.max(t.a.b,e.d),t.c[t.c.length]=e,!0}function Zkt(t){var e,n,i;for(i=-1,n=0,e=new Wf(t);e.a<e.c.c.length;){if(jV(Q1(e),243).c==(oit(),$we)){i=0==n?0:n-1;break}n==t.c.length-1&&(i=n),n+=1}return i}function Qkt(t){var e,n,r,o;for(o=0,e=0,r=new Wf(t.c);r.a<r.c.c.length;)Cnt(n=jV(Q1(r),33),t.e+o),Ant(n,t.f),o+=n.g+t.b,e=i.Math.max(e,n.f+t.b);t.d=o-t.b,t.a=e-t.b}function Jkt(t){var e,n,i;for(n=new Wf(t.a.b);n.a<n.c.c.length;)i=(e=jV(Q1(n),57)).d.c,e.d.c=e.d.d,e.d.d=i,i=e.d.b,e.d.b=e.d.a,e.d.a=i,i=e.b.a,e.b.a=e.b.b,e.b.b=i;yNt(t)}function txt(t){var e,n,i;for(n=new Wf(t.a.b);n.a<n.c.c.length;)i=(e=jV(Q1(n),81)).g.c,e.g.c=e.g.d,e.g.d=i,i=e.g.b,e.g.b=e.g.a,e.g.a=i,i=e.e.a,e.e.a=e.e.b,e.e.b=i;vNt(t)}function ext(t){var e,n,i,r,o;for(o=gq(t.k),vWt(),i=0,r=(n=Cat(z_(FIe,1),XJt,61,0,[TIe,aIe,sIe,EIe,CIe])).length;i<r;++i)if((e=n[i])!=TIe&&!o.Hc(e))return e;return null}function nxt(t,e){var n,i;return(i=jV(_N(Yct(IY(new LH(null,new d1(e.j,16)),new go))),11))&&(n=jV(DH(i.e,0),17))?jV(wTt(n,(lKt(),dde)),19).a:gtt(t.b)}function ixt(t,e){var n,i,r;for(r=new Wf(e.a);r.a<r.c.c.length;)for(i=jV(Q1(r),10),Qv(t.d),n=new sq(ZD(hft(i).a.Kc(),new u));gPt(n);)WMt(t,i,jV(U4(n),17).d.i)}function rxt(t,e){var n,i;for(w9(t.b,e),i=new Wf(t.n);i.a<i.c.c.length;)if(-1!=_9((n=jV(Q1(i),211)).c,e,0)){w9(n.c,e),Qkt(n),0==n.c.c.length&&w9(t.n,n);break}uzt(t)}function oxt(t,e){var n,r,o,s,a;for(a=t.f,o=0,s=0,r=new Wf(t.a);r.a<r.c.c.length;)xwt(n=jV(Q1(r),187),t.e,a),p8(n,e),s=i.Math.max(s,n.r),o=a+=n.d+t.c;t.d=s,t.b=o}function sxt(t){var e,n;return c3(n=fDt(t))?null:(wG(n),e=jV(eyt(new sq(ZD(n.a.Kc(),new u))),79),CEt(jV(Get((!e.b&&(e.b=new cF(LMe,e,4,7)),e.b),0),82)))}function axt(t){return t.o||(t.Lj()?t.o=new rK(t,t,null):t.rk()?t.o=new nB(t,null):1==NK(j9((SAt(),XOe),t))?t.o=new g5(t):t.o=new iB(t,null)),t.o}function cxt(t,e,n,i){var r,o,s,a,c;n.mh(e)&&(r=(s=e)?jV(i,49).xh(s):null)&&(c=n.ah(e),(a=e.t)>1||-1==a?(o=jV(c,15),r.Wb(Wpt(t,o))):r.Wb(tjt(t,jV(c,56))))}function lxt(t,e,n,i){Yx();var r=CKt;function o(){for(var t=0;t<r.length;t++)r[t]()}if(t)try{jNe(o)()}catch(n){t(e,n)}else jNe(o)()}function uxt(t){var e,n,i,r,o;for(i=new slt(new Tf(t.b).a);i.b;)e=jV((n=tnt(i)).cd(),10),o=jV(jV(n.dd(),46).a,10),r=jV(jV(n.dd(),46).b,8),UB(yM(e.n),UB(jO(o.n),r))}function hxt(t){switch(jV(wTt(t.b,(VGt(),tme)),375).g){case 1:XE(MY(dtt(new LH(null,new d1(t.d,16)),new jr),new $r),new Vr);break;case 2:bBt(t);break;case 0:ASt(t)}}function dxt(t,e,n){IEt(n,"Straight Line Edge Routing",1),n.n&&e&&w0(n,s2(e),($lt(),oMe)),wzt(t,jV(QPt(e,(dR(),G_e)),33)),n.n&&e&&w0(n,s2(e),($lt(),oMe))}function fxt(){fxt=M,ZTe=new LS("V_TOP",0),XTe=new LS("V_CENTER",1),YTe=new LS("V_BOTTOM",2),GTe=new LS("H_LEFT",3),WTe=new LS("H_CENTER",4),KTe=new LS("H_RIGHT",5)}function gxt(t){var e;return 64&t.Db?Agt(t):((e=new lN(Agt(t))).a+=" (abstract: ",wx(e,!!(256&t.Bb)),e.a+=", interface: ",wx(e,!!(512&t.Bb)),e.a+=")",e.a)}function pxt(t,e,n,i){var r,o,s;return bP(t.e)&&(s=PZ(t,1,r=e.ak(),e.dd(),o=n.dd(),r.$j()?mVt(t,r,o,iD(r,99)&&!!(jV(r,18).Bb&$Xt)):-1,!0),i?i.Ei(s):i=s),i}function mxt(t){var e;null==t.c&&(e=zI(t.b)===zI(Xte)?null:t.b,t.d=null==e?UKt:tq(e)?vN(_X(e)):qI(e)?zYt:Qk(tlt(e)),t.a=t.a+": "+(tq(e)?CB(_X(e)):e+""),t.c="("+t.d+") "+t.a)}function bxt(t,e){this.e=t,KI(t0(e,-4294967296),0)?(this.d=1,this.a=Cat(z_(SNe,1),lXt,25,15,[fU(e)])):(this.d=2,this.a=Cat(z_(SNe,1),lXt,25,15,[fU(e),fU(yq(e,32))]))}function wxt(){function t(){try{return(new Map).entries().next().done}catch(t){return!1}}return typeof Map===NKt&&Map.prototype.entries&&t()?Map:dWt()}function yxt(t,e){var n,i,r;for(r=new x2(t.e,0),n=0;r.b<r.d.gc();){if((i=zv((TL(r.b<r.d.gc()),xR(r.d.Xb(r.c=r.b++))))-e)>L3t)return n;i>-1e-6&&++n}return n}function vxt(t,e){var n;e!=t.b?(n=null,t.b&&(n=sQ(t.b,t,-4,n)),e&&(n=Dbt(e,t,-4,n)),(n=Qut(t,e,n))&&n.Fi()):4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,3,e,e))}function _xt(t,e){var n;e!=t.f?(n=null,t.f&&(n=sQ(t.f,t,-1,n)),e&&(n=Dbt(e,t,-1,n)),(n=Jut(t,e,n))&&n.Fi()):4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,0,e,e))}function kxt(t){var e,n,i;if(null==t)return null;if((n=jV(t,15)).dc())return"";for(i=new E_,e=n.Kc();e.Ob();)iM(i,(qHt(),ER(e.Pb()))),i.a+=" ";return RM(i,i.a.length-1)}function xxt(t){var e,n,i;if(null==t)return null;if((n=jV(t,15)).dc())return"";for(i=new E_,e=n.Kc();e.Ob();)iM(i,(qHt(),ER(e.Pb()))),i.a+=" ";return RM(i,i.a.length-1)}function Ext(t,e,n){var i,r;return i=t.c[e.c.p][e.p],r=t.c[n.c.p][n.p],null!=i.a&&null!=r.a?kq(i.a,r.a):null!=i.a?-1:null!=r.a?1:0}function Txt(t,e){var n,i,r;if(e)for(r=((n=new cq(e.a.length)).b-n.a)*n.c<0?(tC(),kNe):new qD(n);r.Ob();)i=D2(e,jV(r.Pb(),19).a),SY(new jm(t).a,i)}function Cxt(t,e){var n,i,r;if(e)for(r=((n=new cq(e.a.length)).b-n.a)*n.c<0?(tC(),kNe):new qD(n);r.Ob();)i=D2(e,jV(r.Pb(),19).a),AY(new Mm(t).a,i)}function Axt(t){if(null!=t&&t.length>0&&33==lY(t,t.length-1))try{return null==XAt(lL(t,0,t.length-1)).e}catch(t){if(!iD(t=hat(t),32))throw $b(t)}return!1}function Sxt(t,e,n){var i,r,o;return i=e.ak(),o=e.dd(),r=i.$j()?PZ(t,3,i,null,o,mVt(t,i,o,iD(i,99)&&!!(jV(i,18).Bb&$Xt)),!0):PZ(t,1,i,i.zj(),o,-1,!0),n?n.Ei(r):n=r,n}function Ixt(){var t,e,n;for(e=0,t=0;t<1;t++){if(0==(n=YMt((h1(t,1),"X".charCodeAt(t)))))throw $b(new r_("Unknown Option: "+"X".substr(t)));e|=n}return e}function Mxt(t,e,n){var i,r;switch(i=Gdt(mK(e)),CJ(r=new ACt,e),n.g){case 1:zSt(r,xdt(lgt(i)));break;case 2:zSt(r,lgt(i))}return lct(r,(VGt(),Jme),xR(wTt(t,Jme))),r}function Pxt(t){var e,n;return e=jV(U4(new sq(ZD(uft(t.a).a.Kc(),new u))),17),n=jV(U4(new sq(ZD(hft(t.a).a.Kc(),new u))),17),Vv(kR(wTt(e,(lKt(),Cde))))||Vv(kR(wTt(n,Cde)))}function Oxt(){Oxt=M,xle=new wA("ONE_SIDE",0),Tle=new wA("TWO_SIDES_CORNER",1),Cle=new wA("TWO_SIDES_OPPOSING",2),Ele=new wA("THREE_SIDES",3),kle=new wA("FOUR_SIDES",4)}function Dxt(t,e,n,i,r){var o,s;o=jV(T5(IY(e.Oc(),new Jr),b8(new z,new V,new it,Cat(z_(Qne,1),PYt,132,0,[(zlt(),Une)]))),15),s=jV(pst(t.b,n,i),15),0==r?s.Wc(0,o):s.Gc(o)}function Nxt(t,e){var n,i,r;for(i=new Wf(e.a);i.a<i.c.c.length;)for(n=new sq(ZD(uft(jV(Q1(i),10)).a.Kc(),new u));gPt(n);)r=jV(U4(n),17).c.i.p,t.n[r]=t.n[r]-1}function Lxt(t,e){var n,i,r,o;for(r=new Wf(e.d);r.a<r.c.c.length;)for(i=jV(Q1(r),101),o=jV(LG(t.c,i),112).o,n=new KE(i.b);n.a<n.c.a.length;)g8(i,jV(o5(n),61),o)}function Rxt(t){var e;for(e=new Wf(t.e.b);e.a<e.c.c.length;)lqt(t,jV(Q1(e),29));XE(IY(dtt(dtt(new LH(null,new d1(t.e.b,16)),new Ko),new ts),new es),new cm(t))}function Bxt(t,e){return!!e&&!t.Di(e)&&(t.i?t.i.Ei(e):iD(e,143)?(t.i=jV(e,143),!0):(t.i=new bc,t.i.Ei(e)))}function Fxt(t){if(t=jVt(t,!0),bF(o4t,t)||bF("1",t))return cN(),bee;if(bF(s4t,t)||bF("0",t))return cN(),mee;throw $b(new e_("Invalid boolean value: '"+t+"'"))}function jxt(t,e,n){var i,r,o;for(r=t.vc().Kc();r.Ob();)if(o=(i=jV(r.Pb(),42)).cd(),zI(e)===zI(o)||null!=e&&Dht(e,o))return n&&(i=new TC(i.cd(),i.dd()),r.Qb()),i;return null}function $xt(t){var e,n,i;VR(),t.B.Hc((JFt(),VIe))&&(i=t.f.i,e=new gZ(t.a.c),(n=new hy).b=e.c-i.c,n.d=e.d-i.d,n.c=i.c+i.b-(e.c+e.b),n.a=i.d+i.a-(e.d+e.a),t.e.Ff(n))}function Vxt(t,e,n,r){var o,s,a;for(a=i.Math.min(n,G$t(jV(t.b,65),e,n,r)),s=new Wf(t.a);s.a<s.c.c.length;)(o=jV(Q1(s),221))!=e&&(a=i.Math.min(a,Vxt(o,e,a,r)));return a}function zxt(t){var e,n,i;for(i=D7(Sae,cYt,193,t.b.c.length,0,2),n=new x2(t.b,0);n.b<n.d.gc();)TL(n.b<n.d.gc()),e=jV(n.d.Xb(n.c=n.b++),29),i[n.b-1]=Q0(e.a);return i}function Hxt(t,e,n,i,r){var o,s,a,c;for(s=Q_(Z_($j(twt(n)),i),o_t(t,n,r)),c=LCt(t,n).Kc();c.Ob();)e[(a=jV(c.Pb(),11)).p]&&(o=e[a.p].i,WV(s.d,new DU(o,vdt(s,o))));Cgt(s)}function Uxt(t,e){this.f=new Db,this.b=new Db,this.j=new Db,this.a=t,this.c=e,this.c>0&&Fvt(this,this.c-1,(vWt(),sIe)),this.c<this.a.length-1&&Fvt(this,this.c+1,(vWt(),CIe))}function qxt(t){t.length>0&&t[0].length>0&&(this.c=Vv(kR(wTt(mK(t[0][0]),(lKt(),rde))))),this.a=D7(Tye,cYt,2018,t.length,0,2),this.b=D7(Pye,cYt,2019,t.length,0,2),this.d=new xut}function Wxt(t){return 0!=t.c.length&&((u1(0,t.c.length),jV(t.c[0],17)).c.i.k==(sCt(),Tae)||s4(MY(new LH(null,new d1(t,16)),new jo),new $o))}function Gxt(t,e,n){return IEt(n,"Tree layout",1),c2(t.b),CW(t.b,(Uvt(),Lve),Lve),CW(t.b,Rve,Rve),CW(t.b,Bve,Bve),CW(t.b,Fve,Fve),t.a=PHt(t.b,e),hLt(t,e,wot(n,1)),VCt(n),e}function Kxt(t,e){var n,r,o,s,a,c;for(a=fRt(e),o=e.f,c=e.g,s=i.Math.sqrt(o*o+c*c),r=0,n=new Wf(a);n.a<n.c.c.length;)r+=Kxt(t,jV(Q1(n),33));return i.Math.max(r,s)}function Yxt(){Yxt=M,YSe=new US(lQt,0),KSe=new US("FREE",1),GSe=new US("FIXED_SIDE",2),USe=new US("FIXED_ORDER",3),WSe=new US("FIXED_RATIO",4),qSe=new US("FIXED_POS",5)}function Xxt(t,e){var n,i,r;if(n=e.Hh(t.a))for(r=ER(rpt((!n.b&&(n.b=new XL((pKt(),wOe),UOe,n)),n.b),x9t)),i=1;i<(SAt(),ZOe).length;++i)if(bF(ZOe[i],r))return i;return 0}function Zxt(t){var e,n,i,r;if(null==t)return UKt;for(r=new Pst(jKt,"[","]"),n=0,i=(e=t).length;n<i;++n)h6(r,""+e[n]);return r.a?0==r.e.length?r.a.a:r.a.a+""+r.e:r.c}function Qxt(t){var e,n,i,r;if(null==t)return UKt;for(r=new Pst(jKt,"[","]"),n=0,i=(e=t).length;n<i;++n)h6(r,""+e[n]);return r.a?0==r.e.length?r.a.a:r.a.a+""+r.e:r.c}function Jxt(t){var e,n,i;for(i=new Pst(jKt,"{","}"),n=t.vc().Kc();n.Ob();)h6(i,W3(t,(e=jV(n.Pb(),42)).cd())+"="+W3(t,e.dd()));return i.a?0==i.e.length?i.a.a:i.a.a+""+i.e:i.c}function tEt(t){for(var e,n,i,r;!Wv(t.o);)n=jV(fW(t.o),46),i=jV(n.a,121),r=Dft(e=jV(n.b,213),i),e.e==i?(LN(r.g,e),i.e=r.e+e.a):(LN(r.b,e),i.e=r.e-e.a),WV(t.e.a,i)}function eEt(t,e){var n,i,r;for(n=null,r=jV(e.Kb(t),20).Kc();r.Ob();)if(i=jV(r.Pb(),17),n){if((i.c.i==t?i.d.i:i.c.i)!=n)return!1}else n=i.c.i==t?i.d.i:i.c.i;return!0}function nEt(t,e){var n,i,r;for(i=new Wf(YDt(t,!1,e));i.a<i.c.c.length;)0==(n=jV(Q1(i),129)).d?(WJ(n,null),GJ(n,null)):(r=n.a,WJ(n,n.b),GJ(n,r))}function iEt(t){var e,n;return Zot(e=new j2,Cve),(n=jV(wTt(t,(lKt(),Zhe)),21)).Hc((dRt(),mhe))&&Zot(e,Mve),n.Hc(ahe)&&Zot(e,Ave),n.Hc(ghe)&&Zot(e,Ive),n.Hc(lhe)&&Zot(e,Sve),e}function rEt(t){var e,n,i,r;for(THt(t),n=new sq(ZD(lft(t).a.Kc(),new u));gPt(n);)r=(i=(e=jV(U4(n),17)).c.i==t)?e.d:e.c,i?xJ(e,null):EJ(e,null),lct(e,(lKt(),bde),r),sPt(t,r.i)}function oEt(t,e,n,i){var r,o;switch(r=n[(o=e.i).g][t.d[o.g]],o.g){case 1:r-=i+e.j.b,e.g.b=r;break;case 3:r+=i,e.g.b=r;break;case 4:r-=i+e.j.a,e.g.a=r;break;case 2:r+=i,e.g.a=r}}function sEt(t){var e,n;for(n=new ID((!t.a&&(t.a=new tW(HMe,t,10,11)),t.a));n.e!=n.i.gc();)if(!gPt(new sq(ZD(fDt(e=jV(vbt(n),33)).a.Kc(),new u))))return e;return null}function aEt(){var t;return qMe?jV(POt((WT(),zPe),y6t),2016):(t=jV(iD(EQ((WT(),zPe),y6t),555)?EQ(zPe,y6t):new cPt,555),qMe=!0,FUt(t),_Kt(t),xvt(t),bJ(zPe,y6t,t),t)}function cEt(t,e,n){var i,r;if(0==t.j)return n;if(r=jV(Fnt(t,e,n),72),!(i=n.ak()).Ij()||!t.a.rl(i))throw $b(new fv("Invalid entry feature '"+i.Hj().zb+"."+i.ne()+"'"));return r}function lEt(t,e){var n,i,r,o,s,a,c;for(a=0,c=(s=t.a).length;a<c;++a)for(r=0,o=(i=s[a]).length;r<o;++r)if(n=i[r],zI(e)===zI(n)||null!=e&&Dht(e,n))return!0;return!1}function uEt(t){var e,n,i;return Kut(t,0)>=0?(n=Ikt(t,MXt),i=hpt(t,MXt)):(n=Ikt(e=vq(t,1),5e8),i=ift(wq(i=hpt(e,5e8),1),t0(t,1))),e0(wq(i,32),t0(n,qXt))}function hEt(t,e,n){var i;switch(TL(0!=e.b),i=jV(Met(e,e.a.a),8),n.g){case 0:i.b=0;break;case 2:i.b=t.f;break;case 3:i.a=0;break;default:i.a=t.g}return QW(cbt(e,0),i),e}function dEt(t,e,n,i){var r,o,s,a,c;switch(c=t.b,a=Umt(s=(o=e.d).j,c.d[s.g],n),r=UB(jO(o.n),o.a),o.j.g){case 1:case 3:a.a+=r.a;break;case 2:case 4:a.b+=r.b}n4(i,a,i.c.b,i.c)}function fEt(t,e,n){var i,r,o,s;for(s=_9(t.e,e,0),(o=new ny).b=n,i=new x2(t.e,s);i.b<i.d.gc();)TL(i.b<i.d.gc()),(r=jV(i.d.Xb(i.c=i.b++),10)).p=n,WV(o.e,r),lK(i);return o}function gEt(t,e,n,i){var r,o,s,a,c;for(r=null,o=0,a=new Wf(e);a.a<a.c.c.length;)c=(s=jV(Q1(a),33)).i+s.g,t<s.j+s.f+i&&(r?n.i-c<n.i-o&&(r=s):r=s,o=r.i+r.g);return r?o+i:0}function pEt(t,e,n,i){var r,o,s,a,c;for(o=null,r=0,a=new Wf(e);a.a<a.c.c.length;)c=(s=jV(Q1(a),33)).j+s.f,t<s.i+s.g+i&&(o?n.j-c<n.j-r&&(o=s):o=s,r=o.j+o.f);return o?r+i:0}function mEt(t){var e,n,i;for(e=!1,i=t.b.c.length,n=0;n<i;n++)Xct(jV(DH(t.b,n),434))?!e&&n+1<i&&Xct(jV(DH(t.b,n+1),434))&&(e=!0,jV(DH(t.b,n),434).a=!0):e=!1}function bEt(t,e,n,i,r){var o,s;for(o=0,s=0;s<r;s++)o=ift(o,nft(t0(e[s],qXt),t0(i[s],qXt))),t[s]=fU(o),o=yq(o,32);for(;s<n;s++)o=ift(o,t0(e[s],qXt)),t[s]=fU(o),o=yq(o,32)}function wEt(t,e){var n,i;for(PMt(),IRt(),i=Zee,n=t;e>1;e>>=1)1&e&&(i=Ott(i,n)),n=1==n.d?Ott(n,n):new Amt(Sjt(n.a,n.d,D7(SNe,lXt,25,n.d<<1,15,1)));return i=Ott(i,n)}function yEt(){var t,e,n,i;for(yEt=M,Sne=D7(ONe,zXt,25,25,15,1),Ine=D7(ONe,zXt,25,33,15,1),i=152587890625e-16,e=32;e>=0;e--)Ine[e]=i,i*=.5;for(n=1,t=24;t>=0;t--)Sne[t]=n,n*=.5}function vEt(t){var e,n;if(Vv(kR(QPt(t,(VGt(),dme)))))for(n=new sq(ZD(gDt(t).a.Kc(),new u));gPt(n);)if(YIt(e=jV(U4(n),79))&&Vv(kR(QPt(e,fme))))return!0;return!1}function _Et(t,e){var n,i,r;kW(t.f,e)&&(e.b=t,i=e.c,-1!=_9(t.j,i,0)||WV(t.j,i),r=e.d,-1!=_9(t.j,r,0)||WV(t.j,r),0!=(n=e.a.b).c.length&&(!t.i&&(t.i=new ebt(t)),bst(t.i,n)))}function kEt(t){var e,n,i,r;return(n=(e=t.c.d).j)==(r=(i=t.d.d).j)?e.p<i.p?0:1:Edt(n)==r?0:kdt(n)==r?1:EN(t.b.b,Edt(n))?0:1}function xEt(){xEt=M,Jbe=new LA(_3t,0),Zbe=new LA("LONGEST_PATH",1),Ybe=new LA("COFFMAN_GRAHAM",2),Xbe=new LA($1t,3),twe=new LA("STRETCH_WIDTH",4),Qbe=new LA("MIN_WIDTH",5)}function EEt(t){var e;this.d=new Db,this.c=t.c,this.e=t.d,this.b=t.b,this.f=new aU(t.e),this.a=t.a,t.f?this.g=t.f:this.g=new YF(e=jV(Gk(iPe),9),jV(EB(e,e.length),9),0)}function TEt(t,e){var n,i,r,o;!(r=N2(i=t,"layoutOptions"))&&(r=N2(i,E6t)),r&&(n=null,(o=r)&&(n=new kE(o,_rt(o,D7(Yee,cYt,2,0,6,1)))),n&&t4(n,new dI(o,e)))}function CEt(t){if(iD(t,239))return jV(t,33);if(iD(t,186))return WQ(jV(t,118));throw $b(t?new Jv("Only support nodes and ports."):new $v(e7t))}function AEt(t,e,n,i){return e>=0&&bF(t.substr(e,3),"GMT")||e>=0&&bF(t.substr(e,3),"UTC")?(n[0]=e+3,yjt(t,n,i)):yjt(t,n,i)}function SEt(t,e){var n,i,r,o,s;for(o=t.g.a,s=t.g.b,i=new Wf(t.d);i.a<i.c.c.length;)(r=(n=jV(Q1(i),70)).n).a=o,t.i==(vWt(),aIe)?r.b=s+t.j.b-n.o.b:r.b=s,UB(r,e),o+=n.o.a+t.e}function IEt(t,e,n){if(t.b)throw $b(new Fv("The task is already done."));return null==t.p&&(t.p=e,t.r=n,t.k&&(t.o=(ME(),rft(ust(Date.now()),KYt))),!0)}function MEt(t){var e;return e=new pv,null!=t.tg()&&Iz(e,z6t,t.tg()),null!=t.ne()&&Iz(e,t7t,t.ne()),null!=t.sg()&&Iz(e,"description",t.sg()),e}function PEt(t,e,n){var i,r,o;return o=t.q,t.q=e,4&t.Db&&!(1&t.Db)&&(r=new Qq(t,1,9,o,e),n?n.Ei(r):n=r),e?(i=e.c)!=t.r&&(n=t.nk(i,n)):t.r&&(n=t.nk(null,n)),n}function OEt(t,e,n){var i,r;for(n=Dbt(e,t.e,-1-t.c,n),r=new xb(new slt(new Tf(DK(t.a).a).a));r.a.b;)n=oqt(i=jV(tnt(r.a).cd(),87),vDt(i,t.a),n);return n}function DEt(t,e,n){var i,r;for(n=sQ(e,t.e,-1-t.c,n),r=new xb(new slt(new Tf(DK(t.a).a).a));r.a.b;)n=oqt(i=jV(tnt(r.a).cd(),87),vDt(i,t.a),n);return n}function NEt(t,e,n,i){var r,o,s;if(0==i)ozt(e,0,t,n,t.length-n);else for(s=32-i,t[t.length-1]=0,o=t.length-1;o>n;o--)t[o]|=e[o-n-1]>>>s,t[o-1]=e[o-n-1]<<i;for(r=0;r<n;r++)t[r]=0}function LEt(t){var e,n,r,o,s;for(e=0,n=0,s=t.Kc();s.Ob();)r=jV(s.Pb(),111),e=i.Math.max(e,r.d.b),n=i.Math.max(n,r.d.c);for(o=t.Kc();o.Ob();)(r=jV(o.Pb(),111)).d.b=e,r.d.c=n}function REt(t){var e,n,r,o,s;for(n=0,e=0,s=t.Kc();s.Ob();)r=jV(s.Pb(),111),n=i.Math.max(n,r.d.d),e=i.Math.max(e,r.d.a);for(o=t.Kc();o.Ob();)(r=jV(o.Pb(),111)).d.d=n,r.d.a=e}function BEt(t,e){var n,i,r,o;for(o=new Ob,r=0,i=e.Kc();i.Ob();){for(n=ndt(jV(i.Pb(),19).a+r);n.a<t.f&&!JH(t,n.a);)n=ndt(n.a+1),++r;if(n.a>=t.f)break;o.c[o.c.length]=n}return o}function FEt(t){var e,n,i,r;for(e=null,r=new Wf(t.wf());r.a<r.c.c.length;)n=new UY((i=jV(Q1(r),181)).qf().a,i.qf().b,i.rf().a,i.rf().b),e?AAt(e,n):e=n;return!e&&(e=new hP),e}function jEt(t,e,n,i){return 1==n?(!t.n&&(t.n=new tW(zMe,t,1,7)),Xgt(t.n,e,i)):jV(eet(jV(yst(t,16),26)||t.zh(),n),66).Nj().Qj(t,umt(t),n-hG(t.zh()),e,i)}function $Et(t,e,n){var i,r,o,s,a;for(i=n.gc(),t.qi(t.i+i),(a=t.i-e)>0&&ozt(t.g,e,t.g,e+i,a),s=n.Kc(),t.i+=i,r=0;r<i;++r)o=s.Pb(),vD(t,e,t.oi(e,o)),t.bi(e,o),t.ci(),++e;return 0!=i}function VEt(t,e,n){var i;return e!=t.q?(t.q&&(n=sQ(t.q,t,-10,n)),e&&(n=Dbt(e,t,-10,n)),n=PEt(t,e,n)):4&t.Db&&!(1&t.Db)&&(i=new Qq(t,1,9,e,e),n?n.Ei(i):n=i),n}function zEt(t,e,n,i){return Cj(!(n&lYt),"flatMap does not support SUBSIZED characteristic"),Cj(!(4&n),"flatMap does not support SORTED characteristic"),wG(t),wG(e),new V2(t,n,i,e)}function HEt(t,e){EW(e,"Cannot suppress a null exception."),mz(e!=t,"Exception can not suppress itself."),t.i||(null==t.k?t.k=Cat(z_(Zte,1),cYt,78,0,[e]):t.k[t.k.length]=e)}function UEt(t,e,n,i){var r,o,s,a,c,l;for(s=n.length,o=0,r=-1,l=ret(t.substr(e),(ij(),kne)),a=0;a<s;++a)(c=n[a].length)>o&&aW(l,ret(n[a],kne))&&(r=a,o=c);return r>=0&&(i[0]=e+o),r}function qEt(t,e){var n;if(0!=(n=YM(t.b.Hf(),e.b.Hf())))return n;switch(t.b.Hf().g){case 1:case 2:return _O(t.b.sf(),e.b.sf());case 3:case 4:return _O(e.b.sf(),t.b.sf())}return 0}function WEt(t){var e,n,i;for(i=t.e.c.length,t.a=yH(SNe,[cYt,lXt],[48,25],15,[i,i],2),n=new Wf(t.c);n.a<n.c.c.length;)e=jV(Q1(n),282),t.a[e.c.b][e.d.b]+=jV(wTt(e,(uBt(),Zoe)),19).a}function GEt(t,e,n){IEt(n,"Grow Tree",1),t.b=e.f,Vv(kR(wTt(e,(Wot(),Kre))))?(t.c=new ne,KJ(t,null)):t.c=new ne,t.a=!1,jNt(t,e.f),lct(e,Yre,(cN(),!!t.a)),VCt(n)}function KEt(t,e){var n,i,r,o,s;if(null==t)return null;for(s=D7(ANe,GYt,25,2*e,15,1),i=0,r=0;i<e;++i)n=t[i]>>4&15,o=15&t[i],s[r++]=SMe[n],s[r++]=SMe[o];return $pt(s,0,s.length)}function YEt(t,e,n){var i,r,o;return i=e.ak(),o=e.dd(),r=i.$j()?PZ(t,4,i,o,null,mVt(t,i,o,iD(i,99)&&!!(jV(i,18).Bb&$Xt)),!0):PZ(t,i.Kj()?2:1,i,o,i.zj(),-1,!0),n?n.Ei(r):n=r,n}function XEt(t){var e,n;return t>=$Xt?(e=VXt+(t-$Xt>>10&1023)&YYt,n=56320+(t-$Xt&1023)&YYt,String.fromCharCode(e)+""+String.fromCharCode(n)):String.fromCharCode(t&YYt)}function ZEt(t,e){var n,i,r,o;return VR(),(r=jV(jV(c6(t.r,e),21),84)).gc()>=2&&(i=jV(r.Kc().Pb(),111),n=t.u.Hc((hIt(),JSe)),o=t.u.Hc(iIe),!i.a&&!n&&(2==r.gc()||o))}function QEt(t,e,n,i,r){var o,s,a;for(o=eRt(t,e,n,i,r),a=!1;!o;)kOt(t,r,!0),a=!0,o=eRt(t,e,n,i,r);a&&kOt(t,r,!1),0!=(s=Lat(r)).c.length&&(t.d&&t.d.lg(s),QEt(t,r,n,i,s))}function JEt(){JEt=M,rSe=new jS(YJt,0),nSe=new jS("DIRECTED",1),oSe=new jS("UNDIRECTED",2),tSe=new jS("ASSOCIATION",3),iSe=new jS("GENERALIZATION",4),eSe=new jS("DEPENDENCY",5)}function tTt(t,e){var n;if(!WQ(t))throw $b(new Fv(j4t));switch(n=WQ(t),e.g){case 1:return-(t.j+t.f);case 2:return t.i-n.g;case 3:return t.j-n.f;case 4:return-(t.i+t.g)}return 0}function eTt(t,e){var n,i;for(yK(e),i=t.b.c.length,WV(t.b,e);i>0;){if(n=i,i=(i-1)/2|0,t.a.ue(DH(t.b,i),e)<=0)return i4(t.b,n,e),!0;i4(t.b,n,DH(t.b,i))}return i4(t.b,i,e),!0}function nTt(t,e,n,r){var o,s;if(o=0,n)o=wut(t.a[n.g][e.g],r);else for(s=0;s<Qie;s++)o=i.Math.max(o,wut(t.a[s][e.g],r));return e==(Let(),Hie)&&t.b&&(o=i.Math.max(o,t.b.a)),o}function iTt(t,e){var n,i,r,o,s;return i=t.i,r=e.i,!(!i||!r)&&i.i==r.i&&i.i!=(vWt(),sIe)&&i.i!=(vWt(),CIe)&&(n=(o=i.g.a)+i.j.a,o<=(s=r.g.a)+r.j.a&&n>=s)}function rTt(t,e,n,i){var r;if(r=!1,qI(i)&&(r=!0,Iz(e,n,ER(i))),r||HI(i)&&(r=!0,rTt(t,e,n,i)),r||iD(i,236)&&(r=!0,VX(e,n,jV(i,236))),!r)throw $b(new Pv(V6t))}function oTt(t,e){var n,i,r;if((n=e.Hh(t.a))&&null!=(r=rpt((!n.b&&(n.b=new XL((pKt(),wOe),UOe,n)),n.b),j8t)))for(i=1;i<(SAt(),KOe).length;++i)if(bF(KOe[i],r))return i;return 0}function sTt(t,e){var n,i,r;if((n=e.Hh(t.a))&&null!=(r=rpt((!n.b&&(n.b=new XL((pKt(),wOe),UOe,n)),n.b),j8t)))for(i=1;i<(SAt(),YOe).length;++i)if(bF(YOe[i],r))return i;return 0}function aTt(t,e){var n,i,r,o;if(yK(e),(o=t.a.gc())<e.gc())for(n=t.a.ec().Kc();n.Ob();)i=n.Pb(),e.Hc(i)&&n.Qb();else for(r=e.Kc();r.Ob();)i=r.Pb(),t.a.Bc(i);return o!=t.a.gc()}function cTt(t){var e,n;switch(n=jO(Mct(Cat(z_(TTe,1),cYt,8,0,[t.i.n,t.n,t.a]))),e=t.i.d,t.j.g){case 1:n.b-=e.d;break;case 2:n.a+=e.c;break;case 3:n.b+=e.a;break;case 4:n.a-=e.b}return n}function lTt(t){var e;for(Srt(),e=jV(U4(new sq(ZD(uft(t).a.Kc(),new u))),17).c.i;e.k==(sCt(),Tae);)lct(e,(lKt(),sde),(cN(),!0)),e=jV(U4(new sq(ZD(uft(e).a.Kc(),new u))),17).c.i}function uTt(t,e,n,i){var r,o,s;for(s=Oht(e,i).Kc();s.Ob();)r=jV(s.Pb(),11),t.d[r.p]=t.d[r.p]+t.c[n.p];for(o=Oht(n,i).Kc();o.Ob();)r=jV(o.Pb(),11),t.d[r.p]=t.d[r.p]-t.c[e.p]}function hTt(t,e,n){var i,r;for(r=new ID((!t.a&&(t.a=new tW(HMe,t,10,11)),t.a));r.e!=r.i.gc();)EP(i=jV(vbt(r),33),i.i+e,i.j+n);t4((!t.b&&(t.b=new tW(RMe,t,12,3)),t.b),new JS(e,n))}function dTt(t,e,n,i){var r,o;for(r=null==(o=e).d||t.a.ue(n.d,o.d)>0?1:0;o.a[r]!=n;)o=o.a[r],r=t.a.ue(n.d,o.d)>0?1:0;o.a[r]=i,i.b=n.b,i.a[0]=n.a[0],i.a[1]=n.a[1],n.a[0]=null,n.a[1]=null}function fTt(t){return hIt(),!(Ast(SQ(_U(tIe,Cat(z_(AIe,1),PYt,273,0,[nIe])),t))>1||Ast(SQ(_U(JSe,Cat(z_(AIe,1),PYt,273,0,[QSe,iIe])),t))>1)}function gTt(t,e){iD(EQ((WT(),zPe),t),498)?bJ(zPe,t,new SI(this,e)):bJ(zPe,t,this),nCt(this,e),e==(ex(),ZPe)?(this.wb=jV(this,1939),jV(e,1941)):this.wb=(KG(),QPe)}function pTt(t){var e,n;if(null==t)return null;for(e=null,n=0;n<AMe.length;++n)try{return jT(AMe[n],t)}catch(t){if(!iD(t=hat(t),32))throw $b(t);e=t}throw $b(new P9(e))}function mTt(){mTt=M,pne=Cat(z_(Yee,1),cYt,2,6,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),mne=Cat(z_(Yee,1),cYt,2,6,["Jan","Feb","Mar","Apr",tXt,"Jun","Jul","Aug","Sep","Oct","Nov","Dec"])}function bTt(t){var e,n,i;(e=bF(typeof e,pZt)?null:new ht)&&(uT(),JG(n=(i=900)>=KYt?"error":i>=900?"warn":i>=800?"info":"log",t.a),t.b&&NNt(e,n,t.b,"Exception: ",!0))}function wTt(t,e){var n,i;return!t.q&&(t.q=new Db),null!=(i=LG(t.q,e))?i:(iD(n=e.wg(),4)&&(null==n?(!t.q&&(t.q=new Db),m6(t.q,e)):(!t.q&&(t.q=new Db),GK(t.q,e,n))),n)}function yTt(){yTt=M,Lse=new GC("P1_CYCLE_BREAKING",0),Rse=new GC("P2_LAYERING",1),Bse=new GC("P3_NODE_ORDERING",2),Fse=new GC("P4_NODE_PLACEMENT",3),jse=new GC("P5_EDGE_ROUTING",4)}function vTt(t,e){var n,i,r,o;for(i=(1==e?Wse:qse).a.ec().Kc();i.Ob();)for(n=jV(i.Pb(),103),o=jV(c6(t.f.c,n),21).Kc();o.Ob();)r=jV(o.Pb(),46),w9(t.b.b,r.b),w9(t.b.a,jV(r.b,81).d)}function _Tt(t,e){var n;if(Ntt(),t.c==e.c){if(t.b==e.b||lot(t.b,e.b)){if(n=ZM(t.b)?1:-1,t.a&&!e.a)return n;if(!t.a&&e.a)return-n}return _O(t.b.g,e.b.g)}return Cdt(t.c,e.c)}function kTt(t,e){var n;IEt(e,"Hierarchical port position processing",1),(n=t.b).c.length>0&&njt((u1(0,n.c.length),jV(n.c[0],29)),t),n.c.length>1&&njt(jV(DH(n,n.c.length-1),29),t),VCt(e)}function xTt(t,e){var n,i;if(DTt(t,e))return!0;for(i=new Wf(e);i.a<i.c.c.length;){if(FRt(t,n=jV(Q1(i),33),sxt(n)))return!0;if(Put(t,n)-t.g<=t.a)return!0}return!1}function ETt(){ETt=M,dBt(),yEe=LEe,mEe=PEe,pEe=IEe,fEe=TEe,gEe=AEe,dEe=new WP(8),hEe=new qP((cKt(),qCe),dEe),bEe=new qP(PAe,8),wEe=DEe,cEe=vEe,lEe=kEe,uEe=new qP(uCe,(cN(),!1))}function TTt(){TTt=M,HTe=new WP(15),zTe=new qP((cKt(),qCe),HTe),qTe=new qP(PAe,15),UTe=new qP(pAe,ndt(0)),BTe=vCe,jTe=RCe,VTe=VCe,NTe=new qP(iCe,u4t),FTe=CCe,$Te=jCe,LTe=oCe,RTe=cCe}function CTt(t){if(1!=(!t.b&&(t.b=new cF(LMe,t,4,7)),t.b).i||1!=(!t.c&&(t.c=new cF(LMe,t,5,8)),t.c).i)throw $b(new Bv(i7t));return CEt(jV(Get((!t.b&&(t.b=new cF(LMe,t,4,7)),t.b),0),82))}function ATt(t){if(1!=(!t.b&&(t.b=new cF(LMe,t,4,7)),t.b).i||1!=(!t.c&&(t.c=new cF(LMe,t,5,8)),t.c).i)throw $b(new Bv(i7t));return dat(jV(Get((!t.b&&(t.b=new cF(LMe,t,4,7)),t.b),0),82))}function STt(t){if(1!=(!t.b&&(t.b=new cF(LMe,t,4,7)),t.b).i||1!=(!t.c&&(t.c=new cF(LMe,t,5,8)),t.c).i)throw $b(new Bv(i7t));return dat(jV(Get((!t.c&&(t.c=new cF(LMe,t,5,8)),t.c),0),82))}function ITt(t){if(1!=(!t.b&&(t.b=new cF(LMe,t,4,7)),t.b).i||1!=(!t.c&&(t.c=new cF(LMe,t,5,8)),t.c).i)throw $b(new Bv(i7t));return CEt(jV(Get((!t.c&&(t.c=new cF(LMe,t,5,8)),t.c),0),82))}function MTt(t,e,n){var i,r,o;if(++t.j,e>=(r=t.Vi())||e<0)throw $b(new Iv(s7t+e+a7t+r));if(n>=r||n<0)throw $b(new Iv(c7t+n+a7t+r));return e!=n?(o=t.Ti(n),t.Hi(e,o),i=o):i=t.Oi(n),i}function PTt(t){var e,n,i;if(i=t,t)for(e=0,n=t.Ug();n;n=n.Ug()){if(++e>HXt)return PTt(n);if(i=n,n==t)throw $b(new Fv("There is a cycle in the containment hierarchy of "+t))}return i}function OTt(t){var e,n,i;for(i=new Pst(jKt,"[","]"),n=t.Kc();n.Ob();)h6(i,zI(e=n.Pb())===zI(t)?"(this Collection)":null==e?UKt:$ft(e));return i.a?0==i.e.length?i.a.a:i.a.a+""+i.e:i.c}function DTt(t,e){var n,i;if(i=!1,e.gc()<2)return!1;for(n=0;n<e.gc();n++)n<e.gc()-1?i|=FRt(t,jV(e.Xb(n),33),jV(e.Xb(n+1),33)):i|=FRt(t,jV(e.Xb(n),33),jV(e.Xb(0),33));return i}function NTt(t,e){var n;e!=t.a?(n=null,t.a&&(n=jV(t.a,49).ih(t,4,VMe,n)),e&&(n=jV(e,49).gh(t,4,VMe,n)),(n=Zut(t,e,n))&&n.Fi()):4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,1,e,e))}function LTt(t,e){var n;e!=t.e?(t.e&&B6(DK(t.e),t),e&&(!e.b&&(e.b=new kb(new Dy)),YB(e.b,t)),(n=Y_t(t,e,null))&&n.Fi()):4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,4,e,e))}function RTt(t){var e,n,i;for(n=t.length,i=0;i<n&&(h1(i,t.length),t.charCodeAt(i)<=32);)++i;for(e=n;e>i&&(h1(e-1,t.length),t.charCodeAt(e-1)<=32);)--e;return i>0||e<n?t.substr(i,e-i):t}function BTt(t,e){var n;n=e.o,fP(t.f)?(t.j.a=i.Math.max(t.j.a,n.a),t.j.b+=n.b,t.d.c.length>1&&(t.j.b+=t.e)):(t.j.a+=n.a,t.j.b=i.Math.max(t.j.b,n.b),t.d.c.length>1&&(t.j.a+=t.e))}function FTt(){FTt=M,Mle=Cat(z_(FIe,1),XJt,61,0,[(vWt(),aIe),sIe,EIe]),Ile=Cat(z_(FIe,1),XJt,61,0,[sIe,EIe,CIe]),Ple=Cat(z_(FIe,1),XJt,61,0,[EIe,CIe,aIe]),Ole=Cat(z_(FIe,1),XJt,61,0,[CIe,aIe,sIe])}function jTt(t,e,n,i){var r,o,s,a,c;if(o=t.c.d,s=t.d.d,o.j!=s.j)for(c=t.b,r=o.j,a=null;r!=s.j;)a=0==e?Edt(r):kdt(r),Nz(i,UB(Umt(r,c.d[r.g],n),Umt(a,c.d[a.g],n))),r=a}function $Tt(t,e,n,i){var r,o,s,a,c;return a=jV((s=zvt(t.a,e,n)).a,19).a,o=jV(s.b,19).a,i&&(c=jV(wTt(e,(lKt(),_de)),10),r=jV(wTt(n,_de),10),c&&r&&(J3(t.b,c,r),a+=t.b.i,o+=t.b.e)),a>o}function VTt(t){var e,n,i,r,o,s,a,c;for(this.a=iwt(t),this.b=new Ob,i=0,r=(n=t).length;i<r;++i)for(e=n[i],o=new Ob,WV(this.b,o),a=0,c=(s=e).length;a<c;++a)WV(o,new JF(s[a].j))}function zTt(t,e,n){var i,r,o;return o=0,i=n[e],e<n.length-1&&(r=n[e+1],t.b[e]?(o=dKt(t.d,i,r),o+=ZG(t.a,i,(vWt(),sIe)),o+=ZG(t.a,r,CIe)):o=A8(t.a,i,r)),t.c[e]&&(o+=P6(t.a,i)),o}function HTt(t,e,n,i,r){var o,s,a,c;for(c=null,a=new Wf(i);a.a<a.c.c.length;)if((s=jV(Q1(a),441))!=n&&-1!=_9(s.e,r,0)){c=s;break}EJ(o=W4(r),n.b),xJ(o,c.b),ZIt(t.a,r,new Pj(o,e,n.f))}function UTt(t){for(;0!=t.g.c&&0!=t.d.c;)FR(t.g).c>FR(t.d).c?(t.i+=t.g.c,ppt(t.d)):FR(t.d).c>FR(t.g).c?(t.e+=t.d.c,ppt(t.g)):(t.i+=VH(t.g),t.e+=VH(t.d),ppt(t.g),ppt(t.d))}function qTt(t,e,n){var i,r,o,s;for(o=e.q,s=e.r,new HJ((S6(),kve),e,o,1),new HJ(kve,o,s,1),r=new Wf(n);r.a<r.c.c.length;)(i=jV(Q1(r),112))!=o&&i!=e&&i!=s&&(pzt(t.a,i,e),pzt(t.a,i,s))}function WTt(t,e,n,r){t.a.d=i.Math.min(e,n),t.a.a=i.Math.max(e,r)-t.a.d,e<n?(t.b=.5*(e+n),t.g=B3t*t.b+.9*e,t.f=B3t*t.b+.9*n):(t.b=.5*(e+r),t.g=B3t*t.b+.9*r,t.f=B3t*t.b+.9*e)}function GTt(){function t(){return(new Date).getTime()}TKt={},!Array.isArray&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!Date.now&&(Date.now=t)}function KTt(t,e){var n,i;i=jV(wTt(e,(VGt(),tbe)),98),lct(e,(lKt(),wde),i),(n=e.e)&&(XE(new LH(null,new d1(n.a,16)),new Lg(t)),XE(dtt(new LH(null,new d1(n.b,16)),new we),new Rg(t)))}function YTt(t){var e,n,r,o;if(gP(jV(wTt(t.b,(VGt(),Upe)),103)))return 0;for(e=0,r=new Wf(t.a);r.a<r.c.c.length;)(n=jV(Q1(r),10)).k==(sCt(),Cae)&&(o=n.o.a,e=i.Math.max(e,o));return e}function XTt(t){switch(jV(wTt(t,(VGt(),yme)),163).g){case 1:lct(t,yme,(xft(),jde));break;case 2:lct(t,yme,(xft(),$de));break;case 3:lct(t,yme,(xft(),Bde));break;case 4:lct(t,yme,(xft(),Fde))}}function ZTt(){ZTt=M,ihe=new MA(YJt,0),the=new MA(rQt,1),rhe=new MA(oQt,2),nhe=new MA("LEFT_RIGHT_CONSTRAINT_LOCKING",3),ehe=new MA("LEFT_RIGHT_CONNECTION_LOCKING",4),Jue=new MA(z1t,5)}function QTt(t,e,n){var r,o,s,a,c,l,u;c=n.a/2,s=n.b/2,l=1,u=1,(r=i.Math.abs(e.a-t.a))>c&&(l=c/r),(o=i.Math.abs(e.b-t.b))>s&&(u=s/o),a=i.Math.min(l,u),t.a+=a*(e.a-t.a),t.b+=a*(e.b-t.b)}function JTt(t,e,n,i,r){var o,s;for(s=!1,o=jV(DH(n.b,0),33);lVt(t,e,o,i,r)&&(s=!0,rxt(n,o),0!=n.b.c.length);)o=jV(DH(n.b,0),33);return 0==n.b.c.length&&x_t(n.j,n),s&&Hyt(e.q),s}function tCt(t,e){var n,i,r,o;if(_Rt(),e.b<2)return!1;for(i=n=jV(h3(o=cbt(e,0)),8);o.b!=o.d.c;){if(rNt(t,i,r=jV(h3(o),8)))return!0;i=r}return!!rNt(t,i,n)}function eCt(t,e,n,i){return 0==n?(!t.o&&(t.o=new w8((AGt(),xMe),ePe,t,0)),jF(t.o,e,i)):jV(eet(jV(yst(t,16),26)||t.zh(),n),66).Nj().Rj(t,umt(t),n-hG(t.zh()),e,i)}function nCt(t,e){var n;e!=t.sb?(n=null,t.sb&&(n=jV(t.sb,49).ih(t,1,jMe,n)),e&&(n=jV(e,49).gh(t,1,jMe,n)),(n=_ht(t,e,n))&&n.Fi()):4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,4,e,e))}function iCt(t,e){var n,i;if(!e)throw $b(new t_("All edge sections need an end point."));n=Rnt(e,"x"),xnt(new Rm(t).a,(yK(n),n)),i=Rnt(e,"y"),Int(new Bm(t).a,(yK(i),i))}function rCt(t,e){var n,i;if(!e)throw $b(new t_("All edge sections need a start point."));n=Rnt(e,"x"),Snt(new Dm(t).a,(yK(n),n)),i=Rnt(e,"y"),Mnt(new Nm(t).a,(yK(i),i))}function oCt(t,e){var n,i,r,o,s;for(i=0,o=mlt(t).length;i<o;++i)bTt(e);for(s=!Kne&&t.e?Kne?null:t.d:null;s;){for(n=0,r=mlt(s).length;n<r;++n)bTt(e);s=!Kne&&s.e?Kne?null:s.d:null}}function sCt(){sCt=M,Cae=new XC("NORMAL",0),Tae=new XC("LONG_EDGE",1),xae=new XC("EXTERNAL_PORT",2),Aae=new XC("NORTH_SOUTH_PORT",3),Eae=new XC("LABEL",4),kae=new XC("BREAKING_POINT",5)}function aCt(t){var e,n,i,r;if(e=!1,PL(t,(lKt(),Hhe)))for(n=jV(wTt(t,Hhe),83),r=new Wf(t.j);r.a<r.c.c.length;)ZOt(i=jV(Q1(r),11))&&(e||(nIt(mK(t)),e=!0),ubt(jV(n.xc(i),306)))}function cCt(t,e,n){var i;IEt(n,"Self-Loop routing",1),i=Kdt(e),eM(wTt(e,(C6(),kTe))),XE(MY(IY(IY(dtt(new LH(null,new d1(e.b,16)),new qi),new Wi),new Gi),new Ki),new tA(t,i)),VCt(n)}function lCt(t){var e,n,i;return i=MEt(t),null!=t.e&&Iz(i,J6t,t.e),!!t.k&&Iz(i,"type",fL(t.k)),!Wx(t.j)&&(n=new Td,net(i,D6t,n),e=new ib(n),t4(t.j,e)),i}function uCt(t){var e,n,i,r;for(r=DG((hit(t.gc(),"size"),new A_),123),i=!0,n=uq(t).Kc();n.Ob();)e=jV(n.Pb(),42),i||(r.a+=jKt),i=!1,oM(DG(oM(r,e.cd()),61),e.dd());return(r.a+="}",r).a}function hCt(t,e){var n,i,r;return(e&=63)<22?(n=t.l<<e,i=t.m<<e|t.l>>22-e,r=t.h<<e|t.m>>22-e):e<44?(n=0,i=t.l<<e-22,r=t.m<<e-22|t.l>>44-e):(n=0,i=0,r=t.l<<e-44),xO(n&TXt,i&TXt,r&CXt)}function dCt(t){if(null==yee&&(yee=new RegExp("^\\s*[+-]?(NaN|Infinity|((\\d+\\.?\\d*)|(\\.\\d+))([eE][+-]?\\d+)?[dDfF]?)\\s*$")),!yee.test(t))throw $b(new x_(LXt+t+'"'));return parseFloat(t)}function fCt(t){var e,n,i,r;for(e=new Ob,mW(n=D7(INe,QZt,25,t.a.c.length,16,1),n.length),r=new Wf(t.a);r.a<r.c.c.length;)n[(i=jV(Q1(r),121)).d]||(e.c[e.c.length]=i,Hmt(t,i,n));return e}function gCt(t,e){var n,i,r,o;for(o=e.b.j,t.a=D7(SNe,lXt,25,o.c.length,15,1),r=0,i=0;i<o.c.length;i++)u1(i,o.c.length),0==(n=jV(o.c[i],11)).e.c.length&&0==n.g.c.length?r+=1:r+=3,t.a[i]=r}function pCt(){pCt=M,Nue=new AA("ALWAYS_UP",0),Due=new AA("ALWAYS_DOWN",1),Rue=new AA("DIRECTION_UP",2),Lue=new AA("DIRECTION_DOWN",3),Fue=new AA("SMART_UP",4),Bue=new AA("SMART_DOWN",5)}function mCt(t,e){if(t<0||e<0)throw $b(new Bv("k and n must be positive"));if(e>t)throw $b(new Bv("k must be smaller than n"));return 0==e||e==t?1:0==t?0:Ekt(t)/(Ekt(e)*Ekt(t-e))}function bCt(t,e){var n,i,r,o;for(n=new SP(t);null!=n.g||n.c?null==n.g||0!=n.i&&jV(n.g[n.i-1],47).Ob():JQ(n);)if(iD(o=jV(oDt(n),56),160))for(i=jV(o,160),r=0;r<e.length;r++)e[r].og(i)}function wCt(t){var e;return 64&t.Db?Xdt(t):((e=new lN(Xdt(t))).a+=" (height: ",mx(e,t.f),e.a+=", width: ",mx(e,t.g),e.a+=", x: ",mx(e,t.i),e.a+=", y: ",mx(e,t.j),e.a+=")",e.a)}function yCt(t){var e,n,i,r,o,s;for(e=new m5,r=0,o=(i=t).length;r<o;++r)if(null!=Zmt(e,s=wG((n=i[r]).cd()),wG(n.dd())))throw $b(new Bv("duplicate key: "+s));this.b=(EX(),new qf(e))}function vCt(t){var e,n,i,r,o;if(null==t)return UKt;for(o=new Pst(jKt,"[","]"),i=0,r=(n=t).length;i<r;++i)e=n[i],h6(o,String.fromCharCode(e));return o.a?0==o.e.length?o.a.a:o.a.a+""+o.e:o.c}function _Ct(){_Ct=M,Rtt(),Aoe=new MM(aJt,Soe=Loe),ndt(1),Coe=new MM(cJt,ndt(300)),ndt(0),Poe=new MM(lJt,ndt(0)),Ooe=new MM(uJt,hJt),Ioe=new MM(dJt,5),Doe=Loe,Moe=Noe}function kCt(t,e){var n,i,r,o;for(i=(1==e?Wse:qse).a.ec().Kc();i.Ob();)for(n=jV(i.Pb(),103),o=jV(c6(t.f.c,n),21).Kc();o.Ob();)r=jV(o.Pb(),46),WV(t.b.b,jV(r.b,81)),WV(t.b.a,jV(r.b,81).d)}function xCt(t,e){var n;if(null!=e&&!t.c.Yj().wj(e))throw n=iD(e,56)?jV(e,56).Tg().zb:Qk(tlt(e)),$b(new Rv(i6t+t.c.ne()+"'s type '"+t.c.Yj().ne()+"' does not permit a value of type '"+n+"'"))}function ECt(t,e,n){var i,r;for(r=new x2(t.b,0);r.b<r.d.gc();)TL(r.b<r.d.gc()),zI(wTt(i=jV(r.d.Xb(r.c=r.b++),70),(lKt(),mde)))===zI(e)&&(IAt(i.n,mK(t.c.i),n),lK(r),WV(e.b,i))}function TCt(t,e){if(e.a)switch(jV(wTt(e.b,(lKt(),wde)),98).g){case 0:case 1:hxt(e);case 2:XE(new LH(null,new d1(e.d,16)),new Di),aPt(t.a,e)}else XE(new LH(null,new d1(e.d,16)),new Di)}function CCt(t){var e,n;return n=i.Math.sqrt((null==t.k&&(t.k=Grt(t,new Eo)),zv(t.k)/(t.b*(null==t.g&&(t.g=Wrt(t,new xo)),zv(t.g))))),e=fU(ust(i.Math.round(n))),e=i.Math.min(e,t.f)}function ACt(){pot(),PB.call(this),this.j=(vWt(),TIe),this.a=new zk,new ly,this.f=(hit(2,MYt),new X6(2)),this.e=(hit(4,MYt),new X6(4)),this.g=(hit(4,MYt),new X6(4)),this.b=new cA(this.e,this.g)}function SCt(t,e){var n;return!Vv(kR(wTt(e,(lKt(),Cde))))&&(n=e.c.i,(t!=(xft(),Bde)||n.k!=(sCt(),Eae))&&jV(wTt(n,(VGt(),yme)),163)!=Fde)}function ICt(t,e){var n;return!Vv(kR(wTt(e,(lKt(),Cde))))&&(n=e.d.i,(t!=(xft(),jde)||n.k!=(sCt(),Eae))&&jV(wTt(n,(VGt(),yme)),163)!=$de)}function MCt(t,e){var n,i,r,o,s,a,c;for(s=t.d,c=t.o,a=new UY(-s.b,-s.d,s.b+c.a+s.c,s.d+c.b+s.a),r=0,o=(i=e).length;r<o;++r)(n=i[r])&&AAt(a,n.i);s.b=-a.c,s.d=-a.d,s.c=a.b-s.b-c.a,s.a=a.a-s.d-c.b}function PCt(){PCt=M,eEe=new xS("CENTER_DISTANCE",0),nEe=new xS("CIRCLE_UNDERLAP",1),oEe=new xS("RECTANGLE_UNDERLAP",2),iEe=new xS("INVERTED_OVERLAP",3),rEe=new xS("MINIMUM_ROOT_DISTANCE",4)}function OCt(t){var e,n,i,r;if(BRt(),null==t)return null;for(i=t.length,e=D7(ANe,GYt,25,2*i,15,1),n=0;n<i;n++)(r=t[n])<0&&(r+=256),e[2*n]=KDe[r>>4],e[2*n+1]=KDe[15&r];return $pt(e,0,e.length)}function DCt(t){var e;switch(QK(),t.c.length){case 0:return $te;case 1:return Az((e=jV(ZSt(new Wf(t)),42)).cd(),e.dd());default:return new cv(jV(Ymt(t,D7(Vte,vYt,42,t.c.length,0,1)),165))}}function NCt(t){var e,n,i,r,o;for(e=new Pb,n=new Pb,f3(e,t),f3(n,t);n.b!=n.c;)for(o=new Wf(jV(fW(n),37).a);o.a<o.c.c.length;)(r=jV(Q1(o),10)).e&&(f3(e,i=r.e),f3(n,i));return e}function LCt(t,e){switch(e.g){case 1:return RV(t.j,(pot(),Dae));case 2:return RV(t.j,(pot(),Pae));case 3:return RV(t.j,(pot(),Lae));case 4:return RV(t.j,(pot(),Rae));default:return EX(),EX(),cne}}function RCt(t,e){var n,i,r;n=az(e,t.e),i=jV(LG(t.g.f,n),19).a,r=t.a.c.length-1,0!=t.a.c.length&&jV(DH(t.a,r),287).c==i?(++jV(DH(t.a,r),287).a,++jV(DH(t.a,r),287).b):WV(t.a,new zL(i))}function BCt(t,e,n){var i,r;return 0!=(i=TBt(t,e,n))?i:PL(e,(lKt(),dde))&&PL(n,dde)?((r=_O(jV(wTt(e,dde),19).a,jV(wTt(n,dde),19).a))<0?sFt(t,e,n):r>0&&sFt(t,n,e),r):SMt(t,e,n)}function FCt(t,e,n){var i,r,o,s;if(0!=e.b){for(i=new YE,s=cbt(e,0);s.b!=s.d.c;)jrt(i,Nat(o=jV(h3(s),86))),(r=o.e).a=jV(wTt(o,(zHt(),g_e)),19).a,r.b=jV(wTt(o,p_e),19).a;FCt(t,i,wot(n,i.b/t.a|0))}}function jCt(t,e){var n,i,r,o,s;if(t.e<=e)return t.g;if(H1(t,t.g,e))return t.g;for(o=t.r,i=t.g,s=t.r,r=(o-i)/2+i;i+1<o;)(n=rzt(t,r,!1)).b<=r&&n.a<=e?(s=r,o=r):i=r,r=(o-i)/2+i;return s}function $Ct(t,e,n){IEt(n,"Recursive Graph Layout",lRt(t,e,!0)),bCt(e,Cat(z_(QEe,1),VKt,527,0,[new Ih])),T7(e,(cKt(),bAe))||bCt(e,Cat(z_(QEe,1),VKt,527,0,[new ba])),hGt(t,e,null,n),VCt(n)}function VCt(t){var e;if(null==t.p)throw $b(new Fv("The task has not begun yet."));t.b||(t.k&&(ME(),e=rft(ust(Date.now()),KYt),t.q=1e-9*v2(nft(e,t.o))),t.c<t.r&&zit(t,t.r-t.c),t.b=!0)}function zCt(t){var e,n,i;for(Nz(i=new yy,new DS(t.j,t.k)),n=new ID((!t.a&&(t.a=new MD(OMe,t,5)),t.a));n.e!=n.i.gc();)Nz(i,new DS((e=jV(vbt(n),469)).a,e.b));return Nz(i,new DS(t.b,t.c)),i}function HCt(t,e,n,i,r){var o,s,a,c;if(r)for(c=((o=new cq(r.a.length)).b-o.a)*o.c<0?(tC(),kNe):new qD(o);c.Ob();)a=D2(r,jV(c.Pb(),19).a),Ljt((s=new cX(t,e,n,i)).a,s.b,s.c,s.d,a)}function UCt(t,e){var n;if(zI(t)===zI(e))return!0;if(iD(e,21)){n=jV(e,21);try{return t.gc()==n.gc()&&t.Ic(n)}catch(t){if(iD(t=hat(t),173)||iD(t,205))return!1;throw $b(t)}}return!1}function qCt(t,e){var n;WV(t.d,e),n=e.rf(),t.c?(t.e.a=i.Math.max(t.e.a,n.a),t.e.b+=n.b,t.d.c.length>1&&(t.e.b+=t.a)):(t.e.a+=n.a,t.e.b=i.Math.max(t.e.b,n.b),t.d.c.length>1&&(t.e.a+=t.a))}function WCt(t){var e,n,i,r;switch(e=(r=t.i).b,i=r.j,n=r.g,r.a.g){case 0:n.a=(t.g.b.o.a-i.a)/2;break;case 1:n.a=e.d.n.a+e.d.a.a;break;case 2:n.a=e.d.n.a+e.d.a.a-i.a;break;case 3:n.b=e.d.n.b+e.d.a.b}}function GCt(t,e,n,i,r){if(i<e||r<n)throw $b(new Bv("The highx must be bigger then lowx and the highy must be bigger then lowy"));return t.a<e?t.a=e:t.a>i&&(t.a=i),t.b<n?t.b=n:t.b>r&&(t.b=r),t}function KCt(t){if(iD(t,149))return ENt(jV(t,149));if(iD(t,229))return Qft(jV(t,229));if(iD(t,23))return lCt(jV(t,23));throw $b(new Bv(U6t+OTt(new Xv(Cat(z_(Mte,1),VKt,1,5,[t])))))}function YCt(t,e,n,i,r){var o,s,a;for(o=!0,s=0;s<i;s++)o&=0==n[s];if(0==r)ozt(n,i,t,0,e),s=e;else{for(a=32-r,o&=!(n[s]<<a),s=0;s<e-1;s++)t[s]=n[s+i]>>>r|n[s+i+1]<<a;t[s]=n[s+i]>>>r,++s}return o}function XCt(t,e,n,i){var r,o;if(e.k==(sCt(),Tae))for(o=new sq(ZD(uft(e).a.Kc(),new u));gPt(o);)if((r=jV(U4(o),17)).c.i.k==Tae&&t.c.a[r.c.i.c.p]==i&&t.c.a[e.c.p]==n)return!0;return!1}function ZCt(t,e){var n,i,r,o;return e&=63,n=t.h&CXt,e<22?(o=n>>>e,r=t.m>>e|n<<22-e,i=t.l>>e|t.m<<22-e):e<44?(o=0,r=n>>>e-22,i=t.m>>e-22|t.h<<44-e):(o=0,r=0,i=n>>>e-44),xO(i&TXt,r&TXt,o&CXt)}function QCt(t,e,n,i){var r;this.b=i,this.e=t==(ait(),Iye),r=e[n],this.d=yH(INe,[cYt,QZt],[177,25],16,[r.length,r.length],2),this.a=yH(SNe,[cYt,lXt],[48,25],15,[r.length,r.length],2),this.c=new Uxt(e,n)}function JCt(t){var e,n,i;for(t.k=new s1((vWt(),Cat(z_(FIe,1),XJt,61,0,[TIe,aIe,sIe,EIe,CIe])).length,t.j.c.length),i=new Wf(t.j);i.a<i.c.c.length;)e=(n=jV(Q1(i),113)).d.j,ZIt(t.k,e,n);t.e=nNt(gq(t.k))}function tAt(t,e){var n,i,r;kW(t.d,e),n=new ks,GK(t.c,e,n),n.f=Cut(e.c),n.a=Cut(e.d),n.d=(pLt(),(r=e.c.i.k)==(sCt(),Cae)||r==kae),n.e=(i=e.d.i.k)==Cae||i==kae,n.b=e.c.j==(vWt(),CIe),n.c=e.d.j==sIe}function eAt(t){var e,n,i,r,o;for(o=LKt,r=LKt,i=new Wf(vft(t));i.a<i.c.c.length;)e=(n=jV(Q1(i),213)).e.e-n.d.e,n.e==t&&e<r?r=e:e<o&&(o=e);return r==LKt&&(r=-1),o==LKt&&(o=-1),new nI(ndt(r),ndt(o))}function nAt(t,e){var n,r,o;return o=QQt,zbt(),r=Zre,o=i.Math.abs(t.b),(n=i.Math.abs(e.f-t.b))<o&&(o=n,r=Qre),(n=i.Math.abs(t.a))<o&&(o=n,r=Jre),(n=i.Math.abs(e.g-t.a))<o&&(o=n,r=Xre),r}function iAt(t,e){var n,i,r;for(n=e.a.o.a,r=new Ef(new a1(mK(e.a).b,e.c,e.f+1));r.b<r.d.gc();)if(TL(r.b<r.d.gc()),(i=jV(r.d.Xb(r.c=r.b++),29)).c.a>=n)return lAt(t,e,i.p),!0;return!1}function rAt(t){var e;return 64&t.Db?wCt(t):(e=new uN(Q4t),!t.a||sM(sM((e.a+=' "',e),t.a),'"'),sM(yx(sM(yx(sM(yx(sM(yx((e.a+=" (",e),t.i),","),t.j)," | "),t.g),","),t.f),")"),e.a)}function oAt(t,e,n){var i,r,o,s,a;for(a=oLt(t.e.Tg(),e),r=jV(t.g,119),i=0,s=0;s<t.i;++s)if(o=r[s],a.rl(o.ak())){if(i==n)return uRt(t,s),ZT(),jV(e,66).Oj()?o:o.dd();++i}throw $b(new Iv(e8t+n+a7t+i))}function sAt(t){var e,n,i;if(2==(e=t.c)||7==e||1==e)return fKt(),fKt(),sNe;for(i=IGt(t),n=null;2!=(e=t.c)&&7!=e&&1!=e;)n||(fKt(),fKt(),tHt(n=new nO(1),i),i=n),tHt(n,IGt(t));return i}function aAt(t,e,n){return t<0||t>n?gSt(t,n,"start index"):e<0||e>n?gSt(e,n,"end index"):PBt("end index (%s) must not be less than start index (%s)",Cat(z_(Mte,1),VKt,1,5,[ndt(e),ndt(t)]))}function cAt(t,e){var n,i,r,o;for(i=0,r=t.length;i<r;i++){o=t[i];try{o[1]?o[0].jm()&&(e=kU(e,o)):o[0].jm()}catch(t){if(!iD(t=hat(t),78))throw $b(t);n=t,N_(),wZ(iD(n,477)?jV(n,477).ae():n)}}return e}function lAt(t,e,n){var r,o;for(n!=e.c+e.b.gc()&&fzt(e.a,nst(e,n-e.c)),o=e.a.c.p,t.a[o]=i.Math.max(t.a[o],e.a.o.a),r=jV(wTt(e.a,(lKt(),Tde)),15).Kc();r.Ob();)lct(jV(r.Pb(),70),Jce,(cN(),!0))}function uAt(t,e){var n,r,o;o=zNt(e),lct(e,(lKt(),ude),o),o&&(r=LKt,IZ(t.f,o)&&(r=jV(VI(IZ(t.f,o)),19).a),Vv(kR(wTt(n=jV(DH(e.g,0),17),Cde)))||GK(t,o,ndt(i.Math.min(jV(wTt(n,dde),19).a,r))))}function hAt(t,e,n){var i,r,o,s;for(e.p=-1,s=Ngt(e,(oit(),Vwe)).Kc();s.Ob();)for(r=new Wf(jV(s.Pb(),11).g);r.a<r.c.c.length;)e!=(o=(i=jV(Q1(r),17)).d.i)&&(o.p<0?n.Fc(i):o.p>0&&hAt(t,o,n));e.p=0}function dAt(t){var e;this.c=new YE,this.f=t.e,this.e=t.d,this.i=t.g,this.d=t.c,this.b=t.b,this.k=t.j,this.a=t.a,t.i?this.j=t.i:this.j=new YF(e=jV(Gk(vTe),9),jV(EB(e,e.length),9),0),this.g=t.f}function fAt(t){var e,n,i,r;for(e=DG(sM(new uN("Predicates."),"and"),40),n=!0,r=new Ef(t);r.b<r.d.gc();)TL(r.b<r.d.gc()),i=r.d.Xb(r.c=r.b++),n||(e.a+=","),e.a+=""+i,n=!1;return(e.a+=")",e).a}function gAt(t,e,n){var i,r,o;if(!(n<=e+2))for(r=(n-e)/2|0,i=0;i<r;++i)u1(e+i,t.c.length),o=jV(t.c[e+i],11),i4(t,e+i,(u1(n-i-1,t.c.length),jV(t.c[n-i-1],11))),u1(n-i-1,t.c.length),t.c[n-i-1]=o}function pAt(t,e,n){var i,r,o,s,a,c,l;a=(o=t.d.p).e,c=o.r,t.g=new KF(c),i=(s=t.d.o.c.p)>0?a[s-1]:D7(Sae,o1t,10,0,0,1),r=a[s],l=s<a.length-1?a[s+1]:D7(Sae,o1t,10,0,0,1),e==n-1?oJ(t.g,r,l):oJ(t.g,i,r)}function mAt(t){var e;this.j=new Ob,this.f=new Lw,this.b=new YF(e=jV(Gk(FIe),9),jV(EB(e,e.length),9),0),this.d=D7(SNe,lXt,25,(vWt(),Cat(z_(FIe,1),XJt,61,0,[TIe,aIe,sIe,EIe,CIe])).length,15,1),this.g=t}function bAt(t,e){var n,i,r;if(0!=e.c.length){for(n=xTt(t,e),r=!1;!n;)kOt(t,e,!0),r=!0,n=xTt(t,e);r&&kOt(t,e,!1),i=Lat(e),t.b&&t.b.lg(i),t.a=Put(t,(u1(0,e.c.length),jV(e.c[0],33))),bAt(t,i)}}function wAt(t,e){var n,i,r;if(i=eet(t.Tg(),e),(n=e-t.Ah())<0){if(!i)throw $b(new Bv(a6t+e+c6t));if(!i.Ij())throw $b(new Bv(i6t+i.ne()+r6t));(r=t.Yg(i))>=0?t.Bh(r):rIt(t,i)}else zht(t,n,i)}function yAt(t){var e,n;if(n=null,e=!1,iD(t,204)&&(e=!0,n=jV(t,204).a),e||iD(t,258)&&(e=!0,n=""+jV(t,258).a),e||iD(t,483)&&(e=!0,n=""+jV(t,483).a),!e)throw $b(new Pv(V6t));return n}function vAt(t,e){var n,i;if(t.f){for(;e.Ob();)if(iD(i=(n=jV(e.Pb(),72)).ak(),99)&&jV(i,18).Bb&l6t&&(!t.e||i.Gj()!=PMe||0!=i.aj())&&null!=n.dd())return e.Ub(),!0;return!1}return e.Ob()}function _At(t,e){var n,i;if(t.f){for(;e.Sb();)if(iD(i=(n=jV(e.Ub(),72)).ak(),99)&&jV(i,18).Bb&l6t&&(!t.e||i.Gj()!=PMe||0!=i.aj())&&null!=n.dd())return e.Pb(),!0;return!1}return e.Sb()}function kAt(t,e,n){var i,r,o,s,a,c;for(c=oLt(t.e.Tg(),e),i=0,a=t.i,r=jV(t.g,119),s=0;s<t.i;++s)if(o=r[s],c.rl(o.ak())){if(n==i)return s;++i,a=s+1}if(n==i)return a;throw $b(new Iv(e8t+n+a7t+i))}function xAt(t,e){var n,r,o;if(0==t.f.c.length)return null;for(o=new hP,n=new Wf(t.f);n.a<n.c.c.length;)r=jV(Q1(n),70).o,o.b=i.Math.max(o.b,r.a),o.a+=r.b;return o.a+=(t.f.c.length-1)*e,o}function EAt(t,e,n){var i,r,o;for(r=new sq(ZD(lft(n).a.Kc(),new u));gPt(r);)h4(i=jV(U4(r),17))||!h4(i)&&i.c.i.c==i.d.i.c||(o=UDt(t,i,n,new oy)).c.length>1&&(e.c[e.c.length]=o)}function TAt(t){var e,n,i;for(jrt(n=new YE,t.o),i=new sy;0!=n.b;)GWt(t,e=jV(0==n.b?null:(TL(0!=n.b),Met(n,n.a.a)),508),!0)&&WV(i.a,e);for(;0!=i.a.c.length;)GWt(t,e=jV(tut(i),508),!1)}function CAt(){CAt=M,yTe=new MS(lQt,0),dTe=new MS("BOOLEAN",1),mTe=new MS("INT",2),wTe=new MS("STRING",3),fTe=new MS("DOUBLE",4),gTe=new MS("ENUM",5),pTe=new MS("ENUMSET",6),bTe=new MS("OBJECT",7)}function AAt(t,e){var n,r,o,s,a;r=i.Math.min(t.c,e.c),s=i.Math.min(t.d,e.d),(o=i.Math.max(t.c+t.b,e.c+e.b))<r&&(n=r,r=o,o=n),(a=i.Math.max(t.d+t.a,e.d+e.a))<s&&(n=s,s=a,a=n),Dz(t,r,s,o-r,a-s)}function SAt(){SAt=M,YOe=Cat(z_(Yee,1),cYt,2,6,[f9t,g9t,p9t,m9t,b9t,w9t,J6t]),KOe=Cat(z_(Yee,1),cYt,2,6,[f9t,"empty",g9t,B8t,"elementOnly"]),ZOe=Cat(z_(Yee,1),cYt,2,6,[f9t,"preserve","replace",y9t]),XOe=new Ez}function IAt(t,e,n){var i,r,o;if(e!=n){i=e;do{UB(t,i.c),(r=i.e)&&(BL(t,(o=i.d).b,o.d),UB(t,r.n),i=mK(r))}while(r);i=n;do{qB(t,i.c),(r=i.e)&&(jL(t,(o=i.d).b,o.d),qB(t,r.n),i=mK(r))}while(r)}}function MAt(t,e,n,i){var r,o,s,a,c;if(i.f.c+i.g.c==0)for(a=0,c=(s=t.a[t.c]).length;a<c;++a)GK(i,o=s[a],new vot(t,o,n));return(r=jV(VI(IZ(i.f,e)),663)).b=0,r.c=r.f,0==r.c||kf(jV(DH(r.a,r.b),287)),r}function PAt(){PAt=M,Zle=new vA("MEDIAN_LAYER",0),Jle=new vA("TAIL_LAYER",1),Xle=new vA("HEAD_LAYER",2),Qle=new vA("SPACE_EFFICIENT_LAYER",3),tue=new vA("WIDEST_LAYER",4),Yle=new vA("CENTER_LAYER",5)}function OAt(t){switch(t.g){case 0:case 1:case 2:return vWt(),aIe;case 3:case 4:case 5:return vWt(),EIe;case 6:case 7:case 8:return vWt(),CIe;case 9:case 10:case 11:return vWt(),sIe;default:return vWt(),TIe}}function DAt(t,e){var n;return 0!=t.c.length&&(n=tpt((u1(0,t.c.length),jV(t.c[0],17)).c.i),jJ(),n==(dwt(),lwe)||n==cwe||s4(MY(new LH(null,new d1(t,16)),new Vo),new em(e)))}function NAt(t,e,n){var i,r,o;if(!t.b[e.g]){for(t.b[e.g]=!0,!(i=n)&&(i=new T6),Nz(i.b,e),o=t.a[e.g].Kc();o.Ob();)(r=jV(o.Pb(),188)).b!=e&&NAt(t,r.b,i),r.c!=e&&NAt(t,r.c,i),Nz(i.a,r);return i}return null}function LAt(){LAt=M,Kve=new uS("ROOT_PROC",0),Uve=new uS("FAN_PROC",1),Wve=new uS("NEIGHBORS_PROC",2),qve=new uS("LEVEL_HEIGHT",3),Gve=new uS("NODE_POSITION_PROC",4),Hve=new uS("DETREEIFYING_PROC",5)}function RAt(t,e){if(iD(e,239))return HP(t,jV(e,33));if(iD(e,186))return UP(t,jV(e,118));if(iD(e,439))return zP(t,jV(e,202));throw $b(new Bv(U6t+OTt(new Xv(Cat(z_(Mte,1),VKt,1,5,[e])))))}function BAt(t,e,n){var i,r;if(this.f=t,d6(n,r=(i=jV(LG(t.b,e),283))?i.a:0),n>=(r/2|0))for(this.e=i?i.c:null,this.d=r;n++<r;)kJ(this);else for(this.c=i?i.b:null;n-- >0;)_J(this);this.b=e,this.a=null}function FAt(t,e){var n,i;e.a?UNt(t,e):(!!(n=jV(yF(t.b,e.b),57))&&n==t.a[e.b.f]&&!!n.a&&n.a!=e.b.a&&n.c.Fc(e.b),!!(i=jV(wF(t.b,e.b),57))&&t.a[i.f]==e.b&&!!i.a&&i.a!=e.b.a&&e.b.c.Fc(i),xN(t.b,e.b))}function jAt(t,e){var n,i;if(n=jV(sY(t.b,e),124),jV(jV(c6(t.r,e),21),84).dc())return n.n.b=0,void(n.n.c=0);n.n.b=t.C.b,n.n.c=t.C.c,t.A.Hc((wpt(),BIe))&&yBt(t,e),i=Wbt(t,e),CRt(t,e)==(rbt(),jSe)&&(i+=2*t.w),n.a.a=i}function $At(t,e){var n,i;if(n=jV(sY(t.b,e),124),jV(jV(c6(t.r,e),21),84).dc())return n.n.d=0,void(n.n.a=0);n.n.d=t.C.d,n.n.a=t.C.a,t.A.Hc((wpt(),BIe))&&vBt(t,e),i=Gbt(t,e),CRt(t,e)==(rbt(),jSe)&&(i+=2*t.w),n.a.b=i}function VAt(t,e){var n,i,r,o;for(o=new Ob,i=new Wf(e);i.a<i.c.c.length;)WV(o,new LC(n=jV(Q1(i),65),!0)),WV(o,new LC(n,!1));bv((r=new cZ(t)).a.a),t2(o,t.b,new Xv(Cat(z_(sie,1),VKt,679,0,[r])))}function zAt(t,e,n,i){var r,o,s,a,c,l,u,h,d,f,g;return a=t.a,h=t.b,c=e.a,d=e.b,l=n.a,f=n.b,new DS(((o=a*d-h*c)*(l-(u=i.a))-(s=l*(g=i.b)-f*u)*(a-c))/(r=(a-c)*(f-g)-(h-d)*(l-u)),(o*(f-g)-s*(h-d))/r)}function HAt(t,e){var n,i,r;if(!t.d[e.p]){for(t.d[e.p]=!0,t.a[e.p]=!0,i=new sq(ZD(hft(e).a.Kc(),new u));gPt(i);)h4(n=jV(U4(i),17))||(r=n.d.i,t.a[r.p]?WV(t.b,n):HAt(t,r));t.a[e.p]=!1}}function UAt(t,e,n){var i;switch(i=0,jV(wTt(e,(VGt(),yme)),163).g){case 2:i=2*-n+t.a,++t.a;break;case 1:i=-n;break;case 3:i=n;break;case 4:i=2*n+t.b,++t.b}return PL(e,(lKt(),dde))&&(i+=jV(wTt(e,dde),19).a),i}function qAt(t,e,n){var i,r,o;for(n.zc(e,t),WV(t.n,e),o=t.p.eg(e),e.j==t.p.fg()?Ift(t.e,o):Ift(t.j,o),nG(t),r=OW(Gnt(Cat(z_(Nte,1),VKt,20,0,[new $g(e),new zg(e)])));gPt(r);)i=jV(U4(r),11),n._b(i)||qAt(t,i,n)}function WAt(t){var e,n;return jV(QPt(t,(cKt(),RCe)),21).Hc((wpt(),NIe))?(n=jV(QPt(t,VCe),21),e=new dP(jV(QPt(t,jCe),8)),n.Hc((JFt(),zIe))&&(e.a<=0&&(e.a=20),e.b<=0&&(e.b=20)),e):new zk}function GAt(t){var e,n,i;if(!t.b){for(i=new Sc,n=new rL(RVt(t));n.e!=n.i.gc();)(e=jV(_bt(n),18)).Bb&l6t&&l8(i,e);rut(i),t.b=new OM((jV(Get(KX((KG(),QPe).o),8),18),i.i),i.g),T4(t).b&=-9}return t.b}function KAt(t,e){var n,i,r,o,s,a;s=jV(kyt(gq(e.k),D7(FIe,XJt,61,2,0,1)),122),Qyt(t,a=e.g,n=s3(e,s[0]),i=o3(e,s[1]))<=Qyt(t,a,r=s3(e,s[1]),o=o3(e,s[0]))?(e.a=n,e.c=i):(e.a=r,e.c=o)}function YAt(t,e,n){var i,r,o;for(IEt(n,"Processor set neighbors",1),t.a=0==e.b.b?1:e.b.b,r=null,i=cbt(e.b,0);!r&&i.b!=i.d.c;)Vv(kR(wTt(o=jV(h3(i),86),(zHt(),f_e))))&&(r=o);r&&ORt(t,new hm(r),n),VCt(n)}function XAt(t){var e,n,i,r;return Rzt(),e=-1==(i=zM(t,XEt(35)))?t:t.substr(0,i),n=-1==i?null:t.substr(i+1),(r=G3(vPe,e))?null!=n&&(r=Alt(r,(yK(n),n))):(r=GGt(e),r4(vPe,e,r),null!=n&&(r=Alt(r,n))),r}function ZAt(t){var e,n,i,r,o,s,a;if(EX(),iD(t,54))for(o=0,r=t.gc()-1;o<r;++o,--r)e=t.Xb(o),t._c(o,t.Xb(r)),t._c(r,e);else for(n=t.Yc(),s=t.Zc(t.gc());n.Tb()<s.Vb();)i=n.Pb(),a=s.Ub(),n.Wb(a),s.Wb(i)}function QAt(t,e){var n,i,r;IEt(e,"End label pre-processing",1),n=zv(xR(wTt(t,(VGt(),vbe)))),i=zv(xR(wTt(t,Ebe))),r=gP(jV(wTt(t,Upe),103)),XE(dtt(new LH(null,new d1(t.b,16)),new un),new Nj(n,i,r)),VCt(e)}function JAt(t,e){var n,i,r,o,s,a;for(a=0,f3(o=new Pb,e);o.b!=o.c;)for(a+=cvt((s=jV(fW(o),214)).d,s.e),r=new Wf(s.b);r.a<r.c.c.length;)i=jV(Q1(r),37),(n=jV(DH(t.b,i.p),214)).s||(a+=JAt(t,n));return a}function tSt(t,e,n){var r,o;Fst(this),e==(fQ(),Pve)?kW(this.r,t.c):kW(this.w,t.c),kW(n==Pve?this.r:this.w,t.d),tAt(this,t),WTt(this,r=Cut(t.c),o=Cut(t.d),o),this.o=(pLt(),i.Math.abs(r-o)<.2)}function eSt(t,e,n){var i,r,o,s,a;if(null!=(s=jV(yst(t.a,8),1936)))for(r=0,o=s.length;r<o;++r)null.jm();i=n,1&t.a.Db||(a=new oK(t,n,e),i.ui(a)),iD(i,672)?jV(i,672).wi(t.a):i.ti()==t.a&&i.vi(null)}function nSt(){var t;return XDe?jV(POt((WT(),zPe),T9t),1945):(cWt(),t=jV(iD(EQ((WT(),zPe),T9t),586)?EQ(zPe,T9t):new HK,586),XDe=!0,pGt(t),mKt(t),GK((GT(),XPe),t,new Fl),xvt(t),bJ(zPe,T9t,t),t)}function iSt(t,e,n,i){var r;return(r=UEt(t,n,Cat(z_(Yee,1),cYt,2,6,[dXt,fXt,gXt,pXt,mXt,bXt,wXt]),e))<0&&(r=UEt(t,n,Cat(z_(Yee,1),cYt,2,6,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),e)),!(r<0||(i.d=r,0))}function rSt(t,e,n,i){var r;return(r=UEt(t,n,Cat(z_(Yee,1),cYt,2,6,[dXt,fXt,gXt,pXt,mXt,bXt,wXt]),e))<0&&(r=UEt(t,n,Cat(z_(Yee,1),cYt,2,6,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),e)),!(r<0||(i.d=r,0))}function oSt(t){var e,n,i;for(FOt(t),i=new Ob,n=new Wf(t.a.a.b);n.a<n.c.c.length;)WV(i,new lA(e=jV(Q1(n),81),!0)),WV(i,new lA(e,!1));Jwt(t.c),e2(i,t.b,new Xv(Cat(z_(Xse,1),VKt,369,0,[t.c]))),bPt(t)}function sSt(t){var e,n,i,r;for(n=new Db,r=new Wf(t.d);r.a<r.c.c.length;)i=jV(Q1(r),181),e=jV(i.We((lKt(),Uhe)),17),IZ(n.f,e)||GK(n,e,new kX(e)),WV(jV(VI(IZ(n.f,e)),456).b,i);return new JF(new Sf(n))}function aSt(t,e){var n,i,r,o,s;for(i=new f1(t.j.c.length),n=null,o=new Wf(t.j);o.a<o.c.c.length;)(r=jV(Q1(o),11)).j!=n&&(i.b==i.c||jOt(i,n,e),s5(i),n=r.j),(s=wPt(r))&&d3(i,s);i.b==i.c||jOt(i,n,e)}function cSt(t,e){var n,i;for(i=new x2(t.b,0);i.b<i.d.gc();)TL(i.b<i.d.gc()),n=jV(i.d.Xb(i.c=i.b++),70),jV(wTt(n,(VGt(),Ype)),272)==(Ret(),UAe)&&(lK(i),WV(e.b,n),PL(n,(lKt(),Uhe))||lct(n,Uhe,t))}function lSt(t){var e,n,r;for(e=F3(new sq(ZD(hft(t).a.Kc(),new u))),n=new sq(ZD(uft(t).a.Kc(),new u));gPt(n);)r=F3(new sq(ZD(hft(jV(U4(n),17).c.i).a.Kc(),new u))),e=i.Math.max(e,r);return ndt(e)}function uSt(t,e,n){var i,r,o,s;for(IEt(n,"Processor arrange node",1),r=null,o=new YE,i=cbt(e.b,0);!r&&i.b!=i.d.c;)Vv(kR(wTt(s=jV(h3(i),86),(zHt(),f_e))))&&(r=s);n4(o,r,o.c.b,o.c),Xqt(t,o,wot(n,1)),VCt(n)}function hSt(t,e,n){var i,r,o;i=jV(QPt(t,(cKt(),cCe)),21),r=0,o=0,e.a>n.a&&(i.Hc((fxt(),WTe))?r=(e.a-n.a)/2:i.Hc(KTe)&&(r=e.a-n.a)),e.b>n.b&&(i.Hc((fxt(),XTe))?o=(e.b-n.b)/2:i.Hc(YTe)&&(o=e.b-n.b)),hTt(t,r,o)}function dSt(t,e,n,i,r,o,s,a,c,l,u,h,d){iD(t.Cb,88)&&MSt(T4(jV(t.Cb,88)),4),Drt(t,n),t.f=s,Pdt(t,a),Ddt(t,c),Mdt(t,l),Odt(t,u),Jht(t,h),zdt(t,d),Xht(t,!0),Ont(t,r),t.ok(o),Sut(t,e),null!=i&&(t.i=null,ort(t,i))}function fSt(t){var e,n;if(t.f){for(;t.n>0;){if(iD(n=(e=jV(t.k.Xb(t.n-1),72)).ak(),99)&&jV(n,18).Bb&l6t&&(!t.e||n.Gj()!=PMe||0!=n.aj())&&null!=e.dd())return!0;--t.n}return!1}return t.n>0}function gSt(t,e,n){if(t<0)return PBt($Kt,Cat(z_(Mte,1),VKt,1,5,[n,ndt(t)]));if(e<0)throw $b(new Bv(zKt+e));return PBt("%s (%s) must not be greater than size (%s)",Cat(z_(Mte,1),VKt,1,5,[n,ndt(t),ndt(e)]))}function pSt(t,e,n,i,r,o){var s,a,c;if(i-n<7)Pft(e,n,i,o);else if(pSt(e,t,a=n+r,c=a+((s=i+r)-a>>1),-r,o),pSt(e,t,c,s,-r,o),o.ue(t[c-1],t[c])<=0)for(;n<i;)MG(e,n++,t[a++]);else Hht(t,a,c,s,e,n,i,o)}function mSt(t,e){var n,i,r;for(r=new Ob,i=new Wf(t.c.a.b);i.a<i.c.c.length;)n=jV(Q1(i),57),e.Lb(n)&&(WV(r,new SC(n,!0)),WV(r,new SC(n,!1)));Qwt(t.e),t2(r,t.d,new Xv(Cat(z_(sie,1),VKt,679,0,[t.e])))}function bSt(t,e){var n,i,r,o,s,a,c;for(c=e.d,r=e.b.j,a=new Wf(c);a.a<a.c.c.length;)for(s=jV(Q1(a),101),o=D7(INe,QZt,25,r.c.length,16,1),GK(t.b,s,o),n=s.a.d.p-1,i=s.c.d.p;n!=i;)o[n=(n+1)%r.c.length]=!0}function wSt(t,e){for(t.r=new jst(t.p),Yd(t.r,t),jrt(t.r.j,t.j),wX(t.j),Nz(t.j,e),Nz(t.r.e,e),nG(t),nG(t.r);0!=t.f.c.length;)zO(jV(DH(t.f,0),129));for(;0!=t.k.c.length;)zO(jV(DH(t.k,0),129));return t.r}function ySt(t,e,n){var i,r,o;if(r=eet(t.Tg(),e),(i=e-t.Ah())<0){if(!r)throw $b(new Bv(a6t+e+c6t));if(!r.Ij())throw $b(new Bv(i6t+r.ne()+r6t));(o=t.Yg(r))>=0?t.sh(o,n):xDt(t,r,n)}else Oft(t,i,r,n)}function vSt(t){var e,n,i,r;if(n=jV(t,49).qh())try{if(i=null,(e=POt((WT(),zPe),Ejt(Fft(n))))&&(r=e.rh())&&(i=r.Wk(qv(n.e))),i&&i!=t)return vSt(i)}catch(t){if(!iD(t=hat(t),60))throw $b(t)}return t}function _St(t,e,n){var i,r,o,s;if(s=null==e?0:t.b.se(e),0==(r=null==(i=t.a.get(s))?new Array:i).length)t.a.set(s,r);else if(o=lut(t,e,r))return o.ed(n);return MG(r,r.length,new TC(e,n)),++t.c,sZ(t.b),null}function kSt(t,e){var n;return c2(t.a),CW(t.a,(Crt(),K_e),K_e),CW(t.a,Y_e,Y_e),fH(n=new j2,Y_e,(Aft(),tke)),zI(QPt(e,(qvt(),Eke)))!==zI((Vlt(),ake))&&fH(n,Y_e,Q_e),fH(n,Y_e,J_e),rP(t.a,n),PHt(t.a,e)}function xSt(t){if(!t)return u_(),lee;var e=t.valueOf?t.valueOf():t;if(e!==t){var n=uee[typeof e];return n?n(e):vut(typeof e)}return t instanceof Array||t instanceof i.Array?new _d(t):new Ed(t)}function ESt(t,e,n){var r,o,s;switch(s=t.o,(o=(r=jV(sY(t.p,n),244)).i).b=TIt(r),o.a=EIt(r),o.b=i.Math.max(o.b,s.a),o.b>s.a&&!e&&(o.b=s.a),o.c=-(o.b-s.a)/2,n.g){case 1:o.d=-o.a;break;case 3:o.d=s.b}F$t(r),H$t(r)}function TSt(t,e,n){var r,o,s;switch(s=t.o,(o=(r=jV(sY(t.p,n),244)).i).b=TIt(r),o.a=EIt(r),o.a=i.Math.max(o.a,s.b),o.a>s.b&&!e&&(o.a=s.b),o.d=-(o.a-s.b)/2,n.g){case 4:o.c=-o.b;break;case 2:o.c=s.a}F$t(r),H$t(r)}function CSt(t,e){var n,i,r,o,s;if(!e.dc())if(r=jV(e.Xb(0),128),1!=e.gc())for(n=1;n<e.gc();)!r.j&&r.o||(o=bvt(e,n))&&(i=jV(o.a,19).a,vLt(t,r,s=jV(o.b,128),n,i,e),n=i+1,r=s);else vLt(t,r,r,1,0,e)}function ASt(t){var e,n,i,r;for(bO(r=new JF(t.d),new qr),vRt(),e=Cat(z_(eue,1),PYt,270,0,[jle,zle,Fle,qle,Vle,$le,Ule,Hle]),n=0,i=new Wf(r);i.a<i.c.c.length;)AMt(jV(Q1(i),101),e[n%e.length]),++n}function SSt(t,e){var n,i,r,o;if(_Rt(),e.b<2)return!1;for(i=n=jV(h3(o=cbt(e,0)),8);o.b!=o.d.c;){if(r=jV(h3(o),8),!Lot(t,i)||!Lot(t,r))return!1;i=r}return!(!Lot(t,i)||!Lot(t,n))}function ISt(t,e){var n,i,r,o,s;return n=Rnt(s=t,"x"),Q9(new Vm(e).a,n),i=Rnt(s,"y"),J9(new zm(e).a,i),r=Rnt(s,A6t),ttt(new Hm(e).a,r),o=Rnt(s,C6t),ett(new Um(e).a,o),o}function MSt(t,e){gBt(t,e),1&t.b&&(t.a.a=null),2&t.b&&(t.a.f=null),4&t.b&&(t.a.g=null,t.a.i=null),16&t.b&&(t.a.d=null,t.a.e=null),8&t.b&&(t.a.b=null),32&t.b&&(t.a.j=null,t.a.c=null)}function PSt(t,e){var n,i;if(i=0,e.length>0)try{i=hjt(e,FYt,LKt)}catch(t){throw iD(t=hat(t),127)?$b(new P9(t)):$b(t)}return!t.a&&(t.a=new Eb(t)),i<(n=t.a).i&&i>=0?jV(Get(n,i),56):null}function OSt(t,e){if(t<0)return PBt($Kt,Cat(z_(Mte,1),VKt,1,5,["index",ndt(t)]));if(e<0)throw $b(new Bv(zKt+e));return PBt("%s (%s) must be less than size (%s)",Cat(z_(Mte,1),VKt,1,5,["index",ndt(t),ndt(e)]))}function DSt(t){var e,n,i,r,o;if(null==t)return UKt;for(o=new Pst(jKt,"[","]"),i=0,r=(n=t).length;i<r;++i)e=n[i],o.a?sM(o.a,o.b):o.a=new uN(o.d),rM(o.a,""+e);return o.a?0==o.e.length?o.a.a:o.a.a+""+o.e:o.c}function NSt(t){var e,n,i,r,o;if(null==t)return UKt;for(o=new Pst(jKt,"[","]"),i=0,r=(n=t).length;i<r;++i)e=n[i],o.a?sM(o.a,o.b):o.a=new uN(o.d),rM(o.a,""+e);return o.a?0==o.e.length?o.a.a:o.a.a+""+o.e:o.c}function LSt(t){var e,n,i,r,o;if(null==t)return UKt;for(o=new Pst(jKt,"[","]"),i=0,r=(n=t).length;i<r;++i)e=n[i],o.a?sM(o.a,o.b):o.a=new uN(o.d),rM(o.a,""+e);return o.a?0==o.e.length?o.a.a:o.a.a+""+o.e:o.c}function RSt(t){var e,n,i,r,o;if(null==t)return UKt;for(o=new Pst(jKt,"[","]"),i=0,r=(n=t).length;i<r;++i)e=n[i],o.a?sM(o.a,o.b):o.a=new uN(o.d),rM(o.a,""+e);return o.a?0==o.e.length?o.a.a:o.a.a+""+o.e:o.c}function BSt(t,e){var n,i,r,o,s,a;for(n=t.b.c.length,r=DH(t.b,e);2*e+1<n&&(a=o=2*e+1,(s=o+1)<n&&t.a.ue(DH(t.b,s),DH(t.b,o))<0&&(a=s),i=a,!(t.a.ue(r,DH(t.b,i))<0));)i4(t.b,e,DH(t.b,i)),e=i;i4(t.b,e,r)}function FSt(t,e,n,r,o,s){var a,c,l,u,h;for(zI(t)===zI(n)&&(t=t.slice(e,e+o),e=0),l=n,c=e,u=e+o;c<u;)o=(a=i.Math.min(c+1e4,u))-c,(h=t.slice(c,a)).splice(0,0,r,s?o:0),Array.prototype.splice.apply(l,h),c=a,r+=o}function jSt(t,e,n){var i,r;return i=n.d,r=n.e,t.g[i.d]<=t.i[e.d]&&t.i[e.d]<=t.i[i.d]&&t.g[r.d]<=t.i[e.d]&&t.i[e.d]<=t.i[r.d]?!(t.i[i.d]<t.i[r.d]):t.i[i.d]<t.i[r.d]}function $St(t){var e,n,i,r,o,s,a;if((i=t.a.c.length)>0)for(s=t.c.d,r=yD(qB(new DS((a=t.d.d).a,a.b),s),1/(i+1)),o=new DS(s.a,s.b),n=new Wf(t.a);n.a<n.c.c.length;)(e=jV(Q1(n),559)).d.a=o.a,e.d.b=o.b,UB(o,r)}function VSt(t,e,n){var r,o,s,a,c,l;for(l=RXt,s=new Wf(HDt(t.b));s.a<s.c.c.length;)for(o=jV(Q1(s),168),c=new Wf(HDt(e.b));c.a<c.c.c.length;)a=jV(Q1(c),168),r=Aat(o.a,o.b,a.a,a.b,n),l=i.Math.min(l,r);return l}function zSt(t,e){if(!e)throw $b(new gw);if(t.j=e,!t.d)switch(t.j.g){case 1:t.a.a=t.o.a/2,t.a.b=0;break;case 2:t.a.a=t.o.a,t.a.b=t.o.b/2;break;case 3:t.a.a=t.o.a/2,t.a.b=t.o.b;break;case 4:t.a.a=0,t.a.b=t.o.b/2}}function HSt(t,e){var n,r;return iD(e.g,10)&&jV(e.g,10).k==(sCt(),xae)?RXt:l3(e)?i.Math.max(0,t.b/2-.5):(n=l2(e))?(r=zv(xR(ept(n,(VGt(),Sbe)))),i.Math.max(0,r/2-.5)):RXt}function USt(t,e){var n,r;return iD(e.g,10)&&jV(e.g,10).k==(sCt(),xae)?RXt:l3(e)?i.Math.max(0,t.b/2-.5):(n=l2(e))?(r=zv(xR(ept(n,(VGt(),Sbe)))),i.Math.max(0,r/2-.5)):RXt}function qSt(t){var e,n,i,r;for(r=Oht(t.d,t.e).Kc();r.Ob();)for(i=jV(r.Pb(),11),n=new Wf(t.e==(vWt(),CIe)?i.e:i.g);n.a<n.c.c.length;)h4(e=jV(Q1(n),17))||e.c.i.c==e.d.i.c||(RCt(t,e),++t.f,++t.c)}function WSt(t,e){var n,i;if(e.dc())return EX(),EX(),cne;for(WV(i=new Ob,ndt(FYt)),n=1;n<t.f;++n)null==t.a&&fBt(t),t.a[n]&&WV(i,ndt(n));return 1==i.c.length?(EX(),EX(),cne):(WV(i,ndt(LKt)),gVt(e,i))}function GSt(t,e){var n,i,r,o,s,a;n=r_t(e,a=e.c.i.k!=(sCt(),Cae)?e.d:e.c).i,r=jV(LG(t.k,a),121),i=t.i[n.p].a,IF(a.i)<(n.c?_9(n.c.a,n,0):-1)?(o=r,s=i):(o=i,s=r),qNt(rT(iT(oT(nT(new $w,0),4),o),s))}function KSt(t,e,n){var i,r,o;if(n)for(r=((i=new cq(n.a.length)).b-i.a)*i.c<0?(tC(),kNe):new qD(i);r.Ob();)(o=Myt(t,vIt(ftt(n,jV(r.Pb(),19).a))))&&(!e.b&&(e.b=new cF(LMe,e,4,7)),l8(e.b,o))}function YSt(t,e,n){var i,r,o;if(n)for(r=((i=new cq(n.a.length)).b-i.a)*i.c<0?(tC(),kNe):new qD(i);r.Ob();)(o=Myt(t,vIt(ftt(n,jV(r.Pb(),19).a))))&&(!e.c&&(e.c=new cF(LMe,e,5,8)),l8(e.c,o))}function XSt(t,e,n){var i,r;i=e.a&t.f,e.b=t.b[i],t.b[i]=e,r=e.f&t.f,e.d=t.c[r],t.c[r]=e,n?(e.e=n.e,e.e?e.e.c=e:t.a=e,e.c=n.c,e.c?e.c.e=e:t.e=e):(e.e=t.e,e.c=null,t.e?t.e.c=e:t.a=e,t.e=e),++t.i,++t.g}function ZSt(t){var e,n,i;if(e=t.Pb(),!t.Ob())return e;for(i=oM(sM(new C_,"expected one element but was: <"),e),n=0;n<4&&t.Ob();n++)oM((i.a+=jKt,i),t.Pb());throw t.Ob()&&(i.a+=", ..."),i.a+=">",$b(new Bv(i.a))}function QSt(t,e){var n;e.d?e.d.b=e.b:t.a=e.b,e.b?e.b.d=e.d:t.e=e.d,e.e||e.c?(--(n=jV(LG(t.b,e.a),283)).a,e.e?e.e.c=e.c:n.b=e.c,e.c?e.c.e=e.e:n.c=e.e):((n=jV(m6(t.b,e.a),283)).a=0,++t.c),--t.d}function JSt(t){var e,n;return n=-t.a,e=Cat(z_(ANe,1),GYt,25,15,[43,48,48,48,48]),n<0&&(e[0]=45,n=-n),e[1]=e[1]+((n/60|0)/10|0)&YYt,e[2]=e[2]+(n/60|0)%10&YYt,e[3]=e[3]+(n%60/10|0)&YYt,e[4]=e[4]+n%10&YYt,$pt(e,0,e.length)}function tIt(t,e,n){var i,r;for(i=e.d,r=n.d;i.a-r.a==0&&i.b-r.b==0;)i.a+=VOt(t,26)*iZt+VOt(t,27)*rZt-.5,i.b+=VOt(t,26)*iZt+VOt(t,27)*rZt-.5,r.a+=VOt(t,26)*iZt+VOt(t,27)*rZt-.5,r.b+=VOt(t,26)*iZt+VOt(t,27)*rZt-.5}function eIt(t){var e,n,i,r;for(t.g=new Vft(jV(wG(FIe),290)),i=0,vWt(),n=aIe,e=0;e<t.j.c.length;e++)(r=jV(DH(t.j,e),11)).j!=n&&(i!=e&&bU(t.g,n,new nI(ndt(i),ndt(e))),n=r.j,i=e);bU(t.g,n,new nI(ndt(i),ndt(e)))}function nIt(t){var e,n,i,r,o;for(n=0,e=new Wf(t.b);e.a<e.c.c.length;)for(r=new Wf(jV(Q1(e),29).a);r.a<r.c.c.length;)for((i=jV(Q1(r),10)).p=n++,o=new Wf(i.j);o.a<o.c.c.length;)jV(Q1(o),11).p=n++}function iIt(t,e,n,i,r){var o,s,a,c;if(e)for(s=e.Kc();s.Ob();)for(c=rBt(jV(s.Pb(),10),(oit(),Vwe),n).Kc();c.Ob();)a=jV(c.Pb(),11),(o=jV(VI(IZ(r.f,a)),112))||(o=new jst(t.d),i.c[i.c.length]=o,qAt(o,a,r))}function rIt(t,e){var n,i,r;if(!(r=jHt((SAt(),XOe),t.Tg(),e)))throw $b(new Bv(i6t+e.ne()+r6t));ZT(),jV(r,66).Oj()||(r=Z1(j9(XOe,r))),i=jV((n=t.Yg(r))>=0?t._g(n,!0,!0):rMt(t,r,!0),153),jV(i,215).ol(e)}function oIt(t){var e,n;return t>-0x800000000000&&t<0x800000000000?0==t?0:((e=t<0)&&(t=-t),n=CQ(i.Math.floor(i.Math.log(t)/.6931471805599453)),(!e||t!=i.Math.pow(2,n))&&++n,n):Kst(ust(t))}function sIt(t){var e,n,i,r,o,s,a;for(o=new lP,n=new Wf(t);n.a<n.c.c.length;)s=(e=jV(Q1(n),129)).a,a=e.b,o.a._b(s)||o.a._b(a)||(r=s,i=a,s.e.b+s.j.b>2&&a.e.b+a.j.b<=2&&(r=a,i=s),o.a.zc(r,o),r.q=i);return o}function aIt(t,e){var n,i,r;return zst(i=new Pwt(t),e),lct(i,(lKt(),Ghe),e),lct(i,(VGt(),tbe),(Yxt(),qSe)),lct(i,ype,(fwt(),STe)),Fd(i,(sCt(),xae)),CJ(n=new ACt,i),zSt(n,(vWt(),CIe)),CJ(r=new ACt,i),zSt(r,sIe),i}function cIt(t){switch(t.g){case 0:return new Ov((ait(),Sye));case 1:return new dh;case 2:return new yh;default:throw $b(new Bv("No implementation is available for the crossing minimizer "+(null!=t.f?t.f:""+t.g)))}}function lIt(t,e){var n,i,r,o;for(t.c[e.p]=!0,WV(t.a,e),o=new Wf(e.j);o.a<o.c.c.length;)for(n=new b6((r=jV(Q1(o),11)).b);wO(n.a)||wO(n.b);)i=Jpt(r,jV(wO(n.a)?Q1(n.a):Q1(n.b),17)).i,t.c[i.p]||lIt(t,i)}function uIt(t){var e,n,r,o,s,a,c;for(a=0,n=new ID((!t.a&&(t.a=new tW(HMe,t,10,11)),t.a));n.e!=n.i.gc();)c=(e=jV(vbt(n),33)).g,o=e.f,r=i.Math.sqrt(c*c+o*o),a=i.Math.max(r,a),s=uIt(e),a=i.Math.max(s,a);return a}function hIt(){hIt=M,nIe=new qS("OUTSIDE",0),tIe=new qS("INSIDE",1),eIe=new qS("NEXT_TO_PORT_IF_POSSIBLE",2),JSe=new qS("ALWAYS_SAME_SIDE",3),QSe=new qS("ALWAYS_OTHER_SAME_SIDE",4),iIe=new qS("SPACE_EFFICIENT",5)}function dIt(t,e,n){var i,r,o,s;return Pit(i=R2(t,(Jk(),r=new vy,!!n&&JDt(r,n),r),e),L2(e,z6t)),TEt(e,i),aOt(e,i),ISt(e,i),o=O2(e,"ports"),CDt((s=new pI(t,i)).a,s.b,o),Nct(t,e,i),oat(t,e,i),i}function fIt(t){var e,n;return n=-t.a,e=Cat(z_(ANe,1),GYt,25,15,[43,48,48,58,48,48]),n<0&&(e[0]=45,n=-n),e[1]=e[1]+((n/60|0)/10|0)&YYt,e[2]=e[2]+(n/60|0)%10&YYt,e[4]=e[4]+(n%60/10|0)&YYt,e[5]=e[5]+n%10&YYt,$pt(e,0,e.length)}function gIt(t){var e;return e=Cat(z_(ANe,1),GYt,25,15,[71,77,84,45,48,48,58,48,48]),t<=0&&(e[3]=43,t=-t),e[4]=e[4]+((t/60|0)/10|0)&YYt,e[5]=e[5]+(t/60|0)%10&YYt,e[7]=e[7]+(t%60/10|0)&YYt,e[8]=e[8]+t%10&YYt,$pt(e,0,e.length)}function pIt(t){var e,n,i,r,o;if(null==t)return UKt;for(o=new Pst(jKt,"[","]"),i=0,r=(n=t).length;i<r;++i)e=n[i],o.a?sM(o.a,o.b):o.a=new uN(o.d),rM(o.a,""+mq(e));return o.a?0==o.e.length?o.a.a:o.a.a+""+o.e:o.c}function mIt(t,e){var n,r,o;for(o=LKt,r=new Wf(vft(e));r.a<r.c.c.length;)(n=jV(Q1(r),213)).f&&!t.c[n.c]&&(t.c[n.c]=!0,o=i.Math.min(o,mIt(t,Dft(n,e))));return t.i[e.d]=t.j,t.g[e.d]=i.Math.min(o,t.j++),t.g[e.d]}function bIt(t,e){var n,i,r;for(r=jV(jV(c6(t.r,e),21),84).Kc();r.Ob();)(i=jV(r.Pb(),111)).e.b=(n=i.b).Xe((cKt(),rAe))?n.Hf()==(vWt(),aIe)?-n.rf().b-zv(xR(n.We(rAe))):zv(xR(n.We(rAe))):n.Hf()==(vWt(),aIe)?-n.rf().b:0}function wIt(t){var e,n,i,r,o,s,a;for(n=KP(t.e),o=yD(jL(jO(GP(t.e)),t.d*t.a,t.c*t.b),-.5),e=n.a-o.a,r=n.b-o.b,a=0;a<t.c;a++){for(i=e,s=0;s<t.d;s++)Gft(t.e,new UY(i,r,t.a,t.b))&&jBt(t,s,a,!1,!0),i+=t.a;r+=t.b}}function yIt(t){var e,n,i;if(Vv(kR(QPt(t,(cKt(),ECe))))){for(i=new Ob,n=new sq(ZD(gDt(t).a.Kc(),new u));gPt(n);)YIt(e=jV(U4(n),79))&&Vv(kR(QPt(e,TCe)))&&(i.c[i.c.length]=e);return i}return EX(),EX(),cne}function vIt(t){var e;if(e=!1,iD(t,204))return e=!0,jV(t,204).a;if(!e&&iD(t,258)&&jV(t,258).a%1==0)return e=!0,ndt(KM(jV(t,258).a));throw $b(new t_("Id must be a string or an integer: '"+t+"'."))}function _It(t,e){var n,i,r,o,s,a;for(o=null,r=new nW((!t.a&&(t.a=new Eb(t)),t.a));dMt(r);)if(XVt(s=(n=jV(oDt(r),56)).Tg()),null!=(i=(a=s.o)&&n.mh(a)?pF(sat(a),n.ah(a)):null)&&bF(i,e)){o=n;break}return o}function kIt(t,e,n){var i,r,o,s,a;if(hit(n,"occurrences"),0==n)return(a=jV(hht(SX(t.a),e),14))?a.gc():0;if(!(s=jV(hht(SX(t.a),e),14)))return 0;if(n>=(o=s.gc()))s.$b();else for(r=s.Kc(),i=0;i<n;i++)r.Pb(),r.Qb();return o}function xIt(t,e,n){var i,r,o;return hit(n,"oldCount"),hit(0,"newCount"),((i=jV(hht(SX(t.a),e),14))?i.gc():0)==n&&(hit(0,"count"),(o=-((r=jV(hht(SX(t.a),e),14))?r.gc():0))>0?d_():o<0&&kIt(t,e,-o),!0)}function EIt(t){var e,n,i,r,o,s;if(s=0,0==t.b){for(e=0,r=0,o=(i=Wwt(t,!0)).length;r<o;++r)(n=i[r])>0&&(s+=n,++e);e>1&&(s+=t.c*(e-1))}else s=R_(eot(PY(IY(PW(t.a),new Et),new Tt)));return s>0?s+t.n.d+t.n.a:0}function TIt(t){var e,n,i,r,o,s;if(s=0,0==t.b)s=R_(eot(PY(IY(PW(t.a),new kt),new xt)));else{for(e=0,r=0,o=(i=Gwt(t,!0)).length;r<o;++r)(n=i[r])>0&&(s+=n,++e);e>1&&(s+=t.c*(e-1))}return s>0?s+t.n.b+t.n.c:0}function CIt(t,e){var n,r,o,s;for(n=(s=jV(sY(t.b,e),124)).a,o=jV(jV(c6(t.r,e),21),84).Kc();o.Ob();)(r=jV(o.Pb(),111)).c&&(n.a=i.Math.max(n.a,Gz(r.c)));if(n.a>0)switch(e.g){case 2:s.n.c=t.s;break;case 4:s.n.b=t.s}}function AIt(t,e){var n,i,r;return 0==(n=jV(wTt(e,(uBt(),Zoe)),19).a-jV(wTt(t,Zoe),19).a)?(i=qB(jO(jV(wTt(t,(Ert(),ose)),8)),jV(wTt(t,sse),8)),r=qB(jO(jV(wTt(e,ose),8)),jV(wTt(e,sse),8)),Cdt(i.a*i.b,r.a*r.b)):n}function SIt(t,e){var n,i,r;return 0==(n=jV(wTt(e,(APt(),M_e)),19).a-jV(wTt(t,M_e),19).a)?(i=qB(jO(jV(wTt(t,(zHt(),Zve)),8)),jV(wTt(t,Qve),8)),r=qB(jO(jV(wTt(e,Zve),8)),jV(wTt(e,Qve),8)),Cdt(i.a*i.b,r.a*r.b)):n}function IIt(t){var e,n;return(n=new C_).a+="e_",null!=(e=Wst(t))&&(n.a+=""+e),t.c&&t.d&&(sM((n.a+=" ",n),mvt(t.c)),sM(oM((n.a+="[",n),t.c.i),"]"),sM((n.a+=e1t,n),mvt(t.d)),sM(oM((n.a+="[",n),t.d.i),"]")),n.a}function MIt(t){switch(t.g){case 0:return new gh;case 1:return new ph;case 2:return new fh;case 3:return new mh;default:throw $b(new Bv("No implementation is available for the layout phase "+(null!=t.f?t.f:""+t.g)))}}function PIt(t,e,n,r,o){var s;switch(s=0,o.g){case 1:s=i.Math.max(0,e.b+t.b-(n.b+r));break;case 3:s=i.Math.max(0,-t.b-r);break;case 2:s=i.Math.max(0,-t.a-r);break;case 4:s=i.Math.max(0,e.a+t.a-(n.a+r))}return s}function OIt(t,e,n){var i,r,o;if(n)for(o=((i=new cq(n.a.length)).b-i.a)*i.c<0?(tC(),kNe):new qD(i);o.Ob();)r=D2(n,jV(o.Pb(),19).a),O6t in r.a||D6t in r.a?cFt(t,r,e):kGt(t,r,e),TD(jV(LG(t.b,Ypt(r)),79))}function DIt(t){var e,n;switch(t.b){case-1:return!0;case 0:return(n=t.t)>1||-1==n||(e=S_t(t))&&(ZT(),e.Cj()==k8t)?(t.b=-1,!0):(t.b=1,!1);default:return!1}}function NIt(t,e){var n,i,r,o,s;for(!e.s&&(e.s=new tW(BPe,e,21,17)),o=null,r=0,s=(i=e.s).i;r<s;++r)switch(NK(j9(t,n=jV(Get(i,r),170)))){case 2:case 3:!o&&(o=new Ob),o.c[o.c.length]=n}return o||(EX(),EX(),cne)}function LIt(t,e){var n,i,r,o;if(YGt(t),0!=t.c||123!=t.a)throw $b(new r_(vKt((oO(),C7t))));if(o=112==e,i=t.d,(n=uL(t.i,125,i))<0)throw $b(new r_(vKt((oO(),A7t))));return r=lL(t.i,i,n),t.d=n+1,h8(r,o,!(512&~t.e))}function RIt(t){var e;if((e=jV(wTt(t,(VGt(),Vpe)),314))==(Iit(),cue))throw $b(new i_("The hierarchy aware processor "+e+" in child node "+t+" is only allowed if the root node specifies the same hierarchical processor."))}function BIt(t,e){var n,i,r,o;for(zj(),n=null,r=e.Kc();r.Ob();)(i=jV(r.Pb(),128)).o||(WV((o=new CVt(FO(i.a),hz(i.a),null,jV(i.d.a.ec().Kc().Pb(),17))).c,i.a),t.c[t.c.length]=o,n&&WV(n.d,o),n=o)}function FIt(t,e){var n,i,r;if(e)if(4&e.i)for(i="[]",n=e.c;;n=n.c){if(!(4&n.i)){Vit(t,r=Uv((_R(n),n.o+i))),Nnt(t,r);break}i+="[]"}else Vit(t,r=Uv((_R(e),e.o))),Nnt(t,r);else Vit(t,null),Nnt(t,null);t.yk(e)}function jIt(t,e,n,i,r){var o,s,a,c;return zI(c=cR(t,jV(r,56)))!==zI(r)?(a=jV(t.g[n],72),vD(t,n,cEt(t,n,o=Z3(e,c))),bP(t.e)&&(Bxt(s=PZ(t,9,o.ak(),r,c,i,!1),new O9(t.e,9,t.c,a,o,i,!1)),M9(s)),c):r}function $It(t,e,n){var i,r,o,s,a,c;for(i=jV(c6(t.c,e),15),r=jV(c6(t.c,n),15),o=i.Zc(i.gc()),s=r.Zc(r.gc());o.Sb()&&s.Sb();)if((a=jV(o.Ub(),19))!=(c=jV(s.Ub(),19)))return _O(a.a,c.a);return o.Ob()||s.Ob()?o.Ob()?1:-1:0}function VIt(t,e){var n,i;try{return q1(t.a,e)}catch(r){if(iD(r=hat(r),32)){try{if(i=hjt(e,FYt,LKt),n=Gk(t.a),i>=0&&i<n.length)return n[i]}catch(t){if(!iD(t=hat(t),127))throw $b(t)}return null}throw $b(r)}}function zIt(t,e){var n,i,r;if(r=jHt((SAt(),XOe),t.Tg(),e))return ZT(),jV(r,66).Oj()||(r=Z1(j9(XOe,r))),i=jV((n=t.Yg(r))>=0?t._g(n,!0,!0):rMt(t,r,!0),153),jV(i,215).ll(e);throw $b(new Bv(i6t+e.ne()+s6t))}function HIt(){var t;return JT(),GOe?jV(POt((WT(),zPe),K8t),1939):(LM(Vte,new Sl),JUt(),t=jV(iD(EQ((WT(),zPe),K8t),547)?EQ(zPe,K8t):new UK,547),GOe=!0,aKt(t),xKt(t),GK((GT(),XPe),t,new Uc),bJ(zPe,K8t,t),t)}function UIt(t,e){var n,i,r,o;t.j=-1,bP(t.e)?(n=t.i,o=0!=t.i,i6(t,e),i=new O9(t.e,3,t.c,null,e,n,o),r=e.Qk(t.e,t.c,null),(r=Sxt(t,e,r))?(r.Ei(i),r.Fi()):dst(t.e,i)):(i6(t,e),(r=e.Qk(t.e,t.c,null))&&r.Fi())}function qIt(t,e){var n,i,r;if(r=0,(i=e[0])>=t.length)return-1;for(h1(i,t.length),n=t.charCodeAt(i);n>=48&&n<=57&&(r=10*r+(n-48),!(++i>=t.length));)h1(i,t.length),n=t.charCodeAt(i);return i>e[0]?e[0]=i:r=-1,r}function WIt(t){var e,n,r,o,s;return n=o=jV(t.a,19).a,r=s=jV(t.b,19).a,e=i.Math.max(i.Math.abs(o),i.Math.abs(s)),o<=0&&o==s?(n=0,r=s-1):o==-e&&s!=e?(n=s,r=o,s>=0&&++n):(n=-s,r=o),new nI(ndt(n),ndt(r))}function GIt(t,e,n,i){var r,o,s,a,c,l;for(r=0;r<e.o;r++)for(o=r-e.j+n,s=0;s<e.p;s++)if(c=o,l=a=s-e.k+i,c+=t.j,l+=t.k,c>=0&&l>=0&&c<t.o&&l<t.p&&(!wyt(e,r,s)&&nyt(t,o,a)||byt(e,r,s)&&!iyt(t,o,a)))return!0;return!1}function KIt(t,e,n){var i,r,o,s;o=t.c,s=t.d,r=(Mct(Cat(z_(TTe,1),cYt,8,0,[o.i.n,o.n,o.a])).b+Mct(Cat(z_(TTe,1),cYt,8,0,[s.i.n,s.n,s.a])).b)/2,i=null,i=o.j==(vWt(),sIe)?new DS(e+o.i.c.c.a+n,r):new DS(e-n,r),RL(t.a,0,i)}function YIt(t){var e,n,i;for(e=null,n=OW(Gnt(Cat(z_(Nte,1),VKt,20,0,[(!t.b&&(t.b=new cF(LMe,t,4,7)),t.b),(!t.c&&(t.c=new cF(LMe,t,5,8)),t.c)])));gPt(n);)if(i=CEt(jV(U4(n),82)),e){if(e!=i)return!1}else e=i;return!0}function XIt(t,e,n){var i;if(++t.j,e>=t.i)throw $b(new Iv(s7t+e+a7t+t.i));if(n>=t.i)throw $b(new Iv(c7t+n+a7t+t.i));return i=t.g[n],e!=n&&(e<n?ozt(t.g,e,t.g,e+1,n-e):ozt(t.g,n+1,t.g,n,e-n),MG(t.g,e,i),t.ei(e,i,n),t.ci()),i}function ZIt(t,e,n){var i;if(i=jV(t.c.xc(e),14))return!!i.Fc(n)&&(++t.d,!0);if((i=t.ic(e)).Fc(n))return++t.d,t.c.zc(e,i),!0;throw $b(new g4("New Collection violated the Collection spec"))}function QIt(t){var e,n,i;return t<0?0:0==t?32:(n=16-(e=(i=-(t>>16))>>16&16),n+=e=(i=(t>>=e)-256)>>16&8,n+=e=(i=(t<<=e)-FXt)>>16&4,(n+=e=(i=(t<<=e)-lYt)>>16&2)+2-(e=(i=(t<<=e)>>14)&~(i>>1)))}function JIt(t){var e,n,i,r;for(xX(),Eoe=new Ob,xoe=new Db,koe=new Ob,!t.a&&(t.a=new tW(HMe,t,10,11)),NWt(e=t.a),r=new ID(e);r.e!=r.i.gc();)i=jV(vbt(r),33),-1==_9(Eoe,i,0)&&(n=new Ob,WV(koe,n),Rmt(i,n));return koe}function tMt(t,e,n){var i,r,o,s;t.a=n.b.d,iD(e,352)?(t4(o=zCt(r=rRt(jV(e,79),!1,!1)),i=new Og(t)),K$t(o,r),null!=e.We((cKt(),SCe))&&t4(jV(e.We(SCe),74),i)):((s=jV(e,470)).Hg(s.Dg()+t.a.a),s.Ig(s.Eg()+t.a.b))}function eMt(t,e){var n,r,o,s,a,c,l,u;for(u=zv(xR(wTt(e,(VGt(),Obe)))),l=t[0].n.a+t[0].o.a+t[0].d.c+u,c=1;c<t.length;c++)r=t[c].n,o=t[c].o,n=t[c].d,(s=r.a-n.b-l)<0&&(r.a-=s),(a=e.f).a=i.Math.max(a.a,r.a+o.a),l=r.a+o.a+n.c+u}function nMt(t,e){var n,i,r,o,s,a;return i=jV(jV(LG(t.g,e.a),46).a,65),r=jV(jV(LG(t.g,e.b),46).a,65),(n=Jzt(o=i.b,s=r.b))>=0?n:(a=uK(qB(new DS(s.c+s.b/2,s.d+s.a/2),new DS(o.c+o.b/2,o.d+o.a/2))),-(Xjt(o,s)-1)*a)}function iMt(t,e,n){var i;XE(new LH(null,(!n.a&&(n.a=new tW(BMe,n,6,6)),new d1(n.a,16))),new tI(t,e)),XE(new LH(null,(!n.n&&(n.n=new tW(zMe,n,1,7)),new d1(n.n,16))),new eI(t,e)),(i=jV(QPt(n,(cKt(),SCe)),74))&&Xrt(i,t,e)}function rMt(t,e,n){var i,r,o;if(o=jHt((SAt(),XOe),t.Tg(),e))return ZT(),jV(o,66).Oj()||(o=Z1(j9(XOe,o))),r=jV((i=t.Yg(o))>=0?t._g(i,!0,!0):rMt(t,o,!0),153),jV(r,215).hl(e,n);throw $b(new Bv(i6t+e.ne()+s6t))}function oMt(t,e,n,i){var r,o,s,a,c;if(r=t.d[e])if(o=r.g,c=r.i,null!=i){for(a=0;a<c;++a)if((s=jV(o[a],133)).Sh()==n&&Dht(i,s.cd()))return s}else for(a=0;a<c;++a)if(zI((s=jV(o[a],133)).cd())===zI(i))return s;return null}function sMt(t,e){var n;if(e<0)throw $b(new Sv("Negative exponent"));if(0==e)return Zee;if(1==e||cgt(t,Zee)||cgt(t,ene))return t;if(!uPt(t,0)){for(n=1;!uPt(t,n);)++n;return Ott(bgt(n*e),sMt(H4(t,n),e))}return wEt(t,e)}function aMt(t,e){var n,i,r;if(zI(t)===zI(e))return!0;if(null==t||null==e)return!1;if(t.length!=e.length)return!1;for(n=0;n<t.length;++n)if(i=t[n],r=e[n],!(zI(i)===zI(r)||null!=i&&Dht(i,r)))return!1;return!0}function cMt(t){var e,n,i;for(yT(),this.b=Gse,this.c=(jht(),jAe),this.f=(wT(),Hse),this.a=t,J_(this,new Ae),vNt(this),i=new Wf(t.b);i.a<i.c.c.length;)(n=jV(Q1(i),81)).d||(e=new Cmt(Cat(z_(Kse,1),VKt,81,0,[n])),WV(t.a,e))}function lMt(t,e,n){var i,r,o,s,a,c;if(!t||0==t.c.length)return null;for(o=new RZ(e,!n),r=new Wf(t);r.a<r.c.c.length;)i=jV(Q1(r),70),qCt(o,(gT(),new jg(i)));return(s=o.i).a=(c=o.n,o.e.b+c.d+c.a),s.b=(a=o.n,o.e.a+a.b+a.c),o}function uMt(t){var e,n,i,r,o,s,a;for(cP(a=Q0(t.a),new An),n=null,o=0,s=(r=a).length;o<s&&(i=r[o]).k==(sCt(),xae);++o)(e=jV(wTt(i,(lKt(),Khe)),61))!=(vWt(),CIe)&&e!=sIe||(n&&jV(wTt(n,ide),15).Fc(i),n=i)}function hMt(t,e,n){var i,r,o,s,a,c;u1(e,t.c.length),a=jV(t.c[e],329),a6(t,e),a.b/2>=n&&(i=e,o=(c=(a.c+a.a)/2)-n,a.c<=c-n&&yU(t,i++,new yV(a.c,o)),(s=c+n)<=a.a&&(r=new yV(s,a.a),PJ(i,t.c.length),xC(t.c,i,r)))}function dMt(t){var e;if(t.c||null!=t.g){if(null==t.g)return!0;if(0==t.i)return!1;e=jV(t.g[t.i-1],47)}else t.d=t.si(t.f),l8(t,t.d),e=t.d;return e==t.b&&null.km>=null.jm()?(oDt(t),dMt(t)):e.Ob()}function fMt(t,e,n){var i,r,o,s;if(!(s=n)&&(s=Pz(new qy,0)),IEt(s,zJt,1),PUt(t.c,e),1==(o=RUt(t.a,e)).gc())Kzt(jV(o.Xb(0),37),s);else for(r=1/o.gc(),i=o.Kc();i.Ob();)Kzt(jV(i.Pb(),37),wot(s,r));__(t.a,o,e),jRt(e),VCt(s)}function gMt(t){if(this.a=t,t.c.i.k==(sCt(),xae))this.c=t.c,this.d=jV(wTt(t.c.i,(lKt(),Khe)),61);else{if(t.d.i.k!=xae)throw $b(new Bv("Edge "+t+" is not an external edge."));this.c=t.d,this.d=jV(wTt(t.d.i,(lKt(),Khe)),61)}}function pMt(t,e){var n,i,r;r=t.b,t.b=e,4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,3,r,t.b)),e?e!=t&&(Drt(t,e.zb),Pnt(t,e.d),jit(t,null==(n=null==(i=e.c)?e.zb:i)||bF(n,e.zb)?null:n)):(Drt(t,null),Pnt(t,0),jit(t,null))}function mMt(t){var e,n;if(t.f){for(;t.n<t.o;){if(iD(n=(e=jV(t.j?t.j.pi(t.n):t.k.Xb(t.n),72)).ak(),99)&&jV(n,18).Bb&l6t&&(!t.e||n.Gj()!=PMe||0!=n.aj())&&null!=e.dd())return!0;++t.n}return!1}return t.n<t.o}function bMt(t,e){var n;this.e=(WG(),wG(t),WG(),Dgt(t)),this.c=(wG(e),Dgt(e)),rN(this.e.Hd().dc()==this.c.Hd().dc()),this.d=bft(this.e),this.b=bft(this.c),n=yH(Mte,[cYt,VKt],[5,1],5,[this.e.Hd().gc(),this.c.Hd().gc()],2),this.a=n,git(this)}function wMt(t){return!Qte&&(Qte=YWt()),'"'+t.replace(/[\x00-\x1f\xad\u0600-\u0603\u06dd\u070f\u17b4\u17b5\u200b-\u200f\u2028-\u202e\u2060-\u2064\u206a-\u206f\ufeff\ufff9-\ufffb"\\]/g,(function(t){return AQ(t)}))+'"'}function yMt(t){var e,n;for(CX(),this.b=cie,this.c=uie,this.g=(pT(),aie),this.d=(jht(),jAe),this.a=t,yNt(this),n=new Wf(t.b);n.a<n.c.c.length;)!(e=jV(Q1(n),57)).a&&AN(Wnt(new qw,Cat(z_(hie,1),VKt,57,0,[e])),t),e.e=new gZ(e.d)}function vMt(t){var e,n,i,r,o;for(r=t.e.c.length,i=D7(Rte,JQt,15,r,0,1),o=new Wf(t.e);o.a<o.c.c.length;)i[jV(Q1(o),144).b]=new YE;for(n=new Wf(t.c);n.a<n.c.c.length;)i[(e=jV(Q1(n),282)).c.b].Fc(e),i[e.d.b].Fc(e);return i}function _Mt(t){var e,n,i,r,o,s;for(s=aL(t.c.length),r=new Wf(t);r.a<r.c.c.length;){for(i=jV(Q1(r),10),o=new Lw,n=new sq(ZD(hft(i).a.Kc(),new u));gPt(n);)(e=jV(U4(n),17)).c.i==e.d.i||kW(o,e.d.i);s.c[s.c.length]=o}return s}function kMt(t,e){var n,i,r,o,s;if(e>=(s=null==(n=jV(yst(t.a,4),126))?0:n.length))throw $b(new JB(e,s));return r=n[e],1==s?i=null:(ozt(n,0,i=D7(dPe,n8t,415,s-1,0,1),0,e),(o=s-e-1)>0&&ozt(n,e+1,i,e,o)),jmt(t,i),eSt(t,e,r),r}function xMt(){xMt=M,cDe=jV(Get(KX((ix(),fDe).qb),6),34),oDe=jV(Get(KX(fDe.qb),3),34),sDe=jV(Get(KX(fDe.qb),4),34),aDe=jV(Get(KX(fDe.qb),5),18),axt(cDe),axt(oDe),axt(sDe),axt(aDe),lDe=new Xv(Cat(z_(BPe,1),D8t,170,0,[cDe,oDe]))}function EMt(t,e){var n;this.d=new uy,this.b=e,this.e=new dP(e.qf()),n=t.u.Hc((hIt(),eIe)),t.u.Hc(tIe)?t.D?this.a=n&&!e.If():this.a=!0:t.u.Hc(nIe)?this.a=!!n&&!(e.zf().Kc().Ob()||e.Bf().Kc().Ob()):this.a=!1}function TMt(t,e){var n,i,r,o;for(n=t.o.a,o=jV(jV(c6(t.r,e),21),84).Kc();o.Ob();)(r=jV(o.Pb(),111)).e.a=(i=r.b).Xe((cKt(),rAe))?i.Hf()==(vWt(),CIe)?-i.rf().a-zv(xR(i.We(rAe))):n+zv(xR(i.We(rAe))):i.Hf()==(vWt(),CIe)?-i.rf().a:n}function CMt(t,e){var n,i,r;n=jV(wTt(t,(VGt(),Upe)),103),r=jV(QPt(e,obe),61),(i=jV(wTt(t,tbe),98))!=(Yxt(),KSe)&&i!=YSe?r==(vWt(),TIe)&&(r=I$t(e,n))==TIe&&(r=lgt(n)):r=Wzt(e)>0?lgt(n):xdt(lgt(n)),Xbt(e,obe,r)}function AMt(t,e){var n,i,r,o,s;for(s=t.j,e.a!=e.b&&bO(s,new Wr),r=s.c.length/2|0,i=0;i<r;i++)u1(i,s.c.length),(o=jV(s.c[i],113)).c&&zSt(o.d,e.a);for(n=r;n<s.c.length;n++)u1(n,s.c.length),(o=jV(s.c[n],113)).c&&zSt(o.d,e.b)}function SMt(t,e,n){var i,r,o;return i=t.c[e.c.p][e.p],r=t.c[n.c.p][n.p],null!=i.a&&null!=r.a?((o=kq(i.a,r.a))<0?sFt(t,e,n):o>0&&sFt(t,n,e),o):null!=i.a?(sFt(t,e,n),-1):null!=r.a?(sFt(t,n,e),1):0}function IMt(t,e){var n,i,r,o;t.ej()?(n=t.Vi(),o=t.fj(),++t.j,t.Hi(n,t.oi(n,e)),i=t.Zi(3,null,e,n,o),t.bj()&&(r=t.cj(e,null))?(r.Ei(i),r.Fi()):t.$i(i)):(tK(t,e),t.bj()&&(r=t.cj(e,null))&&r.Fi())}function MMt(t,e){var n,i,r,o,s;for(s=oLt(t.e.Tg(),e),r=new mc,n=jV(t.g,119),o=t.i;--o>=0;)i=n[o],s.rl(i.ak())&&l8(r,i);!oGt(t,r)&&bP(t.e)&&Pw(t,e.$j()?PZ(t,6,e,(EX(),cne),null,-1,!1):PZ(t,e.Kj()?2:1,e,null,null,-1,!1))}function PMt(){var t,e;for(PMt=M,one=D7(ane,cYt,91,32,0,1),sne=D7(ane,cYt,91,32,0,1),t=1,e=0;e<=18;e++)one[e]=Jmt(t),sne[e]=Jmt(wq(t,e)),t=rft(t,5);for(;e<sne.length;e++)one[e]=Ott(one[e-1],one[1]),sne[e]=Ott(sne[e-1],(IRt(),Jee))}function OMt(t,e){var n,i,r,o;return t.a==(ZTt(),ihe)||(r=e.a.c,n=e.a.c+e.a.b,!(e.j&&(o=(i=e.A).c.c.a-i.o.a/2,r-(i.n.a+i.o.a)>o)||e.q&&(o=(i=e.C).c.c.a-i.o.a/2,i.n.a-n>o)))}function DMt(t,e){IEt(e,"Partition preprocessing",1),XE(jV(T5(IY(dtt(IY(new LH(null,new d1(t.a,16)),new wi),new yi),new vi),b8(new z,new V,new it,Cat(z_(Qne,1),PYt,132,0,[(zlt(),Une)]))),15).Oc(),new _i),VCt(e)}function NMt(t){var e,n,i,r,o,s;for(VJ(),n=new m5,i=new Wf(t.e.b);i.a<i.c.c.length;)for(o=new Wf(jV(Q1(i),29).a);o.a<o.c.c.length;)r=jV(Q1(o),10),(e=jV(utt(n,s=t.g[r.p]),15))||Zmt(n,s,e=new Ob),e.Fc(r);return n}function LMt(t,e){var n,i,r,o,s;for(r=e.b.b,t.a=D7(Rte,JQt,15,r,0,1),t.b=D7(INe,QZt,25,r,16,1),s=cbt(e.b,0);s.b!=s.d.c;)o=jV(h3(s),86),t.a[o.g]=new YE;for(i=cbt(e.a,0);i.b!=i.d.c;)n=jV(h3(i),188),t.a[n.b.g].Fc(n),t.a[n.c.g].Fc(n)}function RMt(t){var e;return 64&t.Db?COt(t):((e=new lN(COt(t))).a+=" (startX: ",mx(e,t.j),e.a+=", startY: ",mx(e,t.k),e.a+=", endX: ",mx(e,t.b),e.a+=", endY: ",mx(e,t.c),e.a+=", identifier: ",iM(e,t.d),e.a+=")",e.a)}function BMt(t){var e;return 64&t.Db?vht(t):((e=new lN(vht(t))).a+=" (ordered: ",wx(e,!!(256&t.Bb)),e.a+=", unique: ",wx(e,!!(512&t.Bb)),e.a+=", lowerBound: ",bx(e,t.s),e.a+=", upperBound: ",bx(e,t.t),e.a+=")",e.a)}function FMt(t,e,n,i,r,o,s,a){var c;return iD(t.Cb,88)&&MSt(T4(jV(t.Cb,88)),4),Drt(t,n),t.f=i,Pdt(t,r),Ddt(t,o),Mdt(t,s),Odt(t,!1),Jht(t,!0),zdt(t,a),Xht(t,!0),Ont(t,0),t.b=0,Dnt(t,1),(c=VEt(t,e,null))&&c.Fi(),Hdt(t,!1),t}function jMt(t,e){var n,r;return jV(EQ(t.a,e),512)||(n=new w4(e),y4(),DF(n,jMt(t,lL(r=Kne?null:n.c,0,i.Math.max(0,bN(r,XEt(46)))))),0==(Kne?null:n.c).length&&HR(n,new G),bJ(t.a,Kne?null:n.c,n),n)}function $Mt(t,e){var n;t.b=e,t.g=new Ob,n=ZMt(t.b),t.e=n,t.f=n,t.c=Vv(kR(wTt(t.b,(F_t(),vie)))),t.a=xR(wTt(t.b,(cKt(),iCe))),null==t.a&&(t.a=1),zv(t.a)>1?t.e*=zv(t.a):t.f/=zv(t.a),Aut(t),pmt(t),xBt(t),lct(t.b,(kbt(),goe),t.g)}function VMt(t,e,n){var i,r,o,s,a;for(i=0,a=n,e||(i=n*(t.c.length-1),a*=-1),o=new Wf(t);o.a<o.c.c.length;){for(lct(r=jV(Q1(o),10),(VGt(),ype),(fwt(),STe)),r.o.a=i,s=LCt(r,(vWt(),sIe)).Kc();s.Ob();)jV(s.Pb(),11).n.a=i;i+=a}}function zMt(t,e,n){var i,r,o;t.ej()?(o=t.fj(),Sht(t,e,n),i=t.Zi(3,null,n,e,o),t.bj()?(r=t.cj(n,null),t.ij()&&(r=t.jj(n,r)),r?(r.Ei(i),r.Fi()):t.$i(i)):t.$i(i)):(Sht(t,e,n),t.bj()&&(r=t.cj(n,null))&&r.Fi())}function HMt(t,e,n){var i,r,o,s,a,c;return(a=t.Gk(n))!=n?(s=t.g[e],c=a,vD(t,e,t.oi(e,c)),o=s,t.gi(e,c,o),t.rk()&&(i=n,r=t.dj(i,null),!jV(a,49).eh()&&(r=t.cj(c,r)),r&&r.Fi()),bP(t.e)&&Pw(t,t.Zi(9,n,a,e,!1)),a):n}function UMt(t,e){var n,i,r;for(n=new Wf(t.a.a);n.a<n.c.c.length;)jV(Q1(n),189).g=!0;for(r=new Wf(t.a.b);r.a<r.c.c.length;)(i=jV(Q1(r),81)).k=Vv(kR(t.e.Kb(new nI(i,e)))),i.d.g=i.d.g&Vv(kR(t.e.Kb(new nI(i,e))));return t}function qMt(t){var e,n,i,r,o;if(n=new YF(e=jV(Gk(FIe),9),jV(EB(e,e.length),9),0),o=jV(wTt(t,(lKt(),_de)),10))for(r=new Wf(o.j);r.a<r.c.c.length;)zI(wTt(i=jV(Q1(r),11),fde))===zI(t)&&HN(new b6(i.b))&&art(n,i.j);return n}function WMt(t,e,n){var i,r,o,s;if(!t.d[n.p]){for(i=new sq(ZD(hft(n).a.Kc(),new u));gPt(i);){for(o=new sq(ZD(uft(s=jV(U4(i),17).d.i).a.Kc(),new u));gPt(o);)(r=jV(U4(o),17)).c.i==e&&(t.a[r.p]=!0);WMt(t,e,s)}t.d[n.p]=!0}}function GMt(t,e){var n,i,r,o,s,a,c;if(1==(i=mft(254&t.Db)))t.Eb=null;else if(o=ent(t.Eb),2==i)r=Ryt(t,e),t.Eb=o[0==r?1:0];else{for(s=D7(Mte,VKt,1,i-1,5,1),n=2,a=0,c=0;n<=128;n<<=1)n==e?++a:t.Db&n&&(s[c++]=o[a++]);t.Eb=s}t.Db&=~e}function KMt(t,e){var n,i,r,o,s;for(!e.s&&(e.s=new tW(BPe,e,21,17)),o=null,r=0,s=(i=e.s).i;r<s;++r)switch(NK(j9(t,n=jV(Get(i,r),170)))){case 4:case 5:case 6:!o&&(o=new Ob),o.c[o.c.length]=n}return o||(EX(),EX(),cne)}function YMt(t){var e;switch(e=0,t){case 105:e=2;break;case 109:e=8;break;case 115:e=4;break;case 120:e=16;break;case 117:e=32;break;case 119:e=64;break;case 70:e=256;break;case 72:e=128;break;case 88:e=512;break;case 44:e=v6t}return e}function XMt(t,e,n,i,r){var o,s,a,c;if(zI(t)!==zI(e)||i!=r)for(a=0;a<i;a++){for(s=0,o=t[a],c=0;c<r;c++)s=ift(ift(rft(t0(o,qXt),t0(e[c],qXt)),t0(n[a+c],qXt)),t0(fU(s),qXt)),n[a+c]=fU(s),s=vq(s,32);n[a+r]=fU(s)}else Sjt(t,i,n)}function ZMt(t){var e,n,r,o,s,a,c,l,u,h,d;for(h=0,u=0,c=(o=t.a).a.gc(),r=o.a.ec().Kc();r.Ob();)(n=jV(r.Pb(),561)).b&&KVt(n),h+=(d=(e=n.a).a)+(a=e.b),u+=d*a;return l=i.Math.sqrt(400*c*u-4*u+h*h)+h,0==(s=2*(100*c-1))?l:l/s}function QMt(t,e){0!=e.b&&(isNaN(t.s)?t.s=zv((TL(0!=e.b),xR(e.a.a.c))):t.s=i.Math.min(t.s,zv((TL(0!=e.b),xR(e.a.a.c)))),isNaN(t.c)?t.c=zv((TL(0!=e.b),xR(e.c.b.c))):t.c=i.Math.max(t.c,zv((TL(0!=e.b),xR(e.c.b.c)))))}function JMt(t){var e,n,i;for(e=null,n=OW(Gnt(Cat(z_(Nte,1),VKt,20,0,[(!t.b&&(t.b=new cF(LMe,t,4,7)),t.b),(!t.c&&(t.c=new cF(LMe,t,5,8)),t.c)])));gPt(n);)if(i=CEt(jV(U4(n),82)),e){if(e!=XQ(i))return!0}else e=XQ(i);return!1}function tPt(t,e){var n,i,r,o;t.ej()?(n=t.i,o=t.fj(),i6(t,e),i=t.Zi(3,null,e,n,o),t.bj()?(r=t.cj(e,null),t.ij()&&(r=t.jj(e,r)),r?(r.Ei(i),r.Fi()):t.$i(i)):t.$i(i)):(i6(t,e),t.bj()&&(r=t.cj(e,null))&&r.Fi())}function ePt(t,e,n){var i,r,o;t.ej()?(o=t.fj(),++t.j,t.Hi(e,t.oi(e,n)),i=t.Zi(3,null,n,e,o),t.bj()&&(r=t.cj(n,null))?(r.Ei(i),r.Fi()):t.$i(i)):(++t.j,t.Hi(e,t.oi(e,n)),t.bj()&&(r=t.cj(n,null))&&r.Fi())}function nPt(t){var e,n,i,r;for(r=t.length,e=null,i=0;i<r;i++)h1(i,t.length),zM(".*+?{[()|\\^$",XEt(n=t.charCodeAt(i)))>=0?(e||(e=new T_,i>0&&iM(e,t.substr(0,i))),e.a+="\\",OG(e,n&YYt)):e&&OG(e,n&YYt);return e?e.a:t}function iPt(t){var e;if(!t.a)throw $b(new Fv("IDataType class expected for layout option "+t.f));if(null==(e=A3(t.a)))throw $b(new Fv("Couldn't create new instance of property '"+t.f+"'. "+i4t+(_R(uPe),uPe.k)+r4t));return jV(e,414)}function rPt(t){var e,n,i,r,o;return(o=t.eh())&&o.kh()&&(r=tht(t,o))!=o?(n=t.Vg(),i=(e=t.Vg())>=0?t.Qg(null):t.eh().ih(t,-1-e,null,null),t.Rg(jV(r,49),n),i&&i.Fi(),t.Lg()&&t.Mg()&&n>-1&&dst(t,new Qq(t,9,n,o,r)),r):o}function oPt(t){var e,n,i,r,o,s,a;for(o=0,r=t.f.e,n=0;n<r.c.length;++n)for(u1(n,r.c.length),s=jV(r.c[n],144),i=n+1;i<r.c.length;++i)u1(i,r.c.length),a=jV(r.c[i],144),e=W7(s.d,a.d)-t.a[s.b][a.b],o+=t.i[s.b][a.b]*e*e;return o}function sPt(t,e){var n;if(!PL(e,(VGt(),yme))&&(n=k_t(jV(wTt(e,tle),360),jV(wTt(t,yme),163)),lct(e,tle,n),!gPt(new sq(ZD(lft(e).a.Kc(),new u)))))switch(n.g){case 1:lct(e,yme,(xft(),Bde));break;case 2:lct(e,yme,(xft(),jde))}}function aPt(t,e){var n;wBt(t),t.a=(n=new s_,XE(new LH(null,new d1(e.d,16)),new Sp(n)),n),ELt(t,jV(wTt(e.b,(VGt(),eme)),376)),vwt(t),IPt(t),P_t(t),_wt(t),_Ht(t,e),XE(dtt(new LH(null,Y0(EG(t.b).a)),new Kr),new Yr),e.a=!1,t.a=null}function cPt(){gTt.call(this,y6t,(Jk(),fMe)),this.p=null,this.a=null,this.f=null,this.n=null,this.g=null,this.c=null,this.i=null,this.j=null,this.d=null,this.b=null,this.e=null,this.k=null,this.o=null,this.s=null,this.q=!1,this.r=!1}function lPt(){lPt=M,tPe=new xI(H1t,0),ZMe=new xI("INSIDE_SELF_LOOPS",1),QMe=new xI("MULTI_EDGES",2),XMe=new xI("EDGE_LABELS",3),JMe=new xI("PORTS",4),KMe=new xI("COMPOUND",5),GMe=new xI("CLUSTERS",6),YMe=new xI("DISCONNECTED",7)}function uPt(t,e){var n,i,r;if(0==e)return!!(1&t.a[0]);if(e<0)throw $b(new Sv("Negative bit address"));if((r=e>>5)>=t.d)return t.e<0;if(n=t.a[r],e=1<<(31&e),t.e<0){if(r<(i=Aot(t)))return!1;n=i==r?-n:~n}return!!(n&e)}function hPt(t,e,n,i){var r;jV(n.b,65),jV(n.b,65),jV(i.b,65),jV(i.b,65),Oz(r=qB(jO(jV(n.b,65).c),jV(i.b,65).c),VSt(jV(n.b,65),jV(i.b,65),r)),jV(i.b,65),jV(i.b,65),jV(i.b,65).c.a,r.a,jV(i.b,65).c.b,r.b,jV(i.b,65),Iet(i.a,new kV(t,e,i))}function dPt(t,e){var n,i,r,o,s,a,c;if(o=e.e)for(n=rPt(o),i=jV(t.g,674),s=0;s<t.i;++s)if(zwt(c=i[s])==n&&(!c.d&&(c.d=new MD(WPe,c,1)),r=c.d,(a=jV(n.ah(pFt(o,o.Cb,o.Db>>16)),15).Xc(o))<r.i))return dPt(t,jV(Get(r,a),87));return e}function fPt(t,e,n){var i,r=TKt,o=r[t],s=o instanceof Array?o[0]:null;o&&!s?EKt=o:(!(i=e&&e.prototype)&&(i=TKt[e]),(EKt=VQ(i)).hm=n,!e&&(EKt.im=I),r[t]=EKt);for(var a=3;a<arguments.length;++a)arguments[a].prototype=EKt;s&&(EKt.gm=s)}function gPt(t){for(var e;!jV(wG(t.a),47).Ob();){if(t.d=alt(t),!t.d)return!1;if(t.a=jV(t.d.Pb(),47),iD(t.a,39)){if(e=jV(t.a,39),t.a=e.a,!t.b&&(t.b=new Pb),f3(t.b,t.d),e.b)for(;!Wv(e.b);)f3(t.b,jV(gW(e.b),47));t.d=e.d}}return!0}function pPt(t,e){var n,i,r,o,s;for(o=null==e?0:t.b.se(e),i=null==(n=t.a.get(o))?new Array:n,s=0;s<i.length;s++)if(r=i[s],t.b.re(e,r.cd()))return 1==i.length?(i.length=0,mB(t.a,o)):i.splice(s,1),--t.c,sZ(t.b),r.dd();return null}function mPt(t,e){var n,i,r,o;for(r=1,e.j=!0,o=null,i=new Wf(vft(e));i.a<i.c.c.length;)n=jV(Q1(i),213),t.c[n.c]||(t.c[n.c]=!0,o=Dft(n,e),n.f?r+=mPt(t,o):o.j||n.a!=n.e.e-n.d.e||(n.f=!0,kW(t.p,n),r+=mPt(t,o)));return r}function bPt(t){var e,n,r;for(n=new Wf(t.a.a.b);n.a<n.c.c.length;)e=jV(Q1(n),81),yK(0),(r=0)>0&&((!fP(t.a.c)||!e.n.d)&&(!gP(t.a.c)||!e.n.b)&&(e.g.d+=i.Math.max(0,r/2-.5)),(!fP(t.a.c)||!e.n.a)&&(!gP(t.a.c)||!e.n.c)&&(e.g.a-=r-1))}function wPt(t){var e,n,r,o,s;if(s=Bjt(t,o=new Ob),e=jV(wTt(t,(lKt(),_de)),10))for(r=new Wf(e.j);r.a<r.c.c.length;)zI(wTt(n=jV(Q1(r),11),fde))===zI(t)&&(s=i.Math.max(s,Bjt(n,o)));return 0==o.c.length||lct(t,hde,s),-1!=s?o:null}function yPt(t,e,n){var i,r,o,s,a,c;r=(i=(o=jV(DH(e.e,0),17).c).i).k,a=(s=(c=jV(DH(n.g,0),17).d).i).k,r==(sCt(),Tae)?lct(t,(lKt(),cde),jV(wTt(i,cde),11)):lct(t,(lKt(),cde),o),lct(t,(lKt(),lde),a==Tae?jV(wTt(s,lde),11):c)}function vPt(t,e){var n,i,r,o;for(n=(o=fU(rft(TYt,nY(fU(rft(null==e?0:Jct(e),CYt)),15))))&t.b.length-1,r=null,i=t.b[n];i;r=i,i=i.a)if(i.d==o&&dK(i.i,e))return r?r.a=i.a:t.b[n]=i.a,y_(i.c,i.f),ew(i.b,i.e),--t.f,++t.e,!0;return!1}function _Pt(t,e){var n,i,r,o,s;return e&=63,(i=!!((n=t.h)&AXt))&&(n|=-1048576),e<22?(s=n>>e,o=t.m>>e|n<<22-e,r=t.l>>e|t.m<<22-e):e<44?(s=i?CXt:0,o=n>>e-22,r=t.m>>e-22|n<<44-e):(s=i?CXt:0,o=i?TXt:0,r=n>>e-44),xO(r&TXt,o&TXt,s&CXt)}function kPt(t){var e,n,r,o,s,a;for(this.c=new Ob,this.d=t,r=RXt,o=RXt,e=BXt,n=BXt,a=cbt(t,0);a.b!=a.d.c;)s=jV(h3(a),8),r=i.Math.min(r,s.a),o=i.Math.min(o,s.b),e=i.Math.max(e,s.a),n=i.Math.max(n,s.b);this.a=new UY(r,o,e-r,n-o)}function xPt(t,e){var n,i,r,o;for(i=new Wf(t.b);i.a<i.c.c.length;)for(o=new Wf(jV(Q1(i),29).a);o.a<o.c.c.length;)for((r=jV(Q1(o),10)).k==(sCt(),Eae)&&l$t(r,e),n=new sq(ZD(hft(r).a.Kc(),new u));gPt(n);)bat(jV(U4(n),17),e)}function EPt(t){var e,n,i;this.c=t,i=jV(wTt(t,(VGt(),Upe)),103),e=zv(xR(wTt(t,_pe))),n=zv(xR(wTt(t,Rbe))),i==(jht(),BAe)||i==FAe||i==jAe?this.b=e*n:this.b=1/(e*n),this.j=zv(xR(wTt(t,Ibe))),this.e=zv(xR(wTt(t,Sbe))),this.f=t.b.c.length}function TPt(t){var e,n;for(t.e=D7(SNe,lXt,25,t.p.c.length,15,1),t.k=D7(SNe,lXt,25,t.p.c.length,15,1),n=new Wf(t.p);n.a<n.c.c.length;)e=jV(Q1(n),10),t.e[e.p]=F3(new sq(ZD(uft(e).a.Kc(),new u))),t.k[e.p]=F3(new sq(ZD(hft(e).a.Kc(),new u)))}function CPt(t){var e,n,i,r,o;for(i=0,t.q=new Ob,e=new Lw,o=new Wf(t.p);o.a<o.c.c.length;){for((r=jV(Q1(o),10)).p=i,n=new sq(ZD(hft(r).a.Kc(),new u));gPt(n);)kW(e,jV(U4(n),17).d.i);e.a.Bc(r),WV(t.q,new MH(e)),e.a.$b(),++i}}function APt(){APt=M,S_e=new WP(20),A_e=new qP((cKt(),qCe),S_e),D_e=new qP(PAe,20),v_e=new qP(iCe,gJt),M_e=new qP(pAe,ndt(1)),O_e=new qP(yAe,(cN(),!0)),__e=uCe,x_e=RCe,E_e=jCe,T_e=VCe,k_e=NCe,C_e=UCe,I_e=lAe,Rst(),N_e=w_e,P_e=m_e}function SPt(t,e){var n,i,r,o,s,a,c,l,u;if(t.a.f>0&&iD(e,42)&&(t.a.qj(),o=null==(c=(l=jV(e,42)).cd())?0:Jct(c),s=tB(t.a,o),n=t.a.d[s]))for(i=jV(n.g,367),u=n.i,a=0;a<u;++a)if((r=i[a]).Sh()==o&&r.Fb(l))return SPt(t,l),!0;return!1}function IPt(t){var e,n,i,r;for(r=jV(c6(t.a,(Oxt(),Ele)),15).Kc();r.Ob();)eG(t,i=jV(r.Pb(),101),(n=(e=gq(i.k)).Hc((vWt(),aIe))?e.Hc(sIe)?e.Hc(EIe)?e.Hc(CIe)?null:Mle:Ole:Ple:Ile)[0],(Art(),Dle),0),eG(t,i,n[1],Nle,1),eG(t,i,n[2],Lle,1)}function MPt(t,e){var n,i;ZLt(t,e,n=wFt(e)),nEt(t.a,jV(wTt(mK(e.b),(lKt(),Ede)),230)),djt(t),Lxt(t,e),i=D7(SNe,lXt,25,e.b.j.c.length,15,1),cqt(t,e,(vWt(),aIe),i,n),cqt(t,e,sIe,i,n),cqt(t,e,EIe,i,n),cqt(t,e,CIe,i,n),t.a=null,t.c=null,t.b=null}function PPt(){PPt=M,Tft(),sxe=new MM(k5t,axe=Qke),rxe=new MM(x5t,(cN(),!0)),ndt(-1),exe=new MM(E5t,ndt(-1)),ndt(-1),nxe=new MM(T5t,ndt(-1)),oxe=new MM(C5t,!1),cxe=new MM(A5t,!0),ixe=new MM(S5t,!1),lxe=new MM(I5t,-1)}function OPt(t,e,n){switch(e){case 7:return!t.e&&(t.e=new cF(RMe,t,7,4)),cHt(t.e),!t.e&&(t.e=new cF(RMe,t,7,4)),void pG(t.e,jV(n,14));case 8:return!t.d&&(t.d=new cF(RMe,t,8,5)),cHt(t.d),!t.d&&(t.d=new cF(RMe,t,8,5)),void pG(t.d,jV(n,14))}Ukt(t,e,n)}function DPt(t,e){var n,i,r,o,s;if(zI(e)===zI(t))return!0;if(!iD(e,15))return!1;if(s=jV(e,15),t.gc()!=s.gc())return!1;for(o=s.Kc(),i=t.Kc();i.Ob();)if(n=i.Pb(),r=o.Pb(),!(zI(n)===zI(r)||null!=n&&Dht(n,r)))return!1;return!0}function NPt(t,e){var n,i,r,o;for((o=jV(T5(dtt(dtt(new LH(null,new d1(e.b,16)),new Bn),new Fn),b8(new z,new V,new it,Cat(z_(Qne,1),PYt,132,0,[(zlt(),Une)]))),15)).Jc(new jn),n=0,r=o.Kc();r.Ob();)-1==(i=jV(r.Pb(),11)).p&&jPt(t,i,n++)}function LPt(t){switch(t.g){case 0:return new Th;case 1:return new lh;case 2:return new ch;case 3:return new vI;case 4:return new BU;default:throw $b(new Bv("No implementation is available for the node placer "+(null!=t.f?t.f:""+t.g)))}}function RPt(t){switch(t.g){case 0:return new RU;case 1:return new hh;case 2:return new eh;case 3:return new nh;case 4:return new kI;default:throw $b(new Bv("No implementation is available for the cycle breaker "+(null!=t.f?t.f:""+t.g)))}}function BPt(){BPt=M,bke=new MM(s5t,ndt(0)),wke=new MM(a5t,0),Vlt(),fke=new MM(c5t,gke=ake),ndt(0),dke=new MM(l5t,ndt(1)),$ot(),yke=new MM(u5t,vke=qke),N8(),_ke=new MM(h5t,kke=rke),Iyt(),pke=new MM(d5t,mke=Vke)}function FPt(t,e,n){var i;i=null,e&&(i=e.d),Xkt(t,new fA(e.n.a-i.b+n.a,e.n.b-i.d+n.b)),Xkt(t,new fA(e.n.a-i.b+n.a,e.n.b+e.o.b+i.a+n.b)),Xkt(t,new fA(e.n.a+e.o.a+i.c+n.a,e.n.b-i.d+n.b)),Xkt(t,new fA(e.n.a+e.o.a+i.c+n.a,e.n.b+e.o.b+i.a+n.b))}function jPt(t,e,n){var i,r,o;for(e.p=n,o=OW(Gnt(Cat(z_(Nte,1),VKt,20,0,[new $g(e),new zg(e)])));gPt(o);)-1==(i=jV(U4(o),11)).p&&jPt(t,i,n);if(e.i.k==(sCt(),Tae))for(r=new Wf(e.i.j);r.a<r.c.c.length;)(i=jV(Q1(r),11))!=e&&-1==i.p&&jPt(t,i,n)}function $Pt(t){var e,n,r,o,s;if(o=jV(T5(MJ(r1(t)),b8(new z,new V,new it,Cat(z_(Qne,1),PYt,132,0,[(zlt(),Une)]))),15),r=QQt,o.gc()>=2)for(e=xR((n=o.Kc()).Pb());n.Ob();)s=e,e=xR(n.Pb()),r=i.Math.min(r,(yK(e),e-(yK(s),s)));return r}function VPt(t,e){var n,i,r,o,s;n4(i=new YE,e,i.c.b,i.c);do{for(TL(0!=i.b),n=jV(Met(i,i.a.a),86),t.b[n.g]=1,o=cbt(n.d,0);o.b!=o.d.c;)s=(r=jV(h3(o),188)).c,1==t.b[s.g]?Nz(t.a,r):2==t.b[s.g]?t.b[s.g]=1:n4(i,s,i.c.b,i.c)}while(0!=i.b)}function zPt(t,e){var n,i,r;if(zI(e)===zI(wG(t)))return!0;if(!iD(e,15))return!1;if(i=jV(e,15),(r=t.gc())!=i.gc())return!1;if(iD(i,54)){for(n=0;n<r;n++)if(!dK(t.Xb(n),i.Xb(n)))return!1;return!0}return qwt(t.Kc(),i.Kc())}function HPt(t,e){var n;if(0!=t.c.length){if(2==t.c.length)l$t((u1(0,t.c.length),jV(t.c[0],10)),(Wvt(),vSe)),l$t((u1(1,t.c.length),jV(t.c[1],10)),_Se);else for(n=new Wf(t);n.a<n.c.c.length;)l$t(jV(Q1(n),10),e);t.c=D7(Mte,VKt,1,0,5,1)}}function UPt(t){var e,n;if(2!=t.c.length)throw $b(new Fv("Order only allowed for two paths."));u1(0,t.c.length),e=jV(t.c[0],17),u1(1,t.c.length),n=jV(t.c[1],17),e.d.i!=n.c.i&&(t.c=D7(Mte,VKt,1,0,5,1),t.c[t.c.length]=n,t.c[t.c.length]=e)}function qPt(t,e){var n,i,r,o,s;for(i=new m5,o=E5(new Xv(t.g)).a.ec().Kc();o.Ob();){if(!(r=jV(o.Pb(),10))){Sz(e,"There are no classes in a balanced layout.");break}(n=jV(utt(i,s=t.j[r.p]),15))||Zmt(i,s,n=new Ob),n.Fc(r)}return i}function WPt(t,e,n){var i,r,o,s;if(n)for(r=((i=new cq(n.a.length)).b-i.a)*i.c<0?(tC(),kNe):new qD(i);r.Ob();)(o=D2(n,jV(r.Pb(),19).a))&&(s=Bnt(L2(o,I6t),e),GK(t.f,s,o),z6t in o.a&&Pit(s,L2(o,z6t)),TEt(o,s),ISt(o,s))}function GPt(t,e){var n,i,r;for(IEt(e,"Port side processing",1),r=new Wf(t.a);r.a<r.c.c.length;)rVt(jV(Q1(r),10));for(n=new Wf(t.b);n.a<n.c.c.length;)for(i=new Wf(jV(Q1(n),29).a);i.a<i.c.c.length;)rVt(jV(Q1(i),10));VCt(e)}function KPt(t,e,n){var i,r,o,s,a;if(!(r=t.f)&&(r=jV(t.a.a.ec().Kc().Pb(),57)),j_t(r,e,n),1!=t.a.a.gc())for(i=e*n,s=t.a.a.ec().Kc();s.Ob();)(o=jV(s.Pb(),57))!=r&&((a=l3(o)).f.d?(o.d.d+=i+uQt,o.d.a-=i+uQt):a.f.a&&(o.d.a-=i+uQt))}function YPt(t,e,n,r,o){var s,a,c,l,u,h,d,f,g;return a=n-t,c=r-e,l=(s=i.Math.atan2(a,c))+ZQt,u=s-ZQt,h=o*i.Math.sin(l)+t,f=o*i.Math.cos(l)+e,d=o*i.Math.sin(u)+t,g=o*i.Math.cos(u)+e,o6(Cat(z_(TTe,1),cYt,8,0,[new DS(h,f),new DS(d,g)]))}function XPt(t,e,n,r){var o,s,a,c,l,u,h,d;o=n,s=h=e;do{s=t.a[s.p],d=t.g[s.p],c=zv(t.p[d.p])+zv(t.d[s.p])-s.d.d,(l=Mit(s,r))&&(u=t.g[l.p],a=zv(t.p[u.p])+zv(t.d[l.p])+l.o.b+l.d.a,o=i.Math.min(o,c-(a+RO(t.k,s,l))))}while(h!=s);return o}function ZPt(t,e,n,r){var o,s,a,c,l,u,h,d;o=n,s=h=e;do{s=t.a[s.p],d=t.g[s.p],a=zv(t.p[d.p])+zv(t.d[s.p])+s.o.b+s.d.a,(l=Fat(s,r))&&(u=t.g[l.p],c=zv(t.p[u.p])+zv(t.d[l.p])-l.d.d,o=i.Math.min(o,c-(a+RO(t.k,s,l))))}while(h!=s);return o}function QPt(t,e){var n,i;return!t.o&&(t.o=new w8((AGt(),xMe),ePe,t,0)),null!=(i=rpt(t.o,e))?i:(iD(n=e.wg(),4)&&(null==n?(!t.o&&(t.o=new w8((AGt(),xMe),ePe,t,0)),Gpt(t.o,e)):(!t.o&&(t.o=new w8((AGt(),xMe),ePe,t,0)),bkt(t.o,e,n))),n)}function JPt(){JPt=M,ASe=new zS("H_LEFT",0),CSe=new zS("H_CENTER",1),ISe=new zS("H_RIGHT",2),NSe=new zS("V_TOP",3),DSe=new zS("V_CENTER",4),OSe=new zS("V_BOTTOM",5),MSe=new zS("INSIDE",6),PSe=new zS("OUTSIDE",7),SSe=new zS("H_PRIORITY",8)}function tOt(t){var e,n,i,r,o,s,a;if((e=t.Hh(K8t))&&null!=(a=ER(rpt((!e.b&&(e.b=new XL((pKt(),wOe),UOe,e)),e.b),"settingDelegates")))){for(n=new Ob,o=0,s=(r=vFt(a,"\\w+")).length;o<s;++o)i=r[o],n.c[n.c.length]=i;return n}return EX(),EX(),cne}function eOt(t,e){var n,i,r,o,s,a,c;if(!e.f)throw $b(new Bv("The input edge is not a tree edge."));for(o=null,r=LKt,i=new Wf(t.d);i.a<i.c.c.length;)a=(n=jV(Q1(i),213)).d,c=n.e,jSt(t,a,e)&&!jSt(t,c,e)&&(s=c.e-a.e-n.a)<r&&(r=s,o=n);return o}function nOt(t){var e,n,i,r,o,s;if(!(t.f.e.c.length<=1)){e=0,r=oPt(t),n=RXt;do{for(e>0&&(r=n),s=new Wf(t.f.e);s.a<s.c.c.length;)Vv(kR(wTt(o=jV(Q1(s),144),(i_t(),wse))))||(i=Qjt(t,o),UB(yM(o.d),i));n=oPt(t)}while(!XG(t,e++,r,n))}}function iOt(t,e){var n,i,r;for(IEt(e,"Layer constraint preprocessing",1),n=new Ob,r=new x2(t.a,0);r.b<r.d.gc();)TL(r.b<r.d.gc()),Gat(i=jV(r.d.Xb(r.c=r.b++),10))&&(rEt(i),n.c[n.c.length]=i,lK(r));0==n.c.length||lct(t,(lKt(),Qhe),n),VCt(e)}function rOt(t,e){var n,i,r,o,s;for(o=t.g.a,s=t.g.b,i=new Wf(t.d);i.a<i.c.c.length;)r=(n=jV(Q1(i),70)).n,t.a==(Iat(),ble)||t.i==(vWt(),sIe)?r.a=o:t.a==wle||t.i==(vWt(),CIe)?r.a=o+t.j.a-n.o.a:r.a=o+(t.j.a-n.o.a)/2,r.b=s,UB(r,e),s+=n.o.b+t.e}function oOt(t,e,n){var i,r,o,s;for(IEt(n,"Processor set coordinates",1),t.a=0==e.b.b?1:e.b.b,o=null,i=cbt(e.b,0);!o&&i.b!=i.d.c;)Vv(kR(wTt(s=jV(h3(i),86),(zHt(),f_e))))&&(o=s,(r=s.e).a=jV(wTt(s,g_e),19).a,r.b=0);FCt(t,Nat(o),wot(n,1)),VCt(n)}function sOt(t,e,n){var i,r,o;for(IEt(n,"Processor determine the height for each level",1),t.a=0==e.b.b?1:e.b.b,r=null,i=cbt(e.b,0);!r&&i.b!=i.d.c;)Vv(kR(wTt(o=jV(h3(i),86),(zHt(),f_e))))&&(r=o);r&&QLt(t,o6(Cat(z_(Yve,1),tJt,86,0,[r])),n),VCt(n)}function aOt(t,e){var n,i,r,o,s;(o=N2(t,"individualSpacings"))&&(!T7(e,(cKt(),CAe))&&(n=new Qa,Xbt(e,CAe,n)),r=jV(QPt(e,CAe),373),i=null,(s=o)&&(i=new kE(s,_rt(s,D7(Yee,cYt,2,0,6,1)))),i&&t4(i,new fI(s,r)))}function cOt(t,e){var n,i,r,o,s,a;return o=null,(Z6t in(s=t).a||Q6t in s.a||L6t in s.a)&&(a=zat(e),i=N2(s,Z6t),Igt(new $m(a).a,i),r=N2(s,Q6t),Sgt(new Xm(a).a,r),n=O2(s,L6t),Cxt(new Jm(a).a,n),o=n),o}function lOt(t,e){var n,i,r;if(e===t)return!0;if(iD(e,543)){if(r=jV(e,835),t.a.d!=r.a.d||_Y(t).gc()!=_Y(r).gc())return!1;for(i=_Y(r).Kc();i.Ob();)if(i1(t,(n=jV(i.Pb(),416)).a.cd())!=jV(n.a.dd(),14).gc())return!1;return!0}return!1}function uOt(t){var e,n,i,r;return e=i=jV(t.a,19).a,n=r=jV(t.b,19).a,0==i&&0==r?n-=1:-1==i&&r<=0?(e=0,n-=2):i<=0&&r>0?(e-=1,n-=1):i>=0&&r<0?(e+=1,n+=1):i>0&&r>=0?(e-=1,n+=1):(e+=1,n-=1),new nI(ndt(e),ndt(n))}function hOt(t,e){return t.c<e.c?-1:t.c>e.c?1:t.b<e.b?-1:t.b>e.b?1:t.a!=e.a?Jct(t.a)-Jct(e.a):t.d==(K5(),$ye)&&e.d==jye?-1:t.d==jye&&e.d==$ye?1:0}function dOt(t,e){var n,i,r,o,s;return s=(o=e.a).c.i==e.b?o.d:o.c,i=o.c.i==e.b?o.c:o.d,(r=Ugt(t.a,s,i))>0&&r<QQt?(n=XPt(t.a,i.i,r,t.c),int(t.a,i.i,-n),n>0):r<0&&-r<QQt&&(n=ZPt(t.a,i.i,-r,t.c),int(t.a,i.i,n),n>0)}function fOt(t,e,n,i){var r,o,s,a,c,l;for(r=(e-t.d)/t.c.c.length,o=0,t.a+=n,t.d=e,l=new Wf(t.c);l.a<l.c.c.length;)a=(c=jV(Q1(l),33)).g,s=c.f,Cnt(c,c.i+o*r),Ant(c,c.j+i*n),Tnt(c,c.g+r),Ent(c,t.a),++o,hSt(c,new DS(c.g,c.f),new DS(a,s))}function gOt(t){var e,n,i,r,o,s,a;if(null==t)return null;for(a=t.length,s=D7(PNe,b6t,25,r=(a+1)/2|0,15,1),a%2!=0&&(s[--r]=QRt((h1(a-1,t.length),t.charCodeAt(a-1)))),n=0,i=0;n<r;++n)e=QRt(lY(t,i++)),o=QRt(lY(t,i++)),s[n]=(e<<4|o)<<24>>24;return s}function pOt(t){if(t.pe()){var e=t.c;return e.qe()?t.o="["+e.n:e.pe()?t.o="["+e.ne():t.o="[L"+e.ne()+";",t.b=e.me()+"[]",void(t.k=e.oe()+"[]")}var n=t.j,i=t.d;i=i.split("/"),t.o=jpt(".",[n,jpt("$",i)]),t.b=jpt(".",[n,jpt(".",i)]),t.k=i[i.length-1]}function mOt(t,e){var n,i,r,o,s;for(s=null,o=new Wf(t.e.a);o.a<o.c.c.length;)if((r=jV(Q1(o),121)).b.a.c.length==r.g.a.c.length){for(i=r.e,s=eAt(r),n=r.e-jV(s.a,19).a+1;n<r.e+jV(s.b,19).a;n++)e[n]<e[i]&&(i=n);e[i]<e[r.e]&&(--e[r.e],++e[i],r.e=i)}}function bOt(t){var e,n,r,o,s,a,c;for(r=RXt,n=BXt,e=new Wf(t.e.b);e.a<e.c.c.length;)for(s=new Wf(jV(Q1(e),29).a);s.a<s.c.c.length;)o=jV(Q1(s),10),a=(c=zv(t.p[o.p]))+zv(t.b[t.g[o.p].p]),r=i.Math.min(r,c),n=i.Math.max(n,a);return n-r}function wOt(t,e,n,i){var r,o,s,a,c;for(a=0,c=(r=_Ft(t,e)).gc();a<c;++a)if(bF(i,yY(j9(t,o=jV(r.Xb(a),170)))))if(s=vY(j9(t,o)),null==n){if(null==s)return o}else if(bF(n,s))return o;return null}function yOt(t,e,n,i){var r,o,s,a,c;for(a=0,c=(r=kFt(t,e)).gc();a<c;++a)if(bF(i,yY(j9(t,o=jV(r.Xb(a),170)))))if(s=vY(j9(t,o)),null==n){if(null==s)return o}else if(bF(n,s))return o;return null}function vOt(t,e,n){var i,r,o,s,a,c;if(s=new mc,a=oLt(t.e.Tg(),e),i=jV(t.g,119),ZT(),jV(e,66).Oj())for(o=0;o<t.i;++o)r=i[o],a.rl(r.ak())&&l8(s,r);else for(o=0;o<t.i;++o)r=i[o],a.rl(r.ak())&&(c=r.dd(),l8(s,n?jIt(t,e,o,s.i,c):c));return O3(s)}function _Ot(t,e){var n,i,r,o;for(n=new Vft(oue),PAt(),r=0,o=(i=Cat(z_(oue,1),PYt,227,0,[Zle,Jle,Xle,Qle,tue,Yle])).length;r<o;++r)dB(n,i[r],new Ob);return XE(MY(IY(dtt(new LH(null,new d1(t.b,16)),new Jn),new ti),new cp(e)),new lp(n)),n}function kOt(t,e,n){var r,o,s,a,c,l,u,h;for(s=e.Kc();s.Ob();)l=(o=jV(s.Pb(),33)).i+o.g/2,h=o.j+o.f/2,c=l-((a=t.f).i+a.g/2),u=h-(a.j+a.f/2),r=i.Math.sqrt(c*c+u*u),c*=t.e/r,u*=t.e/r,n?(l-=c,h-=u):(l+=c,h+=u),Cnt(o,l-o.g/2),Ant(o,h-o.f/2)}function xOt(t){var e,n,i;if(!t.c&&null!=t.b){for(e=t.b.length-4;e>=0;e-=2)for(n=0;n<=e;n+=2)(t.b[n]>t.b[n+2]||t.b[n]===t.b[n+2]&&t.b[n+1]>t.b[n+3])&&(i=t.b[n+2],t.b[n+2]=t.b[n],t.b[n]=i,i=t.b[n+3],t.b[n+3]=t.b[n+1],t.b[n+1]=i);t.c=!0}}function EOt(t,e){var n,i,r,o,s,a;for(o=(1==e?Wse:qse).a.ec().Kc();o.Ob();)for(r=jV(o.Pb(),103),a=jV(c6(t.f.c,r),21).Kc();a.Ob();)switch(s=jV(a.Pb(),46),i=jV(s.b,81),n=jV(s.a,189).c,r.g){case 2:case 1:i.g.d+=n;break;case 4:case 3:i.g.c+=n}}function TOt(t,e){var n,i,r,o,s,a,c,l,u;for(l=-1,u=0,a=0,c=(s=t).length;a<c;++a){for(o=s[a],n=new yz(-1==l?t[0]:t[l],e,(Eut(),owe)),i=0;i<o.length;i++)for(r=i+1;r<o.length;r++)PL(o[i],(lKt(),dde))&&PL(o[r],dde)&&uGt(n,o[i],o[r])>0&&++u;++l}return u}function COt(t){var e;return(e=new uN(Qk(t.gm))).a+="@",sM(e,(Jct(t)>>>0).toString(16)),t.kh()?(e.a+=" (eProxyURI: ",oM(e,t.qh()),t.$g()&&(e.a+=" eClass: ",oM(e,t.$g())),e.a+=")"):t.$g()&&(e.a+=" (eClass: ",oM(e,t.$g()),e.a+=")"),e.a}function AOt(t){var e,n,i;if(t.e)throw $b(new Fv((_R(gie),MZt+gie.k+PZt)));for(t.d==(jht(),jAe)&&xqt(t,BAe),n=new Wf(t.a.a);n.a<n.c.c.length;)(e=jV(Q1(n),307)).g=e.i;for(i=new Wf(t.a.b);i.a<i.c.c.length;)jV(Q1(i),57).i=BXt;return t.b.Le(t),t}function SOt(t,e){var n,i,r,o,s;if(e<2*t.b)throw $b(new Bv("The knot vector must have at least two time the dimension elements."));for(t.f=1,r=0;r<t.b;r++)WV(t.e,0);for(n=s=e+1-2*t.b,o=1;o<s;o++)WV(t.e,o/n);if(t.d)for(i=0;i<t.b;i++)WV(t.e,1)}function IOt(t,e){var n,i,r,o,s;if(o=e,!(s=jV(qit(TG(t.i),o),33)))throw $b(new t_("Unable to find elk node for json object '"+L2(o,z6t)+"' Panic!"));i=O2(o,"edges"),OIt((n=new oI(t,s)).a,n.b,i),r=O2(o,M6t),L_t(new Om(t).a,r)}function MOt(t,e,n,i){var r,o,s,a,c;if(null!=i){if(r=t.d[e])for(o=r.g,c=r.i,a=0;a<c;++a)if((s=jV(o[a],133)).Sh()==n&&Dht(i,s.cd()))return a}else if(r=t.d[e])for(o=r.g,c=r.i,a=0;a<c;++a)if(zI((s=jV(o[a],133)).cd())===zI(i))return a;return-1}function POt(t,e){var n,i;return iD(n=null==e?VI(IZ(t.f,null)):cC(t.g,e),235)?((i=jV(n,235)).Qh(),i):iD(n,498)?((i=jV(n,1938).a)&&(null==i.yb||(null==e?_St(t.f,null,i):sft(t.g,e,i))),i):null}function OOt(t){var e,n,i,r,o,s,a;if(BRt(),null==t)return null;if((r=t.length)%2!=0)return null;for(e=G9(t),n=D7(PNe,b6t,25,o=r/2|0,15,1),i=0;i<o;i++){if(-1==(s=GDe[e[2*i]]))return null;if(-1==(a=GDe[e[2*i+1]]))return null;n[i]=(s<<4|a)<<24>>24}return n}function DOt(t,e,n){var i,r,o;if(!(r=jV(sY(t.i,e),306)))if(r=new fet(t.d,e,n),bU(t.i,e,r),omt(e))_D(t.a,e.c,e.b,r);else switch(o=OAt(e),i=jV(sY(t.p,o),244),o.g){case 1:case 3:r.j=!0,vv(i,e.b,r);break;case 4:case 2:r.k=!0,vv(i,e.c,r)}return r}function NOt(t,e,n,i){var r,o,s,a,c,l;if(a=new mc,c=oLt(t.e.Tg(),e),r=jV(t.g,119),ZT(),jV(e,66).Oj())for(s=0;s<t.i;++s)o=r[s],c.rl(o.ak())&&l8(a,o);else for(s=0;s<t.i;++s)o=r[s],c.rl(o.ak())&&(l=o.dd(),l8(a,i?jIt(t,e,s,a.i,l):l));return Ygt(a,n)}function LOt(t,e){var n,r,o,s,a,c;if((r=t.b[e.p])>=0)return r;for(o=1,s=new Wf(e.j);s.a<s.c.c.length;)for(n=new Wf(jV(Q1(s),11).g);n.a<n.c.c.length;)e!=(c=jV(Q1(n),17).d.i)&&(a=LOt(t,c),o=i.Math.max(o,a+1));return ngt(t,e,o),o}function ROt(t,e,n){var i,r,o;for(i=1;i<t.c.length;i++){for(u1(i,t.c.length),o=jV(t.c[i],10),r=i;r>0&&e.ue((u1(r-1,t.c.length),jV(t.c[r-1],10)),o)>0;)i4(t,r,(u1(r-1,t.c.length),jV(t.c[r-1],10))),--r;u1(r,t.c.length),t.c[r]=o}n.a=new Db,n.b=new Db}function BOt(t,e,n){var i,r,o,s,a,c,l;for(l=new YF(i=jV(e.e&&e.e(),9),jV(EB(i,i.length),9),0),s=0,a=(o=vFt(n,"[\\[\\]\\s,]+")).length;s<a;++s)if(0!=RTt(r=o[s]).length){if(null==(c=VIt(t,r)))return null;art(l,jV(c,22))}return l}function FOt(t){var e,n,r;for(n=new Wf(t.a.a.b);n.a<n.c.c.length;)e=jV(Q1(n),81),yK(0),(r=0)>0&&((!fP(t.a.c)||!e.n.d)&&(!gP(t.a.c)||!e.n.b)&&(e.g.d-=i.Math.max(0,r/2-.5)),(!fP(t.a.c)||!e.n.a)&&(!gP(t.a.c)||!e.n.c)&&(e.g.a+=i.Math.max(0,r-1)))}function jOt(t,e,n){var i;if(2==(t.c-t.b&t.a.length-1))e==(vWt(),aIe)||e==sIe?(_et(jV(kct(t),15),(Wvt(),vSe)),_et(jV(kct(t),15),_Se)):(_et(jV(kct(t),15),(Wvt(),_Se)),_et(jV(kct(t),15),vSe));else for(i=new hY(t);i.a!=i.b;)_et(jV(Fut(i),15),n)}function $Ot(t,e){var n,i,r,o,s,a;for(s=new x2(i=$V(new ab(t)),i.c.length),a=new x2(r=$V(new ab(e)),r.c.length),o=null;s.b>0&&a.b>0&&(TL(s.b>0),n=jV(s.a.Xb(s.c=--s.b),33),TL(a.b>0),n==jV(a.a.Xb(a.c=--a.b),33));)o=n;return o}function VOt(t,e){var n,r,o,s;return o=t.a*oZt+1502*t.b,s=t.b*oZt+11,o+=n=i.Math.floor(s*sZt),s-=n*aZt,o%=aZt,t.a=o,t.b=s,e<=24?i.Math.floor(t.a*Sne[e]):((r=t.a*(1<<e-24)+i.Math.floor(t.b*Ine[e]))>=2147483648&&(r-=WXt),r)}function zOt(t,e,n){var i,r,o,s;d0(t,e)>d0(t,n)?(i=oft(n,(vWt(),sIe)),t.d=i.dc()?0:oH(jV(i.Xb(0),11)),s=oft(e,CIe),t.b=s.dc()?0:oH(jV(s.Xb(0),11))):(r=oft(n,(vWt(),CIe)),t.d=r.dc()?0:oH(jV(r.Xb(0),11)),o=oft(e,sIe),t.b=o.dc()?0:oH(jV(o.Xb(0),11)))}function HOt(t){var e,n,i,r,o,s,a;if(t&&(e=t.Hh(K8t))&&null!=(s=ER(rpt((!e.b&&(e.b=new XL((pKt(),wOe),UOe,e)),e.b),"conversionDelegates")))){for(a=new Ob,r=0,o=(i=vFt(s,"\\w+")).length;r<o;++r)n=i[r],a.c[a.c.length]=n;return a}return EX(),EX(),cne}function UOt(t,e){var n,i,r,o;for(n=t.o.a,o=jV(jV(c6(t.r,e),21),84).Kc();o.Ob();)(r=jV(o.Pb(),111)).e.a=n*zv(xR(r.b.We(Pre))),r.e.b=(i=r.b).Xe((cKt(),rAe))?i.Hf()==(vWt(),aIe)?-i.rf().b-zv(xR(i.We(rAe))):zv(xR(i.We(rAe))):i.Hf()==(vWt(),aIe)?-i.rf().b:0}function qOt(t){var e,n,i,r,o,s,a,c;e=!0,r=null,o=null;t:for(c=new Wf(t.a);c.a<c.c.c.length;)for(i=new sq(ZD(uft(a=jV(Q1(c),10)).a.Kc(),new u));gPt(i);){if(n=jV(U4(i),17),r&&r!=a){e=!1;break t}if(r=a,s=n.c.i,o&&o!=s){e=!1;break t}o=s}return e}function WOt(t,e,n){var i,r,o,s,a,c;for(o=-1,a=-1,s=0;s<e.c.length&&(u1(s,e.c.length),!((r=jV(e.c[s],329)).c>t.c));s++)r.a>=t.s&&(o<0&&(o=s),a=s);return c=(t.s+t.c)/2,o>=0&&(c=VT((u1(i=XBt(t,e,o,a),e.c.length),jV(e.c[i],329))),hMt(e,i,n)),c}function GOt(){GOt=M,uxe=new qP((cKt(),iCe),1.3),gxe=vCe,Axe=new WP(15),Cxe=new qP(qCe,Axe),Mxe=new qP(PAe,15),hxe=cCe,vxe=RCe,_xe=jCe,kxe=VCe,yxe=NCe,xxe=UCe,Sxe=lAe,PPt(),Txe=sxe,wxe=rxe,Exe=oxe,Ixe=cxe,pxe=ixe,mxe=CCe,bxe=ACe,fxe=nxe,dxe=exe,Pxe=lxe}function KOt(t,e,n){var i,r,o,s,a;for($it(r=new kc,(yK(e),e)),!r.b&&(r.b=new XL((pKt(),wOe),UOe,r)),a=r.b,s=1;s<n.length;s+=2)bkt(a,n[s-1],n[s]);for(!t.Ab&&(t.Ab=new tW(LPe,t,0,3)),i=t.Ab,o=0;o<0;++o)i=bK(jV(Get(i,i.i-1),590));l8(i,r)}function YOt(t,e,n){var i,r,o;for(PR.call(this,new Ob),this.a=e,this.b=n,this.e=t,t.b&&KVt(t),i=t.a,this.d=XY(i.a,this.a),this.c=XY(i.b,this.b),aft(this,this.d,this.c),wIt(this),o=this.e.e.a.ec().Kc();o.Ob();)(r=jV(o.Pb(),266)).c.c.length>0&&NHt(this,r)}function XOt(t,e,n,i,r,o){var s,a,c;if(!r[e.b]){for(r[e.b]=!0,!(s=i)&&(s=new w6),WV(s.e,e),c=o[e.b].Kc();c.Ob();)(a=jV(c.Pb(),282)).d!=n&&a.c!=n&&(a.c!=e&&XOt(t,a.c,e,s,r,o),a.d!=e&&XOt(t,a.d,e,s,r,o),WV(s.c,a),pat(s.d,a.b));return s}return null}function ZOt(t){var e,n,i;for(e=0,n=new Wf(t.e);n.a<n.c.c.length;)s4(new LH(null,new d1(jV(Q1(n),17).b,16)),new bn)&&++e;for(i=new Wf(t.g);i.a<i.c.c.length;)s4(new LH(null,new d1(jV(Q1(i),17).b,16)),new wn)&&++e;return e>=2}function QOt(t,e){var n,i,r,o;for(IEt(e,"Self-Loop pre-processing",1),i=new Wf(t.a);i.a<i.c.c.length;)Bft(n=jV(Q1(i),10))&&(o=new Imt(n),lct(n,(lKt(),Sde),o),vjt(o),XE(MY(dtt(new LH(null,new d1((r=o).d,16)),new zi),new Hi),new Ui),nLt(r));VCt(e)}function JOt(t,e,n,i,r){var o,s,a,c,l;for(o=t.c.d.j,s=jV(Lbt(n,0),8),l=1;l<n.b;l++)c=jV(Lbt(n,l),8),n4(i,s,i.c.b,i.c),a=yD(UB(new dP(s),c),.5),UB(a,yD(new qJ(llt(o)),r)),n4(i,a,i.c.b,i.c),s=c,o=0==e?Edt(o):kdt(o);Nz(i,(TL(0!=n.b),jV(n.c.b.c,8)))}function tDt(t){return JPt(),!(Ast(SQ(_U(MSe,Cat(z_(zSe,1),PYt,93,0,[PSe])),t))>1||Ast(SQ(_U(ASe,Cat(z_(zSe,1),PYt,93,0,[CSe,ISe])),t))>1||Ast(SQ(_U(NSe,Cat(z_(zSe,1),PYt,93,0,[DSe,OSe])),t))>1)}function eDt(t,e){var n,i,r;return(n=e.Hh(t.a))&&null!=(r=ER(rpt((!n.b&&(n.b=new XL((pKt(),wOe),UOe,n)),n.b),"affiliation")))?-1==(i=bN(r,XEt(35)))?sdt(t,rq(t,qet(e.Hj())),r):0==i?sdt(t,null,r.substr(1)):sdt(t,r.substr(0,i),r.substr(i+1)):null}function nDt(t){var e,n;try{return null==t?UKt:$ft(t)}catch(i){if(iD(i=hat(i),102))return e=i,n=Qk(tlt(t))+"@"+(ME(),(ewt(t)>>>0).toString(16)),Bmt(_at(),(uT(),"Exception during lenientFormat for "+n),e),"<"+n+" threw "+Qk(e.gm)+">";throw $b(i)}}function iDt(t){switch(t.g){case 0:return new oh;case 1:return new th;case 2:return new MT;case 3:return new Mo;case 4:return new LB;case 5:return new sh;default:throw $b(new Bv("No implementation is available for the layerer "+(null!=t.f?t.f:""+t.g)))}}function rDt(t,e,n){var i,r,o;for(o=new Wf(t.t);o.a<o.c.c.length;)(i=jV(Q1(o),268)).b.s<0&&i.c>0&&(i.b.n-=i.c,i.b.n<=0&&i.b.u>0&&Nz(e,i.b));for(r=new Wf(t.i);r.a<r.c.c.length;)(i=jV(Q1(r),268)).a.s<0&&i.c>0&&(i.a.u-=i.c,i.a.u<=0&&i.a.n>0&&Nz(n,i.a))}function oDt(t){var e,n,i;if(null==t.g&&(t.d=t.si(t.f),l8(t,t.d),t.c))return t.f;if(i=(e=jV(t.g[t.i-1],47)).Pb(),t.e=e,(n=t.si(i)).Ob())t.d=n,l8(t,n);else for(t.d=null;!e.Ob()&&(MG(t.g,--t.i,null),0!=t.i);)e=jV(t.g[t.i-1],47);return i}function sDt(t,e){var n,i,r,o,s,a;if(r=(i=e).ak(),PLt(t.e,r)){if(r.hi()&&z3(t,r,i.dd()))return!1}else for(a=oLt(t.e.Tg(),r),n=jV(t.g,119),o=0;o<t.i;++o)if(s=n[o],a.rl(s.ak()))return!Dht(s,i)&&(jV(awt(t,o,e),72),!0);return l8(t,e)}function aDt(t,e,n,r){var o,s,a;for(Fd(o=new Pwt(t),(sCt(),Eae)),lct(o,(lKt(),fde),e),lct(o,Tde,r),lct(o,(VGt(),tbe),(Yxt(),qSe)),lct(o,cde,e.c),lct(o,lde,e.d),ULt(e,o),a=i.Math.floor(n/2),s=new Wf(o.j);s.a<s.c.c.length;)jV(Q1(s),11).n.b=a;return o}function cDt(t,e){var n,i,r,o,s,a,c,l,u;for(c=aL(t.c-t.b&t.a.length-1),l=null,u=null,o=new hY(t);o.a!=o.b;)r=jV(Fut(o),10),n=(a=jV(wTt(r,(lKt(),cde)),11))?a.i:null,i=(s=jV(wTt(r,lde),11))?s.i:null,l==n&&u==i||(HPt(c,e),l=n,u=i),c.c[c.c.length]=r;HPt(c,e)}function lDt(t){var e,n,r,o,s,a;for(e=0,n=new Wf(t.a);n.a<n.c.c.length;)for(o=new sq(ZD(hft(jV(Q1(n),10)).a.Kc(),new u));gPt(o);)t==(r=jV(U4(o),17)).d.i.c&&r.c.j==(vWt(),CIe)&&(s=g1(r.c).b,a=g1(r.d).b,e=i.Math.max(e,i.Math.abs(a-s)));return e}function uDt(t,e,n){var i,r;IEt(n,"Remove overlaps",1),n.n&&e&&w0(n,s2(e),($lt(),oMe)),i=jV(QPt(e,(dR(),G_e)),33),t.f=i,t.a=kwt(jV(QPt(e,(qvt(),Lke)),293)),tf(t,(yK(r=xR(QPt(e,(cKt(),PAe)))),r)),Wqt(t,e,fRt(i),n),n.n&&e&&w0(n,s2(e),($lt(),oMe))}function hDt(t,e,n){switch(n.g){case 1:return new DS(e.a,i.Math.min(t.d.b,e.b));case 2:return new DS(i.Math.max(t.c.a,e.a),e.b);case 3:return new DS(e.a,i.Math.max(t.c.b,e.b));case 4:return new DS(i.Math.min(e.a,t.d.a),e.b)}return new DS(e.a,e.b)}function dDt(t,e,n,i){var r,o,s,a,c,l,u,h,d;for(h=i?(vWt(),CIe):(vWt(),sIe),r=!1,l=0,u=(c=e[n]).length;l<u;++l)PF(jV(wTt(a=c[l],(VGt(),tbe)),98))||(s=a.e,(d=!oft(a,h).dc()&&!!s)&&(o=zxt(s),t.b=new Uxt(o,i?0:o.length-1)),r|=rjt(t,a,h,d));return r}function fDt(t){var e,n,i;for(WV(e=aL(1+(!t.c&&(t.c=new tW(UMe,t,9,9)),t.c).i),(!t.d&&(t.d=new cF(RMe,t,8,5)),t.d)),i=new ID((!t.c&&(t.c=new tW(UMe,t,9,9)),t.c));i.e!=i.i.gc();)WV(e,(!(n=jV(vbt(i),118)).d&&(n.d=new cF(RMe,n,8,5)),n.d));return wG(e),new SM(e)}function gDt(t){var e,n,i;for(WV(e=aL(1+(!t.c&&(t.c=new tW(UMe,t,9,9)),t.c).i),(!t.e&&(t.e=new cF(RMe,t,7,4)),t.e)),i=new ID((!t.c&&(t.c=new tW(UMe,t,9,9)),t.c));i.e!=i.i.gc();)WV(e,(!(n=jV(vbt(i),118)).e&&(n.e=new cF(RMe,n,7,4)),n.e));return wG(e),new SM(e)}function pDt(t){var e,n,i,r;if(null==t)return null;if(i=jVt(t,!0),r=N9t.length,bF(i.substr(i.length-r,r),N9t))if(4==(n=i.length)){if(h1(0,i.length),43==(e=i.charCodeAt(0)))return jDe;if(45==e)return FDe}else if(3==n)return jDe;return dCt(i)}function mDt(t){var e,n,i,r;for(e=0,n=0,r=new Wf(t.j);r.a<r.c.c.length;)if(e=fU(ift(e,V6(IY(new LH(null,new d1((i=jV(Q1(r),11)).e,16)),new Qo)))),n=fU(ift(n,V6(IY(new LH(null,new d1(i.g,16)),new Jo)))),e>1||n>1)return 2;return e+n==1?2:0}function bDt(t,e,n){var i,r,o,s;for(IEt(n,"ELK Force",1),Vv(kR(QPt(e,(uBt(),Woe))))||vQ(new kg((zT(),new Nv(e)))),v_t(s=uct(e)),Uct(t,jV(wTt(s,zoe),424)),r=(o=V$t(t.a,s)).Kc();r.Ob();)i=jV(r.Pb(),231),CFt(t.b,i,wot(n,1/o.gc()));TWt(s=HWt(o)),VCt(n)}function wDt(t,e){var n,i,r;if(IEt(e,"Breaking Point Processor",1),Iqt(t),Vv(kR(wTt(t,(VGt(),zbe))))){for(i=new Wf(t.b);i.a<i.c.c.length;)for(n=0,r=new Wf(jV(Q1(i),29).a);r.a<r.c.c.length;)jV(Q1(r),10).p=n++;azt(t),VLt(t,!0),VLt(t,!1)}VCt(e)}function yDt(t,e,n){var i,r,o,s,a;for(s=t.c,o=(n.q?n.q:(EX(),EX(),lne)).vc().Kc();o.Ob();)r=jV(o.Pb(),42),!vx(IY(new LH(null,new d1(s,16)),new rg(new PS(e,r)))).sd((fT(),Jne))&&(iD(a=r.dd(),4)&&null!=(i=Zpt(a))&&(a=i),e.Ye(jV(r.cd(),146),a))}function vDt(t,e){var n,i,r,o;if(e){for(o=!(r=iD(t.Cb,88)||iD(t.Cb,99))&&iD(t.Cb,322),n=new ID((!e.a&&(e.a=new rU(e,WPe,e)),e.a));n.e!=n.i.gc();)if(i=h$t(jV(vbt(n),87)),r?iD(i,88):o?iD(i,148):i)return i;return r?(pKt(),dOe):(pKt(),lOe)}return null}function _Dt(t,e){var n,i,r,o,s;for(IEt(e,"Constraints Postprocessor",1),o=0,r=new Wf(t.b);r.a<r.c.c.length;){for(s=0,i=new Wf(jV(Q1(r),29).a);i.a<i.c.c.length;)(n=jV(Q1(i),10)).k==(sCt(),Cae)&&(lct(n,(VGt(),vme),ndt(o)),lct(n,jpe,ndt(s)),++s);++o}VCt(e)}function kDt(t,e,n,i){var r,o,s,a,c,l;for(qB(a=new DS(n,i),jV(wTt(e,(zHt(),Qve)),8)),l=cbt(e.b,0);l.b!=l.d.c;)UB((c=jV(h3(l),86)).e,a),Nz(t.b,c);for(s=cbt(e.a,0);s.b!=s.d.c;){for(r=cbt((o=jV(h3(s),188)).a,0);r.b!=r.d.c;)UB(jV(h3(r),8),a);Nz(t.a,o)}}function xDt(t,e,n){var i,r,o;if(!(o=jHt((SAt(),XOe),t.Tg(),e)))throw $b(new Bv(i6t+e.ne()+r6t));if(ZT(),!jV(o,66).Oj()&&!(o=Z1(j9(XOe,o))))throw $b(new Bv(i6t+e.ne()+r6t));r=jV((i=t.Yg(o))>=0?t._g(i,!0,!0):rMt(t,o,!0),153),jV(r,215).ml(e,n)}function EDt(t,e){var n,i,r,o,s;for(n=new Ob,r=dtt(new LH(null,new d1(t,16)),new Es),o=dtt(new LH(null,new d1(t,16)),new Ts),s=x9($6(PY(TNt(Cat(z_(tie,1),VKt,833,0,[r,o])),new Cs))),i=1;i<s.length;i++)s[i]-s[i-1]>=2*e&&WV(n,new yV(s[i-1]+e,s[i]-e));return n}function TDt(t,e,n){IEt(n,"Eades radial",1),n.n&&e&&w0(n,s2(e),($lt(),oMe)),t.d=jV(QPt(e,(dR(),G_e)),33),t.c=zv(xR(QPt(e,(qvt(),Nke)))),t.e=kwt(jV(QPt(e,Lke),293)),t.a=hgt(jV(QPt(e,Bke),426)),t.b=zkt(jV(QPt(e,Mke),340)),ikt(t),n.n&&e&&w0(n,s2(e),($lt(),oMe))}function CDt(t,e,n){var i,r,o,s,a;if(n)for(o=((i=new cq(n.a.length)).b-i.a)*i.c<0?(tC(),kNe):new qD(i);o.Ob();)(r=D2(n,jV(o.Pb(),19).a))&&(Pit(s=M3(t,(Jk(),a=new _y,!!e&&$Dt(a,e),a),r),L2(r,z6t)),TEt(r,s),ISt(r,s),Nct(t,r,s))}function ADt(t){var e,n,i,r;if(!t.j){if(r=new Ic,null==(e=EOe).a.zc(t,e)){for(i=new ID(yZ(t));i.e!=i.i.gc();)pG(r,ADt(n=jV(vbt(i),26))),l8(r,n);e.a.Bc(t)}rut(r),t.j=new OM((jV(Get(KX((KG(),QPe).o),11),18),r.i),r.g),T4(t).b&=-33}return t.j}function SDt(t){var e,n,i,r;if(null==t)return null;if(i=jVt(t,!0),r=N9t.length,bF(i.substr(i.length-r,r),N9t))if(4==(n=i.length)){if(h1(0,i.length),43==(e=i.charCodeAt(0)))return VDe;if(45==e)return $De}else if(3==n)return VDe;return new Nw(i)}function IDt(t){var e,n,i;return(n=t.l)&n-1||(i=t.m)&i-1||(e=t.h)&e-1||0==e&&0==i&&0==n?-1:0==e&&0==i&&0!=n?pit(n):0==e&&0!=i&&0==n?pit(i)+22:0!=e&&0==i&&0==n?pit(e)+44:-1}function MDt(t,e){var n,i,r,o;for(IEt(e,"Edge joining",1),n=Vv(kR(wTt(t,(VGt(),Nbe)))),i=new Wf(t.b);i.a<i.c.c.length;)for(o=new x2(jV(Q1(i),29).a,0);o.b<o.d.gc();)TL(o.b<o.d.gc()),(r=jV(o.d.Xb(o.c=o.b++),10)).k==(sCt(),Tae)&&(iUt(r,n),lK(o));VCt(e)}function PDt(t,e,n){var i;if(c2(t.b),CW(t.b,(Cft(),$xe),(ST(),zEe)),CW(t.b,Vxe,e.g),CW(t.b,zxe,e.a),t.a=PHt(t.b,e),IEt(n,"Compaction by shrinking a tree",t.a.c.length),e.i.c.length>1)for(i=new Wf(t.a);i.a<i.c.c.length;)jV(Q1(i),51).pf(e,wot(n,1));VCt(n)}function ODt(t,e){var n,i,r,o,s;for(r=e.a&t.f,o=null,i=t.b[r];;i=i.b){if(i==e){o?o.b=e.b:t.b[r]=e.b;break}o=i}for(s=e.f&t.f,o=null,n=t.c[s];;n=n.d){if(n==e){o?o.d=e.d:t.c[s]=e.d;break}o=n}e.e?e.e.c=e.c:t.a=e.c,e.c?e.c.e=e.e:t.e=e.e,--t.i,++t.g}function DDt(t){var e,n,r,o,s,a,c,l,u,h;for(n=t.o,e=t.p,a=LKt,o=FYt,c=LKt,s=FYt,u=0;u<n;++u)for(h=0;h<e;++h)byt(t,u,h)&&(a=i.Math.min(a,u),o=i.Math.max(o,u),c=i.Math.min(c,h),s=i.Math.max(s,h));return l=o-a+1,r=s-c+1,new GY(ndt(a),ndt(c),ndt(l),ndt(r))}function NDt(t,e){var n,i,r,o;for(TL((o=new x2(t,0)).b<o.d.gc()),n=jV(o.d.Xb(o.c=o.b++),140);o.b<o.d.gc();)TL(o.b<o.d.gc()),r=new bz((i=jV(o.d.Xb(o.c=o.b++),140)).c,n.d,e),TL(o.b>0),o.a.Xb(o.c=--o.b),wB(o,r),TL(o.b<o.d.gc()),o.d.Xb(o.c=o.b++),r.a=!1,n=i}function LDt(t){var e,n,i,r,o;for(i=jV(wTt(t,(lKt(),Rhe)),11),o=new Wf(t.j);o.a<o.c.c.length;){for(n=new Wf((r=jV(Q1(o),11)).g);n.a<n.c.c.length;)return xJ(jV(Q1(n),17),i),r;for(e=new Wf(r.e);e.a<e.c.c.length;)return EJ(jV(Q1(e),17),i),r}return null}function RDt(t,e,n){var r,o;Kut(r=ust(n.q.getTime()),0)<0?(o=KYt-fU(hpt(v9(r),KYt)))==KYt&&(o=0):o=fU(hpt(r,KYt)),1==e?DG(t,48+(o=i.Math.min((o+50)/100|0,9))&YYt):2==e?_tt(t,o=i.Math.min((o+5)/10|0,99),2):(_tt(t,o,3),e>3&&_tt(t,0,e-3))}function BDt(t){var e,n,i,r;return zI(wTt(t,(VGt(),ame)))===zI((sht(),pSe))?!t.e&&zI(wTt(t,Lpe))!==zI((Bst(),yhe)):(i=jV(wTt(t,Rpe),292),r=Vv(kR(wTt(t,$pe)))||zI(wTt(t,Vpe))===zI((Iit(),aue)),e=jV(wTt(t,Npe),19).a,n=t.a.c.length,!r&&i!=(Bst(),yhe)&&(0==e||e>n))}function FDt(t){var e,n;for(n=0;n<t.c.length&&!(aH((u1(n,t.c.length),jV(t.c[n],113)))>0);n++);if(n>0&&n<t.c.length-1)return n;for(e=0;e<t.c.length&&!(aH((u1(e,t.c.length),jV(t.c[e],113)))>0);e++);return e>0&&n<t.c.length-1?e:t.c.length/2|0}function jDt(t,e){var n,i;if(e!=t.Cb||t.Db>>16!=6&&e){if(b_t(t,e))throw $b(new Bv(f6t+RMt(t)));i=null,t.Cb&&(i=(n=t.Db>>16)>=0?c_t(t,i):t.Cb.ih(t,-1-n,null,i)),e&&(i=Dbt(e,t,6,i)),(i=KR(t,e,i))&&i.Fi()}else 4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,6,e,e))}function $Dt(t,e){var n,i;if(e!=t.Cb||t.Db>>16!=9&&e){if(b_t(t,e))throw $b(new Bv(f6t+qBt(t)));i=null,t.Cb&&(i=(n=t.Db>>16)>=0?u_t(t,i):t.Cb.ih(t,-1-n,null,i)),e&&(i=Dbt(e,t,9,i)),(i=YR(t,e,i))&&i.Fi()}else 4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,9,e,e))}function VDt(t,e){var n,i;if(e!=t.Cb||t.Db>>16!=3&&e){if(b_t(t,e))throw $b(new Bv(f6t+hzt(t)));i=null,t.Cb&&(i=(n=t.Db>>16)>=0?E_t(t,i):t.Cb.ih(t,-1-n,null,i)),e&&(i=Dbt(e,t,12,i)),(i=GR(t,e,i))&&i.Fi()}else 4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,3,e,e))}function zDt(t){var e,n,i,r,o;if(i=S_t(t),null==(o=t.j)&&i)return t.$j()?null:i.zj();if(iD(i,148)){if((n=i.Aj())&&(r=n.Nh())!=t.i){if((e=jV(i,148)).Ej())try{t.g=r.Kh(e,o)}catch(e){if(!iD(e=hat(e),78))throw $b(e);t.g=null}t.i=r}return t.g}return null}function HDt(t){var e;return WV(e=new Ob,new DC(new DS(t.c,t.d),new DS(t.c+t.b,t.d))),WV(e,new DC(new DS(t.c,t.d),new DS(t.c,t.d+t.a))),WV(e,new DC(new DS(t.c+t.b,t.d+t.a),new DS(t.c+t.b,t.d))),WV(e,new DC(new DS(t.c+t.b,t.d+t.a),new DS(t.c,t.d+t.a))),e}function UDt(t,e,n,i){var r,o,s;if(s=Mkt(e,n),i.c[i.c.length]=e,-1==t.j[s.p]||2==t.j[s.p]||t.a[e.p])return i;for(t.j[s.p]=-1,o=new sq(ZD(lft(s).a.Kc(),new u));gPt(o);)if(!h4(r=jV(U4(o),17))&&(h4(r)||r.c.i.c!=r.d.i.c)&&r!=e)return UDt(t,r,s,i);return i}function qDt(t,e,n){var i,r;for(r=e.a.ec().Kc();r.Ob();)i=jV(r.Pb(),79),!jV(LG(t.b,i),266)&&(XQ(CTt(i))==XQ(ITt(i))?tRt(t,i,n):CTt(i)==XQ(ITt(i))?null==LG(t.c,i)&&null!=LG(t.b,ITt(i))&&iqt(t,i,n,!1):null==LG(t.d,i)&&null!=LG(t.b,CTt(i))&&iqt(t,i,n,!0))}function WDt(t,e){var n,i,r,o,s,a,c;for(r=t.Kc();r.Ob();)for(i=jV(r.Pb(),10),CJ(a=new ACt,i),zSt(a,(vWt(),sIe)),lct(a,(lKt(),vde),(cN(),!0)),s=e.Kc();s.Ob();)o=jV(s.Pb(),10),CJ(c=new ACt,o),zSt(c,CIe),lct(c,vde,!0),lct(n=new dZ,vde,!0),EJ(n,a),xJ(n,c)}function GDt(t,e,n,i){var r,o,s,a;r=Mpt(t,e,n),o=Mpt(t,n,e),s=jV(LG(t.c,e),112),a=jV(LG(t.c,n),112),r<o?new HJ((S6(),xve),s,a,o-r):o<r?new HJ((S6(),xve),a,s,r-o):(0!=r||e.i&&n.i&&i[e.i.c][n.i.c])&&(new HJ((S6(),xve),s,a,0),new HJ(xve,a,s,0))}function KDt(t,e){var n,i,r,o,s,a;for(r=0,s=new Wf(e.a);s.a<s.c.c.length;)for(r+=(o=jV(Q1(s),10)).o.b+o.d.a+o.d.d+t.e,i=new sq(ZD(uft(o).a.Kc(),new u));gPt(i);)(n=jV(U4(i),17)).c.i.k==(sCt(),Aae)&&(r+=(a=jV(wTt(n.c.i,(lKt(),fde)),10)).o.b+a.d.a+a.d.d);return r}function YDt(t,e,n){var i,r,o,s,a,c,l;for(o=new Ob,IVt(t,l=new YE,s=new YE,e),kqt(t,l,s,e,n),c=new Wf(t);c.a<c.c.c.length;)for(r=new Wf((a=jV(Q1(c),112)).k);r.a<r.c.c.length;)i=jV(Q1(r),129),(!e||i.c==(S6(),kve))&&a.g>i.b.g&&(o.c[o.c.length]=i);return o}function XDt(){XDt=M,Nxe=new vS("CANDIDATE_POSITION_LAST_PLACED_RIGHT",0),Dxe=new vS("CANDIDATE_POSITION_LAST_PLACED_BELOW",1),Rxe=new vS("CANDIDATE_POSITION_WHOLE_DRAWING_RIGHT",2),Lxe=new vS("CANDIDATE_POSITION_WHOLE_DRAWING_BELOW",3),Bxe=new vS("WHOLE_DRAWING",4)}function ZDt(t,e){if(iD(e,239))return ldt(t,jV(e,33));if(iD(e,186))return Ldt(t,jV(e,118));if(iD(e,354))return JY(t,jV(e,137));if(iD(e,352))return Z$t(t,jV(e,79));if(e)return null;throw $b(new Bv(U6t+OTt(new Xv(Cat(z_(Mte,1),VKt,1,5,[e])))))}function QDt(t){var e,n,i,r,o,s,a;for(o=new YE,r=new Wf(t.d.a);r.a<r.c.c.length;)0==(i=jV(Q1(r),121)).b.a.c.length&&n4(o,i,o.c.b,o.c);if(o.b>1)for(e=IN((n=new Vw,++t.b,n),t.d),a=cbt(o,0);a.b!=a.d.c;)s=jV(h3(a),121),qNt(rT(iT(oT(nT(new $w,1),0),e),s))}function JDt(t,e){var n,i;if(e!=t.Cb||t.Db>>16!=11&&e){if(b_t(t,e))throw $b(new Bv(f6t+UBt(t)));i=null,t.Cb&&(i=(n=t.Db>>16)>=0?T_t(t,i):t.Cb.ih(t,-1-n,null,i)),e&&(i=Dbt(e,t,10,i)),(i=HB(t,e,i))&&i.Fi()}else 4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,11,e,e))}function tNt(t){var e,n,i,r;for(i=new slt(new Tf(t.b).a);i.b;)r=jV((n=tnt(i)).cd(),11),lct(e=jV(n.dd(),10),(lKt(),fde),r),lct(r,_de,e),lct(r,tde,(cN(),!0)),zSt(r,jV(wTt(e,Khe),61)),wTt(e,Khe),lct(r.i,(VGt(),tbe),(Yxt(),GSe)),jV(wTt(mK(r.i),Zhe),21).Fc((dRt(),fhe))}function eNt(t,e,n){var i,r,o;if(i=0,r=0,t.c)for(o=new Wf(t.d.i.j);o.a<o.c.c.length;)i+=jV(Q1(o),11).e.c.length;else i=1;if(t.d)for(o=new Wf(t.c.i.j);o.a<o.c.c.length;)r+=jV(Q1(o),11).g.c.length;else r=1;return(n+e)/2+.4*CQ($z(r-i))*(n-e)}function nNt(t){var e,n;if(Oxt(),t.Hc((vWt(),TIe)))throw $b(new Bv("Port sides must not contain UNDEFINED"));switch(t.gc()){case 1:return xle;case 2:return e=t.Hc(sIe)&&t.Hc(CIe),n=t.Hc(aIe)&&t.Hc(EIe),e||n?Cle:Tle;case 3:return Ele;case 4:return kle;default:return null}}function iNt(t,e,n){var i,r,o,s;for(IEt(n,"Breaking Point Removing",1),t.a=jV(wTt(e,(VGt(),Zpe)),218),r=new Wf(e.b);r.a<r.c.c.length;)for(s=new Wf(r0(jV(Q1(r),29).a));s.a<s.c.c.length;)Xtt(o=jV(Q1(s),10))&&!(i=jV(wTt(o,(lKt(),Lhe)),305)).d&&UWt(t,i);VCt(n)}function rNt(t,e,n){return _Rt(),(!Lot(t,e)||!Lot(t,n))&&(wqt(new DS(t.c,t.d),new DS(t.c+t.b,t.d),e,n)||wqt(new DS(t.c+t.b,t.d),new DS(t.c+t.b,t.d+t.a),e,n)||wqt(new DS(t.c+t.b,t.d+t.a),new DS(t.c,t.d+t.a),e,n)||wqt(new DS(t.c,t.d+t.a),new DS(t.c,t.d),e,n))}function oNt(t,e){var n,i,r,o;if(!t.dc())for(n=0,i=t.gc();n<i;++n)if(null==(o=ER(t.Xb(n)))?null==e:bF(o.substr(0,3),"!##")?null!=e&&(r=e.length,!bF(o.substr(o.length-r,r),e)||o.length!=e.length+3)&&!bF(T9t,e):bF(o,C9t)&&!bF(T9t,e)||bF(o,e))return!0;return!1}function sNt(t,e,n,i){var r,o,s,a,c,l;for(s=t.j.c.length,c=D7(rre,iQt,306,s,0,1),a=0;a<s;a++)(o=jV(DH(t.j,a),11)).p=a,c[a]=lMt(wPt(o),n,i);for(KNt(t,c,n,e,i),l=new Db,r=0;r<c.length;r++)c[r]&&GK(l,jV(DH(t.j,r),11),c[r]);l.f.c+l.g.c!=0&&(lct(t,(lKt(),Hhe),l),MCt(t,c))}function aNt(t,e,n){var i,r;for(i=new Wf(t.a.b);i.a<i.c.c.length;)if((r=l2(jV(Q1(i),57)))&&r.k==(sCt(),xae))switch(jV(wTt(r,(lKt(),Khe)),61).g){case 4:r.n.a=e.a;break;case 2:r.n.a=n.a-(r.o.a+r.d.c);break;case 1:r.n.b=e.b;break;case 3:r.n.b=n.b-(r.o.b+r.d.a)}}function cNt(){cNt=M,Awe=new $A(YJt,0),kwe=new $A("NIKOLOV",1),Twe=new $A("NIKOLOV_PIXEL",2),xwe=new $A("NIKOLOV_IMPROVED",3),Ewe=new $A("NIKOLOV_IMPROVED_PIXEL",4),_we=new $A("DUMMYNODE_PERCENTAGE",5),Cwe=new $A("NODECOUNT_PERCENTAGE",6),Swe=new $A("NO_BOUNDARY",7)}function lNt(t,e,n){var i,r,o;if(!(r=jV(QPt(e,(TTt(),UTe)),19))&&(r=ndt(0)),!(o=jV(QPt(n,UTe),19))&&(o=ndt(0)),r.a>o.a)return-1;if(r.a<o.a)return 1;if(t.a){if(0!=(i=Cdt(e.j,n.j)))return i;if(0!=(i=Cdt(e.i,n.i)))return i}return Cdt(e.g*e.f,n.g*n.f)}function uNt(t,e){var n,i,r,o,s,a,c,l,u,h;if(++t.e,e>(c=null==t.d?0:t.d.length)){for(u=t.d,t.d=D7(aPe,r8t,63,2*c+4,0,1),o=0;o<c;++o)if(l=u[o])for(i=l.g,h=l.i,a=0;a<h;++a)s=tB(t,(r=jV(i[a],133)).Sh()),!(n=t.d[s])&&(n=t.d[s]=t.uj()),n.Fc(r);return!0}return!1}function hNt(t,e,n){var i,r,o,s,a,c;if(o=(r=n).ak(),PLt(t.e,o)){if(o.hi())for(i=jV(t.g,119),s=0;s<t.i;++s)if(Dht(a=i[s],r)&&s!=e)throw $b(new Bv(o7t))}else for(c=oLt(t.e.Tg(),o),i=jV(t.g,119),s=0;s<t.i;++s)if(a=i[s],c.rl(a.ak()))throw $b(new Bv(S9t));cdt(t,e,n)}function dNt(t,e){var n,i,r,o,s,a;for(n=jV(wTt(e,(lKt(),qhe)),21),s=jV(c6((RGt(),lae),n),21),a=jV(c6(pae,n),21),o=s.Kc();o.Ob();)if(i=jV(o.Pb(),21),!jV(c6(t.b,i),15).dc())return!1;for(r=a.Kc();r.Ob();)if(i=jV(r.Pb(),21),!jV(c6(t.b,i),15).dc())return!1;return!0}function fNt(t,e){var n,i,r;for(IEt(e,"Partition postprocessing",1),n=new Wf(t.b);n.a<n.c.c.length;)for(i=new Wf(jV(Q1(n),29).a);i.a<i.c.c.length;)for(r=new Wf(jV(Q1(i),10).j);r.a<r.c.c.length;)Vv(kR(wTt(jV(Q1(r),11),(lKt(),vde))))&&IW(r);VCt(e)}function gNt(t,e){var n,i,r,o,s,a,c;if(1==t.a.c.length)return jCt(jV(DH(t.a,0),187),e);for(r=rht(t),s=0,a=t.d,i=r,c=t.d,o=(a-i)/2+i;i+1<a;){for(s=0,n=new Wf(t.a);n.a<n.c.c.length;)s+=rzt(jV(Q1(n),187),o,!1).a;s<e?(c=o,a=o):i=o,o=(a-i)/2+i}return c}function pNt(t){var e,n,i,r;return isNaN(t)?(q9(),pee):t<-0x8000000000000000?(q9(),fee):t>=0x8000000000000000?(q9(),dee):(i=!1,t<0&&(i=!0,t=-t),n=0,t>=IXt&&(t-=(n=CQ(t/IXt))*IXt),e=0,t>=SXt&&(t-=(e=CQ(t/SXt))*SXt),r=xO(CQ(t),e,n),i&&Ict(r),r)}function mNt(t,e){var n,i,r,o;for(n=!e||!t.u.Hc((hIt(),tIe)),o=0,r=new Wf(t.e.Cf());r.a<r.c.c.length;){if((i=jV(Q1(r),838)).Hf()==(vWt(),TIe))throw $b(new Bv("Label and node size calculator can only be used with ports that have port sides assigned."));i.vf(o++),Gut(t,i,n)}}function bNt(t,e){var n,i,r,o;return(i=e.Hh(t.a))&&(!i.b&&(i.b=new XL((pKt(),wOe),UOe,i)),null!=(n=ER(rpt(i.b,Z8t)))&&iD(o=-1==(r=n.lastIndexOf("#"))?oR(t,e.Aj(),n):0==r?x8(t,null,n.substr(1)):x8(t,n.substr(0,r),n.substr(r+1)),148))?jV(o,148):null}function wNt(t,e){var n,i,r,o;return(n=e.Hh(t.a))&&(!n.b&&(n.b=new XL((pKt(),wOe),UOe,n)),null!=(r=ER(rpt(n.b,v9t)))&&iD(o=-1==(i=r.lastIndexOf("#"))?oR(t,e.Aj(),r):0==i?x8(t,null,r.substr(1)):x8(t,r.substr(0,i),r.substr(i+1)),148))?jV(o,148):null}function yNt(t){var e,n,i,r,o;for(n=new Wf(t.a.a);n.a<n.c.c.length;){for((e=jV(Q1(n),307)).j=null,o=e.a.a.ec().Kc();o.Ob();)yM((i=jV(o.Pb(),57)).b),(!e.j||i.d.c<e.j.d.c)&&(e.j=i);for(r=e.a.a.ec().Kc();r.Ob();)(i=jV(r.Pb(),57)).b.a=i.d.c-e.j.d.c,i.b.b=i.d.d-e.j.d.d}return t}function vNt(t){var e,n,i,r,o;for(n=new Wf(t.a.a);n.a<n.c.c.length;){for((e=jV(Q1(n),189)).f=null,o=e.a.a.ec().Kc();o.Ob();)yM((i=jV(o.Pb(),81)).e),(!e.f||i.g.c<e.f.g.c)&&(e.f=i);for(r=e.a.a.ec().Kc();r.Ob();)(i=jV(r.Pb(),81)).e.a=i.g.c-e.f.g.c,i.e.b=i.g.d-e.f.g.d}return t}function _Nt(t){var e,n,r;return n=jV(t.a,19).a,r=jV(t.b,19).a,n<(e=i.Math.max(i.Math.abs(n),i.Math.abs(r)))&&r==-e?new nI(ndt(n+1),ndt(r)):n==e&&r<e?new nI(ndt(n),ndt(r+1)):n>=-e&&r==e?new nI(ndt(n-1),ndt(r)):new nI(ndt(n),ndt(r-1))}function kNt(){return hKt(),Cat(z_(ole,1),PYt,77,0,[nce,Jae,ice,yce,Fce,xce,Uce,Sce,Rce,gce,Oce,Ace,Bce,uce,Wce,Gae,Pce,$ce,vce,jce,Kce,Nce,Kae,Lce,Yce,zce,Gce,_ce,ace,kce,wce,qce,Zae,oce,Tce,Xae,Cce,mce,hce,Ice,fce,tce,Qae,bce,dce,Mce,Hce,Yae,Dce,pce,Ece,cce,sce,Vce,rce,lce,ece])}function xNt(t,e,n){t.d=0,t.b=0,e.k==(sCt(),Aae)&&n.k==Aae&&jV(wTt(e,(lKt(),fde)),10)==jV(wTt(n,fde),10)&&(E9(e).j==(vWt(),aIe)?zOt(t,e,n):zOt(t,n,e)),e.k==Aae&&n.k==Tae?E9(e).j==(vWt(),aIe)?t.d=1:t.b=1:n.k==Aae&&e.k==Tae&&(E9(n).j==(vWt(),aIe)?t.b=1:t.d=1),syt(t,e,n)}function ENt(t){var e,n,i,r,o;return o=MEt(t),null!=t.a&&Iz(o,"category",t.a),!Wx(new Cf(t.d))&&(net(o,"knownOptions",i=new Td),e=new tb(i),t4(new Cf(t.d),e)),!Wx(t.g)&&(net(o,"supportedFeatures",r=new Td),n=new eb(r),t4(t.g,n)),o}function TNt(t){var e,n,i,r,o,s,a,c;for(e=336,n=0,r=new aB(t.length),a=0,c=(s=t).length;a<c;++a)Ydt(o=s[a]),_K(o),i=o.a,WV(r.a,wG(i)),e&=i.qd(),n=Xlt(n,i.rd());return jV(jV(qW(new LH(null,zEt(new d1((WG(),Dgt(r.a)),16),new _,e,n)),new vd(t)),670),833)}function CNt(t,e){var n;t.d&&(e.c!=t.e.c||uot(t.e.b,e.b))&&(WV(t.f,t.d),t.a=t.d.c+t.d.b,t.d=null,t.e=null),QM(e.b)?t.c=e:t.b=e,(e.b==(Mat(),Zse)&&!e.a||e.b==Qse&&e.a||e.b==Jse&&e.a||e.b==tae&&!e.a)&&t.c&&t.b&&(n=new UY(t.a,t.c.d,e.c-t.a,t.b.d-t.c.d),t.d=n,t.e=e)}function ANt(t){var e;if(Yy.call(this),this.i=new fa,this.g=t,this.f=jV(t.e&&t.e(),9).length,0==this.f)throw $b(new Bv("There must be at least one phase in the phase enumeration."));this.c=new YF(e=jV(Gk(this.g),9),jV(EB(e,e.length),9),0),this.a=new j2,this.b=new Db}function SNt(t,e){var n,i;if(e!=t.Cb||t.Db>>16!=7&&e){if(b_t(t,e))throw $b(new Bv(f6t+rAt(t)));i=null,t.Cb&&(i=(n=t.Db>>16)>=0?l_t(t,i):t.Cb.ih(t,-1-n,null,i)),e&&(i=jV(e,49).gh(t,1,DMe,i)),(i=GU(t,e,i))&&i.Fi()}else 4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,7,e,e))}function INt(t,e){var n,i;if(e!=t.Cb||t.Db>>16!=3&&e){if(b_t(t,e))throw $b(new Bv(f6t+Kht(t)));i=null,t.Cb&&(i=(n=t.Db>>16)>=0?d_t(t,i):t.Cb.ih(t,-1-n,null,i)),e&&(i=jV(e,49).gh(t,0,FMe,i)),(i=KU(t,e,i))&&i.Fi()}else 4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,3,e,e))}function MNt(t,e){var n,i,r,o,s,a,c,l,u;return PMt(),e.d>t.d&&(a=t,t=e,e=a),e.d<63?WLt(t,e):(l=H4(t,s=(-2&t.d)<<4),u=H4(e,s),i=sVt(t,z4(l,s)),r=sVt(e,z4(u,s)),c=MNt(l,u),n=MNt(i,r),o=z4(o=Pzt(Pzt(o=MNt(sVt(l,i),sVt(r,u)),c),n),s),Pzt(Pzt(c=z4(c,s<<1),o),n))}function PNt(t,e,n){var i,r,o,s,a;for(s=Oht(t,n),a=D7(Sae,o1t,10,e.length,0,1),i=0,o=s.Kc();o.Ob();)Vv(kR(wTt(r=jV(o.Pb(),11),(lKt(),tde))))&&(a[i++]=jV(wTt(r,_de),10));if(i<e.length)throw $b(new Fv("Expected "+e.length+" hierarchical ports, but found only "+i+"."));return a}function ONt(t,e){var n,i,r,o,s,a;if(!t.tb){for(!t.rb&&(t.rb=new Xq(t,jPe,t)),a=new qE((o=t.rb).i),r=new ID(o);r.e!=r.i.gc();)i=jV(vbt(r),138),(n=jV(null==(s=i.ne())?_St(a.f,null,i):sft(a.g,s,i),138))&&(null==s?_St(a.f,null,n):sft(a.g,s,n));t.tb=a}return jV(EQ(t.tb,e),138)}function DNt(t,e){var n,i,r,o,s;if((null==t.i&&z$t(t),t.i).length,!t.p){for(s=new qE(1+(3*t.g.i/2|0)),r=new rL(t.g);r.e!=r.i.gc();)i=jV(_bt(r),170),(n=jV(null==(o=i.ne())?_St(s.f,null,i):sft(s.g,o,i),170))&&(null==o?_St(s.f,null,n):sft(s.g,o,n));t.p=s}return jV(EQ(t.p,e),170)}function NNt(t,e,n,i,r){var o,s,a,c;for(fmt(i+CZ(n,n.$d()),r),JG(e,Ogt(n)),(o=n.f)&&NNt(t,e,o,"Caused by: ",!1),null==n.k&&(n.k=D7(Zte,cYt,78,0,0,1)),a=0,c=(s=n.k).length;a<c;++a)NNt(t,e,s[a],"Suppressed: ",!1);null!=console.groupEnd&&console.groupEnd.call(console)}function LNt(t,e,n,i){var r,o,s,a;for(s=(a=e.e).length,o=e.q._f(a,n?0:s-1,n),o|=pBt(t,a[n?0:s-1],n,i),r=n?1:s-2;n?r<s:r>=0;r+=n?1:-1)o|=e.c.Sf(a,r,n,i&&!Vv(kR(wTt(e.j,(lKt(),Xhe))))&&!Vv(kR(wTt(e.j,(lKt(),Ade))))),o|=e.q._f(a,r,n),o|=pBt(t,a[r],n,i);return kW(t.c,e),o}function RNt(t,e,n){var i,r,o,s,a,c,l,u;for(l=0,u=(c=A2(t.j)).length;l<u;++l){if(a=c[l],n==(oit(),$we)||n==zwe)for(o=0,s=(r=Z0(a.g)).length;o<s;++o)ICt(e,i=r[o])&&tVt(i,!0);if(n==Vwe||n==zwe)for(o=0,s=(r=Z0(a.e)).length;o<s;++o)SCt(e,i=r[o])&&tVt(i,!0)}}function BNt(t){var e,n;switch(e=null,n=null,ext(t).g){case 1:vWt(),e=sIe,n=CIe;break;case 2:vWt(),e=EIe,n=aIe;break;case 3:vWt(),e=CIe,n=sIe;break;case 4:vWt(),e=aIe,n=EIe}Vd(t,jV(MN(Sq(jV(c6(t.k,e),15).Oc(),Kle)),113)),$d(t,jV(MN(Aq(jV(c6(t.k,n),15).Oc(),Kle)),113))}function FNt(t){var e,n,i,r,o,s;if((r=jV(DH(t.j,0),11)).e.c.length+r.g.c.length==0)t.n.a=0;else{for(s=0,i=OW(Gnt(Cat(z_(Nte,1),VKt,20,0,[new $g(r),new zg(r)])));gPt(i);)s+=(n=jV(U4(i),11)).i.n.a+n.n.a+n.a.a;o=(e=jV(wTt(t,(VGt(),Qme)),8))?e.a:0,t.n.a=s/(r.e.c.length+r.g.c.length)-o}}function jNt(t,e){var n,i,r;for(i=new Wf(e.a);i.a<i.c.c.length;)n=jV(Q1(i),221),PU(jV(n.b,65),qB(jO(jV(e.b,65).c),jV(e.b,65).a)),(r=Xjt(jV(e.b,65).b,jV(n.b,65).b))>1&&(t.a=!0),OU(jV(n.b,65),UB(jO(jV(e.b,65).c),yD(qB(jO(jV(n.b,65).a),jV(e.b,65).a),r))),KJ(t,e),jNt(t,n)}function $Nt(t){var e,n,i,r,o,s;for(r=new Wf(t.a.a);r.a<r.c.c.length;)(n=jV(Q1(r),189)).e=0,n.d.a.$b();for(i=new Wf(t.a.a);i.a<i.c.c.length;)for(e=(n=jV(Q1(i),189)).a.a.ec().Kc();e.Ob();)for(s=jV(e.Pb(),81).f.Kc();s.Ob();)(o=jV(s.Pb(),81)).d!=n&&(kW(n.d,o),++o.d.e)}function VNt(t){var e,n,i,r,o,s,a,c;for(n=0,e=c=t.j.c.length,r=2*c,a=new Wf(t.j);a.a<a.c.c.length;)switch((s=jV(Q1(a),11)).j.g){case 2:case 4:s.p=-1;break;case 1:case 3:i=s.e.c.length,o=s.g.c.length,s.p=i>0&&o>0?e++:i>0?n++:o>0?r++:n++}EX(),bO(t.j,new fi)}function zNt(t){var e,n;n=null,e=jV(DH(t.g,0),17);do{if(PL(n=e.d.i,(lKt(),lde)))return jV(wTt(n,lde),11).i;if(n.k!=(sCt(),Cae)&&gPt(new sq(ZD(hft(n).a.Kc(),new u))))e=jV(U4(new sq(ZD(hft(n).a.Kc(),new u))),17);else if(n.k!=Cae)return null}while(n&&n.k!=(sCt(),Cae));return n}function HNt(t,e){var n,i,r,o,s,a,c,l,u;for(a=e.j,s=e.g,c=jV(DH(a,a.c.length-1),113),u1(0,a.c.length),l=Qyt(t,s,c,u=jV(a.c[0],113)),o=1;o<a.c.length;o++)u1(o-1,a.c.length),n=jV(a.c[o-1],113),u1(o,a.c.length),(i=Qyt(t,s,n,r=jV(a.c[o],113)))>l&&(c=n,u=r,l=i);e.a=u,e.c=c}function UNt(t,e){var n;if(!ZW(t.b,e.b))throw $b(new Fv("Invalid hitboxes for scanline constraint calculation."));(vat(e.b,jV(xB(t.b,e.b),57))||vat(e.b,jV(kB(t.b,e.b),57)))&&(ME(),e.b),t.a[e.b.f]=jV(yF(t.b,e.b),57),(n=jV(wF(t.b,e.b),57))&&(t.a[n.f]=e.b)}function qNt(t){if(!t.a.d||!t.a.e)throw $b(new Fv((_R($ie),$ie.k+" must have a source and target "+(_R(Vie),Vie.k+" specified."))));if(t.a.d==t.a.e)throw $b(new Fv("Network simplex does not support self-loops: "+t.a+" "+t.a.d+" "+t.a.e));return LN(t.a.d.g,t.a),LN(t.a.e.b,t.a),t.a}function WNt(t,e,n){var i,r,o,s,a,c,l;for(l=new fx(new Xp(t)),a=0,c=(s=Cat(z_(zae,1),s1t,11,0,[e,n])).length;a<c;++a)for(o=s[a],Ect(l.a,o,(cN(),mee)),r=new b6(o.b);wO(r.a)||wO(r.b);)(i=jV(wO(r.a)?Q1(r.a):Q1(r.b),17)).c==i.d||ZW(l,o==i.c?i.d:i.c);return wG(l),new JF(l)}function GNt(t,e,n){var i,r,o,s,a,c;if(i=0,0!=e.b&&0!=n.b){o=cbt(e,0),s=cbt(n,0),a=zv(xR(h3(o))),c=zv(xR(h3(s))),r=!0;do{if(a>c-t.b&&a<c+t.b)return-1;a>c-t.a&&a<c+t.a&&++i,a<=c&&o.b!=o.d.c?a=zv(xR(h3(o))):c<=a&&s.b!=s.d.c?c=zv(xR(h3(s))):r=!1}while(r)}return i}function KNt(t,e,n,i,r){var o,s,a,c;for(c=new YF(o=jV(Gk(FIe),9),jV(EB(o,o.length),9),0),a=new Wf(t.j);a.a<a.c.c.length;)e[(s=jV(Q1(a),11)).p]&&($Wt(s,e[s.p],i),art(c,s.j));r?(Hxt(t,e,(vWt(),sIe),2*n,i),Hxt(t,e,CIe,2*n,i)):(Hxt(t,e,(vWt(),aIe),2*n,i),Hxt(t,e,EIe,2*n,i))}function YNt(t){var e,n,i,r,o;if(o=new Ob,Iet(t.b,new yg(o)),t.b.c=D7(Mte,VKt,1,0,5,1),0!=o.c.length){for(u1(0,o.c.length),e=jV(o.c[0],78),n=1,i=o.c.length;n<i;++n)u1(n,o.c.length),(r=jV(o.c[n],78))!=e&&HEt(e,r);if(iD(e,60))throw $b(jV(e,60));if(iD(e,289))throw $b(jV(e,289))}}function XNt(t,e){var n,i,r,o;for(t=null==t?UKt:(yK(t),t),n=new A_,o=0,i=0;i<e.length&&-1!=(r=t.indexOf("%s",o));)sM(n,t.substr(o,r-o)),oM(n,e[i++]),o=r+2;if(sM(n,t.substr(o)),i<e.length){for(n.a+=" [",oM(n,e[i++]);i<e.length;)n.a+=jKt,oM(n,e[i++]);n.a+="]"}return n.a}function ZNt(t){var e,n,i,r;for(e=0,r=(i=t.length)-4,n=0;n<r;)h1(n+3,t.length),e=t.charCodeAt(n+3)+(h1(n+2,t.length),31*(t.charCodeAt(n+2)+(h1(n+1,t.length),31*(t.charCodeAt(n+1)+(h1(n,t.length),31*(t.charCodeAt(n)+31*e)))))),e|=0,n+=4;for(;n<i;)e=31*e+lY(t,n++);return e|=0}function QNt(t){var e;for(e=new sq(ZD(hft(t).a.Kc(),new u));gPt(e);)if(jV(U4(e),17).d.i.k!=(sCt(),Eae))throw $b(new n_(C1t+pvt(t)+"' has its layer constraint set to LAST, but has at least one outgoing edge that  does not go to a LAST_SEPARATE node. That must not happen."))}function JNt(t,e,n,r){var o,s,a,c,l,h,d;for(c=0,l=new Wf(t.a);l.a<l.c.c.length;){for(a=0,s=new sq(ZD(uft(jV(Q1(l),10)).a.Kc(),new u));gPt(s);)h=g1((o=jV(U4(s),17)).c).b,d=g1(o.d).b,a=i.Math.max(a,i.Math.abs(d-h));c=i.Math.max(c,a)}return r*i.Math.min(1,e/n)*c}function tLt(t){var e;return e=new T_,256&t&&(e.a+="F"),128&t&&(e.a+="H"),512&t&&(e.a+="X"),2&t&&(e.a+="i"),8&t&&(e.a+="m"),4&t&&(e.a+="s"),32&t&&(e.a+="u"),64&t&&(e.a+="w"),16&t&&(e.a+="x"),t&v6t&&(e.a+=","),Uv(e.a)}function eLt(t,e){var n,i,r;for(IEt(e,"Resize child graph to fit parent.",1),i=new Wf(t.b);i.a<i.c.c.length;)n=jV(Q1(i),29),pat(t.a,n.a),n.a.c=D7(Mte,VKt,1,0,5,1);for(r=new Wf(t.a);r.a<r.c.c.length;)TJ(jV(Q1(r),10),null);t.b.c=D7(Mte,VKt,1,0,5,1),$Lt(t),t.e&&Tjt(t.e,t),VCt(e)}function nLt(t){var e,n,i,r,o,s,a;if(r=(i=t.b).e,o=PF(jV(wTt(i,(VGt(),tbe)),98)),n=!!r&&jV(wTt(r,(lKt(),Zhe)),21).Hc((dRt(),uhe)),!o&&!n)for(a=new Rf(new Sf(t.e).a.vc().Kc());a.a.Ob();)e=jV(a.a.Pb(),42),(s=jV(e.dd(),113)).a&&(CJ(s.d,null),s.c=!0,t.a=!0)}function iLt(t){var e,n,i,r,o,s,a,c,l,u,h,d;for(h=-1,d=0,l=0,u=(c=t).length;l<u;++l){for(s=0,a=(o=c[l]).length;s<a;++s)for(r=o[s],e=new pA(-1==h?t[0]:t[h],a_t(r)),n=0;n<r.j.c.length;n++)for(i=n+1;i<r.j.c.length;i++)Oq(e,jV(DH(r.j,n),11),jV(DH(r.j,i),11))>0&&++d;++h}return d}function rLt(t,e){var n,i,r,o,s;for(s=jV(wTt(e,(APt(),P_e)),425),o=cbt(e.b,0);o.b!=o.d.c;)if(r=jV(h3(o),86),0==t.b[r.g]){switch(s.g){case 0:Ywt(t,r);break;case 1:VPt(t,r)}t.b[r.g]=2}for(i=cbt(t.a,0);i.b!=i.d.c;)ygt((n=jV(h3(i),188)).b.d,n,!0),ygt(n.c.b,n,!0);lct(e,(zHt(),u_e),t.a)}function oLt(t,e){var n,i,r,o;return ZT(),e?e==(qHt(),LDe)||(e==bDe||e==pDe||e==mDe)&&t!=gDe?new rWt(t,e):((n=(i=jV(e,677)).pk())||(yY(j9((SAt(),XOe),e)),n=i.pk()),!n.i&&(n.i=new Db),!(r=jV(VI(IZ((o=n.i).f,t)),1942))&&GK(o,t,r=new rWt(t,e)),r):iDe}function sLt(t,e){var n,i,r,o,s,a,c,l;for(a=jV(wTt(t,(lKt(),fde)),11),c=Mct(Cat(z_(TTe,1),cYt,8,0,[a.i.n,a.n,a.a])).a,l=t.i.n.b,r=0,o=(i=Z0(t.e)).length;r<o;++r)xJ(n=i[r],a),lM(n.a,new DS(c,l)),e&&((s=jV(wTt(n,(VGt(),mme)),74))||(s=new yy,lct(n,mme,s)),Nz(s,new DS(c,l)))}function aLt(t,e){var n,i,r,o,s,a,c,l;for(i=jV(wTt(t,(lKt(),fde)),11),c=Mct(Cat(z_(TTe,1),cYt,8,0,[i.i.n,i.n,i.a])).a,l=t.i.n.b,s=0,a=(o=Z0(t.g)).length;s<a;++s)EJ(r=o[s],i),cM(r.a,new DS(c,l)),e&&((n=jV(wTt(r,(VGt(),mme)),74))||(n=new yy,lct(r,mme,n)),Nz(n,new DS(c,l)))}function cLt(t,e){var n,i,r,o,s;for(t.b=new Ob,t.d=jV(wTt(e,(lKt(),Ede)),230),t.e=i0(t.d),o=new YE,r=o6(Cat(z_(vae,1),ZJt,37,0,[e])),s=0;s<r.c.length;)u1(s,r.c.length),(i=jV(r.c[s],37)).p=s++,pat(r,(n=new AUt(i,t.a,t.b)).b),WV(t.b,n),n.s&&QW(cbt(o,0),n);return t.c=new Lw,o}function lLt(t,e){var n,i,r,o,s,a;for(s=jV(jV(c6(t.r,e),21),84).Kc();s.Ob();)(n=(o=jV(s.Pb(),111)).c?Gz(o.c):0)>0?o.a?n>(a=o.b.rf().a)&&(r=(n-a)/2,o.d.b=r,o.d.c=r):o.d.c=t.s+n:$q(t.u)&&((i=FEt(o.b)).c<0&&(o.d.b=-i.c),i.c+i.b>o.b.rf().a&&(o.d.c=i.c+i.b-o.b.rf().a))}function uLt(t,e){var n,i;for(IEt(e,"Semi-Interactive Crossing Minimization Processor",1),n=!1,i=new Wf(t.b);i.a<i.c.c.length;)n|=null!=Pht(yet(IY(IY(new LH(null,new d1(jV(Q1(i),29).a,16)),new Xi),new Zi),new Qi),new Ji).a;n&&lct(t,(lKt(),rde),(cN(),!0)),VCt(e)}function hLt(t,e,n){var i,r,o;if(!(r=n)&&(r=new qy),IEt(r,"Layout",t.a.c.length),Vv(kR(wTt(e,(APt(),__e)))))for(ME(),i=0;i<t.a.c.length;i++)i++,Qk(tlt(jV(DH(t.a,i),51)));for(o=new Wf(t.a);o.a<o.c.c.length;)jV(Q1(o),51).pf(e,wot(r,1));VCt(r)}function dLt(t){var e,n;if(e=jV(t.a,19).a,n=jV(t.b,19).a,e>=0){if(e==n)return new nI(ndt(-e-1),ndt(-e-1));if(e==-n)return new nI(ndt(-e),ndt(n+1))}return i.Math.abs(e)>i.Math.abs(n)?new nI(ndt(-e),ndt(e<0?n:n+1)):new nI(ndt(e+1),ndt(n))}function fLt(t){var e,n;n=jV(wTt(t,(VGt(),yme)),163),e=jV(wTt(t,(lKt(),ede)),303),n==(xft(),Fde)?(lct(t,yme,Vde),lct(t,ede,(H9(),Che))):n==$de?(lct(t,yme,Vde),lct(t,ede,(H9(),Ehe))):e==(H9(),Che)?(lct(t,yme,Fde),lct(t,ede,The)):e==Ehe&&(lct(t,yme,$de),lct(t,ede,The))}function gLt(){gLt=M,vve=new ls,mve=fH(new j2,(yTt(),Bse),(hKt(),vce)),yve=WU(fH(new j2,Bse,Nce),jse,Dce),_ve=amt(amt(FT(WU(fH(new j2,Lse,Uce),jse,Hce),Fse),zce),qce),bve=WU(fH(fH(fH(new j2,Rse,xce),Fse,Tce),Fse,Cce),jse,Ece),wve=WU(fH(fH(new j2,Fse,Cce),Fse,oce),jse,rce)}function pLt(){pLt=M,Cve=fH(WU(new j2,(yTt(),jse),(hKt(),cce)),Bse,vce),Mve=amt(amt(FT(WU(fH(new j2,Lse,Uce),jse,Hce),Fse),zce),qce),Ave=WU(fH(fH(fH(new j2,Rse,xce),Fse,Tce),Fse,Cce),jse,Ece),Ive=fH(fH(new j2,Bse,Nce),jse,Dce),Sve=WU(fH(fH(new j2,Fse,Cce),Fse,oce),jse,rce)}function mLt(t,e,n,i,r){var o,s;(h4(e)||e.c.i.c!=e.d.i.c)&&Jit(Mct(Cat(z_(TTe,1),cYt,8,0,[r.i.n,r.n,r.a])),n)||h4(e)||(e.c==r?RL(e.a,0,new dP(n)):Nz(e.a,new dP(n)),i&&!FE(t.a,n)&&((s=jV(wTt(e,(VGt(),mme)),74))||(s=new yy,lct(e,mme,s)),n4(s,o=new dP(n),s.c.b,s.c),kW(t.a,o)))}function bLt(t){var e;for(e=new sq(ZD(uft(t).a.Kc(),new u));gPt(e);)if(jV(U4(e),17).c.i.k!=(sCt(),Eae))throw $b(new n_(C1t+pvt(t)+"' has its layer constraint set to FIRST, but has at least one incoming edge that  does not come from a FIRST_SEPARATE node. That must not happen."))}function wLt(t,e,n){var i,r,o,s,a,c;if(0==(r=mft(254&t.Db)))t.Eb=n;else{if(1==r)s=D7(Mte,VKt,1,2,5,1),0==Ryt(t,e)?(s[0]=n,s[1]=t.Eb):(s[0]=t.Eb,s[1]=n);else for(s=D7(Mte,VKt,1,r+1,5,1),o=ent(t.Eb),i=2,a=0,c=0;i<=128;i<<=1)i==e?s[c++]=n:t.Db&i&&(s[c++]=o[a++]);t.Eb=s}t.Db|=e}function yLt(t,e,n){var r,o,s,a;for(this.b=new Ob,o=0,r=0,a=new Wf(t);a.a<a.c.c.length;)s=jV(Q1(a),167),n&&BVt(s),WV(this.b,s),o+=s.o,r+=s.p;this.b.c.length>0&&(o+=(s=jV(DH(this.b,0),167)).o,r+=s.p),o*=2,r*=2,e>1?o=CQ(i.Math.ceil(o*e)):r=CQ(i.Math.ceil(r/e)),this.a=new zgt(o,r)}function vLt(t,e,n,r,o,s){var a,c,l,u,h,d,f,g,p,m;for(u=r,e.j&&e.o?(p=(f=jV(LG(t.f,e.A),57)).d.c+f.d.b,--u):p=e.a.c+e.a.b,h=o,n.q&&n.o?(l=(f=jV(LG(t.f,n.C),57)).d.c,++h):l=n.a.c,g=p+(c=(l-p)/i.Math.max(2,h-u)),d=u;d<h;++d)m=(a=jV(s.Xb(d),128)).a.b,a.a.c=g-m/2,g+=c}function _Lt(t,e,n,i,r,o){var s,a,c,l,u,h;for(l=n.c.length,o&&(t.c=D7(SNe,lXt,25,e.length,15,1)),s=r?0:e.length-1;r?s<e.length:s>=0;s+=r?1:-1){for(a=e[s],c=i==(vWt(),sIe)?r?oft(a,i):est(oft(a,i)):r?est(oft(a,i)):oft(a,i),o&&(t.c[a.p]=c.gc()),h=c.Kc();h.Ob();)u=jV(h.Pb(),11),t.d[u.p]=l++;pat(n,c)}}function kLt(t,e,n){var i,r,o,s,a,c,l,u;for(o=zv(xR(t.b.Kc().Pb())),l=zv(xR(Gst(e.b))),i=yD(jO(t.a),l-n),r=yD(jO(e.a),n-o),yD(u=UB(i,r),1/(l-o)),this.a=u,this.b=new Ob,a=!0,(s=t.b.Kc()).Pb();s.Ob();)c=zv(xR(s.Pb())),a&&c-n>L3t&&(this.b.Fc(n),a=!1),this.b.Fc(c);a&&this.b.Fc(n)}function xLt(t){var e,n,i,r;if(lFt(t,t.n),t.d.c.length>0){for(Qv(t.c);mPt(t,jV(Q1(new Wf(t.e.a)),121))<t.e.a.c.length;){for(r=(e=Rvt(t)).e.e-e.d.e-e.a,e.e.j&&(r=-r),i=new Wf(t.e.a);i.a<i.c.c.length;)(n=jV(Q1(i),121)).j&&(n.e+=r);Qv(t.c)}Qv(t.c),mIt(t,jV(Q1(new Wf(t.e.a)),121)),pUt(t)}}function ELt(t,e){var n,i,r,o,s;for(r=jV(c6(t.a,(Oxt(),xle)),15).Kc();r.Ob();)switch(i=jV(r.Pb(),101),n=jV(DH(i.j,0),113).d.j,bO(o=new JF(i.j),new Qr),e.g){case 1:Dxt(t,o,n,(Art(),Nle),1);break;case 0:Dxt(t,new a1(o,0,s=FDt(o)),n,(Art(),Nle),0),Dxt(t,new a1(o,s,o.c.length),n,Nle,1)}}function TLt(t,e){var n,i;if(Dat(),n=k4(rit(),e.tg())){if(i=n.j,iD(t,239))return nJ(jV(t,33))?EN(i,(ibt(),aTe))||EN(i,cTe):EN(i,(ibt(),aTe));if(iD(t,352))return EN(i,(ibt(),oTe));if(iD(t,186))return EN(i,(ibt(),lTe));if(iD(t,354))return EN(i,(ibt(),sTe))}return!0}function CLt(t,e,n){var i,r,o,s,a,c;if(o=(r=n).ak(),PLt(t.e,o)){if(o.hi())for(i=jV(t.g,119),s=0;s<t.i;++s)if(Dht(a=i[s],r)&&s!=e)throw $b(new Bv(o7t))}else for(c=oLt(t.e.Tg(),o),i=jV(t.g,119),s=0;s<t.i;++s)if(a=i[s],c.rl(a.ak())&&s!=e)throw $b(new Bv(S9t));return jV(awt(t,e,n),72)}function ALt(t,e){if(e instanceof Object)try{if(e.__java$exception=t,-1!=navigator.userAgent.toLowerCase().indexOf("msie")&&$doc.documentMode<9)return;var n=t;Object.defineProperties(e,{cause:{get:function(){var t=n.Zd();return t&&t.Xd()}},suppressed:{get:function(){return n.Yd()}}})}catch(t){}}function SLt(t,e){var n,i,r,o,s;if(i=e>>5,e&=31,i>=t.d)return t.e<0?(IRt(),Xee):(IRt(),ene);if(o=t.d-i,YCt(r=D7(SNe,lXt,25,o+1,15,1),o,t.a,i,e),t.e<0){for(n=0;n<i&&0==t.a[n];n++);if(n<i||e>0&&t.a[n]<<32-e){for(n=0;n<o&&-1==r[n];n++)r[n]=0;n==o&&++o,++r[n]}}return q0(s=new uW(t.e,o,r)),s}function ILt(t){var e,n,i,r;return n=new Mg(r=WQ(t)),i=new Pg(r),pat(e=new Ob,(!t.d&&(t.d=new cF(RMe,t,8,5)),t.d)),pat(e,(!t.e&&(t.e=new cF(RMe,t,7,4)),t.e)),jV(T5(MY(IY(new LH(null,new d1(e,16)),n),i),D9(new X,new Z,new rt,new ot,Cat(z_(Qne,1),PYt,132,0,[(zlt(),qne),Une]))),21)}function MLt(t,e,n,i){var r,o,s,a,c;if(ZT(),a=jV(e,66).Oj(),PLt(t.e,e)){if(e.hi()&&q$t(t,e,i,iD(e,99)&&!!(jV(e,18).Bb&$Xt)))throw $b(new Bv(o7t))}else for(c=oLt(t.e.Tg(),e),r=jV(t.g,119),s=0;s<t.i;++s)if(o=r[s],c.rl(o.ak()))throw $b(new Bv(S9t));cdt(t,kAt(t,e,n),a?jV(i,72):Z3(e,i))}function PLt(t,e){var n,i,r;return ZT(),!!e.$j()||-2==e.Zj()&&(e==(xMt(),cDe)||e==oDe||e==sDe||e==aDe||!(Mgt(r=t.Tg(),e)>=0)&&(!(n=jHt((SAt(),XOe),r,e))||((i=n.Zj())>1||-1==i)&&3!=NK(j9(XOe,n))))}function OLt(t,e,n,i){var r,o,s,a,c;return a=CEt(jV(Get((!e.b&&(e.b=new cF(LMe,e,4,7)),e.b),0),82)),c=CEt(jV(Get((!e.c&&(e.c=new cF(LMe,e,5,8)),e.c),0),82)),XQ(a)==XQ(c)||Aet(c,a)?null:(s=qQ(e))==n?i:(o=jV(LG(t.a,s),10))&&(r=o.e)?r:null}function DLt(t,e){var n;switch(IEt(e,"Label side selection ("+(n=jV(wTt(t,(VGt(),Xpe)),276))+")",1),n.g){case 0:xPt(t,(Wvt(),vSe));break;case 1:xPt(t,(Wvt(),_Se));break;case 2:cVt(t,(Wvt(),vSe));break;case 3:cVt(t,(Wvt(),_Se));break;case 4:sRt(t,(Wvt(),vSe));break;case 5:sRt(t,(Wvt(),_Se))}VCt(e)}function NLt(t,e,n){var i,r,o,s,a;if((o=t[uk(n,t.length)])[0].k==(sCt(),xae))for(r=lk(n,o.length),a=e.j,i=0;i<a.c.length;i++)u1(i,a.c.length),s=jV(a.c[i],11),(n?s.j==(vWt(),sIe):s.j==(vWt(),CIe))&&Vv(kR(wTt(s,(lKt(),tde))))&&(i4(a,i,jV(wTt(o[r],(lKt(),fde)),11)),r+=n?1:-1)}function LLt(t,e){var n,i,r,o,s;s=new Ob,n=e;do{(o=jV(LG(t.b,n),128)).B=n.c,o.D=n.d,s.c[s.c.length]=o,n=jV(LG(t.k,n),17)}while(n);return u1(0,s.c.length),(i=jV(s.c[0],128)).j=!0,i.A=jV(i.d.a.ec().Kc().Pb(),17).c.i,(r=jV(DH(s,s.c.length-1),128)).q=!0,r.C=jV(r.d.a.ec().Kc().Pb(),17).d.i,s}function RLt(t){if(null==t.g)switch(t.p){case 0:t.g=lJ(t)?(cN(),bee):(cN(),mee);break;case 1:t.g=Ttt(N3(t));break;case 2:t.g=uat(K1(t));break;case 3:t.g=SK(t);break;case 4:t.g=new Of(AK(t));break;case 6:t.g=_mt(IK(t));break;case 5:t.g=ndt(cQ(t));break;case 7:t.g=idt(B3(t))}return t.g}function BLt(t){if(null==t.n)switch(t.p){case 0:t.n=uJ(t)?(cN(),bee):(cN(),mee);break;case 1:t.n=Ttt(L3(t));break;case 2:t.n=uat(Y1(t));break;case 3:t.n=PK(t);break;case 4:t.n=new Of(OK(t));break;case 6:t.n=_mt(MK(t));break;case 5:t.n=ndt(lQ(t));break;case 7:t.n=idt(R3(t))}return t.n}function FLt(t){var e,n,i,r,o,s;for(r=new Wf(t.a.a);r.a<r.c.c.length;)(n=jV(Q1(r),307)).g=0,n.i=0,n.e.a.$b();for(i=new Wf(t.a.a);i.a<i.c.c.length;)for(e=(n=jV(Q1(i),307)).a.a.ec().Kc();e.Ob();)for(s=jV(e.Pb(),57).c.Kc();s.Ob();)(o=jV(s.Pb(),57)).a!=n&&(kW(n.e,o),++o.a.g,++o.a.i)}function jLt(t,e){var n,i,r;if(!ZW(t.a,e.b))throw $b(new Fv("Invalid hitboxes for scanline overlap calculation."));for(r=!1,i=new Ff(new jB(new DN(new Bf(t.a.a).a).b));rC(i.a.a);)if(n=jV(bL(i.a).cd(),65),ect(e.b,n))Dk(t.b.a,e.b,n),r=!0;else if(r)break}function $Lt(t){var e,n,r,o,s;o=jV(wTt(t,(VGt(),Fme)),21),s=jV(wTt(t,Vme),21),e=new dP(n=new DS(t.f.a+t.d.b+t.d.c,t.f.b+t.d.d+t.d.a)),o.Hc((wpt(),NIe))&&(r=jV(wTt(t,$me),8),s.Hc((JFt(),zIe))&&(r.a<=0&&(r.a=20),r.b<=0&&(r.b=20)),e.a=i.Math.max(n.a,r.a),e.b=i.Math.max(n.b,r.b)),WVt(t,n,e)}function VLt(t,e){var n,i,r,o,s,a,c,l;r=e?new wo:new yo,o=!1;do{for(o=!1,s=(e?est(t.b):t.b).Kc();s.Ob();)for(l=r0(jV(s.Pb(),29).a),e||new lv(l),c=new Wf(l);c.a<c.c.c.length;)a=jV(Q1(c),10),r.Mb(a)&&(i=a,n=jV(wTt(a,(lKt(),Lhe)),305),o=eBt(i,e?n.b:n.k,e,!1))}while(o)}function zLt(t,e,n){var i,r,o,s;for(IEt(n,"Longest path layering",1),t.a=e,s=t.a.a,t.b=D7(SNe,lXt,25,s.c.length,15,1),i=0,o=new Wf(s);o.a<o.c.c.length;)jV(Q1(o),10).p=i,t.b[i]=-1,++i;for(r=new Wf(s);r.a<r.c.c.length;)LOt(t,jV(Q1(r),10));s.c=D7(Mte,VKt,1,0,5,1),t.a=null,t.b=null,VCt(n)}function HLt(t,e){var n,i,r;e.a?(ZW(t.b,e.b),t.a[e.b.i]=jV(yF(t.b,e.b),81),(n=jV(wF(t.b,e.b),81))&&(t.a[n.i]=e.b)):(!!(i=jV(yF(t.b,e.b),81))&&i==t.a[e.b.i]&&!!i.d&&i.d!=e.b.d&&i.f.Fc(e.b),!!(r=jV(wF(t.b,e.b),81))&&t.a[r.i]==e.b&&!!r.d&&r.d!=e.b.d&&e.b.f.Fc(r),xN(t.b,e.b))}function ULt(t,e){var n,r,o,s,a,c;return s=t.d,(c=zv(xR(wTt(t,(VGt(),rme)))))<0&&lct(t,rme,c=0),e.o.b=c,a=i.Math.floor(c/2),zSt(r=new ACt,(vWt(),CIe)),CJ(r,e),r.n.b=a,zSt(o=new ACt,sIe),CJ(o,e),o.n.b=a,xJ(t,r),zst(n=new dZ,t),lct(n,mme,null),EJ(n,o),xJ(n,s),_$t(e,t,n),cSt(t,n),n}function qLt(t){var e,n;return n=jV(wTt(t,(lKt(),Zhe)),21),e=new j2,n.Hc((dRt(),hhe))&&(Zot(e,hve),Zot(e,fve)),(n.Hc(fhe)||Vv(kR(wTt(t,(VGt(),ome)))))&&(Zot(e,fve),n.Hc(ghe)&&Zot(e,gve)),n.Hc(uhe)&&Zot(e,uve),n.Hc(mhe)&&Zot(e,pve),n.Hc(dhe)&&Zot(e,dve),n.Hc(ahe)&&Zot(e,cve),n.Hc(lhe)&&Zot(e,lve),e}function WLt(t,e){var n,i,r,o,s,a,c,l,u;return o=(n=t.d)+(i=e.d),s=t.e!=e.e?-1:1,2==o?(u=fU(c=rft(t0(t.a[0],qXt),t0(e.a[0],qXt))),0==(l=fU(vq(c,32)))?new q6(s,u):new uW(s,2,Cat(z_(SNe,1),lXt,25,15,[u,l]))):(Lht(t.a,n,e.a,i,r=D7(SNe,lXt,25,o,15,1)),q0(a=new uW(s,o,r)),a)}function GLt(t,e,n,i){var r,o;return e?0==(r=t.a.ue(n.d,e.d))?(i.d=pB(e,n.e),i.b=!0,e):(o=r<0?0:1,e.a[o]=GLt(t,e.a[o],n,i),Gv(e.a[o])&&(Gv(e.a[1-o])?(e.b=!0,e.a[0].b=!1,e.a[1].b=!1):Gv(e.a[o].a[o])?e=frt(e,1-o):Gv(e.a[o].a[1-o])&&(e=n2(e,1-o))),e):n}function KLt(t,e,n){var r,o,s,a;o=t.i,r=t.n,Y4(t,(Let(),zie),o.c+r.b,n),Y4(t,Uie,o.c+o.b-r.c-n[2],n),a=o.b-r.b-r.c,n[0]>0&&(n[0]+=t.d,a-=n[0]),n[2]>0&&(n[2]+=t.d,a-=n[2]),s=i.Math.max(0,a),n[1]=i.Math.max(n[1],a),Y4(t,Hie,o.c+r.b+n[0]-(n[1]-a)/2,n),e==Hie&&(t.c.b=s,t.c.c=o.c+r.b+(s-a)/2)}function YLt(){this.c=D7(ONe,zXt,25,(vWt(),Cat(z_(FIe,1),XJt,61,0,[TIe,aIe,sIe,EIe,CIe])).length,15,1),this.b=D7(ONe,zXt,25,Cat(z_(FIe,1),XJt,61,0,[TIe,aIe,sIe,EIe,CIe]).length,15,1),this.a=D7(ONe,zXt,25,Cat(z_(FIe,1),XJt,61,0,[TIe,aIe,sIe,EIe,CIe]).length,15,1),bC(this.c,RXt),bC(this.b,BXt),bC(this.a,BXt)}function XLt(t,e,n){var i,r,o,s;if(e<=n?(r=e,o=n):(r=n,o=e),i=0,null==t.b)t.b=D7(SNe,lXt,25,2,15,1),t.b[0]=r,t.b[1]=o,t.c=!0;else{if(i=t.b.length,t.b[i-1]+1==r)return void(t.b[i-1]=o);s=D7(SNe,lXt,25,i+2,15,1),ozt(t.b,0,s,0,i),t.b=s,t.b[i-1]>=r&&(t.c=!1,t.a=!1),t.b[i++]=r,t.b[i]=o,t.c||xOt(t)}}function ZLt(t,e,n){var i,r,o,s,a,c,l;for(l=e.d,t.a=new X6(l.c.length),t.c=new Db,a=new Wf(l);a.a<a.c.c.length;)s=jV(Q1(a),101),o=new jst(null),WV(t.a,o),GK(t.c,s,o);for(t.b=new Db,bSt(t,e),i=0;i<l.c.length-1;i++)for(c=jV(DH(e.d,i),101),r=i+1;r<l.c.length;r++)GDt(t,c,jV(DH(e.d,r),101),n)}function QLt(t,e,n){var i,r,o,s,a,c;if(!c3(e)){for(IEt(c=wot(n,(iD(e,14)?jV(e,14).gc():F3(e.Kc()))/t.a|0),U3t,1),a=new Ms,s=0,o=e.Kc();o.Ob();)i=jV(o.Pb(),86),a=Gnt(Cat(z_(Nte,1),VKt,20,0,[a,new hm(i)])),s<i.f.b&&(s=i.f.b);for(r=e.Kc();r.Ob();)lct(i=jV(r.Pb(),86),(zHt(),o_e),s);VCt(c),QLt(t,a,n)}}function JLt(t,e){var n,r,o,s,a,c,l;for(n=BXt,sCt(),c=Cae,o=new Wf(e.a);o.a<o.c.c.length;)(s=(r=jV(Q1(o),10)).k)!=Cae&&(null==(a=xR(wTt(r,(lKt(),pde))))?(n=i.Math.max(n,0),r.n.b=n+qN(t.a,s,c)):r.n.b=(yK(a),a)),l=qN(t.a,s,c),r.n.b<n+l+r.d.d&&(r.n.b=n+l+r.d.d),n=r.n.b+r.o.b+r.d.a,c=s}function tRt(t,e,n){var i,r,o;for(zst(o=new kPt(WGt(zCt(rRt(e,!1,!1)),zv(xR(QPt(e,(kbt(),poe))))+t.a)),e),GK(t.b,e,o),n.c[n.c.length]=o,!e.n&&(e.n=new tW(zMe,e,1,7)),r=new ID(e.n);r.e!=r.i.gc();)i=ZBt(t,jV(vbt(r),137),!0,0,0),n.c[n.c.length]=i;return o}function eRt(t,e,n,i,r){var o,s,a;if(t.d&&t.d.lg(r),Lwt(t,n,jV(r.Xb(0),33),!1))return!0;if(Lwt(t,i,jV(r.Xb(r.gc()-1),33),!0))return!0;if(DTt(t,r))return!0;for(a=r.Kc();a.Ob();)for(s=jV(a.Pb(),33),o=e.Kc();o.Ob();)if(FRt(t,s,jV(o.Pb(),33)))return!0;return!1}function nRt(t,e,n){var i,r,o,s,a,c,l,u,h;h=e.c.length;t:for(o=jV((l=t.Yg(n))>=0?t._g(l,!1,!0):rMt(t,n,!1),58).Kc();o.Ob();){for(r=jV(o.Pb(),56),u=0;u<h;++u)if(u1(u,e.c.length),c=(s=jV(e.c[u],72)).dd(),a=s.ak(),i=r.bh(a,!1),null==c?null!=i:!Dht(c,i))continue t;return r}return null}function iRt(t,e,n,i){var r,o,s,a;for(r=jV(LCt(e,(vWt(),CIe)).Kc().Pb(),11),o=jV(LCt(e,sIe).Kc().Pb(),11),a=new Wf(t.j);a.a<a.c.c.length;){for(s=jV(Q1(a),11);0!=s.e.c.length;)xJ(jV(DH(s.e,0),17),r);for(;0!=s.g.c.length;)EJ(jV(DH(s.g,0),17),o)}n||lct(e,(lKt(),cde),null),i||lct(e,(lKt(),lde),null)}function rRt(t,e,n){var i,r;if(0==(!t.a&&(t.a=new tW(BMe,t,6,6)),t.a).i)return zat(t);if(i=jV(Get((!t.a&&(t.a=new tW(BMe,t,6,6)),t.a),0),202),e&&(cHt((!i.a&&(i.a=new MD(OMe,i,5)),i.a)),Snt(i,0),Mnt(i,0),xnt(i,0),Int(i,0)),n)for(!t.a&&(t.a=new tW(BMe,t,6,6)),r=t.a;r.i>1;)uRt(r,r.i-1);return i}function oRt(t,e){var n,i,r,o,s,a,c;for(IEt(e,"Comment post-processing",1),o=new Wf(t.b);o.a<o.c.c.length;){for(r=jV(Q1(o),29),i=new Ob,a=new Wf(r.a);a.a<a.c.c.length;)s=jV(Q1(a),10),c=jV(wTt(s,(lKt(),Rde)),15),n=jV(wTt(s,Nhe),15),(c||n)&&(Gqt(s,c,n),c&&pat(i,c),n&&pat(i,n));pat(r.a,i)}VCt(e)}function sRt(t,e){var n,i,r,o,s,a;for(n=new Pb,r=new Wf(t.b);r.a<r.c.c.length;){for(a=!0,i=0,s=new Wf(jV(Q1(r),29).a);s.a<s.c.c.length;)switch((o=jV(Q1(s),10)).k.g){case 4:++i;case 1:d3(n,o);break;case 0:aSt(o,e);default:n.b==n.c||mjt(n,i,a,!1,e),a=!1,i=0}n.b==n.c||mjt(n,i,a,!0,e)}}function aRt(t,e){var n,i,r,o,s,a;for(r=new Ob,n=0;n<=t.i;n++)(i=new $G(e)).p=t.i-n,r.c[r.c.length]=i;for(a=new Wf(t.o);a.a<a.c.c.length;)TJ(s=jV(Q1(a),10),jV(DH(r,t.i-t.f[s.p]),29));for(o=new Wf(r);o.a<o.c.c.length;)0==jV(Q1(o),29).a.c.length&&IW(o);e.b.c=D7(Mte,VKt,1,0,5,1),pat(e.b,r)}function cRt(t,e){var n,i,r,o,s,a;for(n=0,a=new Wf(e);a.a<a.c.c.length;){for(s=jV(Q1(a),11),Jlt(t.b,t.d[s.p]),r=new b6(s.b);wO(r.a)||wO(r.b);)(o=xx(t,s==(i=jV(wO(r.a)?Q1(r.a):Q1(r.b),17)).c?i.d:i.c))>t.d[s.p]&&(n+=Q5(t.b,o),f3(t.a,ndt(o)));for(;!Wv(t.a);)xtt(t.b,jV(fW(t.a),19).a)}return n}function lRt(t,e,n){var i,r,o,s;for(o=(!e.a&&(e.a=new tW(HMe,e,10,11)),e.a).i,r=new ID((!e.a&&(e.a=new tW(HMe,e,10,11)),e.a));r.e!=r.i.gc();)0==(!(i=jV(vbt(r),33)).a&&(i.a=new tW(HMe,i,10,11)),i.a).i||(o+=lRt(t,i,!1));if(n)for(s=XQ(e);s;)o+=(!s.a&&(s.a=new tW(HMe,s,10,11)),s.a).i,s=XQ(s);return o}function uRt(t,e){var n,i,r,o;return t.ej()?(i=null,r=t.fj(),t.ij()&&(i=t.kj(t.pi(e),null)),n=t.Zi(4,o=Ovt(t,e),null,e,r),t.bj()&&null!=o?(i=t.dj(o,i))?(i.Ei(n),i.Fi()):t.$i(n):i?(i.Ei(n),i.Fi()):t.$i(n),o):(o=Ovt(t,e),t.bj()&&null!=o&&(i=t.dj(o,null))&&i.Fi(),o)}function hRt(t){var e,n,r,o,s,a,c,l,u,h;for(u=t.a,e=new Lw,l=0,r=new Wf(t.d);r.a<r.c.c.length;){for(h=0,Frt((n=jV(Q1(r),222)).b,new Pt),a=cbt(n.b,0);a.b!=a.d.c;)s=jV(h3(a),222),e.a._b(s)&&(o=n.c,h<(c=s.c).d+c.a+u&&h+o.a+u>c.d&&(h=c.d+c.a+u));n.c.d=h,e.a.zc(n,e),l=i.Math.max(l,n.c.d+n.c.a)}return l}function dRt(){dRt=M,che=new PA("COMMENTS",0),uhe=new PA("EXTERNAL_PORTS",1),hhe=new PA("HYPEREDGES",2),dhe=new PA("HYPERNODES",3),fhe=new PA("NON_FREE_PORTS",4),ghe=new PA("NORTH_SOUTH_PORTS",5),mhe=new PA(H1t,6),ahe=new PA("CENTER_LABELS",7),lhe=new PA("END_LABELS",8),phe=new PA("PARTITIONS",9)}function fRt(t){var e,n,i,r,o;for(r=new Ob,e=new MH((!t.a&&(t.a=new tW(HMe,t,10,11)),t.a)),i=new sq(ZD(gDt(t).a.Kc(),new u));gPt(i);)iD(Get((!(n=jV(U4(i),79)).b&&(n.b=new cF(LMe,n,4,7)),n.b),0),186)||(o=CEt(jV(Get((!n.c&&(n.c=new cF(LMe,n,5,8)),n.c),0),82)),e.a._b(o)||(r.c[r.c.length]=o));return r}function gRt(t){var e,n,i,r,o;for(r=new Lw,e=new MH((!t.a&&(t.a=new tW(HMe,t,10,11)),t.a)),i=new sq(ZD(gDt(t).a.Kc(),new u));gPt(i);)iD(Get((!(n=jV(U4(i),79)).b&&(n.b=new cF(LMe,n,4,7)),n.b),0),186)||(o=CEt(jV(Get((!n.c&&(n.c=new cF(LMe,n,5,8)),n.c),0),82)),e.a._b(o)||r.a.zc(o,r));return r}function pRt(t,e,n,i,r){return i<0?((i=UEt(t,r,Cat(z_(Yee,1),cYt,2,6,[XYt,ZYt,QYt,JYt,tXt,eXt,nXt,iXt,rXt,oXt,sXt,aXt]),e))<0&&(i=UEt(t,r,Cat(z_(Yee,1),cYt,2,6,["Jan","Feb","Mar","Apr",tXt,"Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),e)),!(i<0||(n.k=i,0))):i>0&&(n.k=i-1,!0)}function mRt(t,e,n,i,r){return i<0?((i=UEt(t,r,Cat(z_(Yee,1),cYt,2,6,[XYt,ZYt,QYt,JYt,tXt,eXt,nXt,iXt,rXt,oXt,sXt,aXt]),e))<0&&(i=UEt(t,r,Cat(z_(Yee,1),cYt,2,6,["Jan","Feb","Mar","Apr",tXt,"Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),e)),!(i<0||(n.k=i,0))):i>0&&(n.k=i-1,!0)}function bRt(t,e,n,i,r,o){var s,a,c;if(a=32,i<0){if(e[0]>=t.length)return!1;if(43!=(a=lY(t,e[0]))&&45!=a)return!1;if(++e[0],(i=qIt(t,e))<0)return!1;45==a&&(i=-i)}return 32==a&&e[0]-n==2&&2==r.b&&(s=(c=(new IE).q.getFullYear()-cXt+cXt-80)%100,o.a=i==s,i+=100*(c/100|0)+(i<s?100:0)),o.p=i,!0}function wRt(t,e){var n,r,o;XQ(t)&&(o=jV(wTt(e,(VGt(),Fme)),174),zI(QPt(t,tbe))===zI((Yxt(),YSe))&&Xbt(t,tbe,KSe),zT(),r=zqt(new Nv(XQ(t)),new XN(XQ(t)?new Nv(XQ(t)):null,t),!1,!0),art(o,(wpt(),NIe)),(n=jV(wTt(e,$me),8)).a=i.Math.max(r.a,n.a),n.b=i.Math.max(r.b,n.b))}function yRt(t,e,n){var i,r,o,s,a,c;for(s=jV(wTt(t,(lKt(),Qhe)),15).Kc();s.Ob();){switch(o=jV(s.Pb(),10),jV(wTt(o,(VGt(),yme)),163).g){case 2:TJ(o,e);break;case 4:TJ(o,n)}for(r=new sq(ZD(lft(o).a.Kc(),new u));gPt(r);)(i=jV(U4(r),17)).c&&i.d||(a=!i.d,c=jV(wTt(i,bde),11),a?xJ(i,c):EJ(i,c))}}function vRt(){vRt=M,jle=new WY(wQt,0,(vWt(),aIe),aIe),zle=new WY(vQt,1,EIe,EIe),Fle=new WY(yQt,2,sIe,sIe),qle=new WY(_Qt,3,CIe,CIe),Vle=new WY("NORTH_WEST_CORNER",4,CIe,aIe),$le=new WY("NORTH_EAST_CORNER",5,aIe,sIe),Ule=new WY("SOUTH_WEST_CORNER",6,EIe,CIe),Hle=new WY("SOUTH_EAST_CORNER",7,sIe,EIe)}function _Rt(){_Rt=M,xTe=Cat(z_(MNe,1),jXt,25,14,[1,1,2,6,24,120,720,5040,40320,362880,3628800,39916800,479001600,6227020800,87178291200,1307674368e3,{l:3506176,m:794077,h:1},{l:884736,m:916411,h:20},{l:3342336,m:3912489,h:363},{l:589824,m:3034138,h:6914},{l:3407872,m:1962506,h:138294}]),i.Math.pow(2,-65)}function kRt(t,e){var n,i,r,o,s;if(0==t.c.length)return new nI(ndt(0),ndt(0));for(n=(u1(0,t.c.length),jV(t.c[0],11)).j,s=0,o=e.g,i=e.g+1;s<t.c.length-1&&n.g<o;)n=(u1(++s,t.c.length),jV(t.c[s],11)).j;for(r=s;r<t.c.length-1&&n.g<i;)++r,n=(u1(s,t.c.length),jV(t.c[s],11)).j;return new nI(ndt(s),ndt(r))}function xRt(t,e,n){var r,o,s,a,c,l,u,h,d,f;for(s=e.c.length,u1(n,e.c.length),c=(a=jV(e.c[n],286)).a.o.a,d=a.c,f=0,u=a.c;u<=a.f;u++){if(c<=t.a[u])return u;for(h=t.a[u],l=null,o=n+1;o<s;o++)u1(o,e.c.length),(r=jV(e.c[o],286)).c<=u&&r.f>=u&&(l=r);l&&(h=i.Math.max(h,l.a.o.a)),h>f&&(d=u,f=h)}return d}function ERt(t,e,n){var i,r,o;if(t.e=n,t.d=0,t.b=0,t.f=1,t.i=e,!(16&~t.e)&&(t.i=mFt(t.i)),t.j=t.i.length,YGt(t),o=Kpt(t),t.d!=t.j)throw $b(new r_(vKt((oO(),f7t))));if(t.g){for(i=0;i<t.g.a.c.length;i++)if(r=jV(hK(t.g,i),584),t.f<=r.a)throw $b(new r_(vKt((oO(),g7t))));t.g.a.c=D7(Mte,VKt,1,0,5,1)}return o}function TRt(t,e){var n,i,r;if(null==e){for(!t.a&&(t.a=new tW(qPe,t,9,5)),i=new ID(t.a);i.e!=i.i.gc();)if(null==(null==(r=(n=jV(vbt(i),678)).c)?n.zb:r))return n}else for(!t.a&&(t.a=new tW(qPe,t,9,5)),i=new ID(t.a);i.e!=i.i.gc();)if(bF(e,null==(r=(n=jV(vbt(i),678)).c)?n.zb:r))return n;return null}function CRt(t,e){var n;switch(n=null,e.g){case 1:t.e.Xe((cKt(),tAe))&&(n=jV(t.e.We(tAe),249));break;case 3:t.e.Xe((cKt(),eAe))&&(n=jV(t.e.We(eAe),249));break;case 2:t.e.Xe((cKt(),JCe))&&(n=jV(t.e.We(JCe),249));break;case 4:t.e.Xe((cKt(),nAe))&&(n=jV(t.e.We(nAe),249))}return!n&&(n=jV(t.e.We((cKt(),ZCe)),249)),n}function ARt(t,e,n){var i,r,o,s,a,c;for(e.p=1,r=e.c,c=Ngt(e,(oit(),Vwe)).Kc();c.Ob();)for(i=new Wf(jV(c.Pb(),11).g);i.a<i.c.c.length;)e!=(a=jV(Q1(i),17).d.i)&&a.c.p<=r.p&&((o=r.p+1)==n.b.c.length?((s=new $G(n)).p=o,WV(n.b,s),TJ(a,s)):TJ(a,s=jV(DH(n.b,o),29)),ARt(t,a,n))}function SRt(t,e,n){var r,o,s,a,c,l;for(o=n,s=0,c=new Wf(e);c.a<c.c.c.length;)Xbt(a=jV(Q1(c),33),(qvt(),Pke),ndt(o++)),l=fRt(a),r=i.Math.atan2(a.j+a.f/2,a.i+a.g/2),(r+=r<0?Q3t:0)<.7853981633974483||r>m5t?bO(l,t.b):r<=m5t&&r>b5t?bO(l,t.d):r<=b5t&&r>w5t?bO(l,t.c):r<=w5t&&bO(l,t.a),s=SRt(t,l,s);return o}function IRt(){var t;for(IRt=M,Zee=new q6(1,1),Jee=new q6(1,10),ene=new q6(0,0),Xee=new q6(-1,1),Qee=Cat(z_(ane,1),cYt,91,0,[ene,Zee,new q6(1,2),new q6(1,3),new q6(1,4),new q6(1,5),new q6(1,6),new q6(1,7),new q6(1,8),new q6(1,9),Jee]),tne=D7(ane,cYt,91,32,0,1),t=0;t<tne.length;t++)tne[t]=Jmt(wq(1,t))}function MRt(t,e,n,i,r,o){var s,a,c,l;for(a=!vx(IY(t.Oc(),new rg(new Qn))).sd((fT(),Jne)),s=t,o==(jht(),$Ae)&&(s=iD(s,152)?s6(jV(s,152)):iD(s,131)?jV(s,131).a:iD(s,54)?new lv(s):new CE(s)),l=s.Kc();l.Ob();)(c=jV(l.Pb(),70)).n.a=e.a,c.n.b=a?e.b+(i.b-c.o.b)/2:r?e.b:e.b+i.b-c.o.b,e.a+=c.o.a+n}function PRt(t,e,n,i){var r,o,s,a,c;for(r=(i.c+i.a)/2,wX(e.j),Nz(e.j,r),wX(n.e),Nz(n.e,r),c=new Hk,s=new Wf(t.f);s.a<s.c.c.length;)Rkt(c,e,a=jV(Q1(s),129).a),Rkt(c,n,a);for(o=new Wf(t.k);o.a<o.c.c.length;)Rkt(c,e,a=jV(Q1(o),129).b),Rkt(c,n,a);return c.b+=2,c.a+=PX(e,t.q),c.a+=PX(t.q,n),c}function ORt(t,e,n){var i,r,o,s,a;if(!c3(e)){for(IEt(a=wot(n,(iD(e,14)?jV(e,14).gc():F3(e.Kc()))/t.a|0),U3t,1),s=new Os,o=null,r=e.Kc();r.Ob();)i=jV(r.Pb(),86),s=Gnt(Cat(z_(Nte,1),VKt,20,0,[s,new hm(i)])),o&&(lct(o,(zHt(),h_e),i),lct(i,i_e,o),z7(i)==z7(o)&&(lct(o,d_e,i),lct(i,r_e,o))),o=i;VCt(a),ORt(t,s,n)}}function DRt(t){var e,n,i,r,o,s,a;for(n=t.i,e=t.n,a=n.d,t.f==(z9(),nre)?a+=(n.a-t.e.b)/2:t.f==ere&&(a+=n.a-t.e.b),r=new Wf(t.d);r.a<r.c.c.length;){switch(s=(i=jV(Q1(r),181)).rf(),(o=new zk).b=a,a+=s.b+t.a,t.b.g){case 0:o.a=n.c+e.b;break;case 1:o.a=n.c+e.b+(n.b-s.a)/2;break;case 2:o.a=n.c+n.b-e.c-s.a}i.tf(o)}}function NRt(t){var e,n,i,r,o,s,a;for(n=t.i,e=t.n,a=n.c,t.b==(X8(),Kie)?a+=(n.b-t.e.a)/2:t.b==Xie&&(a+=n.b-t.e.a),r=new Wf(t.d);r.a<r.c.c.length;){switch(s=(i=jV(Q1(r),181)).rf(),(o=new zk).a=a,a+=s.a+t.a,t.f.g){case 0:o.b=n.d+e.d;break;case 1:o.b=n.d+e.d+(n.a-s.b)/2;break;case 2:o.b=n.d+n.a-e.a-s.b}i.tf(o)}}function LRt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f;l=n.a.c,s=n.a.c+n.a.b,d=(o=jV(LG(n.c,e),459)).f,f=o.a,a=new DS(l,d),u=new DS(s,f),r=l,n.p||(r+=t.c),c=new DS(r+=n.F+n.v*t.b,d),h=new DS(r,f),Jnt(e.a,Cat(z_(TTe,1),cYt,8,0,[a,c])),n.d.a.gc()>1&&(i=new DS(r,n.b),Nz(e.a,i)),Jnt(e.a,Cat(z_(TTe,1),cYt,8,0,[h,u]))}function RRt(t){OT(t,new EEt(mk(dk(pk(gk(new ma,F4t),"ELK Randomizer"),'Distributes the nodes randomly on the plane, leading to very obfuscating layouts. Can be useful to demonstrate the power of "real" layout algorithms.'),new Za))),o2(t,F4t,YQt,PIe),o2(t,F4t,bJt,15),o2(t,F4t,yJt,ndt(0)),o2(t,F4t,KQt,gJt)}function BRt(){var t,e,n,i,r,o;for(BRt=M,GDe=D7(PNe,b6t,25,255,15,1),KDe=D7(ANe,GYt,25,16,15,1),e=0;e<255;e++)GDe[e]=-1;for(n=57;n>=48;n--)GDe[n]=n-48<<24>>24;for(i=70;i>=65;i--)GDe[i]=i-65+10<<24>>24;for(r=102;r>=97;r--)GDe[r]=r-97+10<<24>>24;for(o=0;o<10;o++)KDe[o]=48+o&YYt;for(t=10;t<=15;t++)KDe[t]=65+t-10&YYt}function FRt(t,e,n){var i,r,o,s,a,c,l,u;return a=e.i-t.g/2,c=n.i-t.g/2,l=e.j-t.g/2,u=n.j-t.g/2,o=e.g+t.g/2,s=n.g+t.g/2,i=e.f+t.g/2,r=n.f+t.g/2,a<c+s&&c<a&&l<u+r&&u<l||c<a+o&&a<c&&u<l+i&&l<u||a<c+s&&c<a&&l<u&&u<l+i||c<a+o&&a<c&&l<u+r&&u<l}function jRt(t){var e,n,r,o,s;o=jV(wTt(t,(VGt(),Fme)),21),s=jV(wTt(t,Vme),21),e=new dP(n=new DS(t.f.a+t.d.b+t.d.c,t.f.b+t.d.d+t.d.a)),o.Hc((wpt(),NIe))&&(r=jV(wTt(t,$me),8),s.Hc((JFt(),zIe))&&(r.a<=0&&(r.a=20),r.b<=0&&(r.b=20)),e.a=i.Math.max(n.a,r.a),e.b=i.Math.max(n.b,r.b)),Vv(kR(wTt(t,jme)))||qVt(t,n,e)}function $Rt(t,e){var n,i,r,o;for(o=oft(e,(vWt(),EIe)).Kc();o.Ob();)i=jV(o.Pb(),11),(n=jV(wTt(i,(lKt(),_de)),10))&&qNt(rT(iT(oT(nT(new $w,0),.1),t.i[e.p].d),t.i[n.p].a));for(r=oft(e,aIe).Kc();r.Ob();)i=jV(r.Pb(),11),(n=jV(wTt(i,(lKt(),_de)),10))&&qNt(rT(iT(oT(nT(new $w,0),.1),t.i[n.p].d),t.i[e.p].a))}function VRt(t){var e,n,i,r,o;if(!t.c){if(o=new xc,null==(e=EOe).a.zc(t,e)){for(i=new ID(r5(t));i.e!=i.i.gc();)iD(r=h$t(n=jV(vbt(i),87)),88)&&pG(o,VRt(jV(r,26))),l8(o,n);e.a.Bc(t),e.a.gc()}Pgt(o),rut(o),t.c=new OM((jV(Get(KX((KG(),QPe).o),15),18),o.i),o.g),T4(t).b&=-33}return t.c}function zRt(t){var e;if(10!=t.c)throw $b(new r_(vKt((oO(),p7t))));switch(e=t.a){case 110:e=10;break;case 114:e=13;break;case 116:e=9;break;case 92:case 124:case 46:case 94:case 45:case 63:case 42:case 43:case 123:case 125:case 40:case 41:case 91:case 93:break;default:throw $b(new r_(vKt((oO(),q7t))))}return e}function HRt(t){var e,n,i,r;if(0==t.l&&0==t.m&&0==t.h)return"0";if(t.h==AXt&&0==t.m&&0==t.l)return"-9223372036854775808";if(t.h>>19)return"-"+HRt(oct(t));for(n=t,i="";0!=n.l||0!=n.m||0!=n.h;){if(n=MHt(n,F4(MXt),!0),e=""+kx(hee),0!=n.l||0!=n.m||0!=n.h)for(r=9-e.length;r>0;r--)e="0"+e;i=e+i}return i}function URt(){if(!Object.create||!Object.getOwnPropertyNames)return!1;var t="__proto__",e=Object.create(null);return void 0===e[t]&&0==Object.getOwnPropertyNames(e).length&&(e[t]=42,42===e[t]&&0!=Object.getOwnPropertyNames(e).length)}function qRt(t){var e,n,i,r,o,s,a;for(e=!1,n=0,r=new Wf(t.d.b);r.a<r.c.c.length;)for((i=jV(Q1(r),29)).p=n++,s=new Wf(i.a);s.a<s.c.c.length;)o=jV(Q1(s),10),!e&&!c3(lft(o))&&(e=!0);a=_U((jht(),jAe),Cat(z_(WAe,1),PYt,103,0,[BAe,FAe])),e||(art(a,$Ae),art(a,RAe)),t.a=new het(a),MW(t.f),MW(t.b),MW(t.e),MW(t.g)}function WRt(t,e,n){var i,r,o,s,a,c,l,u,h;for(i=n.c,r=n.d,a=g1(e.c),c=g1(e.d),i==e.c?(a=hDt(t,a,r),c=cTt(e.d)):(a=cTt(e.c),c=hDt(t,c,r)),n4(l=new Rk(e.a),a,l.a,l.a.a),n4(l,c,l.c.b,l.c),s=e.c==i,h=new Xw,o=0;o<l.b-1;++o)u=new nI(jV(Lbt(l,o),8),jV(Lbt(l,o+1),8)),s&&0==o||!s&&o==l.b-2?h.b=u:WV(h.a,u);return h}function GRt(t,e){var n,i,r,o;if(0!=(o=t.j.g-e.j.g))return o;if(n=jV(wTt(t,(VGt(),ebe)),19),i=jV(wTt(e,ebe),19),n&&i&&0!=(r=n.a-i.a))return r;switch(t.j.g){case 1:return Cdt(t.n.a,e.n.a);case 2:return Cdt(t.n.b,e.n.b);case 3:return Cdt(e.n.a,t.n.a);case 4:return Cdt(e.n.b,t.n.b);default:throw $b(new Fv(i1t))}}function KRt(t,e,n,r){var o,s,a,c;if(F3((Vj(),new sq(ZD(lft(e).a.Kc(),new u))))>=t.a)return-1;if(!eEt(e,n))return-1;if(c3(jV(r.Kb(e),20)))return 1;for(o=0,a=jV(r.Kb(e),20).Kc();a.Ob();){if(-1==(c=KRt(t,(s=jV(a.Pb(),17)).c.i==e?s.d.i:s.c.i,n,r)))return-1;if((o=i.Math.max(o,c))>t.c-1)return-1}return o+1}function YRt(t,e){var n,i,r,o,s,a;if(zI(e)===zI(t))return!0;if(!iD(e,15))return!1;if(i=jV(e,15),a=t.gc(),i.gc()!=a)return!1;if(s=i.Kc(),t.ni()){for(n=0;n<a;++n)if(r=t.ki(n),o=s.Pb(),null==r?null!=o:!Dht(r,o))return!1}else for(n=0;n<a;++n)if(r=t.ki(n),o=s.Pb(),zI(r)!==zI(o))return!1;return!0}function XRt(t,e){var n,i,r,o,s,a;if(t.f>0)if(t.qj(),null!=e){for(o=0;o<t.d.length;++o)if(n=t.d[o])for(i=jV(n.g,367),a=n.i,s=0;s<a;++s)if(Dht(e,(r=i[s]).dd()))return!0}else for(o=0;o<t.d.length;++o)if(n=t.d[o])for(i=jV(n.g,367),a=n.i,s=0;s<a;++s)if(r=i[s],zI(e)===zI(r.dd()))return!0;return!1}function ZRt(t,e,n){var i,r,o,s;IEt(n,"Orthogonally routing hierarchical port edges",1),t.a=0,DUt(e,i=qzt(e)),YHt(t,e,i),uWt(e),r=jV(wTt(e,(VGt(),tbe)),98),Aqt((u1(0,(o=e.b).c.length),jV(o.c[0],29)),r,e),Aqt(jV(DH(o,o.c.length-1),29),r,e),xVt((u1(0,(s=e.b).c.length),jV(s.c[0],29))),xVt(jV(DH(s,s.c.length-1),29)),VCt(n)}function QRt(t){switch(t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return t-48<<24>>24;case 97:case 98:case 99:case 100:case 101:case 102:return t-97+10<<24>>24;case 65:case 66:case 67:case 68:case 69:case 70:return t-65+10<<24>>24;default:throw $b(new x_("Invalid hexadecimal"))}}function JRt(t,e,n){var i,r,o,s;for(IEt(n,"Processor order nodes",2),t.a=zv(xR(wTt(e,(APt(),D_e)))),r=new YE,s=cbt(e.b,0);s.b!=s.d.c;)Vv(kR(wTt(o=jV(h3(s),86),(zHt(),f_e))))&&n4(r,o,r.c.b,r.c);TL(0!=r.b),Bzt(t,i=jV(r.a.a.c,86)),!n.b&&zit(n,1),$Bt(t,i,0-zv(xR(wTt(i,(zHt(),o_e))))/2,0),!n.b&&zit(n,1),VCt(n)}function tBt(){tBt=M,Lie=new $C("SPIRAL",0),Mie=new $C("LINE_BY_LINE",1),Pie=new $C("MANHATTAN",2),Iie=new $C("JITTER",3),Die=new $C("QUADRANTS_LINE_BY_LINE",4),Nie=new $C("QUADRANTS_MANHATTAN",5),Oie=new $C("QUADRANTS_JITTER",6),Sie=new $C("COMBINE_LINE_BY_LINE_MANHATTAN",7),Aie=new $C("COMBINE_JITTER_MANHATTAN",8)}function eBt(t,e,n,i){var r,o,s,a,c,l;for(c=Dkt(t,n),l=Dkt(e,n),r=!1;c&&l&&(i||wvt(c,l,n));)s=Dkt(c,n),a=Dkt(l,n),I9(e),I9(t),o=c.c,iUt(c,!1),iUt(l,!1),n?(Yvt(e,l.p,o),e.p=l.p,Yvt(t,c.p+1,o),t.p=c.p):(Yvt(t,c.p,o),t.p=c.p,Yvt(e,l.p+1,o),e.p=l.p),TJ(c,null),TJ(l,null),c=s,l=a,r=!0;return r}function nBt(t,e,n,i){var r,o,s,a,c;for(r=!1,o=!1,a=new Wf(i.j);a.a<a.c.c.length;)zI(wTt(s=jV(Q1(a),11),(lKt(),fde)))===zI(n)&&(0==s.g.c.length?0==s.e.c.length||(r=!0):o=!0);return c=0,r&&r^o?c=n.j==(vWt(),aIe)?-t.e[i.c.p][i.p]:e-t.e[i.c.p][i.p]:o&&r^o?c=t.e[i.c.p][i.p]+1:r&&o&&(c=n.j==(vWt(),aIe)?0:e/2),c}function iBt(t,e,n,i,r,o,s,a){var c,l,u;for(c=0,null!=e&&(c^=bwt(e.toLowerCase())),null!=n&&(c^=bwt(n)),null!=i&&(c^=bwt(i)),null!=s&&(c^=bwt(s)),null!=a&&(c^=bwt(a)),l=0,u=o.length;l<u;l++)c^=bwt(o[l]);t?c|=256:c&=-257,r?c|=16:c&=-17,this.f=c,this.i=null==e?null:(yK(e),e),this.a=n,this.d=i,this.j=o,this.g=s,this.e=a}function rBt(t,e,n){var i,r;switch(r=null,e.g){case 1:pot(),r=Oae;break;case 2:pot(),r=Nae}switch(i=null,n.g){case 1:pot(),i=Dae;break;case 2:pot(),i=Pae;break;case 3:pot(),i=Lae;break;case 4:pot(),i=Rae}return r&&i?RV(t.j,new jh(new Xv(Cat(z_(Ote,1),VKt,169,0,[jV(wG(r),169),jV(wG(i),169)])))):(EX(),EX(),cne)}function oBt(t){var e,n,i;switch(e=jV(wTt(t,(VGt(),$me)),8),lct(t,$me,new DS(e.b,e.a)),jV(wTt(t,ype),248).g){case 1:lct(t,ype,(fwt(),PTe));break;case 2:lct(t,ype,(fwt(),ATe));break;case 3:lct(t,ype,(fwt(),ITe));break;case 4:lct(t,ype,(fwt(),MTe))}(t.q?t.q:(EX(),EX(),lne))._b(abe)&&(i=(n=jV(wTt(t,abe),8)).a,n.a=n.b,n.b=i)}function sBt(t,e,n,i,r,o){if(this.b=n,this.d=r,t>=e.length)throw $b(new Iv("Greedy SwitchDecider: Free layer not in graph."));this.c=e[t],this.e=new KF(i),yrt(this.e,this.c,(vWt(),CIe)),this.i=new KF(i),yrt(this.i,this.c,sIe),this.f=new uU(this.c),this.a=!o&&r.i&&!r.s&&this.c[0].k==(sCt(),xae),this.a&&pAt(this,t,e.length)}function aBt(t,e){var n,i,r,o,s,a;o=!t.B.Hc((JFt(),$Ie)),s=t.B.Hc(HIe),t.a=new Vgt(s,o,t.c),t.n&&yX(t.a.n,t.n),vv(t.g,(Let(),Hie),t.a),e||((i=new Smt(1,o,t.c)).n.a=t.k,bU(t.p,(vWt(),aIe),i),(r=new Smt(1,o,t.c)).n.d=t.k,bU(t.p,EIe,r),(a=new Smt(0,o,t.c)).n.c=t.k,bU(t.p,CIe,a),(n=new Smt(0,o,t.c)).n.b=t.k,bU(t.p,sIe,n))}function cBt(t){var e,n,i;switch((e=jV(wTt(t.d,(VGt(),Zpe)),218)).g){case 2:n=EGt(t);break;case 3:i=new Ob,XE(IY(MY(dtt(dtt(new LH(null,new d1(t.d.b,16)),new Mr),new Pr),new Or),new br),new Cp(i)),n=i;break;default:throw $b(new Fv("Compaction not supported for "+e+" edges."))}pHt(t,n),t4(new Cf(t.g),new Ep(t))}function lBt(t,e){var n;return n=new Qt,e&&zst(n,jV(LG(t.a,DMe),94)),iD(e,470)&&zst(n,jV(LG(t.a,NMe),94)),iD(e,354)?(zst(n,jV(LG(t.a,zMe),94)),n):(iD(e,82)&&zst(n,jV(LG(t.a,LMe),94)),iD(e,239)?(zst(n,jV(LG(t.a,HMe),94)),n):iD(e,186)?(zst(n,jV(LG(t.a,UMe),94)),n):(iD(e,352)&&zst(n,jV(LG(t.a,RMe),94)),n))}function uBt(){uBt=M,Zoe=new qP((cKt(),pAe),ndt(1)),ise=new qP(PAe,80),nse=new qP(EAe,5),Foe=new qP(iCe,gJt),Qoe=new qP(mAe,ndt(1)),ese=new qP(yAe,(cN(),!0)),Koe=new WP(50),Goe=new qP(qCe,Koe),$oe=CCe,Yoe=oAe,joe=new qP(fCe,!1),Woe=UCe,qoe=VCe,Uoe=RCe,Hoe=NCe,Xoe=lAe,_Ct(),zoe=Aoe,rse=Ooe,Voe=Coe,Joe=Ioe,tse=Poe}function hBt(t){var e,n,i,r,o,s,a;for(a=new m4,s=new Wf(t.a);s.a<s.c.c.length;)if((o=jV(Q1(s),10)).k!=(sCt(),xae))for(FPt(a,o,new zk),r=new sq(ZD(hft(o).a.Kc(),new u));gPt(r);)if((i=jV(U4(r),17)).c.i.k!=xae&&i.d.i.k!=xae)for(n=cbt(i.a,0);n.b!=n.d.c;)Xkt(a,new fA((e=jV(h3(n),8)).a,e.b));return a}function dBt(){dBt=M,LEe=new ob(B5t),ST(),DEe=new MM(z5t,NEe=zEe),Oat(),PEe=new MM(F5t,OEe=WEe),PCt(),IEe=new MM(j5t,MEe=nEe),TEe=new MM($5t,null),M6(),AEe=new MM(V5t,SEe=Zxe),CT(),vEe=new MM(H5t,_Ee=qxe),kEe=new MM(U5t,(cN(),!1)),xEe=new MM(q5t,ndt(64)),EEe=new MM(W5t,!0),CEe=Qxe}function fBt(t){var e,n,i,r,o;if(null==t.a)if(t.a=D7(INe,QZt,25,t.c.b.c.length,16,1),t.a[0]=!1,PL(t.c,(VGt(),Ube)))for(n=jV(wTt(t.c,Ube),15).Kc();n.Ob();)(e=jV(n.Pb(),19).a)>0&&e<t.a.length&&(t.a[e]=!1);else for((o=new Wf(t.c.b)).a<o.c.c.length&&Q1(o),i=1;o.a<o.c.c.length;)r=jV(Q1(o),29),t.a[i++]=qOt(r)}function gBt(t,e){var n,i;switch(i=t.b,e){case 1:t.b|=1,t.b|=4,t.b|=8;break;case 2:t.b|=2,t.b|=4,t.b|=8;break;case 4:t.b|=1,t.b|=2,t.b|=4,t.b|=8;break;case 3:t.b|=16,t.b|=8;break;case 0:t.b|=32,t.b|=16,t.b|=8,t.b|=1,t.b|=2,t.b|=4}if(t.b!=i&&t.c)for(n=new ID(t.c);n.e!=n.i.gc();)MSt(T4(jV(vbt(n),473)),e)}function pBt(t,e,n,i){var r,o,s,a,c,l,u,h,d,f;for(r=!1,a=0,c=(s=e).length;a<c;++a)o=s[a],Vv((cN(),!!o.e))&&!jV(DH(t.b,o.e.p),214).s&&(r|=(l=o.e,(h=(u=jV(DH(t.b,l.p),214)).e)[d=lk(n,h.length)][0].k==(sCt(),xae)?h[d]=PNt(o,h[d],n?(vWt(),CIe):(vWt(),sIe)):u.c.Tf(h,n),f=LNt(t,u,n,i),NLt(u.e,u.o,n),f));return r}function mBt(t,e){var n,i,r,o,s;for(o=(!e.a&&(e.a=new tW(HMe,e,10,11)),e.a).i,r=new ID((!e.a&&(e.a=new tW(HMe,e,10,11)),e.a));r.e!=r.i.gc();)zI(QPt(i=jV(vbt(r),33),(cKt(),_Ce)))!==zI((sht(),bSe))&&((s=jV(QPt(e,bAe),149))==(n=jV(QPt(i,bAe),149))||s&&v4(s,n))&&0!=(!i.a&&(i.a=new tW(HMe,i,10,11)),i.a).i&&(o+=mBt(t,i));return o}function bBt(t){var e,n,i,r,o,s,a;for(i=0,a=0,s=new Wf(t.d);s.a<s.c.c.length;)o=jV(Q1(s),101),r=jV(T5(IY(new LH(null,new d1(o.j,16)),new Gr),b8(new z,new V,new it,Cat(z_(Qne,1),PYt,132,0,[(zlt(),Une)]))),15),n=null,i<=a?(vWt(),n=aIe,i+=r.gc()):a<i&&(vWt(),n=EIe,a+=r.gc()),e=n,XE(MY(r.Oc(),new zr),new Ip(e))}function wBt(t){var e,n,i,r,o,s,a,c;for(t.b=new bMt(new Xv((vWt(),Cat(z_(FIe,1),XJt,61,0,[TIe,aIe,sIe,EIe,CIe]))),new Xv((Art(),Cat(z_(Wle,1),PYt,361,0,[Lle,Nle,Dle])))),a=0,c=(s=Cat(z_(FIe,1),XJt,61,0,[TIe,aIe,sIe,EIe,CIe])).length;a<c;++a)for(o=s[a],i=0,r=(n=Cat(z_(Wle,1),PYt,361,0,[Lle,Nle,Dle])).length;i<r;++i)e=n[i],Gkt(t.b,o,e,new Ob)}function yBt(t,e){var n,i,r,o,s,a,c,l,u,h;if(s=jV(jV(c6(t.r,e),21),84),a=t.u.Hc((hIt(),nIe)),n=t.u.Hc(JSe),i=t.u.Hc(QSe),l=t.u.Hc(iIe),h=t.B.Hc((JFt(),KIe)),u=!n&&!i&&(l||2==s.gc()),lLt(t,e),r=null,c=null,a){for(c=r=jV((o=s.Kc()).Pb(),111);o.Ob();)c=jV(o.Pb(),111);r.d.b=0,c.d.c=0,u&&!r.a&&(r.d.c=0)}h&&(LEt(s),a&&(r.d.b=0,c.d.c=0))}function vBt(t,e){var n,i,r,o,s,a,c,l,u,h;if(s=jV(jV(c6(t.r,e),21),84),a=t.u.Hc((hIt(),nIe)),n=t.u.Hc(JSe),i=t.u.Hc(QSe),c=t.u.Hc(iIe),h=t.B.Hc((JFt(),KIe)),l=!n&&!i&&(c||2==s.gc()),Kjt(t,e),u=null,r=null,a){for(r=u=jV((o=s.Kc()).Pb(),111);o.Ob();)r=jV(o.Pb(),111);u.d.d=0,r.d.a=0,l&&!u.a&&(u.d.a=0)}h&&(REt(s),a&&(u.d.d=0,r.d.a=0))}function _Bt(t,e,n){var i,r,o,s,a;if(i=e.k,e.p>=0)return!1;if(e.p=n.b,WV(n.e,e),i==(sCt(),Tae)||i==Aae)for(r=new Wf(e.j);r.a<r.c.c.length;)for(a=new Hg(new Wf(new zg(jV(Q1(r),11)).a.g));wO(a.a);)if(s=(o=jV(Q1(a.a),17).d.i).k,e.c!=o.c&&(s==Tae||s==Aae)&&_Bt(t,o,n))return!0;return!0}function kBt(t){var e;return 64&t.Db?BMt(t):((e=new lN(BMt(t))).a+=" (changeable: ",wx(e,!!(t.Bb&v6t)),e.a+=", volatile: ",wx(e,!!(t.Bb&E8t)),e.a+=", transient: ",wx(e,!!(t.Bb&FXt)),e.a+=", defaultValueLiteral: ",iM(e,t.j),e.a+=", unsettable: ",wx(e,!!(t.Bb&x8t)),e.a+=", derived: ",wx(e,!!(t.Bb&lYt)),e.a+=")",e.a)}function xBt(t){var e,n,i,r,o,s,a,c,l,u;for(n=DDt(t.d),o=(r=jV(wTt(t.b,(kbt(),moe)),116)).b+r.c,s=r.d+r.a,c=n.d.a*t.e+o,a=n.b.a*t.f+s,Md(t.b,new DS(c,a)),u=new Wf(t.g);u.a<u.c.c.length;)e=UB(FL(new DS((l=jV(Q1(u),562)).g-n.a.a,l.i-n.c.a),l.a,l.b),yD(jL(jO(GP(l.e)),l.d*l.a,l.c*l.b),-.5)),i=KP(l.e),ek(l.e,qB(e,i))}function EBt(t,e,n,i){var r,o,s,a,c;for(c=D7(ONe,cYt,104,(vWt(),Cat(z_(FIe,1),XJt,61,0,[TIe,aIe,sIe,EIe,CIe])).length,0,2),s=0,a=(o=Cat(z_(FIe,1),XJt,61,0,[TIe,aIe,sIe,EIe,CIe])).length;s<a;++s)c[(r=o[s]).g]=D7(ONe,zXt,25,t.c[r.g],15,1);return $_t(c,t,aIe),$_t(c,t,EIe),Nyt(c,t,aIe,e,n,i),Nyt(c,t,sIe,e,n,i),Nyt(c,t,EIe,e,n,i),Nyt(c,t,CIe,e,n,i),c}function TBt(t,e,n){if(cW(t.a,e)){if(FE(jV(LG(t.a,e),53),n))return 1}else GK(t.a,e,new Lw);if(cW(t.a,n)){if(FE(jV(LG(t.a,n),53),e))return-1}else GK(t.a,n,new Lw);if(cW(t.b,e)){if(FE(jV(LG(t.b,e),53),n))return-1}else GK(t.b,e,new Lw);if(cW(t.b,n)){if(FE(jV(LG(t.b,n),53),e))return 1}else GK(t.b,n,new Lw);return 0}function CBt(t,e,n,i){var r,o,s,a,c,l;if(null==n)for(r=jV(t.g,119),a=0;a<t.i;++a)if((s=r[a]).ak()==e)return Fbt(t,s,i);return ZT(),o=jV(e,66).Oj()?jV(n,72):Z3(e,n),bP(t.e)?(l=!opt(t,e),i=Xgt(t,o,i),c=e.$j()?PZ(t,3,e,null,n,mVt(t,e,n,iD(e,99)&&!!(jV(e,18).Bb&$Xt)),l):PZ(t,1,e,e.zj(),n,-1,l),i?i.Ei(c):i=c):i=Xgt(t,o,i),i}function ABt(t){var e,n,r,o,s,a;t.q!=(Yxt(),WSe)&&t.q!=qSe&&(o=t.f.n.d+qz(jV(sY(t.b,(vWt(),aIe)),124))+t.c,e=t.f.n.a+qz(jV(sY(t.b,EIe),124))+t.c,r=jV(sY(t.b,sIe),124),a=jV(sY(t.b,CIe),124),s=i.Math.max(0,r.n.d-o),s=i.Math.max(s,a.n.d-o),n=i.Math.max(0,r.n.a-e),n=i.Math.max(n,a.n.a-e),r.n.d=s,a.n.d=s,r.n.a=n,a.n.a=n)}function SBt(t,e){var n,i,r,o,s,a,c;for(IEt(e,"Restoring reversed edges",1),s=new Wf(t.b);s.a<s.c.c.length;)for(a=new Wf(jV(Q1(s),29).a);a.a<a.c.c.length;)for(c=new Wf(jV(Q1(a),10).j);c.a<c.c.c.length;)for(r=0,o=(i=Z0(jV(Q1(c),11).g)).length;r<o;++r)Vv(kR(wTt(n=i[r],(lKt(),Cde))))&&tVt(n,!1);VCt(e)}function IBt(){this.b=new m5,this.d=new m5,this.e=new m5,this.c=new m5,this.a=new Db,this.f=new Db,DQ(TTe,new va,new _a),DQ(OTe,new Oa,new Da),DQ(_ae,new Na,new La),DQ(Bae,new Ba,new Fa),DQ(cMe,new ja,new $a),DQ(bne,new ka,new xa),DQ(Ane,new Ea,new Ta),DQ(vne,new Ca,new Aa),DQ(_ne,new Sa,new Ia),DQ(jne,new Ma,new Pa)}function MBt(t){var e,n,i,r,o,s;return o=0,(e=S_t(t)).Bj()&&(o|=4),t.Bb&x8t&&(o|=2),iD(t,99)?(r=Awt(n=jV(t,18)),n.Bb&l6t&&(o|=32),r&&(hG(fJ(r)),o|=8,((s=r.t)>1||-1==s)&&(o|=16),r.Bb&l6t&&(o|=64)),n.Bb&$Xt&&(o|=E8t),o|=v6t):iD(e,457)?o|=512:(i=e.Bj())&&1&i.i&&(o|=256),512&t.Bb&&(o|=128),o}function PBt(t,e){var n,i,r,o,s;for(t=null==t?UKt:(yK(t),t),r=0;r<e.length;r++)e[r]=nDt(e[r]);for(n=new A_,s=0,i=0;i<e.length&&-1!=(o=t.indexOf("%s",s));)n.a+=""+lL(null==t?UKt:(yK(t),t),s,o),oM(n,e[i++]),s=o+2;if(z0(n,t,s,t.length),i<e.length){for(n.a+=" [",oM(n,e[i++]);i<e.length;)n.a+=jKt,oM(n,e[i++]);n.a+="]"}return n.a}function OBt(t){var e,n,i,r,o;for(o=new X6(t.a.c.length),r=new Wf(t.a);r.a<r.c.c.length;){switch(i=jV(Q1(r),10),e=null,(n=jV(wTt(i,(VGt(),yme)),163)).g){case 1:case 2:Zat(),e=Mue;break;case 3:case 4:Zat(),e=Sue}e?(lct(i,(lKt(),zhe),(Zat(),Mue)),e==Sue?RNt(i,n,(oit(),$we)):e==Mue&&RNt(i,n,(oit(),Vwe))):o.c[o.c.length]=i}return o}function DBt(t,e){var n,i,r,o,s,a,c;for(n=0,c=new Wf(e);c.a<c.c.c.length;){for(a=jV(Q1(c),11),Jlt(t.b,t.d[a.p]),s=0,r=new b6(a.b);wO(r.a)||wO(r.b);)CK(i=jV(wO(r.a)?Q1(r.a):Q1(r.b),17))?(o=xx(t,a==i.c?i.d:i.c))>t.d[a.p]&&(n+=Q5(t.b,o),f3(t.a,ndt(o))):++s;for(n+=t.b.d*s;!Wv(t.a);)xtt(t.b,jV(fW(t.a),19).a)}return n}function NBt(t,e){var n;return t.f==rDe?(n=NK(j9((SAt(),XOe),e)),t.e?4==n&&e!=(xMt(),cDe)&&e!=(xMt(),oDe)&&e!=(xMt(),sDe)&&e!=(xMt(),aDe):2==n):!(!t.d||!(t.d.Hc(e)||t.d.Hc(Z1(j9((SAt(),XOe),e)))||t.d.Hc(jHt((SAt(),XOe),t.b,e))))||!(!t.f||!oNt((SAt(),t.f),vY(j9(XOe,e))))&&(n=NK(j9(XOe,e)),t.e?4==n:2==n)}function LBt(t,e,n,r){var o,s,a,c,l,u,h,d;return l=(a=jV(QPt(n,(cKt(),gAe)),8)).a,h=a.b+t,(o=i.Math.atan2(h,l))<0&&(o+=Q3t),(o+=e)>Q3t&&(o-=Q3t),u=(c=jV(QPt(r,gAe),8)).a,d=c.b+t,(s=i.Math.atan2(d,u))<0&&(s+=Q3t),(s+=e)>Q3t&&(s-=Q3t),cO(),iit(1e-10),i.Math.abs(o-s)<=1e-10||o==s||isNaN(o)&&isNaN(s)?0:o<s?-1:o>s?1:HM(isNaN(o),isNaN(s))}function RBt(t){var e,n,i,r,o,s,a;for(a=new Db,i=new Wf(t.a.b);i.a<i.c.c.length;)GK(a,e=jV(Q1(i),57),new Ob);for(r=new Wf(t.a.b);r.a<r.c.c.length;)for((e=jV(Q1(r),57)).i=BXt,s=e.c.Kc();s.Ob();)o=jV(s.Pb(),57),jV(VI(IZ(a.f,o)),15).Fc(e);for(n=new Wf(t.a.b);n.a<n.c.c.length;)(e=jV(Q1(n),57)).c.$b(),e.c=jV(VI(IZ(a.f,e)),15);FLt(t)}function BBt(t){var e,n,i,r,o,s,a;for(a=new Db,i=new Wf(t.a.b);i.a<i.c.c.length;)GK(a,e=jV(Q1(i),81),new Ob);for(r=new Wf(t.a.b);r.a<r.c.c.length;)for((e=jV(Q1(r),81)).o=BXt,s=e.f.Kc();s.Ob();)o=jV(s.Pb(),81),jV(VI(IZ(a.f,o)),15).Fc(e);for(n=new Wf(t.a.b);n.a<n.c.c.length;)(e=jV(Q1(n),81)).f.$b(),e.f=jV(VI(IZ(a.f,e)),15);$Nt(t)}function FBt(t,e,n,i){var r,o;for(H_t(t,e,n,i),Od(e,t.j-e.j+n),Dd(e,t.k-e.k+i),o=new Wf(e.f);o.a<o.c.c.length;)switch((r=jV(Q1(o),324)).a.g){case 0:fct(t,e.g+r.b.a,0,e.g+r.c.a,e.i-1);break;case 1:fct(t,e.g+e.o,e.i+r.b.a,t.o-1,e.i+r.c.a);break;case 2:fct(t,e.g+r.b.a,e.i+e.p,e.g+r.c.a,t.p-1);break;default:fct(t,0,e.i+r.b.a,e.g-1,e.i+r.c.a)}}function jBt(t,e,n,i,r){var o,s;try{if(e>=t.o)throw $b(new Ew);s=e>>5,o=wq(1,fU(wq(31&e,1))),t.n[n][s]=r?e0(t.n[n][s],o):t0(t.n[n][s],oz(o)),o=wq(o,1),t.n[n][s]=i?e0(t.n[n][s],o):t0(t.n[n][s],oz(o))}catch(i){throw iD(i=hat(i),320)?$b(new Iv(EQt+t.o+"*"+t.p+TQt+e+jKt+n+CQt)):$b(i)}}function $Bt(t,e,n,r){var o,s;e&&(o=zv(xR(wTt(e,(zHt(),l_e))))+r,s=n+zv(xR(wTt(e,o_e)))/2,lct(e,g_e,ndt(fU(ust(i.Math.round(o))))),lct(e,p_e,ndt(fU(ust(i.Math.round(s))))),0==e.d.b||$Bt(t,jV(eD(new dm(cbt(new hm(e).a.d,0))),86),n+zv(xR(wTt(e,o_e)))+t.a,r+zv(xR(wTt(e,s_e)))),null!=wTt(e,d_e)&&$Bt(t,jV(wTt(e,d_e),86),n,r))}function VBt(t,e){var n,r,o,s,a,c,l,u,h,d,f;for(o=2*zv(xR(wTt(l=mK(e.a),(VGt(),kbe)))),h=zv(xR(wTt(l,Ibe))),u=i.Math.max(o,h),s=D7(ONe,zXt,25,e.f-e.c+1,15,1),r=-u,n=0,c=e.b.Kc();c.Ob();)a=jV(c.Pb(),10),r+=t.a[a.c.p]+u,s[n++]=r;for(r+=t.a[e.a.c.p]+u,s[n++]=r,f=new Wf(e.e);f.a<f.c.c.length;)d=jV(Q1(f),10),r+=t.a[d.c.p]+u,s[n++]=r;return s}function zBt(t,e,n,i){var r,o,s,a,c,l,u,h;for(h=new fx(new Yp(t)),a=0,c=(s=Cat(z_(Sae,1),o1t,10,0,[e,n])).length;a<c;++a)for(u=Oht(s[a],i).Kc();u.Ob();)for(o=new b6((l=jV(u.Pb(),11)).b);wO(o.a)||wO(o.b);)h4(r=jV(wO(o.a)?Q1(o.a):Q1(o.b),17))||(Ect(h.a,l,(cN(),mee)),CK(r)&&ZW(h,l==r.c?r.d:r.c));return wG(h),new JF(h)}function HBt(t,e){var n,i,r,o;if(0!=(o=jV(QPt(t,(cKt(),dAe)),61).g-jV(QPt(e,dAe),61).g))return o;if(n=jV(QPt(t,aAe),19),i=jV(QPt(e,aAe),19),n&&i&&0!=(r=n.a-i.a))return r;switch(jV(QPt(t,dAe),61).g){case 1:return Cdt(t.i,e.i);case 2:return Cdt(t.j,e.j);case 3:return Cdt(e.i,t.i);case 4:return Cdt(e.j,t.j);default:throw $b(new Fv(i1t))}}function UBt(t){var e,n,i;return 64&t.Db?wCt(t):(e=new uN(J4t),(n=t.k)?sM(sM((e.a+=' "',e),n),'"'):(!t.n&&(t.n=new tW(zMe,t,1,7)),t.n.i>0&&(!(i=(!t.n&&(t.n=new tW(zMe,t,1,7)),jV(Get(t.n,0),137)).a)||sM(sM((e.a+=' "',e),i),'"'))),sM(yx(sM(yx(sM(yx(sM(yx((e.a+=" (",e),t.i),","),t.j)," | "),t.g),","),t.f),")"),e.a)}function qBt(t){var e,n,i;return 64&t.Db?wCt(t):(e=new uN(t6t),(n=t.k)?sM(sM((e.a+=' "',e),n),'"'):(!t.n&&(t.n=new tW(zMe,t,1,7)),t.n.i>0&&(!(i=(!t.n&&(t.n=new tW(zMe,t,1,7)),jV(Get(t.n,0),137)).a)||sM(sM((e.a+=' "',e),i),'"'))),sM(yx(sM(yx(sM(yx(sM(yx((e.a+=" (",e),t.i),","),t.j)," | "),t.g),","),t.f),")"),e.a)}function WBt(t,e){var n,i,r,o,s,a;if(null==e||0==e.length)return null;if(!(r=jV(EQ(t.a,e),149))){for(i=new Rf(new Sf(t.b).a.vc().Kc());i.a.Ob();)if(o=jV(i.a.Pb(),42),s=(n=jV(o.dd(),149)).c,a=e.length,bF(s.substr(s.length-a,a),e)&&(e.length==s.length||46==lY(s,s.length-e.length-1))){if(r)return null;r=n}r&&bJ(t.a,e,r)}return r}function GBt(t,e){var n,i,r;return n=new Nt,(i=jV(T5(MY(new LH(null,new d1(t.f,16)),n),D9(new X,new Z,new rt,new ot,Cat(z_(Qne,1),PYt,132,0,[(zlt(),qne),Une]))),21).gc())<(r=jV(T5(MY(new LH(null,new d1(e.f,16)),n),D9(new X,new Z,new rt,new ot,Cat(z_(Qne,1),PYt,132,0,[qne,Une]))),21).gc())?-1:i==r?0:1}function KBt(t){var e,n,i;PL(t,(VGt(),Mme))&&((i=jV(wTt(t,Mme),21)).dc()||(n=new YF(e=jV(Gk(zSe),9),jV(EB(e,e.length),9),0),i.Hc((JPt(),MSe))?art(n,MSe):art(n,PSe),i.Hc(SSe)||art(n,SSe),i.Hc(ASe)?art(n,NSe):i.Hc(CSe)?art(n,DSe):i.Hc(ISe)&&art(n,OSe),i.Hc(NSe)?art(n,ASe):i.Hc(DSe)?art(n,CSe):i.Hc(OSe)&&art(n,ISe),lct(t,Mme,n)))}function YBt(t){var e,n,i,r,o,s,a;for(r=jV(wTt(t,(lKt(),nde)),10),u1(0,(i=t.j).c.length),n=jV(i.c[0],11),s=new Wf(r.j);s.a<s.c.c.length;)if(zI(o=jV(Q1(s),11))===zI(wTt(n,fde))){o.j==(vWt(),aIe)&&t.p>r.p?(zSt(o,EIe),o.d&&(a=o.o.b,e=o.a.b,o.a.b=a-e)):o.j==EIe&&r.p>t.p&&(zSt(o,aIe),o.d&&(a=o.o.b,e=o.a.b,o.a.b=-(a-e)));break}return r}function XBt(t,e,n,i){var r,o,s,a,c,l,u,h,d,f,g;if(o=n,n<i)for(f=new jst(t.p),g=new jst(t.p),jrt(f.e,t.e),f.q=t.q,f.r=g,nG(f),jrt(g.j,t.j),g.r=f,nG(g),h=jV((d=new nI(f,g)).a,112),u=jV(d.b,112),u1(o,e.c.length),s=PRt(t,h,u,r=jV(e.c[o],329)),l=n+1;l<=i;l++)u1(l,e.c.length),Kbt(a=jV(e.c[l],329),c=PRt(t,h,u,a),r,s)&&(r=a,s=c);return o}function ZBt(t,e,n,i,r){var o,s,a,c,l,u,h;if(!(iD(e,239)||iD(e,354)||iD(e,186)))throw $b(new Bv("Method only works for ElkNode-, ElkLabel and ElkPort-objects."));return s=t.a/2,c=e.i+i-s,u=e.j+r-s,l=c+e.g+t.a,h=u+e.f+t.a,Nz(o=new yy,new DS(c,u)),Nz(o,new DS(c,h)),Nz(o,new DS(l,h)),Nz(o,new DS(l,u)),zst(a=new kPt(o),e),n&&GK(t.b,e,a),a}function QBt(t,e,n){var i,r,o,s,a,c,l,u;for(o=new DS(e,n),l=new Wf(t.a);l.a<l.c.c.length;)for(UB((c=jV(Q1(l),10)).n,o),u=new Wf(c.j);u.a<u.c.c.length;)for(r=new Wf(jV(Q1(u),11).g);r.a<r.c.c.length;)for(Qet((i=jV(Q1(r),17)).a,o),(s=jV(wTt(i,(VGt(),mme)),74))&&Qet(s,o),a=new Wf(i.b);a.a<a.c.c.length;)UB(jV(Q1(a),70).n,o)}function JBt(t,e,n){var i,r,o,s,a,c,l,u;for(o=new DS(e,n),l=new Wf(t.a);l.a<l.c.c.length;)for(UB((c=jV(Q1(l),10)).n,o),u=new Wf(c.j);u.a<u.c.c.length;)for(r=new Wf(jV(Q1(u),11).g);r.a<r.c.c.length;)for(Qet((i=jV(Q1(r),17)).a,o),(s=jV(wTt(i,(VGt(),mme)),74))&&Qet(s,o),a=new Wf(i.b);a.a<a.c.c.length;)UB(jV(Q1(a),70).n,o)}function tFt(t){if(0==(!t.b&&(t.b=new cF(LMe,t,4,7)),t.b).i)throw $b(new i_("Edges must have a source."));if(0==(!t.c&&(t.c=new cF(LMe,t,5,8)),t.c).i)throw $b(new i_("Edges must have a target."));if(!t.b&&(t.b=new cF(LMe,t,4,7)),!(t.b.i<=1&&(!t.c&&(t.c=new cF(LMe,t,5,8)),t.c.i<=1)))throw $b(new i_("Hyperedges are not supported."))}function eFt(t,e){var n,i,r,o,s,a,c,l,u,h;for(h=0,f3(o=new Pb,e);o.b!=o.c;)for(c=jV(fW(o),214),l=0,u=jV(wTt(e.j,(VGt(),Ppe)),339),s=zv(xR(wTt(e.j,Ape))),a=zv(xR(wTt(e.j,Spe))),u!=(wct(),Owe)&&(l+=s*TOt(c.e,u),l+=a*iLt(c.e)),h+=cvt(c.d,c.e)+l,r=new Wf(c.b);r.a<r.c.c.length;)i=jV(Q1(r),37),(n=jV(DH(t.b,i.p),214)).s||(h+=JAt(t,n));return h}function nFt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m;for(c=f=e.length,h1(0,e.length),45==e.charCodeAt(0)?(h=-1,d=1,--f):(h=1,d=0),r=f/(o=(szt(),rne)[10])|0,0!=(m=f%o)&&++r,a=D7(SNe,lXt,25,r,15,1),n=ine[8],s=0,g=d+(0==m?o:m),p=d;p<c;g=(p=g)+o)i=hjt(e.substr(p,g-p),FYt,LKt),PMt(),l=gwt(a,a,s,n),l+=qgt(a,s,i),a[s++]=l;u=s,t.e=h,t.d=u,t.a=a,q0(t)}function iFt(t,e,n,i,r,o,s){if(t.c=i.qf().a,t.d=i.qf().b,r&&(t.c+=r.qf().a,t.d+=r.qf().b),t.b=e.rf().a,t.a=e.rf().b,r)switch(r.Hf().g){case 0:case 2:t.c+=r.rf().a+s+o.a+s;break;case 4:t.c-=s+o.a+s+e.rf().a;break;case 1:t.c+=r.rf().a+s,t.d-=s+o.b+s+e.rf().b;break;case 3:t.c+=r.rf().a+s,t.d+=r.rf().b+s+o.b+s}else n?t.c-=s+e.rf().a:t.c+=i.rf().a+s}function rFt(t,e){var n,i;for(this.b=new Ob,this.e=new Ob,this.a=t,this.d=e,Hbt(this),mpt(this),this.b.dc()?this.c=t.c.p:this.c=jV(this.b.Xb(0),10).c.p,0==this.e.c.length?this.f=t.c.p:this.f=jV(DH(this.e,this.e.c.length-1),10).c.p,i=jV(wTt(t,(lKt(),Tde)),15).Kc();i.Ob();)if(PL(n=jV(i.Pb(),70),(VGt(),Gpe))){this.d=jV(wTt(n,Gpe),227);break}}function oFt(t,e,n){var i,r,o,s,a,c,l,u;for(i=jV(LG(t.a,e),53),o=jV(LG(t.a,n),53),r=jV(LG(t.e,e),53),s=jV(LG(t.e,n),53),i.a.zc(n,i),s.a.zc(e,s),u=o.a.ec().Kc();u.Ob();)l=jV(u.Pb(),10),i.a.zc(l,i),kW(jV(LG(t.e,l),53),e),jrt(jV(LG(t.e,l),53),r);for(c=r.a.ec().Kc();c.Ob();)a=jV(c.Pb(),10),s.a.zc(a,s),kW(jV(LG(t.a,a),53),n),jrt(jV(LG(t.a,a),53),o)}function sFt(t,e,n){var i,r,o,s,a,c,l,u;for(i=jV(LG(t.a,e),53),o=jV(LG(t.a,n),53),r=jV(LG(t.b,e),53),s=jV(LG(t.b,n),53),i.a.zc(n,i),s.a.zc(e,s),u=o.a.ec().Kc();u.Ob();)l=jV(u.Pb(),10),i.a.zc(l,i),kW(jV(LG(t.b,l),53),e),jrt(jV(LG(t.b,l),53),r);for(c=r.a.ec().Kc();c.Ob();)a=jV(c.Pb(),10),s.a.zc(a,s),kW(jV(LG(t.a,a),53),n),jrt(jV(LG(t.a,a),53),o)}function aFt(t,e){var n,i,r;switch(IEt(e,"Breaking Point Insertion",1),i=new EPt(t),jV(wTt(t,(VGt(),jbe)),337).g){case 2:r=new To;case 0:r=new po;break;default:r=new Co}if(n=r.Vf(t,i),Vv(kR(wTt(t,Vbe)))&&(n=LHt(t,n)),!r.Wf()&&PL(t,qbe))switch(jV(wTt(t,qbe),338).g){case 2:n=WSt(i,n);break;case 1:n=BEt(i,n)}n.dc()||tGt(t,n),VCt(e)}function cFt(t,e,n){var i,r,o,s,a,c,l;if(l=e,Pit(c=K3(t,P3(n),l),L2(l,z6t)),s=O2(l,O6t),KSt((i=new sI(t,c)).a,i.b,s),a=O2(l,D6t),YSt((r=new aI(t,c)).a,r.b,a),0==(!c.b&&(c.b=new cF(LMe,c,4,7)),c.b).i||0==(!c.c&&(c.c=new cF(LMe,c,5,8)),c.c).i)throw o=L2(l,z6t),$b(new t_(W6t+o+G6t));return TEt(l,c),cGt(t,l,c),Nct(t,l,c)}function lFt(t,e){var n,r,o,s,a,c,l;for(o=D7(SNe,lXt,25,t.e.a.c.length,15,1),a=new Wf(t.e.a);a.a<a.c.c.length;)o[(s=jV(Q1(a),121)).d]+=s.b.a.c.length;for(c=HV(e);0!=c.b;)for(r=P8(new Wf((s=jV(0==c.b?null:(TL(0!=c.b),Met(c,c.a.a)),121)).g.a));r.Ob();)(l=(n=jV(r.Pb(),213)).e).e=i.Math.max(l.e,s.e+n.a),--o[l.d],0==o[l.d]&&n4(c,l,c.c.b,c.c)}function uFt(t){var e,n,r,o,s,a,c,l,u,h,d;for(n=FYt,o=LKt,c=new Wf(t.e.a);c.a<c.c.c.length;)s=jV(Q1(c),121),o=i.Math.min(o,s.e),n=i.Math.max(n,s.e);for(e=D7(SNe,lXt,25,n-o+1,15,1),a=new Wf(t.e.a);a.a<a.c.c.length;)(s=jV(Q1(a),121)).e-=o,++e[s.e];if(r=0,null!=t.k)for(h=0,d=(u=t.k).length;h<d&&(l=u[h],e[r++]+=l,e.length!=r);++h);return e}function hFt(t){switch(t.d){case 9:case 8:return!0;case 3:case 5:case 4:case 6:return!1;case 7:return jV(BLt(t),19).a==t.o;case 1:case 2:if(-2==t.o)return!1;switch(t.p){case 0:case 1:case 2:case 6:case 5:case 7:return KI(t.k,t.f);case 3:case 4:return t.j==t.e;default:return null==t.n?null==t.g:Dht(t.n,t.g)}default:return!1}}function dFt(t){OT(t,new EEt(mk(dk(pk(gk(new ma,B4t),"ELK Fixed"),"Keeps the current layout as it is, without any automatic modification. Optional coordinates can be given for nodes and edge bend points."),new Xa))),o2(t,B4t,YQt,fSe),o2(t,B4t,p3t,wbt(gSe)),o2(t,B4t,p4t,wbt(cSe)),o2(t,B4t,CJt,wbt(lSe)),o2(t,B4t,$Jt,wbt(hSe)),o2(t,B4t,X2t,wbt(uSe))}function fFt(t,e,n){var i,r,o,s;if(i=fU(rft(TYt,nY(fU(rft(null==e?0:Jct(e),CYt)),15))),s=fU(rft(TYt,nY(fU(rft(null==n?0:Jct(n),CYt)),15))),(o=Zrt(t,e,i))&&s==o.f&&dK(n,o.i))return n;if(Qrt(t,n,s))throw $b(new Bv("value already present: "+n));return r=new VK(e,i,n,s),o?(ODt(t,o),XSt(t,r,o),o.e=null,o.c=null,o.i):(XSt(t,r,null),z_t(t),null)}function gFt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f;l=n.a.c,s=n.a.c+n.a.b,d=(o=jV(LG(n.c,e),459)).f,f=o.a,a=o.b?new DS(s,d):new DS(l,d),u=o.c?new DS(l,f):new DS(s,f),r=l,n.p||(r+=t.c),c=new DS(r+=n.F+n.v*t.b,d),h=new DS(r,f),Jnt(e.a,Cat(z_(TTe,1),cYt,8,0,[a,c])),n.d.a.gc()>1&&(i=new DS(r,n.b),Nz(e.a,i)),Jnt(e.a,Cat(z_(TTe,1),cYt,8,0,[h,u]))}function pFt(t,e,n){var i,r,o,s,a,c;if(e){if(n<=-1){if(iD(i=eet(e.Tg(),-1-n),99))return jV(i,18);for(a=0,c=(s=jV(e.ah(i),153)).gc();a<c;++a)if(zI(s.jl(a))===zI(t)&&iD(r=s.il(a),99)&&(o=jV(r,18)).Bb&l6t)return o;throw $b(new Fv("The containment feature could not be located"))}return Awt(jV(eet(t.Tg(),n),18))}return null}function mFt(t){var e,n,i,r,o;for(i=t.length,e=new T_,o=0;o<i;)if(9!=(n=lY(t,o++))&&10!=n&&12!=n&&13!=n&&32!=n)if(35!=n)92==n&&o<i?35==(h1(o,t.length),r=t.charCodeAt(o))||9==r||10==r||12==r||13==r||32==r?(OG(e,r&YYt),++o):(e.a+="\\",OG(e,r&YYt),++o):OG(e,n&YYt);else for(;o<i&&13!=(n=lY(t,o++))&&10!=n;);return e.a}function bFt(t,e){var n,i,r;for(i=new Wf(e);i.a<i.c.c.length;)if(n=jV(Q1(i),33),ZIt(t.a,n,n),ZIt(t.b,n,n),0!=(r=fRt(n)).c.length)for(t.d&&t.d.lg(r),ZIt(t.a,n,(u1(0,r.c.length),jV(r.c[0],33))),ZIt(t.b,n,jV(DH(r,r.c.length-1),33));0!=Lat(r).c.length;)r=Lat(r),t.d&&t.d.lg(r),ZIt(t.a,n,(u1(0,r.c.length),jV(r.c[0],33))),ZIt(t.b,n,jV(DH(r,r.c.length-1),33))}function wFt(t){var e,n,i,r,o,s,a,c,l,u;for(n=0,a=new Wf(t.d);a.a<a.c.c.length;)(s=jV(Q1(a),101)).i&&(s.i.c=n++);for(e=yH(INe,[cYt,QZt],[177,25],16,[n,n],2),u=t.d,r=0;r<u.c.length;r++)if(u1(r,u.c.length),(c=jV(u.c[r],101)).i)for(o=r+1;o<u.c.length;o++)u1(o,u.c.length),(l=jV(u.c[o],101)).i&&(i=iTt(c,l),e[c.i.c][l.i.c]=i,e[l.i.c][c.i.c]=i);return e}function yFt(t,e,n,i){var r,o,s;return s=new wE(e,n),t.a?i?(++(r=jV(LG(t.b,e),283)).a,s.d=i.d,s.e=i.e,s.b=i,s.c=i,i.e?i.e.c=s:jV(LG(t.b,e),283).b=s,i.d?i.d.b=s:t.a=s,i.d=s,i.e=s):(t.e.b=s,s.d=t.e,t.e=s,(r=jV(LG(t.b,e),283))?(++r.a,(o=r.c).c=s,s.e=o,r.c=s):(GK(t.b,e,r=new aZ(s)),++t.c)):(t.a=t.e=s,GK(t.b,e,new aZ(s)),++t.c),++t.d,s}function vFt(t,e){var n,i,r,o,s,a,c,l;for(n=new RegExp(e,"g"),c=D7(Yee,cYt,2,0,6,1),i=0,l=t,o=null;;){if(null==(a=n.exec(l))||""==l){c[i]=l;break}s=a.index,c[i]=l.substr(0,s),l=lL(l,s+a[0].length,l.length),n.lastIndex=0,o==l&&(c[i]=l.substr(0,1),l=l.substr(1)),o=l,++i}if(t.length>0){for(r=c.length;r>0&&""==c[r-1];)--r;r<c.length&&(c.length=r)}return c}function _Ft(t,e){var n,i,r,o,s,a,c,l;for(a=null,r=!1,o=0,c=r5((l=yZ(e)).a).i;o<c;++o)(n=_Ft(t,jV(eUt(l,o,iD(s=jV(Get(r5(l.a),o),87).c,88)?jV(s,26):(pKt(),dOe)),26))).dc()||(a?(r||(r=!0,a=new nU(a)),a.Gc(n)):a=n);return(i=NIt(t,e)).dc()?a||(EX(),EX(),cne):a?(r||(a=new nU(a)),a.Gc(i),a):i}function kFt(t,e){var n,i,r,o,s,a,c,l;for(a=null,i=!1,o=0,c=r5((l=yZ(e)).a).i;o<c;++o)(n=kFt(t,jV(eUt(l,o,iD(s=jV(Get(r5(l.a),o),87).c,88)?jV(s,26):(pKt(),dOe)),26))).dc()||(a?(i||(i=!0,a=new nU(a)),a.Gc(n)):a=n);return(r=KMt(t,e)).dc()?a||(EX(),EX(),cne):a?(i||(a=new nU(a)),a.Gc(r),a):r}function xFt(t,e,n){var i,r,o,s,a,c;if(iD(e,72))return Fbt(t,e,n);for(a=null,o=null,i=jV(t.g,119),s=0;s<t.i;++s)if(Dht(e,(r=i[s]).dd())&&iD(o=r.ak(),99)&&jV(o,18).Bb&l6t){a=r;break}return a&&(bP(t.e)&&(c=o.$j()?PZ(t,4,o,e,null,mVt(t,o,e,iD(o,99)&&!!(jV(o,18).Bb&$Xt)),!0):PZ(t,o.Kj()?2:1,o,e,o.zj(),-1,!0),n?n.Ei(c):n=c),n=xFt(t,a,n)),n}function EFt(t){var e,n,r,o;r=t.o,VR(),t.A.dc()||Dht(t.A,Mre)?o=r.a:(o=TIt(t.f),t.A.Hc((wpt(),LIe))&&!t.B.Hc((JFt(),qIe))&&(o=i.Math.max(o,TIt(jV(sY(t.p,(vWt(),aIe)),244))),o=i.Math.max(o,TIt(jV(sY(t.p,EIe),244)))),(e=ast(t))&&(o=i.Math.max(o,e.a))),Vv(kR(t.e.yf().We((cKt(),FCe))))?r.a=i.Math.max(r.a,o):r.a=o,(n=t.f.i).c=0,n.b=o,F$t(t.f)}function TFt(t,e){var n,i,r,o,s,a,c,l,u;if((n=e.Hh(t.a))&&null!=(c=ER(rpt((!n.b&&(n.b=new XL((pKt(),wOe),UOe,n)),n.b),"memberTypes")))){for(l=new Ob,s=0,a=(o=vFt(c,"\\w")).length;s<a;++s)iD(u=-1==(i=(r=o[s]).lastIndexOf("#"))?oR(t,e.Aj(),r):0==i?x8(t,null,r.substr(1)):x8(t,r.substr(0,i),r.substr(i+1)),148)&&WV(l,jV(u,148));return l}return EX(),EX(),cne}function CFt(t,e,n){var i,r,o,s,a,c,l,u;for(IEt(n,oJt,1),t.bf(e),o=0;t.df(o);){for(u=new Wf(e.e);u.a<u.c.c.length;)for(c=jV(Q1(u),144),a=OW(Gnt(Cat(z_(Nte,1),VKt,20,0,[e.e,e.d,e.b])));gPt(a);)(s=jV(U4(a),357))!=c&&(r=t.af(s,c))&&UB(c.a,r);for(l=new Wf(e.e);l.a<l.c.c.length;)GCt(i=(c=jV(Q1(l),144)).a,-t.d,-t.d,t.d,t.d),UB(c.d,i),yM(i);t.cf(),++o}VCt(n)}function AFt(t,e,n){var i,r,o,s;if(s=oLt(t.e.Tg(),e),i=jV(t.g,119),ZT(),jV(e,66).Oj()){for(o=0;o<t.i;++o)if(r=i[o],s.rl(r.ak())&&Dht(r,n))return uRt(t,o),!0}else if(null!=n){for(o=0;o<t.i;++o)if(r=i[o],s.rl(r.ak())&&Dht(n,r.dd()))return uRt(t,o),!0}else for(o=0;o<t.i;++o)if(r=i[o],s.rl(r.ak())&&null==r.dd())return uRt(t,o),!0;return!1}function SFt(t,e){var n,i,r,o,s;for(null==t.c||t.c.length<e.c.length?t.c=D7(INe,QZt,25,e.c.length,16,1):Qv(t.c),t.a=new Ob,i=0,s=new Wf(e);s.a<s.c.c.length;)(r=jV(Q1(s),10)).p=i++;for(n=new YE,o=new Wf(e);o.a<o.c.c.length;)r=jV(Q1(o),10),t.c[r.p]||(lIt(t,r),0==n.b||(TL(0!=n.b),jV(n.a.a.c,15)).gc()<t.a.c.length?cM(n,t.a):lM(n,t.a),t.a=new Ob);return n}function IFt(t,e,n,i){var r,o,s,a,c,l,u;for(Cnt(s=jV(Get(e,0),33),0),Ant(s,0),(c=new Ob).c[c.c.length]=s,a=s,o=new tH(t.a,s.g,s.f,(XDt(),Bxe)),l=1;l<e.i;l++)Cnt(u=jV(Get(e,l),33),(r=oHt(t,JVt(t,Nxe,u,a,o,c,n),JVt(t,Dxe,u,a,o,c,n),JVt(t,Rxe,u,a,o,c,n),JVt(t,Lxe,u,a,o,c,n),u,a,i)).d),Ant(u,r.e),rf(r,Bxe),o=r,a=u,c.c[c.c.length]=u;return o}function MFt(t){OT(t,new EEt(mk(dk(pk(gk(new ma,Y5t),"ELK SPOrE Overlap Removal"),'A node overlap removal algorithm proposed by Nachmanson et al. in "Node overlap removal by growing a tree".'),new ia))),o2(t,Y5t,B5t,wbt(VEe)),o2(t,Y5t,YQt,jEe),o2(t,Y5t,bJt,8),o2(t,Y5t,z5t,wbt($Ee)),o2(t,Y5t,q5t,wbt(BEe)),o2(t,Y5t,W5t,wbt(FEe)),o2(t,Y5t,W2t,(cN(),!1))}function PFt(t,e,n,i){var r,o,s,a,c,l,u,h;for(s=BL(e.c,n,i),u=new Wf(e.a);u.a<u.c.c.length;){for(UB((l=jV(Q1(u),10)).n,s),h=new Wf(l.j);h.a<h.c.c.length;)for(o=new Wf(jV(Q1(h),11).g);o.a<o.c.c.length;)for(Qet((r=jV(Q1(o),17)).a,s),(a=jV(wTt(r,(VGt(),mme)),74))&&Qet(a,s),c=new Wf(r.b);c.a<c.c.c.length;)UB(jV(Q1(c),70).n,s);WV(t.a,l),l.a=t}}function OFt(t,e){var n,i,r,o;if(IEt(e,"Node and Port Label Placement and Node Sizing",1),LP((gT(),new $Y(t,!0,!0,new Yn))),jV(wTt(t,(lKt(),Zhe)),21).Hc((dRt(),uhe)))for(i=(r=jV(wTt(t,(VGt(),ibe)),21)).Hc((hIt(),eIe)),o=Vv(kR(wTt(t,rbe))),n=new Wf(t.b);n.a<n.c.c.length;)XE(IY(new LH(null,new d1(jV(Q1(n),29).a,16)),new Xn),new Rj(r,i,o));VCt(e)}function DFt(t,e){var n,i,r,o,s,a;if((n=e.Hh(t.a))&&null!=(a=ER(rpt((!n.b&&(n.b=new XL((pKt(),wOe),UOe,n)),n.b),J6t))))switch(r=bN(a,XEt(35)),i=e.Hj(),-1==r?(s=rq(t,qet(i)),o=a):0==r?(s=null,o=a.substr(1)):(s=a.substr(0,r),o=a.substr(r+1)),NK(j9(t,e))){case 2:case 3:return Lct(t,i,s,o);case 0:case 4:case 5:case 6:return Rct(t,i,s,o)}return null}function NFt(t,e,n){var i,r,o,s,a;if(ZT(),s=jV(e,66).Oj(),PLt(t.e,e)){if(e.hi()&&q$t(t,e,n,iD(e,99)&&!!(jV(e,18).Bb&$Xt)))return!1}else for(a=oLt(t.e.Tg(),e),i=jV(t.g,119),o=0;o<t.i;++o)if(r=i[o],a.rl(r.ak()))return!(s?Dht(r,n):null==n?null==r.dd():Dht(n,r.dd()))&&(jV(awt(t,o,s?jV(n,72):Z3(e,n)),72),!0);return l8(t,s?jV(n,72):Z3(e,n))}function LFt(t){var e,n,i,r,o;if(t.d)throw $b(new Fv((_R(Yse),MZt+Yse.k+PZt)));for(t.c==(jht(),jAe)&&Eqt(t,BAe),e=new Wf(t.a.a);e.a<e.c.c.length;)jV(Q1(e),189).e=0;for(r=new Wf(t.a.b);r.a<r.c.c.length;)for((i=jV(Q1(r),81)).o=BXt,n=i.f.Kc();n.Ob();)++jV(n.Pb(),81).d.e;for(Hqt(t),o=new Wf(t.a.b);o.a<o.c.c.length;)jV(Q1(o),81).k=!0;return t}function RFt(t,e){var n,i,r,o,s,a,c,l;for(a=new mAt(t),n4(n=new YE,e,n.c.b,n.c);0!=n.b;){for((i=jV(0==n.b?null:(TL(0!=n.b),Met(n,n.a.a)),113)).d.p=1,s=new Wf(i.e);s.a<s.c.c.length;)_Et(a,r=jV(Q1(s),409)),0==(l=r.d).d.p&&n4(n,l,n.c.b,n.c);for(o=new Wf(i.b);o.a<o.c.c.length;)_Et(a,r=jV(Q1(o),409)),0==(c=r.c).d.p&&n4(n,c,n.c.b,n.c)}return a}function BFt(t){var e,n,i,r,o;if(1!=(i=zv(xR(QPt(t,(cKt(),wAe))))))for(xP(t,i*t.g,i*t.f),n=qM(BV((!t.c&&(t.c=new tW(UMe,t,9,9)),t.c),new za)),o=OW(Gnt(Cat(z_(Nte,1),VKt,20,0,[(!t.n&&(t.n=new tW(zMe,t,1,7)),t.n),(!t.c&&(t.c=new tW(UMe,t,9,9)),t.c),n])));gPt(o);)(r=jV(U4(o),470)).Gg(i*r.Dg(),i*r.Eg()),r.Fg(i*r.Cg(),i*r.Bg()),(e=jV(r.We(iAe),8))&&(e.a*=i,e.b*=i)}function FFt(t,e,n,i,r){var o,s,a,c,l,u;for(o=new Wf(t.b);o.a<o.c.c.length;)for(l=0,u=(c=Q0(jV(Q1(o),29).a)).length;l<u;++l)switch(jV(wTt(a=c[l],(VGt(),yme)),163).g){case 1:bLt(a),TJ(a,e),hwt(a,!0,i);break;case 3:QNt(a),TJ(a,n),hwt(a,!1,r)}for(s=new x2(t.b,0);s.b<s.d.gc();)0==(TL(s.b<s.d.gc()),jV(s.d.Xb(s.c=s.b++),29)).a.c.length&&lK(s)}function jFt(t,e){var n,i,r,o,s,a,c;if((n=e.Hh(t.a))&&null!=(c=ER(rpt((!n.b&&(n.b=new XL((pKt(),wOe),UOe,n)),n.b),E9t)))){for(i=new Ob,s=0,a=(o=vFt(c,"\\w")).length;s<a;++s)bF(r=o[s],"##other")?WV(i,"!##"+rq(t,qet(e.Hj()))):bF(r,"##local")?i.c[i.c.length]=null:bF(r,k9t)?WV(i,rq(t,qet(e.Hj()))):i.c[i.c.length]=r;return i}return EX(),EX(),cne}function $Ft(t,e){var n,i,r;return n=new Wt,(i=1==(i=jV(T5(MY(new LH(null,new d1(t.f,16)),n),D9(new X,new Z,new rt,new ot,Cat(z_(Qne,1),PYt,132,0,[(zlt(),qne),Une]))),21).gc())?1:0)<(r=1==(r=jV(T5(MY(new LH(null,new d1(e.f,16)),n),D9(new X,new Z,new rt,new ot,Cat(z_(Qne,1),PYt,132,0,[qne,Une]))),21).gc())?1:0)?-1:i==r?0:1}function VFt(t){var e,n,i,r,o,s,a,c,l,u,h,d;for(r=Vv(kR(wTt(a=t.i,(VGt(),dme)))),u=0,i=0,l=new Wf(t.g);l.a<l.c.c.length;)o=(s=h4(c=jV(Q1(l),17)))&&r&&Vv(kR(wTt(c,fme))),d=c.d.i,s&&o?++i:s&&!o?++u:mK(d).e==a?++i:++u;for(n=new Wf(t.e);n.a<n.c.c.length;)o=(s=h4(e=jV(Q1(n),17)))&&r&&Vv(kR(wTt(e,fme))),h=e.c.i,s&&o?++u:s&&!o?++i:mK(h).e==a?++u:++i;return u-i}function zFt(t,e,n,i){this.e=t,this.k=jV(wTt(t,(lKt(),Ide)),304),this.g=D7(Sae,o1t,10,e,0,1),this.b=D7(Cee,cYt,333,e,7,1),this.a=D7(Sae,o1t,10,e,0,1),this.d=D7(Cee,cYt,333,e,7,1),this.j=D7(Sae,o1t,10,e,0,1),this.i=D7(Cee,cYt,333,e,7,1),this.p=D7(Cee,cYt,333,e,7,1),this.n=D7(vee,cYt,476,e,8,1),wC(this.n,(cN(),!1)),this.f=D7(vee,cYt,476,e,8,1),wC(this.f,!0),this.o=n,this.c=i}function HFt(t,e){var n,i,r;if(!e.dc())if(jV(e.Xb(0),286).d==(PAt(),Qle))M_t(t,e);else for(i=e.Kc();i.Ob();){switch((n=jV(i.Pb(),286)).d.g){case 5:lAt(t,n,Kft(t,n));break;case 0:lAt(t,n,(r=(n.f-n.c+1-1)/2|0,n.c+r));break;case 4:lAt(t,n,Mtt(t,n));break;case 2:Bgt(n),lAt(t,n,Pxt(n)?n.c:n.f);break;case 1:Bgt(n),lAt(t,n,Pxt(n)?n.f:n.c)}lTt(n.a)}}function UFt(t,e){var n,i,r,o,s;if(!e.e){for(e.e=!0,i=e.d.a.ec().Kc();i.Ob();)n=jV(i.Pb(),17),e.o&&e.d.a.gc()<=1?(s=new DS((o=e.a.c)+(e.a.c+e.a.b-o)/2,e.b),Nz(jV(e.d.a.ec().Kc().Pb(),17).a,s)):(r=jV(LG(e.c,n),459)).b||r.c?gFt(t,n,e):t.d==(qlt(),nye)&&(r.d||r.e)&&OMt(t,e)&&e.d.a.gc()<=1?gqt(n,e):LRt(t,n,e);e.k&&t4(e.d,new En)}}function qFt(t,e,n,r,o,s){var a,c,l,u,h,d,f,g,p,m,b,w,y;for(c=(r+o)/2+s,m=n*i.Math.cos(c),b=n*i.Math.sin(c),w=m-e.g/2,y=b-e.f/2,Cnt(e,w),Ant(e,y),d=t.a.jg(e),(p=2*i.Math.acos(n/n+t.c))<o-r?(f=p/d,a=(r+o-p)/2):(f=(o-r)/d,a=r),g=fRt(e),t.e&&(t.e.kg(t.d),t.e.lg(g)),u=new Wf(g);u.a<u.c.c.length;)l=jV(Q1(u),33),h=t.a.jg(l),qFt(t,l,n+t.c,a,a+f*h,s),a+=f*h}function WFt(t,e,n){var i;switch(i=n.q.getMonth(),e){case 5:sM(t,Cat(z_(Yee,1),cYt,2,6,["J","F","M","A","M","J","J","A","S","O","N","D"])[i]);break;case 4:sM(t,Cat(z_(Yee,1),cYt,2,6,[XYt,ZYt,QYt,JYt,tXt,eXt,nXt,iXt,rXt,oXt,sXt,aXt])[i]);break;case 3:sM(t,Cat(z_(Yee,1),cYt,2,6,["Jan","Feb","Mar","Apr",tXt,"Jun","Jul","Aug","Sep","Oct","Nov","Dec"])[i]);break;default:_tt(t,i+1,e)}}function GFt(t,e){var n,i,r,o;if(IEt(e,"Network simplex",1),t.e.a.c.length<1)VCt(e);else{for(r=new Wf(t.e.a);r.a<r.c.c.length;)jV(Q1(r),121).e=0;for((o=t.e.a.c.length>=40)&&k$t(t),$zt(t),xLt(t),n=ydt(t),i=0;n&&i<t.f;)ejt(t,n,eOt(t,n)),n=ydt(t),++i;o&&tEt(t),t.a?mOt(t,uFt(t)):uFt(t),t.b=null,t.d=null,t.p=null,t.c=null,t.g=null,t.i=null,t.n=null,t.o=null,VCt(e)}}function KFt(t,e,n,i){var r,o,s,a,c,l,u,h;for(qB(a=new DS(n,i),jV(wTt(e,(Ert(),sse)),8)),h=new Wf(e.e);h.a<h.c.c.length;)UB((u=jV(Q1(h),144)).d,a),WV(t.e,u);for(s=new Wf(e.c);s.a<s.c.c.length;){for(r=new Wf((o=jV(Q1(s),282)).a);r.a<r.c.c.length;)UB(jV(Q1(r),559).d,a);WV(t.c,o)}for(l=new Wf(e.d);l.a<l.c.c.length;)UB((c=jV(Q1(l),447)).d,a),WV(t.d,c)}function YFt(t,e){var n,i,r,o,s,a,c,l;for(c=new Wf(e.j);c.a<c.c.c.length;)for(r=new b6((a=jV(Q1(c),11)).b);wO(r.a)||wO(r.b);)e!=(o=(n=(i=jV(wO(r.a)?Q1(r.a):Q1(r.b),17)).c==a?i.d:i.c).i)&&((l=jV(wTt(i,(VGt(),lbe)),19).a)<0&&(l=0),s=o.p,0==t.b[s]&&(i.d==n?(t.a[s]-=l+1,t.a[s]<=0&&t.c[s]>0&&Nz(t.f,o)):(t.c[s]-=l+1,t.c[s]<=0&&t.a[s]>0&&Nz(t.e,o))))}function XFt(t){var e,n,i,r,o,s,a;for(o=new fx(jV(wG(new Rt),62)),a=BXt,n=new Wf(t.d);n.a<n.c.c.length;){for(a=(e=jV(Q1(n),222)).c.c;0!=o.a.c&&(s=jV(xW(V8(o.a)),222)).c.c+s.c.b<a;)MQ(o.a,s);for(r=new Ff(new jB(new DN(new Bf(o.a).a).b));rC(r.a.a);)Nz((i=jV(bL(r.a).cd(),222)).b,e),Nz(e.b,i);Ect(o.a,e,(cN(),mee))}}function ZFt(t,e,n){var i,r,o,s,a,c,l,u,h;for(o=new X6(e.c.length),l=new Wf(e);l.a<l.c.c.length;)s=jV(Q1(l),10),WV(o,t.b[s.c.p][s.p]);for(wHt(t,o,n),h=null;h=eqt(o);)iVt(t,jV(h.a,233),jV(h.b,233),o);for(e.c=D7(Mte,VKt,1,0,5,1),r=new Wf(o);r.a<r.c.c.length;)for(c=0,u=(a=(i=jV(Q1(r),233)).d).length;c<u;++c)s=a[c],e.c[e.c.length]=s,t.a[s.c.p][s.p].a=uD(i.g,i.d[0]).a}function QFt(t,e){var n,i,r,o;if(0<(iD(t,14)?jV(t,14).gc():F3(t.Kc()))){if(1<(r=e)){for(--r,o=new ws,i=t.Kc();i.Ob();)n=jV(i.Pb(),86),o=Gnt(Cat(z_(Nte,1),VKt,20,0,[o,new hm(n)]));return QFt(o,r)}if(r<0){for(o=new ys,i=t.Kc();i.Ob();)n=jV(i.Pb(),86),o=Gnt(Cat(z_(Nte,1),VKt,20,0,[o,new hm(n)]));if(0<(iD(o,14)?jV(o,14).gc():F3(o.Kc())))return QFt(o,r)}}return jV(eD(t.Kc()),86)}function JFt(){JFt=M,zIe=new KS("DEFAULT_MINIMUM_SIZE",0),UIe=new KS("MINIMUM_SIZE_ACCOUNTS_FOR_PADDING",1),VIe=new KS("COMPUTE_PADDING",2),qIe=new KS("OUTSIDE_NODE_LABELS_OVERHANG",3),WIe=new KS("PORTS_OVERHANG",4),KIe=new KS("UNIFORM_PORT_SPACING",5),GIe=new KS("SPACE_EFFICIENT_PORT_LABELS",6),HIe=new KS("FORCE_TABULAR_NODE_LABELS",7),$Ie=new KS("ASYMMETRICAL",8)}function tjt(t,e){var n,i,r,o,s,a,c,l;if(e){if(n=(o=e.Tg())?qet(o).Nh().Jh(o):null){for(Zmt(t,e,n),c=0,l=(null==(r=e.Tg()).i&&z$t(r),r.i).length;c<l;++c)null==r.i&&z$t(r),i=r.i,(a=c>=0&&c<i.length?i[c]:null).Ij()&&!a.Jj()&&(iD(a,322)?Jbt(t,jV(a,34),e,n):(s=jV(a,18)).Bb&l6t&&cxt(t,s,e,n));e.kh()&&jV(n,49).vh(jV(e,49).qh())}return n}return null}function ejt(t,e,n){var i,r,o;if(!e.f)throw $b(new Bv("Given leave edge is no tree edge."));if(n.f)throw $b(new Bv("Given enter edge is a tree edge already."));for(e.f=!1,tD(t.p,e),n.f=!0,kW(t.p,n),i=n.e.e-n.d.e-n.a,jSt(t,n.e,e)||(i=-i),o=new Wf(t.e.a);o.a<o.c.c.length;)jSt(t,r=jV(Q1(o),121),e)||(r.e+=i);t.j=1,Qv(t.c),mIt(t,jV(Q1(new Wf(t.e.a)),121)),pUt(t)}function njt(t,e){var n,i,r,o,s,a;if((a=jV(wTt(e,(VGt(),tbe)),98))==(Yxt(),WSe)||a==qSe)for(r=new DS(e.f.a+e.d.b+e.d.c,e.f.b+e.d.d+e.d.a).b,s=new Wf(t.a);s.a<s.c.c.length;)(o=jV(Q1(s),10)).k==(sCt(),xae)&&((n=jV(wTt(o,(lKt(),Khe)),61))!=(vWt(),sIe)&&n!=CIe||(i=zv(xR(wTt(o,kde))),a==WSe&&(i*=r),o.n.b=i-jV(wTt(o,Qme),8).b,Zst(o,!1,!0)))}function ijt(t,e,n,i){var r,o,s,a,c,l,u,h,d,f;if(Xet(t,e,n),o=e[n],f=i?(vWt(),CIe):(vWt(),sIe),bD(e.length,n,i)){for(z6(t,r=e[i?n-1:n+1],i?(oit(),Vwe):(oit(),$we)),u=0,d=(c=o).length;u<d;++u)Nwt(t,s=c[u],f);for(z6(t,o,i?(oit(),$we):(oit(),Vwe)),l=0,h=(a=r).length;l<h;++l)(s=a[l]).e||Nwt(t,s,xdt(f))}else for(l=0,h=(a=o).length;l<h;++l)Nwt(t,s=a[l],f);return!1}function rjt(t,e,n,i){var r,o,s,a,c;a=oft(e,n),(n==(vWt(),EIe)||n==CIe)&&(a=iD(a,152)?s6(jV(a,152)):iD(a,131)?jV(a,131).a:iD(a,54)?new lv(a):new CE(a)),s=!1;do{for(r=!1,o=0;o<a.gc()-1;o++)$Tt(t,jV(a.Xb(o),11),jV(a.Xb(o+1),11),i)&&(s=!0,y0(t.a,jV(a.Xb(o),11),jV(a.Xb(o+1),11)),c=jV(a.Xb(o+1),11),a._c(o+1,jV(a.Xb(o),11)),a._c(o,c),r=!0)}while(r);return s}function ojt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f,g;if(!bP(t.e))return jV(XIt(t,e,n),72);if(e!=n&&(s=(f=(r=jV(t.g,119))[n]).ak(),PLt(t.e,s))){for(g=oLt(t.e.Tg(),s),c=-1,a=-1,i=0,l=0,h=e>n?e:n;l<=h;++l)l==n?a=i++:(o=r[l],u=g.rl(o.ak()),l==e&&(c=l!=h||u?i:i-1),u&&++i);return d=jV(Sdt(t,e,n),72),a!=c&&Pw(t,new v8(t.e,7,s,ndt(a),f.dd(),c)),d}return jV(Sdt(t,e,n),72)}function sjt(t,e){var n,i,r,o,s,a;for(IEt(e,"Port order processing",1),a=jV(wTt(t,(VGt(),sbe)),421),n=new Wf(t.b);n.a<n.c.c.length;)for(r=new Wf(jV(Q1(n),29).a);r.a<r.c.c.length;)i=jV(Q1(r),10),o=jV(wTt(i,tbe),98),s=i.j,o==(Yxt(),USe)||o==WSe||o==qSe?(EX(),bO(s,ale)):o!=KSe&&o!=YSe&&(EX(),bO(s,lle),Owt(s),a==(U9(),Bwe)&&bO(s,cle)),i.i=!0,eIt(i);VCt(e)}function ajt(t){var e,n,r,o,s,a,c,l;for(l=new Db,e=new Fw,a=t.Kc();a.Ob();)o=jV(a.Pb(),10),c=IN(sT(new Vw,o),e),_St(l.f,o,c);for(s=t.Kc();s.Ob();)for(r=new sq(ZD(hft(o=jV(s.Pb(),10)).a.Kc(),new u));gPt(r);)h4(n=jV(U4(r),17))||qNt(rT(iT(nT(oT(new $w,i.Math.max(1,jV(wTt(n,(VGt(),ube)),19).a)),1),jV(LG(l,n.c.i),121)),jV(LG(l,n.d.i),121)));return e}function cjt(){cjt=M,hve=fH(new j2,(yTt(),Fse),(hKt(),mce)),fve=fH(new j2,Bse,vce),gve=WU(fH(new j2,Bse,Nce),jse,Dce),uve=WU(fH(fH(new j2,Bse,uce),Fse,hce),jse,dce),pve=amt(amt(FT(WU(fH(new j2,Lse,Uce),jse,Hce),Fse),zce),qce),dve=WU(new j2,jse,bce),cve=WU(fH(fH(fH(new j2,Rse,xce),Fse,Tce),Fse,Cce),jse,Ece),lve=WU(fH(fH(new j2,Fse,Cce),Fse,oce),jse,rce)}function ljt(t,e,n,i,r,o){var s,a,c,l,u,h;for(s=hCt(e,c=_ct(e)-_ct(t)),a=xO(0,0,0);c>=0&&(!Avt(t,s)||(c<22?a.l|=1<<c:c<44?a.m|=1<<c-22:a.h|=1<<c-44,0!=t.l||0!=t.m||0!=t.h));)l=s.m,u=s.h,h=s.l,s.h=u>>>1,s.m=l>>>1|(1&u)<<21,s.l=h>>>1|(1&l)<<21,--c;return n&&Ict(a),o&&(i?(hee=oct(t),r&&(hee=lat(hee,(q9(),gee)))):hee=xO(t.l,t.m,t.h)),a}function ujt(t,e){var n,i,r,o,s,a,c,l,u,h;for(l=t.e[e.c.p][e.p]+1,c=e.c.a.c.length+1,a=new Wf(t.a);a.a<a.c.c.length;){for(s=jV(Q1(a),11),h=0,o=0,r=OW(Gnt(Cat(z_(Nte,1),VKt,20,0,[new $g(s),new zg(s)])));gPt(r);)(i=jV(U4(r),11)).i.c==e.c&&(h+=hD(t,i.i)+1,++o);n=h/o,(u=s.j)==(vWt(),sIe)?t.f[s.p]=n<l?t.c-n:t.b+(c-n):u==CIe&&(t.f[s.p]=n<l?t.b+n:t.c-(c-n))}}function hjt(t,e,n){var i,r,o,s;if(null==t)throw $b(new x_(UKt));for(i=(o=t.length)>0&&(h1(0,t.length),45==t.charCodeAt(0)||(h1(0,t.length),43==t.charCodeAt(0)))?1:0;i<o;i++)if(-1==emt((h1(i,t.length),t.charCodeAt(i))))throw $b(new x_(LXt+t+'"'));if(r=(s=parseInt(t,10))<e,isNaN(s))throw $b(new x_(LXt+t+'"'));if(r||s>n)throw $b(new x_(LXt+t+'"'));return s}function djt(t){var e,n,r,o,s,a;for(s=new YE,o=new Wf(t.a);o.a<o.c.c.length;)Wd(r=jV(Q1(o),112),r.f.c.length),Gd(r,r.k.c.length),0==r.i&&(r.o=0,n4(s,r,s.c.b,s.c));for(;0!=s.b;)for(n=(r=jV(0==s.b?null:(TL(0!=s.b),Met(s,s.a.a)),112)).o+1,e=new Wf(r.f);e.a<e.c.c.length;)Kd(a=jV(Q1(e),129).a,i.Math.max(a.o,n)),Gd(a,a.i-1),0==a.i&&n4(s,a,s.c.b,s.c)}function fjt(t){var e,n,i,r,o,s,a,c;for(s=new Wf(t);s.a<s.c.c.length;){for(o=jV(Q1(s),79),a=(i=CEt(jV(Get((!o.b&&(o.b=new cF(LMe,o,4,7)),o.b),0),82))).i,c=i.j,CP(r=jV(Get((!o.a&&(o.a=new tW(BMe,o,6,6)),o.a),0),202),r.j+a,r.k+c),TP(r,r.b+a,r.c+c),n=new ID((!r.a&&(r.a=new MD(OMe,r,5)),r.a));n.e!=n.i.gc();)kP(e=jV(vbt(n),469),e.a+a,e.b+c);Xrt(jV(QPt(o,(cKt(),SCe)),74),a,c)}}function gjt(t){switch(t){case 100:return wKt(cte,!0);case 68:return wKt(cte,!1);case 119:return wKt(lte,!0);case 87:return wKt(lte,!1);case 115:return wKt(ute,!0);case 83:return wKt(ute,!1);case 99:return wKt(hte,!0);case 67:return wKt(hte,!1);case 105:return wKt(dte,!0);case 73:return wKt(dte,!1);default:throw $b(new fv(ate+t.toString(16)))}}function pjt(t){var e,n,r,o,s;switch(o=jV(DH(t.a,0),10),e=new Pwt(t),WV(t.a,e),e.o.a=i.Math.max(1,o.o.a),e.o.b=i.Math.max(1,o.o.b),e.n.a=o.n.a,e.n.b=o.n.b,jV(wTt(o,(lKt(),Khe)),61).g){case 4:e.n.a+=2;break;case 1:e.n.b+=2;break;case 2:e.n.a-=2;break;case 3:e.n.b-=2}return CJ(r=new ACt,e),EJ(n=new dZ,s=jV(DH(o.j,0),11)),xJ(n,r),UB(yM(r.n),s.n),UB(yM(r.a),s.a),e}function mjt(t,e,n,i,r){n&&(!i||(t.c-t.b&t.a.length-1)>1)&&1==e&&jV(t.a[t.b],10).k==(sCt(),Eae)?l$t(jV(t.a[t.b],10),(Wvt(),vSe)):i&&(!n||(t.c-t.b&t.a.length-1)>1)&&1==e&&jV(t.a[t.c-1&t.a.length-1],10).k==(sCt(),Eae)?l$t(jV(t.a[t.c-1&t.a.length-1],10),(Wvt(),_Se)):2==(t.c-t.b&t.a.length-1)?(l$t(jV(kct(t),10),(Wvt(),vSe)),l$t(jV(kct(t),10),_Se)):cDt(t,r),s5(t)}function bjt(t,e,n){var r,o,s,a,c;for(s=0,o=new ID((!t.a&&(t.a=new tW(HMe,t,10,11)),t.a));o.e!=o.i.gc();)a="",0==(!(r=jV(vbt(o),33)).n&&(r.n=new tW(zMe,r,1,7)),r.n).i||(a=jV(Get((!r.n&&(r.n=new tW(zMe,r,1,7)),r.n),0),137).a),zst(c=new rlt(s++,e,a),r),lct(c,(zHt(),a_e),r),c.e.b=r.j+r.f/2,c.f.a=i.Math.max(r.g,1),c.e.a=r.i+r.g/2,c.f.b=i.Math.max(r.f,1),Nz(e.b,c),_St(n.f,r,c)}function wjt(t){var e,n,i,r,o;i=jV(wTt(t,(lKt(),fde)),33),o=jV(QPt(i,(VGt(),Fme)),174).Hc((wpt(),BIe)),t.e||(r=jV(wTt(t,Zhe),21),e=new DS(t.f.a+t.d.b+t.d.c,t.f.b+t.d.d+t.d.a),r.Hc((dRt(),uhe))?(Xbt(i,tbe,(Yxt(),qSe)),BWt(i,e.a,e.b,!1,!0)):Vv(kR(QPt(i,jme)))||BWt(i,e.a,e.b,!0,!0)),Xbt(i,Fme,o?Jdt(BIe):new YF(n=jV(Gk(YIe),9),jV(EB(n,n.length),9),0))}function yjt(t,e,n){var i,r,o,s;if(e[0]>=t.length)return n.o=0,!0;switch(lY(t,e[0])){case 43:r=1;break;case 45:r=-1;break;default:return n.o=0,!0}if(++e[0],o=e[0],0==(s=qIt(t,e))&&e[0]==o)return!1;if(e[0]<t.length&&58==lY(t,e[0])){if(i=60*s,++e[0],o=e[0],0==(s=qIt(t,e))&&e[0]==o)return!1;i+=s}else(i=s)<24&&e[0]-o<=2?i*=60:i=i%100+60*(i/100|0);return i*=r,n.o=-i,!0}function vjt(t){var e,n,i,r,o,s,a;for(r=new Ob,i=new sq(ZD(hft(t.b).a.Kc(),new u));gPt(i);)h4(n=jV(U4(i),17))&&WV(r,new v6(n,m8(t,n.c),m8(t,n.d)));for(a=new Rf(new Sf(t.e).a.vc().Kc());a.a.Ob();)e=jV(a.a.Pb(),42),(o=jV(e.dd(),113)).d.p=0;for(s=new Rf(new Sf(t.e).a.vc().Kc());s.a.Ob();)e=jV(s.a.Pb(),42),0==(o=jV(e.dd(),113)).d.p&&WV(t.d,RFt(t,o))}function _jt(t){var e,n,i,r,o;for(o=WQ(t),r=new ID((!t.e&&(t.e=new cF(RMe,t,7,4)),t.e));r.e!=r.i.gc();)if(i=jV(vbt(r),79),!Aet(CEt(jV(Get((!i.c&&(i.c=new cF(LMe,i,5,8)),i.c),0),82)),o))return!0;for(n=new ID((!t.d&&(t.d=new cF(RMe,t,8,5)),t.d));n.e!=n.i.gc();)if(e=jV(vbt(n),79),!Aet(CEt(jV(Get((!e.b&&(e.b=new cF(LMe,e,4,7)),e.b),0),82)),o))return!0;return!1}function kjt(t){var e,n,r,o,s,a,c,l;for(l=new yy,c=null,n=jV(h3(e=cbt(t,0)),8),o=jV(h3(e),8);e.b!=e.d.c;)c=n,n=o,o=jV(h3(e),8),s=iet(qB(new DS(c.a,c.b),n)),a=iet(qB(new DS(o.a,o.b),n)),r=10,r=i.Math.min(r,i.Math.abs(s.a+s.b)/2),r=i.Math.min(r,i.Math.abs(a.a+a.b)/2),s.a=$z(s.a)*r,s.b=$z(s.b)*r,a.a=$z(a.a)*r,a.b=$z(a.b)*r,Nz(l,UB(s,n)),Nz(l,UB(a,n));return l}function xjt(t,e,n,i){var r,o,s,a,c;return s=t.eh(),r=null,(c=t.Zg())?!e||pFt(t,e,n).Bb&$Xt?c=null:(i=Fbt(c.Vk(),t,i),t.uh(null),r=e.fh()):(s&&(c=s.fh()),e&&(r=e.fh())),c!=r&&c&&c.Zk(t),a=t.Vg(),t.Rg(e,n),c!=r&&r&&r.Yk(t),t.Lg()&&t.Mg()&&(s&&a>=0&&a!=n&&(o=new Qq(t,1,a,s,null),i?i.Ei(o):i=o),n>=0&&(o=new Qq(t,1,n,a==n?s:null,e),i?i.Ei(o):i=o)),i}function Ejt(t){var e,n,i;if(null==t.b){if(i=new E_,null!=t.i&&(iM(i,t.i),i.a+=":"),256&t.f){for(256&t.f&&null!=t.a&&(nX(t.i)||(i.a+="//"),iM(i,t.a)),null!=t.d&&(i.a+="/",iM(i,t.d)),16&t.f&&(i.a+="/"),e=0,n=t.j.length;e<n;e++)0!=e&&(i.a+="/"),iM(i,t.j[e]);null!=t.g&&(i.a+="?",iM(i,t.g))}else iM(i,t.a);null!=t.e&&(i.a+="#",iM(i,t.e)),t.b=i.a}return t.b}function Tjt(t,e){var n,i,r,o,s,a;for(r=new Wf(e.a);r.a<r.c.c.length;)iD(o=wTt(i=jV(Q1(r),10),(lKt(),fde)),11)&&(a=y$t(e,i,(s=jV(o,11)).o.a,s.o.b),s.n.a=a.a,s.n.b=a.b,zSt(s,jV(wTt(i,Khe),61)));n=new DS(e.f.a+e.d.b+e.d.c,e.f.b+e.d.d+e.d.a),jV(wTt(e,(lKt(),Zhe)),21).Hc((dRt(),uhe))?(lct(t,(VGt(),tbe),(Yxt(),qSe)),jV(wTt(mK(t),Zhe),21).Fc(fhe),dUt(t,n,!1)):dUt(t,n,!0)}function Cjt(t,e,n){var i,r,o,s,a;IEt(n,"Minimize Crossings "+t.a,1),i=0==e.b.c.length||!vx(IY(new LH(null,new d1(e.b,16)),new rg(new Oo))).sd((fT(),Jne)),a=1==e.b.c.length&&1==jV(DH(e.b,0),29).a.c.length,o=zI(wTt(e,(VGt(),ame)))===zI((sht(),pSe)),i||a&&!o||(Tlt(r=cLt(t,e),(s=jV(Lbt(r,0),214)).c.Rf()?s.c.Lf()?new Up(t):new qp(t):new Hp(t)),oht(t)),VCt(n)}function Ajt(t,e,n,i){var r,o,s,a;if(a=fU(rft(TYt,nY(fU(rft(null==e?0:Jct(e),CYt)),15))),r=fU(rft(TYt,nY(fU(rft(null==n?0:Jct(n),CYt)),15))),s=Qrt(t,e,a),o=Zrt(t,n,r),s&&r==s.a&&dK(n,s.g))return n;if(o&&!i)throw $b(new Bv("key already present: "+n));return s&&ODt(t,s),o&&ODt(t,o),XSt(t,new VK(n,r,e,a),o),o&&(o.e=null,o.c=null),s&&(s.e=null,s.c=null),z_t(t),s?s.g:null}function Sjt(t,e,n){var i,r,o,s,a;for(o=0;o<e;o++){for(i=0,a=o+1;a<e;a++)i=ift(ift(rft(t0(t[o],qXt),t0(t[a],qXt)),t0(n[o+a],qXt)),t0(fU(i),qXt)),n[o+a]=fU(i),i=vq(i,32);n[o+e]=fU(i)}for(Jrt(n,n,e<<1),i=0,r=0,s=0;r<e;++r,s++)i=ift(ift(rft(t0(t[r],qXt),t0(t[r],qXt)),t0(n[s],qXt)),t0(fU(i),qXt)),n[s]=fU(i),i=ift(i=vq(i,32),t0(n[++s],qXt)),n[s]=fU(i),i=vq(i,32);return n}function Ijt(t,e,n){var r,o,s,a,c,l,u,h;if(!c3(e)){for(l=zv(xR(ept(n.c,(VGt(),Obe)))),!(u=jV(ept(n.c,Pbe),142))&&(u=new uy),r=n.a,o=null,c=e.Kc();c.Ob();)a=jV(c.Pb(),11),h=0,o?(h=l,h+=o.o.b):h=u.d,s=IN(sT(new Vw,a),t.f),GK(t.k,a,s),qNt(rT(iT(nT(oT(new $w,0),CQ(i.Math.ceil(h))),r),s)),o=a,r=s;qNt(rT(iT(nT(oT(new $w,0),CQ(i.Math.ceil(u.a+o.o.b))),r),n.d))}}function Mjt(t,e,n,i,r,o,s,a){var c,l,u;return u=!1,l=o-n.s,c=n.t-e.f+rzt(n,l,!1).a,!(i.g+a>l)&&(c+a+rzt(i,l,!1).a<=e.b&&(p8(n,o-n.s),n.c=!0,p8(i,o-n.s),xwt(i,n.s,n.t+n.d+a),i.k=!0,Not(n.q,i),u=!0,r&&(tit(e,i),i.j=e,t.c.length>s&&(x_t((u1(s,t.c.length),jV(t.c[s],200)),i),0==(u1(s,t.c.length),jV(t.c[s],200)).a.c.length&&a6(t,s)))),u)}function Pjt(t,e){var n,i,r,o,s;if(IEt(e,"Partition midprocessing",1),r=new pQ,XE(IY(new LH(null,new d1(t.a,16)),new pi),new up(r)),0!=r.d){for(s=jV(T5(r1(new LH(null,(r.i||(r.i=new $D(r,r.c))).Nc())),b8(new z,new V,new it,Cat(z_(Qne,1),PYt,132,0,[(zlt(),Une)]))),15),n=jV((i=s.Kc()).Pb(),19);i.Ob();)o=jV(i.Pb(),19),WDt(jV(c6(r,n),21),jV(c6(r,o),21)),n=o;VCt(e)}}function Ojt(t,e,n){var i,r,o,s,a;if(0==e.p){for(e.p=1,(r=n)||(r=new nI(new Ob,new YF(i=jV(Gk(FIe),9),jV(EB(i,i.length),9),0))),jV(r.a,15).Fc(e),e.k==(sCt(),xae)&&jV(r.b,21).Fc(jV(wTt(e,(lKt(),Khe)),61)),s=new Wf(e.j);s.a<s.c.c.length;)for(o=jV(Q1(s),11),a=OW(Gnt(Cat(z_(Nte,1),VKt,20,0,[new $g(o),new zg(o)])));gPt(a);)Ojt(t,jV(U4(a),11).i,r);return r}return null}function Djt(t,e){var n,i,r,o,s;if(t.Ab)if(t.Ab){if((s=t.Ab.i)>0)if(r=jV(t.Ab.g,1934),null==e){for(o=0;o<s;++o)if(null==(n=r[o]).d)return n}else for(o=0;o<s;++o)if(bF(e,(n=r[o]).d))return n}else if(null==e){for(i=new ID(t.Ab);i.e!=i.i.gc();)if(null==(n=jV(vbt(i),590)).d)return n}else for(i=new ID(t.Ab);i.e!=i.i.gc();)if(bF(e,(n=jV(vbt(i),590)).d))return n;return null}function Njt(t,e){var n,i,r,o,s,a,c;if(null==(c=kR(wTt(e,(APt(),O_e))))||(yK(c),c)){for(LMt(t,e),r=new Ob,a=cbt(e.b,0);a.b!=a.d.c;)(n=NAt(t,jV(h3(a),86),null))&&(zst(n,e),r.c[r.c.length]=n);if(t.a=null,t.b=null,r.c.length>1)for(i=new Wf(r);i.a<i.c.c.length;)for(o=0,s=cbt((n=jV(Q1(i),135)).b,0);s.b!=s.d.c;)jV(h3(s),86).g=o++;return r}return o6(Cat(z_(zve,1),tJt,135,0,[e]))}function Ljt(t,e,n,i,r){var o,s,a,c,l,u,h,d,f,g,p,m,b;rrt(f=I3(t,zat(e),r),L2(r,z6t)),p=N2(g=r,q6t),rCt(new Pm(f).a,p),m=N2(g,"endPoint"),iCt(new Lm(f).a,m),b=O2(g,L6t),Txt(new Fm(f).a,b),h=L2(r,B6t),VB((o=new cI(t,f)).a,o.b,h),d=L2(r,R6t),zB((s=new lI(t,f)).a,s.b,d),l=O2(r,j6t),jvt((a=new uI(n,f)).b,a.a,l),u=O2(r,F6t),$vt((c=new hI(i,f)).b,c.a,u)}function Rjt(t,e,n){var i,r,o,s,a;switch(a=null,e.g){case 1:for(r=new Wf(t.j);r.a<r.c.c.length;)if(Vv(kR(wTt(i=jV(Q1(r),11),(lKt(),Jhe)))))return i;lct(a=new ACt,(lKt(),Jhe),(cN(),!0));break;case 2:for(s=new Wf(t.j);s.a<s.c.c.length;)if(Vv(kR(wTt(o=jV(Q1(s),11),(lKt(),yde)))))return o;lct(a=new ACt,(lKt(),yde),(cN(),!0))}return a&&(CJ(a,t),zSt(a,n),ywt(a.n,t.o,n)),a}function Bjt(t,e){var n,r,o,s,a,c;for(c=-1,a=new YE,r=new b6(t.b);wO(r.a)||wO(r.b);){for(n=jV(wO(r.a)?Q1(r.a):Q1(r.b),17),c=i.Math.max(c,zv(xR(wTt(n,(VGt(),rme))))),n.c==t?XE(IY(new LH(null,new d1(n.b,16)),new hn),new Qg(a)):XE(IY(new LH(null,new d1(n.b,16)),new dn),new Jg(a)),s=cbt(a,0);s.b!=s.d.c;)PL(o=jV(h3(s),70),(lKt(),Uhe))||lct(o,Uhe,n);pat(e,a),wX(a)}return c}function Fjt(t,e,n,i,r){var o,s,a,c;Fd(o=new Pwt(t),(sCt(),Aae)),lct(o,(VGt(),tbe),(Yxt(),qSe)),lct(o,(lKt(),fde),e.c.i),lct(s=new ACt,fde,e.c),zSt(s,r),CJ(s,o),lct(e.c,_de,o),Fd(a=new Pwt(t),Aae),lct(a,tbe,qSe),lct(a,fde,e.d.i),lct(c=new ACt,fde,e.d),zSt(c,r),CJ(c,a),lct(e.d,_de,a),EJ(e,s),xJ(e,c),PJ(0,n.c.length),xC(n.c,0,o),i.c[i.c.length]=a,lct(o,jhe,ndt(1)),lct(a,jhe,ndt(1))}function jjt(t,e,n,r,o){var s,a,c,l,u;c=o?r.b:r.a,FE(t.a,r)||(u=c>n.s&&c<n.c,l=!1,0!=n.e.b&&0!=n.j.b&&(l|=i.Math.abs(c-zv(xR(gL(n.e))))<hJt&&i.Math.abs(c-zv(xR(gL(n.j))))<hJt,l|=i.Math.abs(c-zv(xR(pL(n.e))))<hJt&&i.Math.abs(c-zv(xR(pL(n.j))))<hJt),(u||l)&&((a=jV(wTt(e,(VGt(),mme)),74))||(a=new yy,lct(e,mme,a)),n4(a,s=new dP(r),a.c.b,a.c),kW(t.a,s)))}function $jt(t,e,n,i){var r,o,s,a,c,l,u;if(GIt(t,e,n,i))return!0;for(s=new Wf(e.f);s.a<s.c.c.length;){switch(o=jV(Q1(s),324),a=!1,l=(c=t.j-e.j+n)+e.o,r=(u=t.k-e.k+i)+e.p,o.a.g){case 0:a=Ilt(t,c+o.b.a,0,c+o.c.a,u-1);break;case 1:a=Ilt(t,l,u+o.b.a,t.o-1,u+o.c.a);break;case 2:a=Ilt(t,c+o.b.a,r,c+o.c.a,t.p-1);break;default:a=Ilt(t,0,u+o.b.a,c-1,u+o.c.a)}if(a)return!0}return!1}function Vjt(t,e){var n,i,r,o,s,a,c,l;for(o=new Wf(e.b);o.a<o.c.c.length;)for(c=new Wf(jV(Q1(o),29).a);c.a<c.c.c.length;){for(a=jV(Q1(c),10),l=new Ob,s=0,i=new sq(ZD(uft(a).a.Kc(),new u));gPt(i);)h4(n=jV(U4(i),17))||!h4(n)&&n.c.i.c==n.d.i.c||((r=jV(wTt(n,(VGt(),hbe)),19).a)>s&&(s=r,l.c=D7(Mte,VKt,1,0,5,1)),r==s&&WV(l,new nI(n.c.i,n)));EX(),bO(l,t.c),yU(t.b,a.p,l)}}function zjt(t,e){var n,i,r,o,s,a,c,l;for(o=new Wf(e.b);o.a<o.c.c.length;)for(c=new Wf(jV(Q1(o),29).a);c.a<c.c.c.length;){for(a=jV(Q1(c),10),l=new Ob,s=0,i=new sq(ZD(hft(a).a.Kc(),new u));gPt(i);)h4(n=jV(U4(i),17))||!h4(n)&&n.c.i.c==n.d.i.c||((r=jV(wTt(n,(VGt(),hbe)),19).a)>s&&(s=r,l.c=D7(Mte,VKt,1,0,5,1)),r==s&&WV(l,new nI(n.d.i,n)));EX(),bO(l,t.c),yU(t.f,a.p,l)}}function Hjt(t){OT(t,new EEt(mk(dk(pk(gk(new ma,h4t),"ELK Box"),"Algorithm for packing of unconnected boxes, i.e. graphs without edges."),new Ra))),o2(t,h4t,YQt,HTe),o2(t,h4t,bJt,15),o2(t,h4t,mJt,ndt(0)),o2(t,h4t,M5t,wbt(BTe)),o2(t,h4t,CJt,wbt(jTe)),o2(t,h4t,TJt,wbt(VTe)),o2(t,h4t,KQt,u4t),o2(t,h4t,_Jt,wbt(FTe)),o2(t,h4t,$Jt,wbt($Te)),o2(t,h4t,d4t,wbt(LTe)),o2(t,h4t,s3t,wbt(RTe))}function Ujt(t,e){var n,i,r,o,s,a,c,l,u;if(s=(r=t.i).o.a,o=r.o.b,s<=0&&o<=0)return vWt(),TIe;switch(l=t.n.a,u=t.n.b,a=t.o.a,n=t.o.b,e.g){case 2:case 1:if(l<0)return vWt(),CIe;if(l+a>s)return vWt(),sIe;break;case 4:case 3:if(u<0)return vWt(),aIe;if(u+n>o)return vWt(),EIe}return(c=(l+a/2)/s)+(i=(u+n/2)/o)<=1&&c-i<=0?(vWt(),CIe):c+i>=1&&c-i>=0?(vWt(),sIe):i<.5?(vWt(),aIe):(vWt(),EIe)}function qjt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f;for(n=!1,c=zv(xR(wTt(e,(VGt(),Sbe)))),d=BYt*c,r=new Wf(e.b);r.a<r.c.c.length;)for(i=jV(Q1(r),29),o=jV(Q1(a=new Wf(i.a)),10),l=dW(t.a[o.p]);a.a<a.c.c.length;)s=jV(Q1(a),10),l!=(u=dW(t.a[s.p]))&&(h=RO(t.b,o,s),o.n.b+o.o.b+o.d.a+l.a+h>s.n.b-s.d.d+u.a+d&&(f=l.g+u.g,u.a=(u.g*u.a+l.g*l.a)/f,u.g=f,l.f=u,n=!0)),o=s,l=u;return n}function Wjt(t,e,n,i,r,o,s){var a,c,l,u,h;for(h=new hP,c=e.Kc();c.Ob();)for(u=new Wf(jV(c.Pb(),839).wf());u.a<u.c.c.length;)zI((l=jV(Q1(u),181)).We((cKt(),gCe)))===zI((Ret(),qAe))&&(iFt(h,l,!1,i,r,o,s),AAt(t,h));for(a=n.Kc();a.Ob();)for(u=new Wf(jV(a.Pb(),839).wf());u.a<u.c.c.length;)zI((l=jV(Q1(u),181)).We((cKt(),gCe)))===zI((Ret(),UAe))&&(iFt(h,l,!0,i,r,o,s),AAt(t,h))}function Gjt(t,e,n){var i,r,o,s,a,c,l;for(s=new ID((!t.a&&(t.a=new tW(HMe,t,10,11)),t.a));s.e!=s.i.gc();)for(r=new sq(ZD(gDt(o=jV(vbt(s),33)).a.Kc(),new u));gPt(r);)JMt(i=jV(U4(r),79))||JMt(i)||YIt(i)||(c=jV(VI(IZ(n.f,o)),86),l=jV(LG(n,CEt(jV(Get((!i.c&&(i.c=new cF(LMe,i,5,8)),i.c),0),82))),86),c&&l&&(lct(a=new UX(c,l),(zHt(),a_e),i),zst(a,i),Nz(c.d,a),Nz(l.b,a),Nz(e.a,a)))}function Kjt(t,e){var n,r,o,s,a,c,l;for(c=jV(jV(c6(t.r,e),21),84).Kc();c.Ob();)(r=(a=jV(c.Pb(),111)).c?Wz(a.c):0)>0?a.a?r>(l=a.b.rf().b)&&(t.v||1==a.c.d.c.length?(s=(r-l)/2,a.d.d=s,a.d.a=s):(n=(jV(DH(a.c.d,0),181).rf().b-l)/2,a.d.d=i.Math.max(0,n),a.d.a=r-n-l)):a.d.a=t.t+r:$q(t.u)&&((o=FEt(a.b)).d<0&&(a.d.d=-o.d),o.d+o.a>a.b.rf().b&&(a.d.a=o.d+o.a-a.b.rf().b))}function Yjt(t,e){var n;switch(mtt(t)){case 6:return qI(e);case 7:return UI(e);case 8:return HI(e);case 3:return Array.isArray(e)&&!((n=mtt(e))>=14&&n<=16);case 11:return null!=e&&typeof e===NKt;case 12:return null!=e&&(typeof e===MKt||typeof e==NKt);case 0:return Ybt(e,t.__elementTypeId$);case 2:return NW(e)&&!(e.im===I);case 1:return NW(e)&&!(e.im===I)||Ybt(e,t.__elementTypeId$);default:return!0}}function Xjt(t,e){var n,r,o,s;return r=i.Math.min(i.Math.abs(t.c-(e.c+e.b)),i.Math.abs(t.c+t.b-e.c)),s=i.Math.min(i.Math.abs(t.d-(e.d+e.a)),i.Math.abs(t.d+t.a-e.d)),(n=i.Math.abs(t.c+t.b/2-(e.c+e.b/2)))>t.b/2+e.b/2||(o=i.Math.abs(t.d+t.a/2-(e.d+e.a/2)))>t.a/2+e.a/2?1:0==n&&0==o?0:0==n?s/o+1:0==o?r/n+1:i.Math.min(r/n,s/o)+1}function Zjt(t,e){var n,r,o,s,a,c;return(o=nit(t))==(c=nit(e))?t.e==e.e&&t.a<54&&e.a<54?t.f<e.f?-1:t.f>e.f?1:0:(r=t.e-e.e,(n=(t.d>0?t.d:i.Math.floor((t.a-1)*UXt)+1)-(e.d>0?e.d:i.Math.floor((e.a-1)*UXt)+1))>r+1?o:n<r-1?-o:(!t.c&&(t.c=yut(t.f)),s=t.c,!e.c&&(e.c=yut(e.f)),a=e.c,r<0?s=Ott(s,vVt(-r)):r>0&&(a=Ott(a,vVt(r))),tmt(s,a))):o<c?-1:1}function Qjt(t,e){var n,i,r,o,s,a,c;for(o=0,a=0,c=0,r=new Wf(t.f.e);r.a<r.c.c.length;)e!=(i=jV(Q1(r),144))&&(o+=s=t.i[e.b][i.b],(n=W7(e.d,i.d))>0&&t.d!=(V9(),Ise)&&(a+=s*(i.d.a+t.a[e.b][i.b]*(e.d.a-i.d.a)/n)),n>0&&t.d!=(V9(),Ase)&&(c+=s*(i.d.b+t.a[e.b][i.b]*(e.d.b-i.d.b)/n)));switch(t.d.g){case 1:return new DS(a/o,e.d.b);case 2:return new DS(e.d.a,c/o);default:return new DS(a/o,c/o)}}function Jjt(t,e){var n,i,r,o;if(Ult(),o=jV(wTt(t.i,(VGt(),tbe)),98),0!=t.j.g-e.j.g||o!=(Yxt(),USe)&&o!=WSe&&o!=qSe)return 0;if(o==(Yxt(),USe)&&(n=jV(wTt(t,ebe),19),i=jV(wTt(e,ebe),19),n&&i&&0!=(r=n.a-i.a)))return r;switch(t.j.g){case 1:return Cdt(t.n.a,e.n.a);case 2:return Cdt(t.n.b,e.n.b);case 3:return Cdt(e.n.a,t.n.a);case 4:return Cdt(e.n.b,t.n.b);default:throw $b(new Fv(i1t))}}function t$t(t){var e,n,i,r,o;for(WV(o=new X6((!t.a&&(t.a=new MD(OMe,t,5)),t.a).i+2),new DS(t.j,t.k)),XE(new LH(null,(!t.a&&(t.a=new MD(OMe,t,5)),new d1(t.a,16))),new Am(o)),WV(o,new DS(t.b,t.c)),e=1;e<o.c.length-1;)u1(e-1,o.c.length),n=jV(o.c[e-1],8),u1(e,o.c.length),i=jV(o.c[e],8),u1(e+1,o.c.length),r=jV(o.c[e+1],8),n.a==i.a&&i.a==r.a||n.b==i.b&&i.b==r.b?a6(o,e):++e;return o}function e$t(t,e){var n,i,r,o,s,a,c;for(n=SN(eT(JE(tT(new Ww,e),new gZ(e.e)),gle),t.a),0==e.j.c.length||G8(jV(DH(e.j,0),57).a,n),c=new Nb,GK(t.e,n,c),s=new Lw,a=new Lw,o=new Wf(e.k);o.a<o.c.c.length;)kW(s,(r=jV(Q1(o),17)).c),kW(a,r.d);(i=s.a.gc()-a.a.gc())<0?(qat(c,!0,(jht(),BAe)),qat(c,!1,FAe)):i>0&&(qat(c,!1,(jht(),BAe)),qat(c,!0,FAe)),Iet(e.g,new aA(t,n)),GK(t.g,e,n)}function n$t(){var t;for(n$t=M,Oee=Cat(z_(SNe,1),lXt,25,15,[-1,-1,30,19,15,13,11,11,10,9,9,8,8,8,8,7,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5]),Dee=D7(SNe,lXt,25,37,15,1),Nee=Cat(z_(SNe,1),lXt,25,15,[-1,-1,63,40,32,28,25,23,21,20,19,19,18,18,17,17,16,16,16,15,15,15,15,14,14,14,14,14,14,13,13,13,13,13,13,13,13]),Lee=D7(MNe,jXt,25,37,14,1),t=2;t<=36;t++)Dee[t]=CQ(i.Math.pow(t,Oee[t])),Lee[t]=Ikt(dYt,Dee[t])}function i$t(t){var e;if(1!=(!t.a&&(t.a=new tW(BMe,t,6,6)),t.a).i)throw $b(new Bv($4t+(!t.a&&(t.a=new tW(BMe,t,6,6)),t.a).i));return e=new yy,dat(jV(Get((!t.b&&(t.b=new cF(LMe,t,4,7)),t.b),0),82))&&jrt(e,UGt(t,dat(jV(Get((!t.b&&(t.b=new cF(LMe,t,4,7)),t.b),0),82)),!1)),dat(jV(Get((!t.c&&(t.c=new cF(LMe,t,5,8)),t.c),0),82))&&jrt(e,UGt(t,dat(jV(Get((!t.c&&(t.c=new cF(LMe,t,5,8)),t.c),0),82)),!0)),e}function r$t(t,e){var n,i,r;for(r=!1,i=new sq(ZD((e.d?t.a.c==(gQ(),Jye)?uft(e.b):hft(e.b):t.a.c==(gQ(),Qye)?uft(e.b):hft(e.b)).a.Kc(),new u));gPt(i);)if(n=jV(U4(i),17),(Vv(t.a.f[t.a.g[e.b.p].p])||h4(n)||n.c.i.c!=n.d.i.c)&&!Vv(t.a.n[t.a.g[e.b.p].p])&&!Vv(t.a.n[t.a.g[e.b.p].p])&&(r=!0,FE(t.b,t.a.g[Oyt(n,e.b).p])))return e.c=!0,e.a=n,e;return e.c=r,e.a=null,e}function o$t(t,e,n,i,r){var o,s,a,c,l,u,h;for(EX(),bO(t,new Ka),a=new x2(t,0),h=new Ob,o=0;a.b<a.d.gc();)TL(a.b<a.d.gc()),s=jV(a.d.Xb(a.c=a.b++),157),0!=h.c.length&&eU(s)*tU(s)>2*o?(u=new Het(h),l=eU(s)/tU(s),c=yGt(u,e,new hy,n,i,r,l),UB(yM(u.e),c),h.c=D7(Mte,VKt,1,0,5,1),o=0,h.c[h.c.length]=u,h.c[h.c.length]=s,o=eU(u)*tU(u)+eU(s)*tU(s)):(h.c[h.c.length]=s,o+=eU(s)*tU(s));return h}function s$t(t,e,n){var i,r,o,s,a,c,l;if(0==(i=n.gc()))return!1;if(t.ej())if(c=t.fj(),vgt(t,e,n),s=1==i?t.Zi(3,null,n.Kc().Pb(),e,c):t.Zi(5,null,n,e,c),t.bj()){for(a=i<100?null:new Fk(i),o=e+i,r=e;r<o;++r)l=t.Oi(r),a=t.cj(l,a);a?(a.Ei(s),a.Fi()):t.$i(s)}else t.$i(s);else if(vgt(t,e,n),t.bj()){for(a=i<100?null:new Fk(i),o=e+i,r=e;r<o;++r)a=t.cj(t.Oi(r),a);a&&a.Fi()}return!0}function a$t(t,e,n){var i,r,o,s;return t.ej()?(r=null,o=t.fj(),i=t.Zi(1,s=t.Ui(e,t.oi(e,n)),n,e,o),t.bj()&&!(t.ni()&&s?Dht(s,n):zI(s)===zI(n))?(s&&(r=t.dj(s,r)),(r=t.cj(n,r))?(r.Ei(i),r.Fi()):t.$i(i)):r?(r.Ei(i),r.Fi()):t.$i(i),s):(s=t.Ui(e,t.oi(e,n)),t.bj()&&!(t.ni()&&s?Dht(s,n):zI(s)===zI(n))&&(r=null,s&&(r=t.dj(s,null)),(r=t.cj(n,r))&&r.Fi()),s)}function c$t(t,e){var n,r,o,s,a,c,l,u;if(t.e=e,t.f=jV(wTt(e,(Ert(),cse)),230),WEt(e),t.d=i.Math.max(16*e.e.c.length+e.c.c.length,256),!Vv(kR(wTt(e,(uBt(),$oe)))))for(u=t.e.e.c.length,c=new Wf(e.e);c.a<c.c.c.length;)(l=jV(Q1(c),144).d).a=SU(t.f)*u,l.b=SU(t.f)*u;for(n=e.b,s=new Wf(e.c);s.a<s.c.c.length;)if(o=jV(Q1(s),282),(r=jV(wTt(o,tse),19).a)>0){for(a=0;a<r;a++)WV(n,new cG(o));$St(o)}}function l$t(t,e){var n,r,o,s,a;if(t.k==(sCt(),Eae)&&(n=vx(IY(jV(wTt(t,(lKt(),Tde)),15).Oc(),new rg(new ri))).sd((fT(),Jne))?e:(Wvt(),kSe),lct(t,ode,n),n!=(Wvt(),_Se)))for(r=jV(wTt(t,fde),17),a=zv(xR(wTt(r,(VGt(),rme)))),s=0,n==vSe?s=t.o.b-i.Math.ceil(a/2):n==kSe&&(t.o.b-=zv(xR(wTt(mK(t),vbe))),s=(t.o.b-i.Math.ceil(a))/2),o=new Wf(t.j);o.a<o.c.c.length;)jV(Q1(o),11).n.b=s}function u$t(){u$t=M,XT(),_Ne=new Bu,Cat(z_(SOe,2),cYt,368,0,[Cat(z_(SOe,1),_te,592,0,[new Ux(U9t)])]),Cat(z_(SOe,2),cYt,368,0,[Cat(z_(SOe,1),_te,592,0,[new Ux(q9t)])]),Cat(z_(SOe,2),cYt,368,0,[Cat(z_(SOe,1),_te,592,0,[new Ux(W9t)]),Cat(z_(SOe,1),_te,592,0,[new Ux(q9t)])]),new MP("-1"),Cat(z_(SOe,2),cYt,368,0,[Cat(z_(SOe,1),_te,592,0,[new Ux("\\c+")])]),new MP("0"),new MP("0"),new MP("1"),new MP("0"),new MP(nte)}function h$t(t){var e,n;return t.c&&t.c.kh()&&(n=jV(t.c,49),t.c=jV(tht(t,n),138),t.c!=n&&(4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,9,2,n,t.c)),iD(t.Cb,399)?t.Db>>16==-15&&t.Cb.nh()&&M9(new y8(t.Cb,9,13,n,t.c,swt($9(jV(t.Cb,59)),t))):iD(t.Cb,88)&&t.Db>>16==-23&&t.Cb.nh()&&(iD(e=t.c,88)||(pKt(),e=dOe),iD(n,88)||(pKt(),n=dOe),M9(new y8(t.Cb,9,10,n,e,swt(r5(jV(t.Cb,26)),t)))))),t.c}function d$t(t,e){var n,i,r,o,s,a,c,l;for(IEt(e,"Hypernodes processing",1),i=new Wf(t.b);i.a<i.c.c.length;)for(s=new Wf(jV(Q1(i),29).a);s.a<s.c.c.length;)if(Vv(kR(wTt(o=jV(Q1(s),10),(VGt(),hme))))&&o.j.c.length<=2){for(l=0,c=0,n=0,r=0,a=new Wf(o.j);a.a<a.c.c.length;)switch(jV(Q1(a),11).j.g){case 1:++l;break;case 2:++c;break;case 3:++n;break;case 4:++r}0==l&&0==n&&_Gt(t,o,r<=c)}VCt(e)}function f$t(t,e){var n,i,r,o,s,a,c,l,u;for(IEt(e,"Layer constraint edge reversal",1),s=new Wf(t.b);s.a<s.c.c.length;){for(o=jV(Q1(s),29),u=-1,n=new Ob,l=Q0(o.a),r=0;r<l.length;r++)i=jV(wTt(l[r],(lKt(),ede)),303),-1==u?i!=(H9(),Che)&&(u=r):i==(H9(),Che)&&(TJ(l[r],null),Yvt(l[r],u++,o)),i==(H9(),Ehe)&&WV(n,l[r]);for(c=new Wf(n);c.a<c.c.c.length;)TJ(a=jV(Q1(c),10),null),TJ(a,o)}VCt(e)}function g$t(t,e,n){var i,r,o,s,a,c,l,u;for(IEt(n,"Hyperedge merging",1),NPt(t,e),a=new x2(e.b,0);a.b<a.d.gc();)if(TL(a.b<a.d.gc()),0!=(l=jV(a.d.Xb(a.c=a.b++),29).a).c.length)for(i=null,r=null,o=null,s=null,c=0;c<l.c.length;c++)u1(c,l.c.length),(r=(i=jV(l.c[c],10)).k)==(sCt(),Tae)&&s==Tae&&(u=lzt(i,o)).a&&(iRt(i,o,u.b,u.c),u1(c,l.c.length),Tx(l.c,c,1),--c,i=o,r=s),o=i,s=r;VCt(n)}function p$t(t,e){var n,i,r;i=0!=VOt(t.d,1),!Vv(kR(wTt(e.j,(lKt(),Xhe))))&&!Vv(kR(wTt(e.j,Ade)))||zI(wTt(e.j,(VGt(),Ppe)))===zI((wct(),Owe))?e.c.Tf(e.e,i):i=Vv(kR(wTt(e.j,Xhe))),LNt(t,e,i,!0),Vv(kR(wTt(e.j,Ade)))&&lct(e.j,Ade,(cN(),!1)),Vv(kR(wTt(e.j,Xhe)))&&(lct(e.j,Xhe,(cN(),!1)),lct(e.j,Ade,!0)),n=eFt(t,e);do{if(Prt(t),0==n)return 0;r=n,LNt(t,e,i=!i,!1),n=eFt(t,e)}while(r>n);return r}function m$t(t,e){var n,i,r;i=0!=VOt(t.d,1),!Vv(kR(wTt(e.j,(lKt(),Xhe))))&&!Vv(kR(wTt(e.j,Ade)))||zI(wTt(e.j,(VGt(),Ppe)))===zI((wct(),Owe))?e.c.Tf(e.e,i):i=Vv(kR(wTt(e.j,Xhe))),LNt(t,e,i,!0),Vv(kR(wTt(e.j,Ade)))&&lct(e.j,Ade,(cN(),!1)),Vv(kR(wTt(e.j,Xhe)))&&(lct(e.j,Xhe,(cN(),!1)),lct(e.j,Ade,!0)),n=JAt(t,e);do{if(Prt(t),0==n)return 0;r=n,LNt(t,e,i=!i,!1),n=JAt(t,e)}while(r>n);return r}function b$t(t,e,n){var i,r,o,s,a,c,l;if(e==n)return!0;if(e=dPt(t,e),n=dPt(t,n),i=zwt(e)){if((c=zwt(n))!=i)return!!c&&(s=i.Dj())==c.Dj()&&null!=s;if(!e.d&&(e.d=new MD(WPe,e,1)),r=(o=e.d).i,!n.d&&(n.d=new MD(WPe,n,1)),r==(l=n.d).i)for(a=0;a<r;++a)if(!b$t(t,jV(Get(o,a),87),jV(Get(l,a),87)))return!1;return!0}return e.e==n.e}function w$t(t,e,n,i){var r,o,s,a,c,l,u,h;if(PLt(t.e,e)){for(h=oLt(t.e.Tg(),e),o=jV(t.g,119),u=null,c=-1,a=-1,r=0,l=0;l<t.i;++l)s=o[l],h.rl(s.ak())&&(r==n&&(c=l),r==i&&(a=l,u=s.dd()),++r);if(-1==c)throw $b(new Iv(s7t+n+a7t+r));if(-1==a)throw $b(new Iv(c7t+i+a7t+r));return Sdt(t,c,a),bP(t.e)&&Pw(t,PZ(t,7,e,ndt(i),u,n,!0)),u}throw $b(new Bv("The feature must be many-valued to support move"))}function y$t(t,e,n,i){var r,o,s,a,c;switch((c=new dP(e.n)).a+=e.o.a/2,c.b+=e.o.b/2,a=zv(xR(wTt(e,(VGt(),Jme)))),o=t.f,s=t.d,r=t.c,jV(wTt(e,(lKt(),Khe)),61).g){case 1:c.a+=s.b+r.a-n/2,c.b=-i-a,e.n.b=-(s.d+a+r.b);break;case 2:c.a=o.a+s.b+s.c+a,c.b+=s.d+r.b-i/2,e.n.a=o.a+s.c+a-r.a;break;case 3:c.a+=s.b+r.a-n/2,c.b=o.b+s.d+s.a+a,e.n.b=o.b+s.a+a-r.b;break;case 4:c.a=-n-a,c.b+=s.d+r.b-i/2,e.n.a=-(s.b+a+r.a)}return c}function v$t(t){var e,n,i,r,o,s;return zst(i=new wit,t),zI(wTt(i,(VGt(),Upe)))===zI((jht(),jAe))&&lct(i,Upe,Gdt(i)),null==wTt(i,(C6(),kTe))&&(s=jV(PTt(t),160),lct(i,kTe,eM(s.We(kTe)))),lct(i,(lKt(),fde),t),lct(i,Zhe,new YF(e=jV(Gk(khe),9),jV(EB(e,e.length),9),0)),r=Cqt((XQ(t)&&(zT(),new Nv(XQ(t))),zT(),new XN(XQ(t)?new Nv(XQ(t)):null,t)),FAe),o=jV(wTt(i,Hme),116),tJ(n=i.d,o),tJ(n,r),i}function _$t(t,e,n){var i,r;i=e.c.i,r=n.d.i,i.k==(sCt(),Tae)?(lct(t,(lKt(),cde),jV(wTt(i,cde),11)),lct(t,lde,jV(wTt(i,lde),11)),lct(t,ade,kR(wTt(i,ade)))):i.k==Eae?(lct(t,(lKt(),cde),jV(wTt(i,cde),11)),lct(t,lde,jV(wTt(i,lde),11)),lct(t,ade,(cN(),!0))):r.k==Eae?(lct(t,(lKt(),cde),jV(wTt(r,cde),11)),lct(t,lde,jV(wTt(r,lde),11)),lct(t,ade,(cN(),!0))):(lct(t,(lKt(),cde),e.c),lct(t,lde,n.d))}function k$t(t){var e,n,i,r,o,s,a;for(t.o=new Pb,i=new YE,s=new Wf(t.e.a);s.a<s.c.c.length;)1==vft(o=jV(Q1(s),121)).c.length&&n4(i,o,i.c.b,i.c);for(;0!=i.b;)0!=vft(o=jV(0==i.b?null:(TL(0!=i.b),Met(i,i.a.a)),121)).c.length&&(e=jV(DH(vft(o),0),213),n=o.g.a.c.length>0,a=Dft(e,o),RN(n?a.b:a.g,e),1==vft(a).c.length&&n4(i,a,i.c.b,i.c),r=new nI(o,e),f3(t.o,r),w9(t.e.a,o))}function x$t(t,e){var n,r,o,s;return r=i.Math.abs(Vq(t.b).a-Vq(e.b).a),s=i.Math.abs(Vq(t.b).b-Vq(e.b).b),n=1,o=1,r>t.b.b/2+e.b.b/2&&(n=1-i.Math.min(i.Math.abs(t.b.c-(e.b.c+e.b.b)),i.Math.abs(t.b.c+t.b.b-e.b.c))/r),s>t.b.a/2+e.b.a/2&&(o=1-i.Math.min(i.Math.abs(t.b.d-(e.b.d+e.b.a)),i.Math.abs(t.b.d+t.b.a-e.b.d))/s),(1-i.Math.min(n,o))*i.Math.sqrt(r*r+s*s)}function E$t(t){var e,n,i;for(Jqt(t,t.e,t.f,(fQ(),Pve),!0,t.c,t.i),Jqt(t,t.e,t.f,Pve,!1,t.c,t.i),Jqt(t,t.e,t.f,Ove,!0,t.c,t.i),Jqt(t,t.e,t.f,Ove,!1,t.c,t.i),S$t(t,t.c,t.e,t.f,t.i),n=new x2(t.i,0);n.b<n.d.gc();)for(TL(n.b<n.d.gc()),e=jV(n.d.Xb(n.c=n.b++),128),i=new x2(t.i,n.b);i.b<i.d.gc();)TL(i.b<i.d.gc()),DHt(e,jV(i.d.Xb(i.c=i.b++),128));SGt(t.i,jV(wTt(t.d,(lKt(),Ede)),230)),HUt(t.i)}function T$t(t,e){var n,i;if(null!=e)if(i=nvt(t)){if(!(1&i.i))return QT(),!(n=jV(LG(mPe,i),55))||n.wj(e);if(i==INe)return HI(e);if(i==SNe)return iD(e,19);if(i==DNe)return iD(e,155);if(i==PNe)return iD(e,217);if(i==ANe)return iD(e,172);if(i==ONe)return UI(e);if(i==NNe)return iD(e,184);if(i==MNe)return iD(e,162)}else if(iD(e,56))return t.uk(jV(e,56));return!1}function C$t(){var t,e,n,i,r,o,s,a,c;for(C$t=M,qDe=D7(PNe,b6t,25,255,15,1),WDe=D7(ANe,GYt,25,64,15,1),e=0;e<255;e++)qDe[e]=-1;for(n=90;n>=65;n--)qDe[n]=n-65<<24>>24;for(i=122;i>=97;i--)qDe[i]=i-97+26<<24>>24;for(r=57;r>=48;r--)qDe[r]=r-48+52<<24>>24;for(qDe[43]=62,qDe[47]=63,o=0;o<=25;o++)WDe[o]=65+o&YYt;for(s=26,c=0;s<=51;++s,c++)WDe[s]=97+c&YYt;for(t=52,a=0;t<=61;++t,a++)WDe[t]=48+a&YYt;WDe[62]=43,WDe[63]=47}function A$t(t,e){var n,r,o,s,a,c,l,u,h,d,f;if(t.dc())return new zk;for(l=0,h=0,r=t.Kc();r.Ob();)o=jV(r.Pb(),37).f,l=i.Math.max(l,o.a),h+=o.a*o.b;for(l=i.Math.max(l,i.Math.sqrt(h)*zv(xR(wTt(jV(t.Kc().Pb(),37),(VGt(),_pe))))),d=0,f=0,c=0,n=e,a=t.Kc();a.Ob();)d+(u=(s=jV(a.Pb(),37)).f).a>l&&(d=0,f+=c+e,c=0),QBt(s,d,f),n=i.Math.max(n,d+u.a),c=i.Math.max(c,u.b),d+=u.a+e;return new DS(n+e,f+c+e)}function S$t(t,e,n,i,r){var o,s,a,c,l,u,h;for(s=new Wf(e);s.a<s.c.c.length;){if(c=(o=jV(Q1(s),17)).c,n.a._b(c))fQ(),l=Pve;else{if(!i.a._b(c))throw $b(new Bv("Source port must be in one of the port sets."));fQ(),l=Ove}if(u=o.d,n.a._b(u))fQ(),h=Pve;else{if(!i.a._b(u))throw $b(new Bv("Target port must be in one of the port sets."));fQ(),h=Ove}a=new tSt(o,l,h),GK(t.b,o,a),r.c[r.c.length]=a}}function I$t(t,e){var n,i,r,o,s,a,c;if(!WQ(t))throw $b(new Fv(j4t));if(o=(i=WQ(t)).g,r=i.f,o<=0&&r<=0)return vWt(),TIe;switch(a=t.i,c=t.j,e.g){case 2:case 1:if(a<0)return vWt(),CIe;if(a+t.g>o)return vWt(),sIe;break;case 4:case 3:if(c<0)return vWt(),aIe;if(c+t.f>r)return vWt(),EIe}return(s=(a+t.g/2)/o)+(n=(c+t.f/2)/r)<=1&&s-n<=0?(vWt(),CIe):s+n>=1&&s-n>=0?(vWt(),sIe):n<.5?(vWt(),aIe):(vWt(),EIe)}function M$t(t,e,n,i,r){var o,s;if(o=ift(t0(e[0],qXt),t0(i[0],qXt)),t[0]=fU(o),o=yq(o,32),n>=r){for(s=1;s<r;s++)o=ift(o,ift(t0(e[s],qXt),t0(i[s],qXt))),t[s]=fU(o),o=yq(o,32);for(;s<n;s++)o=ift(o,t0(e[s],qXt)),t[s]=fU(o),o=yq(o,32)}else{for(s=1;s<n;s++)o=ift(o,ift(t0(e[s],qXt),t0(i[s],qXt))),t[s]=fU(o),o=yq(o,32);for(;s<r;s++)o=ift(o,t0(i[s],qXt)),t[s]=fU(o),o=yq(o,32)}0!=Kut(o,0)&&(t[s]=fU(o))}function P$t(t){var e,n,i,r,o,s;if(fKt(),4!=t.e&&5!=t.e)throw $b(new Bv("Token#complementRanges(): must be RANGE: "+t.e));for(xOt(o=t),zzt(o),i=o.b.length+2,0==o.b[0]&&(i-=2),(n=o.b[o.b.length-1])==ste&&(i-=2),(r=new x0(4)).b=D7(SNe,lXt,25,i,15,1),s=0,o.b[0]>0&&(r.b[s++]=0,r.b[s++]=o.b[0]-1),e=1;e<o.b.length-2;e+=2)r.b[s++]=o.b[e]+1,r.b[s++]=o.b[e+1]-1;return n!=ste&&(r.b[s++]=n+1,r.b[s]=ste),r.a=!0,r}function O$t(t,e,n){var i,r,o,s,a,c,l,u;if(0==(i=n.gc()))return!1;if(t.ej())if(l=t.fj(),$Et(t,e,n),s=1==i?t.Zi(3,null,n.Kc().Pb(),e,l):t.Zi(5,null,n,e,l),t.bj()){for(a=i<100?null:new Fk(i),o=e+i,r=e;r<o;++r)u=t.g[r],a=t.cj(u,a),a=t.jj(u,a);a?(a.Ei(s),a.Fi()):t.$i(s)}else t.$i(s);else if($Et(t,e,n),t.bj()){for(a=i<100?null:new Fk(i),o=e+i,r=e;r<o;++r)c=t.g[r],a=t.cj(c,a);a&&a.Fi()}return!0}function D$t(t,e,n,i){var r,o,s,a,c;for(s=new Wf(t.k);s.a<s.c.c.length;)r=jV(Q1(s),129),i&&r.c!=(S6(),kve)||(c=r.b).g<0&&r.d>0&&(Wd(c,c.d-r.d),r.c==(S6(),kve)&&Ud(c,c.a-r.d),c.d<=0&&c.i>0&&n4(e,c,e.c.b,e.c));for(o=new Wf(t.f);o.a<o.c.c.length;)r=jV(Q1(o),129),i&&r.c!=(S6(),kve)||(a=r.a).g<0&&r.d>0&&(Gd(a,a.i-r.d),r.c==(S6(),kve)&&qd(a,a.b-r.d),a.i<=0&&a.d>0&&n4(n,a,n.c.b,n.c))}function N$t(t,e,n){var i,r,o,s,a,c,l,u;for(IEt(n,"Processor compute fanout",1),MW(t.b),MW(t.a),a=null,o=cbt(e.b,0);!a&&o.b!=o.d.c;)Vv(kR(wTt(l=jV(h3(o),86),(zHt(),f_e))))&&(a=l);for(n4(c=new YE,a,c.c.b,c.c),_Wt(t,c),u=cbt(e.b,0);u.b!=u.d.c;)s=ER(wTt(l=jV(h3(u),86),(zHt(),n_e))),r=null!=EQ(t.b,s)?jV(EQ(t.b,s),19).a:0,lct(l,e_e,ndt(r)),i=1+(null!=EQ(t.a,s)?jV(EQ(t.a,s),19).a:0),lct(l,Jve,ndt(i));VCt(n)}function L$t(t,e,n,i,r){var o,s,a,c,l,u,h,d,f;for(h=yxt(t,n),a=0;a<e;a++){for(wB(r,n),d=new Ob,TL(i.b<i.d.gc()),f=jV(i.d.Xb(i.c=i.b++),407),l=h+a;l<t.b;l++)s=f,TL(i.b<i.d.gc()),WV(d,new kLt(s,f=jV(i.d.Xb(i.c=i.b++),407),n));for(u=h+a;u<t.b;u++)TL(i.b>0),i.a.Xb(i.c=--i.b),u>h+a&&lK(i);for(o=new Wf(d);o.a<o.c.c.length;)wB(i,jV(Q1(o),407));if(a<e-1)for(c=h+a;c<t.b;c++)TL(i.b>0),i.a.Xb(i.c=--i.b)}}function R$t(){var t,e,n,i,r,o;if(fKt(),TNe)return TNe;for(czt(t=new x0(4),QWt(mte,!0)),GUt(t,QWt("M",!0)),GUt(t,QWt("C",!0)),o=new x0(4),i=0;i<11;i++)XLt(o,i,i);return czt(e=new x0(4),QWt("M",!0)),XLt(e,4448,4607),XLt(e,65438,65439),tHt(r=new nO(2),t),tHt(r,sNe),(n=new nO(2)).$l(gU(o,QWt("L",!0))),n.$l(e),n=new UW(r,n=new c5(3,n)),TNe=n}function B$t(t){var e,n;if(!Xot(e=ER(QPt(t,(cKt(),tCe))),t)&&!T7(t,bAe)&&(0!=(!t.a&&(t.a=new tW(HMe,t,10,11)),t.a).i||Vv(kR(QPt(t,ECe))))){if(null!=e&&0!=RTt(e).length)throw pqt(t,n=sM(sM(new uN("Layout algorithm '"),e),"' not found for ")),$b(new n_(n.a));if(!Xot(f1t,t))throw pqt(t,n=sM(sM(new uN("Unable to load default layout algorithm "),f1t)," for unconfigured node ")),$b(new n_(n.a))}}function F$t(t){var e,n,r,o,s,a,c,l,u,h,d,f,g;if(n=t.i,e=t.n,0==t.b)for(g=n.c+e.b,f=n.b-e.b-e.c,l=0,h=(a=t.a).length;l<h;++l)UU(o=a[l],g,f);else r=Gwt(t,!1),UU(t.a[0],n.c+e.b,r[0]),UU(t.a[2],n.c+n.b-e.c-r[2],r[2]),d=n.b-e.b-e.c,r[0]>0&&(d-=r[0]+t.c,r[0]+=t.c),r[2]>0&&(d-=r[2]+t.c),r[1]=i.Math.max(r[1],d),UU(t.a[1],n.c+e.b+r[0]-(r[1]-d)/2,r[1]);for(c=0,u=(s=t.a).length;c<u;++c)iD(o=s[c],326)&&jV(o,326).Te()}function j$t(t){var e,n,i,r,o,s,a,c,l,u,h;for((h=new as).d=0,s=new Wf(t.b);s.a<s.c.c.length;)o=jV(Q1(s),29),h.d+=o.a.c.length;for(i=0,r=0,h.a=D7(SNe,lXt,25,t.b.c.length,15,1),l=0,u=0,h.e=D7(SNe,lXt,25,h.d,15,1),n=new Wf(t.b);n.a<n.c.c.length;)for((e=jV(Q1(n),29)).p=i++,h.a[e.p]=r++,u=0,c=new Wf(e.a);c.a<c.c.c.length;)(a=jV(Q1(c),10)).p=l++,h.e[a.p]=u++;return h.c=new lm(h),h.b=aL(h.d),Vjt(h,t),h.f=aL(h.d),zjt(h,t),h}function $$t(t,e){var n,r,o;for(o=jV(DH(t.n,t.n.c.length-1),211).d,t.p=i.Math.min(t.p,e.g),t.r=i.Math.max(t.r,o),t.g=i.Math.max(t.g,e.g+(1==t.b.c.length?0:t.i)),t.o=i.Math.min(t.o,e.f),t.e+=e.f+(1==t.b.c.length?0:t.i),t.f=i.Math.max(t.f,e.f),r=t.n.c.length>0?(t.n.c.length-1)*t.i:0,n=new Wf(t.n);n.a<n.c.c.length;)r+=jV(Q1(n),211).a;t.d=r,t.a=t.e/t.b.c.length-t.i*((t.b.c.length-1)/t.b.c.length),yvt(t.j)}function V$t(t,e){var n,i,r,o,s,a,c,l,u;if(null==(l=kR(wTt(e,(uBt(),ese))))||(yK(l),l)){for(u=D7(INe,QZt,25,e.e.c.length,16,1),s=vMt(e),r=new YE,c=new Wf(e.e);c.a<c.c.c.length;)(n=XOt(t,jV(Q1(c),144),null,null,u,s))&&(zst(n,e),n4(r,n,r.c.b,r.c));if(r.b>1)for(i=cbt(r,0);i.b!=i.d.c;)for(o=0,a=new Wf((n=jV(h3(i),231)).e);a.a<a.c.c.length;)jV(Q1(a),144).b=o++;return r}return o6(Cat(z_(Roe,1),tJt,231,0,[e]))}function z$t(t){var e,n,i,r,o;if(!t.g){if(o=new Ec,null==(e=EOe).a.zc(t,e)){for(n=new ID(yZ(t));n.e!=n.i.gc();)pG(o,z$t(jV(vbt(n),26)));e.a.Bc(t),e.a.gc()}for(i=o.i,!t.s&&(t.s=new tW(BPe,t,21,17)),r=new ID(t.s);r.e!=r.i.gc();++i)of(jV(vbt(r),449),i);pG(o,(!t.s&&(t.s=new tW(BPe,t,21,17)),t.s)),rut(o),t.g=new gct(t,o),t.i=jV(o.g,247),null==t.i&&(t.i=COe),t.p=null,T4(t).b&=-5}return t.g}function H$t(t){var e,n,r,o,s,a,c,l,u,h,d,f,g;if(r=t.i,n=t.n,0==t.b)e=Wwt(t,!1),qU(t.a[0],r.d+n.d,e[0]),qU(t.a[2],r.d+r.a-n.a-e[2],e[2]),d=r.a-n.d-n.a,e[0]>0&&(e[0]+=t.c,d-=e[0]),e[2]>0&&(d-=e[2]+t.c),e[1]=i.Math.max(e[1],d),qU(t.a[1],r.d+n.d+e[0]-(e[1]-d)/2,e[1]);else for(g=r.d+n.d,f=r.a-n.d-n.a,l=0,h=(a=t.a).length;l<h;++l)qU(o=a[l],g,f);for(c=0,u=(s=t.a).length;c<u;++c)iD(o=s[c],326)&&jV(o,326).Ue()}function U$t(t){var e,n,i,r,o,s,a,c,l;for(l=D7(SNe,lXt,25,t.b.c.length+1,15,1),c=new Lw,i=0,o=new Wf(t.b);o.a<o.c.c.length;){for(r=jV(Q1(o),29),l[i++]=c.a.gc(),a=new Wf(r.a);a.a<a.c.c.length;)for(n=new sq(ZD(hft(jV(Q1(a),10)).a.Kc(),new u));gPt(n);)e=jV(U4(n),17),c.a.zc(e,c);for(s=new Wf(r.a);s.a<s.c.c.length;)for(n=new sq(ZD(uft(jV(Q1(s),10)).a.Kc(),new u));gPt(n);)e=jV(U4(n),17),c.a.Bc(e)}return l}function q$t(t,e,n,i){var r,o,s,a,c;if(c=oLt(t.e.Tg(),e),r=jV(t.g,119),ZT(),jV(e,66).Oj()){for(s=0;s<t.i;++s)if(o=r[s],c.rl(o.ak())&&Dht(o,n))return!0}else if(null!=n){for(a=0;a<t.i;++a)if(o=r[a],c.rl(o.ak())&&Dht(n,o.dd()))return!0;if(i)for(s=0;s<t.i;++s)if(o=r[s],c.rl(o.ak())&&zI(n)===zI(cR(t,jV(o.dd(),56))))return!0}else for(s=0;s<t.i;++s)if(o=r[s],c.rl(o.ak())&&null==o.dd())return!1;return!1}function W$t(t,e,n,i){var r,o,s,a,c,l;if(l=oLt(t.e.Tg(),e),s=jV(t.g,119),PLt(t.e,e)){if(e.hi()&&(o=mVt(t,e,i,iD(e,99)&&!!(jV(e,18).Bb&$Xt)))>=0&&o!=n)throw $b(new Bv(o7t));for(r=0,c=0;c<t.i;++c)if(a=s[c],l.rl(a.ak())){if(r==n)return jV(awt(t,c,(ZT(),jV(e,66).Oj()?jV(i,72):Z3(e,i))),72);++r}throw $b(new Iv(e8t+n+a7t+r))}for(c=0;c<t.i;++c)if(a=s[c],l.rl(a.ak()))return ZT(),jV(e,66).Oj()?a:a.dd();return null}function G$t(t,e,n,r){var o,s,a,c;for(c=n,a=new Wf(e.a);a.a<a.c.c.length;){if(s=jV(Q1(a),221),o=jV(s.b,65),Sft(t.b.c,o.b.c+o.b.b)<=0&&Sft(o.b.c,t.b.c+t.b.b)<=0&&Sft(t.b.d,o.b.d+o.b.a)<=0&&Sft(o.b.d,t.b.d+t.b.a)<=0){if(0==Sft(o.b.c,t.b.c+t.b.b)&&r.a<0||0==Sft(o.b.c+o.b.b,t.b.c)&&r.a>0||0==Sft(o.b.d,t.b.d+t.b.a)&&r.b<0||0==Sft(o.b.d+o.b.a,t.b.d)&&r.b>0){c=0;break}}else c=i.Math.min(c,VSt(t,o,r));c=i.Math.min(c,G$t(t,s,c,r))}return c}function K$t(t,e){var n,i,r,o,s,a;if(t.b<2)throw $b(new Bv("The vector chain must contain at least a source and a target point."));for(TL(0!=t.b),CP(e,(i=jV(t.a.a.c,8)).a,i.b),a=new iL((!e.a&&(e.a=new MD(OMe,e,5)),e.a)),o=cbt(t,1);o.a<t.b-1;)s=jV(h3(o),8),a.e!=a.i.gc()?n=jV(vbt(a),469):(Jk(),apt(a,n=new oc)),kP(n,s.a,s.b);for(;a.e!=a.i.gc();)vbt(a),Ykt(a);TL(0!=t.b),TP(e,(r=jV(t.c.b.c,8)).a,r.b)}function Y$t(t,e){var n,i,r,o,s,a,c,l;for(n=0,i=new Wf((u1(0,t.c.length),jV(t.c[0],101)).g.b.j);i.a<i.c.c.length;)jV(Q1(i),11).p=n++;for(e==(vWt(),aIe)?bO(t,new to):bO(t,new eo),s=0,l=t.c.length-1;s<l;)u1(s,t.c.length),o=jV(t.c[s],101),u1(l,t.c.length),c=jV(t.c[l],101),r=e==aIe?o.c:o.a,a=e==aIe?c.a:c.c,hW(o,e,(Iat(),wle),r),hW(c,e,ble,a),++s,--l;s==l&&hW((u1(s,t.c.length),jV(t.c[s],101)),e,(Iat(),mle),null)}function X$t(t,e,n){var i,r,o,s,a,c,l,u,h,d;return u=t.a.i+t.a.g/2,h=t.a.i+t.a.g/2,s=new DS(e.i+e.g/2,e.j+e.f/2),(c=jV(QPt(e,(cKt(),gAe)),8)).a=c.a+u,c.b=c.b+h,r=(s.b-c.b)/(s.a-c.a),i=s.b-r*s.a,a=new DS(n.i+n.g/2,n.j+n.f/2),(l=jV(QPt(n,gAe),8)).a=l.a+u,l.b=l.b+h,o=(a.b-l.b)/(a.a-l.a),d=(i-(a.b-o*a.a))/(o-r),!(c.a<d&&s.a<d||d<c.a&&d<s.a||l.a<d&&a.a<d||d<l.a&&d<a.a)}function Z$t(t,e){var n,i,r,o,s,a;if(!(s=jV(LG(t.c,e),183)))throw $b(new t_("Edge did not exist in input."));return i=Ypt(s),!Wx((!e.a&&(e.a=new tW(BMe,e,6,6)),e.a))&&(n=new xV(t,i,a=new Td),dM((!e.a&&(e.a=new tW(BMe,e,6,6)),e.a),n),net(s,N6t,a)),T7(e,(cKt(),SCe))&&!(!(r=jV(QPt(e,SCe),74))||pK(r))&&(t4(r,new Km(o=new Td)),net(s,"junctionPoints",o)),Iz(s,"container",qQ(e).k),null}function Q$t(t,e,n){var i,r,o,s,a,c;this.a=t,this.b=e,this.c=n,this.e=o6(Cat(z_(oie,1),VKt,168,0,[new DC(t,e),new DC(e,n),new DC(n,t)])),this.f=o6(Cat(z_(TTe,1),cYt,8,0,[t,e,n])),this.d=(i=qB(jO(this.b),this.a),r=qB(jO(this.c),this.a),o=qB(jO(this.c),this.b),s=i.a*(this.a.a+this.b.a)+i.b*(this.a.b+this.b.b),a=r.a*(this.a.a+this.c.a)+r.b*(this.a.b+this.c.b),c=2*(i.a*o.b-i.b*o.a),new DS((r.b*s-i.b*a)/c,(i.a*a-r.a*s)/c))}function J$t(t,e,n,i){var r,o,s,a,c,l,u,h,d;if(h=new zG(t.p),net(e,t7t,h),n&&!(t.f?nZ(t.f):null).a.dc())for(net(e,"logs",l=new Td),a=0,d=new Vf((t.f?nZ(t.f):null).b.Kc());d.b.Ob();)u=new zG(ER(d.b.Pb())),ftt(l,a),n5(l,a,u),++a;if(i&&net(e,"executionTime",new xd(t.q)),!nZ(t.a).a.dc())for(s=new Td,net(e,M6t,s),a=0,o=new Vf(nZ(t.a).b.Kc());o.b.Ob();)r=jV(o.b.Pb(),1949),c=new pv,ftt(s,a),n5(s,a,c),J$t(r,c,n,i),++a}function tVt(t,e){var n,i,r,o,s,a;for(o=t.c,s=t.d,EJ(t,null),xJ(t,null),e&&Vv(kR(wTt(s,(lKt(),Jhe))))?EJ(t,Rjt(s.i,(oit(),Vwe),(vWt(),sIe))):EJ(t,s),e&&Vv(kR(wTt(o,(lKt(),yde))))?xJ(t,Rjt(o.i,(oit(),$we),(vWt(),CIe))):xJ(t,o),i=new Wf(t.b);i.a<i.c.c.length;)n=jV(Q1(i),70),(r=jV(wTt(n,(VGt(),Ype)),272))==(Ret(),qAe)?lct(n,Ype,UAe):r==UAe&&lct(n,Ype,qAe);a=Vv(kR(wTt(t,(lKt(),Cde)))),lct(t,Cde,(cN(),!a)),t.a=Zct(t.a)}function eVt(t,e,n){var r,o,s,a,c;for(r=0,s=new ID((!t.a&&(t.a=new tW(HMe,t,10,11)),t.a));s.e!=s.i.gc();)a="",0==(!(o=jV(vbt(s),33)).n&&(o.n=new tW(zMe,o,1,7)),o.n).i||(a=jV(Get((!o.n&&(o.n=new tW(zMe,o,1,7)),o.n),0),137).a),zst(c=new VG(a),o),lct(c,(Ert(),ase),o),c.b=r++,c.d.a=o.i+o.g/2,c.d.b=o.j+o.f/2,c.e.a=i.Math.max(o.g,1),c.e.b=i.Math.max(o.f,1),WV(e.e,c),_St(n.f,o,c),jV(QPt(o,(uBt(),Yoe)),98),Yxt()}function nVt(t,e){var n,r,o,s,a,c,l,u,h,d,f;n=IN(new Vw,t.f),c=t.i[e.c.i.p],d=t.i[e.d.i.p],a=e.c,h=e.d,s=a.a.b,u=h.a.b,c.b||(s+=a.n.b),d.b||(u+=h.n.b),l=CQ(i.Math.max(0,s-u)),o=CQ(i.Math.max(0,u-s)),f=i.Math.max(1,jV(wTt(e,(VGt(),hbe)),19).a)*q3(e.c.i.k,e.d.i.k),r=new QA(qNt(rT(iT(nT(oT(new $w,f),o),n),jV(LG(t.k,e.c),121))),qNt(rT(iT(nT(oT(new $w,f),l),n),jV(LG(t.k,e.d),121)))),t.c[e.p]=r}function iVt(t,e,n,i){var r,o,s,a,c,l;for(s=new sUt(t,e,n),c=new x2(i,0),r=!1;c.b<c.d.gc();)TL(c.b<c.d.gc()),(a=jV(c.d.Xb(c.c=c.b++),233))==e||a==n?lK(c):!r&&zv(uD(a.g,a.d[0]).a)>zv(uD(s.g,s.d[0]).a)?(TL(c.b>0),c.a.Xb(c.c=--c.b),wB(c,s),r=!0):a.e&&a.e.gc()>0&&(o=(!a.e&&(a.e=new Ob),a.e).Mc(e),l=(!a.e&&(a.e=new Ob),a.e).Mc(n),(o||l)&&((!a.e&&(a.e=new Ob),a.e).Fc(s),++s.c));r||(i.c[i.c.length]=s)}function rVt(t){var e,n,i;if(mP(jV(wTt(t,(VGt(),tbe)),98)))for(n=new Wf(t.j);n.a<n.c.c.length;)(e=jV(Q1(n),11)).j==(vWt(),TIe)&&((i=jV(wTt(e,(lKt(),_de)),10))?zSt(e,jV(wTt(i,Khe),61)):e.e.c.length-e.g.c.length<0?zSt(e,sIe):zSt(e,CIe));else{for(n=new Wf(t.j);n.a<n.c.c.length;)e=jV(Q1(n),11),(i=jV(wTt(e,(lKt(),_de)),10))?zSt(e,jV(wTt(i,Khe),61)):e.e.c.length-e.g.c.length<0?zSt(e,(vWt(),sIe)):zSt(e,(vWt(),CIe));lct(t,tbe,(Yxt(),GSe))}}function oVt(t){var e,n;switch(t){case 91:case 93:case 45:case 94:case 44:case 92:n="\\"+String.fromCharCode(t&YYt);break;case 12:n="\\f";break;case 10:n="\\n";break;case 13:n="\\r";break;case 9:n="\\t";break;case 27:n="\\e";break;default:n=t<32?"\\x"+lL(e="0"+(t>>>0).toString(16),e.length-2,e.length):t>=$Xt?"\\v"+lL(e="0"+(t>>>0).toString(16),e.length-6,e.length):""+String.fromCharCode(t&YYt)}return n}function sVt(t,e){var n,i,r,o,s,a,c,l,u,h;if(s=t.e,0==(c=e.e))return t;if(0==s)return 0==e.e?e:new uW(-e.e,e.d,e.a);if((o=t.d)+(a=e.d)==2)return n=t0(t.a[0],qXt),i=t0(e.a[0],qXt),s<0&&(n=v9(n)),c<0&&(i=v9(i)),Jmt(nft(n,i));if(-1==(r=o!=a?o>a?1:-1:Elt(t.a,e.a,o)))h=-c,u=s==c?f6(e.a,a,t.a,o):O7(e.a,a,t.a,o);else if(h=s,s==c){if(0==r)return IRt(),ene;u=f6(t.a,o,e.a,a)}else u=O7(t.a,o,e.a,a);return q0(l=new uW(h,u.length,u)),l}function aVt(t){var e,n,i,r,o,s;for(this.e=new Ob,this.a=new Ob,n=t.b-1;n<3;n++)RL(t,0,jV(Lbt(t,0),8));if(t.b<4)throw $b(new Bv("At (least dimension + 1) control points are necessary!"));for(this.b=3,this.d=!0,this.c=!1,SOt(this,t.b+this.b-1),s=new Ob,o=new Wf(this.e),e=0;e<this.b-1;e++)WV(s,xR(Q1(o)));for(r=cbt(t,0);r.b!=r.d.c;)i=jV(h3(r),8),WV(s,xR(Q1(o))),WV(this.a,new dQ(i,s)),u1(0,s.c.length),s.c.splice(0,1)}function cVt(t,e){var n,i,r,o,s,a,c;for(r=new Wf(t.b);r.a<r.c.c.length;)for(s=new Wf(jV(Q1(r),29).a);s.a<s.c.c.length;)for((o=jV(Q1(s),10)).k==(sCt(),Eae)&&(a=jV(U4(new sq(ZD(uft(o).a.Kc(),new u))),17),c=jV(U4(new sq(ZD(hft(o).a.Kc(),new u))),17),l$t(o,Vv(kR(wTt(a,(lKt(),Cde))))&&Vv(kR(wTt(c,Cde)))?Wat(e):e)),i=new sq(ZD(hft(o).a.Kc(),new u));gPt(i);)bat(n=jV(U4(i),17),Vv(kR(wTt(n,(lKt(),Cde))))?Wat(e):e)}function lVt(t,e,n,i,r){var o,s;if(n.f>=e.o&&n.f<=e.f||.5*e.a<=n.f&&1.5*e.a>=n.f){if((o=jV(DH(e.n,e.n.c.length-1),211)).e+o.d+n.g+r<=i&&(jV(DH(e.n,e.n.c.length-1),211).f-t.f+n.f<=t.b||1==t.a.c.length))return yft(e,n),!0;if(e.s+n.g<=i&&(e.t+e.d+n.f+r<=t.b||1==t.a.c.length))return WV(e.b,n),s=jV(DH(e.n,e.n.c.length-1),211),WV(e.n,new LQ(e.s,s.f+s.a+e.i,e.i)),cyt(jV(DH(e.n,e.n.c.length-1),211),n),$$t(e,n),!0}return!1}function uVt(t,e,n){var i,r,o,s;return t.ej()?(r=null,o=t.fj(),i=t.Zi(1,s=stt(t,e,n),n,e,o),t.bj()&&!(t.ni()&&null!=s?Dht(s,n):zI(s)===zI(n))?(null!=s&&(r=t.dj(s,r)),r=t.cj(n,r),t.ij()&&(r=t.lj(s,n,r)),r?(r.Ei(i),r.Fi()):t.$i(i)):(t.ij()&&(r=t.lj(s,n,r)),r?(r.Ei(i),r.Fi()):t.$i(i)),s):(s=stt(t,e,n),t.bj()&&!(t.ni()&&null!=s?Dht(s,n):zI(s)===zI(n))&&(r=null,null!=s&&(r=t.dj(s,null)),(r=t.cj(n,r))&&r.Fi()),s)}function hVt(t,e){var n,r,o,s,a,c,l;e%=24,t.q.getHours()!=e&&((n=new i.Date(t.q.getTime())).setDate(n.getDate()+1),(a=t.q.getTimezoneOffset()-n.getTimezoneOffset())>0&&(c=a/60|0,l=a%60,r=t.q.getDate(),t.q.getHours()+c>=24&&++r,o=new i.Date(t.q.getFullYear(),t.q.getMonth(),r,e+c,t.q.getMinutes()+l,t.q.getSeconds(),t.q.getMilliseconds()),t.q.setTime(o.getTime()))),s=t.q.getTime(),t.q.setTime(s+36e5),t.q.getHours()!=e&&t.q.setTime(s)}function dVt(t,e){var n,i,r,o;if(IEt(e,"Path-Like Graph Wrapping",1),0!=t.b.c.length)if(null==(r=new EPt(t)).i&&(r.i=Grt(r,new ko)),n=zv(r.i)*r.f/(null==r.i&&(r.i=Grt(r,new ko)),zv(r.i)),r.b>n)VCt(e);else{switch(jV(wTt(t,(VGt(),jbe)),337).g){case 2:o=new To;break;case 0:o=new po;break;default:o=new Co}if(i=o.Vf(t,r),!o.Wf())switch(jV(wTt(t,qbe),338).g){case 2:i=WSt(r,i);break;case 1:i=BEt(r,i)}nHt(t,r,i),VCt(e)}else VCt(e)}function fVt(t,e){var n,i,r,o;if(l1(t.d,t.e),t.c.a.$b(),0!=zv(xR(wTt(e.j,(VGt(),Ape))))||0!=zv(xR(wTt(e.j,Ape))))for(n=QQt,zI(wTt(e.j,Ppe))!==zI((wct(),Owe))&&lct(e.j,(lKt(),Xhe),(cN(),!0)),o=jV(wTt(e.j,Dbe),19).a,r=0;r<o&&!((i=p$t(t,e))<n&&(n=i,Ort(t),0==n));r++);else for(n=LKt,zI(wTt(e.j,Ppe))!==zI((wct(),Owe))&&lct(e.j,(lKt(),Xhe),(cN(),!0)),o=jV(wTt(e.j,Dbe),19).a,r=0;r<o&&!((i=m$t(t,e))<n&&(n=i,Ort(t),0==n));r++);}function gVt(t,e){var n,i,r,o,s,a;for(r=new Ob,o=0,n=0,s=0;o<e.c.length-1&&n<t.gc();){for(i=jV(t.Xb(n),19).a+s;(u1(o+1,e.c.length),jV(e.c[o+1],19)).a<i;)++o;for(a=0,i-(u1(o,e.c.length),jV(e.c[o],19)).a>(u1(o+1,e.c.length),jV(e.c[o+1],19)).a-i&&++a,WV(r,(u1(o+a,e.c.length),jV(e.c[o+a],19))),s+=(u1(o+a,e.c.length),jV(e.c[o+a],19)).a-i,++n;n<t.gc()&&jV(t.Xb(n),19).a+s<=(u1(o+a,e.c.length),jV(e.c[o+a],19)).a;)++n;o+=1+a}return r}function pVt(t){var e,n,i,r,o;if(!t.d){if(o=new Ac,null==(e=EOe).a.zc(t,e)){for(n=new ID(yZ(t));n.e!=n.i.gc();)pG(o,pVt(jV(vbt(n),26)));e.a.Bc(t),e.a.gc()}for(r=o.i,!t.q&&(t.q=new tW(GPe,t,11,10)),i=new ID(t.q);i.e!=i.i.gc();++r)jV(vbt(i),399);pG(o,(!t.q&&(t.q=new tW(GPe,t,11,10)),t.q)),rut(o),t.d=new OM((jV(Get(KX((KG(),QPe).o),9),18),o.i),o.g),t.e=jV(o.g,673),null==t.e&&(t.e=TOe),T4(t).b&=-17}return t.d}function mVt(t,e,n,i){var r,o,s,a,c,l;if(l=oLt(t.e.Tg(),e),c=0,r=jV(t.g,119),ZT(),jV(e,66).Oj()){for(s=0;s<t.i;++s)if(o=r[s],l.rl(o.ak())){if(Dht(o,n))return c;++c}}else if(null!=n){for(a=0;a<t.i;++a)if(o=r[a],l.rl(o.ak())){if(Dht(n,o.dd()))return c;++c}if(i)for(c=0,s=0;s<t.i;++s)if(o=r[s],l.rl(o.ak())){if(zI(n)===zI(cR(t,jV(o.dd(),56))))return c;++c}}else for(s=0;s<t.i;++s)if(o=r[s],l.rl(o.ak())){if(null==o.dd())return c;++c}return-1}function bVt(t,e,n,i,r){var o,s,a,c,l,u,h,d,f;for(EX(),bO(t,new Wa),s=HV(t),f=new Ob,d=new Ob,a=null,c=0;0!=s.b;)o=jV(0==s.b?null:(TL(0!=s.b),Met(s,s.a.a)),157),!a||eU(a)*tU(a)/2<eU(o)*tU(o)?(a=o,f.c[f.c.length]=o):(c+=eU(o)*tU(o),d.c[d.c.length]=o,d.c.length>1&&(c>eU(a)*tU(a)/2||0==s.b)&&(h=new Het(d),u=eU(a)/tU(a),l=yGt(h,e,new hy,n,i,r,u),UB(yM(h.e),l),a=h,f.c[f.c.length]=h,c=0,d.c=D7(Mte,VKt,1,0,5,1)));return pat(f,d),f}function wVt(t,e,n,i){var r,o,s,a,c,l,u,h,d,f,g,p;if(n.mh(e)&&(u=(f=e)?jV(i,49).xh(f):null))if(p=n.bh(e,t.a),(g=e.t)>1||-1==g)if(h=jV(p,69),d=jV(u,69),h.dc())d.$b();else for(s=!!Awt(e),o=0,a=t.a?h.Kc():h.Zh();a.Ob();)l=jV(a.Pb(),56),(r=jV(utt(t,l),56))?(s?-1==(c=d.Xc(r))?d.Xh(o,r):o!=c&&d.ji(o,r):d.Xh(o,r),++o):t.b&&!s&&(d.Xh(o,l),++o);else null==p?u.Wb(null):null==(r=utt(t,p))?t.b&&!Awt(e)&&u.Wb(p):u.Wb(r)}function yVt(t,e){var n,r,o,s,a,c,l,h;for(n=new Dn,o=new sq(ZD(uft(e).a.Kc(),new u));gPt(o);)if(!h4(r=jV(U4(o),17))&&eEt(c=r.c.i,qae)){if(-1==(h=KRt(t,c,qae,Uae)))continue;n.b=i.Math.max(n.b,h),!n.a&&(n.a=new Ob),WV(n.a,c)}for(a=new sq(ZD(hft(e).a.Kc(),new u));gPt(a);)if(!h4(s=jV(U4(a),17))&&eEt(l=s.d.i,Uae)){if(-1==(h=KRt(t,l,Uae,qae)))continue;n.d=i.Math.max(n.d,h),!n.c&&(n.c=new Ob),WV(n.c,l)}return n}function vVt(t){var e,n,i,r;if(PMt(),e=CQ(t),t<sne.length)return sne[e];if(t<=50)return sMt((IRt(),Jee),e);if(t<=KYt)return z4(sMt(one[1],e),e);if(t>1e6)throw $b(new Sv("power of ten too big"));if(t<=LKt)return z4(sMt(one[1],e),e);for(r=i=sMt(one[1],LKt),n=ust(t-LKt),e=CQ(t%LKt);Kut(n,LKt)>0;)r=Ott(r,i),n=nft(n,LKt);for(r=z4(r=Ott(r,sMt(one[1],e)),LKt),n=ust(t-LKt);Kut(n,LKt)>0;)r=z4(r,LKt),n=nft(n,LKt);return r=z4(r,e)}function _Vt(t,e){var n,i,r,o,s,a,c,l;for(IEt(e,"Hierarchical port dummy size processing",1),a=new Ob,l=new Ob,n=2*zv(xR(wTt(t,(VGt(),ybe)))),r=new Wf(t.b);r.a<r.c.c.length;){for(i=jV(Q1(r),29),a.c=D7(Mte,VKt,1,0,5,1),l.c=D7(Mte,VKt,1,0,5,1),s=new Wf(i.a);s.a<s.c.c.length;)(o=jV(Q1(s),10)).k==(sCt(),xae)&&((c=jV(wTt(o,(lKt(),Khe)),61))==(vWt(),aIe)?a.c[a.c.length]=o:c==EIe&&(l.c[l.c.length]=o));VMt(a,!0,n),VMt(l,!1,n)}VCt(e)}function kVt(t,e){var n,i,r,o,s;IEt(e,"Layer constraint postprocessing",1),0!=(s=t.b).c.length&&(u1(0,s.c.length),FFt(t,jV(s.c[0],29),jV(DH(s,s.c.length-1),29),n=new $G(t),r=new $G(t)),0==n.a.c.length||(PJ(0,s.c.length),xC(s.c,0,n)),0==r.a.c.length||(s.c[s.c.length]=r)),PL(t,(lKt(),Qhe))&&(yRt(t,i=new $G(t),o=new $G(t)),0==i.a.c.length||(PJ(0,s.c.length),xC(s.c,0,i)),0==o.a.c.length||(s.c[s.c.length]=o)),VCt(e)}function xVt(t){var e,n,i,r,o,s,a,c;for(s=new Wf(t.a);s.a<s.c.c.length;)if((o=jV(Q1(s),10)).k==(sCt(),xae)&&((r=jV(wTt(o,(lKt(),Khe)),61))==(vWt(),sIe)||r==CIe))for(i=new sq(ZD(lft(o).a.Kc(),new u));gPt(i);)0!=(e=(n=jV(U4(i),17)).a).b&&((a=n.c).i==o&&(TL(0!=e.b),jV(e.a.a.c,8).b=Mct(Cat(z_(TTe,1),cYt,8,0,[a.i.n,a.n,a.a])).b),(c=n.d).i==o&&(TL(0!=e.b),jV(e.c.b.c,8).b=Mct(Cat(z_(TTe,1),cYt,8,0,[c.i.n,c.n,c.a])).b))}function EVt(t,e){var n,i,r,o,s,a,c;for(IEt(e,"Sort By Input Model "+wTt(t,(VGt(),Ppe)),1),r=0,i=new Wf(t.b);i.a<i.c.c.length;){for(n=jV(Q1(i),29),c=0==r?0:r-1,a=jV(DH(t.b,c),29),s=new Wf(n.a);s.a<s.c.c.length;)zI(wTt(o=jV(Q1(s),10),tbe))!==zI((Yxt(),USe))&&zI(wTt(o,tbe))!==zI(qSe)&&(EX(),bO(o.j,new S9(a,a_t(o))),Sz(e,"Node "+o+" ports: "+o.j));EX(),bO(n.a,new Hrt(a,jV(wTt(t,Ppe),339),jV(wTt(t,Ipe),378))),Sz(e,"Layer "+r+": "+n),++r}VCt(e)}function TVt(t,e){var n,i,r;if(r=v$t(e),XE(new LH(null,(!e.c&&(e.c=new tW(UMe,e,9,9)),new d1(e.c,16))),new Ug(r)),sqt(e,i=jV(wTt(r,(lKt(),Zhe)),21)),i.Hc((dRt(),uhe)))for(n=new ID((!e.c&&(e.c=new tW(UMe,e,9,9)),e.c));n.e!=n.i.gc();)Yqt(t,e,r,jV(vbt(n),118));return 0!=jV(QPt(e,(VGt(),Fme)),174).gc()&&wRt(e,r),Vv(kR(wTt(r,qme)))&&i.Fc(phe),PL(r,gbe)&&xv(new sgt(zv(xR(wTt(r,gbe)))),r),zI(QPt(e,ame))===zI((sht(),pSe))?rKt(t,e,r):eGt(t,e,r),r}function CVt(t,e,n,r){var o,s,a;if(this.j=new Ob,this.k=new Ob,this.b=new Ob,this.c=new Ob,this.e=new hP,this.i=new yy,this.f=new Nb,this.d=new Ob,this.g=new Ob,WV(this.b,t),WV(this.b,e),this.e.c=i.Math.min(t.a,e.a),this.e.d=i.Math.min(t.b,e.b),this.e.b=i.Math.abs(t.a-e.a),this.e.a=i.Math.abs(t.b-e.b),o=jV(wTt(r,(VGt(),mme)),74))for(a=cbt(o,0);a.b!=a.d.c;)ont((s=jV(h3(a),8)).a,t.a)&&Nz(this.i,s);n&&WV(this.j,n),WV(this.k,r)}function AVt(t,e,n){var i,r,o,s,a,c,l,u,h,d;for(u=new qq(new Dg(n)),mW(a=D7(INe,QZt,25,t.f.e.c.length,16,1),a.length),n[e.b]=0,l=new Wf(t.f.e);l.a<l.c.c.length;)(c=jV(Q1(l),144)).b!=e.b&&(n[c.b]=LKt),F7(eTt(u,c));for(;0!=u.b.c.length;)for(a[(h=jV(btt(u),144)).b]=!0,o=mN(new bE(t.b,h),0);o.c;)a[(d=Pyt(r=jV(_J(o),282),h)).b]||(s=PL(r,(i_t(),pse))?zv(xR(wTt(r,pse))):t.c,(i=n[h.b]+s)<n[d.b]&&(n[d.b]=i,crt(u,d),F7(eTt(u,d))))}function SVt(t,e,n){var i,r,o,s,a,c,l,u,h;for(r=!0,s=new Wf(t.b);s.a<s.c.c.length;){for(o=jV(Q1(s),29),l=BXt,u=null,c=new Wf(o.a);c.a<c.c.c.length;){if(a=jV(Q1(c),10),h=zv(e.p[a.p])+zv(e.d[a.p])-a.d.d,i=zv(e.p[a.p])+zv(e.d[a.p])+a.o.b+a.d.a,!(h>l&&i>l)){r=!1,n.n&&Sz(n,"bk node placement breaks on "+a+" which should have been after "+u);break}u=a,l=zv(e.p[a.p])+zv(e.d[a.p])+a.o.b+a.d.a}if(!r)break}return n.n&&Sz(n,e+" is feasible: "+r),r}function IVt(t,e,n,i){var r,o,s,a,c,l,u;for(a=-1,u=new Wf(t);u.a<u.c.c.length;)(l=jV(Q1(u),112)).g=a--,s=r=fU(_2(OY(IY(new LH(null,new d1(l.f,16)),new us),new hs)).d),c=o=fU(_2(OY(IY(new LH(null,new d1(l.k,16)),new ds),new fs)).d),i||(s=fU(_2(OY(new LH(null,new d1(l.f,16)),new gs)).d),c=fU(_2(OY(new LH(null,new d1(l.k,16)),new ps)).d)),l.d=s,l.a=r,l.i=c,l.b=o,0==c?n4(n,l,n.c.b,n.c):0==s&&n4(e,l,e.c.b,e.c)}function MVt(t,e,n,i){var r,o,s,a,c,l,u;if(n.d.i!=e.i){for(Fd(r=new Pwt(t),(sCt(),Tae)),lct(r,(lKt(),fde),n),lct(r,(VGt(),tbe),(Yxt(),qSe)),i.c[i.c.length]=r,CJ(s=new ACt,r),zSt(s,(vWt(),CIe)),CJ(a=new ACt,r),zSt(a,sIe),u=n.d,xJ(n,s),zst(o=new dZ,n),lct(o,mme,null),EJ(o,a),xJ(o,u),l=new x2(n.b,0);l.b<l.d.gc();)TL(l.b<l.d.gc()),zI(wTt(c=jV(l.d.Xb(l.c=l.b++),70),Ype))===zI((Ret(),UAe))&&(lct(c,Uhe,n),lK(l),WV(o.b,c));yPt(r,s,a)}}function PVt(t,e,n,i){var r,o,s,a,c,l;if(n.c.i!=e.i)for(Fd(r=new Pwt(t),(sCt(),Tae)),lct(r,(lKt(),fde),n),lct(r,(VGt(),tbe),(Yxt(),qSe)),i.c[i.c.length]=r,CJ(s=new ACt,r),zSt(s,(vWt(),CIe)),CJ(a=new ACt,r),zSt(a,sIe),xJ(n,s),zst(o=new dZ,n),lct(o,mme,null),EJ(o,a),xJ(o,e),yPt(r,s,a),l=new x2(n.b,0);l.b<l.d.gc();)TL(l.b<l.d.gc()),c=jV(l.d.Xb(l.c=l.b++),70),jV(wTt(c,Ype),272)==(Ret(),UAe)&&(PL(c,Uhe)||lct(c,Uhe,n),lK(l),WV(o.b,c))}function OVt(t,e,n,r,o){var s,a,c,l,u,h,d,f,g,p,m,b,w,y;for(d=new Ob,b=E5(r),m=e*t.a,g=0,s=new Lw,a=new Lw,c=new Ob,w=0,y=0,f=0,p=0,u=0,h=0;0!=b.a.gc();)(l=tft(b,o,a))&&(b.a.Bc(l),c.c[c.c.length]=l,s.a.zc(l,s),g=t.f[l.p],w+=t.e[l.p]-g*t.b,y+=t.c[l.p]*t.b,h+=g*t.b,p+=t.e[l.p]),(!l||0==b.a.gc()||w>=m&&t.e[l.p]>g*t.b||y>=n*m)&&(d.c[d.c.length]=c,c=new Ob,jrt(a,s),s.a.$b(),u-=h,f=i.Math.max(f,u*t.b+p),u+=y,w=y,y=0,h=0,p=0);return new nI(f,d)}function DVt(t){var e,n,i,r,o,s,a,c,l,u,h,d;for(n=new Rf(new Sf(t.c.b).a.vc().Kc());n.a.Ob();)a=jV(n.a.Pb(),42),null==(r=(e=jV(a.dd(),149)).a)&&(r=""),!(i=BR(t.c,r))&&0==r.length&&(i=yht(t)),i&&!ygt(i.c,e,!1)&&Nz(i.c,e);for(s=cbt(t.a,0);s.b!=s.d.c;)o=jV(h3(s),478),l=k4(t.c,o.a),d=k4(t.c,o.b),l&&d&&Nz(l.c,new nI(d,o.c));for(wX(t.a),h=cbt(t.b,0);h.b!=h.d.c;)u=jV(h3(h),478),e=RR(t.c,u.a),c=k4(t.c,u.b),e&&c&&NT(e,c,u.c);wX(t.b)}function NVt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f;o=new Ed(t),f4((s=new g_t).g),f4(s.j),MW(s.b),f4(s.d),f4(s.i),MW(s.k),MW(s.c),MW(s.e),f=dIt(s,o,null),IOt(s,o),r=f,e&&(a=ezt(l=new Ed(e)),bCt(r,Cat(z_(QEe,1),VKt,527,0,[a]))),d=!1,h=!1,n&&(l=new Ed(n),h7t in l.a&&(d=HQ(l,h7t).ge().a),d7t in l.a&&(h=HQ(l,d7t).ge().a)),u=Mk(jnt(new qy,d),h),$Ct(new ua,r,u),h7t in o.a&&net(o,h7t,null),(d||h)&&(J$t(u,c=new pv,d,h),net(o,h7t,c)),i=new qm(s),qct(new SP(r),i)}function LVt(t,e,n){var i,r,o,s,a,c,l,u,h;for(s=new X_t,l=Cat(z_(SNe,1),lXt,25,15,[0]),r=-1,o=0,i=0,c=0;c<t.b.c.length;++c){if(!((u=jV(DH(t.b,c),434)).b>0)){if(r=-1,32==lY(u.c,0)){if(h=l[0],wtt(e,l),l[0]>h)continue}else if(MZ(e,u.c,l[0])){l[0]+=u.c.length;continue}return 0}if(r<0&&u.a&&(r=c,o=l[0],i=0),r>=0){if(a=u.b,c==r&&0==(a-=i++))return 0;if(!OWt(e,l,u,a,s)){c=r-1,l[0]=o;continue}}else if(r=-1,!OWt(e,l,u,0,s))return 0}return gWt(s,n)?l[0]:0}function RVt(t){var e,n,i,r,o,s;if(!t.f){if(s=new Tc,o=new Tc,null==(e=EOe).a.zc(t,e)){for(r=new ID(yZ(t));r.e!=r.i.gc();)pG(s,RVt(jV(vbt(r),26)));e.a.Bc(t),e.a.gc()}for(!t.s&&(t.s=new tW(BPe,t,21,17)),i=new ID(t.s);i.e!=i.i.gc();)iD(n=jV(vbt(i),170),99)&&l8(o,jV(n,18));rut(o),t.r=new kz(t,(jV(Get(KX((KG(),QPe).o),6),18),o.i),o.g),pG(s,t.r),rut(s),t.f=new OM((jV(Get(KX(QPe.o),5),18),s.i),s.g),T4(t).b&=-3}return t.f}function BVt(t){var e,n,i,r,o,s,a,c,l,u,h,d,f,g;for(s=t.o,i=D7(SNe,lXt,25,s,15,1),r=D7(SNe,lXt,25,s,15,1),n=t.p,e=D7(SNe,lXt,25,n,15,1),o=D7(SNe,lXt,25,n,15,1),l=0;l<s;l++){for(h=0;h<n&&!byt(t,l,h);)++h;i[l]=h}for(u=0;u<s;u++){for(h=n-1;h>=0&&!byt(t,u,h);)--h;r[u]=h}for(f=0;f<n;f++){for(a=0;a<s&&!byt(t,a,f);)++a;e[f]=a}for(g=0;g<n;g++){for(a=s-1;a>=0&&!byt(t,a,g);)--a;o[g]=a}for(c=0;c<s;c++)for(d=0;d<n;d++)c<o[d]&&c>e[d]&&d<r[c]&&d>i[c]&&jBt(t,c,d,!1,!0)}function FVt(t){var e,n,i,r,o,s,a,c;n=Vv(kR(wTt(t,(uBt(),joe)))),o=t.a.c.d,a=t.a.d.d,n?(s=yD(qB(new DS(a.a,a.b),o),.5),c=yD(jO(t.e),.5),e=qB(UB(new DS(o.a,o.b),s),c),$L(t.d,e)):(r=zv(xR(wTt(t.a,nse))),i=t.d,o.a>=a.a?o.b>=a.b?(i.a=a.a+(o.a-a.a)/2+r,i.b=a.b+(o.b-a.b)/2-r-t.e.b):(i.a=a.a+(o.a-a.a)/2+r,i.b=o.b+(a.b-o.b)/2+r):o.b>=a.b?(i.a=o.a+(a.a-o.a)/2+r,i.b=a.b+(o.b-a.b)/2+r):(i.a=o.a+(a.a-o.a)/2+r,i.b=o.b+(a.b-o.b)/2-r-t.e.b))}function jVt(t,e){var n,i,r,o,s,a,c;if(null==t)return null;if(0==(o=t.length))return"";for(c=D7(ANe,GYt,25,o,15,1),B7(0,o,t.length),B7(0,o,c.length),YW(t,0,o,c,0),n=null,a=e,r=0,s=0;r<o;r++)i=c[r],kKt(),i<=32&&2&YDe[i]?a?(!n&&(n=new lN(t)),rZ(n,r-s++)):(a=e,32!=i&&(!n&&(n=new lN(t)),aY(n,r-s,r-s+1,String.fromCharCode(32)))):a=!1;return a?n?(o=n.a.length)>0?lL(n.a,0,o-1):"":t.substr(0,o-1):n?n.a:t}function $Vt(t){OT(t,new EEt(mk(dk(pk(gk(new ma,qQt),"ELK DisCo"),"Layouter for arranging unconnected subgraphs. The subgraphs themselves are, by default, not laid out."),new oe))),o2(t,qQt,WQt,wbt(_oe)),o2(t,qQt,GQt,wbt(poe)),o2(t,qQt,KQt,wbt(uoe)),o2(t,qQt,YQt,wbt(moe)),o2(t,qQt,WZt,wbt(yoe)),o2(t,qQt,GZt,wbt(woe)),o2(t,qQt,qZt,wbt(voe)),o2(t,qQt,KZt,wbt(boe)),o2(t,qQt,$Qt,wbt(doe)),o2(t,qQt,VQt,wbt(hoe)),o2(t,qQt,zQt,wbt(foe)),o2(t,qQt,HQt,wbt(goe))}function VVt(t,e,n,i){var r,o,s,a,c,l,u;if(Fd(o=new Pwt(t),(sCt(),Aae)),lct(o,(VGt(),tbe),(Yxt(),qSe)),r=0,e){for(lct(s=new ACt,(lKt(),fde),e),lct(o,fde,e.i),zSt(s,(vWt(),CIe)),CJ(s,o),l=0,u=(c=Z0(e.e)).length;l<u;++l)xJ(c[l],s);lct(e,_de,o),++r}if(n){for(a=new ACt,lct(o,(lKt(),fde),n.i),lct(a,fde,n),zSt(a,(vWt(),sIe)),CJ(a,o),l=0,u=(c=Z0(n.g)).length;l<u;++l)EJ(c[l],a);lct(n,_de,o),++r}return lct(o,(lKt(),jhe),ndt(r)),i.c[i.c.length]=o,o}function zVt(){zVt=M,SMe=Cat(z_(ANe,1),GYt,25,15,[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70]),IMe=new RegExp("[ \t\n\r\f]+");try{AMe=Cat(z_(DOe,1),VKt,2015,0,[new mb((aO(),cpt("yyyy-MM-dd'T'HH:mm:ss'.'SSSZ",lB((l_(),l_(),iee))))),new mb(cpt("yyyy-MM-dd'T'HH:mm:ss'.'SSS",lB(iee))),new mb(cpt("yyyy-MM-dd'T'HH:mm:ss",lB(iee))),new mb(cpt("yyyy-MM-dd'T'HH:mm",lB(iee))),new mb(cpt("yyyy-MM-dd",lB(iee)))])}catch(t){if(!iD(t=hat(t),78))throw $b(t)}}function HVt(t){var e,n,r,o;if(r=zGt((!t.c&&(t.c=yut(t.f)),t.c),0),0==t.e||0==t.a&&-1!=t.f&&t.e<0)return r;if(e=nit(t)<0?1:0,n=t.e,r.length,i.Math.abs(CQ(t.e)),o=new A_,1==e&&(o.a+="-"),t.e>0)if((n-=r.length-e)>=0){for(o.a+="0.";n>zee.length;n-=zee.length)OH(o,zee);gB(o,zee,CQ(n)),sM(o,r.substr(e))}else sM(o,lL(r,e,CQ(n=e-n))),o.a+=".",sM(o,QI(r,CQ(n)));else{for(sM(o,r.substr(e));n<-zee.length;n+=zee.length)OH(o,zee);gB(o,zee,CQ(-n))}return o.a}function UVt(t,e,n,r){var o,s,a,c,l,u,h,d,f;return u=(l=qB(new DS(n.a,n.b),t)).a*e.b-l.b*e.a,h=e.a*r.b-e.b*r.a,d=(l.a*r.b-l.b*r.a)/h,f=u/h,0==h?0==u?(s=W7(t,o=UB(new DS(n.a,n.b),yD(new DS(r.a,r.b),.5))),a=W7(UB(new DS(t.a,t.b),e),o),c=.5*i.Math.sqrt(r.a*r.a+r.b*r.b),s<a&&s<=c?new DS(t.a,t.b):a<=c?UB(new DS(t.a,t.b),e):null):null:d>=0&&d<=1&&f>=0&&f<=1?UB(new DS(t.a,t.b),yD(new DS(e.a,e.b),d)):null}function qVt(t,e,n){var i,r,o,s,a;if(i=jV(wTt(t,(VGt(),Ope)),21),n.a>e.a&&(i.Hc((fxt(),WTe))?t.c.a+=(n.a-e.a)/2:i.Hc(KTe)&&(t.c.a+=n.a-e.a)),n.b>e.b&&(i.Hc((fxt(),XTe))?t.c.b+=(n.b-e.b)/2:i.Hc(YTe)&&(t.c.b+=n.b-e.b)),jV(wTt(t,(lKt(),Zhe)),21).Hc((dRt(),uhe))&&(n.a>e.a||n.b>e.b))for(a=new Wf(t.a);a.a<a.c.c.length;)(s=jV(Q1(a),10)).k==(sCt(),xae)&&((r=jV(wTt(s,Khe),61))==(vWt(),sIe)?s.n.a+=n.a-e.a:r==EIe&&(s.n.b+=n.b-e.b));o=t.d,t.f.a=n.a-o.b-o.c,t.f.b=n.b-o.d-o.a}function WVt(t,e,n){var i,r,o,s,a;if(i=jV(wTt(t,(VGt(),Ope)),21),n.a>e.a&&(i.Hc((fxt(),WTe))?t.c.a+=(n.a-e.a)/2:i.Hc(KTe)&&(t.c.a+=n.a-e.a)),n.b>e.b&&(i.Hc((fxt(),XTe))?t.c.b+=(n.b-e.b)/2:i.Hc(YTe)&&(t.c.b+=n.b-e.b)),jV(wTt(t,(lKt(),Zhe)),21).Hc((dRt(),uhe))&&(n.a>e.a||n.b>e.b))for(s=new Wf(t.a);s.a<s.c.c.length;)(o=jV(Q1(s),10)).k==(sCt(),xae)&&((r=jV(wTt(o,Khe),61))==(vWt(),sIe)?o.n.a+=n.a-e.a:r==EIe&&(o.n.b+=n.b-e.b));a=t.d,t.f.a=n.a-a.b-a.c,t.f.b=n.b-a.d-a.a}function GVt(t){var e,n,r,o,s,a,c,l,u,h;for(l=new Af(new Cf(NMt(t)).a.vc().Kc());l.a.Ob();){for(r=jV(l.a.Pb(),42),u=0,h=0,u=(c=jV(r.cd(),10)).d.d,h=c.o.b+c.d.a,t.d[c.p]=0,e=c;(o=t.a[e.p])!=c;)n=Emt(e,o),a=0,a=t.c==(gQ(),Qye)?n.d.n.b+n.d.a.b-n.c.n.b-n.c.a.b:n.c.n.b+n.c.a.b-n.d.n.b-n.d.a.b,s=zv(t.d[e.p])+a,t.d[o.p]=s,u=i.Math.max(u,o.d.d-s),h=i.Math.max(h,s+o.o.b+o.d.a),e=o;e=c;do{t.d[e.p]=zv(t.d[e.p])+u,e=t.a[e.p]}while(e!=c);t.b[c.p]=u+h}}function KVt(t){var e,n,r,o,s,a,c,l,u,h,d;for(t.b=!1,h=RXt,c=BXt,d=RXt,l=BXt,n=t.e.a.ec().Kc();n.Ob();)for(r=(e=jV(n.Pb(),266)).a,h=i.Math.min(h,r.c),c=i.Math.max(c,r.c+r.b),d=i.Math.min(d,r.d),l=i.Math.max(l,r.d+r.a),s=new Wf(e.c);s.a<s.c.c.length;)(o=jV(Q1(s),395)).a.a?(a=(u=r.d+o.b.b)+o.c,d=i.Math.min(d,u),l=i.Math.max(l,a)):(a=(u=r.c+o.b.a)+o.c,h=i.Math.min(h,u),c=i.Math.max(c,a));t.a=new DS(c-h,l-d),t.c=new DS(h+t.d.a,d+t.d.b)}function YVt(t,e,n){var i,r,o,s,a,c,l,u;for(u=new Ob,o=0,tit(l=new D0(0,n),new olt(0,0,l,n)),r=0,c=new ID(t);c.e!=c.i.gc();)a=jV(vbt(c),33),i=jV(DH(l.a,l.a.c.length-1),187),r+a.g+(0==jV(DH(l.a,0),187).b.c.length?0:n)>e&&(r=0,o+=l.b+n,u.c[u.c.length]=l,tit(l=new D0(o,n),i=new olt(0,l.f,l,n)),r=0),0==i.b.c.length||a.f>=i.o&&a.f<=i.f||.5*i.a<=a.f&&1.5*i.a>=a.f?yft(i,a):(tit(l,s=new olt(i.s+i.r+n,l.f,l,n)),yft(s,a)),r=a.i+a.g;return u.c[u.c.length]=l,u}function XVt(t){var e,n,i,r,o,s;if(!t.a){if(t.o=null,s=new gb(t),e=new Cc,null==(n=EOe).a.zc(t,n)){for(o=new ID(yZ(t));o.e!=o.i.gc();)pG(s,XVt(jV(vbt(o),26)));n.a.Bc(t),n.a.gc()}for(!t.s&&(t.s=new tW(BPe,t,21,17)),r=new ID(t.s);r.e!=r.i.gc();)iD(i=jV(vbt(r),170),322)&&l8(e,jV(i,34));rut(e),t.k=new _z(t,(jV(Get(KX((KG(),QPe).o),7),18),e.i),e.g),pG(s,t.k),rut(s),t.a=new OM((jV(Get(KX(QPe.o),4),18),s.i),s.g),T4(t).b&=-2}return t.a}function ZVt(t,e,n,i,r,o,s){var a,c,l,u,h;return u=!1,a=gNt(n.q,e.f+e.b-n.q.f),!((h=r-(n.q.e+a-s))<i.g)&&(c=o==t.c.length-1&&h>=(u1(o,t.c.length),jV(t.c[o],200)).e,!((l=rzt(i,h,!1).a)>e.b&&!c)&&((c||l<=e.b)&&(c&&l>e.b?(n.d=l,p8(n,jCt(n,l))):(oxt(n.q,a),n.c=!0),p8(i,r-(n.s+n.r)),xwt(i,n.q.e+n.q.d,e.f),tit(e,i),t.c.length>o&&(x_t((u1(o,t.c.length),jV(t.c[o],200)),i),0==(u1(o,t.c.length),jV(t.c[o],200)).a.c.length&&a6(t,o)),u=!0),u))}function QVt(t,e,n,i){var r,o,s,a,c,l,u;if(u=oLt(t.e.Tg(),e),r=0,o=jV(t.g,119),c=null,ZT(),jV(e,66).Oj()){for(a=0;a<t.i;++a)if(s=o[a],u.rl(s.ak())){if(Dht(s,n)){c=s;break}++r}}else if(null!=n){for(a=0;a<t.i;++a)if(s=o[a],u.rl(s.ak())){if(Dht(n,s.dd())){c=s;break}++r}}else for(a=0;a<t.i;++a)if(s=o[a],u.rl(s.ak())){if(null==s.dd()){c=s;break}++r}return c&&(bP(t.e)&&(l=e.$j()?new h5(t.e,4,e,n,null,r,!0):PZ(t,e.Kj()?2:1,e,n,e.zj(),-1,!0),i?i.Ei(l):i=l),i=xFt(t,c,i)),i}function JVt(t,e,n,r,o,s,a){var c,l,u,h,d,f,g,p;switch(g=0,p=0,l=o.c,c=o.b,h=n.f,f=n.g,e.g){case 0:g=r.i+r.g+a,p=t.c?pEt(g,s,r,a):r.j,d=i.Math.max(l,g+f),u=i.Math.max(c,p+h);break;case 1:p=r.j+r.f+a,g=t.c?gEt(p,s,r,a):r.i,d=i.Math.max(l,g+f),u=i.Math.max(c,p+h);break;case 2:g=l+a,p=0,d=l+a+f,u=i.Math.max(c,h);break;case 3:g=0,p=c+a,d=i.Math.max(l,f),u=c+a+h;break;default:throw $b(new Bv("IllegalPlacementOption."))}return new ogt(t.a,d,u,e,g,p)}function tzt(t){var e,n,r,o,s,a,c,l,u,h,d,f;if(c=t.d,d=jV(wTt(t,(lKt(),Rde)),15),e=jV(wTt(t,Nhe),15),d||e){if(s=zv(xR(ept(t,(VGt(),pbe)))),a=zv(xR(ept(t,mbe))),f=0,d){for(u=0,o=d.Kc();o.Ob();)r=jV(o.Pb(),10),u=i.Math.max(u,r.o.b),f+=r.o.a;f+=s*(d.gc()-1),c.d+=u+a}if(n=0,e){for(u=0,o=e.Kc();o.Ob();)r=jV(o.Pb(),10),u=i.Math.max(u,r.o.b),n+=r.o.a;n+=s*(e.gc()-1),c.a+=u+a}(l=i.Math.max(f,n))>t.o.a&&(h=(l-t.o.a)/2,c.b=i.Math.max(c.b,h),c.c=i.Math.max(c.c,h))}}function ezt(t){var e,n,i,r,o,s;for(iP(r=new L0,(Dat(),XEe)),i=new Ef(new Xv(new kE(t,_rt(t,D7(Yee,cYt,2,0,6,1))).b));i.b<i.d.gc();)TL(i.b<i.d.gc()),n=ER(i.d.Xb(i.c=i.b++)),(o=mUt(lPe,n))&&null!=(s=QHt(o,(e=HQ(t,n)).je()?e.je().a:e.ge()?""+e.ge().a:e.he()?""+e.he().a:e.Ib()))&&((EN(o.j,(ibt(),aTe))||EN(o.j,cTe))&&cct(Ytt(r,HMe),o,s),EN(o.j,oTe)&&cct(Ytt(r,RMe),o,s),EN(o.j,lTe)&&cct(Ytt(r,UMe),o,s),EN(o.j,sTe)&&cct(Ytt(r,zMe),o,s));return r}function nzt(t,e,n,i){var r,o,s,a,c,l;if(c=oLt(t.e.Tg(),e),o=jV(t.g,119),PLt(t.e,e)){for(r=0,a=0;a<t.i;++a)if(s=o[a],c.rl(s.ak())){if(r==n)return ZT(),jV(e,66).Oj()?s:(null!=(l=s.dd())&&i&&iD(e,99)&&jV(e,18).Bb&$Xt&&(l=jIt(t,e,a,r,l)),l);++r}throw $b(new Iv(e8t+n+a7t+r))}for(r=0,a=0;a<t.i;++a){if(s=o[a],c.rl(s.ak()))return ZT(),jV(e,66).Oj()?s:(null!=(l=s.dd())&&i&&iD(e,99)&&jV(e,18).Bb&$Xt&&(l=jIt(t,e,a,r,l)),l);++r}return e.zj()}function izt(t,e,n){var i,r,o,s,a,c,l,u;if(r=jV(t.g,119),PLt(t.e,e))return ZT(),jV(e,66).Oj()?new uH(e,t):new DI(e,t);for(l=oLt(t.e.Tg(),e),i=0,a=0;a<t.i;++a){if(s=(o=r[a]).ak(),l.rl(s)){if(ZT(),jV(e,66).Oj())return o;if(s==(xMt(),cDe)||s==oDe){for(c=new uN($ft(o.dd()));++a<t.i;)((s=(o=r[a]).ak())==cDe||s==oDe)&&sM(c,$ft(o.dd()));return gF(jV(e.Yj(),148),c.a)}return null!=(u=o.dd())&&n&&iD(e,99)&&jV(e,18).Bb&$Xt&&(u=jIt(t,e,a,i,u)),u}++i}return e.zj()}function rzt(t,e,n){var r,o,s,a,c,l,u,h,d,f;for(s=0,a=t.t,o=0,r=0,l=0,f=0,d=0,n&&(t.n.c=D7(Mte,VKt,1,0,5,1),WV(t.n,new LQ(t.s,t.t,t.i))),c=0,h=new Wf(t.b);h.a<h.c.c.length;)s+(u=jV(Q1(h),33)).g+(c>0?t.i:0)>e&&l>0&&(s=0,a+=l+t.i,o=i.Math.max(o,f),r+=l+t.i,l=0,f=0,n&&(++d,WV(t.n,new LQ(t.s,a,t.i))),c=0),f+=u.g+(c>0?t.i:0),l=i.Math.max(l,u.f),n&&cyt(jV(DH(t.n,d),211),u),s+=u.g+(c>0?t.i:0),++c;return o=i.Math.max(o,f),r+=l,n&&(t.r=o,t.d=r,yvt(t.j)),new UY(t.s,t.t,o,r)}function ozt(t,e,n,i,r){var o,s,a,c,l,u,h,d,f;if(ME(),EW(t,"src"),EW(n,"dest"),d=tlt(t),c=tlt(n),pz(!!(4&d.i),"srcType is not an array"),pz(!!(4&c.i),"destType is not an array"),h=d.c,s=c.c,pz(1&h.i?h==s:!(1&s.i),"Array types don't match"),f=t.length,l=n.length,e<0||i<0||r<0||e+r>f||i+r>l)throw $b(new lw);if(1&h.i||d==c)r>0&&FSt(t,e,n,i,r,!0);else if(u=ent(t),o=ent(n),zI(t)===zI(n)&&e<i)for(e+=r,a=i+r;a-- >i;)MG(o,a,u[--e]);else for(a=i+r;i<a;)MG(o,i++,u[e++])}function szt(){szt=M,ine=Cat(z_(SNe,1),lXt,25,15,[FYt,1162261467,IYt,1220703125,362797056,1977326743,IYt,387420489,MXt,214358881,429981696,815730721,1475789056,170859375,268435456,410338673,612220032,893871739,128e7,1801088541,113379904,148035889,191102976,244140625,308915776,387420489,481890304,594823321,729e6,887503681,IYt,1291467969,1544804416,1838265625,60466176]),rne=Cat(z_(SNe,1),lXt,25,15,[-1,-1,31,19,15,13,11,11,10,9,9,8,8,8,8,7,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5])}function azt(t){var e,n,i,r,o,s,a;for(i=new Wf(t.b);i.a<i.c.c.length;)for(o=new Wf(r0(jV(Q1(i),29).a));o.a<o.c.c.length;)if(Ztt(r=jV(Q1(o),10))&&!(n=jV(wTt(r,(lKt(),Lhe)),305)).g&&n.d)for(e=n,a=n.d;a;)eBt(a.i,a.k,!1,!0),I9(e.a),I9(a.i),I9(a.k),I9(a.b),xJ(a.c,e.c.d),xJ(e.c,null),TJ(e.a,null),TJ(a.i,null),TJ(a.k,null),TJ(a.b,null),(s=new m3(e.i,a.a,e.e,a.j,a.f)).k=e.k,s.n=e.n,s.b=e.b,s.c=a.c,s.g=e.g,s.d=a.d,lct(e.i,Lhe,s),lct(a.a,Lhe,s),a=a.d,e=s}function czt(t,e){var n,i,r,o,s;if(s=jV(e,136),xOt(t),xOt(s),null!=s.b){if(t.c=!0,null==t.b)return t.b=D7(SNe,lXt,25,s.b.length,15,1),void ozt(s.b,0,t.b,0,s.b.length);for(o=D7(SNe,lXt,25,t.b.length+s.b.length,15,1),n=0,i=0,r=0;n<t.b.length||i<s.b.length;)n>=t.b.length?(o[r++]=s.b[i++],o[r++]=s.b[i++]):i>=s.b.length?(o[r++]=t.b[n++],o[r++]=t.b[n++]):s.b[i]<t.b[n]||s.b[i]===t.b[n]&&s.b[i+1]<t.b[n+1]?(o[r++]=s.b[i++],o[r++]=s.b[i++]):(o[r++]=t.b[n++],o[r++]=t.b[n++]);t.b=o}}function lzt(t,e){var n,i,r,o,s,a,c,l,u,h;return n=Vv(kR(wTt(t,(lKt(),ade)))),a=Vv(kR(wTt(e,ade))),i=jV(wTt(t,cde),11),c=jV(wTt(e,cde),11),r=jV(wTt(t,lde),11),l=jV(wTt(e,lde),11),u=!!i&&i==c,h=!!r&&r==l,n||a?(o=(!Vv(kR(wTt(t,ade)))||Vv(kR(wTt(t,sde))))&&(!Vv(kR(wTt(e,ade)))||Vv(kR(wTt(e,sde)))),s=!(Vv(kR(wTt(t,ade)))&&Vv(kR(wTt(t,sde)))||Vv(kR(wTt(e,ade)))&&Vv(kR(wTt(e,sde)))),new Lj(u&&o||h&&s,u,h)):new Lj(jV(Q1(new Wf(t.j)),11).p==jV(Q1(new Wf(e.j)),11).p,u,h)}function uzt(t){var e,n,r,o,s,a,c,l;for(r=0,n=0,l=new YE,e=0,c=new Wf(t.n);c.a<c.c.c.length;)0==(a=jV(Q1(c),211)).c.c.length?n4(l,a,l.c.b,l.c):(r=i.Math.max(r,a.d),n+=a.a+(e>0?t.i:0)),++e;for(Jft(t.n,l),t.d=n,t.r=r,t.g=0,t.f=0,t.e=0,t.o=RXt,t.p=RXt,s=new Wf(t.b);s.a<s.c.c.length;)o=jV(Q1(s),33),t.p=i.Math.min(t.p,o.g),t.g=i.Math.max(t.g,o.g),t.f=i.Math.max(t.f,o.f),t.o=i.Math.min(t.o,o.f),t.e+=o.f+t.i;t.a=t.e/t.b.c.length-t.i*((t.b.c.length-1)/t.b.c.length),yvt(t.j)}function hzt(t){var e,n,i,r;return 64&t.Db?Xdt(t):(e=new uN(K4t),(i=t.k)?sM(sM((e.a+=' "',e),i),'"'):(!t.n&&(t.n=new tW(zMe,t,1,7)),t.n.i>0&&(!(r=(!t.n&&(t.n=new tW(zMe,t,1,7)),jV(Get(t.n,0),137)).a)||sM(sM((e.a+=' "',e),r),'"'))),!t.b&&(t.b=new cF(LMe,t,4,7)),n=!(t.b.i<=1&&(!t.c&&(t.c=new cF(LMe,t,5,8)),t.c.i<=1)),e.a+=n?" [":" ",sM(e,XD(new b_,new ID(t.b))),n&&(e.a+="]"),e.a+=e1t,n&&(e.a+="["),sM(e,XD(new b_,new ID(t.c))),n&&(e.a+="]"),e.a)}function dzt(t,e){var n,i,r,o,s,a,c;if(t.a){if(c=null,null!=(a=t.a.ne())?e.a+=""+a:null!=(s=t.a.Dj())&&(-1!=(o=zM(s,XEt(91)))?(c=s.substr(o),e.a+=""+lL(null==s?UKt:(yK(s),s),0,o)):e.a+=""+s),t.d&&0!=t.d.i){for(r=!0,e.a+="<",i=new ID(t.d);i.e!=i.i.gc();)n=jV(vbt(i),87),r?r=!1:e.a+=jKt,dzt(n,e);e.a+=">"}null!=c&&(e.a+=""+c)}else t.e?null!=(a=t.e.zb)&&(e.a+=""+a):(e.a+="?",t.b?(e.a+=" super ",dzt(t.b,e)):t.f&&(e.a+=" extends ",dzt(t.f,e)))}function fzt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T;for(v=t.c,_=e.c,n=_9(v.a,t,0),i=_9(_.a,e,0),w=jV(Ngt(t,(oit(),$we)).Kc().Pb(),11),E=jV(Ngt(t,Vwe).Kc().Pb(),11),y=jV(Ngt(e,$we).Kc().Pb(),11),T=jV(Ngt(e,Vwe).Kc().Pb(),11),m=Z0(w.e),k=Z0(E.g),b=Z0(y.e),x=Z0(T.g),Yvt(t,i,_),l=0,f=(o=b).length;l<f;++l)xJ(o[l],w);for(u=0,g=(s=x).length;u<g;++u)EJ(s[u],E);for(Yvt(e,n,v),h=0,p=(a=m).length;h<p;++h)xJ(a[h],y);for(c=0,d=(r=k).length;c<d;++c)EJ(r[c],T)}function gzt(t,e,n,i){var r,o,s,a,c,l;if(o=Gdt(i),!Vv(kR(wTt(i,(VGt(),Ame))))&&!Vv(kR(wTt(t,hme)))||mP(jV(wTt(t,tbe),98)))switch(CJ(a=new ACt,t),e?((l=a.n).a=e.a-t.n.a,l.b=e.b-t.n.b,GCt(l,0,0,t.o.a,t.o.b),zSt(a,Ujt(a,o))):(r=lgt(o),zSt(a,n==(oit(),Vwe)?r:xdt(r))),s=jV(wTt(i,(lKt(),Zhe)),21),c=a.j,o.g){case 2:case 1:(c==(vWt(),aIe)||c==EIe)&&s.Fc((dRt(),ghe));break;case 4:case 3:(c==(vWt(),sIe)||c==CIe)&&s.Fc((dRt(),ghe))}else r=lgt(o),a=Rjt(t,n,n==(oit(),Vwe)?r:xdt(r));return a}function pzt(t,e,n){var r,o,s,a,c,l,u;return i.Math.abs(e.s-e.c)<hJt||i.Math.abs(n.s-n.c)<hJt?0:(r=GNt(t,e.j,n.e),o=GNt(t,n.j,e.e),s=0,-1==r||-1==o?(-1==r&&(new HJ((S6(),kve),n,e,1),++s),-1==o&&(new HJ((S6(),kve),e,n,1),++s)):(a=xht(e.j,n.s,n.c),a+=xht(n.e,e.s,e.c),c=xht(n.j,e.s,e.c),(l=r+16*a)<(u=o+16*(c+=xht(e.e,n.s,n.c)))?new HJ((S6(),xve),e,n,u-l):l>u?new HJ((S6(),xve),n,e,l-u):l>0&&u>0&&(new HJ((S6(),xve),e,n,0),new HJ(xve,n,e,0))),s)}function mzt(t,e){var n,r,o,s,a;for(a=new slt(new Tf(t.f.b).a);a.b;){if(o=jV((s=tnt(a)).cd(),594),1==e){if(o.gf()!=(jht(),$Ae)&&o.gf()!=RAe)continue}else if(o.gf()!=(jht(),BAe)&&o.gf()!=FAe)continue;switch(r=jV(jV(s.dd(),46).b,81),n=jV(jV(s.dd(),46).a,189).c,o.gf().g){case 2:r.g.c=t.e.a,r.g.b=i.Math.max(1,r.g.b+n);break;case 1:r.g.c=r.g.c+n,r.g.b=i.Math.max(1,r.g.b-n);break;case 4:r.g.d=t.e.b,r.g.a=i.Math.max(1,r.g.a+n);break;case 3:r.g.d=r.g.d+n,r.g.a=i.Math.max(1,r.g.a-n)}}}function bzt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m;for(c=D7(SNe,lXt,25,e.b.c.length,15,1),u=D7(Mae,PYt,267,e.b.c.length,0,1),l=D7(Sae,o1t,10,e.b.c.length,0,1),f=0,g=(d=t.a).length;f<g;++f){for(m=0,a=new Wf((h=d[f]).e);a.a<a.c.c.length;)++c[r=JM((o=jV(Q1(a),10)).c)],p=zv(xR(wTt(e,(VGt(),wbe)))),c[r]>0&&l[r]&&(p=RO(t.b,l[r],o)),m=i.Math.max(m,o.c.c.b+p);for(s=new Wf(h.e);s.a<s.c.c.length;)(o=jV(Q1(s),10)).n.b=m+o.d.d,(n=o.c).c.b=m+o.d.d+o.o.b+o.d.a,u[_9(n.b.b,n,0)]=o.k,l[_9(n.b.b,n,0)]=o}}function wzt(t,e){var n,i,r,o,s,a,c,l,h,d,f;for(i=new sq(ZD(gDt(e).a.Kc(),new u));gPt(i);)iD(Get((!(n=jV(U4(i),79)).b&&(n.b=new cF(LMe,n,4,7)),n.b),0),186)||(c=CEt(jV(Get((!n.c&&(n.c=new cF(LMe,n,5,8)),n.c),0),82)),JMt(n)||(s=e.i+e.g/2,a=e.j+e.f/2,h=c.i+c.g/2,d=c.j+c.f/2,(f=new zk).a=h-s,f.b=d-a,q_t(o=new DS(f.a,f.b),e.g,e.f),f.a-=o.a,f.b-=o.b,s=h-f.a,a=d-f.b,q_t(l=new DS(f.a,f.b),c.g,c.f),f.a-=l.a,f.b-=l.b,h=s+f.a,d=a+f.b,Snt(r=rRt(n,!0,!0),s),Mnt(r,a),xnt(r,h),Int(r,d),wzt(t,c)))}function yzt(t){OT(t,new EEt(mk(dk(pk(gk(new ma,R5t),"ELK SPOrE Compaction"),"ShrinkTree is a compaction algorithm that maintains the topology of a layout. The relocation of diagram elements is based on contracting a spanning tree."),new na))),o2(t,R5t,B5t,wbt(yEe)),o2(t,R5t,F5t,wbt(mEe)),o2(t,R5t,j5t,wbt(pEe)),o2(t,R5t,$5t,wbt(fEe)),o2(t,R5t,V5t,wbt(gEe)),o2(t,R5t,YQt,dEe),o2(t,R5t,bJt,8),o2(t,R5t,z5t,wbt(wEe)),o2(t,R5t,H5t,wbt(cEe)),o2(t,R5t,U5t,wbt(lEe)),o2(t,R5t,W2t,(cN(),!1))}function vzt(t,e){var n,r,o,s,a,c,l,u,h,d;for(IEt(e,"Simple node placement",1),d=jV(wTt(t,(lKt(),Ide)),304),c=0,s=new Wf(t.b);s.a<s.c.c.length;){for((a=(r=jV(Q1(s),29)).c).b=0,n=null,u=new Wf(r.a);u.a<u.c.c.length;)l=jV(Q1(u),10),n&&(a.b+=Spt(l,n,d.c)),a.b+=l.d.d+l.o.b+l.d.a,n=l;c=i.Math.max(c,a.b)}for(o=new Wf(t.b);o.a<o.c.c.length;)for(h=(c-(a=(r=jV(Q1(o),29)).c).b)/2,n=null,u=new Wf(r.a);u.a<u.c.c.length;)l=jV(Q1(u),10),n&&(h+=Spt(l,n,d.c)),h+=l.d.d,l.n.b=h,h+=l.o.b+l.d.a,n=l;VCt(e)}function _zt(t,e,n,i){var r,o,s,a,c,l,u,h;if(0==i.gc())return!1;if(ZT(),s=(c=jV(e,66).Oj())?i:new pet(i.gc()),PLt(t.e,e)){if(e.hi())for(u=i.Kc();u.Ob();)q$t(t,e,l=u.Pb(),iD(e,99)&&!!(jV(e,18).Bb&$Xt))||(o=Z3(e,l),s.Fc(o));else if(!c)for(u=i.Kc();u.Ob();)o=Z3(e,l=u.Pb()),s.Fc(o)}else{for(h=oLt(t.e.Tg(),e),r=jV(t.g,119),a=0;a<t.i;++a)if(o=r[a],h.rl(o.ak()))throw $b(new Bv(S9t));if(i.gc()>1)throw $b(new Bv(S9t));c||(o=Z3(e,i.Kc().Pb()),s.Fc(o))}return act(t,kAt(t,e,n),s)}function kzt(t,e){var n,i,r,o;for(Yet(e.b.j),XE(MY(new LH(null,new d1(e.d,16)),new oo),new so),o=new Wf(e.d);o.a<o.c.c.length;){switch((r=jV(Q1(o),101)).e.g){case 0:n=jV(DH(r.j,0),113).d.j,Vd(r,jV(MN(Sq(jV(c6(r.k,n),15).Oc(),Kle)),113)),$d(r,jV(MN(Aq(jV(c6(r.k,n),15).Oc(),Kle)),113));break;case 1:i=Vvt(r),Vd(r,jV(MN(Sq(jV(c6(r.k,i[0]),15).Oc(),Kle)),113)),$d(r,jV(MN(Aq(jV(c6(r.k,i[1]),15).Oc(),Kle)),113));break;case 2:KAt(t,r);break;case 3:BNt(r);break;case 4:HNt(t,r)}Ket(r)}t.a=null}function xzt(t,e,n){var i,r,o,s,a,c,l,u;return i=t.a.o==(sJ(),ive)?RXt:BXt,!(a=r$t(t,new rS(e,n))).a&&a.c?(Nz(t.d,a),i):a.a?(r=a.a.c,c=a.a.d,n?(l=t.a.c==(gQ(),Jye)?c:r,o=t.a.c==Jye?r:c,s=t.a.g[o.i.p],u=zv(t.a.p[s.p])+zv(t.a.d[o.i.p])+o.n.b+o.a.b-zv(t.a.d[l.i.p])-l.n.b-l.a.b):(l=t.a.c==(gQ(),Qye)?c:r,o=t.a.c==Qye?r:c,u=zv(t.a.p[t.a.g[o.i.p].p])+zv(t.a.d[o.i.p])+o.n.b+o.a.b-zv(t.a.d[l.i.p])-l.n.b-l.a.b),t.a.n[t.a.g[r.i.p].p]=(cN(),!0),t.a.n[t.a.g[c.i.p].p]=!0,u):i}function Ezt(t,e,n){var i,r,o,s,a,c,l;if(PLt(t.e,e))ZT(),MMt((a=jV(e,66).Oj()?new uH(e,t):new DI(e,t)).c,a.b),ZO(a,jV(n,14));else{for(l=oLt(t.e.Tg(),e),i=jV(t.g,119),o=0;o<t.i;++o)if(r=i[o].ak(),l.rl(r)){if(r==(xMt(),cDe)||r==oDe){for(s=o,(c=Iwt(t,e,n))?uRt(t,o):++o;o<t.i;)(r=i[o].ak())==cDe||r==oDe?uRt(t,o):++o;c||jV(awt(t,s,Z3(e,n)),72)}else Iwt(t,e,n)?uRt(t,o):jV(awt(t,o,(ZT(),jV(e,66).Oj()?jV(n,72):Z3(e,n))),72);return}Iwt(t,e,n)||l8(t,(ZT(),jV(e,66).Oj()?jV(n,72):Z3(e,n)))}}function Tzt(t,e,n){var i,r,o,s,a,c,l,u;return Dht(n,t.b)||(t.b=n,o=new Zt,s=jV(T5(MY(new LH(null,new d1(n.f,16)),o),D9(new X,new Z,new rt,new ot,Cat(z_(Qne,1),PYt,132,0,[(zlt(),qne),Une]))),21),t.e=!0,t.f=!0,t.c=!0,t.d=!0,r=s.Hc((Vbt(),jre)),i=s.Hc($re),r&&!i&&(t.f=!1),!r&&i&&(t.d=!1),r=s.Hc(Fre),i=s.Hc(Vre),r&&!i&&(t.c=!1),!r&&i&&(t.e=!1)),u=jV(t.a.Ce(e,n),46),c=jV(u.a,19).a,l=jV(u.b,19).a,a=!1,c<0?t.c||(a=!0):t.e||(a=!0),l<0?t.d||(a=!0):t.f||(a=!0),a?Tzt(t,u,n):u}function Czt(t){var e,n,r,o;o=t.o,VR(),t.A.dc()||Dht(t.A,Mre)?e=o.b:(e=EIt(t.f),t.A.Hc((wpt(),LIe))&&!t.B.Hc((JFt(),qIe))&&(e=i.Math.max(e,EIt(jV(sY(t.p,(vWt(),sIe)),244))),e=i.Math.max(e,EIt(jV(sY(t.p,CIe),244)))),(n=ast(t))&&(e=i.Math.max(e,n.b)),t.A.Hc(RIe)&&(t.q!=(Yxt(),WSe)&&t.q!=qSe||(e=i.Math.max(e,qz(jV(sY(t.b,(vWt(),sIe)),124))),e=i.Math.max(e,qz(jV(sY(t.b,CIe),124)))))),Vv(kR(t.e.yf().We((cKt(),FCe))))?o.b=i.Math.max(o.b,e):o.b=e,(r=t.f.i).d=0,r.a=e,H$t(t.f)}function Azt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f;for(u=0;u<e.length;u++){for(s=t.Kc();s.Ob();)jV(s.Pb(),225).Of(u,e);for(h=0;h<e[u].length;h++){for(a=t.Kc();a.Ob();)jV(a.Pb(),225).Pf(u,h,e);for(f=e[u][h].j,d=0;d<f.c.length;d++){for(c=t.Kc();c.Ob();)jV(c.Pb(),225).Qf(u,h,d,e);for(u1(d,f.c.length),n=0,r=new b6(jV(f.c[d],11).b);wO(r.a)||wO(r.b);)for(i=jV(wO(r.a)?Q1(r.a):Q1(r.b),17),l=t.Kc();l.Ob();)jV(l.Pb(),225).Nf(u,h,d,n++,i,e)}}}for(o=t.Kc();o.Ob();)jV(o.Pb(),225).Mf()}function Szt(t,e){var n,i,r,o,s;for(t.b=zv(xR(wTt(e,(VGt(),ybe)))),t.c=zv(xR(wTt(e,kbe))),t.d=jV(wTt(e,nme),336),t.a=jV(wTt(e,Tpe),275),uyt(e),r=(o=jV(T5(IY(IY(dtt(dtt(new LH(null,new d1(e.b,16)),new vn),new _n),new kn),new xn),b8(new z,new V,new it,Cat(z_(Qne,1),PYt,132,0,[(zlt(),Une)]))),15)).Kc();r.Ob();)n=jV(r.Pb(),17),jV(wTt(n,(lKt(),Ode)),15).Jc(new tp(t)),lct(n,Ode,null);for(i=o.Kc();i.Ob();)n=jV(i.Pb(),17),s=jV(wTt(n,(lKt(),Dde)),17),jGt(t,jV(wTt(n,Mde),15),s),lct(n,Mde,null)}function Izt(t){t.b=null,t.a=null,t.o=null,t.q=null,t.v=null,t.w=null,t.B=null,t.p=null,t.Q=null,t.R=null,t.S=null,t.T=null,t.U=null,t.V=null,t.W=null,t.bb=null,t.eb=null,t.ab=null,t.H=null,t.db=null,t.c=null,t.d=null,t.f=null,t.n=null,t.r=null,t.s=null,t.u=null,t.G=null,t.J=null,t.e=null,t.j=null,t.i=null,t.g=null,t.k=null,t.t=null,t.F=null,t.I=null,t.L=null,t.M=null,t.O=null,t.P=null,t.$=null,t.N=null,t.Z=null,t.cb=null,t.K=null,t.D=null,t.A=null,t.C=null,t._=null,t.fb=null,t.X=null,t.Y=null,t.gb=!1,t.hb=!1}function Mzt(t){var e,n,i,r,o;if(t.k!=(sCt(),Cae))return!1;if(t.j.c.length<=1)return!1;if(jV(wTt(t,(VGt(),tbe)),98)==(Yxt(),qSe))return!1;if(dwt(),(i=(t.q?t.q:(EX(),EX(),lne))._b(Lme)?jV(wTt(t,Lme),197):jV(wTt(mK(t),Rme),197))==uwe)return!1;if(i!=lwe&&i!=cwe){if(r=zv(xR(ept(t,Obe))),!(e=jV(wTt(t,Pbe),142))&&(e=new $B(r,r,r,r)),o=oft(t,(vWt(),CIe)),e.d+e.a+(o.gc()-1)*r>t.o.b)return!1;if(n=oft(t,sIe),e.d+e.a+(n.gc()-1)*r>t.o.b)return!1}return!0}function Pzt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g;if(s=t.e,c=e.e,0==s)return e;if(0==c)return t;if((o=t.d)+(a=e.d)==2)return n=t0(t.a[0],qXt),i=t0(e.a[0],qXt),s==c?(g=fU(u=ift(n,i)),0==(f=fU(vq(u,32)))?new q6(s,g):new uW(s,2,Cat(z_(SNe,1),lXt,25,15,[g,f]))):Jmt(s<0?nft(i,n):nft(n,i));if(s==c)d=s,h=o>=a?O7(t.a,o,e.a,a):O7(e.a,a,t.a,o);else{if(0==(r=o!=a?o>a?1:-1:Elt(t.a,e.a,o)))return IRt(),ene;1==r?(d=s,h=f6(t.a,o,e.a,a)):(d=c,h=f6(e.a,a,t.a,o))}return q0(l=new uW(d,h.length,h)),l}function Ozt(t,e,n,r,o,s,a){var c,l,u,h,d,f,g;return d=Vv(kR(wTt(e,(VGt(),Sme)))),f=null,s==(oit(),$we)&&r.c.i==n?f=r.c:s==Vwe&&r.d.i==n&&(f=r.d),(u=a)&&d&&!f?(WV(u.e,r),g=i.Math.max(zv(xR(wTt(u.d,rme))),zv(xR(wTt(r,rme)))),lct(u.d,rme,g)):(vWt(),h=TIe,f?h=f.j:mP(jV(wTt(n,tbe),98))&&(h=s==$we?CIe:sIe),l=Nzt(t,e,n,s,h,r),c=W4((mK(n),r)),s==$we?(EJ(c,jV(DH(l.j,0),11)),xJ(c,o)):(EJ(c,o),xJ(c,jV(DH(l.j,0),11))),u=new Uht(r,c,l,jV(wTt(l,(lKt(),fde)),11),s,!f)),ZIt(t.a,r,new Pj(u.d,e,s)),u}function Dzt(t,e){var n,i,r,o,s,a,c,l,u,h;if(u=null,t.d&&(u=jV(EQ(t.d,e),138)),!u){if(h=(o=t.a.Mh()).i,!t.d||OE(t.d)!=h){for(c=new Db,t.d&&xot(c,t.d),a=l=c.f.c+c.g.c;a<h;++a)i=jV(Get(o,a),138),(n=jV(null==(r=Aht(t.e,i).ne())?_St(c.f,null,i):sft(c.g,r,i),138))&&n!=i&&(null==r?_St(c.f,null,n):sft(c.g,r,n));if(c.f.c+c.g.c!=h)for(s=0;s<l;++s)i=jV(Get(o,s),138),(n=jV(null==(r=Aht(t.e,i).ne())?_St(c.f,null,i):sft(c.g,r,i),138))&&n!=i&&(null==r?_St(c.f,null,n):sft(c.g,r,n));t.d=c}u=jV(EQ(t.d,e),138)}return u}function Nzt(t,e,n,i,r,o){var s,a,c,l,u,h;return s=null,l=i==(oit(),$we)?o.c:o.d,c=Gdt(e),l.i==n?(s=jV(LG(t.b,l),10))||(lct(s=dGt(l,jV(wTt(n,(VGt(),tbe)),98),r,VFt(l),null,l.n,l.o,c,e),(lKt(),fde),l),GK(t.b,l,s)):(a=Mxt(s=dGt((u=new Qt,h=zv(xR(wTt(e,(VGt(),wbe))))/2,cct(u,Jme,h),u),jV(wTt(n,tbe),98),r,i==$we?-1:1,null,new zk,new DS(0,0),c,e),n,i),lct(s,(lKt(),fde),a),GK(t.b,a,s)),jV(wTt(e,(lKt(),Zhe)),21).Fc((dRt(),uhe)),mP(jV(wTt(e,(VGt(),tbe)),98))?lct(e,tbe,(Yxt(),GSe)):lct(e,tbe,(Yxt(),KSe)),s}function Lzt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p;IEt(e,"Orthogonal edge routing",1),l=zv(xR(wTt(t,(VGt(),Ibe)))),n=zv(xR(wTt(t,ybe))),i=zv(xR(wTt(t,kbe))),d=new lG(0,n),p=0,s=new x2(t.b,0),a=null,u=null,c=null,h=null;do{h=(u=s.b<s.d.gc()?(TL(s.b<s.d.gc()),jV(s.d.Xb(s.c=s.b++),29)):null)?u.a:null,a&&(xHt(a,p),p+=a.c.a),g=MUt(d,t,c,h,a?p+i:p),r=!a||GI(c,(gLt(),vve)),o=!u||GI(h,(gLt(),vve)),g>0?(f=(g-1)*n,a&&(f+=i),u&&(f+=i),f<l&&!r&&!o&&(f=l),p+=f):!r&&!o&&(p+=l),a=u,c=h}while(u);t.f.a=p,VCt(e)}function Rzt(){var t;Rzt=M,vPe=new Ey,wPe=D7(Yee,cYt,2,0,6,1),xPe=e0($at(33,58),$at(1,26)),EPe=e0($at(97,122),$at(65,90)),TPe=$at(48,57),_Pe=e0(xPe,0),kPe=e0(EPe,TPe),CPe=e0(e0(0,$at(1,6)),$at(33,38)),APe=e0(e0(TPe,$at(65,70)),$at(97,102)),OPe=e0(_Pe,gbt("-_.!~*'()")),DPe=e0(kPe,Wgt("-_.!~*'()")),gbt(s8t),Wgt(s8t),e0(OPe,gbt(";:@&=+$,")),e0(DPe,Wgt(";:@&=+$,")),SPe=gbt(":/?#"),IPe=Wgt(":/?#"),MPe=gbt("/?#"),PPe=Wgt("/?#"),(t=new Lw).a.zc("jar",t),t.a.zc("zip",t),t.a.zc("archive",t),EX(),yPe=new I_(t)}function Bzt(t,e){var n,i,r,o,s;if(lct(e,(zHt(),s_e),0),r=jV(wTt(e,r_e),86),0==e.d.b)r?(s=zv(xR(wTt(r,l_e)))+t.a+_4(r,e),lct(e,l_e,s)):lct(e,l_e,0);else{for(n=new dm(cbt(new hm(e).a.d,0));_x(n.a);)Bzt(t,jV(h3(n.a),188).c);i=jV(eD(new dm(cbt(new hm(e).a.d,0))),86),o=(zv(xR(wTt(jV(kN(new dm(cbt(new hm(e).a.d,0))),86),l_e)))+zv(xR(wTt(i,l_e))))/2,r?(s=zv(xR(wTt(r,l_e)))+t.a+_4(r,e),lct(e,l_e,s),lct(e,s_e,zv(xR(wTt(e,l_e)))-o),SUt(t,e)):lct(e,l_e,o)}}function Fzt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f;a=0,f=0,c=kQ(t.f,t.f.length),o=t.d,s=t.i,i=t.a,r=t.b;do{for(d=0,l=new Wf(t.p);l.a<l.c.c.length;)h=IUt(t,jV(Q1(l),10)),n=!0,(t.q==(cNt(),kwe)||t.q==Twe)&&(n=Vv(kR(h.b))),jV(h.a,19).a<0&&n?(++d,c=kQ(t.f,t.f.length),t.d=t.d+jV(h.a,19).a,f+=o-t.d,o=t.d+jV(h.a,19).a,s=t.i,i=r0(t.a),r=r0(t.b)):(t.f=kQ(c,c.length),t.d=o,t.a=(wG(i),i?new JF(i):$V(new Wf(i))),t.b=(wG(r),r?new JF(r):$V(new Wf(r))),t.i=s);++a,u=0!=d&&Vv(kR(e.Kb(new nI(ndt(f),ndt(a)))))}while(u)}function jzt(t,e,n,r){var o,s,a,c,l,u,h,d,f,g,p,m,b,w,y;return s=t.f,d=e.f,a=s==(XDt(),Dxe)||s==Lxe,c=s==Nxe||s==Rxe,f=d==Nxe||d==Rxe,l=s==Nxe||s==Dxe,g=d==Nxe||d==Dxe,!a||d!=Dxe&&d!=Lxe?c&&f?t.f==Rxe?t:e:l&&g?(s==Nxe?(h=t,u=e):(h=e,u=t),p=n.j+n.f,m=h.e+r.f,b=i.Math.max(p,m)-i.Math.min(n.j,h.e),o=(h.d+r.g-n.i)*b,w=n.i+n.g,y=u.d+r.g,o<=(i.Math.max(w,y)-i.Math.min(n.i,u.d))*(u.e+r.f-n.j)?t.f==Nxe?t:e:t.f==Dxe?t:e):t:t.f==Lxe?t:e}function $zt(t){var e,n,i,r,o,s,a,c,l,u;for(l=t.e.a.c.length,o=new Wf(t.e.a);o.a<o.c.c.length;)jV(Q1(o),121).j=!1;for(t.i=D7(SNe,lXt,25,l,15,1),t.g=D7(SNe,lXt,25,l,15,1),t.n=new Ob,r=0,u=new Ob,a=new Wf(t.e.a);a.a<a.c.c.length;)(s=jV(Q1(a),121)).d=r++,0==s.b.a.c.length&&WV(t.n,s),pat(u,s.g);for(e=0,i=new Wf(u);i.a<i.c.c.length;)(n=jV(Q1(i),213)).c=e++,n.f=!1;c=u.c.length,null==t.b||t.b.length<c?(t.b=D7(ONe,zXt,25,c,15,1),t.c=D7(INe,QZt,25,c,16,1)):Qv(t.c),t.d=u,t.p=new PN(tet(t.d.c.length)),t.j=1}function Vzt(t,e){var n,i,r,o,s,a,c,l,u;if(!(e.e.c.length<=1)){for(t.f=e,t.d=jV(wTt(t.f,(i_t(),mse)),379),t.g=jV(wTt(t.f,vse),19).a,t.e=zv(xR(wTt(t.f,bse))),t.c=zv(xR(wTt(t.f,pse))),iG(t.b),r=new Wf(t.f.c);r.a<r.c.c.length;)i=jV(Q1(r),282),yFt(t.b,i.c,i,null),yFt(t.b,i.d,i,null);for(a=t.f.e.c.length,t.a=yH(ONe,[cYt,zXt],[104,25],15,[a,a],2),l=new Wf(t.f.e);l.a<l.c.c.length;)AVt(t,c=jV(Q1(l),144),t.a[c.b]);for(t.i=yH(ONe,[cYt,zXt],[104,25],15,[a,a],2),o=0;o<a;++o)for(s=0;s<a;++s)u=1/((n=t.a[o][s])*n),t.i[o][s]=u}}function zzt(t){var e,n,i,r;if(!(null==t.b||t.b.length<=2||t.a)){for(e=0,r=0;r<t.b.length;){for(e!=r?(t.b[e]=t.b[r++],t.b[e+1]=t.b[r++]):r+=2,n=t.b[e+1];r<t.b.length&&!(n+1<t.b[r]);)if(n+1==t.b[r])t.b[e+1]=t.b[r+1],n=t.b[e+1],r+=2;else if(n>=t.b[r+1])r+=2;else{if(!(n<t.b[r+1]))throw $b(new fv("Token#compactRanges(): Internel Error: ["+t.b[e]+","+t.b[e+1]+"] ["+t.b[r]+","+t.b[r+1]+"]"));t.b[e+1]=t.b[r+1],n=t.b[e+1],r+=2}e+=2}e!=t.b.length&&(i=D7(SNe,lXt,25,e,15,1),ozt(t.b,0,i,0,e),t.b=i),t.a=!0}}function Hzt(t,e){var n,i,r,o,s,a,c;for(s=gq(t.a).Kc();s.Ob();){if((o=jV(s.Pb(),17)).b.c.length>0)for(i=new JF(jV(c6(t.a,o),21)),EX(),bO(i,new Bg(e)),r=new x2(o.b,0);r.b<r.d.gc();){switch(TL(r.b<r.d.gc()),n=jV(r.d.Xb(r.c=r.b++),70),a=-1,jV(wTt(n,(VGt(),Ype)),272).g){case 1:a=i.c.length-1;break;case 0:a=Zkt(i);break;case 2:a=0}-1!=a&&(u1(a,i.c.length),WV((c=jV(i.c[a],243)).b.b,n),jV(wTt(mK(c.b.c.i),(lKt(),Zhe)),21).Fc((dRt(),lhe)),jV(wTt(mK(c.b.c.i),Zhe),21).Fc(ahe),lK(r),lct(n,mde,o))}EJ(o,null),xJ(o,null)}}function Uzt(t,e){var n,i,r,o;return n=new Ft,1==(r=2==(r=(i=jV(T5(MY(new LH(null,new d1(t.f,16)),n),D9(new X,new Z,new rt,new ot,Cat(z_(Qne,1),PYt,132,0,[(zlt(),qne),Une]))),21)).gc())?1:0)&&KI(hpt(jV(T5(IY(i.Lc(),new jt),Got(_mt(0),new nt)),162).a,2),0)&&(r=0),1==(o=2==(o=(i=jV(T5(MY(new LH(null,new d1(e.f,16)),n),D9(new X,new Z,new rt,new ot,Cat(z_(Qne,1),PYt,132,0,[qne,Une]))),21)).gc())?1:0)&&KI(hpt(jV(T5(IY(i.Lc(),new $t),Got(_mt(0),new nt)),162).a,2),0)&&(o=0),r<o?-1:r==o?0:1}function qzt(t){var e,n,i,r,o,s,a,c,l,u,h;if(c=new Ob,!PL(t,(lKt(),Whe)))return c;for(i=jV(wTt(t,Whe),15).Kc();i.Ob();)gHt(e=jV(i.Pb(),10),t),c.c[c.c.length]=e;for(r=new Wf(t.b);r.a<r.c.c.length;)for(s=new Wf(jV(Q1(r),29).a);s.a<s.c.c.length;)(o=jV(Q1(s),10)).k==(sCt(),xae)&&(a=jV(wTt(o,Ghe),10))&&(CJ(l=new ACt,o),zSt(l,jV(wTt(o,Khe),61)),u=jV(DH(a.j,0),11),EJ(h=new dZ,l),xJ(h,u));for(n=new Wf(c);n.a<n.c.c.length;)TJ(e=jV(Q1(n),10),jV(DH(t.b,t.b.c.length-1),29));return c}function Wzt(t){var e,n,i,r,o,s,a,c,l,u,h,d;for(o=Vv(kR(QPt(e=WQ(t),(VGt(),dme)))),u=0,r=0,l=new ID((!t.e&&(t.e=new cF(RMe,t,7,4)),t.e));l.e!=l.i.gc();)s=(a=YIt(c=jV(vbt(l),79)))&&o&&Vv(kR(QPt(c,fme))),d=CEt(jV(Get((!c.c&&(c.c=new cF(LMe,c,5,8)),c.c),0),82)),a&&s?++r:a&&!s?++u:XQ(d)==e||d==e?++r:++u;for(i=new ID((!t.d&&(t.d=new cF(RMe,t,8,5)),t.d));i.e!=i.i.gc();)s=(a=YIt(n=jV(vbt(i),79)))&&o&&Vv(kR(QPt(n,fme))),h=CEt(jV(Get((!n.b&&(n.b=new cF(LMe,n,4,7)),n.b),0),82)),a&&s?++u:a&&!s?++r:XQ(h)==e||h==e?++u:++r;return u-r}function Gzt(t,e){var n,i,r,o,s,a,c,l,u;if(IEt(e,"Edge splitting",1),t.b.c.length<=2)VCt(e);else{for(TL((o=new x2(t.b,0)).b<o.d.gc()),s=jV(o.d.Xb(o.c=o.b++),29);o.b<o.d.gc();)for(r=s,TL(o.b<o.d.gc()),s=jV(o.d.Xb(o.c=o.b++),29),a=new Wf(r.a);a.a<a.c.c.length;)for(c=new Wf(jV(Q1(a),10).j);c.a<c.c.c.length;)for(i=new Wf(jV(Q1(c),11).g);i.a<i.c.c.length;)(l=(n=jV(Q1(i),17)).d.i.c)!=r&&l!=s&&ULt(n,(Fd(u=new Pwt(t),(sCt(),Tae)),lct(u,(lKt(),fde),n),lct(u,(VGt(),tbe),(Yxt(),qSe)),TJ(u,s),u));VCt(e)}}function Kzt(t,e){var n,i,r,o,s,a,c,l,u;if((s=null!=e.p&&!e.b)||IEt(e,oJt,1),o=1/(n=jV(wTt(t,(lKt(),xde)),15)).gc(),e.n)for(Sz(e,"ELK Layered uses the following "+n.gc()+" modules:"),u=0,l=n.Kc();l.Ob();)Sz(e,"   Slot "+(u<10?"0":"")+u+++": "+Qk(tlt(jV(l.Pb(),51))));for(c=n.Kc();c.Ob();)jV(c.Pb(),51).pf(t,wot(e,o));for(r=new Wf(t.b);r.a<r.c.c.length;)i=jV(Q1(r),29),pat(t.a,i.a),i.a.c=D7(Mte,VKt,1,0,5,1);for(a=new Wf(t.a);a.a<a.c.c.length;)TJ(jV(Q1(a),10),null);t.b.c=D7(Mte,VKt,1,0,5,1),s||VCt(e)}function Yzt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x;r=zv(xR(wTt(e,(VGt(),Nme)))),d=4,o=3,k=20/(_=jV(wTt(e,Dbe),19).a),f=!1,l=0,a=LKt;do{for(s=1!=l,h=0!=l,x=0,w=0,v=(m=t.a).length;w<v;++w)(g=m[w]).f=null,$qt(t,g,s,h,r),x+=i.Math.abs(g.a);do{c=qjt(t,e)}while(c);for(b=0,y=(p=t.a).length;b<y;++b)if(0!=(n=dW(g=p[b]).a))for(u=new Wf(g.e);u.a<u.c.c.length;)jV(Q1(u),10).n.b+=n;0==l||1==l?--d<=0&&(x<a||-d>_)?(l=2,a=LKt):0==l?(l=1,a=x):(l=0,a=x):(f=x>=a||a-x<k,a=x,f&&--o)}while(!(f&&o<=0))}function Xzt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f,g;for(g=new Db,o=t.a.ec().Kc();o.Ob();)GK(g,i=jV(o.Pb(),168),n.Je(i));for(wG(t),bO(s=t?new JF(t):$V(t.a.ec().Kc()),new _g(g)),a=E5(s),c=new CO(e),_St((f=new Db).f,e,c);0!=a.a.gc();){for(l=null,u=null,h=null,r=a.a.ec().Kc();r.Ob();)if(i=jV(r.Pb(),168),zv(xR(VI(IZ(g.f,i))))<=RXt){if(cW(f,i.a)&&!cW(f,i.b)){u=i.b,h=i.a,l=i;break}if(cW(f,i.b)&&!cW(f,i.a)){u=i.a,h=i.b,l=i;break}}if(!l)break;d=new CO(u),WV(jV(VI(IZ(f.f,h)),221).a,d),_St(f.f,u,d),a.a.Bc(l)}return c}function Zzt(t,e,n){var i,r,o,s,a,c,l,u;for(IEt(n,"Depth-first cycle removal",1),c=(l=e.a).c.length,t.c=new Ob,t.d=D7(INe,QZt,25,c,16,1),t.a=D7(INe,QZt,25,c,16,1),t.b=new Ob,o=0,a=new Wf(l);a.a<a.c.c.length;)(s=jV(Q1(a),10)).p=o,c3(uft(s))&&WV(t.c,s),++o;for(u=new Wf(t.c);u.a<u.c.c.length;)HAt(t,jV(Q1(u),10));for(r=0;r<c;r++)t.d[r]||(u1(r,l.c.length),HAt(t,jV(l.c[r],10)));for(i=new Wf(t.b);i.a<i.c.c.length;)tVt(jV(Q1(i),17),!0),lct(e,(lKt(),Vhe),(cN(),!0));t.c=null,t.d=null,t.a=null,t.b=null,VCt(n)}function Qzt(t,e){var n,i,r,o,s,a,c;for(t.a.c=D7(Mte,VKt,1,0,5,1),i=cbt(e.b,0);i.b!=i.d.c;)0==(n=jV(h3(i),86)).b.b&&(lct(n,(zHt(),f_e),(cN(),!0)),WV(t.a,n));switch(t.a.c.length){case 0:lct(r=new rlt(0,e,"DUMMY_ROOT"),(zHt(),f_e),(cN(),!0)),lct(r,t_e,!0),Nz(e.b,r);break;case 1:break;default:for(o=new rlt(0,e,"SUPER_ROOT"),a=new Wf(t.a);a.a<a.c.c.length;)lct(c=new UX(o,s=jV(Q1(a),86)),(zHt(),t_e),(cN(),!0)),Nz(o.a.a,c),Nz(o.d,c),Nz(s.b,c),lct(s,f_e,!1);lct(o,(zHt(),f_e),(cN(),!0)),lct(o,t_e,!0),Nz(e.b,o)}}function Jzt(t,e){var n,r,o,s,a,c;return _Rt(),s=e.c-(t.c+t.b),o=t.c-(e.c+e.b),a=t.d-(e.d+e.a),n=e.d-(t.d+t.a),r=i.Math.max(o,s),c=i.Math.max(a,n),cO(),iit(M3t),(i.Math.abs(r)<=M3t||0==r||isNaN(r)&&isNaN(0)?0:r<0?-1:r>0?1:HM(isNaN(r),isNaN(0)))>=0^(iit(M3t),(i.Math.abs(c)<=M3t||0==c||isNaN(c)&&isNaN(0)?0:c<0?-1:c>0?1:HM(isNaN(c),isNaN(0)))>=0)?i.Math.max(c,r):(iit(M3t),(i.Math.abs(r)<=M3t||0==r||isNaN(r)&&isNaN(0)?0:r<0?-1:r>0?1:HM(isNaN(r),isNaN(0)))>0?i.Math.sqrt(c*c+r*r):-i.Math.sqrt(c*c+r*r))}function tHt(t,e){var n,i,r,o,s;if(e)if(!t.a&&(t.a=new Bw),2!=t.e)if(1!=e.e)0!=(s=t.a.a.c.length)?0!=(o=jV(hK(t.a,s-1),117)).e&&10!=o.e||0!=e.e&&10!=e.e?Cw(t.a,e):(0==e.e||e.bm().length,0==o.e?(n=new T_,(i=o._l())>=$Xt?iM(n,Wdt(i)):OG(n,i&YYt),o=new mQ(10,null,0),yW(t.a,o,s-1)):(o.bm().length,iM(n=new T_,o.bm())),0==e.e?(i=e._l())>=$Xt?iM(n,Wdt(i)):OG(n,i&YYt):iM(n,e.bm()),jV(o,521).b=n.a):Cw(t.a,e);else for(r=0;r<e.em();r++)tHt(t,e.am(r));else Cw(t.a,e)}function eHt(t){var e,n,i,r,o;return null!=t.g?t.g:t.a<32?(t.g=LWt(ust(t.f),CQ(t.e)),t.g):(r=zGt((!t.c&&(t.c=yut(t.f)),t.c),0),0==t.e?r:(e=(!t.c&&(t.c=yut(t.f)),t.c).e<0?2:1,n=r.length,i=-t.e+n-e,(o=new C_).a+=""+r,t.e>0&&i>=-6?i>=0?yJ(o,n-CQ(t.e),String.fromCharCode(46)):(o.a=lL(o.a,0,e-1)+"0."+QI(o.a,e-1),yJ(o,e+1,$pt(zee,0,-CQ(i)-1))):(n-e>=1&&(yJ(o,e,String.fromCharCode(46)),++n),yJ(o,n,String.fromCharCode(69)),i>0&&yJ(o,++n,String.fromCharCode(43)),yJ(o,++n,""+mq(ust(i)))),t.g=o.a,t.g))}function nHt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f;if(!n.dc()){for(s=0,u=0,d=jV((i=n.Kc()).Pb(),19).a;s<e.f;){if(s==d&&(u=0,d=i.Ob()?jV(i.Pb(),19).a:e.f+1),s!=u)for(f=jV(DH(t.b,s),29),h=jV(DH(t.b,u),29),l=new Wf(r0(f.a));l.a<l.c.c.length;)if(Yvt(c=jV(Q1(l),10),h.a.c.length,h),0==u)for(o=new Wf(r0(uft(c)));o.a<o.c.c.length;)tVt(r=jV(Q1(o),17),!0),lct(t,(lKt(),Vhe),(cN(),!0)),nUt(t,r,1);++u,++s}for(a=new x2(t.b,0);a.b<a.d.gc();)TL(a.b<a.d.gc()),0==jV(a.d.Xb(a.c=a.b++),29).a.c.length&&lK(a)}}function iHt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y;for(u=(s=e.b).o,c=s.d,i=zv(xR(pbt(s,(VGt(),wbe)))),r=zv(xR(pbt(s,vbe))),l=zv(xR(pbt(s,Mbe))),nz(a=new ly,c.d,c.c,c.a,c.b),d=EBt(e,i,r,l),b=new Wf(e.d);b.a<b.c.c.length;){for(g=(m=jV(Q1(b),101)).f.a.ec().Kc();g.Ob();)o=(f=jV(g.Pb(),409)).a,h=kEt(f),w=new yy,dEt(f,f.c,d,w),jTt(f,h,d,w),dEt(f,f.d,d,w),n=w,n=t.Uf(f,h,n),wX(o.a),jrt(o.a,n),XE(new LH(null,new d1(n,16)),new dA(u,a));(p=m.i)&&(oEt(m,p,d,r),mmt(u,a,y=new dP(p.g)),UB(y,p.j),mmt(u,a,y))}nz(c,a.d,a.c,a.a,a.b)}function rHt(t,e,n){var i,r,o;if((r=jV(wTt(e,(VGt(),Tpe)),275))!=(ZTt(),ihe)){switch(IEt(n,"Horizontal Compaction",1),t.a=e,G_(i=new yMt(((o=new A9).d=e,o.c=jV(wTt(o.d,Zpe),218),qRt(o),TUt(o),cBt(o),o.a)),t.b),1===jV(wTt(e,Epe),422).g?W_(i,new prt(t.a)):W_(i,(CX(),lie)),r.g){case 1:AOt(i);break;case 2:AOt(xqt(i,(jht(),FAe)));break;case 3:AOt(U_(xqt(AOt(i),(jht(),FAe)),new mr));break;case 4:AOt(U_(xqt(AOt(i),(jht(),FAe)),new yp(o)));break;case 5:AOt(q_(i,dle))}xqt(i,(jht(),BAe)),i.e=!0,Oqt(o),VCt(n)}}function oHt(t,e,n,i,r,o,s,a){var c,l,u,h;switch(c=o6(Cat(z_(Fxe,1),VKt,220,0,[e,n,i,r])),h=null,t.b.g){case 1:h=o6(Cat(z_(Jke,1),VKt,526,0,[new Js,new Zs,new Qs]));break;case 0:h=o6(Cat(z_(Jke,1),VKt,526,0,[new Qs,new Zs,new Js]));break;case 2:h=o6(Cat(z_(Jke,1),VKt,526,0,[new Zs,new Js,new Qs]))}for(u=new Wf(h);u.a<u.c.c.length;)l=jV(Q1(u),526),c.c.length>1&&(c=l.mg(c,t.a,a));return 1==c.c.length?jV(DH(c,c.c.length-1),220):2==c.c.length?jzt((u1(0,c.c.length),jV(c.c[0],220)),(u1(1,c.c.length),jV(c.c[1],220)),s,o):null}function sHt(t){var e,n,r,o,s,a;for(Iet(t.a,new Jt),n=new Wf(t.a);n.a<n.c.c.length;)e=jV(Q1(n),221),r=qB(jO(jV(t.b,65).c),jV(e.b,65).c),toe?(a=jV(t.b,65).b,s=jV(e.b,65).b,i.Math.abs(r.a)>=i.Math.abs(r.b)?(r.b=0,s.d+s.a>a.d&&s.d<a.d+a.a&&Oz(r,i.Math.max(a.c-(s.c+s.b),s.c-(a.c+a.b)))):(r.a=0,s.c+s.b>a.c&&s.c<a.c+a.b&&Oz(r,i.Math.max(a.d-(s.d+s.a),s.d-(a.d+a.a))))):Oz(r,x$t(jV(t.b,65),jV(e.b,65))),o=i.Math.sqrt(r.a*r.a+r.b*r.b),Oz(r,o=Vxt(Wre,e,o,r)),PU(jV(e.b,65),r),Iet(e.a,new Ig(r)),jV(Wre.b,65),R7(Wre,Gre,e)}function aHt(t){var e,n,r,o,s,a,c,l,h,d,f,g;for(t.f=new Fw,c=0,r=0,o=new Wf(t.e.b);o.a<o.c.c.length;)for(a=new Wf(jV(Q1(o),29).a);a.a<a.c.c.length;){for((s=jV(Q1(a),10)).p=c++,n=new sq(ZD(hft(s).a.Kc(),new u));gPt(n);)jV(U4(n),17).p=r++;for(e=Mzt(s),d=new Wf(s.j);d.a<d.c.c.length;)h=jV(Q1(d),11),e&&(g=h.a.b)!=i.Math.floor(g)&&(l=g-v2(ust(i.Math.round(g))),h.a.b-=l),(f=h.n.b+h.a.b)!=i.Math.floor(f)&&(l=f-v2(ust(i.Math.round(f))),h.n.b-=l)}t.g=c,t.b=r,t.i=D7(tve,VKt,401,c,0,1),t.c=D7(Xye,VKt,649,r,0,1),t.d.a.$b()}function cHt(t){var e,n,i,r,o,s,a,c,l;if(t.ej())if(c=t.fj(),t.i>0){if(e=new NI(t.i,t.g),o=(n=t.i)<100?null:new Fk(n),t.ij())for(i=0;i<t.i;++i)s=t.g[i],o=t.kj(s,o);if(r6(t),r=1==n?t.Zi(4,Get(e,0),null,0,c):t.Zi(6,e,null,-1,c),t.bj()){for(i=new rL(e);i.e!=i.i.gc();)o=t.dj(_bt(i),o);o?(o.Ei(r),o.Fi()):t.$i(r)}else o?(o.Ei(r),o.Fi()):t.$i(r)}else r6(t),t.$i(t.Zi(6,(EX(),cne),null,-1,c));else if(t.bj())if(t.i>0){for(a=t.g,l=t.i,r6(t),o=l<100?null:new Fk(l),i=0;i<l;++i)s=a[i],o=t.dj(s,o);o&&o.Fi()}else r6(t);else r6(t)}function lHt(t,e,n){var r,o,s,a,c,l,u,h,d;for(Fst(this),n==(fQ(),Pve)?kW(this.r,t):kW(this.w,t),h=RXt,u=BXt,a=e.a.ec().Kc();a.Ob();)o=jV(a.Pb(),46),c=jV(o.a,455),(l=(r=jV(o.b,17)).c)==t&&(l=r.d),kW(c==Pve?this.r:this.w,l),d=(vWt(),wIe).Hc(l.j)?zv(xR(wTt(l,(lKt(),Pde)))):Mct(Cat(z_(TTe,1),cYt,8,0,[l.i.n,l.n,l.a])).b,h=i.Math.min(h,d),u=i.Math.max(u,d);for(WTt(this,(vWt(),wIe).Hc(t.j)?zv(xR(wTt(t,(lKt(),Pde)))):Mct(Cat(z_(TTe,1),cYt,8,0,[t.i.n,t.n,t.a])).b,h,u),s=e.a.ec().Kc();s.Ob();)o=jV(s.Pb(),46),tAt(this,jV(o.b,17));this.o=!1}function uHt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y;return n=8191&t.l,i=t.l>>13|(15&t.m)<<9,r=t.m>>4&8191,o=t.m>>17|(255&t.h)<<5,s=(1048320&t.h)>>8,m=i*(a=8191&e.l),b=r*a,w=o*a,y=s*a,0!=(c=e.l>>13|(15&e.m)<<9)&&(m+=n*c,b+=i*c,w+=r*c,y+=o*c),0!=(l=e.m>>4&8191)&&(b+=n*l,w+=i*l,y+=r*l),0!=(u=e.m>>17|(255&e.h)<<5)&&(w+=n*u,y+=i*u),0!=(h=(1048320&e.h)>>8)&&(y+=n*h),f=((p=n*a)>>22)+(m>>9)+((262143&b)<<4)+((31&w)<<17),g=(b>>18)+(w>>5)+((4095&y)<<8),g+=(f+=(d=(p&TXt)+((511&m)<<13))>>22)>>22,xO(d&=TXt,f&=TXt,g&=CXt)}function hHt(t){var e,n,r,o,s,a,c;if(0!=(c=jV(DH(t.j,0),11)).g.c.length&&0!=c.e.c.length)throw $b(new Fv("Interactive layout does not support NORTH/SOUTH ports with incoming _and_ outgoing edges."));if(0!=c.g.c.length){for(s=RXt,n=new Wf(c.g);n.a<n.c.c.length;)e=jV(Q1(n),17),r=jV(wTt(a=e.d.i,(VGt(),Cme)),142),s=i.Math.min(s,a.n.a-r.b);return new $h(wG(s))}if(0!=c.e.c.length){for(o=BXt,n=new Wf(c.e);n.a<n.c.c.length;)e=jV(Q1(n),17),r=jV(wTt(a=e.c.i,(VGt(),Cme)),142),o=i.Math.max(o,a.n.a+a.o.a+r.c);return new $h(wG(o))}return ev(),ev(),Ite}function dHt(t,e){var n,i,r,o,s,a;if(t.Fk()){if(t.i>4){if(!t.wj(e))return!1;if(t.rk()){if(a=(n=(i=jV(e,49)).Ug())==t.e&&(t.Dk()?i.Og(i.Vg(),t.zk())==t.Ak():-1-i.Vg()==t.aj()),t.Ek()&&!a&&!n&&i.Zg())for(r=0;r<t.i;++r)if(zI(t.Gk(jV(t.g[r],56)))===zI(e))return!0;return a}if(t.Dk()&&!t.Ck()){if(zI(o=jV(e,56).ah(Awt(jV(t.ak(),18))))===zI(t.e))return!0;if(null==o||!jV(o,56).kh())return!1}}if(s=Tkt(t,e),t.Ek()&&!s)for(r=0;r<t.i;++r)if(zI(i=t.Gk(jV(t.g[r],56)))===zI(e))return!0;return s}return Tkt(t,e)}function fHt(t,e){var n,i,r,o,s,a,c,l,u,h,d;for(u=new Ob,d=new Lw,s=e.b,r=0;r<s.c.length;r++){for(l=(u1(r,s.c.length),jV(s.c[r],29)).a,u.c=D7(Mte,VKt,1,0,5,1),o=0;o<l.c.length;o++)(a=t.a[r][o]).p=o,a.k==(sCt(),Aae)&&(u.c[u.c.length]=a),i4(jV(DH(e.b,r),29).a,o,a),a.j.c=D7(Mte,VKt,1,0,5,1),pat(a.j,jV(jV(DH(t.b,r),15).Xb(o),14)),PF(jV(wTt(a,(VGt(),tbe)),98))||lct(a,tbe,(Yxt(),USe));for(i=new Wf(u);i.a<i.c.c.length;)h=YBt(n=jV(Q1(i),10)),d.a.zc(h,d),d.a.zc(n,d)}for(c=d.a.ec().Kc();c.Ob();)a=jV(c.Pb(),10),EX(),bO(a.j,(Ult(),ale)),a.i=!0,eIt(a)}function gHt(t,e){var n,i,r,o,s,a,c,l,u,h;if(u=jV(wTt(t,(lKt(),Khe)),61),i=jV(DH(t.j,0),11),u==(vWt(),aIe)?zSt(i,EIe):u==EIe&&zSt(i,aIe),jV(wTt(e,(VGt(),Fme)),174).Hc((wpt(),BIe))){if(c=zv(xR(wTt(t,Cbe))),l=zv(xR(wTt(t,Abe))),s=zv(xR(wTt(t,Ebe))),(a=jV(wTt(e,ibe),21)).Hc((hIt(),tIe)))for(n=l,h=t.o.a/2-i.n.a,o=new Wf(i.f);o.a<o.c.c.length;)(r=jV(Q1(o),70)).n.b=n,r.n.a=h-r.o.a/2,n+=r.o.b+s;else if(a.Hc(nIe))for(o=new Wf(i.f);o.a<o.c.c.length;)(r=jV(Q1(o),70)).n.a=c+t.o.a-i.n.a;l0(new Tg((gT(),new $Y(e,!1,!1,new je))),new Bj(null,t,!1))}}function pHt(t,e){var n,r,o,s,a,c,l;if(0!=e.c.length){for(EX(),wU(e.c,e.c.length,null),r=jV(Q1(o=new Wf(e)),145);o.a<o.c.c.length;)n=jV(Q1(o),145),!ont(r.e.c,n.e.c)||Bpt(jR(r.e).b,n.e.d)||Bpt(jR(n.e).b,r.e.d)?(e$t(t,r),r=n):(pat(r.k,n.k),pat(r.b,n.b),pat(r.c,n.c),jrt(r.i,n.i),pat(r.d,n.d),pat(r.j,n.j),s=i.Math.min(r.e.c,n.e.c),a=i.Math.min(r.e.d,n.e.d),c=i.Math.max(r.e.c+r.e.b,n.e.c+n.e.b)-s,l=i.Math.max(r.e.d+r.e.a,n.e.d+n.e.a)-a,Dz(r.e,s,a,c,l),J1(r.f,n.f),!r.a&&(r.a=n.a),pat(r.g,n.g),WV(r.g,n));e$t(t,r)}}function mHt(t,e,n,i){var r,o,s,a,c,l;if((a=t.j)==(vWt(),TIe)&&e!=(Yxt(),KSe)&&e!=(Yxt(),YSe)&&(zSt(t,a=Ujt(t,n)),!(t.q?t.q:(EX(),EX(),lne))._b((VGt(),Jme))&&a!=TIe&&(0!=t.n.a||0!=t.n.b)&&lct(t,Jme,__t(t,a))),e==(Yxt(),WSe)){switch(l=0,a.g){case 1:case 3:(o=t.i.o.a)>0&&(l=t.n.a/o);break;case 2:case 4:(r=t.i.o.b)>0&&(l=t.n.b/r)}lct(t,(lKt(),kde),l)}if(c=t.o,s=t.a,i)s.a=i.a,s.b=i.b,t.d=!0;else if(e!=KSe&&e!=YSe&&a!=TIe)switch(a.g){case 1:s.a=c.a/2;break;case 2:s.a=c.a,s.b=c.b/2;break;case 3:s.a=c.a/2,s.b=c.b;break;case 4:s.b=c.b/2}else s.a=c.a/2,s.b=c.b/2}function bHt(t){var e,n,i,r,o,s,a,c,l,u;if(t.ej())if(u=t.Vi(),c=t.fj(),u>0)if(e=new _ot(t.Gi()),o=(n=u)<100?null:new Fk(n),XR(t,n,e.g),r=1==n?t.Zi(4,Get(e,0),null,0,c):t.Zi(6,e,null,-1,c),t.bj()){for(i=new ID(e);i.e!=i.i.gc();)o=t.dj(vbt(i),o);o?(o.Ei(r),o.Fi()):t.$i(r)}else o?(o.Ei(r),o.Fi()):t.$i(r);else XR(t,t.Vi(),t.Wi()),t.$i(t.Zi(6,(EX(),cne),null,-1,c));else if(t.bj())if((u=t.Vi())>0){for(a=t.Wi(),l=u,XR(t,u,a),o=l<100?null:new Fk(l),i=0;i<l;++i)s=a[i],o=t.dj(s,o);o&&o.Fi()}else XR(t,t.Vi(),t.Wi());else XR(t,t.Vi(),t.Wi())}function wHt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f;for(a=new Wf(e);a.a<a.c.c.length;)(o=jV(Q1(a),233)).e=null,o.c=0;for(c=null,s=new Wf(e);s.a<s.c.c.length;)if(h=(o=jV(Q1(s),233)).d[0],!n||h.k==(sCt(),Cae)){for(f=jV(wTt(h,(lKt(),ide)),15).Kc();f.Ob();)d=jV(f.Pb(),10),n&&d.k!=(sCt(),Cae)||((!o.e&&(o.e=new Ob),o.e).Fc(t.b[d.c.p][d.p]),++t.b[d.c.p][d.p].c);if(!n&&h.k==(sCt(),Cae)){if(c)for(u=jV(c6(t.d,c),21).Kc();u.Ob();)for(l=jV(u.Pb(),10),r=jV(c6(t.d,h),21).Kc();r.Ob();)i=jV(r.Pb(),10),UV(t.b[l.c.p][l.p]).Fc(t.b[i.c.p][i.p]),++t.b[i.c.p][i.p].c;c=h}}}function yHt(t,e){var n,i,r,o,s,a,c;for(n=0,c=new Ob,o=new Wf(e);o.a<o.c.c.length;){switch(r=jV(Q1(o),11),Jlt(t.b,t.d[r.p]),c.c=D7(Mte,VKt,1,0,5,1),r.i.k.g){case 0:Iet(jV(wTt(r,(lKt(),_de)),10).j,new Zp(c));break;case 1:EO(Yct(IY(new LH(null,new d1(r.i.j,16)),new Qp(r))),new Jp(c));break;case 3:WV(c,new nI(jV(wTt(r,(lKt(),fde)),11),ndt(r.e.c.length+r.g.c.length)))}for(a=new Wf(c);a.a<a.c.c.length;)s=jV(Q1(a),46),(i=xx(t,jV(s.a,11)))>t.d[r.p]&&(n+=Q5(t.b,i)*jV(s.b,19).a,f3(t.a,ndt(i)));for(;!Wv(t.a);)xtt(t.b,jV(fW(t.a),19).a)}return n}function vHt(t,e,n,r){var o,s,a,c,l,u,h,d,f,g;for((h=new dP(jV(QPt(t,(TTt(),$Te)),8))).a=i.Math.max(h.a-n.b-n.c,0),h.b=i.Math.max(h.b-n.d-n.a,0),(null==(o=xR(QPt(t,NTe)))||(yK(o),o<=0))&&(o=1.3),a=new Ob,d=new ID((!t.a&&(t.a=new tW(HMe,t,10,11)),t.a));d.e!=d.i.gc();)s=new HL(jV(vbt(d),33)),a.c[a.c.length]=s;switch(jV(QPt(t,LTe),311).g){case 3:g=o$t(a,e,h.a,h.b,(l=r,yK(o),l));break;case 1:g=bVt(a,e,h.a,h.b,(u=r,yK(o),u));break;default:g=EHt(a,e,h.a,h.b,(c=r,yK(o),c))}BWt(t,(f=yGt(new Het(g),e,n,h.a,h.b,r,(yK(o),o))).a,f.b,!1,!0)}function _Ht(t,e){var n,i,r,o;o=new JF((n=e.b).j),r=0,(i=n.j).c=D7(Mte,VKt,1,0,5,1),tG(jV(pst(t.b,(vWt(),aIe),(Art(),Lle)),15),n),r=Zyt(o,r,new Lr,i),tG(jV(pst(t.b,aIe,Nle),15),n),r=Zyt(o,r,new Nr,i),tG(jV(pst(t.b,aIe,Dle),15),n),tG(jV(pst(t.b,sIe,Lle),15),n),tG(jV(pst(t.b,sIe,Nle),15),n),r=Zyt(o,r,new Rr,i),tG(jV(pst(t.b,sIe,Dle),15),n),tG(jV(pst(t.b,EIe,Lle),15),n),r=Zyt(o,r,new Br,i),tG(jV(pst(t.b,EIe,Nle),15),n),r=Zyt(o,r,new Fr,i),tG(jV(pst(t.b,EIe,Dle),15),n),tG(jV(pst(t.b,CIe,Lle),15),n),r=Zyt(o,r,new Xr,i),tG(jV(pst(t.b,CIe,Nle),15),n),tG(jV(pst(t.b,CIe,Dle),15),n)}function kHt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m;for(IEt(e,"Layer size calculation",1),h=RXt,u=BXt,o=!1,c=new Wf(t.b);c.a<c.c.c.length;)if((l=(a=jV(Q1(c),29)).c).a=0,l.b=0,0!=a.a.c.length){for(o=!0,f=new Wf(a.a);f.a<f.c.c.length;)p=(d=jV(Q1(f),10)).o,g=d.d,l.a=i.Math.max(l.a,p.a+g.b+g.c);m=(r=jV(DH(a.a,0),10)).n.b-r.d.d,r.k==(sCt(),xae)&&(m-=jV(wTt(t,(VGt(),Pbe)),142).d),n=(s=jV(DH(a.a,a.a.c.length-1),10)).n.b+s.o.b+s.d.a,s.k==xae&&(n+=jV(wTt(t,(VGt(),Pbe)),142).a),l.b=n-m,h=i.Math.min(h,m),u=i.Math.max(u,n)}o||(h=0,u=0),t.f.b=u-h,t.c.b-=h,VCt(e)}function xHt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m,b;for(o=0,s=0,l=new Wf(t.a);l.a<l.c.c.length;)a=jV(Q1(l),10),o=i.Math.max(o,a.d.b),s=i.Math.max(s,a.d.c);for(c=new Wf(t.a);c.a<c.c.c.length;){switch(a=jV(Q1(c),10),jV(wTt(a,(VGt(),ype)),248).g){case 1:g=0;break;case 2:g=1;break;case 5:g=.5;break;default:for(n=0,h=0,f=new Wf(a.j);f.a<f.c.c.length;)0==(d=jV(Q1(f),11)).e.c.length||++n,0==d.g.c.length||++h;g=n+h==0?.5:h/(n+h)}m=t.c,u=a.o.a,b=(m.a-u)*g,g>.5?b-=2*s*(g-.5):g<.5&&(b+=2*o*(.5-g)),b<(r=a.d.b)&&(b=r),p=a.d.c,b>m.a-p-u&&(b=m.a-p-u),a.n.a=e+b}}function EHt(t,e,n,i,r){var o,s,a,c,l,u,h,d,f;for(a=D7(ONe,zXt,25,t.c.length,15,1),n_t(d=new qq(new Ga),t),l=0,f=new Ob;0!=d.b.c.length;)if(s=jV(0==d.b.c.length?null:DH(d.b,0),157),l>1&&eU(s)*tU(s)/2>a[0]){for(o=0;o<f.c.length-1&&eU(s)*tU(s)/2>a[o];)++o;h=new Het(new a1(f,0,o+1)),u=eU(s)/tU(s),c=yGt(h,e,new hy,n,i,r,u),UB(yM(h.e),c),F7(eTt(d,h)),n_t(d,new a1(f,o+1,f.c.length)),f.c=D7(Mte,VKt,1,0,5,1),l=0,vU(a,a.length,0)}else null!=(0==d.b.c.length?null:DH(d.b,0))&&lrt(d,0),l>0&&(a[l]=a[l-1]),a[l]+=eU(s)*tU(s),++l,f.c[f.c.length]=s;return f}function THt(t){var e,n,i;if((n=jV(wTt(t,(VGt(),yme)),163))==(xft(),Fde)){for(e=new sq(ZD(uft(t).a.Kc(),new u));gPt(e);)if(!q4(jV(U4(e),17)))throw $b(new n_(C1t+pvt(t)+"' has its layer constraint set to FIRST_SEPARATE, but has at least one incoming edge. FIRST_SEPARATE nodes must not have incoming edges."))}else if(n==$de)for(i=new sq(ZD(hft(t).a.Kc(),new u));gPt(i);)if(!q4(jV(U4(i),17)))throw $b(new n_(C1t+pvt(t)+"' has its layer constraint set to LAST_SEPARATE, but has at least one outgoing edge. LAST_SEPARATE nodes must not have outgoing edges."))}function CHt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f;for(IEt(e,"Label dummy removal",1),i=zv(xR(wTt(t,(VGt(),vbe)))),r=zv(xR(wTt(t,Ebe))),c=jV(wTt(t,Upe),103),a=new Wf(t.b);a.a<a.c.c.length;)for(u=new x2(jV(Q1(a),29).a,0);u.b<u.d.gc();)TL(u.b<u.d.gc()),(l=jV(u.d.Xb(u.c=u.b++),10)).k==(sCt(),Eae)&&(h=jV(wTt(l,(lKt(),fde)),17),f=zv(xR(wTt(h,rme))),s=zI(wTt(l,ode))===zI((Wvt(),_Se)),n=new dP(l.n),s&&(n.b+=f+i),o=new DS(l.o.a,l.o.b-f-i),d=jV(wTt(l,Tde),15),c==(jht(),$Ae)||c==RAe?MRt(d,n,r,o,s,c):zut(d,n,r,o),pat(h.b,d),iUt(l,zI(wTt(t,Zpe))===zI((Eft(),YAe))),lK(u));VCt(e)}function AHt(t,e,n,i){var r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v;for(a=new Ob,r=new Wf(e.a);r.a<r.c.c.length;)for(s=new Wf(jV(Q1(r),10).j);s.a<s.c.c.length;){for(l=null,y=0,v=(w=Z0((o=jV(Q1(s),11)).g)).length;y<v;++y)fst((b=w[y]).d.i,n)||((m=Ozt(t,e,n,b,b.c,(oit(),Vwe),l))!=l&&(a.c[a.c.length]=m),m.c&&(l=m));for(c=null,g=0,p=(f=Z0(o.e)).length;g<p;++g)fst((d=f[g]).c.i,n)||((m=Ozt(t,e,n,d,d.d,(oit(),$we),c))!=c&&(a.c[a.c.length]=m),m.c&&(c=m))}for(h=new Wf(a);h.a<h.c.c.length;)u=jV(Q1(h),441),-1!=_9(e.a,u.a,0)||WV(e.a,u.a),u.c&&(i.c[i.c.length]=u)}function SHt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f,g;for(IEt(n,"Interactive cycle breaking",1),u=new Ob,d=new Wf(e.a);d.a<d.c.c.length;)for((h=jV(Q1(d),10)).p=1,f=jkt(h).a,l=Ngt(h,(oit(),Vwe)).Kc();l.Ob();)for(o=new Wf(jV(l.Pb(),11).g);o.a<o.c.c.length;)(g=(i=jV(Q1(o),17)).d.i)!=h&&jkt(g).a<f&&(u.c[u.c.length]=i);for(s=new Wf(u);s.a<s.c.c.length;)tVt(i=jV(Q1(s),17),!0);for(u.c=D7(Mte,VKt,1,0,5,1),c=new Wf(e.a);c.a<c.c.c.length;)(a=jV(Q1(c),10)).p>0&&hAt(t,a,u);for(r=new Wf(u);r.a<r.c.c.length;)tVt(i=jV(Q1(r),17),!0);u.c=D7(Mte,VKt,1,0,5,1),VCt(n)}function IHt(t,e){var n,i,r,o,s,a,c,l,u;return l="",0==e.length?t.de(WYt,UYt,-1,-1):(bF((u=RTt(e)).substr(0,3),"at ")&&(u=u.substr(3)),-1==(s=(u=u.replace(/\[.*?\]/g,"")).indexOf("("))?-1==(s=u.indexOf("@"))?(l=u,u=""):(l=RTt(u.substr(s+1)),u=RTt(u.substr(0,s))):(n=u.indexOf(")",s),l=u.substr(s+1,n-(s+1)),u=RTt(u.substr(0,s))),-1!=(s=zM(u,XEt(46)))&&(u=u.substr(s+1)),(0==u.length||bF(u,"Anonymous function"))&&(u=UYt),a=bN(l,XEt(58)),r=xF(l,XEt(58),a-1),c=-1,i=-1,o=WYt,-1!=a&&-1!=r&&(o=l.substr(0,r),c=cL(l.substr(r+1,a-(r+1))),i=cL(l.substr(a+1))),t.de(o,u,c,i))}function MHt(t,e,n){var i,r,o,s,a,c;if(0==e.l&&0==e.m&&0==e.h)throw $b(new Sv("divide by zero"));if(0==t.l&&0==t.m&&0==t.h)return n&&(hee=xO(0,0,0)),xO(0,0,0);if(e.h==AXt&&0==e.m&&0==e.l)return jft(t,n);if(c=!1,e.h>>19&&(e=oct(e),c=!c),s=IDt(e),o=!1,r=!1,i=!1,t.h==AXt&&0==t.m&&0==t.l){if(r=!0,o=!0,-1!=s)return a=_Pt(t,s),c&&Ict(a),n&&(hee=xO(0,0,0)),a;t=WM((q9(),dee)),i=!0,c=!c}else t.h>>19&&(o=!0,t=oct(t),i=!0,c=!c);return-1!=s?$ct(t,s,c,o,n):B_t(t,e)<0?(n&&(hee=o?oct(t):xO(t.l,t.m,t.h)),xO(0,0,0)):ljt(i?t:xO(t.l,t.m,t.h),e,c,o,r,n)}function PHt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g;if(t.e&&t.c.c<t.f)throw $b(new Fv("Expected "+t.f+" phases to be configured; only found "+t.c.c));for(u=jV(Gk(t.g),9),f=aL(t.f),a=0,l=(o=u).length;a<l;++a)(h=jV(N9(t,(i=o[a]).g),246))?WV(f,jV(agt(t,h),123)):f.c[f.c.length]=null;for(g=new j2,XE(IY(MY(IY(new LH(null,new d1(f,16)),new ha),new _m(e)),new da),new km(g)),Zot(g,t.a),n=new Ob,s=0,c=(r=u).length;s<c;++s)pat(n,kat(t,XX(jV(N9(g,(i=r[s]).g),20)))),(d=jV(DH(f,i.g),123))&&(n.c[n.c.length]=d);return pat(n,kat(t,XX(jV(N9(g,u[u.length-1].g+1),20)))),n}function OHt(t,e,n){var r,o,s,a,c,l,u,h,d,f,g;for(IEt(n,"Model order cycle breaking",1),t.a=0,t.b=0,d=new Ob,u=e.a.c.length,l=new Wf(e.a);l.a<l.c.c.length;)PL(c=jV(Q1(l),10),(lKt(),dde))&&(u=i.Math.max(u,jV(wTt(c,dde),19).a+1));for(g=new Wf(e.a);g.a<g.c.c.length;)for(a=UAt(t,f=jV(Q1(g),10),u),h=Ngt(f,(oit(),Vwe)).Kc();h.Ob();)for(s=new Wf(jV(h.Pb(),11).g);s.a<s.c.c.length;)UAt(t,(r=jV(Q1(s),17)).d.i,u)<a&&(d.c[d.c.length]=r);for(o=new Wf(d);o.a<o.c.c.length;)tVt(r=jV(Q1(o),17),!0),lct(e,(lKt(),Vhe),(cN(),!0));d.c=D7(Mte,VKt,1,0,5,1),VCt(n)}function DHt(t,e){var n,i,r,o,s,a,c;if(!(t.g>e.f||e.g>t.f)){for(n=0,i=0,s=t.w.a.ec().Kc();s.Ob();)r=jV(s.Pb(),11),mut(Mct(Cat(z_(TTe,1),cYt,8,0,[r.i.n,r.n,r.a])).b,e.g,e.f)&&++n;for(a=t.r.a.ec().Kc();a.Ob();)r=jV(a.Pb(),11),mut(Mct(Cat(z_(TTe,1),cYt,8,0,[r.i.n,r.n,r.a])).b,e.g,e.f)&&--n;for(c=e.w.a.ec().Kc();c.Ob();)r=jV(c.Pb(),11),mut(Mct(Cat(z_(TTe,1),cYt,8,0,[r.i.n,r.n,r.a])).b,t.g,t.f)&&++i;for(o=e.r.a.ec().Kc();o.Ob();)r=jV(o.Pb(),11),mut(Mct(Cat(z_(TTe,1),cYt,8,0,[r.i.n,r.n,r.a])).b,t.g,t.f)&&--i;n<i?new E6(t,e,i-n):i<n?new E6(e,t,n-i):(new E6(e,t,0),new E6(t,e,0))}}function NHt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w;for(l=e.c,r=KP(t.e),h=yD(jL(jO(GP(t.e)),t.d*t.a,t.c*t.b),-.5),n=r.a-h.a,i=r.b-h.b,n=(s=e.a).c-n,i=s.d-i,c=new Wf(l);c.a<c.c.c.length;){switch(f=n+(d=(a=jV(Q1(c),395)).b).a,m=i+d.b,g=CQ(f/t.a),b=CQ(m/t.b),(o=a.a).g){case 0:Vbt(),u=jre;break;case 1:Vbt(),u=Fre;break;case 2:Vbt(),u=$re;break;default:Vbt(),u=Vre}o.a?(w=CQ((m+a.c)/t.b),WV(t.f,new Dj(u,ndt(b),ndt(w))),o==(zbt(),Jre)?fct(t,0,b,g,w):fct(t,g,b,t.d-1,w)):(p=CQ((f+a.c)/t.a),WV(t.f,new Dj(u,ndt(g),ndt(p))),o==(zbt(),Zre)?fct(t,g,0,p,b):fct(t,g,b,p,t.c-1))}}function LHt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v;for(d=new Ob,o=new Ob,p=null,a=e.Kc();a.Ob();)s=new $p(jV(a.Pb(),19).a),o.c[o.c.length]=s,p&&(s.d=p,p.e=s),p=s;for(y=U$t(t),u=0;u<o.c.length;++u){for(f=null,m=N6((u1(0,o.c.length),jV(o.c[0],652))),n=null,r=RXt,h=1;h<t.b.c.length;++h)b=m?i.Math.abs(m.b-h):i.Math.abs(h-f.b)+1,(g=f?i.Math.abs(h-f.b):b+1)<b?(l=f,c=g):(l=m,c=b),v=zv(xR(wTt(t,(VGt(),$be)))),(w=y[h]+i.Math.pow(c,v))<r&&(r=w,(n=l).c=h),m&&h==m.b&&(f=m,m=Dq(m));n&&(WV(d,ndt(n.c)),n.a=!0,bdt(n))}return EX(),wU(d.c,d.c.length,null),d}function RHt(t){var e,n,i,r,o,s,a,c,l,u;for(e=new Ec,n=new Ec,l=bF(B8t,(r=Djt(t.b,F8t))?ER(rpt((!r.b&&(r.b=new XL((pKt(),wOe),UOe,r)),r.b),j8t)):null),c=0;c<t.i;++c)iD(a=jV(t.g[c],170),99)?(s=jV(a,18)).Bb&l6t?(!(s.Bb&lYt)||!l&&null==((o=Djt(s,F8t))?ER(rpt((!o.b&&(o.b=new XL((pKt(),wOe),UOe,o)),o.b),J6t)):null))&&l8(e,s):(u=Awt(s))&&u.Bb&l6t||(!(s.Bb&lYt)||!l&&null==((i=Djt(s,F8t))?ER(rpt((!i.b&&(i.b=new XL((pKt(),wOe),UOe,i)),i.b),J6t)):null))&&l8(n,s):(ZT(),jV(a,66).Oj()&&(a.Jj()||(l8(e,a),l8(n,a))));rut(e),rut(n),t.a=jV(e.g,247),jV(n.g,247)}function BHt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f;for(c=NCt(e),jV(wTt(e,(VGt(),Vpe)),314)!=(Iit(),cue)&&t4(c,new be),t4(c,new Ng(jV(wTt(e,Lpe),292))),f=0,l=new Ob,r=new hY(c);r.a!=r.b;)i=jV(Fut(r),37),PUt(t.c,i),f+=(h=jV(wTt(i,(lKt(),xde)),15)).gc(),WV(l,new nI(i,h.Kc()));for(IEt(n,"Recursive hierarchical layout",f),d=jV(jV(DH(l,l.c.length-1),46).b,47);d.Ob();)for(a=new Wf(l);a.a<a.c.c.length;)for(s=jV(Q1(a),46),h=jV(s.b,47),o=jV(s.a,37);h.Ob();){if(iD(u=jV(h.Pb(),51),507)){if(o.e)break;u.pf(o,wot(n,1));break}u.pf(o,wot(n,1))}VCt(n)}function FHt(t,e){var n,i,r,o,s,a,c,l;if(h1(a=e.length-1,e.length),93==(s=e.charCodeAt(a))){if((o=zM(e,XEt(91)))>=0)return r=gft(t,e.substr(1,o-1)),XWt(t,e.substr(o+1,a-(o+1)),r)}else{if(n=-1,null==kee&&(kee=new RegExp("\\d")),kee.test(String.fromCharCode(s))&&(n=xF(e,XEt(46),a-1))>=0){i=jV(G4(t,Cet(t,e.substr(1,n-1)),!1),58),c=0;try{c=hjt(e.substr(n+1),FYt,LKt)}catch(t){throw iD(t=hat(t),127)?$b(new P9(t)):$b(t)}if(c<i.gc())return iD(l=i.Xb(c),72)&&(l=jV(l,72).dd()),jV(l,56)}if(n<0)return jV(G4(t,Cet(t,e.substr(1)),!1),56)}return null}function jHt(t,e,n){var i,r,o,s,a,c,l;if(Mgt(e,n)>=0)return n;switch(NK(j9(t,n))){case 2:if(bF("",Aht(t,n.Hj()).ne())){if(c=wOt(t,e,a=vY(j9(t,n)),yY(j9(t,n))))return c;for(s=0,l=(r=_Ft(t,e)).gc();s<l;++s)if(oNt(SW(j9(t,c=jV(r.Xb(s),170))),a))return c}return null;case 4:if(bF("",Aht(t,n.Hj()).ne())){for(i=n;i;i=X1(j9(t,i)))if(c=yOt(t,e,vY(j9(t,i)),yY(j9(t,i))))return c;if(a=vY(j9(t,n)),bF(T9t,a))return wkt(t,e);for(s=0,l=(o=kFt(t,e)).gc();s<l;++s)if(oNt(SW(j9(t,c=jV(o.Xb(s),170))),a))return c}return null;default:return null}}function $Ht(t,e,n){var i,r,o,s,a,c,l,u;if(0==n.gc())return!1;if(ZT(),o=(a=jV(e,66).Oj())?n:new pet(n.gc()),PLt(t.e,e)){if(e.hi())for(l=n.Kc();l.Ob();)q$t(t,e,c=l.Pb(),iD(e,99)&&!!(jV(e,18).Bb&$Xt))||(r=Z3(e,c),o.Hc(r)||o.Fc(r));else if(!a)for(l=n.Kc();l.Ob();)r=Z3(e,c=l.Pb()),o.Fc(r)}else{if(n.gc()>1)throw $b(new Bv(S9t));for(u=oLt(t.e.Tg(),e),i=jV(t.g,119),s=0;s<t.i;++s)if(r=i[s],u.rl(r.ak())){if(n.Hc(a?r:r.dd()))return!1;for(l=n.Kc();l.Ob();)c=l.Pb(),jV(awt(t,s,a?jV(c,72):Z3(e,c)),72);return!0}a||(r=Z3(e,n.Kc().Pb()),o.Fc(r))}return pG(t,o)}function VHt(t,e){var n,r,o,s,a,c,l;for(l=new YE,c=new Rf(new Sf(t.c).a.vc().Kc());c.a.Ob();)o=jV(c.a.Pb(),42),0==(s=jV(o.dd(),458)).b&&n4(l,s,l.c.b,l.c);for(;0!=l.b;)for(null==(s=jV(0==l.b?null:(TL(0!=l.b),Met(l,l.a.a)),458)).a&&(s.a=0),r=new Wf(s.d);r.a<r.c.c.length;)null==(n=jV(Q1(r),654)).b.a?n.b.a=zv(s.a)+n.a:e.o==(sJ(),nve)?n.b.a=i.Math.min(zv(n.b.a),zv(s.a)+n.a):n.b.a=i.Math.max(zv(n.b.a),zv(s.a)+n.a),--n.b.b,0==n.b.b&&Nz(l,n.b);for(a=new Rf(new Sf(t.c).a.vc().Kc());a.a.Ob();)o=jV(a.a.Pb(),42),s=jV(o.dd(),458),e.i[s.c.p]=s.a}function zHt(){zHt=M,a_e=new ob(IJt),new eB("DEPTH",ndt(0)),e_e=new eB("FAN",ndt(0)),Jve=new eB(q3t,ndt(0)),f_e=new eB("ROOT",(cN(),!1)),i_e=new eB("LEFTNEIGHBOR",null),h_e=new eB("RIGHTNEIGHBOR",null),r_e=new eB("LEFTSIBLING",null),d_e=new eB("RIGHTSIBLING",null),t_e=new eB("DUMMY",!1),new eB("LEVEL",ndt(0)),u_e=new eB("REMOVABLE_EDGES",new YE),g_e=new eB("XCOOR",ndt(0)),p_e=new eB("YCOOR",ndt(0)),o_e=new eB("LEVELHEIGHT",0),n_e=new eB("ID",""),c_e=new eB("POSITION",ndt(0)),l_e=new eB("PRELIM",0),s_e=new eB("MODIFIER",0),Qve=new ob(PJt),Zve=new ob(OJt)}function HHt(t,e,n,r){var o,s,a,c,l,u,h,d,f,g;for(h=n+e.c.c.a,g=new Wf(e.j);g.a<g.c.c.length;){if(f=jV(Q1(g),11),o=Mct(Cat(z_(TTe,1),cYt,8,0,[f.i.n,f.n,f.a])),e.k==(sCt(),Aae)&&(c=jV(wTt(f,(lKt(),fde)),11),o.a=Mct(Cat(z_(TTe,1),cYt,8,0,[c.i.n,c.n,c.a])).a,e.n.a=o.a),a=new DS(0,o.b),f.j==(vWt(),sIe))a.a=h;else{if(f.j!=CIe)continue;a.a=n}if(!(i.Math.abs(o.a-a.a)<=r)||D_t(e))for(s=f.g.c.length+f.e.c.length>1,u=new b6(f.b);wO(u.a)||wO(u.b);)d=(l=jV(wO(u.a)?Q1(u.a):Q1(u.b),17)).c==f?l.d:l.c,i.Math.abs(Mct(Cat(z_(TTe,1),cYt,8,0,[d.i.n,d.n,d.a])).b-a.b)>1&&mLt(t,l,a,s,f)}}function UHt(t){var e,n,r,o,s,a;if(o=new x2(t.e,0),r=new x2(t.a,0),t.d)for(n=0;n<t.b;n++)TL(o.b<o.d.gc()),o.d.Xb(o.c=o.b++);else for(n=0;n<t.b-1;n++)TL(o.b<o.d.gc()),o.d.Xb(o.c=o.b++),lK(o);for(e=zv((TL(o.b<o.d.gc()),xR(o.d.Xb(o.c=o.b++))));t.f-e>L3t;){for(s=e,a=0;i.Math.abs(e-s)<L3t;)++a,e=zv((TL(o.b<o.d.gc()),xR(o.d.Xb(o.c=o.b++)))),TL(r.b<r.d.gc()),r.d.Xb(r.c=r.b++);a<t.b&&(TL(o.b>0),o.a.Xb(o.c=--o.b),L$t(t,t.b-a,s,r,o),TL(o.b<o.d.gc()),o.d.Xb(o.c=o.b++)),TL(r.b>0),r.a.Xb(r.c=--r.b)}if(!t.d)for(n=0;n<t.b-1;n++)TL(o.b<o.d.gc()),o.d.Xb(o.c=o.b++),lK(o);t.d=!0,t.c=!0}function qHt(){qHt=M,gDe=(ix(),fDe).b,bDe=jV(Get(KX(fDe.b),0),34),pDe=jV(Get(KX(fDe.b),1),34),mDe=jV(Get(KX(fDe.b),2),34),ADe=fDe.bb,jV(Get(KX(fDe.bb),0),34),jV(Get(KX(fDe.bb),1),34),IDe=fDe.fb,MDe=jV(Get(KX(fDe.fb),0),34),jV(Get(KX(fDe.fb),1),34),jV(Get(KX(fDe.fb),2),18),ODe=fDe.qb,LDe=jV(Get(KX(fDe.qb),0),34),jV(Get(KX(fDe.qb),1),18),jV(Get(KX(fDe.qb),2),18),DDe=jV(Get(KX(fDe.qb),3),34),NDe=jV(Get(KX(fDe.qb),4),34),BDe=jV(Get(KX(fDe.qb),6),34),RDe=jV(Get(KX(fDe.qb),5),18),wDe=fDe.j,yDe=fDe.k,vDe=fDe.q,_De=fDe.w,kDe=fDe.B,xDe=fDe.A,EDe=fDe.C,TDe=fDe.D,CDe=fDe._,SDe=fDe.cb,PDe=fDe.hb}function WHt(t,e,n){var r,o,s,a,c,l,u,h,d;t.c=0,t.b=0,r=2*e.c.a.c.length+1;t:for(u=n.Kc();u.Ob();){if(d=0,a=(l=jV(u.Pb(),11)).j==(vWt(),aIe)||l.j==EIe){if(!(h=jV(wTt(l,(lKt(),_de)),10)))continue;d+=nBt(t,r,l,h)}else{for(c=new Wf(l.g);c.a<c.c.c.length;){if((o=jV(Q1(c),17).d).i.c==e.c){WV(t.a,l);continue t}d+=t.g[o.p]}for(s=new Wf(l.e);s.a<s.c.c.length;){if((o=jV(Q1(s),17).c).i.c==e.c){WV(t.a,l);continue t}d-=t.g[o.p]}}l.e.c.length+l.g.c.length>0?(t.f[l.p]=d/(l.e.c.length+l.g.c.length),t.c=i.Math.min(t.c,t.f[l.p]),t.b=i.Math.max(t.b,t.f[l.p])):a&&(t.f[l.p]=d)}}function GHt(t){t.b=null,t.bb=null,t.fb=null,t.qb=null,t.a=null,t.c=null,t.d=null,t.e=null,t.f=null,t.n=null,t.M=null,t.L=null,t.Q=null,t.R=null,t.K=null,t.db=null,t.eb=null,t.g=null,t.i=null,t.j=null,t.k=null,t.gb=null,t.o=null,t.p=null,t.q=null,t.r=null,t.$=null,t.ib=null,t.S=null,t.T=null,t.t=null,t.s=null,t.u=null,t.v=null,t.w=null,t.B=null,t.A=null,t.C=null,t.D=null,t.F=null,t.G=null,t.H=null,t.I=null,t.J=null,t.P=null,t.Z=null,t.U=null,t.V=null,t.W=null,t.X=null,t.Y=null,t._=null,t.ab=null,t.cb=null,t.hb=null,t.nb=null,t.lb=null,t.mb=null,t.ob=null,t.pb=null,t.jb=null,t.kb=null,t.N=!1,t.O=!1}function KHt(t,e,n){var i,r;for(IEt(n,"Graph transformation ("+t.a+")",1),r=r0(e.a),i=new Wf(e.b);i.a<i.c.c.length;)pat(r,jV(Q1(i),29).a);if(jV(wTt(e,(VGt(),qpe)),419)==(Btt(),Eue))switch(jV(wTt(e,Upe),103).g){case 2:P2(e,r);break;case 3:dpt(e,r);break;case 4:t.a==(Trt(),Vae)?(dpt(e,r),M2(e,r)):(M2(e,r),dpt(e,r))}else if(t.a==(Trt(),Vae))switch(jV(wTt(e,Upe),103).g){case 2:P2(e,r),M2(e,r);break;case 3:dpt(e,r),P2(e,r);break;case 4:P2(e,r),dpt(e,r)}else switch(jV(wTt(e,Upe),103).g){case 2:P2(e,r),M2(e,r);break;case 3:P2(e,r),dpt(e,r);break;case 4:dpt(e,r),P2(e,r)}VCt(n)}function YHt(t,e,n){var i,r,o,s,a,c,l,h,d,f,g;for(c=new lP,l=new lP,f=new lP,g=new lP,a=zv(xR(wTt(e,(VGt(),Sbe)))),r=zv(xR(wTt(e,wbe))),s=new Wf(n);s.a<s.c.c.length;)if(o=jV(Q1(s),10),(h=jV(wTt(o,(lKt(),Khe)),61))==(vWt(),aIe))for(l.a.zc(o,l),i=new sq(ZD(uft(o).a.Kc(),new u));gPt(i);)kW(c,jV(U4(i),17).c.i);else if(h==EIe)for(g.a.zc(o,g),i=new sq(ZD(uft(o).a.Kc(),new u));gPt(i);)kW(f,jV(U4(i),17).c.i);0!=c.a.gc()&&(d=MUt(new lG(2,r),e,c,l,-a-e.c.b))>0&&(t.a=a+(d-1)*r,e.c.b+=t.a,e.f.b+=t.a),0!=f.a.gc()&&(d=MUt(new lG(1,r),e,f,g,e.f.b+a-e.c.b))>0&&(e.f.b+=a+(d-1)*r)}function XHt(t,e){var n,i,r,o;o=t.F,null==e?(t.F=null,Llt(t,null)):(t.F=(yK(e),e),-1!=(i=zM(e,XEt(60)))?(r=e.substr(0,i),-1==zM(e,XEt(46))&&!bF(r,PKt)&&!bF(r,T8t)&&!bF(r,C8t)&&!bF(r,A8t)&&!bF(r,S8t)&&!bF(r,I8t)&&!bF(r,M8t)&&!bF(r,P8t)&&(r=O8t),-1!=(n=bN(e,XEt(62)))&&(r+=""+e.substr(n+1)),Llt(t,r)):(r=e,-1==zM(e,XEt(46))&&(-1!=(i=zM(e,XEt(91)))&&(r=e.substr(0,i)),bF(r,PKt)||bF(r,T8t)||bF(r,C8t)||bF(r,A8t)||bF(r,S8t)||bF(r,I8t)||bF(r,M8t)||bF(r,P8t)?r=e:(r=O8t,-1!=i&&(r+=""+e.substr(i)))),Llt(t,r),r==e&&(t.F=t.D))),4&t.Db&&!(1&t.Db)&&dst(t,new Qq(t,1,5,o,e))}function ZHt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y;if(!((p=e.b.c.length)<3)){for(f=D7(SNe,lXt,25,p,15,1),h=0,u=new Wf(e.b);u.a<u.c.c.length;)l=jV(Q1(u),29),f[h++]=l.a.c.length;for(d=new x2(e.b,2),i=1;i<p-1;i++)for(TL(d.b<d.d.gc()),g=new Wf((n=jV(d.d.Xb(d.c=d.b++),29)).a),o=0,a=0,c=0;c<f[i+1];c++)if(y=jV(Q1(g),10),c==f[i+1]-1||XCt(t,y,i+1,i)){for(s=f[i]-1,XCt(t,y,i+1,i)&&(s=t.c.e[jV(jV(jV(DH(t.c.b,y.p),15).Xb(0),46).a,10).p]);a<=c;){if(!XCt(t,w=jV(DH(n.a,a),10),i+1,i))for(b=jV(DH(t.c.b,w.p),15).Kc();b.Ob();)m=jV(b.Pb(),46),((r=t.c.e[jV(m.a,10).p])<o||r>s)&&kW(t.b,jV(m.b,17));++a}o=s}}}function QHt(t,e){var n;if(null==e||bF(e,UKt))return null;if(0==e.length&&t.k!=(CAt(),pTe))return null;switch(t.k.g){case 1:return wmt(e,o4t)?(cN(),bee):wmt(e,s4t)?(cN(),mee):null;case 2:try{return ndt(hjt(e,FYt,LKt))}catch(t){if(iD(t=hat(t),127))return null;throw $b(t)}case 4:try{return dCt(e)}catch(t){if(iD(t=hat(t),127))return null;throw $b(t)}case 3:return e;case 5:return iut(t),VIt(t,e);case 6:return iut(t),BOt(t,t.a,e);case 7:try{return(n=iPt(t)).Jf(e),n}catch(t){if(iD(t=hat(t),32))return null;throw $b(t)}default:throw $b(new Fv("Invalid type set for this layout option."))}}function JHt(t){var e,n,i,r,o,s,a;for(Ntt(),a=new Gw,n=new Wf(t);n.a<n.c.c.length;)e=jV(Q1(n),140),(!a.b||e.c>=a.b.c)&&(a.b=e),(!a.c||e.c<=a.c.c)&&(a.d=a.c,a.c=e),(!a.e||e.d>=a.e.d)&&(a.e=e),(!a.f||e.d<=a.f.d)&&(a.f=e);return i=new xbt((Mat(),Zse)),e2(t,sae,new Xv(Cat(z_(Xse,1),VKt,369,0,[i]))),s=new xbt(tae),e2(t,oae,new Xv(Cat(z_(Xse,1),VKt,369,0,[s]))),r=new xbt(Qse),e2(t,rae,new Xv(Cat(z_(Xse,1),VKt,369,0,[r]))),o=new xbt(Jse),e2(t,iae,new Xv(Cat(z_(Xse,1),VKt,369,0,[o]))),NDt(i.c,Zse),NDt(r.c,Qse),NDt(o.c,Jse),NDt(s.c,tae),a.a.c=D7(Mte,VKt,1,0,5,1),pat(a.a,i.c),pat(a.a,est(r.c)),pat(a.a,o.c),pat(a.a,est(s.c)),a}function tUt(t){var e;switch(t.d){case 1:if(t.hj())return-2!=t.o;break;case 2:if(t.hj())return-2==t.o;break;case 3:case 5:case 4:case 6:case 7:return t.o>-2;default:return!1}switch(e=t.gj(),t.p){case 0:return null!=e&&Vv(kR(e))!=XI(t.k,0);case 1:return null!=e&&jV(e,217).a!=fU(t.k)<<24>>24;case 2:return null!=e&&jV(e,172).a!=(fU(t.k)&YYt);case 6:return null!=e&&XI(jV(e,162).a,t.k);case 5:return null!=e&&jV(e,19).a!=fU(t.k);case 7:return null!=e&&jV(e,184).a!=fU(t.k)<<16>>16;case 3:return null!=e&&zv(xR(e))!=t.j;case 4:return null!=e&&jV(e,155).a!=t.j;default:return null==e?null!=t.n:!Dht(e,t.n)}}function eUt(t,e,n){var i,r,o,s;return t.Fk()&&t.Ek()&&zI(s=zq(t,jV(n,56)))!==zI(n)?(t.Oi(e),t.Ui(e,j8(t,e,s)),t.rk()&&(r=jV(n,49),o=t.Dk()?t.Bk()?r.ih(t.b,Awt(jV(eet(vZ(t.b),t.aj()),18)).n,jV(eet(vZ(t.b),t.aj()).Yj(),26).Bj(),null):r.ih(t.b,Mgt(r.Tg(),Awt(jV(eet(vZ(t.b),t.aj()),18))),null,null):r.ih(t.b,-1-t.aj(),null,null),!jV(s,49).eh()&&(i=jV(s,49),o=t.Dk()?t.Bk()?i.gh(t.b,Awt(jV(eet(vZ(t.b),t.aj()),18)).n,jV(eet(vZ(t.b),t.aj()).Yj(),26).Bj(),o):i.gh(t.b,Mgt(i.Tg(),Awt(jV(eet(vZ(t.b),t.aj()),18))),null,o):i.gh(t.b,-1-t.aj(),null,o)),o&&o.Fi()),bP(t.b)&&t.$i(t.Zi(9,n,s,e,!1)),s):n}function nUt(t,e,n){var r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_;for(h=zv(xR(wTt(t,(VGt(),_be)))),r=zv(xR(wTt(t,Lbe))),lct(f=new Qa,_be,h+r),w=(u=e).d,m=u.c.i,y=u.d.i,b=JM(m.c),v=JM(y.c),o=new Ob,d=b;d<=v;d++)Fd(c=new Pwt(t),(sCt(),Tae)),lct(c,(lKt(),fde),u),lct(c,tbe,(Yxt(),qSe)),lct(c,xbe,f),g=jV(DH(t.b,d),29),d==b?Yvt(c,g.a.c.length-n,g):TJ(c,g),(_=zv(xR(wTt(u,rme))))<0&&lct(u,rme,_=0),c.o.b=_,p=i.Math.floor(_/2),zSt(a=new ACt,(vWt(),CIe)),CJ(a,c),a.n.b=p,zSt(l=new ACt,sIe),CJ(l,c),l.n.b=p,xJ(u,a),zst(s=new dZ,u),lct(s,mme,null),EJ(s,l),xJ(s,w),U_t(c,u,s),o.c[o.c.length]=s,u=s;return o}function iUt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m;for(a=jV(LCt(t,(vWt(),CIe)).Kc().Pb(),11).e,h=jV(LCt(t,sIe).Kc().Pb(),11).g,s=a.c.length,m=g1(jV(DH(t.j,0),11));s-- >0;){for(u1(0,a.c.length),f=jV(a.c[0],17),u1(0,h.c.length),r=_9((i=jV(h.c[0],17)).d.e,i,0),I2(f,i.d,r),EJ(i,null),xJ(i,null),d=f.a,e&&Nz(d,new dP(m)),n=cbt(i.a,0);n.b!=n.d.c;)Nz(d,new dP(jV(h3(n),8)));for(p=f.b,u=new Wf(i.b);u.a<u.c.c.length;)l=jV(Q1(u),70),p.c[p.c.length]=l;if(g=jV(wTt(f,(VGt(),mme)),74),o=jV(wTt(i,mme),74))for(g||(g=new yy,lct(f,mme,g)),c=cbt(o,0);c.b!=c.d.c;)Nz(g,new dP(jV(h3(c),8)))}}function rUt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g;if(n=jV(sY(t.b,e),124),(l=jV(jV(c6(t.r,e),21),84)).dc())return n.n.b=0,void(n.n.c=0);for(u=t.u.Hc((hIt(),tIe)),a=0,c=l.Kc(),h=null,d=0,f=0;c.Ob();)o=zv(xR((r=jV(c.Pb(),111)).b.We((NN(),Pre)))),s=r.b.rf().a,t.A.Hc((wpt(),BIe))&&yBt(t,e),h?(g=f+h.d.c+t.w+r.d.b,a=i.Math.max(a,(cO(),iit(uQt),i.Math.abs(d-o)<=uQt||d==o||isNaN(d)&&isNaN(o)?0:g/(o-d)))):t.C&&t.C.b>0&&(a=i.Math.max(a,hot(t.C.b+r.d.b,o))),h=r,d=o,f=s;t.C&&t.C.c>0&&(g=f+t.C.c,u&&(g+=h.d.c),a=i.Math.max(a,(cO(),iit(uQt),i.Math.abs(d-1)<=uQt||1==d||isNaN(d)&&isNaN(1)?0:g/(1-d)))),n.n.b=0,n.a.a=a}function oUt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g;if(n=jV(sY(t.b,e),124),(l=jV(jV(c6(t.r,e),21),84)).dc())return n.n.d=0,void(n.n.a=0);for(u=t.u.Hc((hIt(),tIe)),a=0,t.A.Hc((wpt(),BIe))&&vBt(t,e),c=l.Kc(),h=null,f=0,d=0;c.Ob();)s=zv(xR((r=jV(c.Pb(),111)).b.We((NN(),Pre)))),o=r.b.rf().b,h?(g=d+h.d.a+t.w+r.d.d,a=i.Math.max(a,(cO(),iit(uQt),i.Math.abs(f-s)<=uQt||f==s||isNaN(f)&&isNaN(s)?0:g/(s-f)))):t.C&&t.C.d>0&&(a=i.Math.max(a,hot(t.C.d+r.d.d,s))),h=r,f=s,d=o;t.C&&t.C.a>0&&(g=d+t.C.a,u&&(g+=h.d.a),a=i.Math.max(a,(cO(),iit(uQt),i.Math.abs(f-1)<=uQt||1==f||isNaN(f)&&isNaN(1)?0:g/(1-f)))),n.n.d=0,n.a.b=a}function sUt(t,e,n){var i,r,o,s,a,c;for(this.g=t,a=e.d.length,c=n.d.length,this.d=D7(Sae,o1t,10,a+c,0,1),s=0;s<a;s++)this.d[s]=e.d[s];for(o=0;o<c;o++)this.d[a+o]=n.d[o];if(e.e){if(this.e=HV(e.e),this.e.Mc(n),n.e)for(r=n.e.Kc();r.Ob();)(i=jV(r.Pb(),233))!=e&&(this.e.Hc(i)?--i.c:this.e.Fc(i))}else n.e&&(this.e=HV(n.e),this.e.Mc(e));this.f=e.f+n.f,this.a=e.a+n.a,this.a>0?Zet(this,this.f/this.a):null!=uD(e.g,e.d[0]).a&&null!=uD(n.g,n.d[0]).a?Zet(this,(zv(uD(e.g,e.d[0]).a)+zv(uD(n.g,n.d[0]).a))/2):null!=uD(e.g,e.d[0]).a?Zet(this,uD(e.g,e.d[0]).a):null!=uD(n.g,n.d[0]).a&&Zet(this,uD(n.g,n.d[0]).a)}function aUt(t,e){var n,i,r,o,s,a,c,l,u;for(t.a=new jG(Pot(WAe)),i=new Wf(e.a);i.a<i.c.c.length;){for(n=jV(Q1(i),841),s=new Cmt(Cat(z_(Kse,1),VKt,81,0,[])),WV(t.a.a,s),c=new Wf(n.d);c.a<c.c.c.length;)jUt(l=new ON(t,a=jV(Q1(c),110)),jV(wTt(n.c,(lKt(),qhe)),21)),cW(t.g,n)||(GK(t.g,n,new DS(a.c,a.d)),GK(t.f,n,l)),WV(t.a.b,l),g2(s,l);for(o=new Wf(n.b);o.a<o.c.c.length;)l=new ON(t,(r=jV(Q1(o),594)).kf()),GK(t.b,r,new nI(s,l)),jUt(l,jV(wTt(n.c,(lKt(),qhe)),21)),r.hf()&&(jUt(u=new Tmt(t,r.hf(),1),jV(wTt(n.c,qhe),21)),g2(new Cmt(Cat(z_(Kse,1),VKt,81,0,[])),u),ZIt(t.c,r.gf(),new nI(s,u)))}return t.a}function cUt(t){var e;this.a=t,e=(sCt(),Cat(z_(Mae,1),PYt,267,0,[Cae,Tae,xae,Aae,Eae,kae])).length,this.b=yH(uTe,[cYt,v3t],[593,146],0,[e,e],2),this.c=yH(uTe,[cYt,v3t],[593,146],0,[e,e],2),FZ(this,Cae,(VGt(),Sbe),Ibe),tat(this,Cae,Tae,_be,kbe),BZ(this,Cae,Aae,_be),BZ(this,Cae,xae,_be),tat(this,Cae,Eae,Sbe,Ibe),FZ(this,Tae,wbe,ybe),BZ(this,Tae,Aae,wbe),BZ(this,Tae,xae,wbe),tat(this,Tae,Eae,_be,kbe),ZP(this,Aae,wbe),BZ(this,Aae,xae,wbe),BZ(this,Aae,Eae,Tbe),ZP(this,xae,Obe),tat(this,xae,Eae,Abe,Cbe),FZ(this,Eae,wbe,wbe),FZ(this,kae,wbe,ybe),tat(this,kae,Cae,_be,kbe),tat(this,kae,Eae,_be,kbe),tat(this,kae,Tae,_be,kbe)}function lUt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f,g,p,m;if(iD(s=n.ak(),99)&&jV(s,18).Bb&$Xt&&(d=jV(n.dd(),49),(p=tht(t.e,d))!=d)){if(vD(t,e,cEt(t,e,u=Z3(s,p))),h=null,bP(t.e)&&(i=jHt((SAt(),XOe),t.e.Tg(),s))!=eet(t.e.Tg(),t.c)){for(m=oLt(t.e.Tg(),s),a=0,o=jV(t.g,119),c=0;c<e;++c)r=o[c],m.rl(r.ak())&&++a;(h=new h5(t.e,9,i,d,p,a,!1)).Ei(new O9(t.e,9,t.c,n,u,e,!1))}return(f=Awt(g=jV(s,18)))?(h=d.ih(t.e,Mgt(d.Tg(),f),null,h),h=jV(p,49).gh(t.e,Mgt(p.Tg(),f),null,h)):g.Bb&l6t&&(l=-1-Mgt(t.e.Tg(),g),h=d.ih(t.e,l,null,null),!jV(p,49).eh()&&(h=jV(p,49).gh(t.e,l,null,h))),h&&h.Fi(),u}return n}function uUt(t){var e,n,r,o,s,a,c,l;for(s=new Wf(t.a.b);s.a<s.c.c.length;)(o=jV(Q1(s),81)).b.c=o.g.c,o.b.d=o.g.d;for(l=new DS(RXt,RXt),e=new DS(BXt,BXt),r=new Wf(t.a.b);r.a<r.c.c.length;)n=jV(Q1(r),81),l.a=i.Math.min(l.a,n.g.c),l.b=i.Math.min(l.b,n.g.d),e.a=i.Math.max(e.a,n.g.c+n.g.b),e.b=i.Math.max(e.b,n.g.d+n.g.a);for(c=kG(t.c).a.nc();c.Ob();)a=jV(c.Pb(),46),n=jV(a.b,81),l.a=i.Math.min(l.a,n.g.c),l.b=i.Math.min(l.b,n.g.d),e.a=i.Math.max(e.a,n.g.c+n.g.b),e.b=i.Math.max(e.b,n.g.d+n.g.a);t.d=VL(new DS(l.a,l.b)),t.e=qB(new DS(e.a,e.b),l),t.a.a.c=D7(Mte,VKt,1,0,5,1),t.a.b.c=D7(Mte,VKt,1,0,5,1)}function hUt(t){var e,n,i;for(vlt(lPe,Cat(z_(Bie,1),VKt,130,0,[new Ph])),n=new _d(t),i=0;i<n.a.length;++i)bF(e=ftt(n,i).je().a,"layered")?vlt(lPe,Cat(z_(Bie,1),VKt,130,0,[new ah])):bF(e,"force")?vlt(lPe,Cat(z_(Bie,1),VKt,130,0,[new Hu])):bF(e,"stress")?vlt(lPe,Cat(z_(Bie,1),VKt,130,0,[new qu])):bF(e,"mrtree")?vlt(lPe,Cat(z_(Bie,1),VKt,130,0,[new Eh])):bF(e,"radial")?vlt(lPe,Cat(z_(Bie,1),VKt,130,0,[new bh])):bF(e,"disco")?vlt(lPe,Cat(z_(Bie,1),VKt,130,0,[new zu,new $u])):bF(e,"sporeOverlap")||bF(e,"sporeCompaction")?vlt(lPe,Cat(z_(Bie,1),VKt,130,0,[new _h])):bF(e,"rectpacking")&&vlt(lPe,Cat(z_(Bie,1),VKt,130,0,[new Ah]))}function dUt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f,g,p,m,b;if(d=new dP(t.o),b=e.a/d.a,a=e.b/d.b,p=e.a-d.a,o=e.b-d.b,n)for(r=zI(wTt(t,(VGt(),tbe)))===zI((Yxt(),qSe)),g=new Wf(t.j);g.a<g.c.c.length;)switch((f=jV(Q1(g),11)).j.g){case 1:r||(f.n.a*=b);break;case 2:f.n.a+=p,r||(f.n.b*=a);break;case 3:r||(f.n.a*=b),f.n.b+=o;break;case 4:r||(f.n.b*=a)}for(l=new Wf(t.b);l.a<l.c.c.length;)u=(c=jV(Q1(l),70)).n.a+c.o.a/2,h=c.n.b+c.o.b/2,(m=u/d.a)+(s=h/d.b)>=1&&(m-s>0&&h>=0?(c.n.a+=p,c.n.b+=o*s):m-s<0&&u>=0&&(c.n.a+=p*m,c.n.b+=o));t.o.a=e.a,t.o.b=e.b,lct(t,(VGt(),Fme),(wpt(),new YF(i=jV(Gk(YIe),9),jV(EB(i,i.length),9),0)))}function fUt(t,e,n,i,r,o){if(null!=e&&Wft(e,SPe,IPe))throw $b(new Bv("invalid scheme: "+e));if(!(t||null!=n&&-1==zM(n,XEt(35))&&n.length>0&&(h1(0,n.length),47!=n.charCodeAt(0))))throw $b(new Bv("invalid opaquePart: "+n));if(t&&(null==e||!DE(yPe,e.toLowerCase()))&&null!=n&&Wft(n,MPe,PPe))throw $b(new Bv(a8t+n));if(t&&null!=e&&DE(yPe,e.toLowerCase())&&!Axt(n))throw $b(new Bv(a8t+n));if(!qft(i))throw $b(new Bv("invalid device: "+i));if(!Rut(r))throw $b(new Bv(null==r?"invalid segments: null":"invalid segment: "+cut(r)));if(null!=o&&-1!=zM(o,XEt(35)))throw $b(new Bv("invalid query: "+o))}function gUt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w;for(IEt(e,"Calculate Graph Size",1),e.n&&t&&w0(e,s2(t),($lt(),oMe)),c=QQt,l=QQt,s=J3t,a=J3t,d=new ID((!t.a&&(t.a=new tW(HMe,t,10,11)),t.a));d.e!=d.i.gc();)p=(u=jV(vbt(d),33)).i,m=u.j,w=u.g,r=u.f,o=jV(QPt(u,(cKt(),MCe)),142),c=i.Math.min(c,p-o.b),l=i.Math.min(l,m-o.d),s=i.Math.max(s,p+w+o.c),a=i.Math.max(a,m+r+o.a);for(f=new DS(c-(g=jV(QPt(t,(cKt(),qCe)),116)).b,l-g.d),h=new ID((!t.a&&(t.a=new tW(HMe,t,10,11)),t.a));h.e!=h.i.gc();)Cnt(u=jV(vbt(h),33),u.i-f.a),Ant(u,u.j-f.b);b=s-c+(g.b+g.c),n=a-l+(g.d+g.a),Tnt(t,b),Ent(t,n),e.n&&t&&w0(e,s2(t),($lt(),oMe))}function pUt(t){var e,n,i,r,o,s,a,c,l,u;for(i=new Ob,s=new Wf(t.e.a);s.a<s.c.c.length;){for(u=0,(r=jV(Q1(s),121)).k.c=D7(Mte,VKt,1,0,5,1),n=new Wf(vft(r));n.a<n.c.c.length;)(e=jV(Q1(n),213)).f&&(WV(r.k,e),++u);1==u&&(i.c[i.c.length]=r)}for(o=new Wf(i);o.a<o.c.c.length;)for(r=jV(Q1(o),121);1==r.k.c.length;){for(l=jV(Q1(new Wf(r.k)),213),t.b[l.c]=l.g,a=l.d,c=l.e,n=new Wf(vft(r));n.a<n.c.c.length;)Dht(e=jV(Q1(n),213),l)||(e.f?a==e.d||c==e.e?t.b[l.c]-=t.b[e.c]-e.g:t.b[l.c]+=t.b[e.c]-e.g:r==a?e.d==r?t.b[l.c]+=e.g:t.b[l.c]-=e.g:e.d==r?t.b[l.c]-=e.g:t.b[l.c]+=e.g);w9(a.k,l),w9(c.k,l),r=a==r?l.e:l.d}}function mUt(t,e){var n,i,r,o,s,a,c,l,u,h,d;if(null==e||0==e.length)return null;if(!(o=jV(EQ(t.f,e),23))){for(r=new Rf(new Sf(t.d).a.vc().Kc());r.a.Ob();)if(s=jV(r.a.Pb(),42),a=(n=jV(s.dd(),23)).f,d=e.length,bF(a.substr(a.length-d,d),e)&&(e.length==a.length||46==lY(a,a.length-e.length-1))){if(o)return null;o=n}if(!o)for(i=new Rf(new Sf(t.d).a.vc().Kc());i.a.Ob();)if(s=jV(i.a.Pb(),42),null!=(h=(n=jV(s.dd(),23)).g))for(l=0,u=(c=h).length;l<u;++l)if(a=c[l],d=e.length,bF(a.substr(a.length-d,d),e)&&(e.length==a.length||46==lY(a,a.length-e.length-1))){if(o)return null;o=n}o&&bJ(t.f,e,o)}return o}function bUt(t,e){var n,i,r,o,s;for(n=new A_,s=!1,o=0;o<e.length;o++)if(h1(o,e.length),32!=(i=e.charCodeAt(o)))s?39==i?o+1<e.length&&(h1(o+1,e.length),39==e.charCodeAt(o+1))?(n.a+=String.fromCharCode(i),++o):s=!1:n.a+=String.fromCharCode(i):zM("GyMLdkHmsSEcDahKzZv",XEt(i))>0?(Cbt(t,n,0),n.a+=String.fromCharCode(i),Cbt(t,n,r=rmt(e,o)),o+=r-1):39==i?o+1<e.length&&(h1(o+1,e.length),39==e.charCodeAt(o+1))?(n.a+="'",++o):s=!0:n.a+=String.fromCharCode(i);else for(Cbt(t,n,0),n.a+=" ",Cbt(t,n,0);o+1<e.length&&(h1(o+1,e.length),32==e.charCodeAt(o+1));)++o;Cbt(t,n,0),mEt(t)}function wUt(t,e,n){var r,o,s,a,c,l,u,h,d,f,g,p,m,b;if(IEt(n,"Network simplex layering",1),t.b=e,b=4*jV(wTt(e,(VGt(),Dbe)),19).a,(m=t.b.a).c.length<1)VCt(n);else{for(p=null,o=cbt(s=SFt(t,m),0);o.b!=o.d.c;){for(r=jV(h3(o),15),c=b*CQ(i.Math.sqrt(r.gc())),GFt(K_(X_(Y_(jj(a=ajt(r)),c),p),!0),wot(n,1)),d=t.b.b,g=new Wf(a.a);g.a<g.c.c.length;){for(f=jV(Q1(g),121);d.c.length<=f.e;)yU(d,d.c.length,new $G(t.b));TJ(jV(f.f,10),jV(DH(d,f.e),29))}if(s.b>1)for(p=D7(SNe,lXt,25,t.b.b.c.length,15,1),h=0,u=new Wf(t.b.b);u.a<u.c.c.length;)l=jV(Q1(u),29),p[h++]=l.a.c.length}m.c=D7(Mte,VKt,1,0,5,1),t.a=null,t.b=null,t.c=null,VCt(n)}}function yUt(t){var e,n,r,o,s,a,c;for(e=0,s=new Wf(t.b.a);s.a<s.c.c.length;)(r=jV(Q1(s),189)).b=0,r.c=0;for(kCt(t,0),egt(t,t.g),vNt(t.c),Zv(t.c),jht(),n=BAe,LFt(tM(Eqt(LFt(tM(Eqt(LFt(Eqt(t.c,n)),_dt(n)))),n))),Eqt(t.c,BAe),$dt(t,t.g),vTt(t,0),mzt(t,0),EOt(t,1),kCt(t,1),egt(t,t.d),vNt(t.c),a=new Wf(t.b.a);a.a<a.c.c.length;)r=jV(Q1(a),189),e+=i.Math.abs(r.c);for(c=new Wf(t.b.a);c.a<c.c.c.length;)(r=jV(Q1(c),189)).b=0,r.c=0;for(n=$Ae,LFt(tM(Eqt(LFt(tM(Eqt(LFt(Zv(Eqt(t.c,n))),_dt(n)))),n))),Eqt(t.c,BAe),$dt(t,t.d),vTt(t,1),mzt(t,1),EOt(t,0),Zv(t.c),o=new Wf(t.b.a);o.a<o.c.c.length;)r=jV(Q1(o),189),e+=i.Math.abs(r.c);return e}function vUt(t,e){var n,i,r,o,s,a,c,l,u;if(null!=(l=e).b&&null!=t.b){for(xOt(t),zzt(t),xOt(l),zzt(l),n=D7(SNe,lXt,25,t.b.length+l.b.length,15,1),u=0,i=0,s=0;i<t.b.length&&s<l.b.length;)if(r=t.b[i],o=t.b[i+1],a=l.b[s],c=l.b[s+1],o<a)i+=2;else if(o>=a&&r<=c)a<=r&&o<=c?(n[u++]=r,n[u++]=o,i+=2):a<=r?(n[u++]=r,n[u++]=c,t.b[i]=c+1,s+=2):o<=c?(n[u++]=a,n[u++]=o,i+=2):(n[u++]=a,n[u++]=c,t.b[i]=c+1);else{if(!(c<r))throw $b(new fv("Token#intersectRanges(): Internal Error: ["+t.b[i]+","+t.b[i+1]+"] & ["+l.b[s]+","+l.b[s+1]+"]"));s+=2}for(;i<t.b.length;)n[u++]=t.b[i++],n[u++]=t.b[i++];t.b=D7(SNe,lXt,25,u,15,1),ozt(n,0,t.b,0,u)}}function _Ut(t){var e,n,r,o,s,a,c;for(e=new Ob,t.g=new Ob,t.d=new Ob,a=new slt(new Tf(t.f.b).a);a.b;)WV(e,jV(jV((s=tnt(a)).dd(),46).b,81)),fP(jV(s.cd(),594).gf())?WV(t.d,jV(s.dd(),46)):WV(t.g,jV(s.dd(),46));for(egt(t,t.d),egt(t,t.g),t.c=new cMt(t.b),tk(t.c,(mT(),zse)),$dt(t,t.d),$dt(t,t.g),pat(e,t.c.a.b),t.e=new DS(RXt,RXt),t.a=new DS(BXt,BXt),r=new Wf(e);r.a<r.c.c.length;)n=jV(Q1(r),81),t.e.a=i.Math.min(t.e.a,n.g.c),t.e.b=i.Math.min(t.e.b,n.g.d),t.a.a=i.Math.max(t.a.a,n.g.c+n.g.b),t.a.b=i.Math.max(t.a.b,n.g.d+n.g.a);J_(t.c,new _e),c=0;do{o=yUt(t),++c}while((c<2||o>BYt)&&c<10);J_(t.c,new ke),yUt(t),AW(t.c),uUt(t.f)}function kUt(t,e,n){var i,r,o,s,a,c,l,u,h,d;if(Vv(kR(wTt(n,(VGt(),dme)))))for(r=new Wf(n.j);r.a<r.c.c.length;)for(a=0,c=(s=Z0(jV(Q1(r),11).g)).length;a<c;++a)(o=s[a]).d.i==n&&Vv(kR(wTt(o,fme)))&&(u=o.c,(l=jV(LG(t.b,u),10))||(lct(l=dGt(u,(Yxt(),KSe),u.j,-1,null,null,u.o,jV(wTt(e,Upe),103),e),(lKt(),fde),u),GK(t.b,u,l),WV(e.a,l)),d=o.d,(h=jV(LG(t.b,d),10))||(lct(h=dGt(d,(Yxt(),KSe),d.j,1,null,null,d.o,jV(wTt(e,Upe),103),e),(lKt(),fde),d),GK(t.b,d,h),WV(e.a,h)),EJ(i=W4(o),jV(DH(l.j,0),11)),xJ(i,jV(DH(h.j,0),11)),ZIt(t.a,o,new Pj(i,e,(oit(),Vwe))),jV(wTt(e,(lKt(),Zhe)),21).Fc((dRt(),uhe)))}function xUt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f,g;for(IEt(n,"Label dummy switching",1),i=jV(wTt(e,(VGt(),Gpe)),227),mot(e),r=_Ot(e,i),t.a=D7(ONe,zXt,25,e.b.c.length,15,1),PAt(),u=0,f=(a=Cat(z_(oue,1),PYt,227,0,[Zle,Jle,Xle,Qle,tue,Yle])).length;u<f;++u)if(((o=a[u])==tue||o==Yle||o==Qle)&&!jV(EN(r.a,o)?r.b[o.g]:null,15).dc()){Qot(t,e);break}for(h=0,g=(c=Cat(z_(oue,1),PYt,227,0,[Zle,Jle,Xle,Qle,tue,Yle])).length;h<g;++h)(o=c[h])==tue||o==Yle||o==Qle||HFt(t,jV(EN(r.a,o)?r.b[o.g]:null,15));for(l=0,d=(s=Cat(z_(oue,1),PYt,227,0,[Zle,Jle,Xle,Qle,tue,Yle])).length;l<d;++l)((o=s[l])==tue||o==Yle||o==Qle)&&HFt(t,jV(EN(r.a,o)?r.b[o.g]:null,15));t.a=null,VCt(n)}function EUt(t,e){var n,i,r,o,s,a,c,l,u,h,d;switch(t.k.g){case 1:if(i=jV(wTt(t,(lKt(),fde)),17),(n=jV(wTt(i,gde),74))?Vv(kR(wTt(i,Cde)))&&(n=Zct(n)):n=new yy,l=jV(wTt(t,cde),11)){if(e<=(u=Mct(Cat(z_(TTe,1),cYt,8,0,[l.i.n,l.n,l.a]))).a)return u.b;n4(n,u,n.a,n.a.a)}if(h=jV(wTt(t,lde),11)){if((d=Mct(Cat(z_(TTe,1),cYt,8,0,[h.i.n,h.n,h.a]))).a<=e)return d.b;n4(n,d,n.c.b,n.c)}if(n.b>=2){for(s=jV(h3(c=cbt(n,0)),8),a=jV(h3(c),8);a.a<e&&c.b!=c.d.c;)s=a,a=jV(h3(c),8);return s.b+(e-s.a)/(a.a-s.a)*(a.b-s.b)}break;case 3:switch(r=(o=jV(wTt(jV(DH(t.j,0),11),(lKt(),fde)),11)).i,o.j.g){case 1:return r.n.b;case 3:return r.n.b+r.o.b}}return jkt(t).b}function TUt(t){var e,n,i,r,o,s,a,c,l,h;for(o=new Wf(t.d.b);o.a<o.c.c.length;)for(a=new Wf(jV(Q1(o),29).a);a.a<a.c.c.length;)!Vv(kR(wTt(s=jV(Q1(a),10),(VGt(),kpe))))||c3(lft(s))?(r=new UY(s.n.a-s.d.b,s.n.b-s.d.d,s.o.a+s.d.b+s.d.c,s.o.b+s.d.d+s.d.a),e=SN(eT(JE(tT(new Ww,s),r),fle),t.a),AN(QE(Wnt(new qw,Cat(z_(hie,1),VKt,57,0,[e])),e),t.a),c=new Nb,GK(t.e,e,c),(n=F3(new sq(ZD(uft(s).a.Kc(),new u)))-F3(new sq(ZD(hft(s).a.Kc(),new u))))<0?qat(c,!0,(jht(),BAe)):n>0&&qat(c,!0,(jht(),FAe)),s.k==(sCt(),xae)&&dY(c),GK(t.f,s,e)):((l=(i=jV(eZ(lft(s)),17)).c.i)==s&&(l=i.d.i),h=new nI(l,qB(jO(s.n),l.n)),GK(t.b,s,h))}function CUt(t,e,n){var r,o,s,a,c,l,u,h;switch(IEt(n,"Node promotion heuristic",1),t.g=e,yWt(t),t.q=jV(wTt(e,(VGt(),Eme)),260),h=jV(wTt(t.g,xme),19).a,s=new ui,t.q.g){case 2:case 1:default:Fzt(t,s);break;case 3:for(t.q=(cNt(),Swe),Fzt(t,s),l=0,c=new Wf(t.a);c.a<c.c.c.length;)a=jV(Q1(c),19),l=i.Math.max(l,a.a);l>t.j&&(t.q=kwe,Fzt(t,s));break;case 4:for(t.q=(cNt(),Swe),Fzt(t,s),u=0,o=new Wf(t.b);o.a<o.c.c.length;)r=xR(Q1(o)),u=i.Math.max(u,(yK(r),r));u>t.k&&(t.q=Twe,Fzt(t,s));break;case 6:Fzt(t,new sp(CQ(i.Math.ceil(t.f.length*h/100))));break;case 5:Fzt(t,new ap(CQ(i.Math.ceil(t.d*h/100))))}aRt(t,e),VCt(n)}function AUt(t,e,n){var i,r,o,s;this.j=t,this.e=zxt(t),this.o=this.j.e,this.i=!!this.o,this.p=this.i?jV(DH(n,mK(this.o).p),214):null,r=jV(wTt(t,(lKt(),Zhe)),21),this.g=r.Hc((dRt(),uhe)),this.b=new Ob,this.d=new fpt(this.e),s=jV(wTt(this.j,Ede),230),this.q=Vst(e,s,this.e),this.k=new rJ(this),o=o6(Cat(z_(vle,1),VKt,225,0,[this,this.d,this.k,this.q])),e!=(ait(),Sye)||Vv(kR(wTt(t,(VGt(),Dpe))))?e==Sye&&Vv(kR(wTt(t,(VGt(),Dpe))))?(i=new qxt(this.e),o.c[o.c.length]=i,this.c=new mrt(i,s,jV(this.q,402))):this.c=new mA(e,this):(i=new qxt(this.e),o.c[o.c.length]=i,this.c=new z2(i,s,jV(this.q,402))),WV(o,this.c),Azt(o,this.e),this.s=fGt(this.k)}function SUt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w;for(d=(l=jV(eD(new dm(cbt(new hm(e).a.d,0))),86))?jV(wTt(l,(zHt(),i_e)),86):null,r=1;l&&d;){for(s=0,w=0,n=l,i=d,o=0;o<r;o++)n=z7(n),i=z7(i),w+=zv(xR(wTt(n,(zHt(),s_e)))),s+=zv(xR(wTt(i,s_e)));if(b=zv(xR(wTt(d,(zHt(),l_e)))),m=zv(xR(wTt(l,l_e))),u=_4(l,d),0<(h=b+s+t.a+u-m-w)){for(a=e,c=0;a&&a!=i;)++c,a=jV(wTt(a,r_e),86);if(!a)return;for(p=h/c,a=e;a!=i;)g=zv(xR(wTt(a,l_e)))+h,lct(a,l_e,g),f=zv(xR(wTt(a,s_e)))+h,lct(a,s_e,f),h-=p,a=jV(wTt(a,r_e),86)}++r,d=(l=0==l.d.b?QFt(new hm(e),r):jV(eD(new dm(cbt(new hm(l).a.d,0))),86))?jV(wTt(l,i_e),86):null}}function IUt(t,e){var n,i,r,o,s,a,c,l,h;for(a=!0,r=0,c=t.f[e.p],l=e.o.b+t.n,n=t.c[e.p][2],i4(t.a,c,ndt(jV(DH(t.a,c),19).a-1+n)),i4(t.b,c,zv(xR(DH(t.b,c)))-l+n*t.e),++c>=t.i?(++t.i,WV(t.a,ndt(1)),WV(t.b,l)):(i=t.c[e.p][1],i4(t.a,c,ndt(jV(DH(t.a,c),19).a+1-i)),i4(t.b,c,zv(xR(DH(t.b,c)))+l-i*t.e)),(t.q==(cNt(),kwe)&&(jV(DH(t.a,c),19).a>t.j||jV(DH(t.a,c-1),19).a>t.j)||t.q==Twe&&(zv(xR(DH(t.b,c)))>t.k||zv(xR(DH(t.b,c-1)))>t.k))&&(a=!1),o=new sq(ZD(uft(e).a.Kc(),new u));gPt(o);)s=jV(U4(o),17).c.i,t.f[s.p]==c&&(r+=jV((h=IUt(t,s)).a,19).a,a=a&&Vv(kR(h.b)));return t.f[e.p]=c,new nI(ndt(r+=t.c[e.p][0]),(cN(),!!a))}function MUt(t,e,n,r,o){var s,a,c,l,u,h,d,f,g,p,m,b,w;for(d=new Db,a=new Ob,iIt(t,n,t.d.fg(),a,d),iIt(t,r,t.d.gg(),a,d),t.b=.2*(m=$Pt(dtt(new LH(null,new d1(a,16)),new As)),b=$Pt(dtt(new LH(null,new d1(a,16)),new Ss)),i.Math.min(m,b)),s=0,c=0;c<a.c.length-1;c++)for(u1(c,a.c.length),l=jV(a.c[c],112),p=c+1;p<a.c.length;p++)s+=pzt(t,l,(u1(p,a.c.length),jV(a.c[p],112)));for(f=jV(wTt(e,(lKt(),Ede)),230),s>=2&&(w=YDt(a,!0,f),!t.e&&(t.e=new um(t)),cmt(t.e,w,a,t.b)),nEt(a,f),rqt(a),g=-1,h=new Wf(a);h.a<h.c.c.length;)u=jV(Q1(h),112),i.Math.abs(u.s-u.c)<hJt||(g=i.Math.max(g,u.o),t.d.dg(u,o,t.c));return t.d.a.a.$b(),g+1}function PUt(t,e){var n,i;zv(xR(wTt(e,(VGt(),wbe))))<2&&lct(e,wbe,2),jV(wTt(e,Upe),103)==(jht(),jAe)&&lct(e,Upe,Gdt(e)),0==(n=jV(wTt(e,dbe),19)).a?lct(e,(lKt(),Ede),new cft):lct(e,(lKt(),Ede),new C5(n.a)),null==kR(wTt(e,Dme))&&lct(e,Dme,(cN(),zI(wTt(e,Zpe))===zI((Eft(),KAe)))),XE(new LH(null,new d1(e.a,16)),new Lg(t)),XE(dtt(new LH(null,new d1(e.b,16)),new we),new Rg(t)),i=new cUt(e),lct(e,(lKt(),Ide),i),c2(t.a),CW(t.a,(yTt(),Lse),jV(wTt(e,zpe),246)),CW(t.a,Rse,jV(wTt(e,Tme),246)),CW(t.a,Bse,jV(wTt(e,Vpe),246)),CW(t.a,Fse,jV(wTt(e,Bme),246)),CW(t.a,jse,Tst(jV(wTt(e,Zpe),218))),rP(t.a,OGt(e)),lct(e,xde,PHt(t.a,e))}function OUt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_;return d=t.c[e],f=t.c[n],!((g=jV(wTt(d,(lKt(),ide)),15))&&0!=g.gc()&&g.Hc(f)||(p=d.k!=(sCt(),Tae)&&f.k!=Tae,w=(m=jV(wTt(d,nde),10))!=(b=jV(wTt(f,nde),10)),y=!!m&&m!=d||!!b&&b!=f,v=ayt(d,(vWt(),aIe)),_=ayt(f,EIe),y|=ayt(d,EIe)||ayt(f,aIe),p&&(y&&w||v||_))||d.k==(sCt(),Aae)&&f.k==Cae||f.k==(sCt(),Aae)&&d.k==Cae)&&(u=t.c[e],o=t.c[n],r=ukt(t.e,u,o,(vWt(),CIe)),c=ukt(t.i,u,o,sIe),xNt(t.f,u,o),l=Dlt(t.b,u,o)+jV(r.a,19).a+jV(c.a,19).a+t.f.d,a=Dlt(t.b,o,u)+jV(r.b,19).a+jV(c.b,19).a+t.f.b,t.a&&(h=jV(wTt(u,fde),11),s=jV(wTt(o,fde),11),l+=jV((i=zvt(t.g,h,s)).a,19).a,a+=jV(i.b,19).a),l>a)}function DUt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m;for(n=jV(wTt(t,(VGt(),tbe)),98),a=t.f,s=t.d,c=a.a+s.b+s.c,l=0-s.d-t.c.b,h=a.b+s.d+s.a-t.c.b,u=new Ob,d=new Ob,o=new Wf(e);o.a<o.c.c.length;){switch(r=jV(Q1(o),10),n.g){case 1:case 2:case 3:FNt(r);break;case 4:g=(f=jV(wTt(r,Qme),8))?f.a:0,r.n.a=c*zv(xR(wTt(r,(lKt(),kde))))-g,Zst(r,!0,!1);break;case 5:m=(p=jV(wTt(r,Qme),8))?p.a:0,r.n.a=zv(xR(wTt(r,(lKt(),kde))))-m,Zst(r,!0,!1),a.a=i.Math.max(a.a,r.n.a+r.o.a/2)}switch(jV(wTt(r,(lKt(),Khe)),61).g){case 1:r.n.b=l,u.c[u.c.length]=r;break;case 3:r.n.b=h,d.c[d.c.length]=r}}switch(n.g){case 1:case 2:Rht(u,t),Rht(d,t);break;case 3:Bht(u,t),Bht(d,t)}}function NUt(t,e){var n,i,r,o,s,a,c,l,u,h;for(u=new Ob,h=new Pb,o=null,r=0,i=0;i<e.length;++i)switch(Rlt(o,n=e[i])&&(r=Apt(t,h,u,Rye,r)),PL(n,(lKt(),nde))&&(o=jV(wTt(n,nde),10)),n.k.g){case 0:for(c=VP(RV(oft(n,(vWt(),aIe)),new Ro));Qit(c);)s=jV(T9(c),11),t.d[s.p]=r++,u.c[u.c.length]=s;for(r=Apt(t,h,u,Rye,r),l=VP(RV(oft(n,EIe),new Ro));Qit(l);)s=jV(T9(l),11),t.d[s.p]=r++,u.c[u.c.length]=s;break;case 3:oft(n,Lye).dc()||(s=jV(oft(n,Lye).Xb(0),11),t.d[s.p]=r++,u.c[u.c.length]=s),oft(n,Rye).dc()||f3(h,n);break;case 1:for(a=oft(n,(vWt(),CIe)).Kc();a.Ob();)s=jV(a.Pb(),11),t.d[s.p]=r++,u.c[u.c.length]=s;oft(n,sIe).Jc(new ZA(h,n))}return Apt(t,h,u,Rye,r),u}function LUt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y;for(u=RXt,h=RXt,c=BXt,l=BXt,f=new Wf(e.i);f.a<f.c.c.length;)d=jV(Q1(f),65),EP(o=jV(jV(LG(t.g,d.a),46).b,33),d.b.c,d.b.d),u=i.Math.min(u,o.i),h=i.Math.min(h,o.j),c=i.Math.max(c,o.i+o.g),l=i.Math.max(l,o.j+o.f);for(g=jV(QPt(t.c,(ETt(),hEe)),116),BWt(t.c,c-u+(g.b+g.c),l-h+(g.d+g.a),!0,!0),hTt(t.c,-u+g.b,-h+g.d),r=new ID(eX(t.c));r.e!=r.i.gc();)a=rRt(n=jV(vbt(r),79),!0,!0),p=CTt(n),b=ITt(n),m=new DS(p.i+p.g/2,p.j+p.f/2),s=new DS(b.i+b.g/2,b.j+b.f/2),q_t(w=qB(new DS(s.a,s.b),m),p.g,p.f),UB(m,w),q_t(y=qB(new DS(m.a,m.b),s),b.g,b.f),UB(s,y),CP(a,m.a,m.b),TP(a,s.a,s.b)}function RUt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f;if(t.c=t.d,d=null==(f=kR(wTt(e,(VGt(),fbe))))||(yK(f),f),o=jV(wTt(e,(lKt(),Zhe)),21).Hc((dRt(),uhe)),n=!((r=jV(wTt(e,tbe),98))==(Yxt(),USe)||r==WSe||r==qSe),!d||!n&&o)h=new Xv(Cat(z_(vae,1),ZJt,37,0,[e]));else{for(u=new Wf(e.a);u.a<u.c.c.length;)jV(Q1(u),10).p=0;for(h=new Ob,l=new Wf(e.a);l.a<l.c.c.length;)if(i=Ojt(t,jV(Q1(l),10),null)){for(zst(c=new wit,e),lct(c,qhe,jV(i.b,21)),yX(c.d,e.d),lct(c,$me,null),a=jV(i.a,15).Kc();a.Ob();)s=jV(a.Pb(),10),WV(c.a,s),s.a=c;h.Fc(c)}o&&(zI(wTt(e,Cpe))===zI(($ht(),uae))?t.c=t.b:t.c=t.a)}return zI(wTt(e,Cpe))!==zI(($ht(),dae))&&(EX(),h.ad(new Ne)),h}function BUt(t){OT(t,new EEt(bk(fk(mk(dk(pk(gk(new ma,Y3t),"ELK Mr. Tree"),"Tree-based algorithm provided by the Eclipse Layout Kernel. Computes a spanning tree of the input graph and arranges all nodes according to the resulting parent-children hierarchy. I pity the fool who doesn't use Mr. Tree Layout."),new Ls),X3t),Jdt((lPt(),YMe))))),o2(t,Y3t,YQt,S_e),o2(t,Y3t,bJt,20),o2(t,Y3t,KQt,gJt),o2(t,Y3t,mJt,ndt(1)),o2(t,Y3t,vJt,(cN(),!0)),o2(t,Y3t,W2t,wbt(__e)),o2(t,Y3t,CJt,wbt(x_e)),o2(t,Y3t,$Jt,wbt(E_e)),o2(t,Y3t,TJt,wbt(T_e)),o2(t,Y3t,AJt,wbt(k_e)),o2(t,Y3t,EJt,wbt(C_e)),o2(t,Y3t,SJt,wbt(I_e)),o2(t,Y3t,W3t,wbt(N_e)),o2(t,Y3t,G3t,wbt(P_e))}function FUt(t){t.q||(t.q=!0,t.p=vst(t,0),t.a=vst(t,1),Brt(t.a,0),t.f=vst(t,2),Brt(t.f,1),Rrt(t.f,2),t.n=vst(t,3),Rrt(t.n,3),Rrt(t.n,4),Rrt(t.n,5),Rrt(t.n,6),t.g=vst(t,4),Brt(t.g,7),Rrt(t.g,8),t.c=vst(t,5),Brt(t.c,7),Brt(t.c,8),t.i=vst(t,6),Brt(t.i,9),Brt(t.i,10),Brt(t.i,11),Brt(t.i,12),Rrt(t.i,13),t.j=vst(t,7),Brt(t.j,9),t.d=vst(t,8),Brt(t.d,3),Brt(t.d,4),Brt(t.d,5),Brt(t.d,6),Rrt(t.d,7),Rrt(t.d,8),Rrt(t.d,9),Rrt(t.d,10),t.b=vst(t,9),Rrt(t.b,0),Rrt(t.b,1),t.e=vst(t,10),Rrt(t.e,1),Rrt(t.e,2),Rrt(t.e,3),Rrt(t.e,4),Brt(t.e,5),Brt(t.e,6),Brt(t.e,7),Brt(t.e,8),Brt(t.e,9),Brt(t.e,10),Rrt(t.e,11),t.k=vst(t,11),Rrt(t.k,0),Rrt(t.k,1),t.o=_st(t,12),t.s=_st(t,13))}function jUt(t,e){e.dc()&&tz(t.j,!0,!0,!0,!0),Dht(e,(vWt(),fIe))&&tz(t.j,!0,!0,!0,!1),Dht(e,cIe)&&tz(t.j,!1,!0,!0,!0),Dht(e,_Ie)&&tz(t.j,!0,!0,!1,!0),Dht(e,xIe)&&tz(t.j,!0,!1,!0,!0),Dht(e,gIe)&&tz(t.j,!1,!0,!0,!1),Dht(e,lIe)&&tz(t.j,!1,!0,!1,!0),Dht(e,kIe)&&tz(t.j,!0,!1,!1,!0),Dht(e,vIe)&&tz(t.j,!0,!1,!0,!1),Dht(e,wIe)&&tz(t.j,!0,!0,!0,!0),Dht(e,hIe)&&tz(t.j,!0,!0,!0,!0),Dht(e,wIe)&&tz(t.j,!0,!0,!0,!0),Dht(e,uIe)&&tz(t.j,!0,!0,!0,!0),Dht(e,yIe)&&tz(t.j,!0,!0,!0,!0),Dht(e,bIe)&&tz(t.j,!0,!0,!0,!0),Dht(e,mIe)&&tz(t.j,!0,!0,!0,!0)}function $Ut(t,e,n,i,r){var o,s,a,c,l,u,h,d,f,g,p,m;for(o=new Ob,l=new Wf(i);l.a<l.c.c.length;)if(s=null,(a=jV(Q1(l),441)).f==(oit(),Vwe))for(g=new Wf(a.e);g.a<g.c.c.length;)mK(m=(f=jV(Q1(g),17)).d.i)==e?Tet(t,e,a,f,a.b,f.d):!n||fst(m,n)?HTt(t,e,a,i,f):((d=Ozt(t,e,n,f,a.b,Vwe,s))!=s&&(o.c[o.c.length]=d),d.c&&(s=d));else for(h=new Wf(a.e);h.a<h.c.c.length;)if(mK(p=(u=jV(Q1(h),17)).c.i)==e)Tet(t,e,a,u,u.c,a.b);else{if(!n||fst(p,n))continue;(d=Ozt(t,e,n,u,a.b,$we,s))!=s&&(o.c[o.c.length]=d),d.c&&(s=d)}for(c=new Wf(o);c.a<c.c.c.length;)a=jV(Q1(c),441),-1!=_9(e.a,a.a,0)||WV(e.a,a.a),a.c&&(r.c[r.c.length]=a)}function VUt(t,e,n){var i,r,o,s,a,c,l,u;for(c=new Ob,a=new Wf(e.a);a.a<a.c.c.length;)for(u=oft(jV(Q1(a),10),(vWt(),sIe)).Kc();u.Ob();)for(r=new Wf(jV(u.Pb(),11).g);r.a<r.c.c.length;)!h4(i=jV(Q1(r),17))&&i.c.i.c==i.d.i.c||h4(i)||i.d.i.c!=n||(c.c[c.c.length]=i);for(s=est(n.a).Kc();s.Ob();)for(u=oft(jV(s.Pb(),10),(vWt(),CIe)).Kc();u.Ob();)for(r=new Wf(jV(u.Pb(),11).e);r.a<r.c.c.length;)if((h4(i=jV(Q1(r),17))||i.c.i.c!=i.d.i.c)&&!h4(i)&&i.c.i.c==e){for(TL((l=new x2(c,c.c.length)).b>0),o=jV(l.a.Xb(l.c=--l.b),17);o!=i&&l.b>0;)t.a[o.p]=!0,t.a[i.p]=!0,TL(l.b>0),o=jV(l.a.Xb(l.c=--l.b),17);l.b>0&&lK(l)}}function zUt(t,e,n){var i,r,o,s,a,c,l,u,h;if(t.a!=e.Aj())throw $b(new Bv(g6t+e.ne()+p6t));if(i=Aht((SAt(),XOe),e).$k())return i.Aj().Nh().Ih(i,n);if(s=Aht(XOe,e).al()){if(null==n)return null;if((a=jV(n,15)).dc())return"";for(h=new E_,o=a.Kc();o.Ob();)r=o.Pb(),iM(h,s.Aj().Nh().Ih(s,r)),h.a+=" ";return RM(h,h.a.length-1)}if(!(u=Aht(XOe,e).bl()).dc()){for(l=u.Kc();l.Ob();)if((c=jV(l.Pb(),148)).wj(n))try{if(null!=(h=c.Aj().Nh().Ih(c,n)))return h}catch(t){if(!iD(t=hat(t),102))throw $b(t)}throw $b(new Bv("Invalid value: '"+n+"' for datatype :"+e.ne()))}return jV(e,834).Fj(),null==n?null:iD(n,172)?""+jV(n,172).a:tlt(n)==wee?$O(AMe[0],jV(n,199)):$ft(n)}function HUt(t){var e,n,r,o,s,a,c,l,u;for(l=new YE,a=new YE,o=new Wf(t);o.a<o.c.c.length;)(n=jV(Q1(o),128)).v=0,n.n=n.i.c.length,n.u=n.t.c.length,0==n.n&&n4(l,n,l.c.b,l.c),0==n.u&&0==n.r.a.gc()&&n4(a,n,a.c.b,a.c);for(s=-1;0!=l.b;)for(e=new Wf((n=jV(t_t(l,0),128)).t);e.a<e.c.c.length;)(u=jV(Q1(e),268).b).v=i.Math.max(u.v,n.v+1),s=i.Math.max(s,u.v),--u.n,0==u.n&&n4(l,u,l.c.b,l.c);if(s>-1){for(r=cbt(a,0);r.b!=r.d.c;)(n=jV(h3(r),128)).v=s;for(;0!=a.b;)for(e=new Wf((n=jV(t_t(a,0),128)).i);e.a<e.c.c.length;)0==(c=jV(Q1(e),268).a).r.a.gc()&&(c.v=i.Math.min(c.v,n.v-1),--c.u,0==c.u&&n4(a,c,a.c.b,a.c))}}function UUt(t,e,n,r,o){var s,a,c,l;return l=RXt,a=!1,s=!!(c=UVt(t,qB(new DS(e.a,e.b),t),UB(new DS(n.a,n.b),o),qB(new DS(r.a,r.b),n)))&&!(i.Math.abs(c.a-t.a)<=c4t&&i.Math.abs(c.b-t.b)<=c4t||i.Math.abs(c.a-e.a)<=c4t&&i.Math.abs(c.b-e.b)<=c4t),(c=UVt(t,qB(new DS(e.a,e.b),t),n,o))&&((i.Math.abs(c.a-t.a)<=c4t&&i.Math.abs(c.b-t.b)<=c4t)==(i.Math.abs(c.a-e.a)<=c4t&&i.Math.abs(c.b-e.b)<=c4t)||s?l=i.Math.min(l,uK(qB(c,n))):a=!0),(c=UVt(t,qB(new DS(e.a,e.b),t),r,o))&&(a||(i.Math.abs(c.a-t.a)<=c4t&&i.Math.abs(c.b-t.b)<=c4t)==(i.Math.abs(c.a-e.a)<=c4t&&i.Math.abs(c.b-e.b)<=c4t)||s)&&(l=i.Math.min(l,uK(qB(c,r)))),l}function qUt(t){OT(t,new EEt(fk(mk(dk(pk(gk(new ma,FJt),jJt),"Minimizes the stress within a layout using stress majorization. Stress exists if the euclidean distance between a pair of nodes doesn't match their graph theoretic distance, that is, the shortest path between the two nodes. The method allows to specify individual edge lengths."),new pe),pJt))),o2(t,FJt,_Jt,wbt(yse)),o2(t,FJt,xJt,(cN(),!0)),o2(t,FJt,CJt,wbt(kse)),o2(t,FJt,$Jt,wbt(xse)),o2(t,FJt,TJt,wbt(Ese)),o2(t,FJt,AJt,wbt(_se)),o2(t,FJt,EJt,wbt(Tse)),o2(t,FJt,SJt,wbt(Cse)),o2(t,FJt,DJt,wbt(wse)),o2(t,FJt,LJt,wbt(mse)),o2(t,FJt,RJt,wbt(bse)),o2(t,FJt,BJt,wbt(vse)),o2(t,FJt,NJt,wbt(pse))}function WUt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m;for(IEt(e,"Interactive crossing minimization",1),s=0,o=new Wf(t.b);o.a<o.c.c.length;)(i=jV(Q1(o),29)).p=s++;for(p=new Lk((d=zxt(t)).length),Azt(new Xv(Cat(z_(vle,1),VKt,225,0,[p])),d),g=0,s=0,r=new Wf(t.b);r.a<r.c.c.length;){for(n=0,h=0,u=new Wf((i=jV(Q1(r),29)).a);u.a<u.c.c.length;)for((c=jV(Q1(u),10)).n.a>0&&(n+=c.n.a+c.o.a/2,++h),f=new Wf(c.j);f.a<f.c.c.length;)jV(Q1(f),11).p=g++;for(h>0&&(n/=h),m=D7(ONe,zXt,25,i.a.c.length,15,1),a=0,l=new Wf(i.a);l.a<l.c.c.length;)(c=jV(Q1(l),10)).p=a++,m[c.p]=EUt(c,n),c.k==(sCt(),Tae)&&lct(c,(lKt(),pde),m[c.p]);EX(),bO(i.a,new zp(m)),ijt(p,d,s,!0),++s}VCt(e)}function GUt(t,e){var n,i,r,o,s,a,c,l,u;if(5!=e.e){if(null!=(l=e).b&&null!=t.b){for(xOt(t),zzt(t),xOt(l),zzt(l),n=D7(SNe,lXt,25,t.b.length+l.b.length,15,1),u=0,i=0,s=0;i<t.b.length&&s<l.b.length;)if(r=t.b[i],o=t.b[i+1],a=l.b[s],c=l.b[s+1],o<a)n[u++]=t.b[i++],n[u++]=t.b[i++];else if(o>=a&&r<=c)a<=r&&o<=c?i+=2:a<=r?(t.b[i]=c+1,s+=2):o<=c?(n[u++]=r,n[u++]=a-1,i+=2):(n[u++]=r,n[u++]=a-1,t.b[i]=c+1,s+=2);else{if(!(c<r))throw $b(new fv("Token#subtractRanges(): Internal Error: ["+t.b[i]+","+t.b[i+1]+"] - ["+l.b[s]+","+l.b[s+1]+"]"));s+=2}for(;i<t.b.length;)n[u++]=t.b[i++],n[u++]=t.b[i++];t.b=D7(SNe,lXt,25,u,15,1),ozt(n,0,t.b,0,u)}}else vUt(t,e)}function KUt(t){var e,n,i,r,o,s,a;if(!t.A.dc()){if(t.A.Hc((wpt(),RIe))&&(jV(sY(t.b,(vWt(),aIe)),124).k=!0,jV(sY(t.b,EIe),124).k=!0,e=t.q!=(Yxt(),WSe)&&t.q!=qSe,Pd(jV(sY(t.b,sIe),124),e),Pd(jV(sY(t.b,CIe),124),e),Pd(t.g,e),t.A.Hc(BIe)&&(jV(sY(t.b,aIe),124).j=!0,jV(sY(t.b,EIe),124).j=!0,jV(sY(t.b,sIe),124).k=!0,jV(sY(t.b,CIe),124).k=!0,t.g.k=!0)),t.A.Hc(LIe))for(t.a.j=!0,t.a.k=!0,t.g.j=!0,t.g.k=!0,a=t.B.Hc((JFt(),qIe)),o=0,s=(r=tbt()).length;o<s;++o)i=r[o],(n=jV(sY(t.i,i),306))&&(omt(i)?(n.j=!0,n.k=!0):(n.j=!a,n.k=!a));t.A.Hc(NIe)&&t.B.Hc((JFt(),UIe))&&(t.g.j=!0,t.g.j=!0,t.a.j||(t.a.j=!0,t.a.k=!0,t.a.e=!0))}}function YUt(t){var e,n,i,r,o,s,a,c,l,u,h,d,f,g,p;for(n=new Wf(t.e.b);n.a<n.c.c.length;)for(r=new Wf(jV(Q1(n),29).a);r.a<r.c.c.length;)if(i=jV(Q1(r),10),c=(h=t.i[i.p]).a.e,a=h.d.e,i.n.b=c,p=a-c-i.o.b,e=Mzt(i),dwt(),u=(i.q?i.q:(EX(),EX(),lne))._b((VGt(),Lme))?jV(wTt(i,Lme),197):jV(wTt(mK(i),Rme),197),e&&(u==lwe||u==cwe)&&(i.o.b+=p),e&&(u==hwe||u==lwe||u==cwe)){for(f=new Wf(i.j);f.a<f.c.c.length;)d=jV(Q1(f),11),(vWt(),hIe).Hc(d.j)&&(l=jV(LG(t.k,d),121),d.n.b=l.e-c);for(s=new Wf(i.b);s.a<s.c.c.length;)o=jV(Q1(s),70),(g=jV(wTt(i,Mme),21)).Hc((JPt(),OSe))?o.n.b+=p:g.Hc(DSe)&&(o.n.b+=p/2);(u==lwe||u==cwe)&&oft(i,(vWt(),EIe)).Jc(new rm(p))}}function XUt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f;if(!t.b)return!1;for(s=null,d=null,r=1,(c=new $7(null,null)).a[1]=t.b,h=c;h.a[r];)l=r,a=d,d=h,h=h.a[r],r=(i=t.a.ue(e,h.d))<0?0:1,0==i&&(!n.c||iY(h.e,n.d))&&(s=h),h&&h.b||Gv(h.a[r])||(Gv(h.a[1-r])?d=d.a[l]=frt(h,r):Gv(h.a[1-r])||(f=d.a[1-l])&&(Gv(f.a[1-l])||Gv(f.a[l])?(o=a.a[1]==d?1:0,Gv(f.a[l])?a.a[o]=n2(d,l):Gv(f.a[1-l])&&(a.a[o]=frt(d,l)),h.b=a.a[o].b=!0,a.a[o].a[0].b=!1,a.a[o].a[1].b=!1):(d.b=!1,f.b=!0,h.b=!0)));return s&&(n.b=!0,n.d=s.e,h!=s&&(dTt(t,c,s,u=new $7(h.d,h.e)),d==s&&(d=u)),d.a[d.a[1]==h?1:0]=h.a[h.a[0]?0:1],--t.c),t.b=c.a[1],t.b&&(t.b.b=!1),n.b}function ZUt(t){var e,n,r,o,s,a,c,l,u,h,d,f;for(o=new Wf(t.a.a.b);o.a<o.c.c.length;)for(l=(r=jV(Q1(o),57)).c.Kc();l.Ob();)c=jV(l.Pb(),57),r.a!=c.a&&(d=fP(t.a.d)?t.a.g.Oe(r,c):t.a.g.Pe(r,c),s=r.b.a+r.d.b+d-c.b.a,s=i.Math.ceil(s),s=i.Math.max(0,s),Z9(r,c)?(a=IN(new Vw,t.d),e=(u=CQ(i.Math.ceil(c.b.a-r.b.a)))-(c.b.a-r.b.a),n=r,(h=l3(r).a)||(h=l3(c).a,e=-e,n=c),h&&(n.b.a-=e,h.n.a-=e),qNt(rT(iT(oT(nT(new $w,i.Math.max(0,u)),1),a),t.c[r.a.d])),qNt(rT(iT(oT(nT(new $w,i.Math.max(0,-u)),1),a),t.c[c.a.d]))):(f=1,(iD(r.g,145)&&iD(c.g,10)||iD(c.g,145)&&iD(r.g,10))&&(f=2),qNt(rT(iT(oT(nT(new $w,CQ(s)),f),t.c[r.a.d]),t.c[c.a.d]))))}function QUt(t,e,n){var r,o,s,a,c,l,u,h,d,f;if(n)for(r=-1,h=new x2(e,0);h.b<h.d.gc();){if(TL(h.b<h.d.gc()),c=jV(h.d.Xb(h.c=h.b++),10),null==(d=t.c[c.c.p][c.p].a)){for(a=r+1,s=new x2(e,h.b);s.b<s.d.gc();)if(null!=(f=dD(t,(TL(s.b<s.d.gc()),jV(s.d.Xb(s.c=s.b++),10))).a)){yK(f),a=f;break}d=(r+a)/2,t.c[c.c.p][c.p].a=d,t.c[c.c.p][c.p].d=(yK(d),d),t.c[c.c.p][c.p].b=1}yK(d),r=d}else{for(o=0,u=new Wf(e);u.a<u.c.c.length;)c=jV(Q1(u),10),null!=t.c[c.c.p][c.p].a&&(o=i.Math.max(o,zv(t.c[c.c.p][c.p].a)));for(o+=2,l=new Wf(e);l.a<l.c.c.length;)c=jV(Q1(l),10),null==t.c[c.c.p][c.p].a&&(d=VOt(t.i,24)*sZt*o-1,t.c[c.c.p][c.p].a=d,t.c[c.c.p][c.p].d=d,t.c[c.c.p][c.p].b=1)}}function JUt(){LM(FPe,new el),LM(LPe,new dl),LM($Pe,new xl),LM(jPe,new Il),LM(VPe,new Ml),LM(UPe,new Pl),LM(qPe,new Ol),LM(jMe,new Dl),LM(FMe,new qc),LM($Me,new Wc),LM(MMe,new Gc),LM(GPe,new Kc),LM(VMe,new Yc),LM(KPe,new Xc),LM(YPe,new Zc),LM(BPe,new Qc),LM(RPe,new Jc),LM(UOe,new tl),LM(WPe,new nl),LM(AOe,new il),LM(vee,new rl),LM(z_(PNe,1),new ol),LM(xee,new sl),LM(Tee,new al),LM(wee,new cl),LM(RNe,new ll),LM(Cee,new ul),LM(rPe,new hl),LM(bPe,new fl),LM(uDe,new gl),LM(IOe,new pl),LM(Aee,new ml),LM(Mee,new bl),LM(Pte,new wl),LM(Ree,new yl),LM(Dte,new vl),LM(tDe,new _l),LM(BNe,new kl),LM(Fee,new El),LM(Yee,new Tl),LM(cPe,new Cl),LM(FNe,new Al)}function tqt(t,e,n){var i,r,o,s,a,c,l,u,h;for(!n&&(n=Hat(e.q.getTimezoneOffset())),r=6e4*(e.q.getTimezoneOffset()-n.a),c=a=new TR(ift(ust(e.q.getTime()),r)),a.q.getTimezoneOffset()!=e.q.getTimezoneOffset()&&(r>0?r-=864e5:r+=864e5,c=new TR(ift(ust(e.q.getTime()),r))),u=new A_,l=t.a.length,o=0;o<l;)if((i=lY(t.a,o))>=97&&i<=122||i>=65&&i<=90){for(s=o+1;s<l&&lY(t.a,s)==i;++s);oKt(u,i,s-o,a,c,n),o=s}else if(39==i){if(++o<l&&39==lY(t.a,o)){u.a+="'",++o;continue}for(h=!1;!h;){for(s=o;s<l&&39!=lY(t.a,s);)++s;if(s>=l)throw $b(new Bv("Missing trailing '"));s+1<l&&39==lY(t.a,s+1)?++s:h=!0,sM(u,lL(t.a,o,s)),o=s+1}}else u.a+=String.fromCharCode(i),++o;return u.a}function eqt(t){var e,n,i,r,o,s,a,c;for(e=null,i=new Wf(t);i.a<i.c.c.length;)zv(uD((n=jV(Q1(i),233)).g,n.d[0]).a),n.b=null,n.e&&n.e.gc()>0&&0==n.c&&(!e&&(e=new Ob),e.c[e.c.length]=n);if(e)for(;0!=e.c.length;){if((n=jV(a6(e,0),233)).b&&n.b.c.length>0)for(!n.b&&(n.b=new Ob),o=new Wf(n.b);o.a<o.c.c.length;)if(Hv(uD((r=jV(Q1(o),233)).g,r.d[0]).a)==Hv(uD(n.g,n.d[0]).a)){if(_9(t,r,0)>_9(t,n,0))return new nI(r,n)}else if(zv(uD(r.g,r.d[0]).a)>zv(uD(n.g,n.d[0]).a))return new nI(r,n);for(a=(!n.e&&(n.e=new Ob),n.e).Kc();a.Ob();)!(s=jV(a.Pb(),233)).b&&(s.b=new Ob),PJ(0,(c=s.b).c.length),xC(c.c,0,n),s.c==c.c.length&&(e.c[e.c.length]=s)}return null}function nqt(t,e){var n,i,r,o,s,a;if(null==t)return UKt;if(null!=e.a.zc(t,e))return"[...]";for(n=new Pst(jKt,"[","]"),o=0,s=(r=t).length;o<s;++o)null!=(i=r[o])&&4&tlt(i).i?!Array.isArray(i)||(a=mtt(i))>=14&&a<=16?iD(i,177)?h6(n,RSt(jV(i,177))):iD(i,190)?h6(n,Zxt(jV(i,190))):iD(i,195)?h6(n,vCt(jV(i,195))):iD(i,2012)?h6(n,Qxt(jV(i,2012))):iD(i,48)?h6(n,LSt(jV(i,48))):iD(i,364)?h6(n,pIt(jV(i,364))):iD(i,832)?h6(n,NSt(jV(i,832))):iD(i,104)&&h6(n,DSt(jV(i,104))):e.a._b(i)?(n.a?sM(n.a,n.b):n.a=new uN(n.d),rM(n.a,"[...]")):h6(n,nqt(ent(i),new MH(e))):h6(n,null==i?UKt:$ft(i));return n.a?0==n.e.length?n.a.a:n.a.a+""+n.e:n.c}function iqt(t,e,n,r){var o,s,a,c,l,u,h,d,f,g,p,m;for(g=zCt(rRt(e,!1,!1)),r&&(g=Zct(g)),m=zv(xR(QPt(e,(kbt(),poe)))),TL(0!=g.b),f=jV(g.a.a.c,8),u=jV(Lbt(g,1),8),g.b>2?(pat(l=new Ob,new a1(g,1,g.b)),zst(p=new kPt(WGt(l,m+t.a)),e),n.c[n.c.length]=p):p=jV(LG(t.b,r?CTt(e):ITt(e)),266),a=CTt(e),r&&(a=ITt(e)),s=nAt(f,a),c=m+t.a,s.a?(c+=i.Math.abs(f.b-u.b),d=new DS(u.a,(u.b+f.b)/2)):(c+=i.Math.abs(f.a-u.a),d=new DS((u.a+f.a)/2,u.b)),GK(r?t.d:t.c,e,new Syt(p,s,d,c)),GK(t.b,e,p),!e.n&&(e.n=new tW(zMe,e,1,7)),h=new ID(e.n);h.e!=h.i.gc();)o=ZBt(t,jV(vbt(h),137),!0,0,0),n.c[n.c.length]=o}function rqt(t){var e,n,r,o,s,a,c,l,u;for(l=new Ob,a=new Ob,s=new Wf(t);s.a<s.c.c.length;)Wd(r=jV(Q1(s),112),r.f.c.length),Gd(r,r.k.c.length),0==r.d&&(l.c[l.c.length]=r),0==r.i&&0==r.e.b&&(a.c[a.c.length]=r);for(n=-1;0!=l.c.length;)for(e=new Wf((r=jV(a6(l,0),112)).k);e.a<e.c.c.length;)Kd(u=jV(Q1(e),129).b,i.Math.max(u.o,r.o+1)),n=i.Math.max(n,u.o),Wd(u,u.d-1),0==u.d&&(l.c[l.c.length]=u);if(n>-1){for(o=new Wf(a);o.a<o.c.c.length;)(r=jV(Q1(o),112)).o=n;for(;0!=a.c.length;)for(e=new Wf((r=jV(a6(a,0),112)).f);e.a<e.c.c.length;)(c=jV(Q1(e),129).a).e.b>0||(Kd(c,i.Math.min(c.o,r.o-1)),Gd(c,c.i-1),0==c.i&&(a.c[a.c.length]=c))}}function oqt(t,e,n){var i,r,o,s,a;if(a=t.c,!e&&(e=MOe),t.c=e,4&t.Db&&!(1&t.Db)&&(s=new Qq(t,1,2,a,t.c),n?n.Ei(s):n=s),a!=e)if(iD(t.Cb,284))t.Db>>16==-10?n=jV(t.Cb,284).nk(e,n):t.Db>>16==-15&&(!e&&(pKt(),e=lOe),!a&&(pKt(),a=lOe),t.Cb.nh()&&(s=new O9(t.Cb,1,13,a,e,swt($9(jV(t.Cb,59)),t),!1),n?n.Ei(s):n=s));else if(iD(t.Cb,88))t.Db>>16==-23&&(iD(e,88)||(pKt(),e=dOe),iD(a,88)||(pKt(),a=dOe),t.Cb.nh()&&(s=new O9(t.Cb,1,10,a,e,swt(r5(jV(t.Cb,26)),t),!1),n?n.Ei(s):n=s));else if(iD(t.Cb,444))for(!(o=jV(t.Cb,836)).b&&(o.b=new kb(new Dy)),r=new xb(new slt(new Tf(o.b.a).a));r.a.b;)n=oqt(i=jV(tnt(r.a).cd(),87),vDt(i,o),n);return n}function sqt(t,e){var n,i,r,o,s,a,c,l,u,h,d;for(s=Vv(kR(QPt(t,(VGt(),dme)))),d=jV(QPt(t,ibe),21),c=!1,l=!1,h=new ID((!t.c&&(t.c=new tW(UMe,t,9,9)),t.c));!(h.e==h.i.gc()||c&&l);){for(o=jV(vbt(h),118),a=0,r=OW(Gnt(Cat(z_(Nte,1),VKt,20,0,[(!o.d&&(o.d=new cF(RMe,o,8,5)),o.d),(!o.e&&(o.e=new cF(RMe,o,7,4)),o.e)])));gPt(r)&&(i=jV(U4(r),79),u=s&&YIt(i)&&Vv(kR(QPt(i,fme))),n=dHt((!i.b&&(i.b=new cF(LMe,i,4,7)),i.b),o)?t==XQ(CEt(jV(Get((!i.c&&(i.c=new cF(LMe,i,5,8)),i.c),0),82))):t==XQ(CEt(jV(Get((!i.b&&(i.b=new cF(LMe,i,4,7)),i.b),0),82))),!((u||n)&&++a>1)););(a>0||d.Hc((hIt(),tIe))&&(!o.n&&(o.n=new tW(zMe,o,1,7)),o.n).i>0)&&(c=!0),a>1&&(l=!0)}c&&e.Fc((dRt(),uhe)),l&&e.Fc((dRt(),hhe))}function aqt(t){var e,n,r,o,s,a,c,l,u,h,d,f;if((f=jV(QPt(t,(cKt(),RCe)),21)).dc())return null;if(c=0,a=0,f.Hc((wpt(),RIe))){for(h=jV(QPt(t,oAe),98),r=2,n=2,o=2,s=2,e=XQ(t)?jV(QPt(XQ(t),hCe),103):jV(QPt(t,hCe),103),u=new ID((!t.c&&(t.c=new tW(UMe,t,9,9)),t.c));u.e!=u.i.gc();)if(l=jV(vbt(u),118),(d=jV(QPt(l,dAe),61))==(vWt(),TIe)&&(d=I$t(l,e),Xbt(l,dAe,d)),h==(Yxt(),qSe))switch(d.g){case 1:r=i.Math.max(r,l.i+l.g);break;case 2:n=i.Math.max(n,l.j+l.f);break;case 3:o=i.Math.max(o,l.i+l.g);break;case 4:s=i.Math.max(s,l.j+l.f)}else switch(d.g){case 1:r+=l.g+2;break;case 2:n+=l.f+2;break;case 3:o+=l.g+2;break;case 4:s+=l.f+2}c=i.Math.max(r,o),a=i.Math.max(n,s)}return BWt(t,c,a,!0,!0)}function cqt(t,e,n,r,o){var s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_;for(y=jV(T5(yet(IY(new LH(null,new d1(e.d,16)),new Mp(n)),new Pp(n)),b8(new z,new V,new it,Cat(z_(Qne,1),PYt,132,0,[(zlt(),Une)]))),15),d=LKt,h=FYt,l=new Wf(e.b.j);l.a<l.c.c.length;)(c=jV(Q1(l),11)).j==n&&(d=i.Math.min(d,c.p),h=i.Math.max(h,c.p));if(d==LKt)for(a=0;a<y.gc();a++)g8(jV(y.Xb(a),101),n,a);else for(ZH(v=D7(SNe,lXt,25,o.length,15,1),v.length),w=y.Kc();w.Ob();){for(b=jV(w.Pb(),101),s=jV(LG(t.b,b),177),u=0,m=d;m<=h;m++)s[m]&&(u=i.Math.max(u,r[m]));if(b.i){for(g=b.i.c,_=new Lw,f=0;f<o.length;f++)o[g][f]&&kW(_,ndt(v[f]));for(;FE(_,ndt(u));)++u}for(g8(b,n,u),p=d;p<=h;p++)s[p]&&(r[p]=u+1);b.i&&(v[b.i.c]=u)}}function lqt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p;for(o=null,r=new Wf(e.a);r.a<r.c.c.length;)Mzt(n=jV(Q1(r),10))?(u=new zY(n,!0,c=IN(sT(new Vw,n),t.f),l=IN(sT(new Vw,n),t.f)),h=n.o.b,dwt(),f=1e4,(d=(n.q?n.q:(EX(),EX(),lne))._b((VGt(),Lme))?jV(wTt(n,Lme),197):jV(wTt(mK(n),Rme),197))==cwe&&(f=1),g=qNt(rT(iT(nT(oT(new $w,f),CQ(i.Math.ceil(h))),c),l)),d==lwe&&kW(t.d,g),Ijt(t,est(oft(n,(vWt(),CIe))),u),Ijt(t,oft(n,sIe),u),s=u):(p=IN(sT(new Vw,n),t.f),XE(IY(new LH(null,new d1(n.j,16)),new zo),new JA(t,p)),s=new zY(n,!1,p,p)),t.i[n.p]=s,o&&(a=o.c.d.a+RO(t.n,o.c,n)+n.d.d,o.b||(a+=o.c.o.b),qNt(rT(iT(oT(nT(new $w,CQ(i.Math.ceil(a))),0),o.d),s.a))),o=s}function uqt(t,e){var n,r,o,s,a,c,l,h,d,f,g,p,m;for(IEt(e,"Label dummy insertions",1),f=new Ob,a=zv(xR(wTt(t,(VGt(),vbe)))),h=zv(xR(wTt(t,Ebe))),d=jV(wTt(t,Upe),103),g=new Wf(t.a);g.a<g.c.c.length;)for(s=new sq(ZD(hft(jV(Q1(g),10)).a.Kc(),new u));gPt(s);)if((o=jV(U4(s),17)).c.i!=o.d.i&&JO(o.b,Qce)){for(n=aDt(t,o,m=ket(o),p=aL(o.b.c.length)),f.c[f.c.length]=n,r=n.o,c=new x2(o.b,0);c.b<c.d.gc();)TL(c.b<c.d.gc()),zI(wTt(l=jV(c.d.Xb(c.c=c.b++),70),Ype))===zI((Ret(),HAe))&&(d==(jht(),$Ae)||d==RAe?(r.a+=l.o.a+h,r.b=i.Math.max(r.b,l.o.b)):(r.a=i.Math.max(r.a,l.o.a),r.b+=l.o.b+h),p.c[p.c.length]=l,lK(c));d==(jht(),$Ae)||d==RAe?(r.a-=h,r.b+=a+m):r.b+=a-h+m}pat(t.a,f),VCt(e)}function hqt(t,e,n,r){var o,s,a,c,l,u,h,d,f,g;for(d=WRt(t,e,s=new gMt(e)),g=i.Math.max(zv(xR(wTt(e,(VGt(),rme)))),1),h=new Wf(d.a);h.a<h.c.c.length;)u=jV(Q1(h),46),l=$mt(jV(u.a,8),jV(u.b,8),g),Hz(n,new DS(l.c,l.d)),Hz(n,BL(new DS(l.c,l.d),l.b,0)),Hz(n,BL(new DS(l.c,l.d),0,l.a)),Hz(n,BL(new DS(l.c,l.d),l.b,l.a));switch(f=s.d,c=$mt(jV(d.b.a,8),jV(d.b.b,8),g),f==(vWt(),CIe)||f==sIe?(r.c[f.g]=i.Math.min(r.c[f.g],c.d),r.b[f.g]=i.Math.max(r.b[f.g],c.d+c.a)):(r.c[f.g]=i.Math.min(r.c[f.g],c.c),r.b[f.g]=i.Math.max(r.b[f.g],c.c+c.b)),o=BXt,a=s.c.i.d,f.g){case 4:o=a.c;break;case 2:o=a.b;break;case 1:o=a.a;break;case 3:o=a.d}return r.a[f.g]=i.Math.max(r.a[f.g],o),s}function dqt(t){var e,n,i,r;if(-1!=(e=zM(n=null!=t.D?t.D:t.B,XEt(91)))){i=n.substr(0,e),r=new E_;do{r.a+="["}while(-1!=(e=uL(n,91,++e)));bF(i,PKt)?r.a+="Z":bF(i,T8t)?r.a+="B":bF(i,C8t)?r.a+="C":bF(i,A8t)?r.a+="D":bF(i,S8t)?r.a+="F":bF(i,I8t)?r.a+="I":bF(i,M8t)?r.a+="J":bF(i,P8t)?r.a+="S":(r.a+="L",r.a+=""+i,r.a+=";");try{return null}catch(t){if(!iD(t=hat(t),60))throw $b(t)}}else if(-1==zM(n,XEt(46))){if(bF(n,PKt))return INe;if(bF(n,T8t))return PNe;if(bF(n,C8t))return ANe;if(bF(n,A8t))return ONe;if(bF(n,S8t))return DNe;if(bF(n,I8t))return SNe;if(bF(n,M8t))return MNe;if(bF(n,P8t))return NNe}return null}function fqt(t,e,n){var i,r,o,s,a,c,l,u;for(zst(l=new Pwt(n),e),lct(l,(lKt(),fde),e),l.o.a=e.g,l.o.b=e.f,l.n.a=e.i,l.n.b=e.j,WV(n.a,l),GK(t.a,e,l),(0!=(!e.a&&(e.a=new tW(HMe,e,10,11)),e.a).i||Vv(kR(QPt(e,(VGt(),dme)))))&&lct(l,Bhe,(cN(),!0)),c=jV(wTt(n,Zhe),21),(u=jV(wTt(l,(VGt(),tbe)),98))==(Yxt(),YSe)?lct(l,tbe,KSe):u!=KSe&&c.Fc((dRt(),fhe)),i=jV(wTt(n,Upe),103),a=new ID((!e.c&&(e.c=new tW(UMe,e,9,9)),e.c));a.e!=a.i.gc();)Vv(kR(QPt(s=jV(vbt(a),118),zme)))||Qqt(t,s,l,c,i,u);for(o=new ID((!e.n&&(e.n=new tW(zMe,e,1,7)),e.n));o.e!=o.i.gc();)!Vv(kR(QPt(r=jV(vbt(o),137),zme)))&&r.a&&WV(l.b,Vut(r));return Vv(kR(wTt(l,kpe)))&&c.Fc((dRt(),che)),Vv(kR(wTt(l,hme)))&&(c.Fc((dRt(),dhe)),c.Fc(hhe),lct(l,tbe,KSe)),l}function gqt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E;a=jV(LG(e.c,t),459),m=e.a.c,c=e.a.c+e.a.b,s=(x=a.f)<(E=a.a),f=new DS(m,x),b=new DS(c,E),g=new DS(r=(m+c)/2,x),w=new DS(r,E),o=eNt(t,x,E),v=g1(e.B),_=new DS(r,o),k=g1(e.D),n=hct(Cat(z_(TTe,1),cYt,8,0,[v,_,k])),h=!1,(p=e.B.i)&&p.c&&a.d&&((l=s&&p.p<p.c.a.c.length-1||!s&&p.p>0)?l&&(u=p.p,s?++u:--u,h=!(rNt(i=nct(jV(DH(p.c.a,u),10)),v,n[0])||jq(i,v,n[0]))):h=!0),d=!1,(y=e.D.i)&&y.c&&a.e&&(s&&y.p>0||!s&&y.p<y.c.a.c.length-1?(u=y.p,s?--u:++u,d=!(rNt(i=nct(jV(DH(y.c.a,u),10)),n[0],k)||jq(i,n[0],k))):d=!0),h&&d&&Nz(t.a,_),h||Jnt(t.a,Cat(z_(TTe,1),cYt,8,0,[f,g])),d||Jnt(t.a,Cat(z_(TTe,1),cYt,8,0,[w,b]))}function pqt(t,e){var n,i,r,o,s,a,c;if(iD(t.Ug(),160)?(pqt(jV(t.Ug(),160),e),e.a+=" > "):e.a+="Root ",bF((n=t.Tg().zb).substr(0,3),"Elk")?sM(e,n.substr(3)):e.a+=""+n,r=t.zg())sM((e.a+=" ",e),r);else if(iD(t,354)&&(c=jV(t,137).a))sM((e.a+=" ",e),c);else{for(o=new ID(t.Ag());o.e!=o.i.gc();)if(c=jV(vbt(o),137).a)return void sM((e.a+=" ",e),c);if(iD(t,352)&&(!(i=jV(t,79)).b&&(i.b=new cF(LMe,i,4,7)),0!=i.b.i&&(!i.c&&(i.c=new cF(LMe,i,5,8)),0!=i.c.i))){for(e.a+=" (",s=new iL((!i.b&&(i.b=new cF(LMe,i,4,7)),i.b));s.e!=s.i.gc();)s.e>0&&(e.a+=jKt),pqt(jV(vbt(s),160),e);for(e.a+=e1t,a=new iL((!i.c&&(i.c=new cF(LMe,i,5,8)),i.c));a.e!=a.i.gc();)a.e>0&&(e.a+=jKt),pqt(jV(vbt(a),160),e);e.a+=")"}}}function mqt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f;if(o=jV(wTt(t,(lKt(),fde)),79)){for(i=t.a,UB(r=new dP(n),Pkt(t)),fst(t.d.i,t.c.i)?(d=t.c,qB(h=Mct(Cat(z_(TTe,1),cYt,8,0,[d.n,d.a])),n)):h=g1(t.c),n4(i,h,i.a,i.a.a),f=g1(t.d),null!=wTt(t,Lde)&&UB(f,jV(wTt(t,Lde),8)),n4(i,f,i.c.b,i.c),Qet(i,r),Oit(s=rRt(o,!0,!0),jV(Get((!o.b&&(o.b=new cF(LMe,o,4,7)),o.b),0),82)),Dit(s,jV(Get((!o.c&&(o.c=new cF(LMe,o,5,8)),o.c),0),82)),K$t(i,s),u=new Wf(t.b);u.a<u.c.c.length;)l=jV(Q1(u),70),Tnt(a=jV(wTt(l,fde),137),l.o.a),Ent(a,l.o.b),EP(a,l.n.a+r.a,l.n.b+r.b),Xbt(a,(Srt(),Jce),kR(wTt(l,Jce)));(c=jV(wTt(t,(VGt(),mme)),74))?(Qet(c,r),Xbt(o,mme,c)):Xbt(o,mme,null),e==(Eft(),XAe)?Xbt(o,Zpe,XAe):Xbt(o,Zpe,null)}}function bqt(t,e,n,i){var r,o,s,a,c,l,u,h,d,f,g,p,m,b,w;for(f=e.c.length,d=0,h=new Wf(t.b);h.a<h.c.c.length;)if(0!=(b=(u=jV(Q1(h),29)).a).c.length){for(l=0,w=null,r=jV(Q1(m=new Wf(b)),10),o=null;r;){if((o=jV(DH(e,r.p),257)).c>=0){for(c=null,a=new x2(u.a,l+1);a.b<a.d.gc()&&(TL(a.b<a.d.gc()),s=jV(a.d.Xb(a.c=a.b++),10),!((c=jV(DH(e,s.p),257)).d==o.d&&c.c<o.c));)c=null;c&&(w&&(i4(i,r.p,ndt(jV(DH(i,r.p),19).a-1)),jV(DH(n,w.p),15).Mc(o)),o=fEt(o,r,f++),e.c[e.c.length]=o,WV(n,new Ob),w?(jV(DH(n,w.p),15).Fc(o),WV(i,ndt(1))):WV(i,ndt(0)))}g=null,m.a<m.c.c.length&&(g=jV(Q1(m),10),p=jV(DH(e,g.p),257),jV(DH(n,r.p),15).Fc(p),i4(i,g.p,ndt(jV(DH(i,g.p),19).a+1))),o.d=d,o.c=l++,w=r,r=g}++d}}function wqt(t,e,n,r){var o,s,a,c,l,u,h,d,f,g,p,m,b,w,y;return c=t,u=qB(new DS(e.a,e.b),t),l=n,h=qB(new DS(r.a,r.b),n),d=c.a,m=c.b,g=l.a,w=l.b,f=u.a,b=u.b,o=(p=h.a)*b-f*(y=h.b),cO(),iit(M3t),!(i.Math.abs(0-o)<=M3t||0==o||isNaN(0)&&isNaN(o))&&(s=1/o*((d-g)*b-(m-w)*f),a=1/o*-(-(d-g)*y+(m-w)*p),iit(M3t),(i.Math.abs(0-s)<=M3t||0==s||isNaN(0)&&isNaN(s)?0:0<s?-1:0>s?1:HM(isNaN(0),isNaN(s)))<0&&(iit(M3t),(i.Math.abs(s-1)<=M3t||1==s||isNaN(s)&&isNaN(1)?0:s<1?-1:s>1?1:HM(isNaN(s),isNaN(1)))<0)&&(iit(M3t),(i.Math.abs(0-a)<=M3t||0==a||isNaN(0)&&isNaN(a)?0:0<a?-1:0>a?1:HM(isNaN(0),isNaN(a)))<0)&&(iit(M3t),(i.Math.abs(a-1)<=M3t||1==a||isNaN(a)&&isNaN(1)?0:a<1?-1:a>1?1:HM(isNaN(a),isNaN(1)))<0))}function yqt(t){var e,n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k;for(h=new cK(new eg(t));h.b!=h.c.a.d;)for(a=jV((u=a8(h)).d,56),e=jV(u.e,56),p=0,v=(null==(s=a.Tg()).i&&z$t(s),s.i).length;p<v;++p)if(null==s.i&&z$t(s),o=s.i,(l=p>=0&&p<o.length?o[p]:null).Ij()&&!l.Jj())if(iD(l,99))!((c=jV(l,18)).Bb&l6t)&&!((k=Awt(c))&&k.Bb&l6t)&&wVt(t,c,a,e);else if(ZT(),jV(l,66).Oj()&&(n=jV((_=l)?jV(e,49).xh(_):null,153)))for(f=jV(a.ah(l),153),i=n.gc(),m=0,g=f.gc();m<g;++m)if(iD(d=f.il(m),99)){if(null==(r=utt(t,y=f.jl(m)))&&null!=y){if(w=jV(d,18),!t.b||w.Bb&l6t||Awt(w))continue;r=y}if(!n.dl(d,r))for(b=0;b<i;++b)if(n.il(b)==d&&zI(n.jl(b))===zI(r)){n.ii(n.gc()-1,b),--i;break}}else n.dl(f.il(m),f.jl(m))}function vqt(t,e,n,r,o,s,a){var c,l,u,h,d,f,g,p,m,b,w,y;if(b=YVt(e,n,t.g),o.n&&o.n&&s&&w0(o,s2(s),($lt(),oMe)),t.b)for(m=0;m<b.c.length;m++)u1(m,b.c.length),h=jV(b.c[m],200),0!=m&&(u1(m-1,b.c.length),put(h,(f=jV(b.c[m-1],200)).f+f.b+t.g)),wGt(m,b,n,t.g),V_t(t,h),o.n&&s&&w0(o,s2(s),($lt(),oMe));else for(p=new Wf(b);p.a<p.c.c.length;)for(u=new Wf((g=jV(Q1(p),200)).a);u.a<u.c.c.length;)Not(w=new RQ((l=jV(Q1(u),187)).s,l.t,t.g),l),WV(g.d,w);return Uyt(t,b),o.n&&o.n&&s&&w0(o,s2(s),($lt(),oMe)),y=i.Math.max(t.d,r.a-(a.b+a.c)),c=(d=i.Math.max(t.c,r.b-(a.d+a.a)))-t.c,t.e&&t.f&&(y/d<t.a?y=d*t.a:c+=y/t.a-d),t.e&&Ipt(b,y,c),o.n&&o.n&&s&&w0(o,s2(s),($lt(),oMe)),new tH(t.a,y,t.c+c,(XDt(),Bxe))}function _qt(t){var e,n,r,o,s,a,c,l,u,h;for(t.j=D7(SNe,lXt,25,t.g,15,1),t.o=new Ob,XE(dtt(new LH(null,new d1(t.e.b,16)),new Yo),new om(t)),t.a=D7(INe,QZt,25,t.b,16,1),Pht(new LH(null,new d1(t.e.b,16)),new am(t)),h=new Ob,XE(IY(dtt(new LH(null,new d1(t.e.b,16)),new Zo),new sm(t)),new tS(t,h)),c=new Wf(h);c.a<c.c.c.length;)if(!((a=jV(Q1(c),508)).c.length<=1))if(2!=a.c.length){if(!Wxt(a)&&!DAt(a,new Xo))for(l=new Wf(a),r=null;l.a<l.c.c.length;)e=jV(Q1(l),17),n=t.c[e.p],u=!r||l.a>=l.c.c.length?q3((sCt(),Cae),Tae):q3((sCt(),Tae),Tae),u*=2,o=n.a.g,n.a.g=i.Math.max(o,o+(u-o)),s=n.b.g,n.b.g=i.Math.max(s,s+(u-s)),r=e}else UPt(a),Mzt((u1(0,a.c.length),jV(a.c[0],17)).d.i)||WV(t.o,a)}function kqt(t,e,n,i,r){var o,s,a,c,l,u,h,d,f,g,p,m,b,w,y;for(y=zV(t),c=new Ob,l=(o=t.c.length)-1,u=o+1;0!=y.a.c;){for(;0!=n.b;)TL(0!=n.b),b=jV(Met(n,n.a.a),112),MQ(y.a,b),b.g=l--,D$t(b,e,n,i);for(;0!=e.b;)TL(0!=e.b),w=jV(Met(e,e.a.a),112),MQ(y.a,w),w.g=u++,D$t(w,e,n,i);for(a=FYt,p=new Ff(new jB(new DN(new Bf(y.a).a).b));rC(p.a.a);){if(g=jV(bL(p.a).cd(),112),!i&&g.b>0&&g.a<=0){c.c=D7(Mte,VKt,1,0,5,1),c.c[c.c.length]=g;break}(f=g.i-g.d)>=a&&(f>a&&(c.c=D7(Mte,VKt,1,0,5,1),a=f),c.c[c.c.length]=g)}0!=c.c.length&&(s=jV(DH(c,mwt(r,c.c.length)),112),MQ(y.a,s),s.g=u++,D$t(s,e,n,i),c.c=D7(Mte,VKt,1,0,5,1))}for(m=t.c.length+1,d=new Wf(t);d.a<d.c.c.length;)(h=jV(Q1(d),112)).g<o&&(h.g=h.g+m)}function xqt(t,e){var n;if(t.e)throw $b(new Fv((_R(gie),MZt+gie.k+PZt)));if(!EC(t.a,e))throw $b(new fv(OZt+e+DZt));if(e==t.d)return t;switch(n=t.d,t.d=e,n.g){case 0:switch(e.g){case 2:Vyt(t);break;case 1:Act(t),Vyt(t);break;case 4:Jkt(t),Vyt(t);break;case 3:Jkt(t),Act(t),Vyt(t)}break;case 2:switch(e.g){case 1:Act(t),RBt(t);break;case 4:Jkt(t),Vyt(t);break;case 3:Jkt(t),Act(t),Vyt(t)}break;case 1:switch(e.g){case 2:Act(t),RBt(t);break;case 4:Act(t),Jkt(t),Vyt(t);break;case 3:Act(t),Jkt(t),Act(t),Vyt(t)}break;case 4:switch(e.g){case 2:Jkt(t),Vyt(t);break;case 1:Jkt(t),Act(t),Vyt(t);break;case 3:Act(t),RBt(t)}break;case 3:switch(e.g){case 2:Act(t),Jkt(t),Vyt(t);break;case 1:Act(t),Jkt(t),Act(t),Vyt(t);break;case 4:Act(t),RBt(t)}}return t}function Eqt(t,e){var n;if(t.d)throw $b(new Fv((_R(Yse),MZt+Yse.k+PZt)));if(!TS(t.a,e))throw $b(new fv(OZt+e+DZt));if(e==t.c)return t;switch(n=t.c,t.c=e,n.g){case 0:switch(e.g){case 2:Qct(t);break;case 1:Cct(t),Qct(t);break;case 4:txt(t),Qct(t);break;case 3:txt(t),Cct(t),Qct(t)}break;case 2:switch(e.g){case 1:Cct(t),BBt(t);break;case 4:txt(t),Qct(t);break;case 3:txt(t),Cct(t),Qct(t)}break;case 1:switch(e.g){case 2:Cct(t),BBt(t);break;case 4:Cct(t),txt(t),Qct(t);break;case 3:Cct(t),txt(t),Cct(t),Qct(t)}break;case 4:switch(e.g){case 2:txt(t),Qct(t);break;case 1:txt(t),Cct(t),Qct(t);break;case 3:Cct(t),BBt(t)}break;case 3:switch(e.g){case 2:Cct(t),txt(t),Qct(t);break;case 1:Cct(t),txt(t),Cct(t),Qct(t);break;case 4:Cct(t),BBt(t)}}return t}function Tqt(t,e,n){var r,o,s,a,c,l,h,d;for(l=new ID((!t.a&&(t.a=new tW(HMe,t,10,11)),t.a));l.e!=l.i.gc();)for(o=new sq(ZD(gDt(c=jV(vbt(l),33)).a.Kc(),new u));gPt(o);){if(!(r=jV(U4(o),79)).b&&(r.b=new cF(LMe,r,4,7)),!(r.b.i<=1&&(!r.c&&(r.c=new cF(LMe,r,5,8)),r.c.i<=1)))throw $b(new i_("Graph must not contain hyperedges."));if(!JMt(r)&&c!=CEt(jV(Get((!r.c&&(r.c=new cF(LMe,r,5,8)),r.c),0),82)))for(zst(h=new AB,r),lct(h,(Ert(),ase),r),Nd(h,jV(VI(IZ(n.f,c)),144)),Ld(h,jV(LG(n,CEt(jV(Get((!r.c&&(r.c=new cF(LMe,r,5,8)),r.c),0),82))),144)),WV(e.c,h),a=new ID((!r.n&&(r.n=new tW(zMe,r,1,7)),r.n));a.e!=a.i.gc();)zst(d=new b5(h,(s=jV(vbt(a),137)).a),s),lct(d,ase,s),d.e.a=i.Math.max(s.g,1),d.e.b=i.Math.max(s.f,1),FVt(d),WV(e.d,d)}}function Cqt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y;for(_Q(d=new eWt(t),!(e==(jht(),$Ae)||e==RAe)),h=d.a,f=new hy,Let(),a=0,l=(o=Cat(z_(Gie,1),PYt,232,0,[zie,Hie,Uie])).length;a<l;++a)n=o[a],(u=lD(h,zie,n))&&(f.d=i.Math.max(f.d,u.Re()));for(s=0,c=(r=Cat(z_(Gie,1),PYt,232,0,[zie,Hie,Uie])).length;s<c;++s)n=r[s],(u=lD(h,Uie,n))&&(f.a=i.Math.max(f.a,u.Re()));for(b=0,y=(p=Cat(z_(Gie,1),PYt,232,0,[zie,Hie,Uie])).length;b<y;++b)(u=lD(h,p[b],zie))&&(f.b=i.Math.max(f.b,u.Se()));for(m=0,w=(g=Cat(z_(Gie,1),PYt,232,0,[zie,Hie,Uie])).length;m<w;++m)(u=lD(h,g[m],Uie))&&(f.c=i.Math.max(f.c,u.Se()));return f.d>0&&(f.d+=h.n.d,f.d+=h.d),f.a>0&&(f.a+=h.n.a,f.a+=h.d),f.b>0&&(f.b+=h.n.b,f.b+=h.d),f.c>0&&(f.c+=h.n.c,f.c+=h.d),f}function Aqt(t,e,n){var r,o,s,a,c,l,u,h,d,f,g,p;for(f=n.d,d=n.c,a=(s=new DS(n.f.a+n.d.b+n.d.c,n.f.b+n.d.d+n.d.a)).b,u=new Wf(t.a);u.a<u.c.c.length;)if((c=jV(Q1(u),10)).k==(sCt(),xae)){switch(r=jV(wTt(c,(lKt(),Khe)),61),o=jV(wTt(c,Yhe),8),h=c.n,r.g){case 2:h.a=n.f.a+f.c-d.a;break;case 4:h.a=-d.a-f.b}switch(p=0,r.g){case 2:case 4:e==(Yxt(),WSe)?(g=zv(xR(wTt(c,kde))),h.b=s.b*g-jV(wTt(c,(VGt(),Qme)),8).b,p=h.b+o.b,Zst(c,!1,!0)):e==qSe&&(h.b=zv(xR(wTt(c,kde)))-jV(wTt(c,(VGt(),Qme)),8).b,p=h.b+o.b,Zst(c,!1,!0))}a=i.Math.max(a,p)}for(n.f.b+=a-s.b,l=new Wf(t.a);l.a<l.c.c.length;)if((c=jV(Q1(l),10)).k==(sCt(),xae))switch(r=jV(wTt(c,(lKt(),Khe)),61),h=c.n,r.g){case 1:h.b=-d.b-f.d;break;case 3:h.b=n.f.b+f.a-d.b}}function Sqt(t){var e,n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k;for(r=jV(wTt(t,(zHt(),a_e)),33),c=LKt,l=LKt,s=FYt,a=FYt,_=cbt(t.b,0);_.b!=_.d.c;)g=(y=jV(h3(_),86)).e,p=y.f,c=i.Math.min(c,g.a-p.a/2),l=i.Math.min(l,g.b-p.b/2),s=i.Math.max(s,g.a+p.a/2),a=i.Math.max(a,g.b+p.b/2);for(d=new DS((f=jV(QPt(r,(APt(),A_e)),116)).b-c,f.d-l),v=cbt(t.b,0);v.b!=v.d.c;)iD(h=wTt(y=jV(h3(v),86),a_e),239)&&EP(o=jV(h,33),(u=UB(y.e,d)).a-o.g/2,u.b-o.f/2);for(w=cbt(t.a,0);w.b!=w.d.c;)b=jV(h3(w),188),(n=jV(wTt(b,a_e),79))&&(n4(e=b.a,m=new dP(b.b.e),e.a,e.a.a),n4(e,k=new dP(b.c.e),e.c.b,e.c),QTt(m,jV(Lbt(e,1),8),b.b.f),QTt(k,jV(Lbt(e,e.b-2),8),b.c.f),K$t(e,rRt(n,!0,!0)));BWt(r,s-c+(f.b+f.c),a-l+(f.d+f.a),!1,!1)}function Iqt(t){var e,n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b;for(wB(c=new x2(l=t.b,0),new $G(t)),m=!1,o=1;c.b<c.d.gc();){for(TL(c.b<c.d.gc()),a=jV(c.d.Xb(c.c=c.b++),29),u1(o,l.c.length),f=jV(l.c[o],29),p=(g=r0(a.a)).c.length,d=new Wf(g);d.a<d.c.c.length;)TJ(u=jV(Q1(d),10),f);if(m){for(h=W1(new lv(g),0);h.c.Sb();)for(r=new Wf(r0(uft(u=jV(d4(h),10))));r.a<r.c.c.length;)tVt(i=jV(Q1(r),17),!0),lct(t,(lKt(),Vhe),(cN(),!0)),n=nUt(t,i,p),e=jV(wTt(u,Lhe),305),b=jV(DH(n,n.c.length-1),17),e.k=b.c.i,e.n=b,e.b=i.d.i,e.c=i;m=!1}else 0!=g.c.length&&(u1(0,g.c.length),jV(g.c[0],10).k==(sCt(),kae)&&(m=!0,o=-1));++o}for(s=new x2(t.b,0);s.b<s.d.gc();)TL(s.b<s.d.gc()),0==jV(s.d.Xb(s.c=s.b++),29).a.c.length&&lK(s)}function Mqt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w;if((h=jV(jV(c6(t.r,e),21),84)).gc()<=2||e==(vWt(),sIe)||e==(vWt(),CIe))ZWt(t,e);else{for(m=t.u.Hc((hIt(),iIe)),n=e==(vWt(),aIe)?(Lst(),Lre):(Lst(),Ore),w=e==aIe?(z9(),ere):(z9(),ire),r=Z_($j(n),t.s),b=e==aIe?RXt:BXt,u=h.Kc();u.Ob();)!(c=jV(u.Pb(),111)).c||c.c.d.c.length<=0||(p=c.b.rf(),g=c.e,(f=(d=c.c).i).b=(s=d.n,d.e.a+s.b+s.c),f.a=(a=d.n,d.e.b+a.d+a.a),m?(f.c=g.a-(o=d.n,d.e.a+o.b+o.c)-t.s,m=!1):f.c=g.a+p.a+t.s,SZ(w,sQt),d.f=w,u8(d,(X8(),Xie)),WV(r.d,new DU(f,vdt(r,f))),b=e==aIe?i.Math.min(b,g.b):i.Math.max(b,g.b+c.b.rf().b));for(b+=e==aIe?-t.t:t.t,Cgt((r.e=b,r)),l=h.Kc();l.Ob();)!(c=jV(l.Pb(),111)).c||c.c.d.c.length<=0||((f=c.c.i).c-=c.e.a,f.d-=c.e.b)}}function Pqt(t,e,n){var r;if(IEt(n,"StretchWidth layering",1),0!=e.a.c.length){for(t.c=e,t.t=0,t.u=0,t.i=RXt,t.g=BXt,t.d=zv(xR(wTt(e,(VGt(),wbe)))),Ubt(t),CPt(t),TPt(t),Nkt(t),gpt(t),t.i=i.Math.max(1,t.i),t.g=i.Math.max(1,t.g),t.d=t.d/t.i,t.f=t.g/t.i,t.s=Fwt(t),r=new $G(t.c),WV(t.c.b,r),t.r=r0(t.p),t.n=kQ(t.k,t.k.length);0!=t.r.c.length;)t.o=Uut(t),!t.o||xct(t)&&0!=t.b.a.gc()?(Nxt(t,r),r=new $G(t.c),WV(t.c.b,r),jrt(t.a,t.b),t.b.a.$b(),t.t=t.u,t.u=0):xct(t)?(t.c.b.c=D7(Mte,VKt,1,0,5,1),r=new $G(t.c),WV(t.c.b,r),t.t=0,t.u=0,t.b.a.$b(),t.a.a.$b(),++t.f,t.r=r0(t.p),t.n=kQ(t.k,t.k.length)):(TJ(t.o,r),w9(t.r,t.o),kW(t.b,t.o),t.t=t.t-t.k[t.o.p]*t.d+t.j[t.o.p],t.u+=t.e[t.o.p]*t.d);e.a.c=D7(Mte,VKt,1,0,5,1),ZAt(e.b),VCt(n)}else VCt(n)}function Oqt(t){var e,n,r,o;for(XE(IY(new LH(null,new d1(t.a.b,16)),new vr),new _r),uxt(t),XE(IY(new LH(null,new d1(t.a.b,16)),new kr),new xr),t.c==(Eft(),XAe)&&(XE(IY(dtt(new LH(null,new d1(new Cf(t.f),1)),new Er),new Tr),new xp(t)),XE(IY(MY(dtt(dtt(new LH(null,new d1(t.d.b,16)),new Cr),new Ar),new Sr),new Ir),new Tp(t))),o=new DS(RXt,RXt),e=new DS(BXt,BXt),r=new Wf(t.a.b);r.a<r.c.c.length;)n=jV(Q1(r),57),o.a=i.Math.min(o.a,n.d.c),o.b=i.Math.min(o.b,n.d.d),e.a=i.Math.max(e.a,n.d.c+n.d.b),e.b=i.Math.max(e.b,n.d.d+n.d.a);UB(yM(t.d.c),VL(new DS(o.a,o.b))),UB(yM(t.d.f),qB(new DS(e.a,e.b),o)),aNt(t,o,e),MW(t.f),MW(t.b),MW(t.g),MW(t.e),t.a.a.c=D7(Mte,VKt,1,0,5,1),t.a.b.c=D7(Mte,VKt,1,0,5,1),t.a=null,t.d=null}function Dqt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w;for(i=new Ob,g=new Wf(e.a);g.a<g.c.c.length;)if((d=(f=jV(Q1(g),10)).e)&&(pat(i,Dqt(t,d,f)),kUt(t,d,f),jV(wTt(d,(lKt(),Zhe)),21).Hc((dRt(),uhe))))for(b=jV(wTt(f,(VGt(),tbe)),98),h=jV(wTt(f,ibe),174).Hc((hIt(),tIe)),m=new Wf(f.j);m.a<m.c.c.length;)for(p=jV(Q1(m),11),(r=jV(LG(t.b,p),10))||(lct(r=dGt(p,b,p.j,-(p.e.c.length-p.g.c.length),null,new zk,p.o,jV(wTt(d,Upe),103),d),fde,p),GK(t.b,p,r),WV(d.a,r)),o=jV(DH(r.j,0),11),l=new Wf(p.f);l.a<l.c.c.length;)c=jV(Q1(l),70),(s=new Vk).o.a=c.o.a,s.o.b=c.o.b,WV(o.f,s),h||(w=p.j,u=0,$q(jV(wTt(f,ibe),21))&&(u=PIt(c.n,c.o,p.o,0,w)),b==(Yxt(),KSe)||(vWt(),hIe).Hc(w)?s.o.a=u:s.o.b=u);return $Ut(t,e,n,i,a=new Ob),n&&AHt(t,e,n,a),a}function Nqt(t,e,n){var i,r,o,s,a,c,l,u;if(!t.c[e.c.p][e.p].e){for(t.c[e.c.p][e.p].e=!0,t.c[e.c.p][e.p].b=0,t.c[e.c.p][e.p].d=0,t.c[e.c.p][e.p].a=null,u=new Wf(e.j);u.a<u.c.c.length;)for(l=jV(Q1(u),11),c=(n?new $g(l):new zg(l)).Kc();c.Ob();)(s=(a=jV(c.Pb(),11)).i).c==e.c?s!=e&&(Nqt(t,s,n),t.c[e.c.p][e.p].b+=t.c[s.c.p][s.p].b,t.c[e.c.p][e.p].d+=t.c[s.c.p][s.p].d):(t.c[e.c.p][e.p].d+=t.g[a.p],++t.c[e.c.p][e.p].b);if(o=jV(wTt(e,(lKt(),Dhe)),15))for(r=o.Kc();r.Ob();)i=jV(r.Pb(),10),e.c==i.c&&(Nqt(t,i,n),t.c[e.c.p][e.p].b+=t.c[i.c.p][i.p].b,t.c[e.c.p][e.p].d+=t.c[i.c.p][i.p].d);t.c[e.c.p][e.p].b>0&&(t.c[e.c.p][e.p].d+=VOt(t.i,24)*sZt*.07000000029802322-.03500000014901161,t.c[e.c.p][e.p].a=t.c[e.c.p][e.p].d/t.c[e.c.p][e.p].b)}}function Lqt(t){var e,n,i,r,o,s,a,c,l,u,h,d,f,g;for(d=new Wf(t);d.a<d.c.c.length;){for(QN((h=jV(Q1(d),10)).n),QN(h.o),G6(h.f),KBt(h),oBt(h),g=new Wf(h.j);g.a<g.c.c.length;){for(QN((f=jV(Q1(g),11)).n),QN(f.a),QN(f.o),zSt(f,oyt(f.j)),(r=jV(wTt(f,(VGt(),ebe)),19))&&lct(f,ebe,ndt(-r.a)),i=new Wf(f.g);i.a<i.c.c.length;){for(e=cbt((n=jV(Q1(i),17)).a,0);e.b!=e.d.c;)QN(jV(h3(e),8));if(s=jV(wTt(n,mme),74))for(o=cbt(s,0);o.b!=o.d.c;)QN(jV(h3(o),8));for(l=new Wf(n.b);l.a<l.c.c.length;)QN((a=jV(Q1(l),70)).n),QN(a.o)}for(u=new Wf(f.f);u.a<u.c.c.length;)QN((a=jV(Q1(u),70)).n),QN(a.o)}for(h.k==(sCt(),xae)&&(lct(h,(lKt(),Khe),oyt(jV(wTt(h,Khe),61))),fLt(h)),c=new Wf(h.b);c.a<c.c.c.length;)KBt(a=jV(Q1(c),70)),QN(a.o),QN(a.n)}}function Rqt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v;for(t.e=e,a=JIt(e),y=new Ob,i=new Wf(a);i.a<i.c.c.length;){for(n=jV(Q1(i),15),v=new Ob,y.c[y.c.length]=v,c=new Lw,d=n.Kc();d.Ob();){for(o=ZBt(t,h=jV(d.Pb(),33),!0,0,0),v.c[v.c.length]=o,f=h.i,g=h.j,!h.n&&(h.n=new tW(zMe,h,1,7)),u=new ID(h.n);u.e!=u.i.gc();)r=ZBt(t,jV(vbt(u),137),!1,f,g),v.c[v.c.length]=r;for(!h.c&&(h.c=new tW(UMe,h,9,9)),m=new ID(h.c);m.e!=m.i.gc();)for(s=ZBt(t,p=jV(vbt(m),118),!1,f,g),v.c[v.c.length]=s,b=p.i+f,w=p.j+g,!p.n&&(p.n=new tW(zMe,p,1,7)),l=new ID(p.n);l.e!=l.i.gc();)r=ZBt(t,jV(vbt(l),137),!1,b,w),v.c[v.c.length]=r;jrt(c,XX(Gnt(Cat(z_(Nte,1),VKt,20,0,[gDt(h),fDt(h)]))))}qDt(t,c,v)}return t.f=new Bk(y),zst(t.f,e),t.f}function Bqt(t,e,n,i,r){var o,s,a,c,l,u,h,d,f,g,p,m;null==(g=LG(t.e,i))&&(l=jV(g=new pv,183),c=new zG(e+"_s"+r),net(l,z6t,c)),QG(n,f=jV(g,183)),VX(m=new pv,"x",i.j),VX(m,"y",i.k),net(f,q6t,m),VX(h=new pv,"x",i.b),VX(h,"y",i.c),net(f,"endPoint",h),!Wx((!i.a&&(i.a=new MD(OMe,i,5)),i.a))&&(o=new Wm(u=new Td),t4((!i.a&&(i.a=new MD(OMe,i,5)),i.a),o),net(f,L6t,u)),!!Twt(i)&&rTt(t.a,f,B6t,RAt(t,Twt(i))),!!Cwt(i)&&rTt(t.a,f,R6t,RAt(t,Cwt(i))),!(0==(!i.e&&(i.e=new cF(BMe,i,10,9)),i.e).i)&&(s=new EI(t,d=new Td),t4((!i.e&&(i.e=new cF(BMe,i,10,9)),i.e),s),net(f,j6t,d)),0!=(!i.g&&(i.g=new cF(BMe,i,9,10)),i.g).i&&(a=new TI(t,p=new Td),t4((!i.g&&(i.g=new cF(BMe,i,9,10)),i.g),a),net(f,F6t,p))}function Fqt(t){var e,n,r,o,s,a,c;for(VR(),r=t.f.n,a=_G(t.r).a.nc();a.Ob();){if(o=0,(s=jV(a.Pb(),111)).b.Xe((cKt(),rAe))&&(o=zv(xR(s.b.We(rAe))))<0)switch(s.b.Hf().g){case 1:r.d=i.Math.max(r.d,-o);break;case 3:r.a=i.Math.max(r.a,-o);break;case 2:r.c=i.Math.max(r.c,-o);break;case 4:r.b=i.Math.max(r.b,-o)}if($q(t.u))switch(e=bot(s.b,o),c=!jV(t.e.We(VCe),174).Hc((JFt(),$Ie)),n=!1,s.b.Hf().g){case 1:n=e>r.d,r.d=i.Math.max(r.d,e),c&&n&&(r.d=i.Math.max(r.d,r.a),r.a=r.d+o);break;case 3:n=e>r.a,r.a=i.Math.max(r.a,e),c&&n&&(r.a=i.Math.max(r.a,r.d),r.d=r.a+o);break;case 2:n=e>r.c,r.c=i.Math.max(r.c,e),c&&n&&(r.c=i.Math.max(r.b,r.c),r.b=r.c+o);break;case 4:n=e>r.b,r.b=i.Math.max(r.b,e),c&&n&&(r.b=i.Math.max(r.b,r.c),r.c=r.b+o)}}}function jqt(t){var e,n,i,r,o,s,a,c,l,u,h;for(l=new Wf(t);l.a<l.c.c.length;){switch(c=jV(Q1(l),10),o=null,(s=jV(wTt(c,(VGt(),yme)),163)).g){case 1:case 2:Zat(),o=Mue;break;case 3:case 4:Zat(),o=Sue}if(o)lct(c,(lKt(),zhe),(Zat(),Mue)),o==Sue?RNt(c,s,(oit(),$we)):o==Mue&&RNt(c,s,(oit(),Vwe));else if(mP(jV(wTt(c,tbe),98))&&0!=c.j.c.length){for(e=!0,h=new Wf(c.j);h.a<h.c.c.length;){if(!((u=jV(Q1(h),11)).j==(vWt(),sIe)&&u.e.c.length-u.g.c.length>0||u.j==CIe&&u.e.c.length-u.g.c.length<0)){e=!1;break}for(r=new Wf(u.g);r.a<r.c.c.length;)if(n=jV(Q1(r),17),(a=jV(wTt(n.d.i,yme),163))==(xft(),jde)||a==$de){e=!1;break}for(i=new Wf(u.e);i.a<i.c.c.length;)if(n=jV(Q1(i),17),(a=jV(wTt(n.c.i,yme),163))==(xft(),Bde)||a==Fde){e=!1;break}}e&&RNt(c,s,(oit(),zwe))}}}function $qt(t,e,n,r,o){var s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x;for(x=0,g=0,d=new Wf(e.e);d.a<d.c.c.length;){for(h=jV(Q1(d),10),f=0,c=0,l=n?jV(wTt(h,qye),19).a:FYt,w=r?jV(wTt(h,Wye),19).a:FYt,u=i.Math.max(l,w),v=new Wf(h.j);v.a<v.c.c.length;){if(y=jV(Q1(v),11),_=h.n.b+y.n.b+y.a.b,r)for(a=new Wf(y.g);a.a<a.c.c.length;)p=(m=(s=jV(Q1(a),17)).d).i,e!=t.a[p.p]&&(b=i.Math.max(jV(wTt(p,qye),19).a,jV(wTt(p,Wye),19).a),(k=jV(wTt(s,(VGt(),hbe)),19).a)>=u&&k>=b&&(f+=p.n.b+m.n.b+m.a.b-_,++c));if(n)for(a=new Wf(y.e);a.a<a.c.c.length;)p=(m=(s=jV(Q1(a),17)).c).i,e!=t.a[p.p]&&(b=i.Math.max(jV(wTt(p,qye),19).a,jV(wTt(p,Wye),19).a),(k=jV(wTt(s,(VGt(),hbe)),19).a)>=u&&k>=b&&(f+=p.n.b+m.n.b+m.a.b-_,++c))}c>0&&(x+=f/c,++g)}g>0?(e.a=o*x/g,e.g=g):(e.a=0,e.g=0)}function Vqt(t,e){var n,i,r,o,s,a,c,l,u,h;for(i=new Wf(t.a.b);i.a<i.c.c.length;)for(a=new Wf(jV(Q1(i),29).a);a.a<a.c.c.length;)s=jV(Q1(a),10),e.j[s.p]=s,e.i[s.p]=e.o==(sJ(),ive)?BXt:RXt;for(MW(t.c),o=t.a.b,e.c==(gQ(),Qye)&&(o=iD(o,152)?s6(jV(o,152)):iD(o,131)?jV(o,131).a:iD(o,54)?new lv(o):new CE(o)),L8(t.e,e,t.b),wC(e.p,null),r=o.Kc();r.Ob();)for(c=jV(r.Pb(),29).a,e.o==(sJ(),ive)&&(c=iD(c,152)?s6(jV(c,152)):iD(c,131)?jV(c,131).a:iD(c,54)?new lv(c):new CE(c)),h=c.Kc();h.Ob();)u=jV(h.Pb(),10),e.g[u.p]==u&&aGt(t,u,e);for(VHt(t,e),n=o.Kc();n.Ob();)for(h=new Wf(jV(n.Pb(),29).a);h.a<h.c.c.length;)u=jV(Q1(h),10),e.p[u.p]=e.p[e.g[u.p].p],u==e.g[u.p]&&(l=zv(e.i[e.j[u.p].p]),(e.o==(sJ(),ive)&&l>BXt||e.o==nve&&l<RXt)&&(e.p[u.p]=zv(e.p[u.p])+l));t.e.cg()}function zqt(t,e,n,i){var r,o,s,a,c;return mNt(a=new eWt(e),i),r=!0,t&&t.Xe((cKt(),hCe))&&(r=(o=jV(t.We((cKt(),hCe)),103))==(jht(),jAe)||o==BAe||o==FAe),aBt(a,!1),Iet(a.e.wf(),new Mj(a,!1,r)),PQ(a,a.f,(Let(),zie),(vWt(),aIe)),PQ(a,a.f,Uie,EIe),PQ(a,a.g,zie,CIe),PQ(a,a.g,Uie,sIe),$bt(a,aIe),$bt(a,EIe),cY(a,sIe),cY(a,CIe),VR(),(s=a.A.Hc((wpt(),NIe))&&a.B.Hc((JFt(),UIe))?Jgt(a):null)&&nk(a.a,s),Fqt(a),ivt(a),rvt(a),KUt(a),EFt(a),w_t(a),Fmt(a,aIe),Fmt(a,EIe),ABt(a),Czt(a),n?(Hft(a),y_t(a),Fmt(a,sIe),Fmt(a,CIe),c=a.B.Hc((JFt(),qIe)),ESt(a,c,aIe),ESt(a,c,EIe),TSt(a,c,sIe),TSt(a,c,CIe),XE(new LH(null,new d1(new Sf(a.i),0)),new St),XE(IY(new LH(null,_G(a.r).a.oc()),new It),new Mt),$xt(a),a.e.uf(a.o),XE(new LH(null,_G(a.r).a.oc()),new Ot),a.o):a.o}function Hqt(t){var e,n,r,o,s,a,c,l,u,h,d,f,g,p,m;for(u=RXt,r=new Wf(t.a.b);r.a<r.c.c.length;)e=jV(Q1(r),81),u=i.Math.min(u,e.d.f.g.c+e.e.a);for(g=new YE,a=new Wf(t.a.a);a.a<a.c.c.length;)(s=jV(Q1(a),189)).i=u,0==s.e&&n4(g,s,g.c.b,g.c);for(;0!=g.b;){for(o=(s=jV(0==g.b?null:(TL(0!=g.b),Met(g,g.a.a)),189)).f.g.c,f=s.a.a.ec().Kc();f.Ob();)h=jV(f.Pb(),81),m=s.i+h.e.a,h.d.g||h.g.c<m?h.o=m:h.o=h.g.c;for(o-=s.f.o,s.b+=o,t.c==(jht(),FAe)||t.c==RAe?s.c+=o:s.c-=o,d=s.a.a.ec().Kc();d.Ob();)for(l=(h=jV(d.Pb(),81)).f.Kc();l.Ob();)c=jV(l.Pb(),81),p=fP(t.c)?t.f.ef(h,c):t.f.ff(h,c),c.d.i=i.Math.max(c.d.i,h.o+h.g.b+p-c.e.a),c.k||(c.d.i=i.Math.max(c.d.i,c.g.c-c.e.a)),--c.d.e,0==c.d.e&&Nz(g,c.d)}for(n=new Wf(t.a.b);n.a<n.c.c.length;)(e=jV(Q1(n),81)).g.c=e.o}function Uqt(t){var e,n,i,r,o,s,a,c;switch(a=t.b,e=t.a,0===jV(wTt(t,(F_t(),xie)),427).g?bO(a,new Qf(new Ht)):bO(a,new Qf(new Ut)),1===jV(wTt(t,_ie),428).g?(bO(a,new zt),bO(a,new qt),bO(a,new Bt)):(bO(a,new zt),bO(a,new Vt)),jV(wTt(t,Tie),250).g){case 0:c=new Xt;break;case 1:c=new Kt;break;case 2:c=new Yt;break;case 3:c=new Gt;break;case 5:c=new Sg(new Yt);break;case 4:c=new Sg(new Kt);break;case 7:c=new NC(new Sg(new Kt),new Sg(new Yt));break;case 8:c=new NC(new Sg(new Gt),new Sg(new Yt));break;default:c=new Sg(new Gt)}for(s=new Wf(a);s.a<s.c.c.length;){for(o=jV(Q1(s),167),r=0,n=new nI(ndt(i=0),ndt(r));$jt(e,o,i,r);)n=jV(c.Ce(n,o),46),i=jV(n.a,19).a,r=jV(n.b,19).a;FBt(e,o,i,r)}}function qqt(t){var e,n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x;for(d=(o=t.f.b).a,u=o.b,g=t.e.g,f=t.e.f,xP(t.e,o.a,o.b),k=d/g,x=u/f,l=new ID(bY(t.e));l.e!=l.i.gc();)Cnt(c=jV(vbt(l),137),c.i*k),Ant(c,c.j*x);for(w=new ID(wY(t.e));w.e!=w.i.gc();)v=(b=jV(vbt(w),118)).i,_=b.j,v>0&&Cnt(b,v*k),_>0&&Ant(b,_*x);for(Jot(t.b,new he),e=new Ob,a=new slt(new Tf(t.c).a);a.b;)i=jV((s=tnt(a)).cd(),79),n=jV(s.dd(),395).a,r=rRt(i,!1,!1),K$t(h=hEt(CTt(i),zCt(r),n),r),(y=ATt(i))&&-1==_9(e,y,0)&&(e.c[e.c.length]=y,aX(y,(TL(0!=h.b),jV(h.a.a.c,8)),n));for(m=new slt(new Tf(t.d).a);m.b;)i=jV((p=tnt(m)).cd(),79),n=jV(p.dd(),395).a,r=rRt(i,!1,!1),h=hEt(ITt(i),Zct(zCt(r)),n),K$t(h=Zct(h),r),(y=STt(i))&&-1==_9(e,y,0)&&(e.c[e.c.length]=y,aX(y,(TL(0!=h.b),jV(h.c.b.c,8)),n))}function Wqt(t,e,n,r){var o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x;if(0!=n.c.length){for(g=new Ob,f=new Wf(n);f.a<f.c.c.length;)WV(g,new DS((d=jV(Q1(f),33)).i,d.j));for(r.n&&e&&w0(r,s2(e),($lt(),oMe));DTt(t,n);)kOt(t,n,!1);for(r.n&&e&&w0(r,s2(e),($lt(),oMe)),a=0,c=0,o=null,0!=n.c.length&&(u1(0,n.c.length),a=(o=jV(n.c[0],33)).i-(u1(0,g.c.length),jV(g.c[0],8)).a,c=o.j-(u1(0,g.c.length),jV(g.c[0],8)).b),s=i.Math.sqrt(a*a+c*c),h=qut(n);0!=h.a.gc();){for(u=h.a.ec().Kc();u.Ob();)l=jV(u.Pb(),33),m=(p=t.f).i+p.g/2,b=p.j+p.f/2,w=l.i+l.g/2,v=l.j+l.f/2-b,k=(y=w-m)/(_=i.Math.sqrt(y*y+v*v)),x=v/_,Cnt(l,l.i+k*s),Ant(l,l.j+x*s);r.n&&e&&w0(r,s2(e),($lt(),oMe)),h=qut(new JF(h))}t.a&&t.a.lg(new JF(h)),r.n&&e&&w0(r,s2(e),($lt(),oMe)),Wqt(t,e,new JF(h),r)}}function Gqt(t,e,n){var r,o,s,a,c,l,u,h,d,f,g,p,m,b,w;if(m=t.n,b=t.o,f=t.d,d=zv(xR(ept(t,(VGt(),pbe)))),e){for(h=d*(e.gc()-1),g=0,l=e.Kc();l.Ob();)h+=(a=jV(l.Pb(),10)).o.a,g=i.Math.max(g,a.o.b);for(w=m.a-(h-b.a)/2,s=m.b-f.d+g,o=r=b.a/(e.gc()+1),c=e.Kc();c.Ob();)(a=jV(c.Pb(),10)).n.a=w,a.n.b=s-a.o.b,w+=a.o.a+d,(u=LDt(a)).n.a=a.o.a/2-u.a.a,u.n.b=a.o.b,(p=jV(wTt(a,(lKt(),Rhe)),11)).e.c.length+p.g.c.length==1&&(p.n.a=o-p.a.a,p.n.b=0,CJ(p,t)),o+=r}if(n){for(h=d*(n.gc()-1),g=0,l=n.Kc();l.Ob();)h+=(a=jV(l.Pb(),10)).o.a,g=i.Math.max(g,a.o.b);for(w=m.a-(h-b.a)/2,s=m.b+b.b+f.a-g,o=r=b.a/(n.gc()+1),c=n.Kc();c.Ob();)(a=jV(c.Pb(),10)).n.a=w,a.n.b=s,w+=a.o.a+d,(u=LDt(a)).n.a=a.o.a/2-u.a.a,u.n.b=0,(p=jV(wTt(a,(lKt(),Rhe)),11)).e.c.length+p.g.c.length==1&&(p.n.a=o-p.a.a,p.n.b=b.b,CJ(p,t)),o+=r}}function Kqt(t,e){var n,r,o,s,a,c;if(jV(wTt(e,(lKt(),Zhe)),21).Hc((dRt(),uhe))){for(c=new Wf(e.a);c.a<c.c.c.length;)(s=jV(Q1(c),10)).k==(sCt(),Cae)&&(o=jV(wTt(s,(VGt(),Cme)),142),t.c=i.Math.min(t.c,s.n.a-o.b),t.a=i.Math.max(t.a,s.n.a+s.o.a+o.c),t.d=i.Math.min(t.d,s.n.b-o.d),t.b=i.Math.max(t.b,s.n.b+s.o.b+o.a));for(a=new Wf(e.a);a.a<a.c.c.length;)if((s=jV(Q1(a),10)).k!=(sCt(),Cae))switch(s.k.g){case 2:if((r=jV(wTt(s,(VGt(),yme)),163))==(xft(),Fde)){s.n.a=t.c-10,Xvt(s,new Un).Jb(new np(s));break}if(r==$de){s.n.a=t.a+10,Xvt(s,new qn).Jb(new ip(s));break}if((n=jV(wTt(s,ede),303))==(H9(),Che)){hHt(s).Jb(new rp(s)),s.n.b=t.d-10;break}if(n==Ehe){hHt(s).Jb(new op(s)),s.n.b=t.b+10;break}break;default:throw $b(new Bv("The node type "+s.k+" is not supported by the "+Xce))}}}function Yqt(t,e,n,i){var r,o,s,a,c,l,u,h,d,f,g,p;for(c=new DS(i.i+i.g/2,i.j+i.f/2),d=Wzt(i),f=jV(QPt(e,(VGt(),tbe)),98),p=jV(QPt(i,obe),61),jI(hbt(i),Jme)||(g=0==i.i&&0==i.j?0:tTt(i,p),Xbt(i,Jme,g)),lct(r=dGt(i,f,p,d,new DS(e.g,e.f),c,new DS(i.g,i.f),jV(wTt(n,Upe),103),n),(lKt(),fde),i),jd(o=jV(DH(r.j,0),11),_jt(i)),lct(r,ibe,(hIt(),Jdt(nIe))),u=jV(QPt(e,ibe),174).Hc(tIe),a=new ID((!i.n&&(i.n=new tW(zMe,i,1,7)),i.n));a.e!=a.i.gc();)if(!Vv(kR(QPt(s=jV(vbt(a),137),zme)))&&s.a&&(h=Vut(s),WV(o.f,h),!u))switch(l=0,$q(jV(QPt(e,ibe),21))&&(l=PIt(new DS(s.i,s.j),new DS(s.g,s.f),new DS(i.g,i.f),0,p)),p.g){case 2:case 4:h.o.a=l;break;case 1:case 3:h.o.b=l}lct(r,Cbe,xR(QPt(XQ(e),Cbe))),lct(r,Abe,xR(QPt(XQ(e),Abe))),lct(r,Ebe,xR(QPt(XQ(e),Ebe))),WV(n.a,r),GK(t.a,i,r)}function Xqt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y;for(IEt(n,"Processor arrange level",1),u=0,EX(),Frt(e,new rb((zHt(),e_e))),o=e.b,a=cbt(e,e.b),l=!0;l&&a.b.b!=a.d.a;)m=jV(U0(a),86),0==jV(wTt(m,e_e),19).a?--o:l=!1;if(s=new QF(new a1(e,0,o)),c=new QF(new a1(e,o,e.b)),0==s.b)for(f=cbt(c,0);f.b!=f.d.c;)lct(jV(h3(f),86),c_e,ndt(u++));else for(h=s.b,y=cbt(s,0);y.b!=y.d.c;){for(lct(w=jV(h3(y),86),c_e,ndt(u++)),Xqt(t,i=Nat(w),wot(n,1/h|0)),Frt(i,KK(new rb(c_e))),d=new YE,b=cbt(i,0);b.b!=b.d.c;)for(m=jV(h3(b),86),p=cbt(w.d,0);p.b!=p.d.c;)(g=jV(h3(p),188)).c==m&&n4(d,g,d.c.b,d.c);for(wX(w.d),jrt(w.d,d),a=cbt(c,c.b),r=w.d.b,l=!0;0<r&&l&&a.b.b!=a.d.a;)m=jV(U0(a),86),0==jV(wTt(m,e_e),19).a?(lct(m,c_e,ndt(u++)),--r,wet(a)):l=!1}VCt(n)}function Zqt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m;for(IEt(e,"Inverted port preprocessing",1),a=new x2(t.b,0),n=null,m=new Ob;a.b<a.d.gc();){for(p=n,TL(a.b<a.d.gc()),n=jV(a.d.Xb(a.c=a.b++),29),u=new Wf(m);u.a<u.c.c.length;)TJ(c=jV(Q1(u),10),p);for(m.c=D7(Mte,VKt,1,0,5,1),h=new Wf(n.a);h.a<h.c.c.length;)if((c=jV(Q1(h),10)).k==(sCt(),Cae)&&mP(jV(wTt(c,(VGt(),tbe)),98))){for(g=rBt(c,(oit(),$we),(vWt(),sIe)).Kc();g.Ob();)for(d=jV(g.Pb(),11),r=0,o=(i=jV(Ymt(s=d.e,D7(wae,r1t,17,s.c.length,0,1)),474)).length;r<o;++r)PVt(t,d,i[r],m);for(f=rBt(c,Vwe,CIe).Kc();f.Ob();)for(d=jV(f.Pb(),11),r=0,o=(i=jV(Ymt(s=d.g,D7(wae,r1t,17,s.c.length,0,1)),474)).length;r<o;++r)MVt(t,d,i[r],m)}}for(l=new Wf(m);l.a<l.c.c.length;)TJ(c=jV(Q1(l),10),n);VCt(e)}function Qqt(t,e,n,i,r,o){var s,a,c,l,u,h;for(zst(l=new ACt,e),zSt(l,jV(QPt(e,(VGt(),obe)),61)),lct(l,(lKt(),fde),e),CJ(l,n),(h=l.o).a=e.g,h.b=e.f,(u=l.n).a=e.i,u.b=e.j,GK(t.a,e,l),(s=s4(MY(dtt(new LH(null,(!e.e&&(e.e=new cF(RMe,e,7,4)),new d1(e.e,16))),new Ke),new We),new Wg(e)))||(s=s4(MY(dtt(new LH(null,(!e.d&&(e.d=new cF(RMe,e,8,5)),new d1(e.d,16))),new Ye),new Ge),new Gg(e))),s||(s=s4(new LH(null,(!e.e&&(e.e=new cF(RMe,e,7,4)),new d1(e.e,16))),new Xe)),lct(l,tde,(cN(),!!s)),mHt(l,o,r,jV(QPt(e,Qme),8)),c=new ID((!e.n&&(e.n=new tW(zMe,e,1,7)),e.n));c.e!=c.i.gc();)!Vv(kR(QPt(a=jV(vbt(c),137),zme)))&&a.a&&WV(l.f,Vut(a));switch(r.g){case 2:case 1:(l.j==(vWt(),aIe)||l.j==EIe)&&i.Fc((dRt(),ghe));break;case 4:case 3:(l.j==(vWt(),sIe)||l.j==CIe)&&i.Fc((dRt(),ghe))}return l}function Jqt(t,e,n,r,o,s,a){var c,l,u,h,d,f,g,p,m,b,w,y;for(d=null,r==(fQ(),Pve)?d=e:r==Ove&&(d=n),p=d.a.ec().Kc();p.Ob();){for(g=jV(p.Pb(),11),m=Mct(Cat(z_(TTe,1),cYt,8,0,[g.i.n,g.n,g.a])).b,y=new Lw,c=new Lw,u=new b6(g.b);wO(u.a)||wO(u.b);)if(Vv(kR(wTt(l=jV(wO(u.a)?Q1(u.a):Q1(u.b),17),(lKt(),Cde))))==o&&-1!=_9(s,l,0)){if(b=l.d==g?l.c:l.d,w=Mct(Cat(z_(TTe,1),cYt,8,0,[b.i.n,b.n,b.a])).b,i.Math.abs(w-m)<.2)continue;w<m?e.a._b(b)?kW(y,new nI(Pve,l)):kW(y,new nI(Ove,l)):e.a._b(b)?kW(c,new nI(Pve,l)):kW(c,new nI(Ove,l))}if(y.a.gc()>1)for(t4(y,new aS(t,f=new lHt(g,y,r))),a.c[a.c.length]=f,h=y.a.ec().Kc();h.Ob();)w9(s,jV(h.Pb(),46).b);if(c.a.gc()>1)for(t4(c,new cS(t,f=new lHt(g,c,r))),a.c[a.c.length]=f,h=c.a.ec().Kc();h.Ob();)w9(s,jV(h.Pb(),46).b)}}function tWt(t){OT(t,new EEt(fk(mk(dk(pk(gk(new ma,f5t),"ELK Radial"),'A radial layout provider which is based on the algorithm of Peter Eades published in "Drawing free trees.", published by International Institute for Advanced Study of Social Information Science, Fujitsu Limited in 1991. The radial layouter takes a tree and places the nodes in radial order around the root. The nodes of the same tree level are placed on the same radius.'),new Hs),f5t))),o2(t,f5t,p3t,wbt(Dke)),o2(t,f5t,bJt,wbt(Rke)),o2(t,f5t,CJt,wbt(Cke)),o2(t,f5t,$Jt,wbt(Ake)),o2(t,f5t,TJt,wbt(Ske)),o2(t,f5t,AJt,wbt(Tke)),o2(t,f5t,EJt,wbt(Ike)),o2(t,f5t,SJt,wbt(Oke)),o2(t,f5t,l5t,wbt(xke)),o2(t,f5t,c5t,wbt(Eke)),o2(t,f5t,d5t,wbt(Mke)),o2(t,f5t,s5t,wbt(Pke)),o2(t,f5t,a5t,wbt(Nke)),o2(t,f5t,u5t,wbt(Lke)),o2(t,f5t,h5t,wbt(Bke))}function eWt(t){var e;if(this.r=DY(new Ct,new At),this.b=new Vft(jV(wG(FIe),290)),this.p=new Vft(jV(wG(FIe),290)),this.i=new Vft(jV(wG(Rre),290)),this.e=t,this.o=new dP(t.rf()),this.D=t.Df()||Vv(kR(t.We((cKt(),ECe)))),this.A=jV(t.We((cKt(),RCe)),21),this.B=jV(t.We(VCe),21),this.q=jV(t.We(oAe),98),this.u=jV(t.We(lAe),21),!fTt(this.u))throw $b(new n_("Invalid port label placement: "+this.u));if(this.v=Vv(kR(t.We(hAe))),this.j=jV(t.We(NCe),21),!tDt(this.j))throw $b(new n_("Invalid node label placement: "+this.j));this.n=jV(Jvt(t,OCe),116),this.k=zv(xR(Jvt(t,SAe))),this.d=zv(xR(Jvt(t,AAe))),this.w=zv(xR(Jvt(t,LAe))),this.s=zv(xR(Jvt(t,IAe))),this.t=zv(xR(Jvt(t,MAe))),this.C=jV(Jvt(t,DAe),142),this.c=2*this.d,e=!this.B.Hc((JFt(),$Ie)),this.f=new Smt(0,e,0),this.g=new Smt(1,e,0),vv(this.f,(Let(),Hie),this.g)}function nWt(t,e,n,r,o){var s,a,c,l,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C;for(v=0,m=0,p=0,g=1,y=new ID((!t.a&&(t.a=new tW(HMe,t,10,11)),t.a));y.e!=y.i.gc();)g+=F3(new sq(ZD(gDt(b=jV(vbt(y),33)).a.Kc(),new u))),E=b.g,m=i.Math.max(m,E),f=b.f,p=i.Math.max(p,f),v+=E*f;for(a=v+2*r*r*g*(!t.a&&(t.a=new tW(HMe,t,10,11)),t.a).i,s=i.Math.sqrt(a),l=i.Math.max(s*n,m),c=i.Math.max(s/n,p),w=new ID((!t.a&&(t.a=new tW(HMe,t,10,11)),t.a));w.e!=w.i.gc();)b=jV(vbt(w),33),T=o.b+(VOt(e,26)*iZt+VOt(e,27)*rZt)*(l-b.g),C=o.b+(VOt(e,26)*iZt+VOt(e,27)*rZt)*(c-b.f),Cnt(b,T),Ant(b,C);for(x=l+(o.b+o.c),k=c+(o.d+o.a),_=new ID((!t.a&&(t.a=new tW(HMe,t,10,11)),t.a));_.e!=_.i.gc();)for(d=new sq(ZD(gDt(jV(vbt(_),33)).a.Kc(),new u));gPt(d);)JMt(h=jV(U4(d),79))||$Gt(h,e,x,k);BWt(t,x+=o.b+o.c,k+=o.d+o.a,!1,!0)}function iWt(t){var e,n,i,r,o,s,a,c,l,u,h;if(null==t)throw $b(new x_(UKt));if(l=t,c=!1,(o=t.length)>0&&(h1(0,t.length),45!=(e=t.charCodeAt(0))&&43!=e||(t=t.substr(1),--o,c=45==e)),0==o)throw $b(new x_(LXt+l+'"'));for(;t.length>0&&(h1(0,t.length),48==t.charCodeAt(0));)t=t.substr(1),--o;if(o>(n$t(),Nee)[10])throw $b(new x_(LXt+l+'"'));for(r=0;r<o;r++)if(-1==emt((h1(r,t.length),t.charCodeAt(r))))throw $b(new x_(LXt+l+'"'));for(h=0,s=Oee[10],u=Dee[10],a=v9(Lee[10]),n=!0,(i=o%s)>0&&(h=-parseInt(t.substr(0,i),10),t=t.substr(i),o-=i,n=!1);o>=s;){if(i=parseInt(t.substr(0,s),10),t=t.substr(s),o-=s,n)n=!1;else{if(Kut(h,a)<0)throw $b(new x_(LXt+l+'"'));h=rft(h,u)}h=nft(h,i)}if(Kut(h,0)>0)throw $b(new x_(LXt+l+'"'));if(!c&&Kut(h=v9(h),0)<0)throw $b(new x_(LXt+l+'"'));return h}function rWt(t,e){var n,i,r,o,s,a,c;if(Zz(),this.a=new qO(this),this.b=t,this.c=e,this.f=SW(j9((SAt(),XOe),e)),this.f.dc())if((a=wkt(XOe,t))==e)for(this.e=!0,this.d=new Ob,this.f=new dc,this.f.Fc(T9t),jV(Dzt(F9(XOe,qet(t)),""),26)==t&&this.f.Fc(rq(XOe,qet(t))),r=kFt(XOe,t).Kc();r.Ob();)switch(i=jV(r.Pb(),170),NK(j9(XOe,i))){case 4:this.d.Fc(i);break;case 5:this.f.Gc(SW(j9(XOe,i)))}else if(ZT(),jV(e,66).Oj())for(this.e=!0,this.f=null,this.d=new Ob,s=0,c=(null==t.i&&z$t(t),t.i).length;s<c;++s)for(null==t.i&&z$t(t),n=t.i,i=s>=0&&s<n.length?n[s]:null,o=Z1(j9(XOe,i));o;o=Z1(j9(XOe,o)))o==e&&this.d.Fc(i);else 1==NK(j9(XOe,e))&&a?(this.f=null,this.d=(xMt(),lDe)):(this.f=null,this.e=!0,this.d=(EX(),new zf(e)));else this.e=5==NK(j9(XOe,e)),this.f.Fb(rDe)&&(this.f=rDe)}function oWt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p;for(n=0,r=Cyt(t,e),f=t.s,g=t.t,u=jV(jV(c6(t.r,e),21),84).Kc();u.Ob();)if((l=jV(u.Pb(),111)).c&&!(l.c.d.c.length<=0)){switch(p=l.b.rf(),c=l.b.Xe((cKt(),rAe))?zv(xR(l.b.We(rAe))):0,(d=(h=l.c).i).b=(a=h.n,h.e.a+a.b+a.c),d.a=(s=h.n,h.e.b+s.d+s.a),e.g){case 1:d.c=l.a?(p.a-d.b)/2:p.a+f,d.d=p.b+c+r,u8(h,(X8(),Kie)),WR(h,(z9(),ire));break;case 3:d.c=l.a?(p.a-d.b)/2:p.a+f,d.d=-c-r-d.a,u8(h,(X8(),Kie)),WR(h,(z9(),ere));break;case 2:d.c=-c-r-d.b,l.a?(o=t.v?d.a:jV(DH(h.d,0),181).rf().b,d.d=(p.b-o)/2):d.d=p.b+g,u8(h,(X8(),Xie)),WR(h,(z9(),nre));break;case 4:d.c=p.a+c+r,l.a?(o=t.v?d.a:jV(DH(h.d,0),181).rf().b,d.d=(p.b-o)/2):d.d=p.b+g,u8(h,(X8(),Yie)),WR(h,(z9(),nre))}(e==(vWt(),aIe)||e==EIe)&&(n=i.Math.max(n,d.a))}n>0&&(jV(sY(t.b,e),124).a.b=n)}function sWt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m;for(IEt(e,"Comment pre-processing",1),n=0,c=new Wf(t.a);c.a<c.c.c.length;)if(Vv(kR(wTt(a=jV(Q1(c),10),(VGt(),kpe))))){for(++n,r=0,i=null,l=null,g=new Wf(a.j);g.a<g.c.c.length;)r+=(d=jV(Q1(g),11)).e.c.length+d.g.c.length,1==d.e.c.length&&(l=(i=jV(DH(d.e,0),17)).c),1==d.g.c.length&&(l=(i=jV(DH(d.g,0),17)).d);if(1!=r||l.e.c.length+l.g.c.length!=1||Vv(kR(wTt(l.i,kpe)))){for(m=new Ob,f=new Wf(a.j);f.a<f.c.c.length;){for(h=new Wf((d=jV(Q1(f),11)).g);h.a<h.c.c.length;)0==(u=jV(Q1(h),17)).d.g.c.length||(m.c[m.c.length]=u);for(s=new Wf(d.e);s.a<s.c.c.length;)0==(o=jV(Q1(s),17)).c.e.c.length||(m.c[m.c.length]=o)}for(p=new Wf(m);p.a<p.c.c.length;)tVt(jV(Q1(p),17),!0)}else JWt(a,i,l,l.i),IW(c)}e.n&&Sz(e,"Found "+n+" comment boxes"),VCt(e)}function aWt(t,e,n,i){var r,o,s,a,c,l,u,h,d,f,g,p;if(d=zv(xR(wTt(t,(VGt(),Cbe)))),f=zv(xR(wTt(t,Abe))),h=zv(xR(wTt(t,Ebe))),a=t.o,s=(o=jV(DH(t.j,0),11)).n,p=xAt(o,h)){if(e.Hc((hIt(),tIe)))switch(jV(wTt(t,(lKt(),Khe)),61).g){case 1:p.c=(a.a-p.b)/2-s.a,p.d=f;break;case 3:p.c=(a.a-p.b)/2-s.a,p.d=-f-p.a;break;case 2:n&&0==o.e.c.length&&0==o.g.c.length?(u=i?p.a:jV(DH(o.f,0),70).o.b,p.d=(a.b-u)/2-s.b):p.d=a.b+f-s.b,p.c=-d-p.b;break;case 4:n&&0==o.e.c.length&&0==o.g.c.length?(u=i?p.a:jV(DH(o.f,0),70).o.b,p.d=(a.b-u)/2-s.b):p.d=a.b+f-s.b,p.c=d}else if(e.Hc(nIe))switch(jV(wTt(t,(lKt(),Khe)),61).g){case 1:case 3:p.c=s.a+d;break;case 2:case 4:n&&!o.c?(u=i?p.a:jV(DH(o.f,0),70).o.b,p.d=(a.b-u)/2-s.b):p.d=s.b+f}for(r=p.d,l=new Wf(o.f);l.a<l.c.c.length;)(g=(c=jV(Q1(l),70)).n).a=p.c,g.b=r,r+=c.o.b+h}}function cWt(){LM(hDe,new Yl),LM(zDe,new su),LM(HDe,new bu),LM(UDe,new Su),LM(Yee,new Ou),LM(z_(PNe,1),new Du),LM(vee,new Nu),LM(xee,new Lu),LM(Yee,new jl),LM(Yee,new $l),LM(Yee,new Vl),LM(Cee,new zl),LM(Yee,new Hl),LM(Rte,new Ul),LM(Rte,new ql),LM(Yee,new Wl),LM(Aee,new Gl),LM(Yee,new Kl),LM(Yee,new Xl),LM(Yee,new Zl),LM(Yee,new Ql),LM(Yee,new Jl),LM(z_(PNe,1),new tu),LM(Yee,new eu),LM(Yee,new nu),LM(Rte,new iu),LM(Rte,new ru),LM(Yee,new ou),LM(Mee,new au),LM(Yee,new cu),LM(Ree,new lu),LM(Yee,new uu),LM(Yee,new hu),LM(Yee,new du),LM(Yee,new fu),LM(Rte,new gu),LM(Rte,new pu),LM(Yee,new mu),LM(Yee,new wu),LM(Yee,new yu),LM(Yee,new vu),LM(Yee,new _u),LM(Yee,new ku),LM(Fee,new xu),LM(Yee,new Eu),LM(Yee,new Tu),LM(Yee,new Cu),LM(Fee,new Au),LM(Ree,new Iu),LM(Yee,new Mu),LM(Mee,new Pu)}function lWt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w;if((h=e.length)>0&&(h1(0,e.length),64!=(a=e.charCodeAt(0)))){if(37==a&&(c=!1,0!=(u=e.lastIndexOf("%"))&&(u==h-1||(h1(u+1,e.length),c=46==e.charCodeAt(u+1))))){if(w=bF("%",s=e.substr(1,u-1))?null:PWt(s),i=0,c)try{i=hjt(e.substr(u+2),FYt,LKt)}catch(t){throw iD(t=hat(t),127)?$b(new P9(t)):$b(t)}for(p=krt(t.Wg());p.Ob();)if(iD(f=Est(p),510)&&(b=(r=jV(f,590)).d,(null==w?null==b:bF(w,b))&&0==i--))return r;return null}if(d=-1==(l=e.lastIndexOf("."))?e:e.substr(0,l),n=0,-1!=l)try{n=hjt(e.substr(l+1),FYt,LKt)}catch(t){if(!iD(t=hat(t),127))throw $b(t);d=e}for(d=bF("%",d)?null:PWt(d),g=krt(t.Wg());g.Ob();)if(iD(f=Est(g),191)&&(m=(o=jV(f,191)).ne(),(null==d?null==m:bF(d,m))&&0==n--))return o;return null}return FHt(t,e)}function uWt(t){var e,n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E;for(y=new Ob,h=new Wf(t.b);h.a<h.c.c.length;)for(g=new Wf(jV(Q1(h),29).a);g.a<g.c.c.length;)if((d=jV(Q1(g),10)).k==(sCt(),xae)&&PL(d,(lKt(),Ghe))){for(p=null,b=null,m=null,k=new Wf(d.j);k.a<k.c.c.length;)switch((_=jV(Q1(k),11)).j.g){case 4:p=_;break;case 2:b=_;break;default:m=_}for(l=new Rk((w=jV(DH(m.g,0),17)).a),UB(c=new dP(m.n),d.n),QW(cbt(l,0),c),v=Zct(w.a),UB(u=new dP(m.n),d.n),n4(v,u,v.c.b,v.c),x=jV(wTt(d,Ghe),10),E=jV(DH(x.j,0),11),o=0,a=(i=jV(Ymt(p.e,D7(wae,r1t,17,0,0,1)),474)).length;o<a;++o)xJ(e=i[o],E),Glt(e.a,e.a.b,l);for(r=0,s=(n=Z0(b.g)).length;r<s;++r)EJ(e=n[r],E),Glt(e.a,0,v);EJ(w,null),xJ(w,null),y.c[y.c.length]=d}for(f=new Wf(y);f.a<f.c.c.length;)TJ(d=jV(Q1(f),10),null)}function hWt(){var t,e,n;for(hWt=M,new ytt(1,0),new ytt(10,0),new ytt(0,0),Vee=D7(nne,cYt,240,11,0,1),zee=D7(ANe,GYt,25,100,15,1),Hee=Cat(z_(ONe,1),zXt,25,15,[1,5,25,125,625,3125,15625,78125,390625,1953125,9765625,48828125,244140625,1220703125,6103515625,30517578125,152587890625,762939453125,3814697265625,19073486328125,95367431640625,476837158203125,0x878678326eac9]),Uee=D7(SNe,lXt,25,Hee.length,15,1),qee=Cat(z_(ONe,1),zXt,25,15,[1,10,100,KYt,1e4,HXt,1e6,1e7,1e8,MXt,1e10,1e11,1e12,1e13,1e14,1e15,1e16]),Wee=D7(SNe,lXt,25,qee.length,15,1),Gee=D7(nne,cYt,240,11,0,1),t=0;t<Gee.length;t++)Vee[t]=new ytt(t,0),Gee[t]=new ytt(0,t),zee[t]=48;for(;t<zee.length;t++)zee[t]=48;for(n=0;n<Uee.length;n++)Uee[n]=oIt(Hee[n]);for(e=0;e<Wee.length;e++)Wee[e]=oIt(qee[e]);PMt()}function dWt(){function t(){this.obj=this.createObject()}return t.prototype.createObject=function(t){return Object.create(null)},t.prototype.get=function(t){return this.obj[t]},t.prototype.set=function(t,e){this.obj[t]=e},t.prototype[nZt]=function(t){delete this.obj[t]},t.prototype.keys=function(){return Object.getOwnPropertyNames(this.obj)},t.prototype.entries=function(){var t=this.keys(),e=this,n=0;return{next:function(){if(n>=t.length)return{done:!0};var i=t[n++];return{value:[i,e.get(i)],done:!1}}}},URt()||(t.prototype.createObject=function(){return{}},t.prototype.get=function(t){return this.obj[":"+t]},t.prototype.set=function(t,e){this.obj[":"+t]=e},t.prototype[nZt]=function(t){delete this.obj[":"+t]},t.prototype.keys=function(){var t=[];for(var e in this.obj)58==e.charCodeAt(0)&&t.push(e.substring(1));return t}),t}function fWt(t){var e,n,i,r,o,s,a,c,l,u,h,d,f,g,p;if(C$t(),null==t)return null;if(0==(h=8*t.length))return"";for(d=h/24|0,o=null,o=D7(ANe,GYt,25,4*(0!=(a=h%24)?d+1:d),15,1),l=0,u=0,e=0,n=0,i=0,s=0,r=0,c=0;c<d;c++)e=t[r++],u=(15&(n=t[r++]))<<24>>24,l=(3&e)<<24>>24,f=-128&e?(e>>2^192)<<24>>24:e>>2<<24>>24,g=-128&n?(n>>4^240)<<24>>24:n>>4<<24>>24,p=-128&(i=t[r++])?(i>>6^252)<<24>>24:i>>6<<24>>24,o[s++]=WDe[f],o[s++]=WDe[g|l<<4],o[s++]=WDe[u<<2|p],o[s++]=WDe[63&i];return 8==a?(l=(3&(e=t[r]))<<24>>24,f=-128&e?(e>>2^192)<<24>>24:e>>2<<24>>24,o[s++]=WDe[f],o[s++]=WDe[l<<4],o[s++]=61,o[s++]=61):16==a&&(e=t[r],u=(15&(n=t[r+1]))<<24>>24,l=(3&e)<<24>>24,f=-128&e?(e>>2^192)<<24>>24:e>>2<<24>>24,g=-128&n?(n>>4^240)<<24>>24:n>>4<<24>>24,o[s++]=WDe[f],o[s++]=WDe[g|l<<4],o[s++]=WDe[u<<2],o[s++]=61),$pt(o,0,o.length)}function gWt(t,e){var n,r,o,s,a,c;if(0==t.e&&t.p>0&&(t.p=-(t.p-1)),t.p>FYt&&t5(e,t.p-cXt),a=e.q.getDate(),FQ(e,1),t.k>=0&&mJ(e,t.k),t.c>=0?FQ(e,t.c):t.k>=0?(r=35-new bct(e.q.getFullYear()-cXt,e.q.getMonth(),35).q.getDate(),FQ(e,i.Math.min(r,a))):FQ(e,a),t.f<0&&(t.f=e.q.getHours()),t.b>0&&t.f<12&&(t.f+=12),rD(e,24==t.f&&t.g?0:t.f),t.j>=0&&g6(e,t.j),t.n>=0&&U7(e,t.n),t.i>=0&&fM(e,ift(rft(Ikt(ust(e.q.getTime()),KYt),KYt),t.i)),t.a&&(t5(o=new IE,o.q.getFullYear()-cXt-80),aC(ust(e.q.getTime()),ust(o.q.getTime()))&&t5(e,o.q.getFullYear()-cXt+100)),t.d>=0)if(-1==t.c)(n=(7+t.d-e.q.getDay())%7)>3&&(n-=7),c=e.q.getMonth(),FQ(e,e.q.getDate()+n),e.q.getMonth()!=c&&FQ(e,e.q.getDate()+(n>0?-7:7));else if(e.q.getDay()!=t.d)return!1;return t.o>FYt&&(s=e.q.getTimezoneOffset(),fM(e,ift(ust(e.q.getTime()),60*(t.o-s)*KYt))),!0}function pWt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b;if(iD(r=wTt(e,(lKt(),fde)),239)){for(f=jV(r,33),g=e.e,h=new dP(e.c),o=e.d,h.a+=o.b,h.b+=o.d,EN(jV(QPt(f,(VGt(),Vme)),174),(JFt(),VIe))&&(Ad(d=jV(QPt(f,Hme),116),o.a),Rd(d,o.d),Sd(d,o.b),Bd(d,o.c)),n=new Ob,l=new Wf(e.a);l.a<l.c.c.length;)for(iD(wTt(a=jV(Q1(l),10),fde),239)?AWt(a,h):iD(wTt(a,fde),186)&&!g&&EP(i=jV(wTt(a,fde),118),(m=y$t(e,a,i.g,i.f)).a,m.b),p=new Wf(a.j);p.a<p.c.c.length;)XE(IY(new LH(null,new d1(jV(Q1(p),11).g,16)),new Kg(a)),new Yg(n));if(g)for(p=new Wf(g.j);p.a<p.c.c.length;)XE(IY(new LH(null,new d1(jV(Q1(p),11).g,16)),new Xg(g)),new Zg(n));for(b=jV(QPt(f,Zpe),218),s=new Wf(n);s.a<s.c.c.length;)mqt(jV(Q1(s),17),b,h);for(wjt(e),c=new Wf(e.a);c.a<c.c.c.length;)(u=(a=jV(Q1(c),10)).e)&&pWt(t,u)}}function mWt(t){OT(t,new EEt(bk(fk(mk(dk(pk(gk(new ma,pJt),"ELK Force"),"Force-based algorithm provided by the Eclipse Layout Kernel. Implements methods that follow physical analogies by simulating forces that move the nodes into a balanced distribution. Currently the original Eades model and the Fruchterman - Reingold model are supported."),new ge),pJt),_U((lPt(),QMe),Cat(z_(iPe,1),PYt,237,0,[XMe]))))),o2(t,pJt,mJt,ndt(1)),o2(t,pJt,bJt,80),o2(t,pJt,wJt,5),o2(t,pJt,KQt,gJt),o2(t,pJt,yJt,ndt(1)),o2(t,pJt,vJt,(cN(),!0)),o2(t,pJt,YQt,Koe),o2(t,pJt,_Jt,wbt($oe)),o2(t,pJt,kJt,wbt(Yoe)),o2(t,pJt,xJt,!1),o2(t,pJt,EJt,wbt(Woe)),o2(t,pJt,TJt,wbt(qoe)),o2(t,pJt,CJt,wbt(Uoe)),o2(t,pJt,AJt,wbt(Hoe)),o2(t,pJt,SJt,wbt(Xoe)),o2(t,pJt,aJt,wbt(zoe)),o2(t,pJt,uJt,wbt(rse)),o2(t,pJt,cJt,wbt(Voe)),o2(t,pJt,dJt,wbt(Joe)),o2(t,pJt,lJt,wbt(tse))}function bWt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g;if(!jV(jV(c6(t.r,e),21),84).dc()){if(l=(a=jV(sY(t.b,e),124)).i,c=a.n,h=CRt(t,e),r=l.b-c.b-c.c,o=a.a.a,s=l.c+c.b,g=t.w,h!=(rbt(),jSe)&&h!=VSe||1!=jV(jV(c6(t.r,e),21),84).gc()||(o=h==jSe?o-2*t.w:o,h=FSe),r<o&&!t.B.Hc((JFt(),WIe)))h==jSe?s+=g+=(r-o)/(jV(jV(c6(t.r,e),21),84).gc()+1):g+=(r-o)/(jV(jV(c6(t.r,e),21),84).gc()-1);else switch(r<o&&(o=h==jSe?o-2*t.w:o,h=FSe),h.g){case 3:s+=(r-o)/2;break;case 4:s+=r-o;break;case 0:n=(r-o)/(jV(jV(c6(t.r,e),21),84).gc()+1),s+=g+=i.Math.max(0,n);break;case 1:n=(r-o)/(jV(jV(c6(t.r,e),21),84).gc()-1),g+=i.Math.max(0,n)}for(f=jV(jV(c6(t.r,e),21),84).Kc();f.Ob();)(d=jV(f.Pb(),111)).e.a=s+d.d.b,d.e.b=(u=d.b).Xe((cKt(),rAe))?u.Hf()==(vWt(),aIe)?-u.rf().b-zv(xR(u.We(rAe))):zv(xR(u.We(rAe))):u.Hf()==(vWt(),aIe)?-u.rf().b:0,s+=d.d.b+d.b.rf().a+d.d.c+g}}function wWt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p;if(!jV(jV(c6(t.r,e),21),84).dc()){if(l=(a=jV(sY(t.b,e),124)).i,c=a.n,d=CRt(t,e),r=l.a-c.d-c.a,o=a.a.b,s=l.d+c.d,p=t.w,u=t.o.a,d!=(rbt(),jSe)&&d!=VSe||1!=jV(jV(c6(t.r,e),21),84).gc()||(o=d==jSe?o-2*t.w:o,d=FSe),r<o&&!t.B.Hc((JFt(),WIe)))d==jSe?s+=p+=(r-o)/(jV(jV(c6(t.r,e),21),84).gc()+1):p+=(r-o)/(jV(jV(c6(t.r,e),21),84).gc()-1);else switch(r<o&&(o=d==jSe?o-2*t.w:o,d=FSe),d.g){case 3:s+=(r-o)/2;break;case 4:s+=r-o;break;case 0:n=(r-o)/(jV(jV(c6(t.r,e),21),84).gc()+1),s+=p+=i.Math.max(0,n);break;case 1:n=(r-o)/(jV(jV(c6(t.r,e),21),84).gc()-1),p+=i.Math.max(0,n)}for(g=jV(jV(c6(t.r,e),21),84).Kc();g.Ob();)(f=jV(g.Pb(),111)).e.a=(h=f.b).Xe((cKt(),rAe))?h.Hf()==(vWt(),CIe)?-h.rf().a-zv(xR(h.We(rAe))):u+zv(xR(h.We(rAe))):h.Hf()==(vWt(),CIe)?-h.rf().a:u,f.e.b=s+f.d.d,s+=f.d.d+f.b.rf().b+f.d.a+p}}function yWt(t){var e,n,r,o,s,a,c,l,h,d,f,g,p,m,b;for(t.n=zv(xR(wTt(t.g,(VGt(),Sbe)))),t.e=zv(xR(wTt(t.g,kbe))),t.i=t.g.b.c.length,c=t.i-1,g=0,t.j=0,t.k=0,t.a=o6(D7(Mee,cYt,19,t.i,0,1)),t.b=o6(D7(Cee,cYt,333,t.i,7,1)),a=new Wf(t.g.b);a.a<a.c.c.length;){for((o=jV(Q1(a),29)).p=c,f=new Wf(o.a);f.a<f.c.c.length;)(d=jV(Q1(f),10)).p=g,++g;--c}for(t.f=D7(SNe,lXt,25,g,15,1),t.c=yH(SNe,[cYt,lXt],[48,25],15,[g,3],2),t.o=new Ob,t.p=new Ob,e=0,t.d=0,s=new Wf(t.g.b);s.a<s.c.c.length;){for(c=(o=jV(Q1(s),29)).p,r=0,b=0,l=o.a.c.length,h=0,f=new Wf(o.a);f.a<f.c.c.length;)g=(d=jV(Q1(f),10)).p,t.f[g]=d.c.p,h+=d.o.b+t.n,n=F3(new sq(ZD(uft(d).a.Kc(),new u))),m=F3(new sq(ZD(hft(d).a.Kc(),new u))),t.c[g][0]=m-n,t.c[g][1]=n,t.c[g][2]=m,r+=n,b+=m,n>0&&WV(t.p,d),WV(t.o,d);p=l+(e-=r),h+=e*t.e,i4(t.a,c,ndt(p)),i4(t.b,c,h),t.j=i.Math.max(t.j,p),t.k=i.Math.max(t.k,h),t.d+=e,e+=b}}function vWt(){var t;vWt=M,TIe=new WS(lQt,0),aIe=new WS(wQt,1),sIe=new WS(yQt,2),EIe=new WS(vQt,3),CIe=new WS(_Qt,4),EX(),dIe=new I_(new YF(t=jV(Gk(FIe),9),jV(EB(t,t.length),9),0)),fIe=uht(_U(aIe,Cat(z_(FIe,1),XJt,61,0,[]))),cIe=uht(_U(sIe,Cat(z_(FIe,1),XJt,61,0,[]))),_Ie=uht(_U(EIe,Cat(z_(FIe,1),XJt,61,0,[]))),xIe=uht(_U(CIe,Cat(z_(FIe,1),XJt,61,0,[]))),wIe=uht(_U(aIe,Cat(z_(FIe,1),XJt,61,0,[EIe]))),hIe=uht(_U(sIe,Cat(z_(FIe,1),XJt,61,0,[CIe]))),vIe=uht(_U(aIe,Cat(z_(FIe,1),XJt,61,0,[CIe]))),gIe=uht(_U(aIe,Cat(z_(FIe,1),XJt,61,0,[sIe]))),kIe=uht(_U(EIe,Cat(z_(FIe,1),XJt,61,0,[CIe]))),lIe=uht(_U(sIe,Cat(z_(FIe,1),XJt,61,0,[EIe]))),bIe=uht(_U(aIe,Cat(z_(FIe,1),XJt,61,0,[sIe,CIe]))),uIe=uht(_U(sIe,Cat(z_(FIe,1),XJt,61,0,[EIe,CIe]))),yIe=uht(_U(aIe,Cat(z_(FIe,1),XJt,61,0,[EIe,CIe]))),pIe=uht(_U(aIe,Cat(z_(FIe,1),XJt,61,0,[sIe,EIe]))),mIe=uht(_U(aIe,Cat(z_(FIe,1),XJt,61,0,[sIe,EIe,CIe])))}function _Wt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w;if(0!=e.b){for(d=new YE,s=null,f=null,n=CQ(i.Math.floor(i.Math.log(e.b)*i.Math.LOG10E)+1),a=0,w=cbt(e,0);w.b!=w.d.c;)for(m=jV(h3(w),86),zI(f)!==zI(wTt(m,(zHt(),n_e)))&&(f=ER(wTt(m,n_e)),a=0),s=null!=f?f+f0(a++,n):f0(a++,n),lct(m,n_e,s),p=new dm(cbt(new hm(m).a.d,0));_x(p.a);)n4(d,g=jV(h3(p.a),188).c,d.c.b,d.c),lct(g,n_e,s);for(h=new Db,o=0;o<s.length-n;o++)for(b=cbt(e,0);b.b!=b.d.c;)bJ(h,c=lL(ER(wTt(m=jV(h3(b),86),(zHt(),n_e))),0,o+1),ndt(null!=(null==c?VI(IZ(h.f,null)):cC(h.g,c))?jV(null==c?VI(IZ(h.f,null)):cC(h.g,c),19).a+1:1));for(u=new slt(new Tf(h).a);u.b;)l=tnt(u),r=ndt(null!=LG(t.a,l.cd())?jV(LG(t.a,l.cd()),19).a:0),bJ(t.a,ER(l.cd()),ndt(jV(l.dd(),19).a+r.a)),(!(r=jV(LG(t.b,l.cd()),19))||r.a<jV(l.dd(),19).a)&&bJ(t.b,ER(l.cd()),jV(l.dd(),19));_Wt(t,d)}}function kWt(t,e,n){var r,o,s,a,c,l,u,h,d,f,g,p,m,b,w;for(IEt(n,"Interactive node layering",1),r=new Ob,g=new Wf(e.a);g.a<g.c.c.length;){for(l=(u=(d=jV(Q1(g),10)).n.a)+d.o.a,l=i.Math.max(u+1,l),w=new x2(r,0),o=null;w.b<w.d.gc();){if(TL(w.b<w.d.gc()),(m=jV(w.d.Xb(w.c=w.b++),569)).c>=l){TL(w.b>0),w.a.Xb(w.c=--w.b);break}m.a>u&&(o?(pat(o.b,m.b),o.a=i.Math.max(o.a,m.a),lK(w)):(WV(m.b,d),m.c=i.Math.min(m.c,u),m.a=i.Math.max(m.a,l),o=m))}o||((o=new ey).c=u,o.a=l,wB(w,o),WV(o.b,d))}for(c=e.b,h=0,b=new Wf(r);b.a<b.c.c.length;)for(m=jV(Q1(b),569),(s=new $G(e)).p=h++,c.c[c.c.length]=s,p=new Wf(m.b);p.a<p.c.c.length;)TJ(d=jV(Q1(p),10),s),d.p=0;for(f=new Wf(e.a);f.a<f.c.c.length;)0==(d=jV(Q1(f),10)).p&&ARt(t,d,e);for(a=new x2(c,0);a.b<a.d.gc();)0==(TL(a.b<a.d.gc()),jV(a.d.Xb(a.c=a.b++),29)).a.c.length&&lK(a);e.a.c=D7(Mte,VKt,1,0,5,1),VCt(n)}function xWt(t,e,n){var i,r,o,s,a,c,l,u,h,d;if(0!=e.e.c.length&&0!=n.e.c.length){if((i=jV(DH(e.e,0),17).c.i)==(s=jV(DH(n.e,0),17).c.i))return _O(jV(wTt(jV(DH(e.e,0),17),(lKt(),dde)),19).a,jV(wTt(jV(DH(n.e,0),17),dde),19).a);for(h=0,d=(u=t.a).length;h<d;++h){if((l=u[h])==i)return 1;if(l==s)return-1}}return 0!=e.g.c.length&&0!=n.g.c.length?(o=jV(wTt(e,(lKt(),ude)),10),c=jV(wTt(n,ude),10),r=0,a=0,PL(jV(DH(e.g,0),17),dde)&&(r=jV(wTt(jV(DH(e.g,0),17),dde),19).a),PL(jV(DH(n.g,0),17),dde)&&(a=jV(wTt(jV(DH(e.g,0),17),dde),19).a),o&&o==c?Vv(kR(wTt(jV(DH(e.g,0),17),Cde)))&&!Vv(kR(wTt(jV(DH(n.g,0),17),Cde)))?1:!Vv(kR(wTt(jV(DH(e.g,0),17),Cde)))&&Vv(kR(wTt(jV(DH(n.g,0),17),Cde)))||r<a?-1:r>a?1:0:(t.b&&(t.b._b(o)&&(r=jV(t.b.xc(o),19).a),t.b._b(c)&&(a=jV(t.b.xc(c),19).a)),r<a?-1:r>a?1:0)):0!=e.e.c.length&&0!=n.g.c.length?1:-1}function EWt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_;for(IEt(e,I1t,1),g=new Ob,v=new Ob,l=new Wf(t.b);l.a<l.c.c.length;)for(m=-1,d=0,f=(h=Q0((c=jV(Q1(l),29)).a)).length;d<f;++d)if(++m,(u=h[d]).k==(sCt(),Cae)&&mP(jV(wTt(u,(VGt(),tbe)),98))){for(PF(jV(wTt(u,(VGt(),tbe)),98))||VNt(u),lct(u,(lKt(),nde),u),g.c=D7(Mte,VKt,1,0,5,1),v.c=D7(Mte,VKt,1,0,5,1),n=new Ob,zrt(w=new YE,LCt(u,(vWt(),aIe))),MGt(t,w,g,v,n),a=m,_=u,o=new Wf(g);o.a<o.c.c.length;)Yvt(i=jV(Q1(o),10),a,c),++m,lct(i,nde,u),s=jV(DH(i.j,0),11),p=jV(wTt(s,fde),11),Vv(kR(wTt(p,vpe)))||jV(wTt(i,ide),15).Fc(_);for(wX(w),b=LCt(u,EIe).Kc();b.Ob();)n4(w,jV(b.Pb(),11),w.a,w.a.a);for(MGt(t,w,v,null,n),y=u,r=new Wf(v);r.a<r.c.c.length;)Yvt(i=jV(Q1(r),10),++m,c),lct(i,nde,u),s=jV(DH(i.j,0),11),p=jV(wTt(s,fde),11),Vv(kR(wTt(p,vpe)))||jV(wTt(y,ide),15).Fc(i);0==n.c.length||lct(u,Dhe,n)}VCt(e)}function TWt(t){var e,n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C,A;for(u=jV(wTt(t,(Ert(),ase)),33),p=LKt,m=LKt,f=FYt,g=FYt,w=new Wf(t.e);w.a<w.c.c.length;)x=(b=jV(Q1(w),144)).d,E=b.e,p=i.Math.min(p,x.a-E.a/2),m=i.Math.min(m,x.b-E.b/2),f=i.Math.max(f,x.a+E.a/2),g=i.Math.max(g,x.b+E.b/2);for(_=new DS((k=jV(QPt(u,(uBt(),Goe)),116)).b-p,k.d-m),c=new Wf(t.e);c.a<c.c.c.length;)iD(v=wTt(a=jV(Q1(c),144),ase),239)&&EP(h=jV(v,33),(y=UB(a.d,_)).a-h.g/2,y.b-h.f/2);for(r=new Wf(t.c);r.a<r.c.c.length;)n=jV(Q1(r),282),l=rRt(jV(wTt(n,ase),79),!0,!0),q_t(C=qB(jO(n.d.d),n.c.d),n.c.e.a,n.c.e.b),CP(l,(T=UB(C,n.c.d)).a,T.b),q_t(A=qB(jO(n.c.d),n.d.d),n.d.e.a,n.d.e.b),TP(l,(e=UB(A,n.d.d)).a,e.b);for(s=new Wf(t.d);s.a<s.c.c.length;)o=jV(Q1(s),447),EP(jV(wTt(o,ase),137),(d=UB(o.d,_)).a,d.b);BWt(u,f-p+(k.b+k.c),g-m+(k.d+k.a),!1,!0)}function CWt(t){var e,n,i,r,o,s,a,c,l,u,h;for(n=null,a=null,(r=jV(wTt(t.b,(VGt(),eme)),376))==(I6(),Xwe)&&(n=new Ob,a=new Ob),s=new Wf(t.d);s.a<s.c.c.length;)if((o=jV(Q1(s),101)).i)switch(o.e.g){case 0:e=jV(o5(new KE(o.b)),61),r==Xwe&&e==(vWt(),aIe)?n.c[n.c.length]=o:r==Xwe&&e==(vWt(),EIe)?a.c[a.c.length]=o:Dyt(o,e);break;case 1:c=o.a.d.j,l=o.c.d.j,c==(vWt(),aIe)?hW(o,aIe,(Iat(),ble),o.a):l==aIe?hW(o,aIe,(Iat(),wle),o.c):c==EIe?hW(o,EIe,(Iat(),wle),o.a):l==EIe&&hW(o,EIe,(Iat(),ble),o.c);break;case 2:case 3:EN(i=o.b,(vWt(),aIe))?EN(i,EIe)?EN(i,CIe)?EN(i,sIe)||hW(o,aIe,(Iat(),wle),o.c):hW(o,aIe,(Iat(),ble),o.a):hW(o,aIe,(Iat(),mle),null):hW(o,EIe,(Iat(),mle),null);break;case 4:u=o.a.d.j,h=o.a.d.j,u==(vWt(),aIe)||h==aIe?hW(o,EIe,(Iat(),mle),null):hW(o,aIe,(Iat(),mle),null)}n&&(0==n.c.length||Y$t(n,(vWt(),aIe)),0==a.c.length||Y$t(a,(vWt(),EIe)))}function AWt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g;for(i=jV(wTt(t,(lKt(),fde)),33),f=jV(wTt(t,(VGt(),jpe)),19).a,o=jV(wTt(t,vme),19).a,Xbt(i,jpe,ndt(f)),Xbt(i,vme,ndt(o)),Cnt(i,t.n.a+e.a),Ant(i,t.n.b+e.b),(0!=jV(QPt(i,Fme),174).gc()||t.e||zI(wTt(mK(t),Bme))===zI((Dwt(),bwe))&&pP((dwt(),(t.q?t.q:(EX(),EX(),lne))._b(Lme)?jV(wTt(t,Lme),197):jV(wTt(mK(t),Rme),197))))&&(Tnt(i,t.o.a),Ent(i,t.o.b)),h=new Wf(t.j);h.a<h.c.c.length;)iD(g=wTt(l=jV(Q1(h),11),fde),186)&&(EP(r=jV(g,118),l.n.a,l.n.b),Xbt(r,obe,l.j));for(d=0!=jV(wTt(t,Mme),174).gc(),c=new Wf(t.b);c.a<c.c.c.length;)s=jV(Q1(c),70),(d||0!=jV(wTt(s,Mme),174).gc())&&(xP(n=jV(wTt(s,fde),137),s.o.a,s.o.b),EP(n,s.n.a,s.n.b));if(!$q(jV(wTt(t,ibe),21)))for(u=new Wf(t.j);u.a<u.c.c.length;)for(a=new Wf((l=jV(Q1(u),11)).f);a.a<a.c.c.length;)s=jV(Q1(a),70),Tnt(n=jV(wTt(s,fde),137),s.o.a),Ent(n,s.o.b),EP(n,s.n.a,s.n.b)}function SWt(t){var e,n,i,r,o;switch(SZ(t,n7t),(!t.b&&(t.b=new cF(LMe,t,4,7)),t.b).i+(!t.c&&(t.c=new cF(LMe,t,5,8)),t.c).i){case 0:throw $b(new Bv("The edge must have at least one source or target."));case 1:return 0==(!t.b&&(t.b=new cF(LMe,t,4,7)),t.b).i?XQ(CEt(jV(Get((!t.c&&(t.c=new cF(LMe,t,5,8)),t.c),0),82))):XQ(CEt(jV(Get((!t.b&&(t.b=new cF(LMe,t,4,7)),t.b),0),82)))}if(1==(!t.b&&(t.b=new cF(LMe,t,4,7)),t.b).i&&1==(!t.c&&(t.c=new cF(LMe,t,5,8)),t.c).i){if(r=CEt(jV(Get((!t.b&&(t.b=new cF(LMe,t,4,7)),t.b),0),82)),o=CEt(jV(Get((!t.c&&(t.c=new cF(LMe,t,5,8)),t.c),0),82)),XQ(r)==XQ(o))return XQ(r);if(r==XQ(o))return r;if(o==XQ(r))return o}for(e=CEt(jV(U4(i=OW(Gnt(Cat(z_(Nte,1),VKt,20,0,[(!t.b&&(t.b=new cF(LMe,t,4,7)),t.b),(!t.c&&(t.c=new cF(LMe,t,5,8)),t.c)])))),82));gPt(i);)if((n=CEt(jV(U4(i),82)))!=e&&!Aet(n,e))if(XQ(n)==XQ(e))e=XQ(n);else if(!(e=$Ot(e,n)))return null;return e}function IWt(t,e,n){var r,o,s,a,c,l,h,d,f,g,p,m,b,w,y,v,_,k;for(IEt(n,"Polyline edge routing",1),w=zv(xR(wTt(e,(VGt(),Jpe)))),p=zv(xR(wTt(e,Ibe))),o=zv(xR(wTt(e,ybe))),r=i.Math.min(1,o/p),_=0,l=0,0!=e.b.c.length&&(_=.4*r*(k=lDt(jV(DH(e.b,0),29)))),c=new x2(e.b,0);c.b<c.d.gc();){for(TL(c.b<c.d.gc()),(s=GI(a=jV(c.d.Xb(c.c=c.b++),29),vve))&&_>0&&(_-=p),xHt(a,_),d=0,g=new Wf(a.a);g.a<g.c.c.length;){for(h=0,b=new sq(ZD(hft(f=jV(Q1(g),10)).a.Kc(),new u));gPt(b);)y=g1((m=jV(U4(b),17)).c).b,v=g1(m.d).b,a!=m.d.i.c||h4(m)||(KIt(m,_,.4*r*i.Math.abs(y-v)),m.c.j==(vWt(),CIe)&&(y=0,v=0)),h=i.Math.max(h,i.Math.abs(v-y));switch(f.k.g){case 0:case 4:case 1:case 3:case 5:HHt(t,f,_,w)}d=i.Math.max(d,h)}c.b<c.d.gc()&&(k=lDt((TL(c.b<c.d.gc()),jV(c.d.Xb(c.c=c.b++),29))),d=i.Math.max(d,k),TL(c.b>0),c.a.Xb(c.c=--c.b)),l=.4*r*d,!s&&c.b<c.d.gc()&&(l+=p),_+=a.c.a+l}t.a.a.$b(),e.f.a=_,VCt(n)}function MWt(t){var e,n,i,r,o,s,a,c,l,h,d,f,g,p,m,b,w;for(l=new Db,a=new pQ,i=new Wf(t.a.a.b);i.a<i.c.c.length;)if(c=l2(e=jV(Q1(i),57)))_St(l.f,c,e);else if(w=l3(e))for(r=new Wf(w.k);r.a<r.c.c.length;)ZIt(a,jV(Q1(r),17),e);for(n=new Wf(t.a.a.b);n.a<n.c.c.length;)if(c=l2(e=jV(Q1(n),57)))for(s=new sq(ZD(hft(c).a.Kc(),new u));gPt(s);)if(!h4(o=jV(U4(s),17))&&(g=o.c,b=o.d,!(vWt(),wIe).Hc(o.c.j)||!wIe.Hc(o.d.j))){if(p=jV(LG(l,o.d.i),57),qNt(rT(iT(oT(nT(new $w,0),100),t.c[e.a.d]),t.c[p.a.d])),g.j==CIe&&Mq((pot(),g)))for(d=jV(c6(a,o),21).Kc();d.Ob();)if((h=jV(d.Pb(),57)).d.c<e.d.c){if((f=t.c[h.a.d])==(m=t.c[e.a.d]))continue;qNt(rT(iT(oT(nT(new $w,1),100),f),m))}if(b.j==sIe&&Iq((pot(),b)))for(d=jV(c6(a,o),21).Kc();d.Ob();)if((h=jV(d.Pb(),57)).d.c>e.d.c){if((f=t.c[e.a.d])==(m=t.c[h.a.d]))continue;qNt(rT(iT(oT(nT(new $w,1),100),f),m))}}}function PWt(t){var e,n,i,r,o,s,a,c;if(Rzt(),null==t)return null;if((r=zM(t,XEt(37)))<0)return t;for(c=new uN(t.substr(0,r)),e=D7(PNe,b6t,25,4,15,1),a=0,i=0,s=t.length;r<s;r++)if(h1(r,t.length),37==t.charCodeAt(r)&&t.length>r+2&&tct((h1(r+1,t.length),t.charCodeAt(r+1)),CPe,APe)&&tct((h1(r+2,t.length),t.charCodeAt(r+2)),CPe,APe))if(n=Cz((h1(r+1,t.length),t.charCodeAt(r+1)),(h1(r+2,t.length),t.charCodeAt(r+2))),r+=2,i>0?128==(192&n)?e[a++]=n<<24>>24:i=0:n>=128&&(192==(224&n)?(e[a++]=n<<24>>24,i=2):224==(240&n)?(e[a++]=n<<24>>24,i=3):240==(248&n)&&(e[a++]=n<<24>>24,i=4)),i>0){if(a==i){switch(a){case 2:DG(c,((31&e[0])<<6|63&e[1])&YYt);break;case 3:DG(c,((15&e[0])<<12|(63&e[1])<<6|63&e[2])&YYt)}a=0,i=0}}else{for(o=0;o<a;++o)DG(c,e[o]&YYt);a=0,c.a+=String.fromCharCode(n)}else{for(o=0;o<a;++o)DG(c,e[o]&YYt);a=0,DG(c,(h1(r,t.length),t.charCodeAt(r)))}return c.a}function OWt(t,e,n,i,r){var o,s,a;if(wtt(t,e),s=e[0],o=lY(n.c,0),a=-1,Xct(n))if(i>0){if(s+i>t.length)return!1;a=qIt(t.substr(0,s+i),e)}else a=qIt(t,e);switch(o){case 71:return a=UEt(t,s,Cat(z_(Yee,1),cYt,2,6,[uXt,hXt]),e),r.e=a,!0;case 77:return pRt(t,e,r,a,s);case 76:return mRt(t,e,r,a,s);case 69:return iSt(t,e,s,r);case 99:return rSt(t,e,s,r);case 97:return a=UEt(t,s,Cat(z_(Yee,1),cYt,2,6,["AM","PM"]),e),r.b=a,!0;case 121:return bRt(t,e,s,a,n,r);case 100:return!(a<=0||(r.c=a,0));case 83:return!(a<0)&&_gt(a,s,e[0],r);case 104:12==a&&(a=0);case 75:case 72:return!(a<0||(r.f=a,r.g=!1,0));case 107:return!(a<0||(r.f=a,r.g=!0,0));case 109:return!(a<0||(r.j=a,0));case 115:return!(a<0||(r.n=a,0));case 90:if(s<t.length&&(h1(s,t.length),90==t.charCodeAt(s)))return++e[0],r.o=0,!0;case 122:case 118:return AEt(t,s,e,r);default:return!1}}function DWt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x;if(f=jV(jV(c6(t.r,e),21),84),e!=(vWt(),sIe)&&e!=CIe){for(s=e==aIe?(Lst(),Ore):(Lst(),Lre),_=e==aIe?(z9(),ire):(z9(),ere),o=(r=(n=jV(sY(t.b,e),124)).i).c+Oct(Cat(z_(ONe,1),zXt,25,15,[n.n.b,t.C.b,t.k])),w=r.c+r.b-Oct(Cat(z_(ONe,1),zXt,25,15,[n.n.c,t.C.c,t.k])),a=Z_($j(s),t.t),y=e==aIe?BXt:RXt,d=f.Kc();d.Ob();)!(u=jV(d.Pb(),111)).c||u.c.d.c.length<=0||(b=u.b.rf(),m=u.e,(p=(g=u.c).i).b=(l=g.n,g.e.a+l.b+l.c),p.a=(c=g.n,g.e.b+c.d+c.a),SZ(_,sQt),g.f=_,u8(g,(X8(),Xie)),p.c=m.a-(p.b-b.a)/2,k=i.Math.min(o,m.a),x=i.Math.max(w,m.a+b.a),p.c<k?p.c=k:p.c+p.b>x&&(p.c=x-p.b),WV(a.d,new DU(p,vdt(a,p))),y=e==aIe?i.Math.max(y,m.b+u.b.rf().b):i.Math.min(y,m.b));for(y+=e==aIe?t.t:-t.t,(v=Cgt((a.e=y,a)))>0&&(jV(sY(t.b,e),124).a.b=v),h=f.Kc();h.Ob();)!(u=jV(h.Pb(),111)).c||u.c.d.c.length<=0||((p=u.c.i).c-=u.e.a,p.d-=u.e.b)}else oWt(t,e)}function NWt(t){var e,n,i,r,o,s,a,c,l,h;for(e=new Db,s=new ID(t);s.e!=s.i.gc();){for(o=jV(vbt(s),33),n=new Lw,GK(xoe,o,n),h=new se,i=jV(T5(new LH(null,new HW(new sq(ZD(fDt(o).a.Kc(),new u)))),EU(h,b8(new z,new V,new it,Cat(z_(Qne,1),PYt,132,0,[(zlt(),Une)])))),83),Znt(n,jV(i.xc((cN(),!0)),14),new ae),r=jV(T5(IY(jV(i.xc(!1),15).Lc(),new ce),b8(new z,new V,new it,Cat(z_(Qne,1),PYt,132,0,[Une]))),15).Kc();r.Ob();)(l=ATt(jV(r.Pb(),79)))&&((a=jV(VI(IZ(e.f,l)),21))||(a=ILt(l),_St(e.f,l,a)),jrt(n,a));for(i=jV(T5(new LH(null,new HW(new sq(ZD(gDt(o).a.Kc(),new u)))),EU(h,b8(new z,new V,new it,Cat(z_(Qne,1),PYt,132,0,[Une])))),83),Znt(n,jV(i.xc(!0),14),new le),c=jV(T5(IY(jV(i.xc(!1),15).Lc(),new ue),b8(new z,new V,new it,Cat(z_(Qne,1),PYt,132,0,[Une]))),15).Kc();c.Ob();)(l=STt(jV(c.Pb(),79)))&&((a=jV(VI(IZ(e.f,l)),21))||(a=ILt(l),_St(e.f,l,a)),jrt(n,a))}}function LWt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p;if(szt(),(c=Kut(t,0)<0)&&(t=v9(t)),0==Kut(t,0))switch(e){case 0:return"0";case 1:return GXt;case 2:return"0.00";case 3:return"0.000";case 4:return"0.0000";case 5:return"0.00000";case 6:return"0.000000";default:return(f=new C_).a+=e<0?"0E+":"0E",f.a+=e==FYt?"2147483648":""+-e,f.a}h=D7(ANe,GYt,25,1+(u=18),15,1),n=u,p=t;do{l=p,p=Ikt(p,10),h[--n]=fU(ift(48,nft(l,rft(p,10))))&YYt}while(0!=Kut(p,0));if(r=nft(nft(nft(u,n),e),1),0==e)return c&&(h[--n]=45),$pt(h,n,u-n);if(e>0&&Kut(r,-6)>=0){if(Kut(r,0)>=0){for(o=n+fU(r),a=u-1;a>=o;a--)h[a+1]=h[a];return h[++o]=46,c&&(h[--n]=45),$pt(h,n,u-n+1)}for(s=2;aC(s,ift(v9(r),1));s++)h[--n]=48;return h[--n]=46,h[--n]=48,c&&(h[--n]=45),$pt(h,n,u-n)}return g=n+1,i=u,d=new A_,c&&(d.a+="-"),i-g>=1?(DG(d,h[n]),d.a+=".",d.a+=$pt(h,n+1,u-n-1)):d.a+=$pt(h,n,u-n),d.a+="E",Kut(r,0)>0&&(d.a+="+"),d.a+=""+mq(r),d.a}function RWt(t,e,n){var i,r,o,s,a,c,l,u,h,d;if(t.e.a.$b(),t.f.a.$b(),t.c.c=D7(Mte,VKt,1,0,5,1),t.i.c=D7(Mte,VKt,1,0,5,1),t.g.a.$b(),e)for(s=new Wf(e.a);s.a<s.c.c.length;)for(u=LCt(o=jV(Q1(s),10),(vWt(),sIe)).Kc();u.Ob();)for(l=jV(u.Pb(),11),kW(t.e,l),r=new Wf(l.g);r.a<r.c.c.length;)h4(i=jV(Q1(r),17))||(WV(t.c,i),mbt(t,i),((a=i.c.i.k)==(sCt(),Cae)||a==Aae||a==xae||a==kae)&&WV(t.j,i),(h=(d=i.d).i.c)==n?kW(t.f,d):h==e?kW(t.e,d):w9(t.c,i));if(n)for(s=new Wf(n.a);s.a<s.c.c.length;){for(c=new Wf((o=jV(Q1(s),10)).j);c.a<c.c.c.length;)for(r=new Wf(jV(Q1(c),11).g);r.a<r.c.c.length;)h4(i=jV(Q1(r),17))&&kW(t.g,i);for(u=LCt(o,(vWt(),CIe)).Kc();u.Ob();)for(l=jV(u.Pb(),11),kW(t.f,l),r=new Wf(l.g);r.a<r.c.c.length;)h4(i=jV(Q1(r),17))||(WV(t.c,i),mbt(t,i),((a=i.c.i.k)==(sCt(),Cae)||a==Aae||a==xae||a==kae)&&WV(t.j,i),(h=(d=i.d).i.c)==n?kW(t.f,d):h==e?kW(t.e,d):w9(t.c,i))}}function BWt(t,e,n,r,o){var s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x;if(b=new DS(t.g,t.f),(m=WAt(t)).a=i.Math.max(m.a,e),m.b=i.Math.max(m.b,n),x=m.a/b.a,h=m.b/b.b,_=m.a-b.a,l=m.b-b.b,r)for(a=XQ(t)?jV(QPt(XQ(t),(cKt(),hCe)),103):jV(QPt(t,(cKt(),hCe)),103),c=zI(QPt(t,(cKt(),oAe)))===zI((Yxt(),qSe)),y=new ID((!t.c&&(t.c=new tW(UMe,t,9,9)),t.c));y.e!=y.i.gc();)switch(w=jV(vbt(y),118),(v=jV(QPt(w,dAe),61))==(vWt(),TIe)&&(v=I$t(w,a),Xbt(w,dAe,v)),v.g){case 1:c||Cnt(w,w.i*x);break;case 2:Cnt(w,w.i+_),c||Ant(w,w.j*h);break;case 3:c||Cnt(w,w.i*x),Ant(w,w.j+l);break;case 4:c||Ant(w,w.j*h)}if(xP(t,m.a,m.b),o)for(f=new ID((!t.n&&(t.n=new tW(zMe,t,1,7)),t.n));f.e!=f.i.gc();)g=(d=jV(vbt(f),137)).i+d.g/2,p=d.j+d.f/2,(k=g/b.a)+(u=p/b.b)>=1&&(k-u>0&&p>=0?(Cnt(d,d.i+_),Ant(d,d.j+l*u)):k-u<0&&g>=0&&(Cnt(d,d.i+_*k),Ant(d,d.j+l)));return Xbt(t,(cKt(),RCe),(wpt(),new YF(s=jV(Gk(YIe),9),jV(EB(s,s.length),9),0))),new DS(x,h)}function FWt(t){var e,n,r,o,s,a,c,l,u,h,d;if(h=XQ(CEt(jV(Get((!t.b&&(t.b=new cF(LMe,t,4,7)),t.b),0),82)))==XQ(CEt(jV(Get((!t.c&&(t.c=new cF(LMe,t,5,8)),t.c),0),82))),a=new zk,(e=jV(QPt(t,(Wlt(),cSe)),74))&&e.b>=2){if(0==(!t.a&&(t.a=new tW(BMe,t,6,6)),t.a).i)Jk(),n=new sc,l8((!t.a&&(t.a=new tW(BMe,t,6,6)),t.a),n);else if((!t.a&&(t.a=new tW(BMe,t,6,6)),t.a).i>1)for(d=new iL((!t.a&&(t.a=new tW(BMe,t,6,6)),t.a));d.e!=d.i.gc();)Ykt(d);K$t(e,jV(Get((!t.a&&(t.a=new tW(BMe,t,6,6)),t.a),0),202))}if(h)for(r=new ID((!t.a&&(t.a=new tW(BMe,t,6,6)),t.a));r.e!=r.i.gc();)for(l=new ID((!(n=jV(vbt(r),202)).a&&(n.a=new MD(OMe,n,5)),n.a));l.e!=l.i.gc();)c=jV(vbt(l),469),a.a=i.Math.max(a.a,c.a),a.b=i.Math.max(a.b,c.b);for(s=new ID((!t.n&&(t.n=new tW(zMe,t,1,7)),t.n));s.e!=s.i.gc();)o=jV(vbt(s),137),(u=jV(QPt(o,gSe),8))&&EP(o,u.a,u.b),h&&(a.a=i.Math.max(a.a,o.i+o.g),a.b=i.Math.max(a.b,o.j+o.f));return a}function jWt(t,e,n){var r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x;for(w=e.c.length,o=new zFt(t.a,n,null,null),x=D7(ONe,zXt,25,w,15,1),g=D7(ONe,zXt,25,w,15,1),f=D7(ONe,zXt,25,w,15,1),p=0,c=0;c<w;c++)g[c]=LKt,f[c]=FYt;for(l=0;l<w;l++)for(u1(l,e.c.length),r=jV(e.c[l],180),x[l]=bOt(r),x[p]>x[l]&&(p=l),h=new Wf(t.a.b);h.a<h.c.c.length;)for(b=new Wf(jV(Q1(h),29).a);b.a<b.c.c.length;)m=jV(Q1(b),10),_=zv(r.p[m.p])+zv(r.d[m.p]),g[l]=i.Math.min(g[l],_),f[l]=i.Math.max(f[l],_+m.o.b);for(k=D7(ONe,zXt,25,w,15,1),u=0;u<w;u++)(u1(u,e.c.length),jV(e.c[u],180)).o==(sJ(),nve)?k[u]=g[p]-g[u]:k[u]=f[p]-f[u];for(s=D7(ONe,zXt,25,w,15,1),d=new Wf(t.a.b);d.a<d.c.c.length;)for(v=new Wf(jV(Q1(d),29).a);v.a<v.c.c.length;){for(y=jV(Q1(v),10),a=0;a<w;a++)s[a]=zv((u1(a,e.c.length),jV(e.c[a],180)).p[y.p])+zv((u1(a,e.c.length),jV(e.c[a],180)).d[y.p])+k[a];s.sort(nnt(E.prototype.te,E,[])),o.p[y.p]=(s[1]+s[2])/2,o.d[y.p]=0}return o}function $Wt(t,e,n){var i,r,o,s,a;switch(i=e.i,o=t.i.o,r=t.i.d,a=t.n,s=Mct(Cat(z_(TTe,1),cYt,8,0,[a,t.a])),t.j.g){case 1:WR(e,(z9(),ere)),i.d=-r.d-n-i.a,jV(jV(DH(e.d,0),181).We((lKt(),ode)),285)==(Wvt(),vSe)?(u8(e,(X8(),Xie)),i.c=s.a-zv(xR(wTt(t,hde)))-n-i.b):(u8(e,(X8(),Yie)),i.c=s.a+zv(xR(wTt(t,hde)))+n);break;case 2:u8(e,(X8(),Yie)),i.c=o.a+r.c+n,jV(jV(DH(e.d,0),181).We((lKt(),ode)),285)==(Wvt(),vSe)?(WR(e,(z9(),ere)),i.d=s.b-zv(xR(wTt(t,hde)))-n-i.a):(WR(e,(z9(),ire)),i.d=s.b+zv(xR(wTt(t,hde)))+n);break;case 3:WR(e,(z9(),ire)),i.d=o.b+r.a+n,jV(jV(DH(e.d,0),181).We((lKt(),ode)),285)==(Wvt(),vSe)?(u8(e,(X8(),Xie)),i.c=s.a-zv(xR(wTt(t,hde)))-n-i.b):(u8(e,(X8(),Yie)),i.c=s.a+zv(xR(wTt(t,hde)))+n);break;case 4:u8(e,(X8(),Xie)),i.c=-r.b-n-i.b,jV(jV(DH(e.d,0),181).We((lKt(),ode)),285)==(Wvt(),vSe)?(WR(e,(z9(),ere)),i.d=s.b-zv(xR(wTt(t,hde)))-n-i.a):(WR(e,(z9(),ire)),i.d=s.b+zv(xR(wTt(t,hde)))+n)}}function VWt(t,e,n,r,o,s,a){var c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C,A,S,I,M;for(g=0,C=0,l=new Wf(t);l.a<l.c.c.length;)aqt(c=jV(Q1(l),33)),g=i.Math.max(g,c.g),C+=c.g*c.f;for(T=Qvt(t,C/t.c.length),C+=t.c.length*T,g=i.Math.max(g,i.Math.sqrt(C*a))+n.b,I=n.b,M=n.d,f=0,h=n.b+n.c,Nz(E=new YE,ndt(0)),k=new YE,u=new x2(t,0);u.b<u.d.gc();)TL(u.b<u.d.gc()),S=(c=jV(u.d.Xb(u.c=u.b++),33)).g,d=c.f,I+S>g&&(s&&(lM(k,f),lM(E,ndt(u.b-1))),I=n.b,M+=f+e,f=0,h=i.Math.max(h,n.b+n.c+S)),Cnt(c,I),Ant(c,M),h=i.Math.max(h,I+S+n.c),f=i.Math.max(f,d),I+=S+e;if(h=i.Math.max(h,r),(A=M+f+n.a)<o&&(f+=o-A,A=o),s)for(I=n.b,u=new x2(t,0),lM(E,ndt(t.c.length)),b=jV(h3(x=cbt(E,0)),19).a,lM(k,f),_=cbt(k,0),v=0;u.b<u.d.gc();)u.b==b&&(I=n.b,v=zv(xR(h3(_))),b=jV(h3(x),19).a),TL(u.b<u.d.gc()),w=(c=jV(u.d.Xb(u.c=u.b++),33)).f,Ent(c,v),p=v,u.b==b&&(m=h-I-n.c,y=c.g,Tnt(c,m),hSt(c,new DS(m,p),new DS(y,w))),I+=c.g+e;return new DS(h,A)}function zWt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C;for(IEt(e,"Compound graph postprocessor",1),n=Vv(kR(wTt(t,(VGt(),Nbe)))),c=jV(wTt(t,(lKt(),$he)),224),h=new Lw,w=c.ec().Kc();w.Ob();){for(b=jV(w.Pb(),17),a=new JF(c.cc(b)),EX(),bO(a,new Bg(t)),k=rot((u1(0,a.c.length),jV(a.c[0],243))),E=oot(jV(DH(a,a.c.length-1),243)),v=k.i,y=fst(E.i,v)?v.e:mK(v),d=Mbt(b,a),wX(b.a),f=null,s=new Wf(a);s.a<s.c.c.length;)o=jV(Q1(s),243),IAt(m=new zk,o.a,y),g=o.b,Glt(r=new yy,0,g.a),Qet(r,m),_=new dP(g1(g.c)),x=new dP(g1(g.d)),UB(_,m),UB(x,m),f&&(0==r.b?p=x:(TL(0!=r.b),p=jV(r.a.a.c,8)),T=i.Math.abs(f.a-p.a)>hJt,C=i.Math.abs(f.b-p.b)>hJt,(!n&&T&&C||n&&(T||C))&&Nz(b.a,_)),jrt(b.a,r),0==r.b?f=_:(TL(0!=r.b),f=jV(r.c.b.c,8)),Xst(g,d,m),oot(o)==E&&(mK(E.i)!=o.a&&IAt(m=new zk,mK(E.i),y),lct(b,Lde,m)),ECt(g,b,y),h.a.zc(g,h);EJ(b,k),xJ(b,E)}for(u=h.a.ec().Kc();u.Ob();)EJ(l=jV(u.Pb(),17),null),xJ(l,null);VCt(e)}function HWt(t){var e,n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_;if(1==t.gc())return jV(t.Xb(0),231);if(t.gc()<=0)return new w6;for(o=t.Kc();o.Ob();){for(n=jV(o.Pb(),231),p=0,h=LKt,d=LKt,l=FYt,u=FYt,g=new Wf(n.e);g.a<g.c.c.length;)f=jV(Q1(g),144),p+=jV(wTt(f,(uBt(),Zoe)),19).a,h=i.Math.min(h,f.d.a-f.e.a/2),d=i.Math.min(d,f.d.b-f.e.b/2),l=i.Math.max(l,f.d.a+f.e.a/2),u=i.Math.max(u,f.d.b+f.e.b/2);lct(n,(uBt(),Zoe),ndt(p)),lct(n,(Ert(),sse),new DS(h,d)),lct(n,ose,new DS(l,u))}for(EX(),t.ad(new fe),zst(m=new w6,jV(t.Xb(0),94)),c=0,y=0,s=t.Kc();s.Ob();)n=jV(s.Pb(),231),b=qB(jO(jV(wTt(n,(Ert(),ose)),8)),jV(wTt(n,sse),8)),c=i.Math.max(c,b.a),y+=b.a*b.b;for(c=i.Math.max(c,i.Math.sqrt(y)*zv(xR(wTt(m,(uBt(),Foe))))),v=0,_=0,a=0,e=w=zv(xR(wTt(m,ise))),r=t.Kc();r.Ob();)n=jV(r.Pb(),231),v+(b=qB(jO(jV(wTt(n,(Ert(),ose)),8)),jV(wTt(n,sse),8))).a>c&&(v=0,_+=a+w,a=0),KFt(m,n,v,_),e=i.Math.max(e,v+b.a),a=i.Math.max(a,b.b),v+=b.a+w;return m}function UWt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g;switch(u=new yy,t.a.g){case 3:d=jV(wTt(e.e,(lKt(),Ode)),15),f=jV(wTt(e.j,Ode),15),g=jV(wTt(e.f,Ode),15),n=jV(wTt(e.e,Mde),15),i=jV(wTt(e.j,Mde),15),r=jV(wTt(e.f,Mde),15),pat(s=new Ob,d),f.Jc(new _o),pat(s,iD(f,152)?s6(jV(f,152)):iD(f,131)?jV(f,131).a:iD(f,54)?new lv(f):new CE(f)),pat(s,g),pat(o=new Ob,n),pat(o,iD(i,152)?s6(jV(i,152)):iD(i,131)?jV(i,131).a:iD(i,54)?new lv(i):new CE(i)),pat(o,r),lct(e.f,Ode,s),lct(e.f,Mde,o),lct(e.f,Dde,e.f),lct(e.e,Ode,null),lct(e.e,Mde,null),lct(e.j,Ode,null),lct(e.j,Mde,null);break;case 1:jrt(u,e.e.a),Nz(u,e.i.n),jrt(u,est(e.j.a)),Nz(u,e.a.n),jrt(u,e.f.a);break;default:jrt(u,e.e.a),jrt(u,est(e.j.a)),jrt(u,e.f.a)}wX(e.f.a),jrt(e.f.a,u),EJ(e.f,e.e.c),a=jV(wTt(e.e,(VGt(),mme)),74),l=jV(wTt(e.j,mme),74),c=jV(wTt(e.f,mme),74),(a||l||c)&&(TW(h=new yy,c),TW(h,l),TW(h,a),lct(e.f,mme,h)),EJ(e.j,null),xJ(e.j,null),EJ(e.e,null),xJ(e.e,null),TJ(e.a,null),TJ(e.i,null),e.g&&UWt(t,e.g)}function qWt(t){var e,n,i,r,o,s,a,c,l,u,h,d,f,g,p,m;if(C$t(),null==t)return null;if((g=ddt(o=G9(t)))%4!=0)return null;if(0==(p=g/4|0))return D7(PNe,b6t,25,0,15,1);for(h=null,e=0,n=0,i=0,r=0,s=0,a=0,c=0,l=0,f=0,d=0,u=0,h=D7(PNe,b6t,25,3*p,15,1);f<p-1;f++){if(!(Gx(s=o[u++])&&Gx(a=o[u++])&&Gx(c=o[u++])&&Gx(l=o[u++])))return null;e=qDe[s],n=qDe[a],i=qDe[c],r=qDe[l],h[d++]=(e<<2|n>>4)<<24>>24,h[d++]=((15&n)<<4|i>>2&15)<<24>>24,h[d++]=(i<<6|r)<<24>>24}return Gx(s=o[u++])&&Gx(a=o[u++])?(e=qDe[s],n=qDe[a],c=o[u++],l=o[u++],-1==qDe[c]||-1==qDe[l]?61==c&&61==l?15&n?null:(ozt(h,0,m=D7(PNe,b6t,25,3*f+1,15,1),0,3*f),m[d]=(e<<2|n>>4)<<24>>24,m):61!=c&&61==l?3&(i=qDe[c])?null:(ozt(h,0,m=D7(PNe,b6t,25,3*f+2,15,1),0,3*f),m[d++]=(e<<2|n>>4)<<24>>24,m[d]=((15&n)<<4|i>>2&15)<<24>>24,m):null:(i=qDe[c],r=qDe[l],h[d++]=(e<<2|n>>4)<<24>>24,h[d++]=((15&n)<<4|i>>2&15)<<24>>24,h[d++]=(i<<6|r)<<24>>24,h)):null}function WWt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y;for(IEt(e,I1t,1),d=jV(wTt(t,(VGt(),Zpe)),218),i=new Wf(t.b);i.a<i.c.c.length;)for(s=0,a=(o=Q0(jV(Q1(i),29).a)).length;s<a;++s)if((r=o[s]).k==(sCt(),Aae)){if(d==(Eft(),XAe))for(l=new Wf(r.j);l.a<l.c.c.length;)0==(c=jV(Q1(l),11)).e.c.length||Mmt(c),0==c.g.c.length||Pmt(c);else if(iD(wTt(r,(lKt(),fde)),17))g=jV(wTt(r,fde),17),p=jV(LCt(r,(vWt(),CIe)).Kc().Pb(),11),m=jV(LCt(r,sIe).Kc().Pb(),11),b=jV(wTt(p,fde),11),EJ(g,w=jV(wTt(m,fde),11)),xJ(g,b),(y=new dP(m.i.n)).a=Mct(Cat(z_(TTe,1),cYt,8,0,[w.i.n,w.n,w.a])).a,Nz(g.a,y),(y=new dP(p.i.n)).a=Mct(Cat(z_(TTe,1),cYt,8,0,[b.i.n,b.n,b.a])).a,Nz(g.a,y);else{if(r.j.c.length>=2){for(f=!0,n=jV(Q1(u=new Wf(r.j)),11),h=null;u.a<u.c.c.length;)if(h=n,n=jV(Q1(u),11),!Dht(wTt(h,fde),wTt(n,fde))){f=!1;break}}else f=!1;for(l=new Wf(r.j);l.a<l.c.c.length;)0==(c=jV(Q1(l),11)).e.c.length||sLt(c,f),0==c.g.c.length||aLt(c,f)}TJ(r,null)}VCt(e)}function GWt(t,e,n){var r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T;return v=t.c[(u1(0,e.c.length),jV(e.c[0],17)).p],E=t.c[(u1(1,e.c.length),jV(e.c[1],17)).p],!(v.a.e.e-v.a.a-(v.b.e.e-v.b.a)==0&&E.a.e.e-E.a.a-(E.b.e.e-E.b.a)==0||!iD(w=v.b.e.f,10)||(b=jV(w,10),k=t.i[b.p],x=b.c?_9(b.c.a,b,0):-1,s=RXt,x>0&&(o=jV(DH(b.c.a,x-1),10),a=t.i[o.p],T=i.Math.ceil(RO(t.n,o,b)),s=k.a.e-b.d.d-(a.a.e+o.o.b+o.d.a)-T),u=RXt,x<b.c.a.c.length-1&&(l=jV(DH(b.c.a,x+1),10),h=t.i[l.p],T=i.Math.ceil(RO(t.n,l,b)),u=h.a.e-l.d.d-(k.a.e+b.o.b+b.d.a)-T),!(n&&(cO(),iit(M3t),i.Math.abs(s-u)<=M3t||s==u||isNaN(s)&&isNaN(u)))&&(r=rG(v.a),c=-rG(v.b),d=-rG(E.a),y=rG(E.b),m=v.a.e.e-v.a.a-(v.b.e.e-v.b.a)>0&&E.a.e.e-E.a.a-(E.b.e.e-E.b.a)<0,p=v.a.e.e-v.a.a-(v.b.e.e-v.b.a)<0&&E.a.e.e-E.a.a-(E.b.e.e-E.b.a)>0,g=v.a.e.e+v.b.a<E.b.e.e+E.a.a,f=v.a.e.e+v.b.a>E.b.e.e+E.a.a,_=0,!m&&!p&&(f?s+d>0?_=d:u-r>0&&(_=r):g&&(s+c>0?_=c:u-y>0&&(_=y))),k.a.e+=_,k.b&&(k.d.e+=_),1)))}function KWt(t,e,n){var r,o,s,a,c,l,u,h,d,f;if(r=new UY(e.qf().a,e.qf().b,e.rf().a,e.rf().b),o=new hP,t.c)for(a=new Wf(e.wf());a.a<a.c.c.length;)s=jV(Q1(a),181),o.c=s.qf().a+e.qf().a,o.d=s.qf().b+e.qf().b,o.b=s.rf().a,o.a=s.rf().b,AAt(r,o);for(u=new Wf(e.Cf());u.a<u.c.c.length;){if(h=(l=jV(Q1(u),838)).qf().a+e.qf().a,d=l.qf().b+e.qf().b,t.e&&(o.c=h,o.d=d,o.b=l.rf().a,o.a=l.rf().b,AAt(r,o)),t.d)for(a=new Wf(l.wf());a.a<a.c.c.length;)s=jV(Q1(a),181),o.c=s.qf().a+h,o.d=s.qf().b+d,o.b=s.rf().a,o.a=s.rf().b,AAt(r,o);if(t.b){if(f=new DS(-n,-n),jV(e.We((cKt(),lAe)),174).Hc((hIt(),nIe)))for(a=new Wf(l.wf());a.a<a.c.c.length;)s=jV(Q1(a),181),f.a+=s.rf().a+n,f.b+=s.rf().b+n;f.a=i.Math.max(f.a,0),f.b=i.Math.max(f.b,0),Wjt(r,l.Bf(),l.zf(),e,l,f,n)}}t.b&&Wjt(r,e.Bf(),e.zf(),e,null,null,n),(c=new Ij(e.Af())).d=i.Math.max(0,e.qf().b-r.d),c.a=i.Math.max(0,r.d+r.a-(e.qf().b+e.rf().b)),c.b=i.Math.max(0,e.qf().a-r.c),c.c=i.Math.max(0,r.c+r.b-(e.qf().a+e.rf().a)),e.Ef(c)}function YWt(){var t=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F"];return t[34]='\\"',t[92]="\\\\",t[173]="\\u00ad",t[1536]="\\u0600",t[1537]="\\u0601",t[1538]="\\u0602",t[1539]="\\u0603",t[1757]="\\u06dd",t[1807]="\\u070f",t[6068]="\\u17b4",t[6069]="\\u17b5",t[8203]="\\u200b",t[8204]="\\u200c",t[8205]="\\u200d",t[8206]="\\u200e",t[8207]="\\u200f",t[8232]="\\u2028",t[8233]="\\u2029",t[8234]="\\u202a",t[8235]="\\u202b",t[8236]="\\u202c",t[8237]="\\u202d",t[8238]="\\u202e",t[8288]="\\u2060",t[8289]="\\u2061",t[8290]="\\u2062",t[8291]="\\u2063",t[8292]="\\u2064",t[8298]="\\u206a",t[8299]="\\u206b",t[8300]="\\u206c",t[8301]="\\u206d",t[8302]="\\u206e",t[8303]="\\u206f",t[65279]="\\ufeff",t[65529]="\\ufff9",t[65530]="\\ufffa",t[65531]="\\ufffb",t}function XWt(t,e,n){var i,r,o,s,a,c,l,u,h,d;for(c=new Ob,h=e.length,s=Sct(n),l=0;l<h;++l){switch(u=wN(e,XEt(61),l),o=(r=sat(i=udt(s,e.substr(l,u-l)))).Aj().Nh(),lY(e,++u)){case 39:a=uL(e,39,++u),WV(c,new CI(i,YY(e.substr(u,a-u),o,r))),l=a+1;break;case 34:a=uL(e,34,++u),WV(c,new CI(i,YY(e.substr(u,a-u),o,r))),l=a+1;break;case 91:WV(c,new CI(i,d=new Ob));t:for(;;){switch(lY(e,++u)){case 39:a=uL(e,39,++u),WV(d,YY(e.substr(u,a-u),o,r)),u=a+1;break;case 34:a=uL(e,34,++u),WV(d,YY(e.substr(u,a-u),o,r)),u=a+1;break;case 110:if(++u,e.indexOf("ull",u)!=u)throw $b(new fv(o6t));d.c[d.c.length]=null,u+=3}if(!(u<h))break;switch(h1(u,e.length),e.charCodeAt(u)){case 44:break;case 93:break t;default:throw $b(new fv("Expecting , or ]"))}}l=u+1;break;case 110:if(++u,e.indexOf("ull",u)!=u)throw $b(new fv(o6t));WV(c,new CI(i,null)),l=u+3}if(!(l<h))break;if(h1(l,e.length),44!=e.charCodeAt(l))throw $b(new fv("Expecting ,"))}return nRt(t,c,n)}function ZWt(t,e){var n,i,r,o,s,a,c,l,u,h,d;for(l=jV(jV(c6(t.r,e),21),84),s=ZEt(t,e),n=t.u.Hc((hIt(),QSe)),c=l.Kc();c.Ob();)if((a=jV(c.Pb(),111)).c&&!(a.c.d.c.length<=0)){switch(d=a.b.rf(),(h=(u=a.c).i).b=(o=u.n,u.e.a+o.b+o.c),h.a=(r=u.n,u.e.b+r.d+r.a),e.g){case 1:a.a?(h.c=(d.a-h.b)/2,u8(u,(X8(),Kie))):s||n?(h.c=-h.b-t.s,u8(u,(X8(),Xie))):(h.c=d.a+t.s,u8(u,(X8(),Yie))),h.d=-h.a-t.t,WR(u,(z9(),ere));break;case 3:a.a?(h.c=(d.a-h.b)/2,u8(u,(X8(),Kie))):s||n?(h.c=-h.b-t.s,u8(u,(X8(),Xie))):(h.c=d.a+t.s,u8(u,(X8(),Yie))),h.d=d.b+t.t,WR(u,(z9(),ire));break;case 2:a.a?(i=t.v?h.a:jV(DH(u.d,0),181).rf().b,h.d=(d.b-i)/2,WR(u,(z9(),nre))):s||n?(h.d=-h.a-t.t,WR(u,(z9(),ere))):(h.d=d.b+t.t,WR(u,(z9(),ire))),h.c=d.a+t.s,u8(u,(X8(),Yie));break;case 4:a.a?(i=t.v?h.a:jV(DH(u.d,0),181).rf().b,h.d=(d.b-i)/2,WR(u,(z9(),nre))):s||n?(h.d=-h.a-t.t,WR(u,(z9(),ere))):(h.d=d.b+t.t,WR(u,(z9(),ire))),h.c=-h.b-t.s,u8(u,(X8(),Xie))}s=!1}}function QWt(t,e){var n,i,r,o,s,a,c,l,u,h,d;if(fKt(),0==OE(tNe)){for(h=D7(CNe,cYt,117,nNe.length,0,1),s=0;s<h.length;s++)h[s]=new x0(4);for(i=new T_,o=0;o<JDe.length;o++){if(u=new x0(4),o<84?(h1(a=2*o,bte.length),d=bte.charCodeAt(a),h1(a+1,bte.length),XLt(u,d,bte.charCodeAt(a+1))):XLt(u,iNe[a=2*(o-84)],iNe[a+1]),bF(c=JDe[o],"Specials")&&XLt(u,65520,65533),bF(c,pte)&&(XLt(u,983040,1048573),XLt(u,1048576,1114109)),bJ(tNe,c,u),bJ(eNe,c,P$t(u)),0<(l=i.a.length)?i.a=i.a.substr(0,0):0>l&&(i.a+=nD(D7(ANe,GYt,25,-l,15,1))),i.a+="Is",zM(c,XEt(32))>=0)for(r=0;r<c.length;r++)h1(r,c.length),32!=c.charCodeAt(r)&&OG(i,(h1(r,c.length),c.charCodeAt(r)));else i.a+=""+c;xpt(i.a,c,!0)}xpt(mte,"Cn",!1),xpt(wte,"Cn",!0),XLt(n=new x0(4),0,ste),bJ(tNe,"ALL",n),bJ(eNe,"ALL",P$t(n)),!xNe&&(xNe=new Db),bJ(xNe,mte,mte),!xNe&&(xNe=new Db),bJ(xNe,wte,wte),!xNe&&(xNe=new Db),bJ(xNe,"ALL","ALL")}return jV(EQ(e?tNe:eNe,t),136)}function JWt(t,e,n,i){var r,o,s,a,c,l,u,h,d,f,g,p,m,b;if(d=!1,h=!1,mP(jV(wTt(i,(VGt(),tbe)),98))){s=!1,a=!1;t:for(g=new Wf(i.j);g.a<g.c.c.length;)for(f=jV(Q1(g),11),p=OW(Gnt(Cat(z_(Nte,1),VKt,20,0,[new $g(f),new zg(f)])));gPt(p);)if(!Vv(kR(wTt(jV(U4(p),11).i,kpe)))){if(f.j==(vWt(),aIe)){s=!0;break t}if(f.j==EIe){a=!0;break t}}d=a&&!s,h=s&&!a}if(d||h||0==i.b.c.length)b=!h;else{for(u=0,l=new Wf(i.b);l.a<l.c.c.length;)u+=(c=jV(Q1(l),70)).n.b+c.o.b/2;b=(u/=i.b.c.length)>=i.o.b/2}b?(m=jV(wTt(i,(lKt(),Rde)),15))?d?o=m:(r=jV(wTt(i,Nhe),15))?o=m.gc()<=r.gc()?m:r:(o=new Ob,lct(i,Nhe,o)):(o=new Ob,lct(i,Rde,o)):(r=jV(wTt(i,(lKt(),Nhe)),15))?h?o=r:(m=jV(wTt(i,Rde),15))?o=r.gc()<=m.gc()?r:m:(o=new Ob,lct(i,Rde,o)):(o=new Ob,lct(i,Nhe,o)),o.Fc(t),lct(t,(lKt(),Rhe),n),e.d==n?(xJ(e,null),n.e.c.length+n.g.c.length==0&&CJ(n,null),plt(n)):(EJ(e,null),n.e.c.length+n.g.c.length==0&&CJ(n,null)),wX(e.a)}function tGt(t,e){var n,i,r,o,s,a,c,l,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C,A,S,I;for(w=new x2(t.b,0),p=0,l=jV((h=e.Kc()).Pb(),19).a,_=0,n=new Lw,x=new lP;w.b<w.d.gc();){for(TL(w.b<w.d.gc()),v=new Wf(jV(w.d.Xb(w.c=w.b++),29).a);v.a<v.c.c.length;){for(g=new sq(ZD(hft(y=jV(Q1(v),10)).a.Kc(),new u));gPt(g);)d=jV(U4(g),17),x.a.zc(d,x);for(f=new sq(ZD(uft(y).a.Kc(),new u));gPt(f);)d=jV(U4(f),17),x.a.Bc(d)}if(p+1==l){for(wB(w,r=new $G(t)),wB(w,o=new $G(t)),T=x.a.ec().Kc();T.Ob();)E=jV(T.Pb(),17),n.a._b(E)||(++_,n.a.zc(E,n)),lct(s=new Pwt(t),(VGt(),tbe),(Yxt(),GSe)),TJ(s,r),Fd(s,(sCt(),kae)),CJ(m=new ACt,s),zSt(m,(vWt(),CIe)),CJ(C=new ACt,s),zSt(C,sIe),lct(i=new Pwt(t),tbe,GSe),TJ(i,o),Fd(i,kae),CJ(b=new ACt,i),zSt(b,CIe),CJ(A=new ACt,i),zSt(A,sIe),EJ(k=new dZ,E.c),xJ(k,m),EJ(I=new dZ,C),xJ(I,b),EJ(E,A),a=new m3(s,i,k,I,E),lct(s,(lKt(),Lhe),a),lct(i,Lhe,a),(S=k.c.i).k==kae&&((c=jV(wTt(S,Lhe),305)).d=a,a.g=c);if(!h.Ob())break;l=jV(h.Pb(),19).a}++p}return ndt(_)}function eGt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f,g,p;for(h=0,r=new ID((!e.a&&(e.a=new tW(HMe,e,10,11)),e.a));r.e!=r.i.gc();)Vv(kR(QPt(i=jV(vbt(r),33),(VGt(),zme))))||(zI(QPt(e,Ppe))===zI((wct(),Owe))&&zI(QPt(e,zpe))!==zI((Kwt(),_ue))&&zI(QPt(e,zpe))!==zI((Kwt(),yue))&&!Vv(kR(QPt(e,Dpe)))&&zI(QPt(e,Cpe))===zI(($ht(),dae))||Vv(kR(QPt(i,Mpe)))||(Xbt(i,(lKt(),dde),ndt(h)),++h),fqt(t,i,n));for(h=0,l=new ID((!e.b&&(e.b=new tW(RMe,e,12,3)),e.b));l.e!=l.i.gc();)a=jV(vbt(l),79),(zI(QPt(e,(VGt(),Ppe)))!==zI((wct(),Owe))||zI(QPt(e,zpe))===zI((Kwt(),_ue))||zI(QPt(e,zpe))===zI((Kwt(),yue))||Vv(kR(QPt(e,Dpe)))||zI(QPt(e,Cpe))!==zI(($ht(),dae)))&&(Xbt(a,(lKt(),dde),ndt(h)),++h),g=CTt(a),p=ITt(a),u=Vv(kR(QPt(g,dme))),f=!Vv(kR(QPt(a,zme))),d=u&&YIt(a)&&Vv(kR(QPt(a,fme))),o=XQ(g)==e&&XQ(g)==XQ(p),s=(XQ(g)==e&&p==e)^(XQ(p)==e&&g==e),f&&!d&&(s||o)&&sKt(t,a,e,n);if(XQ(e))for(c=new ID(eX(XQ(e)));c.e!=c.i.gc();)(g=CTt(a=jV(vbt(c),79)))==e&&YIt(a)&&(d=Vv(kR(QPt(g,(VGt(),dme))))&&Vv(kR(QPt(a,fme))))&&sKt(t,a,e,n)}function nGt(t,e,n){var r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C,A,S,I,M,P;for(IEt(n,"MinWidth layering",1),g=e.b,E=e.a,P=jV(wTt(e,(VGt(),_me)),19).a,c=jV(wTt(e,kme),19).a,t.b=zv(xR(wTt(e,wbe))),t.d=RXt,_=new Wf(E);_.a<_.c.c.length;)(y=jV(Q1(_),10)).k==(sCt(),Cae)&&(A=y.o.b,t.d=i.Math.min(t.d,A));for(t.d=i.Math.max(1,t.d),T=E.c.length,t.c=D7(SNe,lXt,25,T,15,1),t.f=D7(SNe,lXt,25,T,15,1),t.e=D7(ONe,zXt,25,T,15,1),u=0,t.a=0,k=new Wf(E);k.a<k.c.c.length;)(y=jV(Q1(k),10)).p=u++,t.c[y.p]=fut(uft(y)),t.f[y.p]=fut(hft(y)),t.e[y.p]=y.o.b/t.d,t.a+=t.e[y.p];for(t.b/=t.d,t.a/=T,x=_Mt(E),bO(E,KK(new Rp(t))),m=RXt,p=LKt,a=null,M=P,I=P,s=c,o=c,P<0&&(M=jV(kye.a.zd(),19).a,I=jV(kye.b.zd(),19).a),c<0&&(s=jV(_ye.a.zd(),19).a,o=jV(_ye.b.zd(),19).a),S=M;S<=I;S++)for(r=s;r<=o;r++)w=zv(xR((C=OVt(t,S,r,E,x)).a)),b=(f=jV(C.b,15)).gc(),(w<m||w==m&&b<p)&&(m=w,p=b,a=f);for(d=a.Kc();d.Ob();){for(h=jV(d.Pb(),15),l=new $G(e),v=h.Kc();v.Ob();)TJ(y=jV(v.Pb(),10),l);g.c[g.c.length]=l}ZAt(g),E.c=D7(Mte,VKt,1,0,5,1),VCt(n)}function iGt(t,e){var n,r,o,s,a,c,l,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T;for(t.b=e,t.a=jV(wTt(e,(VGt(),cme)),19).a,t.c=jV(wTt(e,ume),19).a,0==t.c&&(t.c=LKt),m=new x2(e.b,0);m.b<m.d.gc();){for(TL(m.b<m.d.gc()),p=jV(m.d.Xb(m.c=m.b++),29),c=new Ob,d=-1,v=-1,y=new Wf(p.a);y.a<y.c.c.length;)w=jV(Q1(y),10),F3((Vj(),new sq(ZD(lft(w).a.Kc(),new u))))>=t.a&&(r=yVt(t,w),d=i.Math.max(d,r.b),v=i.Math.max(v,r.d),WV(c,new nI(w,r)));for(x=new Ob,h=0;h<d;++h)yU(x,0,(TL(m.b>0),m.a.Xb(m.c=--m.b),wB(m,E=new $G(t.b)),TL(m.b<m.d.gc()),m.d.Xb(m.c=m.b++),E));for(a=new Wf(c);a.a<a.c.c.length;)if(o=jV(Q1(a),46),g=jV(o.b,571).a)for(f=new Wf(g);f.a<f.c.c.length;)s_t(t,jV(Q1(f),10),Uae,x);for(n=new Ob,l=0;l<v;++l)WV(n,(wB(m,T=new $G(t.b)),T));for(s=new Wf(c);s.a<s.c.c.length;)if(o=jV(Q1(s),46),k=jV(o.b,571).c)for(_=new Wf(k);_.a<_.c.c.length;)s_t(t,jV(Q1(_),10),qae,n)}for(b=new x2(e.b,0);b.b<b.d.gc();)TL(b.b<b.d.gc()),0==jV(b.d.Xb(b.c=b.b++),29).a.c.length&&lK(b)}function rGt(t,e,n){var r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C,A,S;if(IEt(n,"Spline edge routing",1),0==e.b.c.length)return e.f.a=0,void VCt(n);w=zv(xR(wTt(e,(VGt(),Ibe)))),c=zv(xR(wTt(e,kbe))),a=zv(xR(wTt(e,ybe))),E=jV(wTt(e,nme),336)==(qlt(),nye),x=zv(xR(wTt(e,ime))),t.d=e,t.j.c=D7(Mte,VKt,1,0,5,1),t.a.c=D7(Mte,VKt,1,0,5,1),MW(t.k),h=GI((l=jV(DH(e.b,0),29)).a,(gLt(),vve)),d=GI((p=jV(DH(e.b,e.b.c.length-1),29)).a,vve),m=new Wf(e.b),b=null,S=0;do{for(RWt(t,b,y=m.a<m.c.c.length?jV(Q1(m),29):null),E$t(t),A=0,v=S,f=!b||h&&b==l,g=!y||d&&y==p,(T=B_(iot(OY(IY(new LH(null,new d1(t.i,16)),new _s),new vs))))>0?(u=0,b&&(u+=c),u+=(T-1)*a,y&&(u+=c),E&&y&&(u=i.Math.max(u,JNt(y,a,w,x))),u<w&&!f&&!g&&(A=(w-u)/2,u=w),v+=u):!f&&!g&&(v+=w),y&&xHt(y,v),k=new Wf(t.i);k.a<k.c.c.length;)(_=jV(Q1(k),128)).a.c=S,_.a.b=v-S,_.F=A,_.p=!b;pat(t.a,t.i),S=v,y&&(S+=y.c.a),b=y,f=g}while(y);for(o=new Wf(t.j);o.a<o.c.c.length;)s=wst(t,r=jV(Q1(o),17)),lct(r,(lKt(),Mde),s),C=LLt(t,r),lct(r,Ode,C);e.f.a=S,t.d=null,VCt(n)}function oGt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y;if(p=0!=t.i,w=!1,m=null,bP(t.e)){if((u=e.gc())>0){for(d=u<100?null:new Fk(u),g=(l=new _ot(e)).g,m=D7(SNe,lXt,25,u,15,1),i=0,y=new pet(u),r=0;r<t.i;++r){f=a=t.g[r];t:for(b=0;b<2;++b){for(c=u;--c>=0;)if(null!=f?Dht(f,g[c]):zI(f)===zI(g[c])){m.length<=i&&ozt(m,0,m=D7(SNe,lXt,25,2*m.length,15,1),0,i),m[i++]=r,l8(y,g[c]);break t}if(zI(f)===zI(a))break}}if(l=y,g=y.g,u=i,i>m.length&&ozt(m,0,m=D7(SNe,lXt,25,i,15,1),0,i),i>0){for(w=!0,o=0;o<i;++o)d=HF(t,jV(f=g[o],72),d);for(s=i;--s>=0;)Ovt(t,m[s]);if(i!=u){for(r=u;--r>=i;)Ovt(l,r);ozt(m,0,m=D7(SNe,lXt,25,i,15,1),0,i)}e=l}}}else for(e=_vt(t,e),r=t.i;--r>=0;)e.Hc(t.g[r])&&(Ovt(t,r),w=!0);if(w){if(null!=m){for(h=1==(n=e.gc())?wJ(t,4,e.Kc().Pb(),null,m[0],p):wJ(t,6,e,m,m[0],p),d=n<100?null:new Fk(n),r=e.Kc();r.Ob();)d=VF(t,jV(f=r.Pb(),72),d);d?(d.Ei(h),d.Fi()):dst(t.e,h)}else{for(d=MF(e.gc()),r=e.Kc();r.Ob();)d=VF(t,jV(f=r.Pb(),72),d);d&&d.Fi()}return!0}return!1}function sGt(t,e){var n,i,r,o,s,a,c,l,h,d,f,g,p,m,b,w,y;for((n=new lwt(e)).a||pjt(e),l=hBt(e),c=new pQ,m=new YLt,p=new Wf(e.a);p.a<p.c.c.length;)for(r=new sq(ZD(hft(jV(Q1(p),10)).a.Kc(),new u));gPt(r);)(i=jV(U4(r),17)).c.i.k!=(sCt(),xae)&&i.d.i.k!=xae||ZIt(c,sbt((h=hqt(t,i,l,m)).d),h.a);for(s=new Ob,y=jV(wTt(n.c,(lKt(),qhe)),21).Kc();y.Ob();){switch(w=jV(y.Pb(),61),g=m.c[w.g],f=m.b[w.g],a=m.a[w.g],o=null,b=null,w.g){case 4:o=new UY(t.d.a,g,l.b.a-t.d.a,f-g),b=new UY(t.d.a,g,a,f-g),Hz(l,new DS(o.c+o.b,o.d)),Hz(l,new DS(o.c+o.b,o.d+o.a));break;case 2:o=new UY(l.a.a,g,t.c.a-l.a.a,f-g),b=new UY(t.c.a-a,g,a,f-g),Hz(l,new DS(o.c,o.d)),Hz(l,new DS(o.c,o.d+o.a));break;case 1:o=new UY(g,t.d.b,f-g,l.b.b-t.d.b),b=new UY(g,t.d.b,f-g,a),Hz(l,new DS(o.c,o.d+o.a)),Hz(l,new DS(o.c+o.b,o.d+o.a));break;case 3:o=new UY(g,l.a.b,f-g,t.c.b-l.a.b),b=new UY(g,t.c.b-a,f-g,a),Hz(l,new DS(o.c,o.d)),Hz(l,new DS(o.c+o.b,o.d))}o&&((d=new Qw).d=w,d.b=o,d.c=b,d.a=XX(jV(c6(c,sbt(w)),21)),s.c[s.c.length]=d)}return pat(n.b,s),n.d=$ut(JHt(l)),n}function aGt(t,e,n){var r,o,s,a,c,l,u,h,d,f,g,p;if(null==n.p[e.p]){c=!0,n.p[e.p]=0,a=e,p=n.o==(sJ(),nve)?BXt:RXt;do{o=t.b.e[a.p],s=a.c.a.c.length,n.o==nve&&o>0||n.o==ive&&o<s-1?(l=null,u=null,l=n.o==ive?jV(DH(a.c.a,o+1),10):jV(DH(a.c.a,o-1),10),aGt(t,u=n.g[l.p],n),p=t.e.bg(p,e,a),n.j[e.p]==e&&(n.j[e.p]=n.j[u.p]),n.j[e.p]==n.j[u.p]?(g=RO(t.d,a,l),n.o==ive?(r=zv(n.p[e.p]),d=zv(n.p[u.p])+zv(n.d[l.p])-l.d.d-g-a.d.a-a.o.b-zv(n.d[a.p]),c?(c=!1,n.p[e.p]=i.Math.min(d,p)):n.p[e.p]=i.Math.min(r,i.Math.min(d,p))):(r=zv(n.p[e.p]),d=zv(n.p[u.p])+zv(n.d[l.p])+l.o.b+l.d.a+g+a.d.d-zv(n.d[a.p]),c?(c=!1,n.p[e.p]=i.Math.max(d,p)):n.p[e.p]=i.Math.max(r,i.Math.max(d,p)))):(g=zv(xR(wTt(t.a,(VGt(),Sbe)))),f=vrt(t,n.j[e.p]),h=vrt(t,n.j[u.p]),n.o==ive?U1(f,h,zv(n.p[e.p])+zv(n.d[a.p])+a.o.b+a.d.a+g-(zv(n.p[u.p])+zv(n.d[l.p])-l.d.d)):U1(f,h,zv(n.p[e.p])+zv(n.d[a.p])-a.d.d-zv(n.p[u.p])-zv(n.d[l.p])-l.o.b-l.d.a-g))):p=t.e.bg(p,e,a),a=n.a[a.p]}while(a!=e);Sw(t.e,e)}}function cGt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w;for(h=e,u=new pQ,d=new pQ,o=O2(h,N6t),HCt((i=new lX(t,n,u,d)).a,i.b,i.c,i.d,o),p=(u.i||(u.i=new $D(u,u.c))).Kc();p.Ob();)for(g=jV(p.Pb(),202),a=jV(c6(u,g),21).Kc();a.Ob();){if(s=a.Pb(),!(f=jV(cnt(t.d,s),202)))throw r=L2(h,z6t),$b(new t_(K6t+s+Y6t+r+G6t));!g.e&&(g.e=new cF(BMe,g,10,9)),l8(g.e,f)}for(b=(d.i||(d.i=new $D(d,d.c))).Kc();b.Ob();)for(m=jV(b.Pb(),202),l=jV(c6(d,m),21).Kc();l.Ob();){if(c=l.Pb(),!(f=jV(cnt(t.d,c),202)))throw r=L2(h,z6t),$b(new t_(K6t+c+Y6t+r+G6t));!m.g&&(m.g=new cF(BMe,m,9,10)),l8(m.g,f)}!n.b&&(n.b=new cF(LMe,n,4,7)),0!=n.b.i&&(!n.c&&(n.c=new cF(LMe,n,5,8)),0!=n.c.i)&&(!n.b&&(n.b=new cF(LMe,n,4,7)),n.b.i<=1&&(!n.c&&(n.c=new cF(LMe,n,5,8)),n.c.i<=1))&&1==(!n.a&&(n.a=new tW(BMe,n,6,6)),n.a).i&&(Twt(w=jV(Get((!n.a&&(n.a=new tW(BMe,n,6,6)),n.a),0),202))||Cwt(w)||(Oit(w,jV(Get((!n.b&&(n.b=new cF(LMe,n,4,7)),n.b),0),82)),Dit(w,jV(Get((!n.c&&(n.c=new cF(LMe,n,5,8)),n.c),0),82))))}function lGt(t){var e,n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C;for(v=0,_=(y=t.a).length;v<_;++v){for(w=y[v],l=LKt,u=LKt,g=new Wf(w.e);g.a<g.c.c.length;)(s=(d=jV(Q1(g),10)).c?_9(d.c.a,d,0):-1)>0?(h=jV(DH(d.c.a,s-1),10),E=RO(t.b,d,h),m=d.n.b-d.d.d-(h.n.b+h.o.b+h.d.a+E)):m=d.n.b-d.d.d,l=i.Math.min(m,l),s<d.c.a.c.length-1?(h=jV(DH(d.c.a,s+1),10),E=RO(t.b,d,h),b=h.n.b-h.d.d-(d.n.b+d.o.b+d.d.a+E)):b=2*d.n.b,u=i.Math.min(b,u);for(c=LKt,o=!1,C=new Wf((r=jV(DH(w.e,0),10)).j);C.a<C.c.c.length;)for(T=jV(Q1(C),11),p=r.n.b+T.n.b+T.a.b,n=new Wf(T.e);n.a<n.c.c.length;)e=(k=jV(Q1(n),17).c).i.n.b+k.n.b+k.a.b-p,i.Math.abs(e)<i.Math.abs(c)&&i.Math.abs(e)<(e<0?l:u)&&(c=e,o=!0);for(x=new Wf((a=jV(DH(w.e,w.e.c.length-1),10)).j);x.a<x.c.c.length;)for(k=jV(Q1(x),11),p=a.n.b+k.n.b+k.a.b,n=new Wf(k.g);n.a<n.c.c.length;)e=(T=jV(Q1(n),17).d).i.n.b+T.n.b+T.a.b-p,i.Math.abs(e)<i.Math.abs(c)&&i.Math.abs(e)<(e<0?l:u)&&(c=e,o=!0);if(o&&0!=c)for(f=new Wf(w.e);f.a<f.c.c.length;)(d=jV(Q1(f),10)).n.b+=c}}function uGt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f,g,p,m;if(cW(t.a,e)){if(FE(jV(LG(t.a,e),53),n))return 1}else GK(t.a,e,new Lw);if(cW(t.a,n)){if(FE(jV(LG(t.a,n),53),e))return-1}else GK(t.a,n,new Lw);if(cW(t.e,e)){if(FE(jV(LG(t.e,e),53),n))return-1}else GK(t.e,e,new Lw);if(cW(t.e,n)){if(FE(jV(LG(t.a,n),53),e))return 1}else GK(t.e,n,new Lw);if(t.c==(wct(),Dwe)||!PL(e,(lKt(),dde))||!PL(n,(lKt(),dde))){if(c=jV(_N(x5(Yct(IY(new LH(null,new d1(e.j,16)),new lo)),new uo)),11),u=jV(_N(x5(Yct(IY(new LH(null,new d1(n.j,16)),new ho)),new fo)),11),c&&u){if(a=c.i,l=u.i,a&&a==l){for(d=new Wf(a.j);d.a<d.c.c.length;){if((h=jV(Q1(d),11))==c)return oFt(t,n,e),-1;if(h==u)return oFt(t,e,n),1}return _O(nxt(t,e),nxt(t,n))}for(p=0,m=(g=t.d).length;p<m;++p){if((f=g[p])==a)return oFt(t,n,e),-1;if(f==l)return oFt(t,e,n),1}}if(!PL(e,(lKt(),dde))||!PL(n,dde))return(r=nxt(t,e))>(s=nxt(t,n))?oFt(t,e,n):oFt(t,n,e),r<s?-1:r>s?1:0}return(i=jV(wTt(e,(lKt(),dde)),19).a)>(o=jV(wTt(n,dde),19).a)?oFt(t,e,n):oFt(t,n,e),i<o?-1:i>o?1:0}function hGt(t,e,n,i){var r,o,s,a,c,l,u,h,d,f,g,p;if(Vv(kR(QPt(e,(cKt(),HCe)))))return EX(),EX(),cne;if(c=0!=(!e.a&&(e.a=new tW(HMe,e,10,11)),e.a).i,l=!(u=yIt(e)).dc(),c||l){if(!(r=jV(QPt(e,bAe),149)))throw $b(new n_("Resolved algorithm is not set; apply a LayoutAlgorithmResolver before computing layout."));if(p=SS(r,(lPt(),ZMe)),Dmt(e),!c&&l&&!p)return EX(),EX(),cne;if(a=new Ob,zI(QPt(e,_Ce))===zI((sht(),pSe))&&(SS(r,KMe)||SS(r,GMe)))for(d=mBt(t,e),jrt(f=new YE,(!e.a&&(e.a=new tW(HMe,e,10,11)),e.a));0!=f.b;)Dmt(h=jV(0==f.b?null:(TL(0!=f.b),Met(f,f.a.a)),33)),zI(QPt(h,_Ce))===zI(bSe)||T7(h,tCe)&&!v4(r,QPt(h,bAe))?(pat(a,hGt(t,h,n,i)),Xbt(h,_Ce,bSe),BFt(h)):jrt(f,(!h.a&&(h.a=new tW(HMe,h,10,11)),h.a));else for(d=(!e.a&&(e.a=new tW(HMe,e,10,11)),e.a).i,s=new ID((!e.a&&(e.a=new tW(HMe,e,10,11)),e.a));s.e!=s.i.gc();)pat(a,hGt(t,o=jV(vbt(s),33),n,i)),BFt(o);for(g=new Wf(a);g.a<g.c.c.length;)Xbt(jV(Q1(g),79),HCe,(cN(),!0));return qmt(e,r,wot(i,d)),fjt(a),l&&p?u:(EX(),EX(),cne)}return EX(),EX(),cne}function dGt(t,e,n,i,r,o,s,a,c){var l,u,h,d,f,g,p;switch(f=n,Fd(u=new Pwt(c),(sCt(),xae)),lct(u,(lKt(),Yhe),s),lct(u,(VGt(),tbe),(Yxt(),qSe)),p=zv(xR(t.We(Jme))),lct(u,Jme,p),CJ(h=new ACt,u),e!=KSe&&e!=YSe||(f=i>=0?lgt(a):xdt(lgt(a)),t.Ye(obe,f)),l=new zk,d=!1,t.Xe(Qme)?($L(l,jV(t.We(Qme),8)),d=!0):wD(l,s.a/2,s.b/2),f.g){case 4:lct(u,yme,(xft(),Fde)),lct(u,zhe,(Zat(),Mue)),u.o.b=s.b,p<0&&(u.o.a=-p),zSt(h,(vWt(),sIe)),d||(l.a=s.a),l.a-=s.a;break;case 2:lct(u,yme,(xft(),$de)),lct(u,zhe,(Zat(),Sue)),u.o.b=s.b,p<0&&(u.o.a=-p),zSt(h,(vWt(),CIe)),d||(l.a=0);break;case 1:lct(u,ede,(H9(),Che)),u.o.a=s.a,p<0&&(u.o.b=-p),zSt(h,(vWt(),EIe)),d||(l.b=s.b),l.b-=s.b;break;case 3:lct(u,ede,(H9(),Ehe)),u.o.a=s.a,p<0&&(u.o.b=-p),zSt(h,(vWt(),aIe)),d||(l.b=0)}if($L(h.n,l),lct(u,Qme,l),e==USe||e==WSe||e==qSe){if(g=0,e==USe&&t.Xe(ebe))switch(f.g){case 1:case 2:g=jV(t.We(ebe),19).a;break;case 3:case 4:g=-jV(t.We(ebe),19).a}else switch(f.g){case 4:case 2:g=o.b,e==WSe&&(g/=r.b);break;case 1:case 3:g=o.a,e==WSe&&(g/=r.a)}lct(u,kde,g)}return lct(u,Khe,f),u}function fGt(t){var e,n,i,r,o,s,a,c,l,h,d,f,g,p,m,b,w,y,v,_,k,x;if((n=zv(xR(wTt(t.a.j,(VGt(),Bpe)))))<-1||!t.a.i||PF(jV(wTt(t.a.o,tbe),98))||oft(t.a.o,(vWt(),sIe)).gc()<2&&oft(t.a.o,CIe).gc()<2)return!0;if(t.a.c.Rf())return!1;for(v=0,y=0,w=new Ob,c=0,l=(a=t.a.e).length;c<l;++c){for(f=0,p=(d=a[c]).length;f<p;++f)if((h=d[f]).k!=(sCt(),Aae)){for(i=t.b[h.c.p][h.p],h.k==xae?(i.b=1,jV(wTt(h,(lKt(),fde)),11).j==(vWt(),sIe)&&(y+=i.a)):(x=oft(h,(vWt(),CIe))).dc()||!JO(x,new Lo)?i.c=1:((r=oft(h,sIe)).dc()||!JO(r,new No))&&(v+=i.a),s=new sq(ZD(hft(h).a.Kc(),new u));gPt(s);)o=jV(U4(s),17),v+=i.c,y+=i.b,q7(t,i,o.d.i);for(k=new sq(new WD((m=Gnt(Cat(z_(Nte,1),VKt,20,0,[oft(h,(vWt(),aIe)),oft(h,EIe)]))).a.length,m.a));gPt(k);)_=jV(U4(k),11),(b=jV(wTt(_,(lKt(),_de)),10))&&(v+=i.c,y+=i.b,q7(t,i,b))}else w.c[w.c.length]=h;for(g=new Wf(w);g.a<g.c.c.length;)for(h=jV(Q1(g),10),i=t.b[h.c.p][h.p],s=new sq(ZD(hft(h).a.Kc(),new u));gPt(s);)o=jV(U4(s),17),v+=i.c,y+=i.b,q7(t,i,o.d.i);w.c=D7(Mte,VKt,1,0,5,1)}return(0==(e=v+y)?RXt:(v-y)/e)>=n}function gGt(){function t(t){var e=this;this.dispatch=function(e){var n=e.data;switch(n.cmd){case"algorithms":var i=Tgt((EX(),new $f(new Sf(lPe.b))));t.postMessage({id:n.id,data:i});break;case"categories":var r=Tgt((EX(),new $f(new Sf(lPe.c))));t.postMessage({id:n.id,data:r});break;case"options":var o=Tgt((EX(),new $f(new Sf(lPe.d))));t.postMessage({id:n.id,data:o});break;case"register":hUt(n.algorithms),t.postMessage({id:n.id});break;case"layout":NVt(n.graph,n.layoutOptions||{},n.options||{}),t.postMessage({id:n.id,data:n.graph})}},this.saveDispatch=function(n){try{e.dispatch(n)}catch(e){t.postMessage({id:n.data.id,error:e})}}}function i(e){var n=this;this.dispatcher=new t({postMessage:function(t){n.onmessage({data:t})}}),this.postMessage=function(t){setTimeout((function(){n.dispatcher.saveDispatch({data:t})}),0)}}if(rx(),typeof document===pZt&&typeof self!==pZt){var r=new t(self);self.onmessage=r.saveDispatch}else typeof e!==pZt&&e.exports&&(Object.defineProperty(n,"__esModule",{value:!0}),e.exports={default:i,Worker:i})}function pGt(t){t.N||(t.N=!0,t.b=vst(t,0),Rrt(t.b,0),Rrt(t.b,1),Rrt(t.b,2),t.bb=vst(t,1),Rrt(t.bb,0),Rrt(t.bb,1),t.fb=vst(t,2),Rrt(t.fb,3),Rrt(t.fb,4),Brt(t.fb,5),t.qb=vst(t,3),Rrt(t.qb,0),Brt(t.qb,1),Brt(t.qb,2),Rrt(t.qb,3),Rrt(t.qb,4),Brt(t.qb,5),Rrt(t.qb,6),t.a=_st(t,4),t.c=_st(t,5),t.d=_st(t,6),t.e=_st(t,7),t.f=_st(t,8),t.g=_st(t,9),t.i=_st(t,10),t.j=_st(t,11),t.k=_st(t,12),t.n=_st(t,13),t.o=_st(t,14),t.p=_st(t,15),t.q=_st(t,16),t.s=_st(t,17),t.r=_st(t,18),t.t=_st(t,19),t.u=_st(t,20),t.v=_st(t,21),t.w=_st(t,22),t.B=_st(t,23),t.A=_st(t,24),t.C=_st(t,25),t.D=_st(t,26),t.F=_st(t,27),t.G=_st(t,28),t.H=_st(t,29),t.J=_st(t,30),t.I=_st(t,31),t.K=_st(t,32),t.M=_st(t,33),t.L=_st(t,34),t.P=_st(t,35),t.Q=_st(t,36),t.R=_st(t,37),t.S=_st(t,38),t.T=_st(t,39),t.U=_st(t,40),t.V=_st(t,41),t.X=_st(t,42),t.W=_st(t,43),t.Y=_st(t,44),t.Z=_st(t,45),t.$=_st(t,46),t._=_st(t,47),t.ab=_st(t,48),t.cb=_st(t,49),t.db=_st(t,50),t.eb=_st(t,51),t.gb=_st(t,52),t.hb=_st(t,53),t.ib=_st(t,54),t.jb=_st(t,55),t.kb=_st(t,56),t.lb=_st(t,57),t.mb=_st(t,58),t.nb=_st(t,59),t.ob=_st(t,60),t.pb=_st(t,61))}function mGt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_;if(y=0,0==e.f.a)for(b=new Wf(t);b.a<b.c.c.length;)p=jV(Q1(b),10),y=i.Math.max(y,p.n.a+p.o.a+p.d.c);else y=e.f.a-e.c.a;for(y-=e.c.a,m=new Wf(t);m.a<m.c.c.length;){switch(Zb((p=jV(Q1(m),10)).n,y-p.o.a),iz(p.f),Kyt(p),(p.q?p.q:(EX(),EX(),lne))._b((VGt(),abe))&&Zb(jV(wTt(p,abe),8),y-p.o.a),jV(wTt(p,ype),248).g){case 1:lct(p,ype,(fwt(),MTe));break;case 2:lct(p,ype,(fwt(),ITe))}for(w=p.o,_=new Wf(p.j);_.a<_.c.c.length;){for(Zb((v=jV(Q1(_),11)).n,w.a-v.o.a),Zb(v.a,v.o.a),zSt(v,Sot(v.j)),(a=jV(wTt(v,ebe),19))&&lct(v,ebe,ndt(-a.a)),s=new Wf(v.g);s.a<s.c.c.length;){for(r=cbt((o=jV(Q1(s),17)).a,0);r.b!=r.d.c;)(n=jV(h3(r),8)).a=y-n.a;if(u=jV(wTt(o,mme),74))for(l=cbt(u,0);l.b!=l.d.c;)(c=jV(h3(l),8)).a=y-c.a;for(f=new Wf(o.b);f.a<f.c.c.length;)Zb((h=jV(Q1(f),70)).n,y-h.o.a)}for(g=new Wf(v.f);g.a<g.c.c.length;)Zb((h=jV(Q1(g),70)).n,v.o.a-h.o.a)}for(p.k==(sCt(),xae)&&(lct(p,(lKt(),Khe),Sot(jV(wTt(p,Khe),61))),XTt(p)),d=new Wf(p.b);d.a<d.c.c.length;)Kyt(h=jV(Q1(d),70)),Zb(h.n,w.a-h.o.a)}}function bGt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_;if(y=0,0==e.f.b)for(b=new Wf(t);b.a<b.c.c.length;)p=jV(Q1(b),10),y=i.Math.max(y,p.n.b+p.o.b+p.d.a);else y=e.f.b-e.c.b;for(y-=e.c.b,m=new Wf(t);m.a<m.c.c.length;){switch(Xb((p=jV(Q1(m),10)).n,y-p.o.b),rz(p.f),Yyt(p),(p.q?p.q:(EX(),EX(),lne))._b((VGt(),abe))&&Xb(jV(wTt(p,abe),8),y-p.o.b),jV(wTt(p,ype),248).g){case 3:lct(p,ype,(fwt(),ATe));break;case 4:lct(p,ype,(fwt(),PTe))}for(w=p.o,_=new Wf(p.j);_.a<_.c.c.length;){for(Xb((v=jV(Q1(_),11)).n,w.b-v.o.b),Xb(v.a,v.o.b),zSt(v,Iot(v.j)),(a=jV(wTt(v,ebe),19))&&lct(v,ebe,ndt(-a.a)),s=new Wf(v.g);s.a<s.c.c.length;){for(r=cbt((o=jV(Q1(s),17)).a,0);r.b!=r.d.c;)(n=jV(h3(r),8)).b=y-n.b;if(u=jV(wTt(o,mme),74))for(l=cbt(u,0);l.b!=l.d.c;)(c=jV(h3(l),8)).b=y-c.b;for(f=new Wf(o.b);f.a<f.c.c.length;)Xb((h=jV(Q1(f),70)).n,y-h.o.b)}for(g=new Wf(v.f);g.a<g.c.c.length;)Xb((h=jV(Q1(g),70)).n,v.o.b-h.o.b)}for(p.k==(sCt(),xae)&&(lct(p,(lKt(),Khe),Iot(jV(wTt(p,Khe),61))),pdt(p)),d=new Wf(p.b);d.a<d.c.c.length;)Yyt(h=jV(Q1(d),70)),Xb(h.n,w.b-h.o.b)}}function wGt(t,e,n,i){var r,o,s,a,c,l,u,h,d,f;for(h=!1,l=t+1,u1(t,e.c.length),s=(u=jV(e.c[t],200)).a,a=null,o=0;o<u.a.c.length;o++)if(u1(o,s.c.length),!(r=jV(s.c[o],187)).c)if(0!=r.b.c.length){if(r.k||(a&&Hyt(a),xwt(r,(a=new RQ(a?a.e+a.d+i:0,u.f,i)).e+a.d,u.f),WV(u.d,a),Not(a,r),r.k=!0),c=null,f=null,o<u.a.c.length-1?f=jV(DH(u.a,o+1),187):l<e.c.length&&0!=(u1(l,e.c.length),jV(e.c[l],200)).a.c.length&&(f=jV(DH((u1(l,e.c.length),jV(e.c[l],200)).a,0),187)),d=!1,(c=f)&&(d=!Dht(c.j,u)),c){if(0==c.b.c.length){x_t(u,c);break}if(p8(r,n-r.s),Hyt(r.q),h|=JTt(u,r,c,n,i),0==c.b.c.length)for(x_t((u1(l,e.c.length),jV(e.c[l],200)),c),c=null;e.c.length>l&&0==(u1(l,e.c.length),jV(e.c[l],200)).a.c.length;)w9(e,(u1(l,e.c.length),e.c[l]));if(!c){--o;continue}if(Mjt(e,u,r,c,d,n,l,i)){h=!0;continue}if(d){if(ZVt(e,u,r,c,n,l,i)){h=!0;continue}if(Mut(u,r)){r.c=!0,h=!0;continue}}else if(Mut(u,r)){r.c=!0,h=!0;continue}if(h)continue}Mut(u,r)?(r.c=!0,h=!0,c&&(c.k=!1)):Hyt(r.q)}else ME(),x_t(u,r),--o,h=!0;return h}function yGt(t,e,n,r,o,s,a){var c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C,A,S,I,M,P;for(m=0,A=0,u=new Wf(t.b);u.a<u.c.c.length;)(l=jV(Q1(u),157)).c&&aqt(l.c),m=i.Math.max(m,eU(l)),A+=eU(l)*tU(l);for(b=A/t.b.c.length,C=lkt(t.b,b),A+=t.b.c.length*C,m=i.Math.max(m,i.Math.sqrt(A*a))+n.b,M=n.b,P=n.d,g=0,d=n.b+n.c,Nz(T=new YE,ndt(0)),x=new YE,h=new x2(t.b,0),p=null,c=new Ob;h.b<h.d.gc();)TL(h.b<h.d.gc()),I=eU(l=jV(h.d.Xb(h.c=h.b++),157)),f=tU(l),M+I>m&&(s&&(lM(x,g),lM(T,ndt(h.b-1)),WV(t.d,p),c.c=D7(Mte,VKt,1,0,5,1)),M=n.b,P+=g+e,g=0,d=i.Math.max(d,n.b+n.c+I)),c.c[c.c.length]=l,Ebt(l,M,P),d=i.Math.max(d,M+I+n.c),g=i.Math.max(g,f),M+=I+e,p=l;if(pat(t.a,c),WV(t.d,jV(DH(c,c.c.length-1),157)),d=i.Math.max(d,r),(S=P+g+n.a)<o&&(g+=o-S,S=o),s)for(M=n.b,h=new x2(t.b,0),lM(T,ndt(t.b.c.length)),y=jV(h3(E=cbt(T,0)),19).a,lM(x,g),k=cbt(x,0),_=0;h.b<h.d.gc();)h.b==y&&(M=n.b,_=zv(xR(h3(k))),y=jV(h3(E),19).a),TL(h.b<h.d.gc()),qpt(l=jV(h.d.Xb(h.c=h.b++),157),_),h.b==y&&(w=d-M-n.c,v=eU(l),Upt(l,w),jdt(l,(w-v)/2,0)),M+=eU(l)+e;return new DS(d,S)}function vGt(t){var e,n,i,r;switch(r=null,t.c){case 6:return t.Vl();case 13:return t.Wl();case 23:return t.Nl();case 22:return t.Sl();case 18:return t.Pl();case 8:YGt(t),fKt(),r=oNe;break;case 9:return t.vl(!0);case 19:return t.wl();case 10:switch(t.a){case 100:case 68:case 119:case 87:case 115:case 83:return r=t.ul(t.a),YGt(t),r;case 101:case 102:case 110:case 114:case 116:case 117:case 118:case 120:(e=t.tl())<$Xt?(fKt(),fKt(),r=new sU(0,e)):r=pq(Wdt(e));break;case 99:return t.Fl();case 67:return t.Al();case 105:return t.Il();case 73:return t.Bl();case 103:return t.Gl();case 88:return t.Cl();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return t.xl();case 80:case 112:if(!(r=LIt(t,t.a)))throw $b(new r_(vKt((oO(),I7t))));break;default:r=Kz(t.a)}YGt(t);break;case 0:if(93==t.a||123==t.a||125==t.a)throw $b(new r_(vKt((oO(),S7t))));r=Kz(t.a),n=t.a,YGt(t),(64512&n)==VXt&&0==t.c&&56320==(64512&t.a)&&((i=D7(ANe,GYt,25,2,15,1))[0]=n&YYt,i[1]=t.a&YYt,r=sW(pq($pt(i,0,i.length)),0),YGt(t));break;default:throw $b(new r_(vKt((oO(),S7t))))}return r}function _Gt(t,e,n){var r,o,s,a,c,l,u,h,d,f,g,p,m;if(r=new Ob,o=LKt,s=LKt,a=LKt,n)for(o=t.f.a,p=new Wf(e.j);p.a<p.c.c.length;)for(l=new Wf(jV(Q1(p),11).g);l.a<l.c.c.length;)0!=(c=jV(Q1(l),17)).a.b&&((h=jV(gL(c.a),8)).a<o&&(s=o-h.a,a=LKt,r.c=D7(Mte,VKt,1,0,5,1),o=h.a),h.a<=o&&(r.c[r.c.length]=c,c.a.b>1&&(a=i.Math.min(a,i.Math.abs(jV(Lbt(c.a,1),8).b-h.b)))));else for(p=new Wf(e.j);p.a<p.c.c.length;)for(l=new Wf(jV(Q1(p),11).e);l.a<l.c.c.length;)0!=(c=jV(Q1(l),17)).a.b&&((f=jV(pL(c.a),8)).a>o&&(s=f.a-o,a=LKt,r.c=D7(Mte,VKt,1,0,5,1),o=f.a),f.a>=o&&(r.c[r.c.length]=c,c.a.b>1&&(a=i.Math.min(a,i.Math.abs(jV(Lbt(c.a,c.a.b-2),8).b-f.b)))));if(0!=r.c.length&&s>e.o.a/2&&a>e.o.b/2){for(CJ(g=new ACt,e),zSt(g,(vWt(),aIe)),g.n.a=e.o.a/2,CJ(m=new ACt,e),zSt(m,EIe),m.n.a=e.o.a/2,m.n.b=e.o.b,l=new Wf(r);l.a<l.c.c.length;)c=jV(Q1(l),17),n?(u=jV(fz(c.a),8),(0==c.a.b?g1(c.d):jV(gL(c.a),8)).b>=u.b?EJ(c,m):EJ(c,g)):(u=jV(gz(c.a),8),(0==c.a.b?g1(c.c):jV(pL(c.a),8)).b>=u.b?xJ(c,m):xJ(c,g)),(d=jV(wTt(c,(VGt(),mme)),74))&&ygt(d,u,!0);e.n.a=o-e.o.a/2}}function kGt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f;if(l=e,Pit(c=K3(t,P3(n),l),L2(l,z6t)),u=jV(cnt(t.g,vIt(HQ(l,x6t))),33),i=null,(s=HQ(l,"sourcePort"))&&(i=vIt(s)),h=jV(cnt(t.j,i),118),!u)throw $b(new t_("An edge must have a source node (edge id: '"+Ypt(l)+G6t));if(h&&!dK(WQ(h),u))throw $b(new t_("The source port of an edge must be a port of the edge's source node (edge id: '"+L2(l,z6t)+G6t));if(!c.b&&(c.b=new cF(LMe,c,4,7)),l8(c.b,h||u),d=jV(cnt(t.g,vIt(HQ(l,X6t))),33),r=null,(a=HQ(l,"targetPort"))&&(r=vIt(a)),f=jV(cnt(t.j,r),118),!d)throw $b(new t_("An edge must have a target node (edge id: '"+Ypt(l)+G6t));if(f&&!dK(WQ(f),d))throw $b(new t_("The target port of an edge must be a port of the edge's target node (edge id: '"+L2(l,z6t)+G6t));if(!c.c&&(c.c=new cF(LMe,c,5,8)),l8(c.c,f||d),0==(!c.b&&(c.b=new cF(LMe,c,4,7)),c.b).i||0==(!c.c&&(c.c=new cF(LMe,c,5,8)),c.c).i)throw o=L2(l,z6t),$b(new t_(W6t+o+G6t));return TEt(l,c),cOt(l,c),Nct(t,l,c)}function xGt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C;return h=A$t($N(t,(vWt(),dIe)),e),g=ovt($N(t,fIe),e),v=ovt($N(t,_Ie),e),E=svt($N(t,xIe),e),d=svt($N(t,cIe),e),w=ovt($N(t,vIe),e),p=ovt($N(t,gIe),e),k=ovt($N(t,kIe),e),_=ovt($N(t,lIe),e),T=svt($N(t,hIe),e),b=ovt($N(t,wIe),e),y=ovt($N(t,bIe),e),x=ovt($N(t,uIe),e),C=svt($N(t,yIe),e),f=svt($N(t,pIe),e),m=ovt($N(t,mIe),e),n=Oct(Cat(z_(ONe,1),zXt,25,15,[w.a,E.a,k.a,C.a])),i=Oct(Cat(z_(ONe,1),zXt,25,15,[g.a,h.a,v.a,m.a])),r=b.a,o=Oct(Cat(z_(ONe,1),zXt,25,15,[p.a,d.a,_.a,f.a])),l=Oct(Cat(z_(ONe,1),zXt,25,15,[w.b,g.b,p.b,y.b])),c=Oct(Cat(z_(ONe,1),zXt,25,15,[E.b,h.b,d.b,m.b])),u=T.b,a=Oct(Cat(z_(ONe,1),zXt,25,15,[k.b,v.b,_.b,x.b])),d8($N(t,dIe),n+r,l+u),d8($N(t,mIe),n+r,l+u),d8($N(t,fIe),n+r,0),d8($N(t,_Ie),n+r,l+u+c),d8($N(t,xIe),0,l+u),d8($N(t,cIe),n+r+i,l+u),d8($N(t,gIe),n+r+i,0),d8($N(t,kIe),0,l+u+c),d8($N(t,lIe),n+r+i,l+u+c),d8($N(t,hIe),0,l),d8($N(t,wIe),n,0),d8($N(t,uIe),0,l+u+c),d8($N(t,pIe),n+r+i,0),(s=new zk).a=Oct(Cat(z_(ONe,1),zXt,25,15,[n+i+r+o,T.a,y.a,x.a])),s.b=Oct(Cat(z_(ONe,1),zXt,25,15,[l+c+u+a,b.b,C.b,f.b])),s}function EGt(t){var e,n,i,r,o,s,a,c,l,h,d,f,g,p,m;for(p=new Ob,d=new Wf(t.d.b);d.a<d.c.c.length;)for(g=new Wf(jV(Q1(d),29).a);g.a<g.c.c.length;){for(f=jV(Q1(g),10),r=jV(LG(t.f,f),57),c=new sq(ZD(hft(f).a.Kc(),new u));gPt(c);)if(l=!0,h=null,(i=cbt((s=jV(U4(c),17)).a,0)).b!=i.d.c){for(e=jV(h3(i),8),n=null,s.c.j==(vWt(),aIe)&&((m=new CVt(e,new DS(e.a,r.d.d),r,s)).f.a=!0,m.a=s.c,p.c[p.c.length]=m),s.c.j==EIe&&((m=new CVt(e,new DS(e.a,r.d.d+r.d.a),r,s)).f.d=!0,m.a=s.c,p.c[p.c.length]=m);i.b!=i.d.c;)n=jV(h3(i),8),ont(e.b,n.b)||(h=new CVt(e,n,null,s),p.c[p.c.length]=h,l&&(l=!1,n.b<r.d.d?h.f.a=!0:n.b>r.d.d+r.d.a?h.f.d=!0:(h.f.d=!0,h.f.a=!0))),i.b!=i.d.c&&(e=n);h&&(o=jV(LG(t.f,s.d.i),57),e.b<o.d.d?h.f.a=!0:e.b>o.d.d+o.d.a?h.f.d=!0:(h.f.d=!0,h.f.a=!0))}for(a=new sq(ZD(uft(f).a.Kc(),new u));gPt(a);)0!=(s=jV(U4(a),17)).a.b&&(e=jV(pL(s.a),8),s.d.j==(vWt(),aIe)&&((m=new CVt(e,new DS(e.a,r.d.d),r,s)).f.a=!0,m.a=s.d,p.c[p.c.length]=m),s.d.j==EIe&&((m=new CVt(e,new DS(e.a,r.d.d+r.d.a),r,s)).f.d=!0,m.a=s.d,p.c[p.c.length]=m))}return p}function TGt(t,e,n){var i,r,o,s,a,c,l;if(IEt(n,"Network simplex node placement",1),t.e=e,t.n=jV(wTt(e,(lKt(),Ide)),304),aHt(t),Rxt(t),XE(dtt(new LH(null,new d1(t.e.b,16)),new Ho),new im(t)),XE(IY(dtt(IY(dtt(new LH(null,new d1(t.e.b,16)),new ns),new is),new rs),new os),new nm(t)),Vv(kR(wTt(t.e,(VGt(),Dme))))&&(IEt(o=wot(n,1),"Straight Edges Pre-Processing",1),_qt(t),VCt(o)),Ewt(t.f),r=jV(wTt(e,Dbe),19).a*t.f.a.c.length,GFt(K_(Y_(jj(t.f),r),!1),wot(n,1)),0!=t.d.a.gc()){for(IEt(o=wot(n,1),"Flexible Where Space Processing",1),s=jV(MN(Sq(MY(new LH(null,new d1(t.f.a,16)),new Uo),new Bo)),19).a,a=jV(MN(Aq(MY(new LH(null,new d1(t.f.a,16)),new qo),new Fo)),19).a-s,c=IN(new Vw,t.f),l=IN(new Vw,t.f),qNt(rT(iT(nT(oT(new $w,2e4),a),c),l)),XE(IY(IY(PW(t.i),new Wo),new Go),new HY(s,c,a,l)),i=t.d.a.ec().Kc();i.Ob();)jV(i.Pb(),213).g=1;GFt(K_(Y_(jj(t.f),r),!1),wot(o,1)),VCt(o)}Vv(kR(wTt(e,Dme)))&&(IEt(o=wot(n,1),"Straight Edges Post-Processing",1),TAt(t),VCt(o)),YUt(t),t.e=null,t.f=null,t.i=null,t.c=null,MW(t.k),t.j=null,t.a=null,t.o=null,t.d.a.$b(),VCt(n)}function CGt(t,e,n){var r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_;for(a=new Wf(t.a.b);a.a<a.c.c.length;)for(y=new Wf(jV(Q1(a),29).a);y.a<y.c.c.length;)w=jV(Q1(y),10),e.g[w.p]=w,e.a[w.p]=w,e.d[w.p]=0;for(c=t.a.b,e.c==(gQ(),Qye)&&(c=iD(c,152)?s6(jV(c,152)):iD(c,131)?jV(c,131).a:iD(c,54)?new lv(c):new CE(c)),s=c.Kc();s.Ob();)for(f=-1,d=jV(s.Pb(),29).a,e.o==(sJ(),ive)&&(f=LKt,d=iD(d,152)?s6(jV(d,152)):iD(d,131)?jV(d,131).a:iD(d,54)?new lv(d):new CE(d)),_=d.Kc();_.Ob();)if(v=jV(_.Pb(),10),h=null,(h=e.c==Qye?jV(DH(t.b.f,v.p),15):jV(DH(t.b.b,v.p),15)).gc()>0)if(r=h.gc(),l=CQ(i.Math.floor((r+1)/2))-1,o=CQ(i.Math.ceil((r+1)/2))-1,e.o==ive)for(u=o;u>=l;u--)e.a[v.p]==v&&(p=jV(h.Xb(u),46),g=jV(p.a,10),!FE(n,p.b)&&f>t.b.e[g.p]&&(e.a[g.p]=v,e.g[v.p]=e.g[g.p],e.a[v.p]=e.g[v.p],e.f[e.g[v.p].p]=(cN(),!!(Vv(e.f[e.g[v.p].p])&v.k==(sCt(),Tae))),f=t.b.e[g.p]));else for(u=l;u<=o;u++)e.a[v.p]==v&&(b=jV(h.Xb(u),46),m=jV(b.a,10),!FE(n,b.b)&&f<t.b.e[m.p]&&(e.a[m.p]=v,e.g[v.p]=e.g[m.p],e.a[v.p]=e.g[v.p],e.f[e.g[v.p].p]=(cN(),!!(Vv(e.f[e.g[v.p].p])&v.k==(sCt(),Tae))),f=t.b.e[m.p]))}function AGt(){AGt=M,tx(),TMe=gMe.a,jV(Get(KX(gMe.a),0),18),yMe=gMe.f,jV(Get(KX(gMe.f),0),18),jV(Get(KX(gMe.f),1),34),EMe=gMe.n,jV(Get(KX(gMe.n),0),34),jV(Get(KX(gMe.n),1),34),jV(Get(KX(gMe.n),2),34),jV(Get(KX(gMe.n),3),34),vMe=gMe.g,jV(Get(KX(gMe.g),0),18),jV(Get(KX(gMe.g),1),34),mMe=gMe.c,jV(Get(KX(gMe.c),0),18),jV(Get(KX(gMe.c),1),18),_Me=gMe.i,jV(Get(KX(gMe.i),0),18),jV(Get(KX(gMe.i),1),18),jV(Get(KX(gMe.i),2),18),jV(Get(KX(gMe.i),3),18),jV(Get(KX(gMe.i),4),34),kMe=gMe.j,jV(Get(KX(gMe.j),0),18),bMe=gMe.d,jV(Get(KX(gMe.d),0),18),jV(Get(KX(gMe.d),1),18),jV(Get(KX(gMe.d),2),18),jV(Get(KX(gMe.d),3),18),jV(Get(KX(gMe.d),4),34),jV(Get(KX(gMe.d),5),34),jV(Get(KX(gMe.d),6),34),jV(Get(KX(gMe.d),7),34),pMe=gMe.b,jV(Get(KX(gMe.b),0),34),jV(Get(KX(gMe.b),1),34),wMe=gMe.e,jV(Get(KX(gMe.e),0),34),jV(Get(KX(gMe.e),1),34),jV(Get(KX(gMe.e),2),34),jV(Get(KX(gMe.e),3),34),jV(Get(KX(gMe.e),4),18),jV(Get(KX(gMe.e),5),18),jV(Get(KX(gMe.e),6),18),jV(Get(KX(gMe.e),7),18),jV(Get(KX(gMe.e),8),18),jV(Get(KX(gMe.e),9),18),jV(Get(KX(gMe.e),10),34),xMe=gMe.k,jV(Get(KX(gMe.k),0),34),jV(Get(KX(gMe.k),1),34)}function SGt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C,A;for(T=new YE,k=new YE,m=-1,c=new Wf(t);c.a<c.c.c.length;){for((s=jV(Q1(c),128)).s=m--,u=0,y=0,o=new Wf(s.t);o.a<o.c.c.length;)y+=(i=jV(Q1(o),268)).c;for(r=new Wf(s.i);r.a<r.c.c.length;)u+=(i=jV(Q1(r),268)).c;s.n=u,s.u=y,0==y?n4(k,s,k.c.b,k.c):0==u&&n4(T,s,T.c.b,T.c)}for(A=E5(t),p=(h=t.c.length)+1,b=h-1,f=new Ob;0!=A.a.gc();){for(;0!=k.b;)TL(0!=k.b),_=jV(Met(k,k.a.a),128),A.a.Bc(_),_.s=b--,rDt(_,T,k);for(;0!=T.b;)TL(0!=T.b),x=jV(Met(T,T.a.a),128),A.a.Bc(x),x.s=p++,rDt(x,T,k);for(g=FYt,l=A.a.ec().Kc();l.Ob();)(w=(s=jV(l.Pb(),128)).u-s.n)>=g&&(w>g&&(f.c=D7(Mte,VKt,1,0,5,1),g=w),f.c[f.c.length]=s);0!=f.c.length&&(d=jV(DH(f,mwt(e,f.c.length)),128),A.a.Bc(d),d.s=p++,rDt(d,T,k),f.c=D7(Mte,VKt,1,0,5,1))}for(v=t.c.length+1,a=new Wf(t);a.a<a.c.c.length;)(s=jV(Q1(a),128)).s<h&&(s.s+=v);for(E=new Wf(t);E.a<E.c.c.length;)for(n=new x2((x=jV(Q1(E),128)).t,0);n.b<n.d.gc();)TL(n.b<n.d.gc()),C=(i=jV(n.d.Xb(n.c=n.b++),268)).b,x.s>C.s&&(lK(n),w9(C.i,i),i.c>0&&(i.a=C,WV(C.t,i),i.b=x,WV(x.i,i)))}function IGt(t){var e,n,i,r,o;switch(e=t.c){case 11:return t.Ml();case 12:return t.Ol();case 14:return t.Ql();case 15:return t.Tl();case 16:return t.Rl();case 17:return t.Ul();case 21:return YGt(t),fKt(),fKt(),sNe;case 10:switch(t.a){case 65:return t.yl();case 90:return t.Dl();case 122:return t.Kl();case 98:return t.El();case 66:return t.zl();case 60:return t.Jl();case 62:return t.Hl()}}switch(o=vGt(t),e=t.c){case 3:return t.Zl(o);case 4:return t.Xl(o);case 5:return t.Yl(o);case 0:if(123==t.a&&t.d<t.j){if(r=t.d,i=0,n=-1,!((e=lY(t.i,r++))>=48&&e<=57))throw $b(new r_(vKt((oO(),W7t))));for(i=e-48;r<t.j&&(e=lY(t.i,r++))>=48&&e<=57;)if((i=10*i+e-48)<0)throw $b(new r_(vKt((oO(),X7t))));if(n=i,44==e){if(r>=t.j)throw $b(new r_(vKt((oO(),K7t))));if((e=lY(t.i,r++))>=48&&e<=57){for(n=e-48;r<t.j&&(e=lY(t.i,r++))>=48&&e<=57;)if((n=10*n+e-48)<0)throw $b(new r_(vKt((oO(),X7t))));if(i>n)throw $b(new r_(vKt((oO(),Y7t))))}else n=-1}if(125!=e)throw $b(new r_(vKt((oO(),G7t))));t.sl(r)?(fKt(),fKt(),o=new c5(9,o),t.d=r+1):(fKt(),fKt(),o=new c5(3,o),t.d=r),o.dm(i),o.cm(n),YGt(t)}}return o}function MGt(t,e,n,i,r){var o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T;for(g=new X6(e.b),w=new X6(e.b),d=new X6(e.b),k=new X6(e.b),p=new X6(e.b),_=cbt(e,0);_.b!=_.d.c;)for(a=new Wf((y=jV(h3(_),11)).g);a.a<a.c.c.length;)if((o=jV(Q1(a),17)).c.i==o.d.i){if(y.j==o.d.j){k.c[k.c.length]=o;continue}if(y.j==(vWt(),aIe)&&o.d.j==EIe){p.c[p.c.length]=o;continue}}for(c=new Wf(p);c.a<c.c.c.length;)Fjt(t,o=jV(Q1(c),17),n,i,(vWt(),sIe));for(s=new Wf(k);s.a<s.c.c.length;)o=jV(Q1(s),17),Fd(x=new Pwt(t),(sCt(),Aae)),lct(x,(VGt(),tbe),(Yxt(),qSe)),lct(x,(lKt(),fde),o),lct(E=new ACt,fde,o.d),zSt(E,(vWt(),CIe)),CJ(E,x),lct(T=new ACt,fde,o.c),zSt(T,sIe),CJ(T,x),lct(o.c,_de,x),lct(o.d,_de,x),EJ(o,null),xJ(o,null),n.c[n.c.length]=x,lct(x,jhe,ndt(2));for(v=cbt(e,0);v.b!=v.d.c;)l=(y=jV(h3(v),11)).e.c.length>0,m=y.g.c.length>0,l&&m?d.c[d.c.length]=y:l?g.c[g.c.length]=y:m&&(w.c[w.c.length]=y);for(f=new Wf(g);f.a<f.c.c.length;)WV(r,VVt(t,jV(Q1(f),11),null,n));for(b=new Wf(w);b.a<b.c.c.length;)WV(r,VVt(t,null,jV(Q1(b),11),n));for(h=new Wf(d);h.a<h.c.c.length;)WV(r,VVt(t,u=jV(Q1(h),11),u,n))}function PGt(t){var e,n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x;for(p=new DS(RXt,RXt),e=new DS(BXt,BXt),_=new Wf(t);_.a<_.c.c.length;)v=jV(Q1(_),8),p.a=i.Math.min(p.a,v.a),p.b=i.Math.min(p.b,v.b),e.a=i.Math.max(e.a,v.a),e.b=i.Math.max(e.b,v.b);for(l=new DS(e.a-p.a,e.b-p.b),u=new Q$t(new DS(p.a-50,p.b-l.a-50),new DS(p.a-50,e.b+l.a+50),new DS(e.a+l.b/2+50,p.b+l.b/2)),y=new Lw,o=new Ob,n=new Ob,y.a.zc(u,y),x=new Wf(t);x.a<x.c.c.length;){for(k=jV(Q1(x),8),o.c=D7(Mte,VKt,1,0,5,1),w=y.a.ec().Kc();w.Ob();)W7((m=jV(w.Pb(),308)).d,m.a),Sft(W7(m.d,k),W7(m.d,m.a))<0&&(o.c[o.c.length]=m);for(n.c=D7(Mte,VKt,1,0,5,1),b=new Wf(o);b.a<b.c.c.length;)for(f=new Wf((m=jV(Q1(b),308)).e);f.a<f.c.c.length;){for(h=jV(Q1(f),168),s=!0,c=new Wf(o);c.a<c.c.c.length;)(a=jV(Q1(c),308))!=m&&(iY(h,DH(a.e,0))||iY(h,DH(a.e,1))||iY(h,DH(a.e,2)))&&(s=!1);s&&(n.c[n.c.length]=h)}for(aTt(y,o),t4(y,new dt),d=new Wf(n);d.a<d.c.c.length;)kW(y,new Q$t(k,(h=jV(Q1(d),168)).a,h.b))}for(t4(y,new vg(g=new Lw)),r=g.a.ec().Kc();r.Ob();)(R9(u,(h=jV(r.Pb(),168)).a)||R9(u,h.b))&&r.Qb();return t4(g,new ft),g}function OGt(t){var e,n,i;switch(n=jV(wTt(t,(lKt(),Zhe)),21),e=yP(Ose),jV(wTt(t,(VGt(),ame)),334)==(sht(),pSe)&&Zot(e,Dse),Vv(kR(wTt(t,ome)))?fH(e,(yTt(),Lse),(hKt(),$ce)):fH(e,(yTt(),Bse),(hKt(),$ce)),null!=wTt(t,(C6(),kTe))&&Zot(e,Nse),(Vv(kR(wTt(t,gme)))||Vv(kR(wTt(t,sme))))&&WU(e,(yTt(),jse),(hKt(),tce)),jV(wTt(t,Upe),103).g){case 2:case 3:case 4:WU(fH(e,(yTt(),Lse),(hKt(),nce)),jse,ece)}switch(n.Hc((dRt(),che))&&WU(fH(fH(e,(yTt(),Lse),(hKt(),Jae)),Fse,Zae),jse,Qae),zI(wTt(t,Eme))!==zI((cNt(),Awe))&&fH(e,(yTt(),Bse),(hKt(),Oce)),n.Hc(phe)&&(fH(e,(yTt(),Lse),(hKt(),Fce)),fH(e,Rse,Rce),fH(e,Bse,Bce)),zI(wTt(t,Tpe))!==zI((ZTt(),ihe))&&zI(wTt(t,Zpe))!==zI((Eft(),YAe))&&WU(e,(yTt(),jse),(hKt(),pce)),Vv(kR(wTt(t,lme)))&&fH(e,(yTt(),Bse),(hKt(),gce)),Vv(kR(wTt(t,$pe)))&&fH(e,(yTt(),Bse),(hKt(),Wce)),BDt(t)&&(i=(zI(wTt(t,ame))===zI(pSe)?jV(wTt(t,Lpe),292):jV(wTt(t,Rpe),292))==(Bst(),vhe)?(hKt(),Lce):(hKt(),Yce),fH(e,(yTt(),Fse),i)),jV(wTt(t,Hbe),377).g){case 1:fH(e,(yTt(),Fse),(hKt(),Gce));break;case 2:WU(fH(fH(e,(yTt(),Bse),(hKt(),Gae)),Fse,Kae),jse,Yae)}return zI(wTt(t,Ppe))!==zI((wct(),Owe))&&fH(e,(yTt(),Bse),(hKt(),Kce)),e}function DGt(t){OT(t,new EEt(mk(dk(pk(gk(new ma,P5t),"ELK Rectangle Packing"),"Algorithm for packing of unconnected boxes, i.e. graphs without edges. The given order of the boxes is always preserved and the main reading direction of the boxes is left to right. The algorithm is divided into two phases. One phase approximates the width in which the rectangles can be placed. The next phase places the rectangles in rows using the previously calculated width as bounding width and bundles rectangles with a similar height in blocks. A compaction step reduces the size of the drawing. Finally, the rectangles are expanded to fill their bounding box and eliminate empty unused spaces."),new ta))),o2(t,P5t,KQt,1.3),o2(t,P5t,M5t,wbt(gxe)),o2(t,P5t,YQt,Axe),o2(t,P5t,bJt,15),o2(t,P5t,s3t,wbt(hxe)),o2(t,P5t,CJt,wbt(vxe)),o2(t,P5t,$Jt,wbt(_xe)),o2(t,P5t,TJt,wbt(kxe)),o2(t,P5t,AJt,wbt(yxe)),o2(t,P5t,EJt,wbt(xxe)),o2(t,P5t,SJt,wbt(Sxe)),o2(t,P5t,k5t,wbt(Txe)),o2(t,P5t,x5t,wbt(wxe)),o2(t,P5t,C5t,wbt(Exe)),o2(t,P5t,A5t,wbt(Ixe)),o2(t,P5t,S5t,wbt(pxe)),o2(t,P5t,_Jt,wbt(mxe)),o2(t,P5t,w3t,wbt(bxe)),o2(t,P5t,T5t,wbt(fxe)),o2(t,P5t,E5t,wbt(dxe)),o2(t,P5t,I5t,wbt(Pxe))}function NGt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f,g,p;if(null==n)return null;if(t.a!=e.Aj())throw $b(new Bv(g6t+e.ne()+p6t));if(iD(e,457)){if(!(p=TRt(jV(e,671),n)))throw $b(new Bv(m6t+n+"' is not a valid enumerator of '"+e.ne()+"'"));return p}switch(Aht((SAt(),XOe),e).cl()){case 2:n=jVt(n,!1);break;case 3:n=jVt(n,!0)}if(i=Aht(XOe,e).$k())return i.Aj().Nh().Kh(i,n);if(h=Aht(XOe,e).al()){for(p=new Ob,l=0,u=(c=ylt(n)).length;l<u;++l)a=c[l],WV(p,h.Aj().Nh().Kh(h,a));return p}if(!(g=Aht(XOe,e).bl()).dc()){for(f=g.Kc();f.Ob();){d=jV(f.Pb(),148);try{if(null!=(p=d.Aj().Nh().Kh(d,n)))return p}catch(t){if(!iD(t=hat(t),60))throw $b(t)}}throw $b(new Bv(m6t+n+"' does not match any member types of the union datatype '"+e.ne()+"'"))}if(jV(e,834).Fj(),!(r=Nht(e.Bj())))return null;if(r==Tee){o=0;try{o=hjt(n,FYt,LKt)&YYt}catch(t){if(!iD(t=hat(t),127))throw $b(t);o=G9(n)[0]}return uat(o)}if(r==wee){for(s=0;s<AMe.length;++s)try{return jT(AMe[s],n)}catch(t){if(!iD(t=hat(t),32))throw $b(t)}throw $b(new Bv(m6t+n+"' is not a date formatted string of the form yyyy-MM-dd'T'HH:mm:ss'.'SSSZ or a valid subset thereof"))}throw $b(new Bv(m6t+n+"' is invalid. "))}function LGt(t,e){var n,i,r,o,s,a,c,l;if(n=0,s=0,o=e.length,a=null,l=new A_,s<o&&(h1(s,e.length),43==e.charCodeAt(s))&&(++n,++s<o&&(h1(s,e.length),43==e.charCodeAt(s)||(h1(s,e.length),45==e.charCodeAt(s)))))throw $b(new x_(LXt+e+'"'));for(;s<o&&(h1(s,e.length),46!=e.charCodeAt(s))&&(h1(s,e.length),101!=e.charCodeAt(s))&&(h1(s,e.length),69!=e.charCodeAt(s));)++s;if(l.a+=""+lL(null==e?UKt:(yK(e),e),n,s),s<o&&(h1(s,e.length),46==e.charCodeAt(s))){for(n=++s;s<o&&(h1(s,e.length),101!=e.charCodeAt(s))&&(h1(s,e.length),69!=e.charCodeAt(s));)++s;t.e=s-n,l.a+=""+lL(null==e?UKt:(yK(e),e),n,s)}else t.e=0;if(s<o&&(h1(s,e.length),101==e.charCodeAt(s)||(h1(s,e.length),69==e.charCodeAt(s)))&&(n=++s,s<o&&(h1(s,e.length),43==e.charCodeAt(s))&&++s<o&&(h1(s,e.length),45!=e.charCodeAt(s))&&++n,a=e.substr(n,o-n),t.e=t.e-hjt(a,FYt,LKt),t.e!=CQ(t.e)))throw $b(new x_("Scale out of range."));if((c=l.a).length<16){if(t.f=(null==Kee&&(Kee=new RegExp("^[+-]?\\d*$","i")),Kee.test(c)?parseInt(c,10):NaN),isNaN(t.f))throw $b(new x_(LXt+e+'"'));t.a=oIt(t.f)}else upt(t,new MP(c));for(t.d=l.a.length,r=0;r<l.a.length&&(45==(i=lY(l.a,r))||48==i);++r)--t.d;0==t.d&&(t.d=1)}function RGt(){RGt=M,ZIt(lae=new pQ,(vWt(),dIe),mIe),ZIt(lae,xIe,mIe),ZIt(lae,xIe,yIe),ZIt(lae,cIe,pIe),ZIt(lae,cIe,mIe),ZIt(lae,fIe,mIe),ZIt(lae,fIe,bIe),ZIt(lae,_Ie,uIe),ZIt(lae,_Ie,mIe),ZIt(lae,wIe,hIe),ZIt(lae,wIe,mIe),ZIt(lae,wIe,bIe),ZIt(lae,wIe,uIe),ZIt(lae,hIe,wIe),ZIt(lae,hIe,yIe),ZIt(lae,hIe,pIe),ZIt(lae,hIe,mIe),ZIt(lae,vIe,vIe),ZIt(lae,vIe,bIe),ZIt(lae,vIe,yIe),ZIt(lae,gIe,gIe),ZIt(lae,gIe,bIe),ZIt(lae,gIe,pIe),ZIt(lae,kIe,kIe),ZIt(lae,kIe,uIe),ZIt(lae,kIe,yIe),ZIt(lae,lIe,lIe),ZIt(lae,lIe,uIe),ZIt(lae,lIe,pIe),ZIt(lae,bIe,fIe),ZIt(lae,bIe,wIe),ZIt(lae,bIe,vIe),ZIt(lae,bIe,gIe),ZIt(lae,bIe,mIe),ZIt(lae,bIe,bIe),ZIt(lae,bIe,yIe),ZIt(lae,bIe,pIe),ZIt(lae,uIe,_Ie),ZIt(lae,uIe,wIe),ZIt(lae,uIe,kIe),ZIt(lae,uIe,lIe),ZIt(lae,uIe,uIe),ZIt(lae,uIe,yIe),ZIt(lae,uIe,pIe),ZIt(lae,uIe,mIe),ZIt(lae,yIe,xIe),ZIt(lae,yIe,hIe),ZIt(lae,yIe,vIe),ZIt(lae,yIe,kIe),ZIt(lae,yIe,bIe),ZIt(lae,yIe,uIe),ZIt(lae,yIe,yIe),ZIt(lae,yIe,mIe),ZIt(lae,pIe,cIe),ZIt(lae,pIe,hIe),ZIt(lae,pIe,gIe),ZIt(lae,pIe,lIe),ZIt(lae,pIe,bIe),ZIt(lae,pIe,uIe),ZIt(lae,pIe,pIe),ZIt(lae,pIe,mIe),ZIt(lae,mIe,dIe),ZIt(lae,mIe,xIe),ZIt(lae,mIe,cIe),ZIt(lae,mIe,fIe),ZIt(lae,mIe,_Ie),ZIt(lae,mIe,wIe),ZIt(lae,mIe,hIe),ZIt(lae,mIe,bIe),ZIt(lae,mIe,uIe),ZIt(lae,mIe,yIe),ZIt(lae,mIe,pIe),ZIt(lae,mIe,mIe)}function BGt(t,e,n){var r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E;for(t.d=new DS(RXt,RXt),t.c=new DS(BXt,BXt),d=e.Kc();d.Ob();)for(y=new Wf(jV(d.Pb(),37).a);y.a<y.c.c.length;)w=jV(Q1(y),10),t.d.a=i.Math.min(t.d.a,w.n.a-w.d.b),t.d.b=i.Math.min(t.d.b,w.n.b-w.d.d),t.c.a=i.Math.max(t.c.a,w.n.a+w.o.a+w.d.c),t.c.b=i.Math.max(t.c.b,w.n.b+w.o.b+w.d.a);for(c=new Yw,h=e.Kc();h.Ob();)r=sGt(t,jV(h.Pb(),37)),WV(c.a,r),r.a=r.a|!jV(wTt(r.c,(lKt(),qhe)),21).dc();for(t.b=(Tut(),(E=new ve).f=new bit(n),E.b=aUt(E.f,c),E),_Ut((g=t.b,new qy,g)),t.e=new zk,t.a=t.b.f.e,a=new Wf(c.a);a.a<a.c.c.length;)for(o=jV(Q1(a),841),v=IQ(t.b,o),JBt(o.c,v.a,v.b),m=new Wf(o.c.a);m.a<m.c.c.length;)(p=jV(Q1(m),10)).k==(sCt(),xae)&&(b=hDt(t,p.n,jV(wTt(p,(lKt(),Khe)),61)),UB(yM(p.n),b));for(s=new Wf(c.a);s.a<s.c.c.length;)for(u=new Wf(fdt(o=jV(Q1(s),841)));u.a<u.c.c.length;)for(RL(x=new Rk((l=jV(Q1(u),17)).a),0,g1(l.c)),Nz(x,g1(l.d)),f=null,k=cbt(x,0);k.b!=k.d.c;)_=jV(h3(k),8),f?(snt(f.a,_.a)?(t.e.a=i.Math.min(t.e.a,f.a),t.a.a=i.Math.max(t.a.a,f.a)):snt(f.b,_.b)&&(t.e.b=i.Math.min(t.e.b,f.b),t.a.b=i.Math.max(t.a.b,f.b)),f=_):f=_;VL(t.e),UB(t.a,t.e)}function FGt(t){KOt(t.b,K8t,Cat(z_(Yee,1),cYt,2,6,[X8t,"ConsistentTransient"])),KOt(t.a,K8t,Cat(z_(Yee,1),cYt,2,6,[X8t,"WellFormedSourceURI"])),KOt(t.o,K8t,Cat(z_(Yee,1),cYt,2,6,[X8t,"InterfaceIsAbstract AtMostOneID UniqueFeatureNames UniqueOperationSignatures NoCircularSuperTypes WellFormedMapEntryClass ConsistentSuperTypes DisjointFeatureAndOperationSignatures"])),KOt(t.p,K8t,Cat(z_(Yee,1),cYt,2,6,[X8t,"WellFormedInstanceTypeName UniqueTypeParameterNames"])),KOt(t.v,K8t,Cat(z_(Yee,1),cYt,2,6,[X8t,"UniqueEnumeratorNames UniqueEnumeratorLiterals"])),KOt(t.R,K8t,Cat(z_(Yee,1),cYt,2,6,[X8t,"WellFormedName"])),KOt(t.T,K8t,Cat(z_(Yee,1),cYt,2,6,[X8t,"UniqueParameterNames UniqueTypeParameterNames NoRepeatingVoid"])),KOt(t.U,K8t,Cat(z_(Yee,1),cYt,2,6,[X8t,"WellFormedNsURI WellFormedNsPrefix UniqueSubpackageNames UniqueClassifierNames UniqueNsURIs"])),KOt(t.W,K8t,Cat(z_(Yee,1),cYt,2,6,[X8t,"ConsistentOpposite SingleContainer ConsistentKeys ConsistentUnique ConsistentContainer"])),KOt(t.bb,K8t,Cat(z_(Yee,1),cYt,2,6,[X8t,"ValidDefaultValueLiteral"])),KOt(t.eb,K8t,Cat(z_(Yee,1),cYt,2,6,[X8t,"ValidLowerBound ValidUpperBound ConsistentBounds ValidType"])),KOt(t.H,K8t,Cat(z_(Yee,1),cYt,2,6,[X8t,"ConsistentType ConsistentBounds ConsistentArguments"]))}function jGt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_;if(!e.dc()){if(r=new yy,h=(s=n||jV(e.Xb(0),17)).c,pLt(),(l=h.i.k)!=(sCt(),Cae)&&l!=Aae&&l!=xae&&l!=kae)throw $b(new Bv("The target node of the edge must be a normal node or a northSouthPort."));for(lM(r,Mct(Cat(z_(TTe,1),cYt,8,0,[h.i.n,h.n,h.a]))),(vWt(),wIe).Hc(h.j)&&(f=zv(xR(wTt(h,(lKt(),Pde)))),n4(r,new DS(Mct(Cat(z_(TTe,1),cYt,8,0,[h.i.n,h.n,h.a])).a,f),r.c.b,r.c)),c=null,i=!1,a=e.Kc();a.Ob();)0!=(o=jV(a.Pb(),17).a).b&&(i?(n4(r,yD(UB(c,(TL(0!=o.b),jV(o.a.a.c,8))),.5),r.c.b,r.c),i=!1):i=!0,c=jO((TL(0!=o.b),jV(o.c.b.c,8))),jrt(r,o),wX(o));d=s.d,wIe.Hc(d.j)&&(f=zv(xR(wTt(d,(lKt(),Pde)))),n4(r,new DS(Mct(Cat(z_(TTe,1),cYt,8,0,[d.i.n,d.n,d.a])).a,f),r.c.b,r.c)),lM(r,Mct(Cat(z_(TTe,1),cYt,8,0,[d.i.n,d.n,d.a]))),t.d==(qlt(),tye)&&(TL(0!=r.b),g=jV(r.a.a.c,8),p=jV(Lbt(r,1),8),(m=new qJ(llt(h.j))).a*=5,m.b*=5,b=qB(new DS(p.a,p.b),g),UB(w=new DS(eJ(m.a,b.a),eJ(m.b,b.b)),g),QW(cbt(r,1),w),TL(0!=r.b),y=jV(r.c.b.c,8),v=jV(Lbt(r,r.b-2),8),(m=new qJ(llt(d.j))).a*=5,m.b*=5,b=qB(new DS(v.a,v.b),y),UB(_=new DS(eJ(m.a,b.a),eJ(m.b,b.b)),y),RL(r,r.b-1,_)),u=new aVt(r),jrt(s.a,jwt(u))}}function $Gt(t,e,n,r){var o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C,A,S,I,M,P,O,D,N,L;if(v=(w=jV(Get((!t.b&&(t.b=new cF(LMe,t,4,7)),t.b),0),82)).Dg(),_=w.Eg(),y=w.Cg()/2,g=w.Bg()/2,iD(w,186)&&(v+=WQ(b=jV(w,118)).i,v+=WQ(b).i),v+=y,_+=g,S=(C=jV(Get((!t.b&&(t.b=new cF(LMe,t,4,7)),t.b),0),82)).Dg(),I=C.Eg(),A=C.Cg()/2,k=C.Bg()/2,iD(C,186)&&(S+=WQ(T=jV(C,118)).i,S+=WQ(T).i),S+=A,I+=k,0==(!t.a&&(t.a=new tW(BMe,t,6,6)),t.a).i)Jk(),c=new sc,l8((!t.a&&(t.a=new tW(BMe,t,6,6)),t.a),c);else if((!t.a&&(t.a=new tW(BMe,t,6,6)),t.a).i>1)for(f=new iL((!t.a&&(t.a=new tW(BMe,t,6,6)),t.a));f.e!=f.i.gc();)Ykt(f);for(p=S,S>v+y?p=v+y:S<v-y&&(p=v-y),m=I,I>_+g?m=_+g:I<_-g&&(m=_-g),p>v-y&&p<v+y&&m>_-g&&m<_+g&&(p=v+y),Snt(a=jV(Get((!t.a&&(t.a=new tW(BMe,t,6,6)),t.a),0),202),p),Mnt(a,m),x=v,v>S+A?x=S+A:v<S-A&&(x=S-A),E=_,_>I+k?E=I+k:_<I-k&&(E=I-k),x>S-A&&x<S+A&&E>I-k&&E<I+k&&(E=I+k),xnt(a,x),Int(a,E),cHt((!a.a&&(a.a=new MD(OMe,a,5)),a.a)),s=mwt(e,5),w==C&&++s,P=x-p,N=E-m,u=.20000000298023224*i.Math.sqrt(P*P+N*N),O=P/(s+1),L=N/(s+1),M=p,D=m,l=0;l<s;l++)D+=L,(h=(M+=O)+VOt(e,24)*sZt*u-u/2)<0?h=1:h>n&&(h=n-1),(d=D+VOt(e,24)*sZt*u-u/2)<0?d=1:d>r&&(d=r-1),Jk(),_nt(o=new oc,h),knt(o,d),l8((!a.a&&(a.a=new MD(OMe,a,5)),a.a),o)}function VGt(){VGt=M,cKt(),pbe=vAe,mbe=_Ae,bbe=kAe,wbe=xAe,vbe=EAe,_be=TAe,Ebe=AAe,Cbe=IAe,Abe=MAe,Tbe=SAe,Sbe=PAe,Mbe=OAe,Obe=LAe,xbe=CAe,uKt(),gbe=Bge,ybe=Fge,kbe=jge,Ibe=$ge,cbe=new qP(pAe,ndt(0)),lbe=Nge,ube=Lge,hbe=Rge,Hbe=upe,Lbe=Hge,Rbe=Wge,jbe=tpe,Bbe=Yge,Fbe=Zge,qbe=ppe,Ube=dpe,Vbe=spe,$be=rpe,zbe=cpe,Lme=Tge,Rme=Cge,nme=Rfe,ime=jfe,Ume=new WP(12),Hme=new qP(qCe,Ume),Eft(),Zpe=new qP(mCe,Qpe=KAe),Jme=new qP(rAe,0),dbe=new qP(mAe,ndt(1)),_pe=new qP(iCe,gJt),zme=HCe,tbe=oAe,obe=dAe,Hpe=uCe,ype=eCe,ame=_Ce,fbe=new qP(yAe,(cN(),!0)),dme=ECe,fme=TCe,Fme=RCe,Vme=VCe,jme=FCe,jht(),Upe=new qP(hCe,Wpe=jAe),Mme=NCe,Ime=OCe,ibe=lAe,nbe=cAe,rbe=hAe,rbt(),new qP(ZCe,Gme=VSe),Yme=tAe,Xme=eAe,Zme=nAe,Kme=JCe,Nbe=zge,Tme=uge,Eme=cge,Dbe=Vge,yme=tge,zpe=kfe,Vpe=vfe,Dpe=ofe,Npe=sfe,Rpe=hfe,Lpe=afe,$pe=wfe,Ame=dge,Sme=fge,pme=Gfe,Bme=Mge,Ome=bge,ome=zfe,Nme=xge,tme=Ofe,eme=Nfe,Ope=cCe,Pme=gge,Tpe=Kde,Epe=Wde,xpe=qde,lme=qfe,cme=Ufe,ume=Wfe,$me=jCe,mme=SCe,rme=wCe,Ype=gCe,Kpe=fCe,Bpe=gfe,ebe=aAe,kpe=aCe,hme=xCe,Qme=iAe,qme=GCe,Wme=YCe,_me=ige,kme=oge,abe=gAe,vpe=Ude,xme=age,Xpe=Sfe,Gpe=Cfe,Cme=MCe,bme=Zfe,Dme=vge,Pbe=DAe,qpe=Efe,sbe=Oge,Jpe=Mfe,wme=Jfe,Fpe=mfe,gme=ACe,vme=nge,jpe=bfe,Ppe=ife,Ipe=tfe,Ape=Qde,Spe=Jde,Mpe=nfe,Cpe=Xde,sme=Hfe}function zGt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C,A,S;if(szt(),E=t.e,g=t.d,r=t.a,0==E)switch(e){case 0:return"0";case 1:return GXt;case 2:return"0.00";case 3:return"0.000";case 4:return"0.0000";case 5:return"0.00000";case 6:return"0.000000";default:return(k=new C_).a+=e<0?"0E+":"0E",k.a+=-e,k.a}if(v=D7(ANe,GYt,25,1+(y=10*g+1+7),15,1),n=y,1==g)if((a=r[0])<0){S=t0(a,qXt);do{p=S,S=Ikt(S,10),v[--n]=48+fU(nft(p,rft(S,10)))&YYt}while(0!=Kut(S,0))}else{S=a;do{p=S,S=S/10|0,v[--n]=p-10*S+48&YYt}while(0!=S)}else{ozt(r,0,C=D7(SNe,lXt,25,g,15,1),0,A=g);t:for(;;){for(x=0,l=A-1;l>=0;l--)b=uEt(ift(wq(x,32),t0(C[l],qXt))),C[l]=fU(b),x=fU(yq(b,32));w=fU(x),m=n;do{v[--n]=48+w%10&YYt}while(0!=(w=w/10|0)&&0!=n);for(i=9-m+n,c=0;c<i&&n>0;c++)v[--n]=48;for(h=A-1;0==C[h];h--)if(0==h)break t;A=h+1}for(;48==v[n];)++n}if(f=E<0,s=y-n-e-1,0==e)return f&&(v[--n]=45),$pt(v,n,y-n);if(e>0&&s>=-6){if(s>=0){for(u=n+s,d=y-1;d>=u;d--)v[d+1]=v[d];return v[++u]=46,f&&(v[--n]=45),$pt(v,n,y-n+1)}for(h=2;h<1-s;h++)v[--n]=48;return v[--n]=46,v[--n]=48,f&&(v[--n]=45),$pt(v,n,y-n)}return T=n+1,o=y,_=new A_,f&&(_.a+="-"),o-T>=1?(DG(_,v[n]),_.a+=".",_.a+=$pt(v,n+1,y-n-1)):_.a+=$pt(v,n,y-n),_.a+="E",s>0&&(_.a+="+"),_.a+=""+s,_.a}function HGt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_;switch(t.c=e,t.g=new Db,zT(),tgt(new Tg(new Nv(t.c))),w=ER(QPt(t.c,(ETt(),fEe))),a=jV(QPt(t.c,pEe),316),v=jV(QPt(t.c,mEe),429),o=jV(QPt(t.c,cEe),482),y=jV(QPt(t.c,gEe),430),t.j=zv(xR(QPt(t.c,bEe))),s=t.a,a.g){case 0:s=t.a;break;case 1:s=t.b;break;case 2:s=t.i;break;case 3:s=t.e;break;case 4:s=t.f;break;default:throw $b(new Bv(D5t+(null!=a.f?a.f:""+a.g)))}if(t.d=new NQ(s,v,o),lct(t.d,(Wot(),Kre),kR(QPt(t.c,uEe))),t.d.c=Vv(kR(QPt(t.c,lEe))),0==YX(t.c).i)return t.d;for(u=new ID(YX(t.c));u.e!=u.i.gc();){for(d=(l=jV(vbt(u),33)).g/2,h=l.f/2,_=new DS(l.i+d,l.j+h);cW(t.g,_);)BL(_,(i.Math.random()-.5)*hJt,(i.Math.random()-.5)*hJt);g=jV(QPt(l,(cKt(),MCe)),142),p=new IJ(_,new UY(_.a-d-t.j/2-g.b,_.b-h-t.j/2-g.d,l.g+t.j+(g.b+g.c),l.f+t.j+(g.d+g.a))),WV(t.d.i,p),GK(t.g,_,new nI(p,l))}switch(y.g){case 0:if(null==w)t.d.d=jV(DH(t.d.i,0),65);else for(b=new Wf(t.d.i);b.a<b.c.c.length;)p=jV(Q1(b),65),null!=(f=jV(jV(LG(t.g,p.a),46).b,33).zg())&&bF(f,w)&&(t.d.d=p);break;case 1:for((n=new DS(t.c.g,t.c.f)).a*=.5,n.b*=.5,BL(n,t.c.i,t.c.j),r=RXt,m=new Wf(t.d.i);m.a<m.c.c.length;)(c=W7((p=jV(Q1(m),65)).a,n))<r&&(r=c,t.d.d=p);break;default:throw $b(new Bv(D5t+(null!=y.f?y.f:""+y.g)))}return t.d}function UGt(t,e,n){var r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x;for(k=jV(Get((!t.a&&(t.a=new tW(BMe,t,6,6)),t.a),0),202),h=new yy,_=new Db,x=t$t(k),_St(_.f,k,x),f=new Db,r=new YE,p=OW(Gnt(Cat(z_(Nte,1),VKt,20,0,[(!e.d&&(e.d=new cF(RMe,e,8,5)),e.d),(!e.e&&(e.e=new cF(RMe,e,7,4)),e.e)])));gPt(p);){if(g=jV(U4(p),79),1!=(!t.a&&(t.a=new tW(BMe,t,6,6)),t.a).i)throw $b(new Bv($4t+(!t.a&&(t.a=new tW(BMe,t,6,6)),t.a).i));g!=t&&(n4(r,b=jV(Get((!g.a&&(g.a=new tW(BMe,g,6,6)),g.a),0),202),r.c.b,r.c),(m=jV(VI(IZ(_.f,b)),12))||(m=t$t(b),_St(_.f,b,m)),d=n?qB(new dP(jV(DH(x,x.c.length-1),8)),jV(DH(m,m.c.length-1),8)):qB(new dP((u1(0,x.c.length),jV(x.c[0],8))),(u1(0,m.c.length),jV(m.c[0],8))),_St(f.f,b,d))}if(0!=r.b)for(w=jV(DH(x,n?x.c.length-1:0),8),u=1;u<x.c.length;u++){for(y=jV(DH(x,n?x.c.length-1-u:u),8),o=cbt(r,0);o.b!=o.d.c;)b=jV(h3(o),202),(m=jV(VI(IZ(_.f,b)),12)).c.length<=u?wet(o):(v=UB(new dP(jV(DH(m,n?m.c.length-1-u:u),8)),jV(VI(IZ(f.f,b)),8)),y.a==v.a&&y.b==v.b||(s=y.a-w.a,c=y.b-w.b,(a=v.a-w.a)*c==(l=v.b-w.b)*s&&(0==s||isNaN(s)?s:s<0?-1:1)==(0==a||isNaN(a)?a:a<0?-1:1)&&(0==c||isNaN(c)?c:c<0?-1:1)==(0==l||isNaN(l)?l:l<0?-1:1)?(i.Math.abs(s)<i.Math.abs(a)||i.Math.abs(c)<i.Math.abs(l))&&n4(h,y,h.c.b,h.c):u>1&&n4(h,w,h.c.b,h.c),wet(o)));w=y}return h}function qGt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C,A,S,I,M,P;for(IEt(n,"Greedy cycle removal",1),P=(y=e.a).c.length,t.a=D7(SNe,lXt,25,P,15,1),t.c=D7(SNe,lXt,25,P,15,1),t.b=D7(SNe,lXt,25,P,15,1),l=0,b=new Wf(y);b.a<b.c.c.length;){for((p=jV(Q1(b),10)).p=l,E=new Wf(p.j);E.a<E.c.c.length;){for(a=new Wf((_=jV(Q1(E),11)).e);a.a<a.c.c.length;)(i=jV(Q1(a),17)).c.i!=p&&(C=jV(wTt(i,(VGt(),lbe)),19).a,t.a[l]+=C>0?C+1:1);for(s=new Wf(_.g);s.a<s.c.c.length;)(i=jV(Q1(s),17)).d.i!=p&&(C=jV(wTt(i,(VGt(),lbe)),19).a,t.c[l]+=C>0?C+1:1)}0==t.c[l]?Nz(t.e,p):0==t.a[l]&&Nz(t.f,p),++l}for(g=-1,f=1,h=new Ob,t.d=jV(wTt(e,(lKt(),Ede)),230);P>0;){for(;0!=t.e.b;)S=jV(fz(t.e),10),t.b[S.p]=g--,YFt(t,S),--P;for(;0!=t.f.b;)I=jV(fz(t.f),10),t.b[I.p]=f++,YFt(t,I),--P;if(P>0){for(d=FYt,w=new Wf(y);w.a<w.c.c.length;)p=jV(Q1(w),10),0==t.b[p.p]&&(v=t.c[p.p]-t.a[p.p])>=d&&(v>d&&(h.c=D7(Mte,VKt,1,0,5,1),d=v),h.c[h.c.length]=p);u=t.Zf(h),t.b[u.p]=f++,YFt(t,u),--P}}for(A=y.c.length+1,l=0;l<y.c.length;l++)t.b[l]<0&&(t.b[l]+=A);for(m=new Wf(y);m.a<m.c.c.length;)for(x=0,T=(k=A2((p=jV(Q1(m),10)).j)).length;x<T;++x)for(o=0,c=(r=Z0((_=k[x]).g)).length;o<c;++o)M=(i=r[o]).d.i.p,t.b[p.p]>t.b[M]&&(tVt(i,!0),lct(e,Vhe,(cN(),!0)));t.a=null,t.c=null,t.b=null,wX(t.f),wX(t.e),VCt(n)}function WGt(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b;for(i=new Ob,a=new Ob,m=e/2,f=t.gc(),r=jV(t.Xb(0),8),b=jV(t.Xb(1),8),WV(i,(u1(0,(g=YPt(r.a,r.b,b.a,b.b,m)).c.length),jV(g.c[0],8))),WV(a,(u1(1,g.c.length),jV(g.c[1],8))),l=2;l<f;l++)p=r,r=b,b=jV(t.Xb(l),8),WV(i,(u1(1,(g=YPt(r.a,r.b,p.a,p.b,m)).c.length),jV(g.c[1],8))),WV(a,(u1(0,g.c.length),jV(g.c[0],8))),WV(i,(u1(0,(g=YPt(r.a,r.b,b.a,b.b,m)).c.length),jV(g.c[0],8))),WV(a,(u1(1,g.c.length),jV(g.c[1],8)));for(WV(i,(u1(1,(g=YPt(b.a,b.b,r.a,r.b,m)).c.length),jV(g.c[1],8))),WV(a,(u1(0,g.c.length),jV(g.c[0],8))),n=new yy,s=new Ob,Nz(n,(u1(0,i.c.length),jV(i.c[0],8))),u=1;u<i.c.length-2;u+=2)u1(u,i.c.length),o=jV(i.c[u],8),d=zAt((u1(u-1,i.c.length),jV(i.c[u-1],8)),o,(u1(u+1,i.c.length),jV(i.c[u+1],8)),(u1(u+2,i.c.length),jV(i.c[u+2],8))),isFinite(d.a)&&isFinite(d.b)?n4(n,d,n.c.b,n.c):n4(n,o,n.c.b,n.c);for(Nz(n,jV(DH(i,i.c.length-1),8)),WV(s,(u1(0,a.c.length),jV(a.c[0],8))),h=1;h<a.c.length-2;h+=2)u1(h,a.c.length),o=jV(a.c[h],8),d=zAt((u1(h-1,a.c.length),jV(a.c[h-1],8)),o,(u1(h+1,a.c.length),jV(a.c[h+1],8)),(u1(h+2,a.c.length),jV(a.c[h+2],8))),isFinite(d.a)&&isFinite(d.b)?s.c[s.c.length]=d:s.c[s.c.length]=o;for(WV(s,jV(DH(a,a.c.length-1),8)),c=s.c.length-1;c>=0;c--)Nz(n,(u1(c,s.c.length),jV(s.c[c],8)));return n}function GGt(t){var e,n,i,r,o,s,a,c,l,u,h,d,f;if(s=!0,h=null,i=null,r=null,e=!1,f=wPe,l=null,o=null,(c=Kmt(t,a=0,SPe,IPe))<t.length&&(h1(c,t.length),58==t.charCodeAt(c))&&(h=t.substr(a,c-a),a=c+1),n=null!=h&&DE(yPe,h.toLowerCase())){if(-1==(c=t.lastIndexOf("!/")))throw $b(new Bv("no archive separator"));s=!0,i=lL(t,a,++c),a=c}else a>=0&&bF(t.substr(a,2),"//")?(c=Kmt(t,a+=2,MPe,PPe),i=t.substr(a,c-a),a=c):null==h||a!=t.length&&(h1(a,t.length),47==t.charCodeAt(a))||(s=!1,-1==(c=wN(t,XEt(35),a))&&(c=t.length),i=t.substr(a,c-a),a=c);if(!n&&a<t.length&&(h1(a,t.length),47==t.charCodeAt(a))&&(c=Kmt(t,a+1,MPe,PPe),(u=t.substr(a+1,c-(a+1))).length>0&&58==lY(u,u.length-1)&&(r=u,a=c)),a<t.length&&(h1(a,t.length),47==t.charCodeAt(a))&&(++a,e=!0),a<t.length&&(h1(a,t.length),63!=t.charCodeAt(a))&&(h1(a,t.length),35!=t.charCodeAt(a))){for(d=new Ob;a<t.length&&(h1(a,t.length),63!=t.charCodeAt(a))&&(h1(a,t.length),35!=t.charCodeAt(a));)c=Kmt(t,a,MPe,PPe),WV(d,t.substr(a,c-a)),(a=c)<t.length&&(h1(a,t.length),47==t.charCodeAt(a))&&(Yut(t,++a)||(d.c[d.c.length]=""));Ymt(d,f=D7(Yee,cYt,2,d.c.length,6,1))}return a<t.length&&(h1(a,t.length),63==t.charCodeAt(a))&&(-1==(c=uL(t,35,++a))&&(c=t.length),l=t.substr(a,c-a),a=c),a<t.length&&(o=QI(t,++a)),fUt(s,h,i,r,f,l),new iBt(s,h,i,r,e,f,l,o)}function KGt(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C,A,S,I,M,P,O;for(M=new Ob,g=new Wf(e.b);g.a<g.c.c.length;)for(_=new Wf(jV(Q1(g),29).a);_.a<_.c.c.length;){for((v=jV(Q1(_),10)).p=-1,d=FYt,E=FYt,C=new Wf(v.j);C.a<C.c.c.length;){for(o=new Wf((T=jV(Q1(C),11)).e);o.a<o.c.c.length;)n=jV(Q1(o),17),A=jV(wTt(n,(VGt(),hbe)),19).a,d=i.Math.max(d,A);for(r=new Wf(T.g);r.a<r.c.c.length;)n=jV(Q1(r),17),A=jV(wTt(n,(VGt(),hbe)),19).a,E=i.Math.max(E,A)}lct(v,qye,ndt(d)),lct(v,Wye,ndt(E))}for(b=0,f=new Wf(e.b);f.a<f.c.c.length;)for(_=new Wf(jV(Q1(f),29).a);_.a<_.c.c.length;)(v=jV(Q1(_),10)).p<0&&((I=new ny).b=b++,_Bt(t,v,I),M.c[M.c.length]=I);for(x=aL(M.c.length),h=aL(M.c.length),a=0;a<M.c.length;a++)WV(x,new Ob),WV(h,ndt(0));for(bqt(e,M,x,h),P=jV(Ymt(M,D7(Yye,I3t,257,M.c.length,0,1)),840),k=jV(Ymt(x,D7(Rte,JQt,15,x.c.length,0,1)),192),u=D7(SNe,lXt,25,h.c.length,15,1),c=0;c<u.length;c++)u[c]=(u1(c,h.c.length),jV(h.c[c],19)).a;for(w=0,y=new Ob,l=0;l<P.length;l++)0==u[l]&&WV(y,P[l]);for(m=D7(SNe,lXt,25,P.length,15,1);0!=y.c.length;)for(m[(I=jV(a6(y,0),257)).b]=w++;!k[I.b].dc();)--u[(O=jV(k[I.b].$c(0),257)).b],0==u[O.b]&&(y.c[y.c.length]=O);for(t.a=D7(Yye,I3t,257,P.length,0,1),s=0;s<P.length;s++)for(p=P[s],S=m[s],t.a[S]=p,p.b=S,_=new Wf(p.e);_.a<_.c.c.length;)(v=jV(Q1(_),10)).p=S;return t.a}function YGt(t){var e,n,i;if(t.d>=t.j)return t.a=-1,void(t.c=1);if(e=lY(t.i,t.d++),t.a=e,1!=t.b){switch(e){case 124:i=2;break;case 42:i=3;break;case 43:i=4;break;case 63:i=5;break;case 41:i=7;break;case 46:i=8;break;case 91:i=9;break;case 94:i=11;break;case 36:i=12;break;case 40:if(i=6,t.d>=t.j)break;if(63!=lY(t.i,t.d))break;if(++t.d>=t.j)throw $b(new r_(vKt((oO(),m7t))));switch(e=lY(t.i,t.d++)){case 58:i=13;break;case 61:i=14;break;case 33:i=15;break;case 91:i=19;break;case 62:i=18;break;case 60:if(t.d>=t.j)throw $b(new r_(vKt((oO(),m7t))));if(61==(e=lY(t.i,t.d++)))i=16;else{if(33!=e)throw $b(new r_(vKt((oO(),b7t))));i=17}break;case 35:for(;t.d<t.j&&41!=(e=lY(t.i,t.d++)););if(41!=e)throw $b(new r_(vKt((oO(),w7t))));i=21;break;default:if(45==e||97<=e&&e<=122||65<=e&&e<=90){--t.d,i=22;break}if(40==e){i=23;break}throw $b(new r_(vKt((oO(),m7t))))}break;case 92:if(i=10,t.d>=t.j)throw $b(new r_(vKt((oO(),p7t))));t.a=lY(t.i,t.d++);break;default:i=0}t.c=i}else{switch(e){case 92:if(i=10,t.d>=t.j)throw $b(new r_(vKt((oO(),p7t))));t.a=lY(t.i,t.d++);break;case 45:!(512&~t.e)&&t.d<t.j&&91==lY(t.i,t.d)?(++t.d,i=24):i=0;break;case 91:if(512&~t.e&&t.d<t.j&&58==lY(t.i,t.d)){++t.d,i=20;break}default:(64512&e)==VXt&&t.d<t.j&&56320==(64512&(n=lY(t.i,t.d)))&&(t.a=$Xt+(e-VXt<<10)+n-56320,++t.d),i=0}t.c=i}}function XGt(t){var e,n,i,r,o,s,a,c,l,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C,A;if((k=jV(wTt(t,(VGt(),tbe)),98))!=(Yxt(),KSe)&&k!=YSe){for(l=new X6((hit((f=(g=t.b).c.length)+2,DYt),Jtt(ift(ift(5,f+2),(f+2)/10|0)))),p=new X6((hit(f+2,DYt),Jtt(ift(ift(5,f+2),(f+2)/10|0)))),WV(l,new Db),WV(l,new Db),WV(p,new Ob),WV(p,new Ob),_=new Ob,e=0;e<f;e++)for(u1(e,g.c.length),n=jV(g.c[e],29),u1(e,l.c.length),x=jV(l.c[e],83),m=new Db,l.c[l.c.length]=m,u1(e,p.c.length),T=jV(p.c[e],15),w=new Ob,p.c[p.c.length]=w,r=new Wf(n.a);r.a<r.c.c.length;)if(rdt(i=jV(Q1(r),10)))_.c[_.c.length]=i;else{for(c=new sq(ZD(uft(i).a.Kc(),new u));gPt(c);)rdt(C=(s=jV(U4(c),17)).c.i)&&((E=jV(x.xc(wTt(C,(lKt(),fde))),10))||(E=aIt(t,C),x.zc(wTt(C,fde),E),T.Fc(E)),EJ(s,jV(DH(E.j,1),11)));for(a=new sq(ZD(hft(i).a.Kc(),new u));gPt(a);)rdt(A=(s=jV(U4(a),17)).d.i)&&((b=jV(LG(m,wTt(A,(lKt(),fde))),10))||(b=aIt(t,A),GK(m,wTt(A,fde),b),w.c[w.c.length]=b),xJ(s,jV(DH(b.j,0),11)))}for(h=0;h<p.c.length;h++)if(u1(h,p.c.length),!(y=jV(p.c[h],15)).dc())for(d=null,0==h?(d=new $G(t),PJ(0,g.c.length),xC(g.c,0,d)):h==l.c.length-1?(d=new $G(t),g.c[g.c.length]=d):(u1(h-1,g.c.length),d=jV(g.c[h-1],29)),o=y.Kc();o.Ob();)TJ(jV(o.Pb(),10),d);for(v=new Wf(_);v.a<v.c.c.length;)TJ(jV(Q1(v),10),null);lct(t,(lKt(),Whe),_)}}function ZGt(t,e,n){var i,r,o,s,a,c,l,h,d,f,g,p,m,b,w,y,v,_,k;if(IEt(n,"Coffman-Graham Layering",1),0!=e.a.c.length){for(k=jV(wTt(e,(VGt(),bme)),19).a,c=0,s=0,f=new Wf(e.a);f.a<f.c.c.length;)for((d=jV(Q1(f),10)).p=c++,o=new sq(ZD(hft(d).a.Kc(),new u));gPt(o);)(r=jV(U4(o),17)).p=s++;for(t.d=D7(INe,QZt,25,c,16,1),t.a=D7(INe,QZt,25,s,16,1),t.b=D7(SNe,lXt,25,c,15,1),t.e=D7(SNe,lXt,25,c,15,1),t.f=D7(SNe,lXt,25,c,15,1),fit(t.c),ixt(t,e),p=new qq(new Np(t)),_=new Wf(e.a);_.a<_.c.c.length;){for(o=new sq(ZD(uft(y=jV(Q1(_),10)).a.Kc(),new u));gPt(o);)r=jV(U4(o),17),t.a[r.p]||++t.b[y.p];0==t.b[y.p]&&F7(eTt(p,y))}for(a=0;0!=p.b.c.length;)for(y=jV(btt(p),10),t.f[y.p]=a++,o=new sq(ZD(hft(y).a.Kc(),new u));gPt(o);)r=jV(U4(o),17),t.a[r.p]||(b=r.d.i,--t.b[b.p],ZIt(t.c,b,ndt(t.f[y.p])),0==t.b[b.p]&&F7(eTt(p,b)));for(g=new qq(new Lp(t)),v=new Wf(e.a);v.a<v.c.c.length;){for(o=new sq(ZD(hft(y=jV(Q1(v),10)).a.Kc(),new u));gPt(o);)r=jV(U4(o),17),t.a[r.p]||++t.e[y.p];0==t.e[y.p]&&F7(eTt(g,y))}for(i=n1(e,h=new Ob);0!=g.b.c.length;)for(w=jV(btt(g),10),(i.a.c.length>=k||!Dpt(w,i))&&(i=n1(e,h)),TJ(w,i),o=new sq(ZD(uft(w).a.Kc(),new u));gPt(o);)r=jV(U4(o),17),t.a[r.p]||(m=r.c.i,--t.e[m.p],0==t.e[m.p]&&F7(eTt(g,m)));for(l=h.c.length-1;l>=0;--l)WV(e.b,(u1(l,h.c.length),jV(h.c[l],29)));e.a.c=D7(Mte,VKt,1,0,5,1),VCt(n)}else VCt(n)}function QGt(t){var e,n,i,r,o,s,a,c;for(t.b=1,YGt(t),e=null,0==t.c&&94==t.a?(YGt(t),fKt(),fKt(),XLt(e=new x0(4),0,ste),s=new x0(4)):(fKt(),fKt(),s=new x0(4)),r=!0;1!=(c=t.c);){if(0==c&&93==t.a&&!r){e&&(GUt(e,s),s=e);break}if(n=t.a,i=!1,10==c)switch(n){case 100:case 68:case 119:case 87:case 115:case 83:czt(s,gjt(n)),i=!0;break;case 105:case 73:case 99:case 67:czt(s,gjt(n)),(n=-1)<0&&(i=!0);break;case 112:case 80:if(!(a=LIt(t,n)))throw $b(new r_(vKt((oO(),I7t))));czt(s,a),i=!0;break;default:n=zRt(t)}else if(24==c&&!r){if(e&&(GUt(e,s),s=e),GUt(s,QGt(t)),0!=t.c||93!=t.a)throw $b(new r_(vKt((oO(),D7t))));break}if(YGt(t),!i){if(0==c){if(91==n)throw $b(new r_(vKt((oO(),N7t))));if(93==n)throw $b(new r_(vKt((oO(),L7t))));if(45==n&&!r&&93!=t.a)throw $b(new r_(vKt((oO(),R7t))))}if(0!=t.c||45!=t.a||45==n&&r)XLt(s,n,n);else{if(YGt(t),1==(c=t.c))throw $b(new r_(vKt((oO(),P7t))));if(0==c&&93==t.a)XLt(s,n,n),XLt(s,45,45);else{if(0==c&&93==t.a||24==c)throw $b(new r_(vKt((oO(),R7t))));if(o=t.a,0==c){if(91==o)throw $b(new r_(vKt((oO(),N7t))));if(93==o)throw $b(new r_(vKt((oO(),L7t))));if(45==o)throw $b(new r_(vKt((oO(),R7t))))}else 10==c&&(o=zRt(t));if(YGt(t),n>o)throw $b(new r_(vKt((oO(),j7t))));XLt(s,n,o)}}}r=!1}if(1==t.c)throw $b(new r_(vKt((oO(),P7t))));return xOt(s),zzt(s),t.b=0,YGt(t),s}function JGt(t){KOt(t.c,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"http://www.w3.org/2001/XMLSchema#decimal"])),KOt(t.d,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"http://www.w3.org/2001/XMLSchema#integer"])),KOt(t.e,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"http://www.w3.org/2001/XMLSchema#boolean"])),KOt(t.f,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"EBoolean",t7t,"EBoolean:Object"])),KOt(t.i,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"http://www.w3.org/2001/XMLSchema#byte"])),KOt(t.g,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"http://www.w3.org/2001/XMLSchema#hexBinary"])),KOt(t.j,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"EByte",t7t,"EByte:Object"])),KOt(t.n,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"EChar",t7t,"EChar:Object"])),KOt(t.t,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"http://www.w3.org/2001/XMLSchema#double"])),KOt(t.u,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"EDouble",t7t,"EDouble:Object"])),KOt(t.F,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"http://www.w3.org/2001/XMLSchema#float"])),KOt(t.G,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"EFloat",t7t,"EFloat:Object"])),KOt(t.I,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"http://www.w3.org/2001/XMLSchema#int"])),KOt(t.J,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"EInt",t7t,"EInt:Object"])),KOt(t.N,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"http://www.w3.org/2001/XMLSchema#long"])),KOt(t.O,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"ELong",t7t,"ELong:Object"])),KOt(t.Z,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"http://www.w3.org/2001/XMLSchema#short"])),KOt(t.$,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"EShort",t7t,"EShort:Object"])),KOt(t._,F8t,Cat(z_(Yee,1),cYt,2,6,[Z8t,"http://www.w3.org/2001/XMLSchema#string"]))}function tKt(t){var e,n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C,A,S;if(1==t.c.length)return u1(0,t.c.length),jV(t.c[0],135);if(t.c.length<=0)return new T6;for(l=new Wf(t);l.a<l.c.c.length;){for(a=jV(Q1(l),135),y=0,p=LKt,m=LKt,f=FYt,g=FYt,w=cbt(a.b,0);w.b!=w.d.c;)b=jV(h3(w),86),y+=jV(wTt(b,(APt(),M_e)),19).a,p=i.Math.min(p,b.e.a),m=i.Math.min(m,b.e.b),f=i.Math.max(f,b.e.a+b.f.a),g=i.Math.max(g,b.e.b+b.f.b);lct(a,(APt(),M_e),ndt(y)),lct(a,(zHt(),Qve),new DS(p,m)),lct(a,Zve,new DS(f,g))}for(EX(),bO(t,new bs),zst(_=new T6,(u1(0,t.c.length),jV(t.c[0],94))),d=0,C=0,u=new Wf(t);u.a<u.c.c.length;)a=jV(Q1(u),135),k=qB(jO(jV(wTt(a,(zHt(),Zve)),8)),jV(wTt(a,Qve),8)),d=i.Math.max(d,k.a),C+=k.a*k.b;for(d=i.Math.max(d,i.Math.sqrt(C)*zv(xR(wTt(_,(APt(),v_e))))),A=0,S=0,h=0,e=x=zv(xR(wTt(_,D_e))),c=new Wf(t);c.a<c.c.c.length;)a=jV(Q1(c),135),A+(k=qB(jO(jV(wTt(a,(zHt(),Zve)),8)),jV(wTt(a,Qve),8))).a>d&&(A=0,S+=h+x,h=0),kDt(_,a,A,S),e=i.Math.max(e,A+k.a),h=i.Math.max(h,k.b),A+=k.a+x;for(v=new Db,n=new Db,T=new Wf(t);T.a<T.c.c.length;)for(r=Vv(kR(wTt(E=jV(Q1(T),135),(cKt(),uCe)))),s=(E.q?E.q:lne).vc().Kc();s.Ob();)cW(v,(o=jV(s.Pb(),42)).cd())?zI(jV(o.cd(),146).wg())!==zI(o.dd())&&(r&&cW(n,o.cd())?(ME(),jV(o.cd(),146).tg()):(GK(v,jV(o.cd(),146),o.dd()),lct(_,jV(o.cd(),146),o.dd()),r&&GK(n,jV(o.cd(),146),o.dd()))):(GK(v,jV(o.cd(),146),o.dd()),lct(_,jV(o.cd(),146),o.dd()));return _}function eKt(){eKt=M,RGt(),ZIt(pae=new pQ,(vWt(),fIe),dIe),ZIt(pae,xIe,dIe),ZIt(pae,gIe,dIe),ZIt(pae,vIe,dIe),ZIt(pae,yIe,dIe),ZIt(pae,bIe,dIe),ZIt(pae,vIe,fIe),ZIt(pae,dIe,cIe),ZIt(pae,fIe,cIe),ZIt(pae,xIe,cIe),ZIt(pae,gIe,cIe),ZIt(pae,wIe,cIe),ZIt(pae,vIe,cIe),ZIt(pae,yIe,cIe),ZIt(pae,bIe,cIe),ZIt(pae,hIe,cIe),ZIt(pae,dIe,_Ie),ZIt(pae,fIe,_Ie),ZIt(pae,cIe,_Ie),ZIt(pae,xIe,_Ie),ZIt(pae,gIe,_Ie),ZIt(pae,wIe,_Ie),ZIt(pae,vIe,_Ie),ZIt(pae,hIe,_Ie),ZIt(pae,kIe,_Ie),ZIt(pae,yIe,_Ie),ZIt(pae,pIe,_Ie),ZIt(pae,bIe,_Ie),ZIt(pae,fIe,xIe),ZIt(pae,gIe,xIe),ZIt(pae,vIe,xIe),ZIt(pae,bIe,xIe),ZIt(pae,fIe,gIe),ZIt(pae,xIe,gIe),ZIt(pae,vIe,gIe),ZIt(pae,gIe,gIe),ZIt(pae,yIe,gIe),ZIt(pae,dIe,lIe),ZIt(pae,fIe,lIe),ZIt(pae,cIe,lIe),ZIt(pae,_Ie,lIe),ZIt(pae,xIe,lIe),ZIt(pae,gIe,lIe),ZIt(pae,wIe,lIe),ZIt(pae,vIe,lIe),ZIt(pae,kIe,lIe),ZIt(pae,hIe,lIe),ZIt(pae,bIe,lIe),ZIt(pae,yIe,lIe),ZIt(pae,mIe,lIe),ZIt(pae,dIe,kIe),ZIt(pae,fIe,kIe),ZIt(pae,cIe,kIe),ZIt(pae,xIe,kIe),ZIt(pae,gIe,kIe),ZIt(pae,wIe,kIe),ZIt(pae,vIe,kIe),ZIt(pae,hIe,kIe),ZIt(pae,bIe,kIe),ZIt(pae,pIe,kIe),ZIt(pae,mIe,kIe),ZIt(pae,fIe,hIe),ZIt(pae,xIe,hIe),ZIt(pae,gIe,hIe),ZIt(pae,vIe,hIe),ZIt(pae,kIe,hIe),ZIt(pae,bIe,hIe),ZIt(pae,yIe,hIe),ZIt(pae,dIe,uIe),ZIt(pae,fIe,uIe),ZIt(pae,cIe,uIe),ZIt(pae,xIe,uIe),ZIt(pae,gIe,uIe),ZIt(pae,wIe,uIe),ZIt(pae,vIe,uIe),ZIt(pae,hIe,uIe),ZIt(pae,bIe,uIe),ZIt(pae,fIe,yIe),ZIt(pae,cIe,yIe),ZIt(pae,_Ie,yIe),ZIt(pae,gIe,yIe),ZIt(pae,dIe,pIe),ZIt(pae,fIe,pIe),ZIt(pae,_Ie,pIe),ZIt(pae,xIe,pIe),ZIt(pae,gIe,pIe),ZIt(pae,wIe,pIe),ZIt(pae,vIe,pIe),ZIt(pae,vIe,mIe),ZIt(pae,gIe,mIe),ZIt(pae,hIe,dIe),ZIt(pae,hIe,xIe),ZIt(pae,hIe,cIe),ZIt(pae,wIe,dIe),ZIt(pae,wIe,fIe),ZIt(pae,wIe,_Ie)}function nKt(t,e){switch(t.e){case 0:case 2:case 4:case 6:case 42:case 44:case 46:case 48:case 8:case 10:case 12:case 14:case 16:case 18:case 20:case 22:case 24:case 26:case 28:case 30:case 32:case 34:case 36:case 38:return new HX(t.b,t.a,e,t.c);case 1:return new PD(t.a,e,Mgt(e.Tg(),t.c));case 43:return new DD(t.a,e,Mgt(e.Tg(),t.c));case 3:return new MD(t.a,e,Mgt(e.Tg(),t.c));case 45:return new OD(t.a,e,Mgt(e.Tg(),t.c));case 41:return new w8(jV(S_t(t.c),26),t.a,e,Mgt(e.Tg(),t.c));case 50:return new yit(jV(S_t(t.c),26),t.a,e,Mgt(e.Tg(),t.c));case 5:return new eF(t.a,e,Mgt(e.Tg(),t.c),t.d.n);case 47:return new nF(t.a,e,Mgt(e.Tg(),t.c),t.d.n);case 7:return new tW(t.a,e,Mgt(e.Tg(),t.c),t.d.n);case 49:return new tF(t.a,e,Mgt(e.Tg(),t.c),t.d.n);case 9:return new FD(t.a,e,Mgt(e.Tg(),t.c));case 11:return new BD(t.a,e,Mgt(e.Tg(),t.c));case 13:return new RD(t.a,e,Mgt(e.Tg(),t.c));case 15:return new xz(t.a,e,Mgt(e.Tg(),t.c));case 17:return new jD(t.a,e,Mgt(e.Tg(),t.c));case 19:return new LD(t.a,e,Mgt(e.Tg(),t.c));case 21:return new ND(t.a,e,Mgt(e.Tg(),t.c));case 23:return new wz(t.a,e,Mgt(e.Tg(),t.c));case 25:return new lF(t.a,e,Mgt(e.Tg(),t.c),t.d.n);case 27:return new cF(t.a,e,Mgt(e.Tg(),t.c),t.d.n);case 29:return new sF(t.a,e,Mgt(e.Tg(),t.c),t.d.n);case 31:return new iF(t.a,e,Mgt(e.Tg(),t.c),t.d.n);case 33:return new aF(t.a,e,Mgt(e.Tg(),t.c),t.d.n);case 35:return new oF(t.a,e,Mgt(e.Tg(),t.c),t.d.n);case 37:return new rF(t.a,e,Mgt(e.Tg(),t.c),t.d.n);case 39:return new eW(t.a,e,Mgt(e.Tg(),t.c),t.d.n);case 40:return new kot(e,Mgt(e.Tg(),t.c));default:throw $b(new fv("Unknown feature style: "+t.e))}}function iKt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_;switch(IEt(n,"Brandes & Koepf node placement",1),t.a=e,t.c=j$t(e),i=jV(wTt(e,(VGt(),Ome)),274),f=Vv(kR(wTt(e,Dme))),t.d=i==($kt(),Kue)&&!f||i==que,ZHt(t,e),v=null,_=null,m=null,b=null,hit(4,MYt),p=new X6(4),jV(wTt(e,Ome),274).g){case 3:m=new zFt(e,t.c.d,(sJ(),nve),(gQ(),Qye)),p.c[p.c.length]=m;break;case 1:b=new zFt(e,t.c.d,(sJ(),ive),(gQ(),Qye)),p.c[p.c.length]=b;break;case 4:v=new zFt(e,t.c.d,(sJ(),nve),(gQ(),Jye)),p.c[p.c.length]=v;break;case 2:_=new zFt(e,t.c.d,(sJ(),ive),(gQ(),Jye)),p.c[p.c.length]=_;break;default:m=new zFt(e,t.c.d,(sJ(),nve),(gQ(),Qye)),b=new zFt(e,t.c.d,ive,Qye),v=new zFt(e,t.c.d,nve,Jye),_=new zFt(e,t.c.d,ive,Jye),p.c[p.c.length]=v,p.c[p.c.length]=_,p.c[p.c.length]=m,p.c[p.c.length]=b}for(r=new eS(e,t.c),a=new Wf(p);a.a<a.c.c.length;)CGt(r,o=jV(Q1(a),180),t.b),GVt(o);for(d=new Zvt(e,t.c),c=new Wf(p);c.a<c.c.c.length;)Vqt(d,o=jV(Q1(c),180));if(n.n)for(l=new Wf(p);l.a<l.c.c.length;)Sz(n,(o=jV(Q1(l),180))+" size is "+bOt(o));if(h=null,t.d&&SVt(e,u=jWt(t,p,t.c.d),n)&&(h=u),!h)for(l=new Wf(p);l.a<l.c.c.length;)SVt(e,o=jV(Q1(l),180),n)&&(!h||bOt(h)>bOt(o))&&(h=o);for(!h&&(u1(0,p.c.length),h=jV(p.c[0],180)),g=new Wf(e.b);g.a<g.c.c.length;)for(y=new Wf(jV(Q1(g),29).a);y.a<y.c.c.length;)(w=jV(Q1(y),10)).n.b=zv(h.p[w.p])+zv(h.d[w.p]);for(n.n&&(Sz(n,"Chosen node placement: "+h),Sz(n,"Blocks: "+NMt(h)),Sz(n,"Classes: "+qPt(h,n)),Sz(n,"Marked edges: "+t.b)),s=new Wf(p);s.a<s.c.c.length;)(o=jV(Q1(s),180)).g=null,o.b=null,o.a=null,o.d=null,o.j=null,o.i=null,o.p=null;Urt(t.c),t.b.a.$b(),VCt(n)}function rKt(t,e,n){var i,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E;for(s=new YE,w=jV(wTt(n,(VGt(),Upe)),103),g=0,jrt(s,(!e.a&&(e.a=new tW(HMe,e,10,11)),e.a));0!=s.b;)l=jV(0==s.b?null:(TL(0!=s.b),Met(s,s.a.a)),33),(zI(QPt(e,Ppe))!==zI((wct(),Owe))||zI(QPt(e,zpe))===zI((Kwt(),_ue))||zI(QPt(e,zpe))===zI((Kwt(),yue))||Vv(kR(QPt(e,Dpe)))||zI(QPt(e,Cpe))!==zI(($ht(),dae)))&&!Vv(kR(QPt(l,Mpe)))&&Xbt(l,(lKt(),dde),ndt(g++)),!Vv(kR(QPt(l,zme)))&&(h=0!=(!l.a&&(l.a=new tW(HMe,l,10,11)),l.a).i,f=vEt(l),d=zI(QPt(l,ame))===zI((sht(),pSe)),m=null,(E=!T7(l,(cKt(),tCe))||bF(ER(QPt(l,tCe)),f1t))&&d&&(h||f)&&(lct(m=v$t(l),Upe,w),PL(m,gbe)&&xv(new sgt(zv(xR(wTt(m,gbe)))),m),0!=jV(QPt(l,Fme),174).gc()&&(u=m,XE(new LH(null,(!l.c&&(l.c=new tW(UMe,l,9,9)),new d1(l.c,16))),new qg(u)),wRt(l,m))),y=n,(v=jV(LG(t.a,XQ(l)),10))&&(y=v.e),p=fqt(t,l,y),m&&(p.e=m,m.e=p,jrt(s,(!l.a&&(l.a=new tW(HMe,l,10,11)),l.a))));for(g=0,n4(s,e,s.c.b,s.c);0!=s.b;){for(c=new ID((!(o=jV(0==s.b?null:(TL(0!=s.b),Met(s,s.a.a)),33)).b&&(o.b=new tW(RMe,o,12,3)),o.b));c.e!=c.i.gc();)tFt(a=jV(vbt(c),79)),(zI(QPt(e,Ppe))!==zI((wct(),Owe))||zI(QPt(e,zpe))===zI((Kwt(),_ue))||zI(QPt(e,zpe))===zI((Kwt(),yue))||Vv(kR(QPt(e,Dpe)))||zI(QPt(e,Cpe))!==zI(($ht(),dae)))&&Xbt(a,(lKt(),dde),ndt(g++)),k=CEt(jV(Get((!a.b&&(a.b=new cF(LMe,a,4,7)),a.b),0),82)),x=CEt(jV(Get((!a.c&&(a.c=new cF(LMe,a,5,8)),a.c),0),82)),Vv(kR(QPt(a,zme)))||Vv(kR(QPt(k,zme)))||Vv(kR(QPt(x,zme)))||(b=o,YIt(a)&&Vv(kR(QPt(k,dme)))&&Vv(kR(QPt(a,fme)))||Aet(x,k)?b=k:Aet(k,x)&&(b=x),y=n,(v=jV(LG(t.a,b),10))&&(y=v.e),lct(sKt(t,a,b,y),(lKt(),Fhe),OLt(t,a,e,n)));if(d=zI(QPt(o,ame))===zI((sht(),pSe)))for(r=new ID((!o.a&&(o.a=new tW(HMe,o,10,11)),o.a));r.e!=r.i.gc();)E=!T7(i=jV(vbt(r),33),(cKt(),tCe))||bF(ER(QPt(i,tCe)),f1t),_=zI(QPt(i,ame))===zI(pSe),E&&_&&n4(s,i,s.c.b,s.c)}}function oKt(t,e,n,i,r,o){var s,a,c,l,u,h,d;switch(e){case 71:s=i.q.getFullYear()-cXt>=-1900?1:0,sM(t,n>=4?Cat(z_(Yee,1),cYt,2,6,[uXt,hXt])[s]:Cat(z_(Yee,1),cYt,2,6,["BC","AD"])[s]);break;case 121:abt(t,n,i);break;case 77:WFt(t,n,i);break;case 107:_tt(t,0==(a=r.q.getHours())?24:a,n);break;case 83:RDt(t,n,r);break;case 69:c=i.q.getDay(),sM(t,5==n?Cat(z_(Yee,1),cYt,2,6,["S","M","T","W","T","F","S"])[c]:4==n?Cat(z_(Yee,1),cYt,2,6,[dXt,fXt,gXt,pXt,mXt,bXt,wXt])[c]:Cat(z_(Yee,1),cYt,2,6,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"])[c]);break;case 97:r.q.getHours()>=12&&r.q.getHours()<24?sM(t,Cat(z_(Yee,1),cYt,2,6,["AM","PM"])[1]):sM(t,Cat(z_(Yee,1),cYt,2,6,["AM","PM"])[0]);break;case 104:_tt(t,0==(l=r.q.getHours()%12)?12:l,n);break;case 75:_tt(t,r.q.getHours()%12,n);break;case 72:_tt(t,r.q.getHours(),n);break;case 99:u=i.q.getDay(),5==n?sM(t,Cat(z_(Yee,1),cYt,2,6,["S","M","T","W","T","F","S"])[u]):4==n?sM(t,Cat(z_(Yee,1),cYt,2,6,[dXt,fXt,gXt,pXt,mXt,bXt,wXt])[u]):3==n?sM(t,Cat(z_(Yee,1),cYt,2,6,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"])[u]):_tt(t,u,1);break;case 76:h=i.q.getMonth(),5==n?sM(t,Cat(z_(Yee,1),cYt,2,6,["J","F","M","A","M","J","J","A","S","O","N","D"])[h]):4==n?sM(t,Cat(z_(Yee,1),cYt,2,6,[XYt,ZYt,QYt,JYt,tXt,eXt,nXt,iXt,rXt,oXt,sXt,aXt])[h]):3==n?sM(t,Cat(z_(Yee,1),cYt,2,6,["Jan","Feb","Mar","Apr",tXt,"Jun","Jul","Aug","Sep","Oct","Nov","Dec"])[h]):_tt(t,h+1,n);break;case 81:d=i.q.getMonth()/3|0,sM(t,n<4?Cat(z_(Yee,1),cYt,2,6,["Q1","Q2","Q3","Q4"])[d]:Cat(z_(Yee,1),cYt,2,6,["1st quarter","2nd quarter","3rd quarter","4th quarter"])[d]);break;case 100:_tt(t,i.q.getDate(),n);break;case 109:_tt(t,r.q.getMinutes(),n);break;case 115:_tt(t,r.q.getSeconds(),n);break;case 122:sM(t,n<4?o.c[0]:o.c[1]);break;case 118:sM(t,o.b);break;case 90:sM(t,n<3?JSt(o):3==n?fIt(o):gIt(o.a));break;default:return!1}return!0}function sKt(t,e,n,i){var r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C,A,S;if(tFt(e),c=jV(Get((!e.b&&(e.b=new cF(LMe,e,4,7)),e.b),0),82),u=jV(Get((!e.c&&(e.c=new cF(LMe,e,5,8)),e.c),0),82),a=CEt(c),l=CEt(u),s=0==(!e.a&&(e.a=new tW(BMe,e,6,6)),e.a).i?null:jV(Get((!e.a&&(e.a=new tW(BMe,e,6,6)),e.a),0),202),k=jV(LG(t.a,a),10),C=jV(LG(t.a,l),10),x=null,A=null,iD(c,186)&&(iD(_=jV(LG(t.a,c),299),11)?x=jV(_,11):iD(_,10)&&(k=jV(_,10),x=jV(DH(k.j,0),11))),iD(u,186)&&(iD(T=jV(LG(t.a,u),299),11)?A=jV(T,11):iD(T,10)&&(C=jV(T,10),A=jV(DH(C.j,0),11))),!k||!C)throw $b(new i_("The source or the target of edge "+e+" could not be found. This usually happens when an edge connects a node laid out by ELK Layered to a node in another level of hierarchy laid out by either another instance of ELK Layered or another layout algorithm alltogether. The former can be solved by setting the hierarchyHandling option to INCLUDE_CHILDREN."));for(zst(p=new dZ,e),lct(p,(lKt(),fde),e),lct(p,(VGt(),mme),null),f=jV(wTt(i,Zhe),21),k==C&&f.Fc((dRt(),mhe)),x||(oit(),v=Vwe,E=null,s&&mP(jV(wTt(k,tbe),98))&&(Y3(E=new DS(s.j,s.k),qQ(e)),J5(E,n),Aet(l,a)&&(v=$we,UB(E,k.n))),x=gzt(k,E,v,i)),A||(oit(),v=$we,S=null,s&&mP(jV(wTt(C,tbe),98))&&(Y3(S=new DS(s.b,s.c),qQ(e)),J5(S,n)),A=gzt(C,S,v,mK(C))),EJ(p,x),xJ(p,A),(x.e.c.length>1||x.g.c.length>1||A.e.c.length>1||A.g.c.length>1)&&f.Fc((dRt(),hhe)),d=new ID((!e.n&&(e.n=new tW(zMe,e,1,7)),e.n));d.e!=d.i.gc();)if(!Vv(kR(QPt(h=jV(vbt(d),137),zme)))&&h.a)switch(m=Vut(h),WV(p.b,m),jV(wTt(m,Ype),272).g){case 1:case 2:f.Fc((dRt(),lhe));break;case 0:f.Fc((dRt(),ahe)),lct(m,Ype,(Ret(),HAe))}if(o=jV(wTt(i,Vpe),314),b=jV(wTt(i,Bme),315),r=o==(Iit(),aue)||b==(Dwt(),pwe),s&&0!=(!s.a&&(s.a=new MD(OMe,s,5)),s.a).i&&r){for(w=zCt(s),g=new yy,y=cbt(w,0);y.b!=y.d.c;)Nz(g,new dP(jV(h3(y),8)));lct(p,gde,g)}return p}function aKt(t){t.gb||(t.gb=!0,t.b=vst(t,0),Rrt(t.b,18),Brt(t.b,19),t.a=vst(t,1),Rrt(t.a,1),Brt(t.a,2),Brt(t.a,3),Brt(t.a,4),Brt(t.a,5),t.o=vst(t,2),Rrt(t.o,8),Rrt(t.o,9),Brt(t.o,10),Brt(t.o,11),Brt(t.o,12),Brt(t.o,13),Brt(t.o,14),Brt(t.o,15),Brt(t.o,16),Brt(t.o,17),Brt(t.o,18),Brt(t.o,19),Brt(t.o,20),Brt(t.o,21),Brt(t.o,22),Brt(t.o,23),set(t.o),set(t.o),set(t.o),set(t.o),set(t.o),set(t.o),set(t.o),set(t.o),set(t.o),set(t.o),t.p=vst(t,3),Rrt(t.p,2),Rrt(t.p,3),Rrt(t.p,4),Rrt(t.p,5),Brt(t.p,6),Brt(t.p,7),set(t.p),set(t.p),t.q=vst(t,4),Rrt(t.q,8),t.v=vst(t,5),Brt(t.v,9),set(t.v),set(t.v),set(t.v),t.w=vst(t,6),Rrt(t.w,2),Rrt(t.w,3),Rrt(t.w,4),Brt(t.w,5),t.B=vst(t,7),Brt(t.B,1),set(t.B),set(t.B),set(t.B),t.Q=vst(t,8),Brt(t.Q,0),set(t.Q),t.R=vst(t,9),Rrt(t.R,1),t.S=vst(t,10),set(t.S),set(t.S),set(t.S),set(t.S),set(t.S),set(t.S),set(t.S),set(t.S),set(t.S),set(t.S),set(t.S),set(t.S),set(t.S),set(t.S),set(t.S),t.T=vst(t,11),Brt(t.T,10),Brt(t.T,11),Brt(t.T,12),Brt(t.T,13),Brt(t.T,14),set(t.T),set(t.T),t.U=vst(t,12),Rrt(t.U,2),Rrt(t.U,3),Brt(t.U,4),Brt(t.U,5),Brt(t.U,6),Brt(t.U,7),set(t.U),t.V=vst(t,13),Brt(t.V,10),t.W=vst(t,14),Rrt(t.W,18),Rrt(t.W,19),Rrt(t.W,20),Brt(t.W,21),Brt(t.W,22),Brt(t.W,23),t.bb=vst(t,15),Rrt(t.bb,10),Rrt(t.bb,11),Rrt(t.bb,12),Rrt(t.bb,13),Rrt(t.bb,14),Rrt(t.bb,15),Rrt(t.bb,16),Brt(t.bb,17),set(t.bb),set(t.bb),t.eb=vst(t,16),Rrt(t.eb,2),Rrt(t.eb,3),Rrt(t.eb,4),Rrt(t.eb,5),Rrt(t.eb,6),Rrt(t.eb,7),Brt(t.eb,8),Brt(t.eb,9),t.ab=vst(t,17),Rrt(t.ab,0),Rrt(t.ab,1),t.H=vst(t,18),Brt(t.H,0),Brt(t.H,1),Brt(t.H,2),Brt(t.H,3),Brt(t.H,4),Brt(t.H,5),set(t.H),t.db=vst(t,19),Brt(t.db,2),t.c=_st(t,20),t.d=_st(t,21),t.e=_st(t,22),t.f=_st(t,23),t.i=_st(t,24),t.g=_st(t,25),t.j=_st(t,26),t.k=_st(t,27),t.n=_st(t,28),t.r=_st(t,29),t.s=_st(t,30),t.t=_st(t,31),t.u=_st(t,32),t.fb=_st(t,33),t.A=_st(t,34),t.C=_st(t,35),t.D=_st(t,36),t.F=_st(t,37),t.G=_st(t,38),t.I=_st(t,39),t.J=_st(t,40),t.L=_st(t,41),t.M=_st(t,42),t.N=_st(t,43),t.O=_st(t,44),t.P=_st(t,45),t.X=_st(t,46),t.Y=_st(t,47),t.Z=_st(t,48),t.$=_st(t,49),t._=_st(t,50),t.cb=_st(t,51),t.K=_st(t,52))}function cKt(){var t,e;cKt=M,tCe=new ob(f4t),bAe=new ob(g4t),fwt(),eCe=new MM(G2t,nCe=CTe),iCe=new MM(KQt,null),rCe=new ob(p4t),fxt(),lCe=_U(ZTe,Cat(z_(VAe,1),PYt,291,0,[GTe])),cCe=new MM(s3t,lCe),uCe=new MM(W2t,(cN(),!1)),jht(),hCe=new MM(Z2t,dCe=jAe),Eft(),mCe=new MM(y2t,bCe=ZAe),vCe=new MM(M5t,!1),sht(),_Ce=new MM(g2t,kCe=mSe),WCe=new WP(12),qCe=new MM(YQt,WCe),CCe=new MM(_Jt,!1),ACe=new MM(w3t,!1),UCe=new MM(EJt,!1),Yxt(),oAe=new MM(kJt,sAe=YSe),gAe=new ob(p3t),pAe=new ob(mJt),mAe=new ob(yJt),yAe=new ob(vJt),ICe=new yy,SCe=new MM(a3t,ICe),aCe=new MM(u3t,!1),xCe=new MM(h3t,!1),PCe=new uy,MCe=new MM(m3t,PCe),HCe=new MM(U2t,!1),wAe=new MM(b4t,1),new MM(w4t,!0),ndt(0),new MM(y4t,ndt(100)),new MM(v4t,!1),ndt(0),new MM(_4t,ndt(4e3)),ndt(0),new MM(k4t,ndt(400)),new MM(x4t,!1),new MM(E4t,!1),new MM(T4t,!0),new MM(C4t,!1),jgt(),oCe=new MM(d4t,sCe=tMe),vAe=new MM(O2t,10),_Ae=new MM(D2t,10),kAe=new MM(WQt,20),xAe=new MM(N2t,10),EAe=new MM(wJt,2),TAe=new MM(L2t,10),AAe=new MM(R2t,0),SAe=new MM(j2t,5),IAe=new MM(B2t,1),MAe=new MM(F2t,1),PAe=new MM(bJt,20),OAe=new MM($2t,10),LAe=new MM(V2t,10),CAe=new ob(z2t),NAe=new uP,DAe=new MM(b3t,NAe),YCe=new ob(g3t),GCe=new MM(f3t,KCe=!1),DCe=new WP(5),OCe=new MM(Q2t,DCe),JPt(),e=jV(Gk(zSe),9),LCe=new YF(e,jV(EB(e,e.length),9),0),NCe=new MM(AJt,LCe),rbt(),ZCe=new MM(e3t,QCe=jSe),tAe=new ob(n3t),eAe=new ob(i3t),nAe=new ob(r3t),JCe=new ob(o3t),t=jV(Gk(YIe),9),BCe=new YF(t,jV(EB(t,t.length),9),0),RCe=new MM(CJt,BCe),zCe=Jdt((JFt(),zIe)),VCe=new MM(TJt,zCe),$Ce=new DS(0,0),jCe=new MM($Jt,$Ce),FCe=new MM(X2t,!1),Ret(),gCe=new MM(c3t,pCe=HAe),fCe=new MM(xJt,!1),ndt(1),new MM(S4t,null),iAe=new ob(d3t),aAe=new ob(l3t),vWt(),dAe=new MM(q2t,fAe=TIe),rAe=new ob(H2t),hIt(),uAe=Jdt(nIe),lAe=new MM(SJt,uAe),cAe=new MM(J2t,!1),hAe=new MM(t3t,!0),ECe=new MM(K2t,!1),TCe=new MM(Y2t,!1),wCe=new MM(GQt,1),JEt(),new MM(I4t,yCe=rSe),XCe=!0}function lKt(){var t,e;lKt=M,fde=new ob(IJt),Fhe=new ob("coordinateOrigin"),xde=new ob("processors"),Bhe=new eB("compoundNode",(cN(),!1)),tde=new eB("insideConnections",!1),gde=new ob("originalBendpoints"),pde=new ob("originalDummyNodePosition"),mde=new ob("originalLabelEdge"),Tde=new ob("representedLabels"),Hhe=new ob("endLabels"),Uhe=new ob("endLabel.origin"),ode=new eB("labelSide",(Wvt(),xSe)),hde=new eB("maxEdgeThickness",0),Cde=new eB("reversed",!1),Ede=new ob(MJt),cde=new eB("longEdgeSource",null),lde=new eB("longEdgeTarget",null),ade=new eB("longEdgeHasLabelDummies",!1),sde=new eB("longEdgeBeforeLabelDummy",!1),zhe=new eB("edgeConstraint",(Zat(),Iue)),nde=new ob("inLayerLayoutUnit"),ede=new eB("inLayerConstraint",(H9(),The)),ide=new eB("inLayerSuccessorConstraint",new Ob),rde=new eB("inLayerSuccessorConstraintBetweenNonDummies",!1),_de=new ob("portDummy"),jhe=new eB("crossingHint",ndt(0)),Zhe=new eB("graphProperties",new YF(e=jV(Gk(khe),9),jV(EB(e,e.length),9),0)),Khe=new eB("externalPortSide",(vWt(),TIe)),Yhe=new eB("externalPortSize",new zk),Whe=new ob("externalPortReplacedDummies"),Ghe=new ob("externalPortReplacedDummy"),qhe=new eB("externalPortConnections",new YF(t=jV(Gk(FIe),9),jV(EB(t,t.length),9),0)),kde=new eB(gQt,0),Dhe=new ob("barycenterAssociates"),Rde=new ob("TopSideComments"),Nhe=new ob("BottomSideComments"),Rhe=new ob("CommentConnectionPort"),Jhe=new eB("inputCollect",!1),yde=new eB("outputCollect",!1),Vhe=new eB("cyclic",!1),$he=new ob("crossHierarchyMap"),Lde=new ob("targetOffset"),new eB("splineLabelSize",new zk),Ide=new ob("spacings"),vde=new eB("partitionConstraint",!1),Lhe=new ob("breakingPoint.info"),Dde=new ob("splines.survivingEdge"),Ode=new ob("splines.route.start"),Mde=new ob("splines.edgeChain"),wde=new ob("originalPortConstraints"),Sde=new ob("selfLoopHolder"),Pde=new ob("splines.nsPortY"),dde=new ob("modelOrder"),ude=new ob("longEdgeTargetNode"),Xhe=new eB(U1t,!1),Ade=new eB(U1t,!1),Qhe=new ob("layerConstraints.hiddenNodes"),bde=new ob("layerConstraints.opposidePort"),Nde=new ob("targetNode.modelOrder")}function uKt(){uKt=M,Btt(),Efe=new MM(q1t,Tfe=Eue),zfe=new MM(W1t,(cN(),!1)),H2(),Gfe=new MM(G1t,Kfe=Ihe),dge=new MM(K1t,!1),fge=new MM(Y1t,!0),Ude=new MM(X1t,!1),U9(),Oge=new MM(Z1t,Dge=Rwe),ndt(1),Vge=new MM(Q1t,ndt(7)),zge=new MM(J1t,!1),Hfe=new MM(t0t,!1),Kwt(),kfe=new MM(e0t,xfe=wue),xEt(),uge=new MM(n0t,hge=Jbe),xft(),tge=new MM(i0t,ege=Vde),ndt(-1),Jfe=new MM(r0t,ndt(-1)),ndt(-1),nge=new MM(o0t,ndt(-1)),ndt(-1),ige=new MM(s0t,ndt(4)),ndt(-1),oge=new MM(a0t,ndt(2)),cNt(),cge=new MM(c0t,lge=Awe),ndt(0),age=new MM(l0t,ndt(0)),Zfe=new MM(u0t,ndt(LKt)),Iit(),vfe=new MM(h0t,_fe=cue),ofe=new MM(d0t,!1),gfe=new MM(f0t,.1),wfe=new MM(g0t,!1),ndt(-1),mfe=new MM(p0t,ndt(-1)),ndt(-1),bfe=new MM(m0t,ndt(-1)),ndt(0),sfe=new MM(b0t,ndt(40)),Bst(),hfe=new MM(w0t,dfe=_he),afe=new MM(y0t,cfe=yhe),Dwt(),Mge=new MM(v0t,Pge=gwe),vge=new ob(_0t),g9(),gge=new MM(k0t,pge=Vue),$kt(),bge=new MM(x0t,wge=Kue),xge=new MM(E0t,.3),Tge=new ob(T0t),dwt(),Cge=new MM(C0t,Age=uwe),Vot(),Ofe=new MM(A0t,Dfe=Wwe),I6(),Nfe=new MM(S0t,Lfe=Zwe),qlt(),Rfe=new MM(I0t,Bfe=nye),jfe=new MM(M0t,.2),Mfe=new MM(P0t,2),Bge=new MM(O0t,null),jge=new MM(D0t,10),Fge=new MM(N0t,10),$ge=new MM(L0t,20),ndt(0),Nge=new MM(R0t,ndt(0)),ndt(0),Lge=new MM(B0t,ndt(0)),ndt(0),Rge=new MM(F0t,ndt(0)),qde=new MM(j0t,!1),ZTt(),Kde=new MM($0t,Yde=ihe),G7(),Wde=new MM(V0t,Gde=rue),qfe=new MM(z0t,!1),ndt(0),Ufe=new MM(H0t,ndt(16)),ndt(0),Wfe=new MM(U0t,ndt(5)),Pat(),upe=new MM(q0t,hpe=hye),Hge=new MM(W0t,10),Wge=new MM(G0t,1),sit(),tpe=new MM(K0t,epe=gue),Yge=new ob(Y0t),Qge=ndt(1),ndt(0),Zge=new MM(X0t,Qge),got(),ppe=new MM(Z0t,mpe=oye),dpe=new ob(Q0t),spe=new MM(J0t,!0),rpe=new MM(t2t,2),cpe=new MM(e2t,!0),pCt(),Sfe=new MM(n2t,Ife=Bue),PAt(),Cfe=new MM(i2t,Afe=Zle),wct(),ife=new MM(r2t,rfe=Owe),nfe=new MM(o2t,!1),$ht(),Xde=new MM(s2t,Zde=dae),Eut(),tfe=new MM(a2t,efe=iwe),Qde=new MM(c2t,0),Jde=new MM(l2t,0),Xfe=vue,Yfe=aue,rge=Qbe,sge=Qbe,Qfe=Ybe,sht(),pfe=pSe,yfe=cue,ffe=cue,lfe=cue,ufe=pSe,_ge=bwe,kge=gwe,mge=gwe,yge=gwe,Ege=mwe,Ige=bwe,Sge=bwe,Eft(),Ffe=XAe,$fe=XAe,Vfe=nye,Pfe=YAe,Uge=dye,qge=uye,Gge=dye,Kge=uye,npe=dye,ipe=uye,Xge=fue,Jge=gue,bpe=dye,wpe=uye,fpe=dye,gpe=uye,ape=uye,ope=uye,lpe=uye}function hKt(){hKt=M,nce=new QC("DIRECTION_PREPROCESSOR",0),Jae=new QC("COMMENT_PREPROCESSOR",1),ice=new QC("EDGE_AND_LAYER_CONSTRAINT_EDGE_REVERSER",2),yce=new QC("INTERACTIVE_EXTERNAL_PORT_POSITIONER",3),Fce=new QC("PARTITION_PREPROCESSOR",4),xce=new QC("LABEL_DUMMY_INSERTER",5),Uce=new QC("SELF_LOOP_PREPROCESSOR",6),Sce=new QC("LAYER_CONSTRAINT_PREPROCESSOR",7),Rce=new QC("PARTITION_MIDPROCESSOR",8),gce=new QC("HIGH_DEGREE_NODE_LAYER_PROCESSOR",9),Oce=new QC("NODE_PROMOTION",10),Ace=new QC("LAYER_CONSTRAINT_POSTPROCESSOR",11),Bce=new QC("PARTITION_POSTPROCESSOR",12),uce=new QC("HIERARCHICAL_PORT_CONSTRAINT_PROCESSOR",13),Wce=new QC("SEMI_INTERACTIVE_CROSSMIN_PROCESSOR",14),Gae=new QC("BREAKING_POINT_INSERTER",15),Pce=new QC("LONG_EDGE_SPLITTER",16),$ce=new QC("PORT_SIDE_PROCESSOR",17),vce=new QC("INVERTED_PORT_PROCESSOR",18),jce=new QC("PORT_LIST_SORTER",19),Kce=new QC("SORT_BY_INPUT_ORDER_OF_MODEL",20),Nce=new QC("NORTH_SOUTH_PORT_PREPROCESSOR",21),Kae=new QC("BREAKING_POINT_PROCESSOR",22),Lce=new QC(k1t,23),Yce=new QC(x1t,24),zce=new QC("SELF_LOOP_PORT_RESTORER",25),Gce=new QC("SINGLE_EDGE_GRAPH_WRAPPER",26),_ce=new QC("IN_LAYER_CONSTRAINT_PROCESSOR",27),ace=new QC("END_NODE_PORT_LABEL_MANAGEMENT_PROCESSOR",28),kce=new QC("LABEL_AND_NODE_SIZE_PROCESSOR",29),wce=new QC("INNERMOST_NODE_MARGIN_CALCULATOR",30),qce=new QC("SELF_LOOP_ROUTER",31),Zae=new QC("COMMENT_NODE_MARGIN_CALCULATOR",32),oce=new QC("END_LABEL_PREPROCESSOR",33),Tce=new QC("LABEL_DUMMY_SWITCHER",34),Xae=new QC("CENTER_LABEL_MANAGEMENT_PROCESSOR",35),Cce=new QC("LABEL_SIDE_SELECTOR",36),mce=new QC("HYPEREDGE_DUMMY_MERGER",37),hce=new QC("HIERARCHICAL_PORT_DUMMY_SIZE_PROCESSOR",38),Ice=new QC("LAYER_SIZE_AND_GRAPH_HEIGHT_CALCULATOR",39),fce=new QC("HIERARCHICAL_PORT_POSITION_PROCESSOR",40),tce=new QC("CONSTRAINTS_POSTPROCESSOR",41),Qae=new QC("COMMENT_POSTPROCESSOR",42),bce=new QC("HYPERNODE_PROCESSOR",43),dce=new QC("HIERARCHICAL_PORT_ORTHOGONAL_EDGE_ROUTER",44),Mce=new QC("LONG_EDGE_JOINER",45),Hce=new QC("SELF_LOOP_POSTPROCESSOR",46),Yae=new QC("BREAKING_POINT_REMOVER",47),Dce=new QC("NORTH_SOUTH_PORT_POSTPROCESSOR",48),pce=new QC("HORIZONTAL_COMPACTOR",49),Ece=new QC("LABEL_DUMMY_REMOVER",50),cce=new QC("FINAL_SPLINE_BENDPOINTS_CALCULATOR",51),sce=new QC("END_LABEL_SORTER",52),Vce=new QC("REVERSED_EDGE_RESTORER",53),rce=new QC("END_LABEL_POSTPROCESSOR",54),lce=new QC("HIERARCHICAL_NODE_RESIZER",55),ece=new QC("DIRECTION_POSTPROCESSOR",56)}function dKt(t,e,n){var r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E,T,C,A,S,I,M,P,O,D,N,L,R,B,F,j,$,V,z,H,U,q,W,G,K,Y,X,Z,Q,J,tt,et,nt,it,rt,ot,st,at;for(Q=0,D=0,R=(M=e).length;D<R;++D)for(U=new Wf((S=M[D]).j);U.a<U.c.c.length;){for(W=0,c=new Wf((H=jV(Q1(U),11)).g);c.a<c.c.c.length;)a=jV(Q1(c),17),S.c!=a.d.i.c&&++W;W>0&&(t.a[H.p]=Q++)}for(it=0,N=0,B=(P=n).length;N<B;++N){for(F=0,U=new Wf((S=P[N]).j);U.a<U.c.c.length&&(H=jV(Q1(U),11)).j==(vWt(),aIe);)for(c=new Wf(H.e);c.a<c.c.c.length;)if(a=jV(Q1(c),17),S.c!=a.c.i.c){++F;break}for($=0,G=new x2(S.j,S.j.c.length);G.b>0;){for(TL(G.b>0),W=0,c=new Wf((H=jV(G.a.Xb(G.c=--G.b),11)).e);c.a<c.c.c.length;)a=jV(Q1(c),17),S.c!=a.c.i.c&&++W;W>0&&(H.j==(vWt(),aIe)?(t.a[H.p]=it,++it):(t.a[H.p]=it+F+$,++$))}it+=$}for(q=new Db,p=new lP,O=0,L=(I=e).length;O<L;++O)for(et=new Wf((S=I[O]).j);et.a<et.c.c.length;)for(c=new Wf((tt=jV(Q1(et),11)).g);c.a<c.c.c.length;)if(ot=(a=jV(Q1(c),17)).d,S.c!=ot.i.c)if(J=jV(VI(IZ(q.f,tt)),467),rt=jV(VI(IZ(q.f,ot)),467),J||rt)if(J)if(rt)if(J==rt)WV(J.a,a);else{for(WV(J.a,a),z=new Wf(rt.d);z.a<z.c.c.length;)V=jV(Q1(z),11),_St(q.f,V,J);pat(J.a,rt.a),pat(J.d,rt.d),p.a.Bc(rt)}else WV(J.a,a),WV(J.d,ot),_St(q.f,ot,J);else WV(rt.a,a),WV(rt.d,tt),_St(q.f,tt,rt);else g=new NB,p.a.zc(g,p),WV(g.a,a),WV(g.d,tt),_St(q.f,tt,g),WV(g.d,ot),_St(q.f,ot,g);for(m=jV(kyt(p,D7(Fye,{3:1,4:1,5:1,1946:1},467,p.a.gc(),0,1)),1946),A=e[0].c,Z=n[0].c,d=0,f=(h=m).length;d<f;++d)for((u=h[d]).e=Q,u.f=it,U=new Wf(u.d);U.a<U.c.c.length;)H=jV(Q1(U),11),K=t.a[H.p],H.i.c==A?(K<u.e&&(u.e=K),K>u.b&&(u.b=K)):H.i.c==Z&&(K<u.f&&(u.f=K),K>u.c&&(u.c=K));for(H8(m,0,m.length,null),nt=D7(SNe,lXt,25,m.length,15,1),r=D7(SNe,lXt,25,it+1,15,1),w=0;w<m.length;w++)nt[w]=m[w].f,r[nt[w]]=1;for(s=0,y=0;y<r.length;y++)1==r[y]?r[y]=s:--s;for(Y=0,v=0;v<nt.length;v++)nt[v]+=r[nt[v]],Y=i.Math.max(Y,nt[v]+1);for(l=1;l<Y;)l*=2;for(at=2*l-1,l-=1,st=D7(SNe,lXt,25,at,15,1),o=0,T=0;T<nt.length;T++)for(++st[E=nt[T]+l];E>0;)E%2>0&&(o+=st[E+1]),++st[E=(E-1)/2|0];for(C=D7(Vye,VKt,362,2*m.length,0,1),_=0;_<m.length;_++)C[2*_]=new VY(m[_],m[_].e,m[_].b,(K5(),$ye)),C[2*_+1]=new VY(m[_],m[_].b,m[_].e,jye);for(H8(C,0,C.length,null),j=0,k=0;k<C.length;k++)switch(C[k].d.g){case 0:++j;break;case 1:o+=--j}for(X=D7(Vye,VKt,362,2*m.length,0,1),x=0;x<m.length;x++)X[2*x]=new VY(m[x],m[x].f,m[x].c,(K5(),$ye)),X[2*x+1]=new VY(m[x],m[x].c,m[x].f,jye);for(H8(X,0,X.length,null),j=0,b=0;b<X.length;b++)switch(X[b].d.g){case 0:++j;break;case 1:o+=--j}return o}function fKt(){fKt=M,sNe=new Ib(7),aNe=new sU(8,94),new sU(8,64),cNe=new sU(8,36),gNe=new sU(8,65),pNe=new sU(8,122),mNe=new sU(8,90),yNe=new sU(8,98),dNe=new sU(8,66),bNe=new sU(8,60),vNe=new sU(8,62),oNe=new Ib(11),XLt(rNe=new x0(4),48,57),XLt(wNe=new x0(4),48,57),XLt(wNe,65,90),XLt(wNe,95,95),XLt(wNe,97,122),XLt(fNe=new x0(4),9,9),XLt(fNe,10,10),XLt(fNe,12,12),XLt(fNe,13,13),XLt(fNe,32,32),lNe=P$t(rNe),hNe=P$t(wNe),uNe=P$t(fNe),tNe=new Db,eNe=new Db,nNe=Cat(z_(Yee,1),cYt,2,6,["Cn","Lu","Ll","Lt","Lm","Lo","Mn","Me","Mc","Nd","Nl","No","Zs","Zl","Zp","Cc","Cf",null,"Co","Cs","Pd","Ps","Pe","Pc","Po","Sm","Sc","Sk","So","Pi","Pf","L","M","N","Z","C","P","S"]),JDe=Cat(z_(Yee,1),cYt,2,6,["Basic Latin","Latin-1 Supplement","Latin Extended-A","Latin Extended-B","IPA Extensions","Spacing Modifier Letters","Combining Diacritical Marks","Greek","Cyrillic","Armenian","Hebrew","Arabic","Syriac","Thaana","Devanagari","Bengali","Gurmukhi","Gujarati","Oriya","Tamil","Telugu","Kannada","Malayalam","Sinhala","Thai","Lao","Tibetan","Myanmar","Georgian","Hangul Jamo","Ethiopic","Cherokee","Unified Canadian Aboriginal Syllabics","Ogham","Runic","Khmer","Mongolian","Latin Extended Additional","Greek Extended","General Punctuation","Superscripts and Subscripts","Currency Symbols","Combining Marks for Symbols","Letterlike Symbols","Number Forms","Arrows","Mathematical Operators","Miscellaneous Technical","Control Pictures","Optical Character Recognition","Enclosed Alphanumerics","Box Drawing","Block Elements","Geometric Shapes","Miscellaneous Symbols","Dingbats","Braille Patterns","CJK Radicals Supplement","Kangxi Radicals","Ideographic Description Characters","CJK Symbols and Punctuation","Hiragana","Katakana","Bopomofo","Hangul Compatibility Jamo","Kanbun","Bopomofo Extended","Enclosed CJK Letters and Months","CJK Compatibility","CJK Unified Ideographs Extension A","CJK Unified Ideographs","Yi Syllables","Yi Radicals","Hangul Syllables",pte,"CJK Compatibility Ideographs","Alphabetic Presentation Forms","Arabic Presentation Forms-A","Combining Half Marks","CJK Compatibility Forms","Small Form Variants","Arabic Presentation Forms-B","Specials","Halfwidth and Fullwidth Forms","Old Italic","Gothic","Deseret","Byzantine Musical Symbols","Musical Symbols","Mathematical Alphanumeric Symbols","CJK Unified Ideographs Extension B","CJK Compatibility Ideographs Supplement","Tags"]),iNe=Cat(z_(SNe,1),lXt,25,15,[66304,66351,66352,66383,66560,66639,118784,119039,119040,119295,119808,120831,131072,173782,194560,195103,917504,917631])}function gKt(){gKt=M,Tre=new aot("OUT_T_L",0,(X8(),Yie),(z9(),ere),(Let(),zie),zie,Cat(z_(Lte,1),VKt,21,0,[_U((JPt(),PSe),Cat(z_(zSe,1),PYt,93,0,[NSe,ASe]))])),Ere=new aot("OUT_T_C",1,Kie,ere,zie,Hie,Cat(z_(Lte,1),VKt,21,0,[_U(PSe,Cat(z_(zSe,1),PYt,93,0,[NSe,CSe])),_U(PSe,Cat(z_(zSe,1),PYt,93,0,[NSe,CSe,SSe]))])),Cre=new aot("OUT_T_R",2,Xie,ere,zie,Uie,Cat(z_(Lte,1),VKt,21,0,[_U(PSe,Cat(z_(zSe,1),PYt,93,0,[NSe,ISe]))])),mre=new aot("OUT_B_L",3,Yie,ire,Uie,zie,Cat(z_(Lte,1),VKt,21,0,[_U(PSe,Cat(z_(zSe,1),PYt,93,0,[OSe,ASe]))])),pre=new aot("OUT_B_C",4,Kie,ire,Uie,Hie,Cat(z_(Lte,1),VKt,21,0,[_U(PSe,Cat(z_(zSe,1),PYt,93,0,[OSe,CSe])),_U(PSe,Cat(z_(zSe,1),PYt,93,0,[OSe,CSe,SSe]))])),bre=new aot("OUT_B_R",5,Xie,ire,Uie,Uie,Cat(z_(Lte,1),VKt,21,0,[_U(PSe,Cat(z_(zSe,1),PYt,93,0,[OSe,ISe]))])),vre=new aot("OUT_L_T",6,Xie,ire,zie,zie,Cat(z_(Lte,1),VKt,21,0,[_U(PSe,Cat(z_(zSe,1),PYt,93,0,[ASe,NSe,SSe]))])),yre=new aot("OUT_L_C",7,Xie,nre,Hie,zie,Cat(z_(Lte,1),VKt,21,0,[_U(PSe,Cat(z_(zSe,1),PYt,93,0,[ASe,DSe])),_U(PSe,Cat(z_(zSe,1),PYt,93,0,[ASe,DSe,SSe]))])),wre=new aot("OUT_L_B",8,Xie,ere,Uie,zie,Cat(z_(Lte,1),VKt,21,0,[_U(PSe,Cat(z_(zSe,1),PYt,93,0,[ASe,OSe,SSe]))])),xre=new aot("OUT_R_T",9,Yie,ire,zie,Uie,Cat(z_(Lte,1),VKt,21,0,[_U(PSe,Cat(z_(zSe,1),PYt,93,0,[ISe,NSe,SSe]))])),kre=new aot("OUT_R_C",10,Yie,nre,Hie,Uie,Cat(z_(Lte,1),VKt,21,0,[_U(PSe,Cat(z_(zSe,1),PYt,93,0,[ISe,DSe])),_U(PSe,Cat(z_(zSe,1),PYt,93,0,[ISe,DSe,SSe]))])),_re=new aot("OUT_R_B",11,Yie,ere,Uie,Uie,Cat(z_(Lte,1),VKt,21,0,[_U(PSe,Cat(z_(zSe,1),PYt,93,0,[ISe,OSe,SSe]))])),fre=new aot("IN_T_L",12,Yie,ire,zie,zie,Cat(z_(Lte,1),VKt,21,0,[_U(MSe,Cat(z_(zSe,1),PYt,93,0,[NSe,ASe])),_U(MSe,Cat(z_(zSe,1),PYt,93,0,[NSe,ASe,SSe]))])),dre=new aot("IN_T_C",13,Kie,ire,zie,Hie,Cat(z_(Lte,1),VKt,21,0,[_U(MSe,Cat(z_(zSe,1),PYt,93,0,[NSe,CSe])),_U(MSe,Cat(z_(zSe,1),PYt,93,0,[NSe,CSe,SSe]))])),gre=new aot("IN_T_R",14,Xie,ire,zie,Uie,Cat(z_(Lte,1),VKt,21,0,[_U(MSe,Cat(z_(zSe,1),PYt,93,0,[NSe,ISe])),_U(MSe,Cat(z_(zSe,1),PYt,93,0,[NSe,ISe,SSe]))])),ure=new aot("IN_C_L",15,Yie,nre,Hie,zie,Cat(z_(Lte,1),VKt,21,0,[_U(MSe,Cat(z_(zSe,1),PYt,93,0,[DSe,ASe])),_U(MSe,Cat(z_(zSe,1),PYt,93,0,[DSe,ASe,SSe]))])),lre=new aot("IN_C_C",16,Kie,nre,Hie,Hie,Cat(z_(Lte,1),VKt,21,0,[_U(MSe,Cat(z_(zSe,1),PYt,93,0,[DSe,CSe])),_U(MSe,Cat(z_(zSe,1),PYt,93,0,[DSe,CSe,SSe]))])),hre=new aot("IN_C_R",17,Xie,nre,Hie,Uie,Cat(z_(Lte,1),VKt,21,0,[_U(MSe,Cat(z_(zSe,1),PYt,93,0,[DSe,ISe])),_U(MSe,Cat(z_(zSe,1),PYt,93,0,[DSe,ISe,SSe]))])),are=new aot("IN_B_L",18,Yie,ere,Uie,zie,Cat(z_(Lte,1),VKt,21,0,[_U(MSe,Cat(z_(zSe,1),PYt,93,0,[OSe,ASe])),_U(MSe,Cat(z_(zSe,1),PYt,93,0,[OSe,ASe,SSe]))])),sre=new aot("IN_B_C",19,Kie,ere,Uie,Hie,Cat(z_(Lte,1),VKt,21,0,[_U(MSe,Cat(z_(zSe,1),PYt,93,0,[OSe,CSe])),_U(MSe,Cat(z_(zSe,1),PYt,93,0,[OSe,CSe,SSe]))])),cre=new aot("IN_B_R",20,Xie,ere,Uie,Uie,Cat(z_(Lte,1),VKt,21,0,[_U(MSe,Cat(z_(zSe,1),PYt,93,0,[OSe,ISe])),_U(MSe,Cat(z_(zSe,1),PYt,93,0,[OSe,ISe,SSe]))])),Are=new aot(lQt,21,null,null,null,null,Cat(z_(Lte,1),VKt,21,0,[]))}function pKt(){pKt=M,tOe=(KG(),QPe).b,jV(Get(KX(QPe.b),0),34),jV(Get(KX(QPe.b),1),18),JPe=QPe.a,jV(Get(KX(QPe.a),0),34),jV(Get(KX(QPe.a),1),18),jV(Get(KX(QPe.a),2),18),jV(Get(KX(QPe.a),3),18),jV(Get(KX(QPe.a),4),18),eOe=QPe.o,jV(Get(KX(QPe.o),0),34),jV(Get(KX(QPe.o),1),34),iOe=jV(Get(KX(QPe.o),2),18),jV(Get(KX(QPe.o),3),18),jV(Get(KX(QPe.o),4),18),jV(Get(KX(QPe.o),5),18),jV(Get(KX(QPe.o),6),18),jV(Get(KX(QPe.o),7),18),jV(Get(KX(QPe.o),8),18),jV(Get(KX(QPe.o),9),18),jV(Get(KX(QPe.o),10),18),jV(Get(KX(QPe.o),11),18),jV(Get(KX(QPe.o),12),18),jV(Get(KX(QPe.o),13),18),jV(Get(KX(QPe.o),14),18),jV(Get(KX(QPe.o),15),18),jV(Get(GX(QPe.o),0),59),jV(Get(GX(QPe.o),1),59),jV(Get(GX(QPe.o),2),59),jV(Get(GX(QPe.o),3),59),jV(Get(GX(QPe.o),4),59),jV(Get(GX(QPe.o),5),59),jV(Get(GX(QPe.o),6),59),jV(Get(GX(QPe.o),7),59),jV(Get(GX(QPe.o),8),59),jV(Get(GX(QPe.o),9),59),nOe=QPe.p,jV(Get(KX(QPe.p),0),34),jV(Get(KX(QPe.p),1),34),jV(Get(KX(QPe.p),2),34),jV(Get(KX(QPe.p),3),34),jV(Get(KX(QPe.p),4),18),jV(Get(KX(QPe.p),5),18),jV(Get(GX(QPe.p),0),59),jV(Get(GX(QPe.p),1),59),rOe=QPe.q,jV(Get(KX(QPe.q),0),34),oOe=QPe.v,jV(Get(KX(QPe.v),0),18),jV(Get(GX(QPe.v),0),59),jV(Get(GX(QPe.v),1),59),jV(Get(GX(QPe.v),2),59),sOe=QPe.w,jV(Get(KX(QPe.w),0),34),jV(Get(KX(QPe.w),1),34),jV(Get(KX(QPe.w),2),34),jV(Get(KX(QPe.w),3),18),aOe=QPe.B,jV(Get(KX(QPe.B),0),18),jV(Get(GX(QPe.B),0),59),jV(Get(GX(QPe.B),1),59),jV(Get(GX(QPe.B),2),59),uOe=QPe.Q,jV(Get(KX(QPe.Q),0),18),jV(Get(GX(QPe.Q),0),59),hOe=QPe.R,jV(Get(KX(QPe.R),0),34),dOe=QPe.S,jV(Get(GX(QPe.S),0),59),jV(Get(GX(QPe.S),1),59),jV(Get(GX(QPe.S),2),59),jV(Get(GX(QPe.S),3),59),jV(Get(GX(QPe.S),4),59),jV(Get(GX(QPe.S),5),59),jV(Get(GX(QPe.S),6),59),jV(Get(GX(QPe.S),7),59),jV(Get(GX(QPe.S),8),59),jV(Get(GX(QPe.S),9),59),jV(Get(GX(QPe.S),10),59),jV(Get(GX(QPe.S),11),59),jV(Get(GX(QPe.S),12),59),jV(Get(GX(QPe.S),13),59),jV(Get(GX(QPe.S),14),59),fOe=QPe.T,jV(Get(KX(QPe.T),0),18),jV(Get(KX(QPe.T),2),18),gOe=jV(Get(KX(QPe.T),3),18),jV(Get(KX(QPe.T),4),18),jV(Get(GX(QPe.T),0),59),jV(Get(GX(QPe.T),1),59),jV(Get(KX(QPe.T),1),18),pOe=QPe.U,jV(Get(KX(QPe.U),0),34),jV(Get(KX(QPe.U),1),34),jV(Get(KX(QPe.U),2),18),jV(Get(KX(QPe.U),3),18),jV(Get(KX(QPe.U),4),18),jV(Get(KX(QPe.U),5),18),jV(Get(GX(QPe.U),0),59),mOe=QPe.V,jV(Get(KX(QPe.V),0),18),bOe=QPe.W,jV(Get(KX(QPe.W),0),34),jV(Get(KX(QPe.W),1),34),jV(Get(KX(QPe.W),2),34),jV(Get(KX(QPe.W),3),18),jV(Get(KX(QPe.W),4),18),jV(Get(KX(QPe.W),5),18),yOe=QPe.bb,jV(Get(KX(QPe.bb),0),34),jV(Get(KX(QPe.bb),1),34),jV(Get(KX(QPe.bb),2),34),jV(Get(KX(QPe.bb),3),34),jV(Get(KX(QPe.bb),4),34),jV(Get(KX(QPe.bb),5),34),jV(Get(KX(QPe.bb),6),34),jV(Get(KX(QPe.bb),7),18),jV(Get(GX(QPe.bb),0),59),jV(Get(GX(QPe.bb),1),59),vOe=QPe.eb,jV(Get(KX(QPe.eb),0),34),jV(Get(KX(QPe.eb),1),34),jV(Get(KX(QPe.eb),2),34),jV(Get(KX(QPe.eb),3),34),jV(Get(KX(QPe.eb),4),34),jV(Get(KX(QPe.eb),5),34),jV(Get(KX(QPe.eb),6),18),jV(Get(KX(QPe.eb),7),18),wOe=QPe.ab,jV(Get(KX(QPe.ab),0),34),jV(Get(KX(QPe.ab),1),34),cOe=QPe.H,jV(Get(KX(QPe.H),0),18),jV(Get(KX(QPe.H),1),18),jV(Get(KX(QPe.H),2),18),jV(Get(KX(QPe.H),3),18),jV(Get(KX(QPe.H),4),18),jV(Get(KX(QPe.H),5),18),jV(Get(GX(QPe.H),0),59),_Oe=QPe.db,jV(Get(KX(QPe.db),0),18),lOe=QPe.M}function mKt(t){var e;t.O||(t.O=!0,Drt(t,"type"),Nrt(t,"ecore.xml.type"),Lrt(t,T9t),e=jV(POt((WT(),zPe),T9t),1945),l8(yZ(t.fb),t.b),H0(t.b,hDe,"AnyType",!1,!1,!0),sot(jV(Get(KX(t.b),0),34),t.wb.D,B8t,null,0,-1,hDe,!1,!1,!0,!1,!1,!1),sot(jV(Get(KX(t.b),1),34),t.wb.D,"any",null,0,-1,hDe,!0,!0,!0,!1,!1,!0),sot(jV(Get(KX(t.b),2),34),t.wb.D,"anyAttribute",null,0,-1,hDe,!1,!1,!0,!1,!1,!1),H0(t.bb,zDe,M9t,!1,!1,!0),sot(jV(Get(KX(t.bb),0),34),t.gb,"data",null,0,1,zDe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.bb),1),34),t.gb,X6t,null,1,1,zDe,!1,!1,!0,!1,!0,!1),H0(t.fb,HDe,P9t,!1,!1,!0),sot(jV(Get(KX(t.fb),0),34),e.gb,"rawValue",null,0,1,HDe,!0,!0,!0,!1,!0,!0),sot(jV(Get(KX(t.fb),1),34),e.a,k6t,null,0,1,HDe,!0,!0,!0,!1,!0,!0),Evt(jV(Get(KX(t.fb),2),18),t.wb.q,null,"instanceType",1,1,HDe,!1,!1,!0,!1,!1,!1,!1),H0(t.qb,UDe,O9t,!1,!1,!0),sot(jV(Get(KX(t.qb),0),34),t.wb.D,B8t,null,0,-1,null,!1,!1,!0,!1,!1,!1),Evt(jV(Get(KX(t.qb),1),18),t.wb.ab,null,"xMLNSPrefixMap",0,-1,null,!0,!1,!0,!0,!1,!1,!1),Evt(jV(Get(KX(t.qb),2),18),t.wb.ab,null,"xSISchemaLocation",0,-1,null,!0,!1,!0,!0,!1,!1,!1),sot(jV(Get(KX(t.qb),3),34),t.gb,"cDATA",null,0,-2,null,!0,!0,!0,!1,!1,!0),sot(jV(Get(KX(t.qb),4),34),t.gb,"comment",null,0,-2,null,!0,!0,!0,!1,!1,!0),Evt(jV(Get(KX(t.qb),5),18),t.bb,null,rte,0,-2,null,!0,!0,!0,!0,!1,!1,!0),sot(jV(Get(KX(t.qb),6),34),t.gb,I6t,null,0,-2,null,!0,!0,!0,!1,!1,!0),fY(t.a,Mte,"AnySimpleType",!0),fY(t.c,Yee,"AnyURI",!0),fY(t.d,z_(PNe,1),"Base64Binary",!0),fY(t.e,INe,"Boolean",!0),fY(t.f,vee,"BooleanObject",!0),fY(t.g,PNe,"Byte",!0),fY(t.i,xee,"ByteObject",!0),fY(t.j,Yee,"Date",!0),fY(t.k,Yee,"DateTime",!0),fY(t.n,nne,"Decimal",!0),fY(t.o,ONe,"Double",!0),fY(t.p,Cee,"DoubleObject",!0),fY(t.q,Yee,"Duration",!0),fY(t.s,Rte,"ENTITIES",!0),fY(t.r,Rte,"ENTITIESBase",!0),fY(t.t,Yee,F9t,!0),fY(t.u,DNe,"Float",!0),fY(t.v,Aee,"FloatObject",!0),fY(t.w,Yee,"GDay",!0),fY(t.B,Yee,"GMonth",!0),fY(t.A,Yee,"GMonthDay",!0),fY(t.C,Yee,"GYear",!0),fY(t.D,Yee,"GYearMonth",!0),fY(t.F,z_(PNe,1),"HexBinary",!0),fY(t.G,Yee,"ID",!0),fY(t.H,Yee,"IDREF",!0),fY(t.J,Rte,"IDREFS",!0),fY(t.I,Rte,"IDREFSBase",!0),fY(t.K,SNe,"Int",!0),fY(t.M,ane,"Integer",!0),fY(t.L,Mee,"IntObject",!0),fY(t.P,Yee,"Language",!0),fY(t.Q,MNe,"Long",!0),fY(t.R,Ree,"LongObject",!0),fY(t.S,Yee,"Name",!0),fY(t.T,Yee,j9t,!0),fY(t.U,ane,"NegativeInteger",!0),fY(t.V,Yee,Y9t,!0),fY(t.X,Rte,"NMTOKENS",!0),fY(t.W,Rte,"NMTOKENSBase",!0),fY(t.Y,ane,"NonNegativeInteger",!0),fY(t.Z,ane,"NonPositiveInteger",!0),fY(t.$,Yee,"NormalizedString",!0),fY(t._,Yee,"NOTATION",!0),fY(t.ab,Yee,"PositiveInteger",!0),fY(t.cb,Yee,"QName",!0),fY(t.db,NNe,"Short",!0),fY(t.eb,Fee,"ShortObject",!0),fY(t.gb,Yee,zYt,!0),fY(t.hb,Yee,"Time",!0),fY(t.ib,Yee,"Token",!0),fY(t.jb,NNe,"UnsignedByte",!0),fY(t.kb,Fee,"UnsignedByteObject",!0),fY(t.lb,MNe,"UnsignedInt",!0),fY(t.mb,Ree,"UnsignedIntObject",!0),fY(t.nb,ane,"UnsignedLong",!0),fY(t.ob,SNe,"UnsignedShort",!0),fY(t.pb,Mee,"UnsignedShortObject",!0),Out(t,T9t),yKt(t))}function bKt(t){OT(t,new EEt(bk(fk(mk(dk(pk(gk(new ma,f1t),"ELK Layered"),"Layer-based algorithm provided by the Eclipse Layout Kernel. Arranges as many edges as possible into one direction by placing nodes into subsequent layers. This implementation supports different routing styles (straight, orthogonal, splines); if orthogonal routing is selected, arbitrary port constraints are respected, thus enabling the layout of block diagrams such as actor-oriented models or circuit schematics. Furthermore, full layout of compound graphs with cross-hierarchy edges is supported when the respective option is activated on the top level."),new Io),f1t),_U((lPt(),tPe),Cat(z_(iPe,1),PYt,237,0,[ZMe,QMe,XMe,JMe,KMe,GMe]))))),o2(t,f1t,O2t,wbt(pbe)),o2(t,f1t,D2t,wbt(mbe)),o2(t,f1t,WQt,wbt(bbe)),o2(t,f1t,N2t,wbt(wbe)),o2(t,f1t,wJt,wbt(vbe)),o2(t,f1t,L2t,wbt(_be)),o2(t,f1t,R2t,wbt(Ebe)),o2(t,f1t,B2t,wbt(Cbe)),o2(t,f1t,F2t,wbt(Abe)),o2(t,f1t,j2t,wbt(Tbe)),o2(t,f1t,bJt,wbt(Sbe)),o2(t,f1t,$2t,wbt(Mbe)),o2(t,f1t,V2t,wbt(Obe)),o2(t,f1t,z2t,wbt(xbe)),o2(t,f1t,O0t,wbt(gbe)),o2(t,f1t,N0t,wbt(ybe)),o2(t,f1t,D0t,wbt(kbe)),o2(t,f1t,L0t,wbt(Ibe)),o2(t,f1t,mJt,ndt(0)),o2(t,f1t,R0t,wbt(lbe)),o2(t,f1t,B0t,wbt(ube)),o2(t,f1t,F0t,wbt(hbe)),o2(t,f1t,q0t,wbt(Hbe)),o2(t,f1t,W0t,wbt(Lbe)),o2(t,f1t,G0t,wbt(Rbe)),o2(t,f1t,K0t,wbt(jbe)),o2(t,f1t,Y0t,wbt(Bbe)),o2(t,f1t,X0t,wbt(Fbe)),o2(t,f1t,Z0t,wbt(qbe)),o2(t,f1t,Q0t,wbt(Ube)),o2(t,f1t,J0t,wbt(Vbe)),o2(t,f1t,t2t,wbt($be)),o2(t,f1t,e2t,wbt(zbe)),o2(t,f1t,T0t,wbt(Lme)),o2(t,f1t,C0t,wbt(Rme)),o2(t,f1t,I0t,wbt(nme)),o2(t,f1t,M0t,wbt(ime)),o2(t,f1t,YQt,Ume),o2(t,f1t,y2t,Qpe),o2(t,f1t,H2t,0),o2(t,f1t,yJt,ndt(1)),o2(t,f1t,KQt,gJt),o2(t,f1t,U2t,wbt(zme)),o2(t,f1t,kJt,wbt(tbe)),o2(t,f1t,q2t,wbt(obe)),o2(t,f1t,W2t,wbt(Hpe)),o2(t,f1t,G2t,wbt(ype)),o2(t,f1t,g2t,wbt(ame)),o2(t,f1t,vJt,(cN(),!0)),o2(t,f1t,K2t,wbt(dme)),o2(t,f1t,Y2t,wbt(fme)),o2(t,f1t,CJt,wbt(Fme)),o2(t,f1t,TJt,wbt(Vme)),o2(t,f1t,X2t,wbt(jme)),o2(t,f1t,Z2t,Wpe),o2(t,f1t,AJt,wbt(Mme)),o2(t,f1t,Q2t,wbt(Ime)),o2(t,f1t,SJt,wbt(ibe)),o2(t,f1t,J2t,wbt(nbe)),o2(t,f1t,t3t,wbt(rbe)),o2(t,f1t,e3t,Gme),o2(t,f1t,n3t,wbt(Yme)),o2(t,f1t,i3t,wbt(Xme)),o2(t,f1t,r3t,wbt(Zme)),o2(t,f1t,o3t,wbt(Kme)),o2(t,f1t,J1t,wbt(Nbe)),o2(t,f1t,n0t,wbt(Tme)),o2(t,f1t,c0t,wbt(Eme)),o2(t,f1t,Q1t,wbt(Dbe)),o2(t,f1t,i0t,wbt(yme)),o2(t,f1t,e0t,wbt(zpe)),o2(t,f1t,h0t,wbt(Vpe)),o2(t,f1t,d0t,wbt(Dpe)),o2(t,f1t,b0t,wbt(Npe)),o2(t,f1t,w0t,wbt(Rpe)),o2(t,f1t,y0t,wbt(Lpe)),o2(t,f1t,g0t,wbt($pe)),o2(t,f1t,K1t,wbt(Ame)),o2(t,f1t,Y1t,wbt(Sme)),o2(t,f1t,G1t,wbt(pme)),o2(t,f1t,v0t,wbt(Bme)),o2(t,f1t,x0t,wbt(Ome)),o2(t,f1t,W1t,wbt(ome)),o2(t,f1t,E0t,wbt(Nme)),o2(t,f1t,A0t,wbt(tme)),o2(t,f1t,S0t,wbt(eme)),o2(t,f1t,s3t,wbt(Ope)),o2(t,f1t,k0t,wbt(Pme)),o2(t,f1t,$0t,wbt(Tpe)),o2(t,f1t,V0t,wbt(Epe)),o2(t,f1t,j0t,wbt(xpe)),o2(t,f1t,z0t,wbt(lme)),o2(t,f1t,H0t,wbt(cme)),o2(t,f1t,U0t,wbt(ume)),o2(t,f1t,$Jt,wbt($me)),o2(t,f1t,a3t,wbt(mme)),o2(t,f1t,GQt,wbt(rme)),o2(t,f1t,c3t,wbt(Ype)),o2(t,f1t,xJt,wbt(Kpe)),o2(t,f1t,f0t,wbt(Bpe)),o2(t,f1t,l3t,wbt(ebe)),o2(t,f1t,u3t,wbt(kpe)),o2(t,f1t,h3t,wbt(hme)),o2(t,f1t,d3t,wbt(Qme)),o2(t,f1t,f3t,wbt(qme)),o2(t,f1t,g3t,wbt(Wme)),o2(t,f1t,s0t,wbt(_me)),o2(t,f1t,a0t,wbt(kme)),o2(t,f1t,p3t,wbt(abe)),o2(t,f1t,X1t,wbt(vpe)),o2(t,f1t,l0t,wbt(xme)),o2(t,f1t,n2t,wbt(Xpe)),o2(t,f1t,i2t,wbt(Gpe)),o2(t,f1t,m3t,wbt(Cme)),o2(t,f1t,u0t,wbt(bme)),o2(t,f1t,_0t,wbt(Dme)),o2(t,f1t,b3t,wbt(Pbe)),o2(t,f1t,q1t,wbt(qpe)),o2(t,f1t,Z1t,wbt(sbe)),o2(t,f1t,P0t,wbt(Jpe)),o2(t,f1t,r0t,wbt(wme)),o2(t,f1t,p0t,wbt(Fpe)),o2(t,f1t,w3t,wbt(gme)),o2(t,f1t,o0t,wbt(vme)),o2(t,f1t,m0t,wbt(jpe)),o2(t,f1t,r2t,wbt(Ppe)),o2(t,f1t,a2t,wbt(Ipe)),o2(t,f1t,c2t,wbt(Ape)),o2(t,f1t,l2t,wbt(Spe)),o2(t,f1t,o2t,wbt(Mpe)),o2(t,f1t,s2t,wbt(Cpe)),o2(t,f1t,t0t,wbt(sme))}function wKt(t,e){var n;return ZDe||(ZDe=new Db,QDe=new Db,fKt(),fKt(),ypt(n=new x0(4),"\t\n\r\r  "),bJ(ZDe,ute,n),bJ(QDe,ute,P$t(n)),ypt(n=new x0(4),fte),bJ(ZDe,cte,n),bJ(QDe,cte,P$t(n)),ypt(n=new x0(4),fte),bJ(ZDe,cte,n),bJ(QDe,cte,P$t(n)),ypt(n=new x0(4),gte),czt(n,jV(EQ(ZDe,cte),117)),bJ(ZDe,lte,n),bJ(QDe,lte,P$t(n)),ypt(n=new x0(4),"-.0:AZ__az··ÀÖØöøıĴľŁňŊžƀǃǍǰǴǵǺȗɐʨʻˁːˑ̀͠͡ͅΆΊΌΌΎΡΣώϐϖϚϚϜϜϞϞϠϠϢϳЁЌЎяёќўҁ҃҆ҐӄӇӈӋӌӐӫӮӵӸӹԱՖՙՙաֆֹֻֽֿֿׁׂ֑֣֡ׄׄאתװײءغـْ٠٩ٰڷںھۀێېۓە۪ۭۨ۰۹ँःअह़्॑॔क़ॣ०९ঁঃঅঌএঐওনপরললশহ়়াৄেৈো্ৗৗড়ঢ়য়ৣ০ৱਂਂਅਊਏਐਓਨਪਰਲਲ਼ਵਸ਼ਸਹ਼਼ਾੂੇੈੋ੍ਖ਼ੜਫ਼ਫ਼੦ੴઁઃઅઋઍઍએઑઓનપરલળવહ઼ૅેૉો્ૠૠ૦૯ଁଃଅଌଏଐଓନପରଲଳଶହ଼ୃେୈୋ୍ୖୗଡ଼ଢ଼ୟୡ୦୯ஂஃஅஊஎஐஒகஙசஜஜஞடணதநபமவஷஹாூெைொ்ௗௗ௧௯ఁఃఅఌఎఐఒనపళవహాౄెైొ్ౕౖౠౡ౦౯ಂಃಅಌಎಐಒನಪಳವಹಾೄೆೈೊ್ೕೖೞೞೠೡ೦೯ംഃഅഌഎഐഒനപഹാൃെൈൊ്ൗൗൠൡ൦൯กฮะฺเ๎๐๙ກຂຄຄງຈຊຊຍຍດທນຟມຣລລວວສຫອຮະູົຽເໄໆໆ່ໍ໐໙༘༙༠༩༹༹༵༵༷༷༾ཇཉཀྵ྄ཱ྆ྋྐྕྗྗྙྭྱྷྐྵྐྵႠჅაჶᄀᄀᄂᄃᄅᄇᄉᄉᄋᄌᄎᄒᄼᄼᄾᄾᅀᅀᅌᅌᅎᅎᅐᅐᅔᅕᅙᅙᅟᅡᅣᅣᅥᅥᅧᅧᅩᅩᅭᅮᅲᅳᅵᅵᆞᆞᆨᆨᆫᆫᆮᆯᆷᆸᆺᆺᆼᇂᇫᇫᇰᇰᇹᇹḀẛẠỹἀἕἘἝἠὅὈὍὐὗὙὙὛὛὝὝὟώᾀᾴᾶᾼιιῂῄῆῌῐΐῖΊῠῬῲῴῶῼ⃐⃜⃡⃡ΩΩKÅ℮℮ↀↂ々々〇〇〡〯〱〵ぁゔ゙゚ゝゞァヺーヾㄅㄬ一龥가힣"),bJ(ZDe,hte,n),bJ(QDe,hte,P$t(n)),ypt(n=new x0(4),gte),XLt(n,95,95),XLt(n,58,58),bJ(ZDe,dte,n),bJ(QDe,dte,P$t(n))),jV(EQ(e?ZDe:QDe,t),136)}function yKt(t){KOt(t.a,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"anySimpleType"])),KOt(t.b,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"anyType",j8t,B8t])),KOt(jV(Get(KX(t.b),0),34),F8t,Cat(z_(Yee,1),cYt,2,6,[j8t,w9t,t7t,":mixed"])),KOt(jV(Get(KX(t.b),1),34),F8t,Cat(z_(Yee,1),cYt,2,6,[j8t,w9t,E9t,C9t,t7t,":1",L9t,"lax"])),KOt(jV(Get(KX(t.b),2),34),F8t,Cat(z_(Yee,1),cYt,2,6,[j8t,m9t,E9t,C9t,t7t,":2",L9t,"lax"])),KOt(t.c,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"anyURI",x9t,y9t])),KOt(t.d,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"base64Binary",x9t,y9t])),KOt(t.e,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,PKt,x9t,y9t])),KOt(t.f,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"boolean:Object",Z8t,PKt])),KOt(t.g,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,T8t])),KOt(t.i,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"byte:Object",Z8t,T8t])),KOt(t.j,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"date",x9t,y9t])),KOt(t.k,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"dateTime",x9t,y9t])),KOt(t.n,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"decimal",x9t,y9t])),KOt(t.o,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,A8t,x9t,y9t])),KOt(t.p,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"double:Object",Z8t,A8t])),KOt(t.q,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"duration",x9t,y9t])),KOt(t.s,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"ENTITIES",Z8t,R9t,B9t,"1"])),KOt(t.r,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,R9t,v9t,F9t])),KOt(t.t,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,F9t,Z8t,j9t])),KOt(t.u,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,S8t,x9t,y9t])),KOt(t.v,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"float:Object",Z8t,S8t])),KOt(t.w,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"gDay",x9t,y9t])),KOt(t.B,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"gMonth",x9t,y9t])),KOt(t.A,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"gMonthDay",x9t,y9t])),KOt(t.C,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"gYear",x9t,y9t])),KOt(t.D,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"gYearMonth",x9t,y9t])),KOt(t.F,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"hexBinary",x9t,y9t])),KOt(t.G,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"ID",Z8t,j9t])),KOt(t.H,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"IDREF",Z8t,j9t])),KOt(t.J,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"IDREFS",Z8t,$9t,B9t,"1"])),KOt(t.I,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,$9t,v9t,"IDREF"])),KOt(t.K,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,I8t])),KOt(t.M,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,V9t])),KOt(t.L,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"int:Object",Z8t,I8t])),KOt(t.P,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"language",Z8t,z9t,H9t,U9t])),KOt(t.Q,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,M8t])),KOt(t.R,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"long:Object",Z8t,M8t])),KOt(t.S,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"Name",Z8t,z9t,H9t,q9t])),KOt(t.T,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,j9t,Z8t,"Name",H9t,W9t])),KOt(t.U,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"negativeInteger",Z8t,G9t,K9t,"-1"])),KOt(t.V,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,Y9t,Z8t,z9t,H9t,"\\c+"])),KOt(t.X,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"NMTOKENS",Z8t,X9t,B9t,"1"])),KOt(t.W,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,X9t,v9t,Y9t])),KOt(t.Y,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,Z9t,Z8t,V9t,Q9t,"0"])),KOt(t.Z,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,G9t,Z8t,V9t,K9t,"0"])),KOt(t.$,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,J9t,Z8t,DKt,x9t,"replace"])),KOt(t._,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"NOTATION",x9t,y9t])),KOt(t.ab,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"positiveInteger",Z8t,Z9t,Q9t,"1"])),KOt(t.bb,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"processingInstruction_._type",j8t,"empty"])),KOt(jV(Get(KX(t.bb),0),34),F8t,Cat(z_(Yee,1),cYt,2,6,[j8t,p9t,t7t,"data"])),KOt(jV(Get(KX(t.bb),1),34),F8t,Cat(z_(Yee,1),cYt,2,6,[j8t,p9t,t7t,X6t])),KOt(t.cb,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"QName",x9t,y9t])),KOt(t.db,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,P8t])),KOt(t.eb,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"short:Object",Z8t,P8t])),KOt(t.fb,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"simpleAnyType",j8t,g9t])),KOt(jV(Get(KX(t.fb),0),34),F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,":3",j8t,g9t])),KOt(jV(Get(KX(t.fb),1),34),F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,":4",j8t,g9t])),KOt(jV(Get(KX(t.fb),2),18),F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,":5",j8t,g9t])),KOt(t.gb,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,DKt,x9t,"preserve"])),KOt(t.hb,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"time",x9t,y9t])),KOt(t.ib,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,z9t,Z8t,J9t,x9t,y9t])),KOt(t.jb,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,tte,K9t,"255",Q9t,"0"])),KOt(t.kb,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"unsignedByte:Object",Z8t,tte])),KOt(t.lb,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,ete,K9t,"4294967295",Q9t,"0"])),KOt(t.mb,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"unsignedInt:Object",Z8t,ete])),KOt(t.nb,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"unsignedLong",Z8t,Z9t,K9t,nte,Q9t,"0"])),KOt(t.ob,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,ite,K9t,"65535",Q9t,"0"])),KOt(t.pb,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"unsignedShort:Object",Z8t,ite])),KOt(t.qb,F8t,Cat(z_(Yee,1),cYt,2,6,[t7t,"",j8t,B8t])),KOt(jV(Get(KX(t.qb),0),34),F8t,Cat(z_(Yee,1),cYt,2,6,[j8t,w9t,t7t,":mixed"])),KOt(jV(Get(KX(t.qb),1),18),F8t,Cat(z_(Yee,1),cYt,2,6,[j8t,p9t,t7t,"xmlns:prefix"])),KOt(jV(Get(KX(t.qb),2),18),F8t,Cat(z_(Yee,1),cYt,2,6,[j8t,p9t,t7t,"xsi:schemaLocation"])),KOt(jV(Get(KX(t.qb),3),34),F8t,Cat(z_(Yee,1),cYt,2,6,[j8t,b9t,t7t,"cDATA",_9t,k9t])),KOt(jV(Get(KX(t.qb),4),34),F8t,Cat(z_(Yee,1),cYt,2,6,[j8t,b9t,t7t,"comment",_9t,k9t])),KOt(jV(Get(KX(t.qb),5),18),F8t,Cat(z_(Yee,1),cYt,2,6,[j8t,b9t,t7t,rte,_9t,k9t])),KOt(jV(Get(KX(t.qb),6),34),F8t,Cat(z_(Yee,1),cYt,2,6,[j8t,b9t,t7t,I6t,_9t,k9t]))}function vKt(t){return bF("_UI_EMFDiagnostic_marker",t)?"EMF Problem":bF("_UI_CircularContainment_diagnostic",t)?"An object may not circularly contain itself":bF(f7t,t)?"Wrong character.":bF(g7t,t)?"Invalid reference number.":bF(p7t,t)?"A character is required after \\.":bF(m7t,t)?"'?' is not expected.  '(?:' or '(?=' or '(?!' or '(?<' or '(?#' or '(?>'?":bF(b7t,t)?"'(?<' or '(?<!' is expected.":bF(w7t,t)?"A comment is not terminated.":bF(y7t,t)?"')' is expected.":bF(v7t,t)?"Unexpected end of the pattern in a modifier group.":bF(_7t,t)?"':' is expected.":bF(k7t,t)?"Unexpected end of the pattern in a conditional group.":bF(x7t,t)?"A back reference or an anchor or a lookahead or a look-behind is expected in a conditional pattern.":bF(E7t,t)?"There are more than three choices in a conditional group.":bF(T7t,t)?"A character in U+0040-U+005f must follow \\c.":bF(C7t,t)?"A '{' is required before a character category.":bF(A7t,t)?"A property name is not closed by '}'.":bF(S7t,t)?"Unexpected meta character.":bF(I7t,t)?"Unknown property.":bF(M7t,t)?"A POSIX character class must be closed by ':]'.":bF(P7t,t)?"Unexpected end of the pattern in a character class.":bF(O7t,t)?"Unknown name for a POSIX character class.":bF("parser.cc.4",t)?"'-' is invalid here.":bF(D7t,t)?"']' is expected.":bF(N7t,t)?"'[' is invalid in a character class.  Write '\\['.":bF(L7t,t)?"']' is invalid in a character class.  Write '\\]'.":bF(R7t,t)?"'-' is an invalid character range. Write '\\-'.":bF(B7t,t)?"'[' is expected.":bF(F7t,t)?"')' or '-[' or '+[' or '&[' is expected.":bF(j7t,t)?"The range end code point is less than the start code point.":bF($7t,t)?"Invalid Unicode hex notation.":bF(V7t,t)?"Overflow in a hex notation.":bF(z7t,t)?"'\\x{' must be closed by '}'.":bF(H7t,t)?"Invalid Unicode code point.":bF(U7t,t)?"An anchor must not be here.":bF(q7t,t)?"This expression is not supported in the current option setting.":bF(W7t,t)?"Invalid quantifier. A digit is expected.":bF(G7t,t)?"Invalid quantifier. Invalid quantity or a '}' is missing.":bF(K7t,t)?"Invalid quantifier. A digit or '}' is expected.":bF(Y7t,t)?"Invalid quantifier. A min quantity must be <= a max quantity.":bF(X7t,t)?"Invalid quantifier. A quantity value overflow.":bF("_UI_PackageRegistry_extensionpoint",t)?"Ecore Package Registry for Generated Packages":bF("_UI_DynamicPackageRegistry_extensionpoint",t)?"Ecore Package Registry for Dynamic Packages":bF("_UI_FactoryRegistry_extensionpoint",t)?"Ecore Factory Override Registry":bF("_UI_URIExtensionParserRegistry_extensionpoint",t)?"URI Extension Parser Registry":bF("_UI_URIProtocolParserRegistry_extensionpoint",t)?"URI Protocol Parser Registry":bF("_UI_URIContentParserRegistry_extensionpoint",t)?"URI Content Parser Registry":bF("_UI_ContentHandlerRegistry_extensionpoint",t)?"Content Handler Registry":bF("_UI_URIMappingRegistry_extensionpoint",t)?"URI Converter Mapping Registry":bF("_UI_PackageRegistryImplementation_extensionpoint",t)?"Ecore Package Registry Implementation":bF("_UI_ValidationDelegateRegistry_extensionpoint",t)?"Validation Delegate Registry":bF("_UI_SettingDelegateRegistry_extensionpoint",t)?"Feature Setting Delegate Factory Registry":bF("_UI_InvocationDelegateRegistry_extensionpoint",t)?"Operation Invocation Delegate Factory Registry":bF("_UI_EClassInterfaceNotAbstract_diagnostic",t)?"A class that is an interface must also be abstract":bF("_UI_EClassNoCircularSuperTypes_diagnostic",t)?"A class may not be a super type of itself":bF("_UI_EClassNotWellFormedMapEntryNoInstanceClassName_diagnostic",t)?"A class that inherits from a map entry class must have instance class name 'java.util.Map$Entry'":bF("_UI_EReferenceOppositeOfOppositeInconsistent_diagnostic",t)?"The opposite of the opposite may not be a reference different from this one":bF("_UI_EReferenceOppositeNotFeatureOfType_diagnostic",t)?"The opposite must be a feature of the reference's type":bF("_UI_EReferenceTransientOppositeNotTransient_diagnostic",t)?"The opposite of a transient reference must be transient if it is proxy resolving":bF("_UI_EReferenceOppositeBothContainment_diagnostic",t)?"The opposite of a containment reference must not be a containment reference":bF("_UI_EReferenceConsistentUnique_diagnostic",t)?"A containment or bidirectional reference must be unique if its upper bound is different from 1":bF("_UI_ETypedElementNoType_diagnostic",t)?"The typed element must have a type":bF("_UI_EAttributeNoDataType_diagnostic",t)?"The generic attribute type must not refer to a class":bF("_UI_EReferenceNoClass_diagnostic",t)?"The generic reference type must not refer to a data type":bF("_UI_EGenericTypeNoTypeParameterAndClassifier_diagnostic",t)?"A generic type can't refer to both a type parameter and a classifier":bF("_UI_EGenericTypeNoClass_diagnostic",t)?"A generic super type must refer to a class":bF("_UI_EGenericTypeNoTypeParameterOrClassifier_diagnostic",t)?"A generic type in this context must refer to a classifier or a type parameter":bF("_UI_EGenericTypeBoundsOnlyForTypeArgument_diagnostic",t)?"A generic type may have bounds only when used as a type argument":bF("_UI_EGenericTypeNoUpperAndLowerBound_diagnostic",t)?"A generic type must not have both a lower and an upper bound":bF("_UI_EGenericTypeNoTypeParameterOrClassifierAndBound_diagnostic",t)?"A generic type with bounds must not also refer to a type parameter or classifier":bF("_UI_EGenericTypeNoArguments_diagnostic",t)?"A generic type may have arguments only if it refers to a classifier":bF("_UI_EGenericTypeOutOfScopeTypeParameter_diagnostic",t)?"A generic type may only refer to a type parameter that is in scope":t}function _Kt(t){var e,n,i,r,o,s,a;t.r||(t.r=!0,Drt(t,"graph"),Nrt(t,"graph"),Lrt(t,y6t),rat(t.o,"T"),l8(yZ(t.a),t.p),l8(yZ(t.f),t.a),l8(yZ(t.n),t.f),l8(yZ(t.g),t.n),l8(yZ(t.c),t.n),l8(yZ(t.i),t.c),l8(yZ(t.j),t.c),l8(yZ(t.d),t.f),l8(yZ(t.e),t.a),H0(t.p,qre,IQt,!0,!0,!1),a=xat(s=wlt(t.p,t.p,"setProperty")),e=ZY(t.o),n=new Rb,l8((!e.d&&(e.d=new MD(WPe,e,1)),e.d),n),vxt(n,i=QY(a)),qkt(s,e,_6t),qkt(s,e=QY(a),k6t),a=xat(s=wlt(t.p,null,"getProperty")),e=ZY(t.o),n=QY(a),l8((!e.d&&(e.d=new MD(WPe,e,1)),e.d),n),qkt(s,e,_6t),(o=VEt(s,e=QY(a),null))&&o.Fi(),s=wlt(t.p,t.wb.e,"hasProperty"),e=ZY(t.o),n=new Rb,l8((!e.d&&(e.d=new MD(WPe,e,1)),e.d),n),qkt(s,e,_6t),Pvt(s=wlt(t.p,t.p,"copyProperties"),t.p,x6t),s=wlt(t.p,null,"getAllProperties"),e=ZY(t.wb.P),n=ZY(t.o),l8((!e.d&&(e.d=new MD(WPe,e,1)),e.d),n),i=new Rb,l8((!n.d&&(n.d=new MD(WPe,n,1)),n.d),i),n=ZY(t.wb.M),l8((!e.d&&(e.d=new MD(WPe,e,1)),e.d),n),(r=VEt(s,e,null))&&r.Fi(),H0(t.a,PMe,U4t,!0,!1,!0),Evt(jV(Get(KX(t.a),0),18),t.k,null,E6t,0,-1,PMe,!1,!1,!0,!0,!1,!1,!1),H0(t.f,DMe,W4t,!0,!1,!0),Evt(jV(Get(KX(t.f),0),18),t.g,jV(Get(KX(t.g),0),18),"labels",0,-1,DMe,!1,!1,!0,!0,!1,!1,!1),sot(jV(Get(KX(t.f),1),34),t.wb._,T6t,null,0,1,DMe,!1,!1,!0,!1,!0,!1),H0(t.n,NMe,"ElkShape",!0,!1,!0),sot(jV(Get(KX(t.n),0),34),t.wb.t,C6t,GXt,1,1,NMe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.n),1),34),t.wb.t,A6t,GXt,1,1,NMe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.n),2),34),t.wb.t,"x",GXt,1,1,NMe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.n),3),34),t.wb.t,"y",GXt,1,1,NMe,!1,!1,!0,!1,!0,!1),Pvt(s=wlt(t.n,null,"setDimensions"),t.wb.t,A6t),Pvt(s,t.wb.t,C6t),Pvt(s=wlt(t.n,null,"setLocation"),t.wb.t,"x"),Pvt(s,t.wb.t,"y"),H0(t.g,zMe,Q4t,!1,!1,!0),Evt(jV(Get(KX(t.g),0),18),t.f,jV(Get(KX(t.f),0),18),S6t,0,1,zMe,!1,!1,!0,!1,!1,!1,!1),sot(jV(Get(KX(t.g),1),34),t.wb._,I6t,"",0,1,zMe,!1,!1,!0,!1,!0,!1),H0(t.c,LMe,G4t,!0,!1,!0),Evt(jV(Get(KX(t.c),0),18),t.d,jV(Get(KX(t.d),1),18),"outgoingEdges",0,-1,LMe,!1,!1,!0,!1,!0,!1,!1),Evt(jV(Get(KX(t.c),1),18),t.d,jV(Get(KX(t.d),2),18),"incomingEdges",0,-1,LMe,!1,!1,!0,!1,!0,!1,!1),H0(t.i,HMe,J4t,!1,!1,!0),Evt(jV(Get(KX(t.i),0),18),t.j,jV(Get(KX(t.j),0),18),"ports",0,-1,HMe,!1,!1,!0,!0,!1,!1,!1),Evt(jV(Get(KX(t.i),1),18),t.i,jV(Get(KX(t.i),2),18),M6t,0,-1,HMe,!1,!1,!0,!0,!1,!1,!1),Evt(jV(Get(KX(t.i),2),18),t.i,jV(Get(KX(t.i),1),18),S6t,0,1,HMe,!1,!1,!0,!1,!1,!1,!1),Evt(jV(Get(KX(t.i),3),18),t.d,jV(Get(KX(t.d),0),18),"containedEdges",0,-1,HMe,!1,!1,!0,!0,!1,!1,!1),sot(jV(Get(KX(t.i),4),34),t.wb.e,P6t,null,0,1,HMe,!0,!0,!1,!1,!0,!0),H0(t.j,UMe,t6t,!1,!1,!0),Evt(jV(Get(KX(t.j),0),18),t.i,jV(Get(KX(t.i),0),18),S6t,0,1,UMe,!1,!1,!0,!1,!1,!1,!1),H0(t.d,RMe,K4t,!1,!1,!0),Evt(jV(Get(KX(t.d),0),18),t.i,jV(Get(KX(t.i),3),18),"containingNode",0,1,RMe,!1,!1,!0,!1,!1,!1,!1),Evt(jV(Get(KX(t.d),1),18),t.c,jV(Get(KX(t.c),0),18),O6t,0,-1,RMe,!1,!1,!0,!1,!0,!1,!1),Evt(jV(Get(KX(t.d),2),18),t.c,jV(Get(KX(t.c),1),18),D6t,0,-1,RMe,!1,!1,!0,!1,!0,!1,!1),Evt(jV(Get(KX(t.d),3),18),t.e,jV(Get(KX(t.e),5),18),N6t,0,-1,RMe,!1,!1,!0,!0,!1,!1,!1),sot(jV(Get(KX(t.d),4),34),t.wb.e,"hyperedge",null,0,1,RMe,!0,!0,!1,!1,!0,!0),sot(jV(Get(KX(t.d),5),34),t.wb.e,P6t,null,0,1,RMe,!0,!0,!1,!1,!0,!0),sot(jV(Get(KX(t.d),6),34),t.wb.e,"selfloop",null,0,1,RMe,!0,!0,!1,!1,!0,!0),sot(jV(Get(KX(t.d),7),34),t.wb.e,"connected",null,0,1,RMe,!0,!0,!1,!1,!0,!0),H0(t.b,OMe,q4t,!1,!1,!0),sot(jV(Get(KX(t.b),0),34),t.wb.t,"x",GXt,1,1,OMe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.b),1),34),t.wb.t,"y",GXt,1,1,OMe,!1,!1,!0,!1,!0,!1),Pvt(s=wlt(t.b,null,"set"),t.wb.t,"x"),Pvt(s,t.wb.t,"y"),H0(t.e,BMe,Y4t,!1,!1,!0),sot(jV(Get(KX(t.e),0),34),t.wb.t,"startX",null,0,1,BMe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.e),1),34),t.wb.t,"startY",null,0,1,BMe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.e),2),34),t.wb.t,"endX",null,0,1,BMe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.e),3),34),t.wb.t,"endY",null,0,1,BMe,!1,!1,!0,!1,!0,!1),Evt(jV(Get(KX(t.e),4),18),t.b,null,L6t,0,-1,BMe,!1,!1,!0,!0,!1,!1,!1),Evt(jV(Get(KX(t.e),5),18),t.d,jV(Get(KX(t.d),3),18),S6t,0,1,BMe,!1,!1,!0,!1,!1,!1,!1),Evt(jV(Get(KX(t.e),6),18),t.c,null,R6t,0,1,BMe,!1,!1,!0,!1,!0,!1,!1),Evt(jV(Get(KX(t.e),7),18),t.c,null,B6t,0,1,BMe,!1,!1,!0,!1,!0,!1,!1),Evt(jV(Get(KX(t.e),8),18),t.e,jV(Get(KX(t.e),9),18),F6t,0,-1,BMe,!1,!1,!0,!1,!0,!1,!1),Evt(jV(Get(KX(t.e),9),18),t.e,jV(Get(KX(t.e),8),18),j6t,0,-1,BMe,!1,!1,!0,!1,!0,!1,!1),sot(jV(Get(KX(t.e),10),34),t.wb._,T6t,null,0,1,BMe,!1,!1,!0,!1,!0,!1),Pvt(s=wlt(t.e,null,"setStartLocation"),t.wb.t,"x"),Pvt(s,t.wb.t,"y"),Pvt(s=wlt(t.e,null,"setEndLocation"),t.wb.t,"x"),Pvt(s,t.wb.t,"y"),H0(t.k,Vte,"ElkPropertyToValueMapEntry",!1,!1,!1),e=ZY(t.o),n=new Rb,l8((!e.d&&(e.d=new MD(WPe,e,1)),e.d),n),FMt(jV(Get(KX(t.k),0),34),e,"key",Vte,!1,!1,!0,!1),sot(jV(Get(KX(t.k),1),34),t.s,k6t,null,0,1,Vte,!1,!1,!0,!1,!0,!1),fY(t.o,uTe,"IProperty",!0),fY(t.s,Mte,"PropertyValue",!0),Out(t,y6t))}function kKt(){kKt=M,(YDe=D7(PNe,b6t,25,$Xt,15,1))[9]=35,YDe[10]=19,YDe[13]=19,YDe[32]=51,YDe[33]=49,YDe[34]=33,wW(YDe,35,38,49),YDe[38]=1,wW(YDe,39,45,49),wW(YDe,45,47,-71),YDe[47]=49,wW(YDe,48,58,-71),YDe[58]=61,YDe[59]=49,YDe[60]=1,YDe[61]=49,YDe[62]=33,wW(YDe,63,65,49),wW(YDe,65,91,-3),wW(YDe,91,93,33),YDe[93]=1,YDe[94]=33,YDe[95]=-3,YDe[96]=33,wW(YDe,97,123,-3),wW(YDe,123,183,33),YDe[183]=-87,wW(YDe,184,192,33),wW(YDe,192,215,-19),YDe[215]=33,wW(YDe,216,247,-19),YDe[247]=33,wW(YDe,248,306,-19),wW(YDe,306,308,33),wW(YDe,308,319,-19),wW(YDe,319,321,33),wW(YDe,321,329,-19),YDe[329]=33,wW(YDe,330,383,-19),YDe[383]=33,wW(YDe,384,452,-19),wW(YDe,452,461,33),wW(YDe,461,497,-19),wW(YDe,497,500,33),wW(YDe,500,502,-19),wW(YDe,502,506,33),wW(YDe,506,536,-19),wW(YDe,536,592,33),wW(YDe,592,681,-19),wW(YDe,681,699,33),wW(YDe,699,706,-19),wW(YDe,706,720,33),wW(YDe,720,722,-87),wW(YDe,722,768,33),wW(YDe,768,838,-87),wW(YDe,838,864,33),wW(YDe,864,866,-87),wW(YDe,866,902,33),YDe[902]=-19,YDe[903]=-87,wW(YDe,904,907,-19),YDe[907]=33,YDe[908]=-19,YDe[909]=33,wW(YDe,910,930,-19),YDe[930]=33,wW(YDe,931,975,-19),YDe[975]=33,wW(YDe,976,983,-19),wW(YDe,983,986,33),YDe[986]=-19,YDe[987]=33,YDe[988]=-19,YDe[989]=33,YDe[990]=-19,YDe[991]=33,YDe[992]=-19,YDe[993]=33,wW(YDe,994,1012,-19),wW(YDe,1012,1025,33),wW(YDe,1025,1037,-19),YDe[1037]=33,wW(YDe,1038,1104,-19),YDe[1104]=33,wW(YDe,1105,1117,-19),YDe[1117]=33,wW(YDe,1118,1154,-19),YDe[1154]=33,wW(YDe,1155,1159,-87),wW(YDe,1159,1168,33),wW(YDe,1168,1221,-19),wW(YDe,1221,1223,33),wW(YDe,1223,1225,-19),wW(YDe,1225,1227,33),wW(YDe,1227,1229,-19),wW(YDe,1229,1232,33),wW(YDe,1232,1260,-19),wW(YDe,1260,1262,33),wW(YDe,1262,1270,-19),wW(YDe,1270,1272,33),wW(YDe,1272,1274,-19),wW(YDe,1274,1329,33),wW(YDe,1329,1367,-19),wW(YDe,1367,1369,33),YDe[1369]=-19,wW(YDe,1370,1377,33),wW(YDe,1377,1415,-19),wW(YDe,1415,1425,33),wW(YDe,1425,1442,-87),YDe[1442]=33,wW(YDe,1443,1466,-87),YDe[1466]=33,wW(YDe,1467,1470,-87),YDe[1470]=33,YDe[1471]=-87,YDe[1472]=33,wW(YDe,1473,1475,-87),YDe[1475]=33,YDe[1476]=-87,wW(YDe,1477,1488,33),wW(YDe,1488,1515,-19),wW(YDe,1515,1520,33),wW(YDe,1520,1523,-19),wW(YDe,1523,1569,33),wW(YDe,1569,1595,-19),wW(YDe,1595,1600,33),YDe[1600]=-87,wW(YDe,1601,1611,-19),wW(YDe,1611,1619,-87),wW(YDe,1619,1632,33),wW(YDe,1632,1642,-87),wW(YDe,1642,1648,33),YDe[1648]=-87,wW(YDe,1649,1720,-19),wW(YDe,1720,1722,33),wW(YDe,1722,1727,-19),YDe[1727]=33,wW(YDe,1728,1743,-19),YDe[1743]=33,wW(YDe,1744,1748,-19),YDe[1748]=33,YDe[1749]=-19,wW(YDe,1750,1765,-87),wW(YDe,1765,1767,-19),wW(YDe,1767,1769,-87),YDe[1769]=33,wW(YDe,1770,1774,-87),wW(YDe,1774,1776,33),wW(YDe,1776,1786,-87),wW(YDe,1786,2305,33),wW(YDe,2305,2308,-87),YDe[2308]=33,wW(YDe,2309,2362,-19),wW(YDe,2362,2364,33),YDe[2364]=-87,YDe[2365]=-19,wW(YDe,2366,2382,-87),wW(YDe,2382,2385,33),wW(YDe,2385,2389,-87),wW(YDe,2389,2392,33),wW(YDe,2392,2402,-19),wW(YDe,2402,2404,-87),wW(YDe,2404,2406,33),wW(YDe,2406,2416,-87),wW(YDe,2416,2433,33),wW(YDe,2433,2436,-87),YDe[2436]=33,wW(YDe,2437,2445,-19),wW(YDe,2445,2447,33),wW(YDe,2447,2449,-19),wW(YDe,2449,2451,33),wW(YDe,2451,2473,-19),YDe[2473]=33,wW(YDe,2474,2481,-19),YDe[2481]=33,YDe[2482]=-19,wW(YDe,2483,2486,33),wW(YDe,2486,2490,-19),wW(YDe,2490,2492,33),YDe[2492]=-87,YDe[2493]=33,wW(YDe,2494,2501,-87),wW(YDe,2501,2503,33),wW(YDe,2503,2505,-87),wW(YDe,2505,2507,33),wW(YDe,2507,2510,-87),wW(YDe,2510,2519,33),YDe[2519]=-87,wW(YDe,2520,2524,33),wW(YDe,2524,2526,-19),YDe[2526]=33,wW(YDe,2527,2530,-19),wW(YDe,2530,2532,-87),wW(YDe,2532,2534,33),wW(YDe,2534,2544,-87),wW(YDe,2544,2546,-19),wW(YDe,2546,2562,33),YDe[2562]=-87,wW(YDe,2563,2565,33),wW(YDe,2565,2571,-19),wW(YDe,2571,2575,33),wW(YDe,2575,2577,-19),wW(YDe,2577,2579,33),wW(YDe,2579,2601,-19),YDe[2601]=33,wW(YDe,2602,2609,-19),YDe[2609]=33,wW(YDe,2610,2612,-19),YDe[2612]=33,wW(YDe,2613,2615,-19),YDe[2615]=33,wW(YDe,2616,2618,-19),wW(YDe,2618,2620,33),YDe[2620]=-87,YDe[2621]=33,wW(YDe,2622,2627,-87),wW(YDe,2627,2631,33),wW(YDe,2631,2633,-87),wW(YDe,2633,2635,33),wW(YDe,2635,2638,-87),wW(YDe,2638,2649,33),wW(YDe,2649,2653,-19),YDe[2653]=33,YDe[2654]=-19,wW(YDe,2655,2662,33),wW(YDe,2662,2674,-87),wW(YDe,2674,2677,-19),wW(YDe,2677,2689,33),wW(YDe,2689,2692,-87),YDe[2692]=33,wW(YDe,2693,2700,-19),YDe[2700]=33,YDe[2701]=-19,YDe[2702]=33,wW(YDe,2703,2706,-19),YDe[2706]=33,wW(YDe,2707,2729,-19),YDe[2729]=33,wW(YDe,2730,2737,-19),YDe[2737]=33,wW(YDe,2738,2740,-19),YDe[2740]=33,wW(YDe,2741,2746,-19),wW(YDe,2746,2748,33),YDe[2748]=-87,YDe[2749]=-19,wW(YDe,2750,2758,-87),YDe[2758]=33,wW(YDe,2759,2762,-87),YDe[2762]=33,wW(YDe,2763,2766,-87),wW(YDe,2766,2784,33),YDe[2784]=-19,wW(YDe,2785,2790,33),wW(YDe,2790,2800,-87),wW(YDe,2800,2817,33),wW(YDe,2817,2820,-87),YDe[2820]=33,wW(YDe,2821,2829,-19),wW(YDe,2829,2831,33),wW(YDe,2831,2833,-19),wW(YDe,2833,2835,33),wW(YDe,2835,2857,-19),YDe[2857]=33,wW(YDe,2858,2865,-19),YDe[2865]=33,wW(YDe,2866,2868,-19),wW(YDe,2868,2870,33),wW(YDe,2870,2874,-19),wW(YDe,2874,2876,33),YDe[2876]=-87,YDe[2877]=-19,wW(YDe,2878,2884,-87),wW(YDe,2884,2887,33),wW(YDe,2887,2889,-87),wW(YDe,2889,2891,33),wW(YDe,2891,2894,-87),wW(YDe,2894,2902,33),wW(YDe,2902,2904,-87),wW(YDe,2904,2908,33),wW(YDe,2908,2910,-19),YDe[2910]=33,wW(YDe,2911,2914,-19),wW(YDe,2914,2918,33),wW(YDe,2918,2928,-87),wW(YDe,2928,2946,33),wW(YDe,2946,2948,-87),YDe[2948]=33,wW(YDe,2949,2955,-19),wW(YDe,2955,2958,33),wW(YDe,2958,2961,-19),YDe[2961]=33,wW(YDe,2962,2966,-19),wW(YDe,2966,2969,33),wW(YDe,2969,2971,-19),YDe[2971]=33,YDe[2972]=-19,YDe[2973]=33,wW(YDe,2974,2976,-19),wW(YDe,2976,2979,33),wW(YDe,2979,2981,-19),wW(YDe,2981,2984,33),wW(YDe,2984,2987,-19),wW(YDe,2987,2990,33),wW(YDe,2990,2998,-19),YDe[2998]=33,wW(YDe,2999,3002,-19),wW(YDe,3002,3006,33),wW(YDe,3006,3011,-87),wW(YDe,3011,3014,33),wW(YDe,3014,3017,-87),YDe[3017]=33,wW(YDe,3018,3022,-87),wW(YDe,3022,3031,33),YDe[3031]=-87,wW(YDe,3032,3047,33),wW(YDe,3047,3056,-87),wW(YDe,3056,3073,33),wW(YDe,3073,3076,-87),YDe[3076]=33,wW(YDe,3077,3085,-19),YDe[3085]=33,wW(YDe,3086,3089,-19),YDe[3089]=33,wW(YDe,3090,3113,-19),YDe[3113]=33,wW(YDe,3114,3124,-19),YDe[3124]=33,wW(YDe,3125,3130,-19),wW(YDe,3130,3134,33),wW(YDe,3134,3141,-87),YDe[3141]=33,wW(YDe,3142,3145,-87),YDe[3145]=33,wW(YDe,3146,3150,-87),wW(YDe,3150,3157,33),wW(YDe,3157,3159,-87),wW(YDe,3159,3168,33),wW(YDe,3168,3170,-19),wW(YDe,3170,3174,33),wW(YDe,3174,3184,-87),wW(YDe,3184,3202,33),wW(YDe,3202,3204,-87),YDe[3204]=33,wW(YDe,3205,3213,-19),YDe[3213]=33,wW(YDe,3214,3217,-19),YDe[3217]=33,wW(YDe,3218,3241,-19),YDe[3241]=33,wW(YDe,3242,3252,-19),YDe[3252]=33,wW(YDe,3253,3258,-19),wW(YDe,3258,3262,33),wW(YDe,3262,3269,-87),YDe[3269]=33,wW(YDe,3270,3273,-87),YDe[3273]=33,wW(YDe,3274,3278,-87),wW(YDe,3278,3285,33),wW(YDe,3285,3287,-87),wW(YDe,3287,3294,33),YDe[3294]=-19,YDe[3295]=33,wW(YDe,3296,3298,-19),wW(YDe,3298,3302,33),wW(YDe,3302,3312,-87),wW(YDe,3312,3330,33),wW(YDe,3330,3332,-87),YDe[3332]=33,wW(YDe,3333,3341,-19),YDe[3341]=33,wW(YDe,3342,3345,-19),YDe[3345]=33,wW(YDe,3346,3369,-19),YDe[3369]=33,wW(YDe,3370,3386,-19),wW(YDe,3386,3390,33),wW(YDe,3390,3396,-87),wW(YDe,3396,3398,33),wW(YDe,3398,3401,-87),YDe[3401]=33,wW(YDe,3402,3406,-87),wW(YDe,3406,3415,33),YDe[3415]=-87,wW(YDe,3416,3424,33),wW(YDe,3424,3426,-19),wW(YDe,3426,3430,33),wW(YDe,3430,3440,-87),wW(YDe,3440,3585,33),wW(YDe,3585,3631,-19),YDe[3631]=33,YDe[3632]=-19,YDe[3633]=-87,wW(YDe,3634,3636,-19),wW(YDe,3636,3643,-87),wW(YDe,3643,3648,33),wW(YDe,3648,3654,-19),wW(YDe,3654,3663,-87),YDe[3663]=33,wW(YDe,3664,3674,-87),wW(YDe,3674,3713,33),wW(YDe,3713,3715,-19),YDe[3715]=33,YDe[3716]=-19,wW(YDe,3717,3719,33),wW(YDe,3719,3721,-19),YDe[3721]=33,YDe[3722]=-19,wW(YDe,3723,3725,33),YDe[3725]=-19,wW(YDe,3726,3732,33),wW(YDe,3732,3736,-19),YDe[3736]=33,wW(YDe,3737,3744,-19),YDe[3744]=33,wW(YDe,3745,3748,-19),YDe[3748]=33,YDe[3749]=-19,YDe[3750]=33,YDe[3751]=-19,wW(YDe,3752,3754,33),wW(YDe,3754,3756,-19),YDe[3756]=33,wW(YDe,3757,3759,-19),YDe[3759]=33,YDe[3760]=-19,YDe[3761]=-87,wW(YDe,3762,3764,-19),wW(YDe,3764,3770,-87),YDe[3770]=33,wW(YDe,3771,3773,-87),YDe[3773]=-19,wW(YDe,3774,3776,33),wW(YDe,3776,3781,-19),YDe[3781]=33,YDe[3782]=-87,YDe[3783]=33,wW(YDe,3784,3790,-87),wW(YDe,3790,3792,33),wW(YDe,3792,3802,-87),wW(YDe,3802,3864,33),wW(YDe,3864,3866,-87),wW(YDe,3866,3872,33),wW(YDe,3872,3882,-87),wW(YDe,3882,3893,33),YDe[3893]=-87,YDe[3894]=33,YDe[3895]=-87,YDe[3896]=33,YDe[3897]=-87,wW(YDe,3898,3902,33),wW(YDe,3902,3904,-87),wW(YDe,3904,3912,-19),YDe[3912]=33,wW(YDe,3913,3946,-19),wW(YDe,3946,3953,33),wW(YDe,3953,3973,-87),YDe[3973]=33,wW(YDe,3974,3980,-87),wW(YDe,3980,3984,33),wW(YDe,3984,3990,-87),YDe[3990]=33,YDe[3991]=-87,YDe[3992]=33,wW(YDe,3993,4014,-87),wW(YDe,4014,4017,33),wW(YDe,4017,4024,-87),YDe[4024]=33,YDe[4025]=-87,wW(YDe,4026,4256,33),wW(YDe,4256,4294,-19),wW(YDe,4294,4304,33),wW(YDe,4304,4343,-19),wW(YDe,4343,4352,33),YDe[4352]=-19,YDe[4353]=33,wW(YDe,4354,4356,-19),YDe[4356]=33,wW(YDe,4357,4360,-19),YDe[4360]=33,YDe[4361]=-19,YDe[4362]=33,wW(YDe,4363,4365,-19),YDe[4365]=33,wW(YDe,4366,4371,-19),wW(YDe,4371,4412,33),YDe[4412]=-19,YDe[4413]=33,YDe[4414]=-19,YDe[4415]=33,YDe[4416]=-19,wW(YDe,4417,4428,33),YDe[4428]=-19,YDe[4429]=33,YDe[4430]=-19,YDe[4431]=33,YDe[4432]=-19,wW(YDe,4433,4436,33),wW(YDe,4436,4438,-19),wW(YDe,4438,4441,33),YDe[4441]=-19,wW(YDe,4442,4447,33),wW(YDe,4447,4450,-19),YDe[4450]=33,YDe[4451]=-19,YDe[4452]=33,YDe[4453]=-19,YDe[4454]=33,YDe[4455]=-19,YDe[4456]=33,YDe[4457]=-19,wW(YDe,4458,4461,33),wW(YDe,4461,4463,-19),wW(YDe,4463,4466,33),wW(YDe,4466,4468,-19),YDe[4468]=33,YDe[4469]=-19,wW(YDe,4470,4510,33),YDe[4510]=-19,wW(YDe,4511,4520,33),YDe[4520]=-19,wW(YDe,4521,4523,33),YDe[4523]=-19,wW(YDe,4524,4526,33),wW(YDe,4526,4528,-19),wW(YDe,4528,4535,33),wW(YDe,4535,4537,-19),YDe[4537]=33,YDe[4538]=-19,YDe[4539]=33,wW(YDe,4540,4547,-19),wW(YDe,4547,4587,33),YDe[4587]=-19,wW(YDe,4588,4592,33),YDe[4592]=-19,wW(YDe,4593,4601,33),YDe[4601]=-19,wW(YDe,4602,7680,33),wW(YDe,7680,7836,-19),wW(YDe,7836,7840,33),wW(YDe,7840,7930,-19),wW(YDe,7930,7936,33),wW(YDe,7936,7958,-19),wW(YDe,7958,7960,33),wW(YDe,7960,7966,-19),wW(YDe,7966,7968,33),wW(YDe,7968,8006,-19),wW(YDe,8006,8008,33),wW(YDe,8008,8014,-19),wW(YDe,8014,8016,33),wW(YDe,8016,8024,-19),YDe[8024]=33,YDe[8025]=-19,YDe[8026]=33,YDe[8027]=-19,YDe[8028]=33,YDe[8029]=-19,YDe[8030]=33,wW(YDe,8031,8062,-19),wW(YDe,8062,8064,33),wW(YDe,8064,8117,-19),YDe[8117]=33,wW(YDe,8118,8125,-19),YDe[8125]=33,YDe[8126]=-19,wW(YDe,8127,8130,33),wW(YDe,8130,8133,-19),YDe[8133]=33,wW(YDe,8134,8141,-19),wW(YDe,8141,8144,33),wW(YDe,8144,8148,-19),wW(YDe,8148,8150,33),wW(YDe,8150,8156,-19),wW(YDe,8156,8160,33),wW(YDe,8160,8173,-19),wW(YDe,8173,8178,33),wW(YDe,8178,8181,-19),YDe[8181]=33,wW(YDe,8182,8189,-19),wW(YDe,8189,8400,33),wW(YDe,8400,8413,-87),wW(YDe,8413,8417,33),YDe[8417]=-87,wW(YDe,8418,8486,33),YDe[8486]=-19,wW(YDe,8487,8490,33),wW(YDe,8490,8492,-19),wW(YDe,8492,8494,33),YDe[8494]=-19,wW(YDe,8495,8576,33),wW(YDe,8576,8579,-19),wW(YDe,8579,12293,33),YDe[12293]=-87,YDe[12294]=33,YDe[12295]=-19,wW(YDe,12296,12321,33),wW(YDe,12321,12330,-19),wW(YDe,12330,12336,-87),YDe[12336]=33,wW(YDe,12337,12342,-87),wW(YDe,12342,12353,33),wW(YDe,12353,12437,-19),wW(YDe,12437,12441,33),wW(YDe,12441,12443,-87),wW(YDe,12443,12445,33),wW(YDe,12445,12447,-87),wW(YDe,12447,12449,33),wW(YDe,12449,12539,-19),YDe[12539]=33,wW(YDe,12540,12543,-87),wW(YDe,12543,12549,33),wW(YDe,12549,12589,-19),wW(YDe,12589,19968,33),wW(YDe,19968,40870,-19),wW(YDe,40870,44032,33),wW(YDe,44032,55204,-19),wW(YDe,55204,VXt,33),wW(YDe,57344,65534,33)}function xKt(t){var e,n,i,r,o,s,a;t.hb||(t.hb=!0,Drt(t,"ecore"),Nrt(t,"ecore"),Lrt(t,K8t),rat(t.fb,"E"),rat(t.L,"T"),rat(t.P,"K"),rat(t.P,"V"),rat(t.cb,"E"),l8(yZ(t.b),t.bb),l8(yZ(t.a),t.Q),l8(yZ(t.o),t.p),l8(yZ(t.p),t.R),l8(yZ(t.q),t.p),l8(yZ(t.v),t.q),l8(yZ(t.w),t.R),l8(yZ(t.B),t.Q),l8(yZ(t.R),t.Q),l8(yZ(t.T),t.eb),l8(yZ(t.U),t.R),l8(yZ(t.V),t.eb),l8(yZ(t.W),t.bb),l8(yZ(t.bb),t.eb),l8(yZ(t.eb),t.R),l8(yZ(t.db),t.R),H0(t.b,FPe,h8t,!1,!1,!0),sot(jV(Get(KX(t.b),0),34),t.e,"iD",null,0,1,FPe,!1,!1,!0,!1,!0,!1),Evt(jV(Get(KX(t.b),1),18),t.q,null,"eAttributeType",1,1,FPe,!0,!0,!1,!1,!0,!1,!0),H0(t.a,LPe,c8t,!1,!1,!0),sot(jV(Get(KX(t.a),0),34),t._,x6t,null,0,1,LPe,!1,!1,!0,!1,!0,!1),Evt(jV(Get(KX(t.a),1),18),t.ab,null,"details",0,-1,LPe,!1,!1,!0,!0,!1,!1,!1),Evt(jV(Get(KX(t.a),2),18),t.Q,jV(Get(KX(t.Q),0),18),"eModelElement",0,1,LPe,!0,!1,!0,!1,!1,!1,!1),Evt(jV(Get(KX(t.a),3),18),t.S,null,"contents",0,-1,LPe,!1,!1,!0,!0,!1,!1,!1),Evt(jV(Get(KX(t.a),4),18),t.S,null,"references",0,-1,LPe,!1,!1,!0,!1,!0,!1,!1),H0(t.o,$Pe,"EClass",!1,!1,!0),sot(jV(Get(KX(t.o),0),34),t.e,"abstract",null,0,1,$Pe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.o),1),34),t.e,"interface",null,0,1,$Pe,!1,!1,!0,!1,!0,!1),Evt(jV(Get(KX(t.o),2),18),t.o,null,"eSuperTypes",0,-1,$Pe,!1,!1,!0,!1,!0,!0,!1),Evt(jV(Get(KX(t.o),3),18),t.T,jV(Get(KX(t.T),0),18),"eOperations",0,-1,$Pe,!1,!1,!0,!0,!1,!1,!1),Evt(jV(Get(KX(t.o),4),18),t.b,null,"eAllAttributes",0,-1,$Pe,!0,!0,!1,!1,!0,!1,!0),Evt(jV(Get(KX(t.o),5),18),t.W,null,"eAllReferences",0,-1,$Pe,!0,!0,!1,!1,!0,!1,!0),Evt(jV(Get(KX(t.o),6),18),t.W,null,"eReferences",0,-1,$Pe,!0,!0,!1,!1,!0,!1,!0),Evt(jV(Get(KX(t.o),7),18),t.b,null,"eAttributes",0,-1,$Pe,!0,!0,!1,!1,!0,!1,!0),Evt(jV(Get(KX(t.o),8),18),t.W,null,"eAllContainments",0,-1,$Pe,!0,!0,!1,!1,!0,!1,!0),Evt(jV(Get(KX(t.o),9),18),t.T,null,"eAllOperations",0,-1,$Pe,!0,!0,!1,!1,!0,!1,!0),Evt(jV(Get(KX(t.o),10),18),t.bb,null,"eAllStructuralFeatures",0,-1,$Pe,!0,!0,!1,!1,!0,!1,!0),Evt(jV(Get(KX(t.o),11),18),t.o,null,"eAllSuperTypes",0,-1,$Pe,!0,!0,!1,!1,!0,!1,!0),Evt(jV(Get(KX(t.o),12),18),t.b,null,"eIDAttribute",0,1,$Pe,!0,!0,!1,!1,!1,!1,!0),Evt(jV(Get(KX(t.o),13),18),t.bb,jV(Get(KX(t.bb),7),18),"eStructuralFeatures",0,-1,$Pe,!1,!1,!0,!0,!1,!1,!1),Evt(jV(Get(KX(t.o),14),18),t.H,null,"eGenericSuperTypes",0,-1,$Pe,!1,!1,!0,!0,!1,!0,!1),Evt(jV(Get(KX(t.o),15),18),t.H,null,"eAllGenericSuperTypes",0,-1,$Pe,!0,!0,!1,!1,!0,!1,!0),Pvt(a=uit(jV(Get(GX(t.o),0),59),t.e,"isSuperTypeOf"),t.o,"someClass"),uit(jV(Get(GX(t.o),1),59),t.I,"getFeatureCount"),Pvt(a=uit(jV(Get(GX(t.o),2),59),t.bb,Q8t),t.I,"featureID"),Pvt(a=uit(jV(Get(GX(t.o),3),59),t.I,J8t),t.bb,t9t),Pvt(a=uit(jV(Get(GX(t.o),4),59),t.bb,Q8t),t._,"featureName"),uit(jV(Get(GX(t.o),5),59),t.I,"getOperationCount"),Pvt(a=uit(jV(Get(GX(t.o),6),59),t.T,"getEOperation"),t.I,"operationID"),Pvt(a=uit(jV(Get(GX(t.o),7),59),t.I,e9t),t.T,n9t),Pvt(a=uit(jV(Get(GX(t.o),8),59),t.T,"getOverride"),t.T,n9t),Pvt(a=uit(jV(Get(GX(t.o),9),59),t.H,"getFeatureType"),t.bb,t9t),H0(t.p,jPe,d8t,!0,!1,!0),sot(jV(Get(KX(t.p),0),34),t._,"instanceClassName",null,0,1,jPe,!1,!0,!0,!0,!0,!1),e=ZY(t.L),n=a2(),l8((!e.d&&(e.d=new MD(WPe,e,1)),e.d),n),FMt(jV(Get(KX(t.p),1),34),e,"instanceClass",jPe,!0,!0,!1,!0),sot(jV(Get(KX(t.p),2),34),t.M,i9t,null,0,1,jPe,!0,!0,!1,!1,!0,!0),sot(jV(Get(KX(t.p),3),34),t._,"instanceTypeName",null,0,1,jPe,!1,!0,!0,!0,!0,!1),Evt(jV(Get(KX(t.p),4),18),t.U,jV(Get(KX(t.U),3),18),"ePackage",0,1,jPe,!0,!1,!1,!1,!0,!1,!1),Evt(jV(Get(KX(t.p),5),18),t.db,null,r9t,0,-1,jPe,!1,!1,!0,!0,!0,!1,!1),Pvt(a=uit(jV(Get(GX(t.p),0),59),t.e,o9t),t.M,MKt),uit(jV(Get(GX(t.p),1),59),t.I,"getClassifierID"),H0(t.q,VPe,"EDataType",!1,!1,!0),sot(jV(Get(KX(t.q),0),34),t.e,"serializable",o4t,0,1,VPe,!1,!1,!0,!1,!0,!1),H0(t.v,UPe,"EEnum",!1,!1,!0),Evt(jV(Get(KX(t.v),0),18),t.w,jV(Get(KX(t.w),3),18),"eLiterals",0,-1,UPe,!1,!1,!0,!0,!1,!1,!1),Pvt(a=uit(jV(Get(GX(t.v),0),59),t.w,s9t),t._,t7t),Pvt(a=uit(jV(Get(GX(t.v),1),59),t.w,s9t),t.I,k6t),Pvt(a=uit(jV(Get(GX(t.v),2),59),t.w,"getEEnumLiteralByLiteral"),t._,"literal"),H0(t.w,qPe,f8t,!1,!1,!0),sot(jV(Get(KX(t.w),0),34),t.I,k6t,null,0,1,qPe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.w),1),34),t.A,"instance",null,0,1,qPe,!0,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.w),2),34),t._,"literal",null,0,1,qPe,!1,!1,!0,!1,!0,!1),Evt(jV(Get(KX(t.w),3),18),t.v,jV(Get(KX(t.v),0),18),"eEnum",0,1,qPe,!0,!1,!1,!1,!1,!1,!1),H0(t.B,jMe,"EFactory",!1,!1,!0),Evt(jV(Get(KX(t.B),0),18),t.U,jV(Get(KX(t.U),2),18),"ePackage",1,1,jMe,!0,!1,!0,!1,!1,!1,!1),Pvt(a=uit(jV(Get(GX(t.B),0),59),t.S,"create"),t.o,"eClass"),Pvt(a=uit(jV(Get(GX(t.B),1),59),t.M,"createFromString"),t.q,"eDataType"),Pvt(a,t._,"literalValue"),Pvt(a=uit(jV(Get(GX(t.B),2),59),t._,"convertToString"),t.q,"eDataType"),Pvt(a,t.M,"instanceValue"),H0(t.Q,FMe,X4t,!0,!1,!0),Evt(jV(Get(KX(t.Q),0),18),t.a,jV(Get(KX(t.a),2),18),"eAnnotations",0,-1,FMe,!1,!1,!0,!0,!1,!1,!1),Pvt(a=uit(jV(Get(GX(t.Q),0),59),t.a,"getEAnnotation"),t._,x6t),H0(t.R,$Me,Z4t,!0,!1,!0),sot(jV(Get(KX(t.R),0),34),t._,t7t,null,0,1,$Me,!1,!1,!0,!1,!0,!1),H0(t.S,MMe,"EObject",!1,!1,!0),uit(jV(Get(GX(t.S),0),59),t.o,"eClass"),uit(jV(Get(GX(t.S),1),59),t.e,"eIsProxy"),uit(jV(Get(GX(t.S),2),59),t.X,"eResource"),uit(jV(Get(GX(t.S),3),59),t.S,"eContainer"),uit(jV(Get(GX(t.S),4),59),t.bb,"eContainingFeature"),uit(jV(Get(GX(t.S),5),59),t.W,"eContainmentFeature"),a=uit(jV(Get(GX(t.S),6),59),null,"eContents"),e=ZY(t.fb),n=ZY(t.S),l8((!e.d&&(e.d=new MD(WPe,e,1)),e.d),n),(r=VEt(a,e,null))&&r.Fi(),a=uit(jV(Get(GX(t.S),7),59),null,"eAllContents"),e=ZY(t.cb),n=ZY(t.S),l8((!e.d&&(e.d=new MD(WPe,e,1)),e.d),n),(o=VEt(a,e,null))&&o.Fi(),a=uit(jV(Get(GX(t.S),8),59),null,"eCrossReferences"),e=ZY(t.fb),n=ZY(t.S),l8((!e.d&&(e.d=new MD(WPe,e,1)),e.d),n),(s=VEt(a,e,null))&&s.Fi(),Pvt(a=uit(jV(Get(GX(t.S),9),59),t.M,"eGet"),t.bb,t9t),Pvt(a=uit(jV(Get(GX(t.S),10),59),t.M,"eGet"),t.bb,t9t),Pvt(a,t.e,"resolve"),Pvt(a=uit(jV(Get(GX(t.S),11),59),null,"eSet"),t.bb,t9t),Pvt(a,t.M,"newValue"),Pvt(a=uit(jV(Get(GX(t.S),12),59),t.e,"eIsSet"),t.bb,t9t),Pvt(a=uit(jV(Get(GX(t.S),13),59),null,"eUnset"),t.bb,t9t),Pvt(a=uit(jV(Get(GX(t.S),14),59),t.M,"eInvoke"),t.T,n9t),e=ZY(t.fb),n=a2(),l8((!e.d&&(e.d=new MD(WPe,e,1)),e.d),n),qkt(a,e,"arguments"),BK(a,t.K),H0(t.T,GPe,p8t,!1,!1,!0),Evt(jV(Get(KX(t.T),0),18),t.o,jV(Get(KX(t.o),3),18),a9t,0,1,GPe,!0,!1,!1,!1,!1,!1,!1),Evt(jV(Get(KX(t.T),1),18),t.db,null,r9t,0,-1,GPe,!1,!1,!0,!0,!0,!1,!1),Evt(jV(Get(KX(t.T),2),18),t.V,jV(Get(KX(t.V),0),18),"eParameters",0,-1,GPe,!1,!1,!0,!0,!1,!1,!1),Evt(jV(Get(KX(t.T),3),18),t.p,null,"eExceptions",0,-1,GPe,!1,!1,!0,!1,!0,!0,!1),Evt(jV(Get(KX(t.T),4),18),t.H,null,"eGenericExceptions",0,-1,GPe,!1,!1,!0,!0,!1,!0,!1),uit(jV(Get(GX(t.T),0),59),t.I,e9t),Pvt(a=uit(jV(Get(GX(t.T),1),59),t.e,"isOverrideOf"),t.T,"someOperation"),H0(t.U,VMe,"EPackage",!1,!1,!0),sot(jV(Get(KX(t.U),0),34),t._,"nsURI",null,0,1,VMe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.U),1),34),t._,"nsPrefix",null,0,1,VMe,!1,!1,!0,!1,!0,!1),Evt(jV(Get(KX(t.U),2),18),t.B,jV(Get(KX(t.B),0),18),"eFactoryInstance",1,1,VMe,!0,!1,!0,!1,!1,!1,!1),Evt(jV(Get(KX(t.U),3),18),t.p,jV(Get(KX(t.p),4),18),"eClassifiers",0,-1,VMe,!1,!1,!0,!0,!0,!1,!1),Evt(jV(Get(KX(t.U),4),18),t.U,jV(Get(KX(t.U),5),18),"eSubpackages",0,-1,VMe,!1,!1,!0,!0,!0,!1,!1),Evt(jV(Get(KX(t.U),5),18),t.U,jV(Get(KX(t.U),4),18),"eSuperPackage",0,1,VMe,!0,!1,!1,!1,!0,!1,!1),Pvt(a=uit(jV(Get(GX(t.U),0),59),t.p,"getEClassifier"),t._,t7t),H0(t.V,KPe,m8t,!1,!1,!0),Evt(jV(Get(KX(t.V),0),18),t.T,jV(Get(KX(t.T),2),18),"eOperation",0,1,KPe,!0,!1,!1,!1,!1,!1,!1),H0(t.W,YPe,b8t,!1,!1,!0),sot(jV(Get(KX(t.W),0),34),t.e,"containment",null,0,1,YPe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.W),1),34),t.e,"container",null,0,1,YPe,!0,!0,!1,!1,!0,!0),sot(jV(Get(KX(t.W),2),34),t.e,"resolveProxies",o4t,0,1,YPe,!1,!1,!0,!1,!0,!1),Evt(jV(Get(KX(t.W),3),18),t.W,null,"eOpposite",0,1,YPe,!1,!1,!0,!1,!0,!1,!1),Evt(jV(Get(KX(t.W),4),18),t.o,null,"eReferenceType",1,1,YPe,!0,!0,!1,!1,!0,!1,!0),Evt(jV(Get(KX(t.W),5),18),t.b,null,"eKeys",0,-1,YPe,!1,!1,!0,!1,!0,!1,!1),H0(t.bb,BPe,u8t,!0,!1,!0),sot(jV(Get(KX(t.bb),0),34),t.e,"changeable",o4t,0,1,BPe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.bb),1),34),t.e,"volatile",null,0,1,BPe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.bb),2),34),t.e,"transient",null,0,1,BPe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.bb),3),34),t._,"defaultValueLiteral",null,0,1,BPe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.bb),4),34),t.M,i9t,null,0,1,BPe,!0,!0,!1,!1,!0,!0),sot(jV(Get(KX(t.bb),5),34),t.e,"unsettable",null,0,1,BPe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.bb),6),34),t.e,"derived",null,0,1,BPe,!1,!1,!0,!1,!0,!1),Evt(jV(Get(KX(t.bb),7),18),t.o,jV(Get(KX(t.o),13),18),a9t,0,1,BPe,!0,!1,!1,!1,!1,!1,!1),uit(jV(Get(GX(t.bb),0),59),t.I,J8t),a=uit(jV(Get(GX(t.bb),1),59),null,"getContainerClass"),e=ZY(t.L),n=a2(),l8((!e.d&&(e.d=new MD(WPe,e,1)),e.d),n),(i=VEt(a,e,null))&&i.Fi(),H0(t.eb,RPe,l8t,!0,!1,!0),sot(jV(Get(KX(t.eb),0),34),t.e,"ordered",o4t,0,1,RPe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.eb),1),34),t.e,"unique",o4t,0,1,RPe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.eb),2),34),t.I,"lowerBound",null,0,1,RPe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.eb),3),34),t.I,"upperBound","1",0,1,RPe,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.eb),4),34),t.e,"many",null,0,1,RPe,!0,!0,!1,!1,!0,!0),sot(jV(Get(KX(t.eb),5),34),t.e,"required",null,0,1,RPe,!0,!0,!1,!1,!0,!0),Evt(jV(Get(KX(t.eb),6),18),t.p,null,"eType",0,1,RPe,!1,!0,!0,!1,!0,!0,!1),Evt(jV(Get(KX(t.eb),7),18),t.H,null,"eGenericType",0,1,RPe,!1,!0,!0,!0,!1,!0,!1),H0(t.ab,Vte,"EStringToStringMapEntry",!1,!1,!1),sot(jV(Get(KX(t.ab),0),34),t._,"key",null,0,1,Vte,!1,!1,!0,!1,!0,!1),sot(jV(Get(KX(t.ab),1),34),t._,k6t,null,0,1,Vte,!1,!1,!0,!1,!0,!1),H0(t.H,WPe,g8t,!1,!1,!0),Evt(jV(Get(KX(t.H),0),18),t.H,null,"eUpperBound",0,1,WPe,!1,!1,!0,!0,!1,!1,!1),Evt(jV(Get(KX(t.H),1),18),t.H,null,"eTypeArguments",0,-1,WPe,!1,!1,!0,!0,!1,!1,!1),Evt(jV(Get(KX(t.H),2),18),t.p,null,"eRawType",1,1,WPe,!0,!1,!1,!1,!0,!1,!0),Evt(jV(Get(KX(t.H),3),18),t.H,null,"eLowerBound",0,1,WPe,!1,!1,!0,!0,!1,!1,!1),Evt(jV(Get(KX(t.H),4),18),t.db,null,"eTypeParameter",0,1,WPe,!1,!1,!0,!1,!1,!1,!1),Evt(jV(Get(KX(t.H),5),18),t.p,null,"eClassifier",0,1,WPe,!1,!1,!0,!1,!0,!1,!1),Pvt(a=uit(jV(Get(GX(t.H),0),59),t.e,o9t),t.M,MKt),H0(t.db,AOe,w8t,!1,!1,!0),Evt(jV(Get(KX(t.db),0),18),t.H,null,"eBounds",0,-1,AOe,!1,!1,!0,!0,!1,!1,!1),fY(t.c,nne,"EBigDecimal",!0),fY(t.d,ane,"EBigInteger",!0),fY(t.e,INe,"EBoolean",!0),fY(t.f,vee,"EBooleanObject",!0),fY(t.i,PNe,"EByte",!0),fY(t.g,z_(PNe,1),"EByteArray",!0),fY(t.j,xee,"EByteObject",!0),fY(t.k,ANe,"EChar",!0),fY(t.n,Tee,"ECharacterObject",!0),fY(t.r,wee,"EDate",!0),fY(t.s,RNe,"EDiagnosticChain",!1),fY(t.t,ONe,"EDouble",!0),fY(t.u,Cee,"EDoubleObject",!0),fY(t.fb,rPe,"EEList",!1),fY(t.A,bPe,"EEnumerator",!1),fY(t.C,uDe,"EFeatureMap",!1),fY(t.D,IOe,"EFeatureMapEntry",!1),fY(t.F,DNe,"EFloat",!0),fY(t.G,Aee,"EFloatObject",!0),fY(t.I,SNe,"EInt",!0),fY(t.J,Mee,"EIntegerObject",!0),fY(t.L,Pte,"EJavaClass",!0),fY(t.M,Mte,"EJavaObject",!0),fY(t.N,MNe,"ELong",!0),fY(t.O,Ree,"ELongObject",!0),fY(t.P,Dte,"EMap",!1),fY(t.X,tDe,"EResource",!1),fY(t.Y,BNe,"EResourceSet",!1),fY(t.Z,NNe,"EShort",!0),fY(t.$,Fee,"EShortObject",!0),fY(t._,Yee,"EString",!0),fY(t.cb,cPe,"ETreeIterator",!1),fY(t.K,FNe,"EInvocationTargetException",!1),Out(t,K8t))}"undefined"!=typeof window?i=window:void 0!==t?i=t:"undefined"!=typeof self&&(i=self);var EKt,TKt,CKt,AKt,SKt,IKt,MKt="object",PKt="boolean",OKt="number",DKt="string",NKt="function",LKt=2147483647,RKt="java.lang",BKt={3:1},FKt="com.google.common.base",jKt=", ",$Kt="%s (%s) must not be negative",VKt={3:1,4:1,5:1},zKt="negative size: ",HKt="Optional.of(",UKt="null",qKt={198:1,47:1},WKt="com.google.common.collect",GKt={198:1,47:1,125:1},KKt={224:1,3:1},YKt={47:1},XKt="java.util",ZKt={83:1},QKt={20:1,28:1,14:1},JKt=1965,tYt={20:1,28:1,14:1,21:1},eYt={83:1,171:1,161:1},nYt={20:1,28:1,14:1,21:1,84:1},iYt={20:1,28:1,14:1,271:1,21:1,84:1},rYt={47:1,125:1},oYt={345:1,42:1},sYt="AbstractMapEntry",aYt="expectedValuesPerKey",cYt={3:1,6:1,4:1,5:1},lYt=16384,uYt={164:1},hYt={38:1},dYt={l:4194303,m:4194303,h:524287},fYt={196:1},gYt={245:1,3:1,35:1},pYt="range unbounded on this side",mYt={20:1},bYt={20:1,14:1},wYt={3:1,20:1,28:1,14:1},yYt={152:1,3:1,20:1,28:1,14:1,15:1,54:1},vYt={3:1,4:1,5:1,165:1},_Yt={3:1,83:1},kYt={20:1,14:1,21:1},xYt={3:1,20:1,28:1,14:1,21:1},EYt={20:1,14:1,21:1,84:1},TYt=461845907,CYt=-862048943,AYt={3:1,6:1,4:1,5:1,165:1},SYt="expectedSize",IYt=1073741824,MYt="initialArraySize",PYt={3:1,6:1,4:1,9:1,5:1},OYt={20:1,28:1,52:1,14:1,15:1},DYt="arraySize",NYt={20:1,28:1,52:1,14:1,15:1,54:1},LYt={45:1},RYt={365:1},BYt=1e-4,FYt=-2147483648,jYt="__noinit__",$Yt={3:1,102:1,60:1,78:1},VYt="com.google.gwt.core.client.impl",zYt="String",HYt="com.google.gwt.core.client",UYt="anonymous",qYt="fnStack",WYt="Unknown",GYt={195:1,3:1,4:1},KYt=1e3,YYt=65535,XYt="January",ZYt="February",QYt="March",JYt="April",tXt="May",eXt="June",nXt="July",iXt="August",rXt="September",oXt="October",sXt="November",aXt="December",cXt=1900,lXt={48:1,3:1,4:1},uXt="Before Christ",hXt="Anno Domini",dXt="Sunday",fXt="Monday",gXt="Tuesday",pXt="Wednesday",mXt="Thursday",bXt="Friday",wXt="Saturday",yXt="com.google.gwt.i18n.shared",vXt="DateTimeFormat",_Xt="com.google.gwt.i18n.client",kXt="DefaultDateTimeFormatInfo",xXt={3:1,4:1,35:1,199:1},EXt="com.google.gwt.json.client",TXt=4194303,CXt=1048575,AXt=524288,SXt=4194304,IXt=17592186044416,MXt=1e9,PXt=-17592186044416,OXt="java.io",DXt={3:1,102:1,73:1,60:1,78:1},NXt={3:1,289:1,78:1},LXt='For input string: "',RXt=1/0,BXt=-1/0,FXt=4096,jXt={3:1,4:1,364:1},$Xt=65536,VXt=55296,zXt={104:1,3:1,4:1},HXt=1e5,UXt=.3010299956639812,qXt=4294967295,WXt=4294967296,GXt="0.0",KXt={42:1},YXt={3:1,4:1,20:1,28:1,52:1,12:1,14:1,15:1,54:1},XXt={3:1,20:1,28:1,52:1,14:1,15:1,54:1},ZXt={20:1,14:1,15:1},QXt={3:1,62:1},JXt={182:1},tZt={3:1,4:1,83:1},eZt={3:1,4:1,20:1,28:1,14:1,53:1,21:1},nZt="delete",iZt=1.4901161193847656e-8,rZt=11102230246251565e-32,oZt=15525485,sZt=5.960464477539063e-8,aZt=16777216,cZt=16777215,lZt=", length: ",uZt={3:1,4:1,20:1,28:1,52:1,14:1,15:1,54:1},hZt={3:1,35:1,22:1,297:1},dZt="java.util.function",fZt="java.util.logging",gZt={3:1,4:1,5:1,842:1},pZt="undefined",mZt="java.util.stream",bZt={525:1,670:1},wZt="fromIndex: ",yZt=" > toIndex: ",vZt=", toIndex: ",_Zt="Index: ",kZt=", Size: ",xZt="org.eclipse.elk.alg.common",EZt={62:1},TZt="org.eclipse.elk.alg.common.compaction",CZt="Scanline/EventHandler",AZt="org.eclipse.elk.alg.common.compaction.oned",SZt="CNode belongs to another CGroup.",IZt="ISpacingsHandler/1",MZt="The ",PZt=" instance has been finished already.",OZt="The direction ",DZt=" is not supported by the CGraph instance.",NZt="OneDimensionalCompactor",LZt="OneDimensionalCompactor/lambda$0$Type",RZt="Quadruplet",BZt="ScanlineConstraintCalculator",FZt="ScanlineConstraintCalculator/ConstraintsScanlineHandler",jZt="ScanlineConstraintCalculator/ConstraintsScanlineHandler/lambda$0$Type",$Zt="ScanlineConstraintCalculator/Timestamp",VZt="ScanlineConstraintCalculator/lambda$0$Type",zZt={169:1,45:1},HZt="org.eclipse.elk.alg.common.compaction.options",UZt="org.eclipse.elk.core.data",qZt="org.eclipse.elk.polyomino.traversalStrategy",WZt="org.eclipse.elk.polyomino.lowLevelSort",GZt="org.eclipse.elk.polyomino.highLevelSort",KZt="org.eclipse.elk.polyomino.fill",YZt={130:1},XZt="polyomino",ZZt="org.eclipse.elk.alg.common.networksimplex",QZt={177:1,3:1,4:1},JZt="org.eclipse.elk.alg.common.nodespacing",tQt="org.eclipse.elk.alg.common.nodespacing.cellsystem",eQt="CENTER",nQt={212:1,326:1},iQt={3:1,4:1,5:1,595:1},rQt="LEFT",oQt="RIGHT",sQt="Vertical alignment cannot be null",aQt="BOTTOM",cQt="org.eclipse.elk.alg.common.nodespacing.internal",lQt="UNDEFINED",uQt=.01,hQt="org.eclipse.elk.alg.common.nodespacing.internal.algorithm",dQt="LabelPlacer/lambda$0$Type",fQt="LabelPlacer/lambda$1$Type",gQt="portRatioOrPosition",pQt="org.eclipse.elk.alg.common.overlaps",mQt="DOWN",bQt="org.eclipse.elk.alg.common.polyomino",wQt="NORTH",yQt="EAST",vQt="SOUTH",_Qt="WEST",kQt="org.eclipse.elk.alg.common.polyomino.structures",xQt="Direction",EQt="Grid is only of size ",TQt=". Requested point (",CQt=") is out of bounds.",AQt=" Given center based coordinates were (",SQt="org.eclipse.elk.graph.properties",IQt="IPropertyHolder",MQt={3:1,94:1,134:1},PQt="org.eclipse.elk.alg.common.spore",OQt="org.eclipse.elk.alg.common.utils",DQt={209:1},NQt="org.eclipse.elk.core",LQt="Connected Components Compaction",RQt="org.eclipse.elk.alg.disco",BQt="org.eclipse.elk.alg.disco.graph",FQt="org.eclipse.elk.alg.disco.options",jQt="CompactionStrategy",$Qt="org.eclipse.elk.disco.componentCompaction.strategy",VQt="org.eclipse.elk.disco.componentCompaction.componentLayoutAlgorithm",zQt="org.eclipse.elk.disco.debug.discoGraph",HQt="org.eclipse.elk.disco.debug.discoPolys",UQt="componentCompaction",qQt="org.eclipse.elk.disco",WQt="org.eclipse.elk.spacing.componentComponent",GQt="org.eclipse.elk.edge.thickness",KQt="org.eclipse.elk.aspectRatio",YQt="org.eclipse.elk.padding",XQt="org.eclipse.elk.alg.disco.transform",ZQt=1.5707963267948966,QQt=17976931348623157e292,JQt={3:1,4:1,5:1,192:1},tJt={3:1,6:1,4:1,5:1,106:1,120:1},eJt="org.eclipse.elk.alg.force",nJt="ComponentsProcessor",iJt="ComponentsProcessor/1",rJt="org.eclipse.elk.alg.force.graph",oJt="Component Layout",sJt="org.eclipse.elk.alg.force.model",aJt="org.eclipse.elk.force.model",cJt="org.eclipse.elk.force.iterations",lJt="org.eclipse.elk.force.repulsivePower",uJt="org.eclipse.elk.force.temperature",hJt=.001,dJt="org.eclipse.elk.force.repulsion",fJt="org.eclipse.elk.alg.force.options",gJt=1.600000023841858,pJt="org.eclipse.elk.force",mJt="org.eclipse.elk.priority",bJt="org.eclipse.elk.spacing.nodeNode",wJt="org.eclipse.elk.spacing.edgeLabel",yJt="org.eclipse.elk.randomSeed",vJt="org.eclipse.elk.separateConnectedComponents",_Jt="org.eclipse.elk.interactive",kJt="org.eclipse.elk.portConstraints",xJt="org.eclipse.elk.edgeLabels.inline",EJt="org.eclipse.elk.omitNodeMicroLayout",TJt="org.eclipse.elk.nodeSize.options",CJt="org.eclipse.elk.nodeSize.constraints",AJt="org.eclipse.elk.nodeLabels.placement",SJt="org.eclipse.elk.portLabels.placement",IJt="origin",MJt="random",PJt="boundingBox.upLeft",OJt="boundingBox.lowRight",DJt="org.eclipse.elk.stress.fixed",NJt="org.eclipse.elk.stress.desiredEdgeLength",LJt="org.eclipse.elk.stress.dimension",RJt="org.eclipse.elk.stress.epsilon",BJt="org.eclipse.elk.stress.iterationLimit",FJt="org.eclipse.elk.stress",jJt="ELK Stress",$Jt="org.eclipse.elk.nodeSize.minimum",VJt="org.eclipse.elk.alg.force.stress",zJt="Layered layout",HJt="org.eclipse.elk.alg.layered",UJt="org.eclipse.elk.alg.layered.compaction.components",qJt="org.eclipse.elk.alg.layered.compaction.oned",WJt="org.eclipse.elk.alg.layered.compaction.oned.algs",GJt="org.eclipse.elk.alg.layered.compaction.recthull",KJt="org.eclipse.elk.alg.layered.components",YJt="NONE",XJt={3:1,6:1,4:1,9:1,5:1,122:1},ZJt={3:1,6:1,4:1,5:1,141:1,106:1,120:1},QJt="org.eclipse.elk.alg.layered.compound",JJt={51:1},t1t="org.eclipse.elk.alg.layered.graph",e1t=" -> ",n1t="Not supported by LGraph",i1t="Port side is undefined",r1t={3:1,6:1,4:1,5:1,474:1,141:1,106:1,120:1},o1t={3:1,6:1,4:1,5:1,141:1,193:1,203:1,106:1,120:1},s1t={3:1,6:1,4:1,5:1,141:1,1943:1,203:1,106:1,120:1},a1t="([{\"' \t\r\n",c1t=")]}\"' \t\r\n",l1t="The given string contains parts that cannot be parsed as numbers.",u1t="org.eclipse.elk.core.math",h1t={3:1,4:1,142:1,207:1,414:1},d1t={3:1,4:1,116:1,207:1,414:1},f1t="org.eclipse.elk.layered",g1t="org.eclipse.elk.alg.layered.graph.transform",p1t="ElkGraphImporter",m1t="ElkGraphImporter/lambda$0$Type",b1t="ElkGraphImporter/lambda$1$Type",w1t="ElkGraphImporter/lambda$2$Type",y1t="ElkGraphImporter/lambda$4$Type",v1t="Node margin calculation",_1t="org.eclipse.elk.alg.layered.intermediate",k1t="ONE_SIDED_GREEDY_SWITCH",x1t="TWO_SIDED_GREEDY_SWITCH",E1t="No implementation is available for the layout processor ",T1t="IntermediateProcessorStrategy",C1t="Node '",A1t="FIRST_SEPARATE",S1t="LAST_SEPARATE",I1t="Odd port side processing",M1t="org.eclipse.elk.alg.layered.intermediate.compaction",P1t="org.eclipse.elk.alg.layered.intermediate.greedyswitch",O1t="org.eclipse.elk.alg.layered.p3order.counting",D1t={225:1},N1t="org.eclipse.elk.alg.layered.intermediate.loops",L1t="org.eclipse.elk.alg.layered.intermediate.loops.ordering",R1t="org.eclipse.elk.alg.layered.intermediate.loops.routing",B1t="org.eclipse.elk.alg.layered.intermediate.preserveorder",F1t="org.eclipse.elk.alg.layered.intermediate.wrapping",j1t="org.eclipse.elk.alg.layered.options",$1t="INTERACTIVE",V1t="DEPTH_FIRST",z1t="EDGE_LENGTH",H1t="SELF_LOOPS",U1t="firstTryWithInitialOrder",q1t="org.eclipse.elk.layered.directionCongruency",W1t="org.eclipse.elk.layered.feedbackEdges",G1t="org.eclipse.elk.layered.interactiveReferencePoint",K1t="org.eclipse.elk.layered.mergeEdges",Y1t="org.eclipse.elk.layered.mergeHierarchyEdges",X1t="org.eclipse.elk.layered.allowNonFlowPortsToSwitchSides",Z1t="org.eclipse.elk.layered.portSortingStrategy",Q1t="org.eclipse.elk.layered.thoroughness",J1t="org.eclipse.elk.layered.unnecessaryBendpoints",t0t="org.eclipse.elk.layered.generatePositionAndLayerIds",e0t="org.eclipse.elk.layered.cycleBreaking.strategy",n0t="org.eclipse.elk.layered.layering.strategy",i0t="org.eclipse.elk.layered.layering.layerConstraint",r0t="org.eclipse.elk.layered.layering.layerChoiceConstraint",o0t="org.eclipse.elk.layered.layering.layerId",s0t="org.eclipse.elk.layered.layering.minWidth.upperBoundOnWidth",a0t="org.eclipse.elk.layered.layering.minWidth.upperLayerEstimationScalingFactor",c0t="org.eclipse.elk.layered.layering.nodePromotion.strategy",l0t="org.eclipse.elk.layered.layering.nodePromotion.maxIterations",u0t="org.eclipse.elk.layered.layering.coffmanGraham.layerBound",h0t="org.eclipse.elk.layered.crossingMinimization.strategy",d0t="org.eclipse.elk.layered.crossingMinimization.forceNodeModelOrder",f0t="org.eclipse.elk.layered.crossingMinimization.hierarchicalSweepiness",g0t="org.eclipse.elk.layered.crossingMinimization.semiInteractive",p0t="org.eclipse.elk.layered.crossingMinimization.positionChoiceConstraint",m0t="org.eclipse.elk.layered.crossingMinimization.positionId",b0t="org.eclipse.elk.layered.crossingMinimization.greedySwitch.activationThreshold",w0t="org.eclipse.elk.layered.crossingMinimization.greedySwitch.type",y0t="org.eclipse.elk.layered.crossingMinimization.greedySwitchHierarchical.type",v0t="org.eclipse.elk.layered.nodePlacement.strategy",_0t="org.eclipse.elk.layered.nodePlacement.favorStraightEdges",k0t="org.eclipse.elk.layered.nodePlacement.bk.edgeStraightening",x0t="org.eclipse.elk.layered.nodePlacement.bk.fixedAlignment",E0t="org.eclipse.elk.layered.nodePlacement.linearSegments.deflectionDampening",T0t="org.eclipse.elk.layered.nodePlacement.networkSimplex.nodeFlexibility",C0t="org.eclipse.elk.layered.nodePlacement.networkSimplex.nodeFlexibility.default",A0t="org.eclipse.elk.layered.edgeRouting.selfLoopDistribution",S0t="org.eclipse.elk.layered.edgeRouting.selfLoopOrdering",I0t="org.eclipse.elk.layered.edgeRouting.splines.mode",M0t="org.eclipse.elk.layered.edgeRouting.splines.sloppy.layerSpacingFactor",P0t="org.eclipse.elk.layered.edgeRouting.polyline.slopedEdgeZoneWidth",O0t="org.eclipse.elk.layered.spacing.baseValue",D0t="org.eclipse.elk.layered.spacing.edgeNodeBetweenLayers",N0t="org.eclipse.elk.layered.spacing.edgeEdgeBetweenLayers",L0t="org.eclipse.elk.layered.spacing.nodeNodeBetweenLayers",R0t="org.eclipse.elk.layered.priority.direction",B0t="org.eclipse.elk.layered.priority.shortness",F0t="org.eclipse.elk.layered.priority.straightness",j0t="org.eclipse.elk.layered.compaction.connectedComponents",$0t="org.eclipse.elk.layered.compaction.postCompaction.strategy",V0t="org.eclipse.elk.layered.compaction.postCompaction.constraints",z0t="org.eclipse.elk.layered.highDegreeNodes.treatment",H0t="org.eclipse.elk.layered.highDegreeNodes.threshold",U0t="org.eclipse.elk.layered.highDegreeNodes.treeHeight",q0t="org.eclipse.elk.layered.wrapping.strategy",W0t="org.eclipse.elk.layered.wrapping.additionalEdgeSpacing",G0t="org.eclipse.elk.layered.wrapping.correctionFactor",K0t="org.eclipse.elk.layered.wrapping.cutting.strategy",Y0t="org.eclipse.elk.layered.wrapping.cutting.cuts",X0t="org.eclipse.elk.layered.wrapping.cutting.msd.freedom",Z0t="org.eclipse.elk.layered.wrapping.validify.strategy",Q0t="org.eclipse.elk.layered.wrapping.validify.forbiddenIndices",J0t="org.eclipse.elk.layered.wrapping.multiEdge.improveCuts",t2t="org.eclipse.elk.layered.wrapping.multiEdge.distancePenalty",e2t="org.eclipse.elk.layered.wrapping.multiEdge.improveWrappedEdges",n2t="org.eclipse.elk.layered.edgeLabels.sideSelection",i2t="org.eclipse.elk.layered.edgeLabels.centerLabelPlacementStrategy",r2t="org.eclipse.elk.layered.considerModelOrder.strategy",o2t="org.eclipse.elk.layered.considerModelOrder.noModelOrder",s2t="org.eclipse.elk.layered.considerModelOrder.components",a2t="org.eclipse.elk.layered.considerModelOrder.longEdgeStrategy",c2t="org.eclipse.elk.layered.considerModelOrder.crossingCounterNodeInfluence",l2t="org.eclipse.elk.layered.considerModelOrder.crossingCounterPortInfluence",u2t="layering",h2t="layering.minWidth",d2t="layering.nodePromotion",f2t="crossingMinimization",g2t="org.eclipse.elk.hierarchyHandling",p2t="crossingMinimization.greedySwitch",m2t="nodePlacement",b2t="nodePlacement.bk",w2t="edgeRouting",y2t="org.eclipse.elk.edgeRouting",v2t="spacing",_2t="priority",k2t="compaction",x2t="compaction.postCompaction",E2t="Specifies whether and how post-process compaction is applied.",T2t="highDegreeNodes",C2t="wrapping",A2t="wrapping.cutting",S2t="wrapping.validify",I2t="wrapping.multiEdge",M2t="edgeLabels",P2t="considerModelOrder",O2t="org.eclipse.elk.spacing.commentComment",D2t="org.eclipse.elk.spacing.commentNode",N2t="org.eclipse.elk.spacing.edgeEdge",L2t="org.eclipse.elk.spacing.edgeNode",R2t="org.eclipse.elk.spacing.labelLabel",B2t="org.eclipse.elk.spacing.labelPortHorizontal",F2t="org.eclipse.elk.spacing.labelPortVertical",j2t="org.eclipse.elk.spacing.labelNode",$2t="org.eclipse.elk.spacing.nodeSelfLoop",V2t="org.eclipse.elk.spacing.portPort",z2t="org.eclipse.elk.spacing.individual",H2t="org.eclipse.elk.port.borderOffset",U2t="org.eclipse.elk.noLayout",q2t="org.eclipse.elk.port.side",W2t="org.eclipse.elk.debugMode",G2t="org.eclipse.elk.alignment",K2t="org.eclipse.elk.insideSelfLoops.activate",Y2t="org.eclipse.elk.insideSelfLoops.yo",X2t="org.eclipse.elk.nodeSize.fixedGraphSize",Z2t="org.eclipse.elk.direction",Q2t="org.eclipse.elk.nodeLabels.padding",J2t="org.eclipse.elk.portLabels.nextToPortIfPossible",t3t="org.eclipse.elk.portLabels.treatAsGroup",e3t="org.eclipse.elk.portAlignment.default",n3t="org.eclipse.elk.portAlignment.north",i3t="org.eclipse.elk.portAlignment.south",r3t="org.eclipse.elk.portAlignment.west",o3t="org.eclipse.elk.portAlignment.east",s3t="org.eclipse.elk.contentAlignment",a3t="org.eclipse.elk.junctionPoints",c3t="org.eclipse.elk.edgeLabels.placement",l3t="org.eclipse.elk.port.index",u3t="org.eclipse.elk.commentBox",h3t="org.eclipse.elk.hypernode",d3t="org.eclipse.elk.port.anchor",f3t="org.eclipse.elk.partitioning.activate",g3t="org.eclipse.elk.partitioning.partition",p3t="org.eclipse.elk.position",m3t="org.eclipse.elk.margins",b3t="org.eclipse.elk.spacing.portsSurrounding",w3t="org.eclipse.elk.interactiveLayout",y3t="org.eclipse.elk.core.util",v3t={3:1,4:1,5:1,593:1},_3t="NETWORK_SIMPLEX",k3t={123:1,51:1},x3t="org.eclipse.elk.alg.layered.p1cycles",E3t="org.eclipse.elk.alg.layered.p2layers",T3t={402:1,225:1},C3t={832:1,3:1,4:1},A3t="org.eclipse.elk.alg.layered.p3order",S3t="org.eclipse.elk.alg.layered.p4nodes",I3t={3:1,4:1,5:1,840:1},M3t=1e-5,P3t="org.eclipse.elk.alg.layered.p4nodes.bk",O3t="org.eclipse.elk.alg.layered.p5edges",D3t="org.eclipse.elk.alg.layered.p5edges.orthogonal",N3t="org.eclipse.elk.alg.layered.p5edges.orthogonal.direction",L3t=1e-6,R3t="org.eclipse.elk.alg.layered.p5edges.splines",B3t=.09999999999999998,F3t=1e-8,j3t=4.71238898038469,$3t=3.141592653589793,V3t="org.eclipse.elk.alg.mrtree",z3t="org.eclipse.elk.alg.mrtree.graph",H3t="org.eclipse.elk.alg.mrtree.intermediate",U3t="Set neighbors in level",q3t="DESCENDANTS",W3t="org.eclipse.elk.mrtree.weighting",G3t="org.eclipse.elk.mrtree.searchOrder",K3t="org.eclipse.elk.alg.mrtree.options",Y3t="org.eclipse.elk.mrtree",X3t="org.eclipse.elk.tree",Z3t="org.eclipse.elk.alg.radial",Q3t=6.283185307179586,J3t=5e-324,t5t="org.eclipse.elk.alg.radial.intermediate",e5t="org.eclipse.elk.alg.radial.intermediate.compaction",n5t={3:1,4:1,5:1,106:1},i5t="org.eclipse.elk.alg.radial.intermediate.optimization",r5t="No implementation is available for the layout option ",o5t="org.eclipse.elk.alg.radial.options",s5t="org.eclipse.elk.radial.orderId",a5t="org.eclipse.elk.radial.radius",c5t="org.eclipse.elk.radial.compactor",l5t="org.eclipse.elk.radial.compactionStepSize",u5t="org.eclipse.elk.radial.sorter",h5t="org.eclipse.elk.radial.wedgeCriteria",d5t="org.eclipse.elk.radial.optimizationCriteria",f5t="org.eclipse.elk.radial",g5t="org.eclipse.elk.alg.radial.p1position.wedge",p5t="org.eclipse.elk.alg.radial.sorting",m5t=5.497787143782138,b5t=3.9269908169872414,w5t=2.356194490192345,y5t="org.eclipse.elk.alg.rectpacking",v5t="org.eclipse.elk.alg.rectpacking.firstiteration",_5t="org.eclipse.elk.alg.rectpacking.options",k5t="org.eclipse.elk.rectpacking.optimizationGoal",x5t="org.eclipse.elk.rectpacking.lastPlaceShift",E5t="org.eclipse.elk.rectpacking.currentPosition",T5t="org.eclipse.elk.rectpacking.desiredPosition",C5t="org.eclipse.elk.rectpacking.onlyFirstIteration",A5t="org.eclipse.elk.rectpacking.rowCompaction",S5t="org.eclipse.elk.rectpacking.expandToAspectRatio",I5t="org.eclipse.elk.rectpacking.targetWidth",M5t="org.eclipse.elk.expandNodes",P5t="org.eclipse.elk.rectpacking",O5t="org.eclipse.elk.alg.rectpacking.util",D5t="No implementation available for ",N5t="org.eclipse.elk.alg.spore",L5t="org.eclipse.elk.alg.spore.options",R5t="org.eclipse.elk.sporeCompaction",B5t="org.eclipse.elk.underlyingLayoutAlgorithm",F5t="org.eclipse.elk.processingOrder.treeConstruction",j5t="org.eclipse.elk.processingOrder.spanningTreeCostFunction",$5t="org.eclipse.elk.processingOrder.preferredRoot",V5t="org.eclipse.elk.processingOrder.rootSelection",z5t="org.eclipse.elk.structure.structureExtractionStrategy",H5t="org.eclipse.elk.compaction.compactionStrategy",U5t="org.eclipse.elk.compaction.orthogonal",q5t="org.eclipse.elk.overlapRemoval.maxIterations",W5t="org.eclipse.elk.overlapRemoval.runScanline",G5t="processingOrder",K5t="overlapRemoval",Y5t="org.eclipse.elk.sporeOverlap",X5t="org.eclipse.elk.alg.spore.p1structure",Z5t="org.eclipse.elk.alg.spore.p2processingorder",Q5t="org.eclipse.elk.alg.spore.p3execution",J5t="Invalid index: ",t4t="org.eclipse.elk.core.alg",e4t={331:1},n4t={288:1},i4t="Make sure its type is registered with the ",r4t=" utility class.",o4t="true",s4t="false",a4t="Couldn't clone property '",c4t=.05,l4t="org.eclipse.elk.core.options",u4t=1.2999999523162842,h4t="org.eclipse.elk.box",d4t="org.eclipse.elk.box.packingMode",f4t="org.eclipse.elk.algorithm",g4t="org.eclipse.elk.resolvedAlgorithm",p4t="org.eclipse.elk.bendPoints",m4t="org.eclipse.elk.labelManager",b4t="org.eclipse.elk.scaleFactor",w4t="org.eclipse.elk.animate",y4t="org.eclipse.elk.animTimeFactor",v4t="org.eclipse.elk.layoutAncestors",_4t="org.eclipse.elk.maxAnimTime",k4t="org.eclipse.elk.minAnimTime",x4t="org.eclipse.elk.progressBar",E4t="org.eclipse.elk.validateGraph",T4t="org.eclipse.elk.validateOptions",C4t="org.eclipse.elk.zoomToFit",A4t="org.eclipse.elk.font.name",S4t="org.eclipse.elk.font.size",I4t="org.eclipse.elk.edge.type",M4t="partitioning",P4t="nodeLabels",O4t="portAlignment",D4t="nodeSize",N4t="port",L4t="portLabels",R4t="insideSelfLoops",B4t="org.eclipse.elk.fixed",F4t="org.eclipse.elk.random",j4t="port must have a parent node to calculate the port side",$4t="The edge needs to have exactly one edge section. Found: ",V4t="org.eclipse.elk.core.util.adapters",z4t="org.eclipse.emf.ecore",H4t="org.eclipse.elk.graph",U4t="EMapPropertyHolder",q4t="ElkBendPoint",W4t="ElkGraphElement",G4t="ElkConnectableShape",K4t="ElkEdge",Y4t="ElkEdgeSection",X4t="EModelElement",Z4t="ENamedElement",Q4t="ElkLabel",J4t="ElkNode",t6t="ElkPort",e6t={92:1,90:1},n6t="org.eclipse.emf.common.notify.impl",i6t="The feature '",r6t="' is not a valid changeable feature",o6t="Expecting null",s6t="' is not a valid feature",a6t="The feature ID",c6t=" is not a valid feature ID",l6t=32768,u6t={105:1,92:1,90:1,56:1,49:1,97:1},h6t="org.eclipse.emf.ecore.impl",d6t="org.eclipse.elk.graph.impl",f6t="Recursive containment not allowed for ",g6t="The datatype '",p6t="' is not a valid classifier",m6t="The value '",b6t={190:1,3:1,4:1},w6t="The class '",y6t="http://www.eclipse.org/elk/ElkGraph",v6t=1024,_6t="property",k6t="value",x6t="source",E6t="properties",T6t="identifier",C6t="height",A6t="width",S6t="parent",I6t="text",M6t="children",P6t="hierarchical",O6t="sources",D6t="targets",N6t="sections",L6t="bendPoints",R6t="outgoingShape",B6t="incomingShape",F6t="outgoingSections",j6t="incomingSections",$6t="org.eclipse.emf.common.util",V6t="Severe implementation error in the Json to ElkGraph importer.",z6t="id",H6t="org.eclipse.elk.graph.json",U6t="Unhandled parameter types: ",q6t="startPoint",W6t="An edge must have at least one source and one target (edge id: '",G6t="').",K6t="Referenced edge section does not exist: ",Y6t=" (edge id: '",X6t="target",Z6t="sourcePoint",Q6t="targetPoint",J6t="group",t7t="name",e7t="connectableShape cannot be null",n7t="edge cannot be null",i7t="Passed edge is not 'simple'.",r7t="org.eclipse.elk.graph.util",o7t="The 'no duplicates' constraint is violated",s7t="targetIndex=",a7t=", size=",c7t="sourceIndex=",l7t={3:1,4:1,20:1,28:1,52:1,14:1,15:1,54:1,67:1,63:1,58:1},u7t={3:1,4:1,20:1,28:1,52:1,14:1,47:1,15:1,54:1,67:1,63:1,58:1,588:1},h7t="logging",d7t="measureExecutionTime",f7t="parser.parse.1",g7t="parser.parse.2",p7t="parser.next.1",m7t="parser.next.2",b7t="parser.next.3",w7t="parser.next.4",y7t="parser.factor.1",v7t="parser.factor.2",_7t="parser.factor.3",k7t="parser.factor.4",x7t="parser.factor.5",E7t="parser.factor.6",T7t="parser.atom.1",C7t="parser.atom.2",A7t="parser.atom.3",S7t="parser.atom.4",I7t="parser.atom.5",M7t="parser.cc.1",P7t="parser.cc.2",O7t="parser.cc.3",D7t="parser.cc.5",N7t="parser.cc.6",L7t="parser.cc.7",R7t="parser.cc.8",B7t="parser.ope.1",F7t="parser.ope.2",j7t="parser.ope.3",$7t="parser.descape.1",V7t="parser.descape.2",z7t="parser.descape.3",H7t="parser.descape.4",U7t="parser.descape.5",q7t="parser.process.1",W7t="parser.quantifier.1",G7t="parser.quantifier.2",K7t="parser.quantifier.3",Y7t="parser.quantifier.4",X7t="parser.quantifier.5",Z7t="org.eclipse.emf.common.notify",Q7t={415:1,672:1},J7t={3:1,4:1,20:1,28:1,52:1,14:1,15:1,67:1,58:1},t8t={366:1,143:1},e8t="index=",n8t={3:1,4:1,5:1,126:1},i8t={3:1,4:1,20:1,28:1,52:1,14:1,15:1,54:1,67:1,58:1},r8t={3:1,6:1,4:1,5:1,192:1},o8t={3:1,4:1,5:1,165:1,367:1},s8t=";/?:@&=+$,",a8t="invalid authority: ",c8t="EAnnotation",l8t="ETypedElement",u8t="EStructuralFeature",h8t="EAttribute",d8t="EClassifier",f8t="EEnumLiteral",g8t="EGenericType",p8t="EOperation",m8t="EParameter",b8t="EReference",w8t="ETypeParameter",y8t="org.eclipse.emf.ecore.util",v8t={76:1},_8t={3:1,20:1,14:1,15:1,58:1,589:1,76:1,69:1,95:1},k8t="org.eclipse.emf.ecore.util.FeatureMap$Entry",x8t=8192,E8t=2048,T8t="byte",C8t="char",A8t="double",S8t="float",I8t="int",M8t="long",P8t="short",O8t="java.lang.Object",D8t={3:1,4:1,5:1,247:1},N8t={3:1,4:1,5:1,673:1},L8t={3:1,4:1,20:1,28:1,52:1,14:1,15:1,54:1,67:1,63:1,58:1,69:1},R8t={3:1,4:1,20:1,28:1,52:1,14:1,15:1,54:1,67:1,63:1,58:1,76:1,69:1,95:1},B8t="mixed",F8t="http:///org/eclipse/emf/ecore/util/ExtendedMetaData",j8t="kind",$8t={3:1,4:1,5:1,674:1},V8t={3:1,4:1,20:1,28:1,52:1,14:1,15:1,67:1,58:1,76:1,69:1,95:1},z8t={20:1,28:1,52:1,14:1,15:1,58:1,69:1},H8t={47:1,125:1,279:1},U8t={72:1,332:1},q8t="The value of type '",W8t="' must be of type '",G8t=1316,K8t="http://www.eclipse.org/emf/2002/Ecore",Y8t=-32768,X8t="constraints",Z8t="baseType",Q8t="getEStructuralFeature",J8t="getFeatureID",t9t="feature",e9t="getOperationID",n9t="operation",i9t="defaultValue",r9t="eTypeParameters",o9t="isInstance",s9t="getEEnumLiteral",a9t="eContainingClass",c9t={55:1},l9t={3:1,4:1,5:1,119:1},u9t="org.eclipse.emf.ecore.resource",h9t={92:1,90:1,591:1,1935:1},d9t="org.eclipse.emf.ecore.resource.impl",f9t="unspecified",g9t="simple",p9t="attribute",m9t="attributeWildcard",b9t="element",w9t="elementWildcard",y9t="collapse",v9t="itemType",_9t="namespace",k9t="##targetNamespace",x9t="whiteSpace",E9t="wildcards",T9t="http://www.eclipse.org/emf/2003/XMLType",C9t="##any",A9t="uninitialized",S9t="The multiplicity constraint is violated",I9t="org.eclipse.emf.ecore.xml.type",M9t="ProcessingInstruction",P9t="SimpleAnyType",O9t="XMLTypeDocumentRoot",D9t="org.eclipse.emf.ecore.xml.type.impl",N9t="INF",L9t="processing",R9t="ENTITIES_._base",B9t="minLength",F9t="ENTITY",j9t="NCName",$9t="IDREFS_._base",V9t="integer",z9t="token",H9t="pattern",U9t="[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*",q9t="\\i\\c*",W9t="[\\i-[:]][\\c-[:]]*",G9t="nonPositiveInteger",K9t="maxInclusive",Y9t="NMTOKEN",X9t="NMTOKENS_._base",Z9t="nonNegativeInteger",Q9t="minInclusive",J9t="normalizedString",tte="unsignedByte",ete="unsignedInt",nte="18446744073709551615",ite="unsignedShort",rte="processingInstruction",ote="org.eclipse.emf.ecore.xml.type.internal",ste=1114111,ate="Internal Error: shorthands: \\u",cte="xml:isDigit",lte="xml:isWord",ute="xml:isSpace",hte="xml:isNameChar",dte="xml:isInitialNameChar",fte="09٠٩۰۹०९০৯੦੯૦૯୦୯௧௯౦౯೦೯൦൯๐๙໐໙༠༩",gte="AZazÀÖØöøıĴľŁňŊžƀǃǍǰǴǵǺȗɐʨʻˁΆΆΈΊΌΌΎΡΣώϐϖϚϚϜϜϞϞϠϠϢϳЁЌЎяёќўҁҐӄӇӈӋӌӐӫӮӵӸӹԱՖՙՙաֆאתװײءغفيٱڷںھۀێېۓەەۥۦअहऽऽक़ॡঅঌএঐওনপরললশহড়ঢ়য়ৡৰৱਅਊਏਐਓਨਪਰਲਲ਼ਵਸ਼ਸਹਖ਼ੜਫ਼ਫ਼ੲੴઅઋઍઍએઑઓનપરલળવહઽઽૠૠଅଌଏଐଓନପରଲଳଶହଽଽଡ଼ଢ଼ୟୡஅஊஎஐஒகஙசஜஜஞடணதநபமவஷஹఅఌఎఐఒనపళవహౠౡಅಌಎಐಒನಪಳವಹೞೞೠೡഅഌഎഐഒനപഹൠൡกฮะะาำเๅກຂຄຄງຈຊຊຍຍດທນຟມຣລລວວສຫອຮະະາຳຽຽເໄཀཇཉཀྵႠჅაჶᄀᄀᄂᄃᄅᄇᄉᄉᄋᄌᄎᄒᄼᄼᄾᄾᅀᅀᅌᅌᅎᅎᅐᅐᅔᅕᅙᅙᅟᅡᅣᅣᅥᅥᅧᅧᅩᅩᅭᅮᅲᅳᅵᅵᆞᆞᆨᆨᆫᆫᆮᆯᆷᆸᆺᆺᆼᇂᇫᇫᇰᇰᇹᇹḀẛẠỹἀἕἘἝἠὅὈὍὐὗὙὙὛὛὝὝὟώᾀᾴᾶᾼιιῂῄῆῌῐΐῖΊῠῬῲῴῶῼΩΩKÅ℮℮ↀↂ〇〇〡〩ぁゔァヺㄅㄬ一龥가힣",pte="Private Use",mte="ASSIGNED",bte="\0ÿĀſƀɏɐʯʰ˿̀ͯͰϿЀӿ԰֏֐׿؀ۿ܀ݏހ޿ऀॿঀ৿਀੿઀૿଀୿஀௿ఀ౿ಀ೿ഀൿ඀෿฀๿຀໿ༀ࿿က႟Ⴀჿᄀᇿሀ፿Ꭰ᏿᐀ᙿ ᚟ᚠ᛿ក៿᠀᢯Ḁỿἀ῿ ⁯⁰₟₠⃏⃐⃿℀⅏⅐↏←⇿∀⋿⌀⏿␀␿⑀⑟①⓿─╿▀▟■◿☀⛿✀➿⠀⣿⺀⻿⼀⿟⿰⿿　〿぀ゟ゠ヿ㄀ㄯ㄰㆏㆐㆟ㆠㆿ㈀㋿㌀㏿㐀䶵一鿿ꀀ꒏꒐꓏가힣豈﫿ﬀﭏﭐ﷿︠︯︰﹏﹐﹯ﹰ﻾\ufeff\ufeff＀￯",wte="UNASSIGNED",yte={3:1,117:1},vte="org.eclipse.emf.ecore.xml.type.util",_te={3:1,4:1,5:1,368:1},kte="org.eclipse.xtext.xbase.lib",xte="Cannot add elements to a Range",Ete="Cannot set elements in a Range",Tte="Cannot remove elements from a Range",Cte="locale",Ate="default",Ste="user.agent";i.goog=i.goog||{},i.goog.global=i.goog.global||i,GTt(),fPt(1,null,{},r),EKt.Fb=function(t){return FM(this,t)},EKt.Gb=function(){return this.gm},EKt.Hb=function(){return TN(this)},EKt.Ib=function(){return Qk(tlt(this))+"@"+(Jct(this)>>>0).toString(16)},EKt.equals=function(t){return this.Fb(t)},EKt.hashCode=function(){return this.Hb()},EKt.toString=function(){return this.Ib()},fPt(290,1,{290:1,2026:1},mct),EKt.le=function(t){var e;return(e=new mct).i=4,e.c=t>1?gJ(this,t-1):this,e},EKt.me=function(){return _R(this),this.b},EKt.ne=function(){return Qk(this)},EKt.oe=function(){return _R(this),this.k},EKt.pe=function(){return!!(4&this.i)},EKt.qe=function(){return!!(1&this.i)},EKt.Ib=function(){return oet(this)},EKt.i=0;var Ite,Mte=mG(RKt,"Object",1),Pte=mG(RKt,"Class",290);fPt(1998,1,BKt),mG(FKt,"Optional",1998),fPt(1170,1998,BKt,o),EKt.Fb=function(t){return t===this},EKt.Hb=function(){return 2040732332},EKt.Ib=function(){return"Optional.absent()"},EKt.Jb=function(t){return wG(t),ev(),Ite},mG(FKt,"Absent",1170),fPt(628,1,{},b_),mG(FKt,"Joiner",628);var Ote=hH(FKt,"Predicate");fPt(582,1,{169:1,582:1,3:1,45:1},jh),EKt.Mb=function(t){return Bct(this,t)},EKt.Lb=function(t){return Bct(this,t)},EKt.Fb=function(t){var e;return!!iD(t,582)&&(e=jV(t,582),DPt(this.a,e.a))},EKt.Hb=function(){return jct(this.a)+306654252},EKt.Ib=function(){return fAt(this.a)},mG(FKt,"Predicates/AndPredicate",582),fPt(408,1998,{408:1,3:1},$h),EKt.Fb=function(t){var e;return!!iD(t,408)&&(e=jV(t,408),Dht(this.a,e.a))},EKt.Hb=function(){return 1502476572+Jct(this.a)},EKt.Ib=function(){return HKt+this.a+")"},EKt.Jb=function(t){return new $h(WX(t.Kb(this.a),"the Function passed to Optional.transform() must not return null."))},mG(FKt,"Present",408),fPt(198,1,qKt),EKt.Nb=function(t){lW(this,t)},EKt.Qb=function(){h_()},mG(WKt,"UnmodifiableIterator",198),fPt(1978,198,GKt),EKt.Qb=function(){h_()},EKt.Rb=function(t){throw $b(new pw)},EKt.Wb=function(t){throw $b(new pw)},mG(WKt,"UnmodifiableListIterator",1978),fPt(386,1978,GKt),EKt.Ob=function(){return this.c<this.d},EKt.Sb=function(){return this.c>0},EKt.Pb=function(){if(this.c>=this.d)throw $b(new ww);return this.Xb(this.c++)},EKt.Tb=function(){return this.c},EKt.Ub=function(){if(this.c<=0)throw $b(new ww);return this.Xb(--this.c)},EKt.Vb=function(){return this.c-1},EKt.c=0,EKt.d=0,mG(WKt,"AbstractIndexedListIterator",386),fPt(699,198,qKt),EKt.Ob=function(){return Qit(this)},EKt.Pb=function(){return T9(this)},EKt.e=1,mG(WKt,"AbstractIterator",699),fPt(1986,1,{224:1}),EKt.Zb=function(){return this.f||(this.f=this.ac())},EKt.Fb=function(t){return _lt(this,t)},EKt.Hb=function(){return Jct(this.Zb())},EKt.dc=function(){return 0==this.gc()},EKt.ec=function(){return gq(this)},EKt.Ib=function(){return $ft(this.Zb())},mG(WKt,"AbstractMultimap",1986),fPt(726,1986,KKt),EKt.$b=function(){fit(this)},EKt._b=function(t){return Wk(this,t)},EKt.ac=function(){return new pE(this,this.c)},EKt.ic=function(t){return this.hc()},EKt.bc=function(){return new $D(this,this.c)},EKt.jc=function(){return this.mc(this.hc())},EKt.kc=function(){return new $y(this)},EKt.lc=function(){return zEt(this.c.vc().Nc(),new a,64,this.d)},EKt.cc=function(t){return c6(this,t)},EKt.fc=function(t){return Dut(this,t)},EKt.gc=function(){return this.d},EKt.mc=function(t){return EX(),new $f(t)},EKt.nc=function(){return new jy(this)},EKt.oc=function(){return zEt(this.c.Cc().Nc(),new s,64,this.d)},EKt.pc=function(t,e){return new W6(this,t,e,null)},EKt.d=0,mG(WKt,"AbstractMapBasedMultimap",726),fPt(1631,726,KKt),EKt.hc=function(){return new X6(this.a)},EKt.jc=function(){return EX(),EX(),cne},EKt.cc=function(t){return jV(c6(this,t),15)},EKt.fc=function(t){return jV(Dut(this,t),15)},EKt.Zb=function(){return SX(this)},EKt.Fb=function(t){return _lt(this,t)},EKt.qc=function(t){return jV(c6(this,t),15)},EKt.rc=function(t){return jV(Dut(this,t),15)},EKt.mc=function(t){return nZ(jV(t,15))},EKt.pc=function(t,e){return e3(this,t,jV(e,15),null)},mG(WKt,"AbstractListMultimap",1631),fPt(732,1,YKt),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return this.c.Ob()||this.e.Ob()},EKt.Pb=function(){var t;return this.e.Ob()||(t=jV(this.c.Pb(),42),this.b=t.cd(),this.a=jV(t.dd(),14),this.e=this.a.Kc()),this.sc(this.b,this.e.Pb())},EKt.Qb=function(){this.e.Qb(),this.a.dc()&&this.c.Qb(),--this.d.d},mG(WKt,"AbstractMapBasedMultimap/Itr",732),fPt(1099,732,YKt,jy),EKt.sc=function(t,e){return e},mG(WKt,"AbstractMapBasedMultimap/1",1099),fPt(1100,1,{},s),EKt.Kb=function(t){return jV(t,14).Nc()},mG(WKt,"AbstractMapBasedMultimap/1methodref$spliterator$Type",1100),fPt(1101,732,YKt,$y),EKt.sc=function(t,e){return new mE(t,e)},mG(WKt,"AbstractMapBasedMultimap/2",1101);var Dte=hH(XKt,"Map");fPt(1967,1,ZKt),EKt.wc=function(t){Jot(this,t)},EKt.yc=function(t,e,n){return Qdt(this,t,e,n)},EKt.$b=function(){this.vc().$b()},EKt.tc=function(t){return Eyt(this,t)},EKt._b=function(t){return!!jxt(this,t,!1)},EKt.uc=function(t){var e,n;for(e=this.vc().Kc();e.Ob();)if(n=jV(e.Pb(),42).dd(),zI(t)===zI(n)||null!=t&&Dht(t,n))return!0;return!1},EKt.Fb=function(t){var e,n,i;if(t===this)return!0;if(!iD(t,83))return!1;if(i=jV(t,83),this.gc()!=i.gc())return!1;for(n=i.vc().Kc();n.Ob();)if(e=jV(n.Pb(),42),!this.tc(e))return!1;return!0},EKt.xc=function(t){return VI(jxt(this,t,!1))},EKt.Hb=function(){return Vat(this.vc())},EKt.dc=function(){return 0==this.gc()},EKt.ec=function(){return new Cf(this)},EKt.zc=function(t,e){throw $b(new Jv("Put not supported on this map"))},EKt.Ac=function(t){xot(this,t)},EKt.Bc=function(t){return VI(jxt(this,t,!0))},EKt.gc=function(){return this.vc().gc()},EKt.Ib=function(){return Jxt(this)},EKt.Cc=function(){return new Sf(this)},mG(XKt,"AbstractMap",1967),fPt(1987,1967,ZKt),EKt.bc=function(){return new EE(this)},EKt.vc=function(){return fq(this)},EKt.ec=function(){return this.g||(this.g=this.bc())},EKt.Cc=function(){return this.i||(this.i=new TE(this))},mG(WKt,"Maps/ViewCachingAbstractMap",1987),fPt(389,1987,ZKt,pE),EKt.xc=function(t){return vet(this,t)},EKt.Bc=function(t){return Qlt(this,t)},EKt.$b=function(){this.d==this.e.c?this.e.$b():CH(new SH(this))},EKt._b=function(t){return pht(this.d,t)},EKt.Ec=function(){return new Uh(this)},EKt.Dc=function(){return this.Ec()},EKt.Fb=function(t){return this===t||Dht(this.d,t)},EKt.Hb=function(){return Jct(this.d)},EKt.ec=function(){return this.e.ec()},EKt.gc=function(){return this.d.gc()},EKt.Ib=function(){return $ft(this.d)},mG(WKt,"AbstractMapBasedMultimap/AsMap",389);var Nte=hH(RKt,"Iterable");fPt(28,1,QKt),EKt.Jc=function(t){t4(this,t)},EKt.Lc=function(){return this.Oc()},EKt.Nc=function(){return new d1(this,0)},EKt.Oc=function(){return new LH(null,this.Nc())},EKt.Fc=function(t){throw $b(new Jv("Add not supported on this collection"))},EKt.Gc=function(t){return jrt(this,t)},EKt.$b=function(){kY(this)},EKt.Hc=function(t){return ygt(this,t,!1)},EKt.Ic=function(t){return aat(this,t)},EKt.dc=function(){return 0==this.gc()},EKt.Mc=function(t){return ygt(this,t,!0)},EKt.Pc=function(){return iq(this)},EKt.Qc=function(t){return kyt(this,t)},EKt.Ib=function(){return OTt(this)},mG(XKt,"AbstractCollection",28);var Lte=hH(XKt,"Set");fPt(JKt,28,tYt),EKt.Nc=function(){return new d1(this,1)},EKt.Fb=function(t){return nmt(this,t)},EKt.Hb=function(){return Vat(this)},mG(XKt,"AbstractSet",JKt),fPt(1970,JKt,tYt),mG(WKt,"Sets/ImprovedAbstractSet",1970),fPt(1971,1970,tYt),EKt.$b=function(){this.Rc().$b()},EKt.Hc=function(t){return npt(this,t)},EKt.dc=function(){return this.Rc().dc()},EKt.Mc=function(t){var e;return!!this.Hc(t)&&(e=jV(t,42),this.Rc().ec().Mc(e.cd()))},EKt.gc=function(){return this.Rc().gc()},mG(WKt,"Maps/EntrySet",1971),fPt(1097,1971,tYt,Uh),EKt.Hc=function(t){return fht(this.a.d.vc(),t)},EKt.Kc=function(){return new SH(this.a)},EKt.Rc=function(){return this.a},EKt.Mc=function(t){var e;return!!fht(this.a.d.vc(),t)&&(e=jV(t,42),$4(this.a.e,e.cd()),!0)},EKt.Nc=function(){return LV(this.a.d.vc().Nc(),new qh(this.a))},mG(WKt,"AbstractMapBasedMultimap/AsMap/AsMapEntries",1097),fPt(1098,1,{},qh),EKt.Kb=function(t){return e4(this.a,jV(t,42))},mG(WKt,"AbstractMapBasedMultimap/AsMap/AsMapEntries/0methodref$wrapEntry$Type",1098),fPt(730,1,YKt,SH),EKt.Nb=function(t){lW(this,t)},EKt.Pb=function(){var t;return t=jV(this.b.Pb(),42),this.a=jV(t.dd(),14),e4(this.c,t)},EKt.Ob=function(){return this.b.Ob()},EKt.Qb=function(){lst(!!this.a),this.b.Qb(),this.c.e.d-=this.a.gc(),this.a.$b(),this.a=null},mG(WKt,"AbstractMapBasedMultimap/AsMap/AsMapIterator",730),fPt(532,1970,tYt,EE),EKt.$b=function(){this.b.$b()},EKt.Hc=function(t){return this.b._b(t)},EKt.Jc=function(t){wG(t),this.b.wc(new pd(t))},EKt.dc=function(){return this.b.dc()},EKt.Kc=function(){return new uv(this.b.vc().Kc())},EKt.Mc=function(t){return!!this.b._b(t)&&(this.b.Bc(t),!0)},EKt.gc=function(){return this.b.gc()},mG(WKt,"Maps/KeySet",532),fPt(318,532,tYt,$D),EKt.$b=function(){CH(new tE(this,this.b.vc().Kc()))},EKt.Ic=function(t){return this.b.ec().Ic(t)},EKt.Fb=function(t){return this===t||Dht(this.b.ec(),t)},EKt.Hb=function(){return Jct(this.b.ec())},EKt.Kc=function(){return new tE(this,this.b.vc().Kc())},EKt.Mc=function(t){var e,n;return n=0,(e=jV(this.b.Bc(t),14))&&(n=e.gc(),e.$b(),this.a.d-=n),n>0},EKt.Nc=function(){return this.b.ec().Nc()},mG(WKt,"AbstractMapBasedMultimap/KeySet",318),fPt(731,1,YKt,tE),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return this.c.Ob()},EKt.Pb=function(){return this.a=jV(this.c.Pb(),42),this.a.cd()},EKt.Qb=function(){var t;lst(!!this.a),t=jV(this.a.dd(),14),this.c.Qb(),this.b.a.d-=t.gc(),t.$b(),this.a=null},mG(WKt,"AbstractMapBasedMultimap/KeySet/1",731),fPt(491,389,{83:1,161:1},CR),EKt.bc=function(){return this.Sc()},EKt.ec=function(){return this.Tc()},EKt.Sc=function(){return new Qx(this.c,this.Uc())},EKt.Tc=function(){return this.b||(this.b=this.Sc())},EKt.Uc=function(){return jV(this.d,161)},mG(WKt,"AbstractMapBasedMultimap/SortedAsMap",491),fPt(542,491,eYt,AR),EKt.bc=function(){return new Jx(this.a,jV(jV(this.d,161),171))},EKt.Sc=function(){return new Jx(this.a,jV(jV(this.d,161),171))},EKt.ec=function(){return jV(this.b||(this.b=new Jx(this.a,jV(jV(this.d,161),171))),271)},EKt.Tc=function(){return jV(this.b||(this.b=new Jx(this.a,jV(jV(this.d,161),171))),271)},EKt.Uc=function(){return jV(jV(this.d,161),171)},mG(WKt,"AbstractMapBasedMultimap/NavigableAsMap",542),fPt(490,318,nYt,Qx),EKt.Nc=function(){return this.b.ec().Nc()},mG(WKt,"AbstractMapBasedMultimap/SortedKeySet",490),fPt(388,490,iYt,Jx),mG(WKt,"AbstractMapBasedMultimap/NavigableKeySet",388),fPt(541,28,QKt,W6),EKt.Fc=function(t){var e,n;return Uft(this),n=this.d.dc(),(e=this.d.Fc(t))&&(++this.f.d,n&&vB(this)),e},EKt.Gc=function(t){var e,n,i;return!t.dc()&&(Uft(this),i=this.d.gc(),(e=this.d.Gc(t))&&(n=this.d.gc(),this.f.d+=n-i,0==i&&vB(this)),e)},EKt.$b=function(){var t;Uft(this),0!=(t=this.d.gc())&&(this.d.$b(),this.f.d-=t,MU(this))},EKt.Hc=function(t){return Uft(this),this.d.Hc(t)},EKt.Ic=function(t){return Uft(this),this.d.Ic(t)},EKt.Fb=function(t){return t===this||(Uft(this),Dht(this.d,t))},EKt.Hb=function(){return Uft(this),Jct(this.d)},EKt.Kc=function(){return Uft(this),new KV(this)},EKt.Mc=function(t){var e;return Uft(this),(e=this.d.Mc(t))&&(--this.f.d,MU(this)),e},EKt.gc=function(){return JI(this)},EKt.Nc=function(){return Uft(this),this.d.Nc()},EKt.Ib=function(){return Uft(this),$ft(this.d)},mG(WKt,"AbstractMapBasedMultimap/WrappedCollection",541);var Rte=hH(XKt,"List");fPt(728,541,{20:1,28:1,14:1,15:1},aq),EKt.ad=function(t){Frt(this,t)},EKt.Nc=function(){return Uft(this),this.d.Nc()},EKt.Vc=function(t,e){var n;Uft(this),n=this.d.dc(),jV(this.d,15).Vc(t,e),++this.a.d,n&&vB(this)},EKt.Wc=function(t,e){var n,i,r;return!e.dc()&&(Uft(this),r=this.d.gc(),(n=jV(this.d,15).Wc(t,e))&&(i=this.d.gc(),this.a.d+=i-r,0==r&&vB(this)),n)},EKt.Xb=function(t){return Uft(this),jV(this.d,15).Xb(t)},EKt.Xc=function(t){return Uft(this),jV(this.d,15).Xc(t)},EKt.Yc=function(){return Uft(this),new gO(this)},EKt.Zc=function(t){return Uft(this),new gX(this,t)},EKt.$c=function(t){var e;return Uft(this),e=jV(this.d,15).$c(t),--this.a.d,MU(this),e},EKt._c=function(t,e){return Uft(this),jV(this.d,15)._c(t,e)},EKt.bd=function(t,e){return Uft(this),e3(this.a,this.e,jV(this.d,15).bd(t,e),this.b?this.b:this)},mG(WKt,"AbstractMapBasedMultimap/WrappedList",728),fPt(1096,728,{20:1,28:1,14:1,15:1,54:1},SL),mG(WKt,"AbstractMapBasedMultimap/RandomAccessWrappedList",1096),fPt(620,1,YKt,KV),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return xY(this),this.b.Ob()},EKt.Pb=function(){return xY(this),this.b.Pb()},EKt.Qb=function(){tN(this)},mG(WKt,"AbstractMapBasedMultimap/WrappedCollection/WrappedIterator",620),fPt(729,620,rYt,gO,gX),EKt.Qb=function(){tN(this)},EKt.Rb=function(t){var e;e=0==JI(this.a),(xY(this),jV(this.b,125)).Rb(t),++this.a.a.d,e&&vB(this.a)},EKt.Sb=function(){return(xY(this),jV(this.b,125)).Sb()},EKt.Tb=function(){return(xY(this),jV(this.b,125)).Tb()},EKt.Ub=function(){return(xY(this),jV(this.b,125)).Ub()},EKt.Vb=function(){return(xY(this),jV(this.b,125)).Vb()},EKt.Wb=function(t){(xY(this),jV(this.b,125)).Wb(t)},mG(WKt,"AbstractMapBasedMultimap/WrappedList/WrappedListIterator",729),fPt(727,541,nYt,OR),EKt.Nc=function(){return Uft(this),this.d.Nc()},mG(WKt,"AbstractMapBasedMultimap/WrappedSortedSet",727),fPt(1095,727,iYt,IP),mG(WKt,"AbstractMapBasedMultimap/WrappedNavigableSet",1095),fPt(1094,541,tYt,DR),EKt.Nc=function(){return Uft(this),this.d.Nc()},mG(WKt,"AbstractMapBasedMultimap/WrappedSet",1094),fPt(1103,1,{},a),EKt.Kb=function(t){return F6(jV(t,42))},mG(WKt,"AbstractMapBasedMultimap/lambda$1$Type",1103),fPt(1102,1,{},Wh),EKt.Kb=function(t){return new mE(this.a,t)},mG(WKt,"AbstractMapBasedMultimap/lambda$2$Type",1102);var Bte,Fte,jte,$te,Vte=hH(XKt,"Map/Entry");fPt(345,1,oYt),EKt.Fb=function(t){var e;return!!iD(t,42)&&(e=jV(t,42),dK(this.cd(),e.cd())&&dK(this.dd(),e.dd()))},EKt.Hb=function(){var t,e;return t=this.cd(),e=this.dd(),(null==t?0:Jct(t))^(null==e?0:Jct(e))},EKt.ed=function(t){throw $b(new pw)},EKt.Ib=function(){return this.cd()+"="+this.dd()},mG(WKt,sYt,345),fPt(1988,28,QKt),EKt.$b=function(){this.fd().$b()},EKt.Hc=function(t){var e;return!!iD(t,42)&&(e=jV(t,42),$0(this.fd(),e.cd(),e.dd()))},EKt.Mc=function(t){var e;return!!iD(t,42)&&(e=jV(t,42),V0(this.fd(),e.cd(),e.dd()))},EKt.gc=function(){return this.fd().d},mG(WKt,"Multimaps/Entries",1988),fPt(733,1988,QKt,Gh),EKt.Kc=function(){return this.a.kc()},EKt.fd=function(){return this.a},EKt.Nc=function(){return this.a.lc()},mG(WKt,"AbstractMultimap/Entries",733),fPt(734,733,tYt,Vy),EKt.Nc=function(){return this.a.lc()},EKt.Fb=function(t){return UCt(this,t)},EKt.Hb=function(){return $rt(this)},mG(WKt,"AbstractMultimap/EntrySet",734),fPt(735,28,QKt,Kh),EKt.$b=function(){this.a.$b()},EKt.Hc=function(t){return Slt(this.a,t)},EKt.Kc=function(){return this.a.nc()},EKt.gc=function(){return this.a.d},EKt.Nc=function(){return this.a.oc()},mG(WKt,"AbstractMultimap/Values",735),fPt(1989,28,{835:1,20:1,28:1,14:1}),EKt.Jc=function(t){wG(t),_Y(this).Jc(new gd(t))},EKt.Nc=function(){var t;return zEt(t=_Y(this).Nc(),new v,64|1296&t.qd(),this.a.d)},EKt.Fc=function(t){return d_(),!0},EKt.Gc=function(t){return wG(this),wG(t),iD(t,543)?u2(jV(t,835)):!t.dc()&&ltt(this,t.Kc())},EKt.Hc=function(t){var e;return((e=jV(hht(SX(this.a),t),14))?e.gc():0)>0},EKt.Fb=function(t){return lOt(this,t)},EKt.Hb=function(){return Jct(_Y(this))},EKt.dc=function(){return _Y(this).dc()},EKt.Mc=function(t){return kIt(this,t,1)>0},EKt.Ib=function(){return $ft(_Y(this))},mG(WKt,"AbstractMultiset",1989),fPt(1991,1970,tYt),EKt.$b=function(){fit(this.a.a)},EKt.Hc=function(t){var e;return!(!iD(t,492)||(e=jV(t,416),jV(e.a.dd(),14).gc()<=0||i1(this.a,e.a.cd())!=jV(e.a.dd(),14).gc()))},EKt.Mc=function(t){var e,n,i;return!(!iD(t,492)||(e=(n=jV(t,416)).a.cd(),0==(i=jV(n.a.dd(),14).gc())))&&xIt(this.a,e,i)},mG(WKt,"Multisets/EntrySet",1991),fPt(1109,1991,tYt,Yh),EKt.Kc=function(){return new dv(fq(SX(this.a.a)).Kc())},EKt.gc=function(){return SX(this.a.a).gc()},mG(WKt,"AbstractMultiset/EntrySet",1109),fPt(619,726,KKt),EKt.hc=function(){return this.gd()},EKt.jc=function(){return this.hd()},EKt.cc=function(t){return this.jd(t)},EKt.fc=function(t){return this.kd(t)},EKt.Zb=function(){return this.f||(this.f=this.ac())},EKt.hd=function(){return EX(),EX(),une},EKt.Fb=function(t){return _lt(this,t)},EKt.jd=function(t){return jV(c6(this,t),21)},EKt.kd=function(t){return jV(Dut(this,t),21)},EKt.mc=function(t){return EX(),new I_(jV(t,21))},EKt.pc=function(t,e){return new DR(this,t,jV(e,21))},mG(WKt,"AbstractSetMultimap",619),fPt(1657,619,KKt),EKt.hc=function(){return new fx(this.b)},EKt.gd=function(){return new fx(this.b)},EKt.jc=function(){return AG(new fx(this.b))},EKt.hd=function(){return AG(new fx(this.b))},EKt.cc=function(t){return jV(jV(c6(this,t),21),84)},EKt.jd=function(t){return jV(jV(c6(this,t),21),84)},EKt.fc=function(t){return jV(jV(Dut(this,t),21),84)},EKt.kd=function(t){return jV(jV(Dut(this,t),21),84)},EKt.mc=function(t){return iD(t,271)?AG(jV(t,271)):(EX(),new fN(jV(t,84)))},EKt.Zb=function(){return this.f||(this.f=iD(this.c,171)?new AR(this,jV(this.c,171)):iD(this.c,161)?new CR(this,jV(this.c,161)):new pE(this,this.c))},EKt.pc=function(t,e){return iD(e,271)?new IP(this,t,jV(e,271)):new OR(this,t,jV(e,84))},mG(WKt,"AbstractSortedSetMultimap",1657),fPt(1658,1657,KKt),EKt.Zb=function(){return jV(jV(this.f||(this.f=iD(this.c,171)?new AR(this,jV(this.c,171)):iD(this.c,161)?new CR(this,jV(this.c,161)):new pE(this,this.c)),161),171)},EKt.ec=function(){return jV(jV(this.i||(this.i=iD(this.c,171)?new Jx(this,jV(this.c,171)):iD(this.c,161)?new Qx(this,jV(this.c,161)):new $D(this,this.c)),84),271)},EKt.bc=function(){return iD(this.c,171)?new Jx(this,jV(this.c,171)):iD(this.c,161)?new Qx(this,jV(this.c,161)):new $D(this,this.c)},mG(WKt,"AbstractSortedKeySortedSetMultimap",1658),fPt(2010,1,{1947:1}),EKt.Fb=function(t){return Akt(this,t)},EKt.Hb=function(){return Vat(this.g||(this.g=new Xh(this)))},EKt.Ib=function(){return Jxt(this.f||(this.f=new UD(this)))},mG(WKt,"AbstractTable",2010),fPt(665,JKt,tYt,Xh),EKt.$b=function(){f_()},EKt.Hc=function(t){var e,n;return!!iD(t,468)&&(e=jV(t,682),!!(n=jV(hht(vG(this.a),WI(e.c.e,e.b)),83))&&fht(n.vc(),new mE(WI(e.c.c,e.a),U6(e.c,e.b,e.a))))},EKt.Kc=function(){return ZX(this.a)},EKt.Mc=function(t){var e,n;return!!iD(t,468)&&(e=jV(t,682),!!(n=jV(hht(vG(this.a),WI(e.c.e,e.b)),83))&&ght(n.vc(),new mE(WI(e.c.c,e.a),U6(e.c,e.b,e.a))))},EKt.gc=function(){return HH(this.a)},EKt.Nc=function(){return T2(this.a)},mG(WKt,"AbstractTable/CellSet",665),fPt(1928,28,QKt,Zh),EKt.$b=function(){f_()},EKt.Hc=function(t){return lEt(this.a,t)},EKt.Kc=function(){return QX(this.a)},EKt.gc=function(){return HH(this.a)},EKt.Nc=function(){return Y0(this.a)},mG(WKt,"AbstractTable/Values",1928),fPt(1632,1631,KKt),mG(WKt,"ArrayListMultimapGwtSerializationDependencies",1632),fPt(513,1632,KKt,s_,s1),EKt.hc=function(){return new X6(this.a)},EKt.a=0,mG(WKt,"ArrayListMultimap",513),fPt(664,2010,{664:1,1947:1,3:1},bMt),mG(WKt,"ArrayTable",664),fPt(1924,386,GKt,VD),EKt.Xb=function(t){return new pct(this.a,t)},mG(WKt,"ArrayTable/1",1924),fPt(1925,1,{},Vh),EKt.ld=function(t){return new pct(this.a,t)},mG(WKt,"ArrayTable/1methodref$getCell$Type",1925),fPt(2011,1,{682:1}),EKt.Fb=function(t){var e;return t===this||!!iD(t,468)&&(e=jV(t,682),dK(WI(this.c.e,this.b),WI(e.c.e,e.b))&&dK(WI(this.c.c,this.a),WI(e.c.c,e.a))&&dK(U6(this.c,this.b,this.a),U6(e.c,e.b,e.a)))},EKt.Hb=function(){return uut(Cat(z_(Mte,1),VKt,1,5,[WI(this.c.e,this.b),WI(this.c.c,this.a),U6(this.c,this.b,this.a)]))},EKt.Ib=function(){return"("+WI(this.c.e,this.b)+","+WI(this.c.c,this.a)+")="+U6(this.c,this.b,this.a)},mG(WKt,"Tables/AbstractCell",2011),fPt(468,2011,{468:1,682:1},pct),EKt.a=0,EKt.b=0,EKt.d=0,mG(WKt,"ArrayTable/2",468),fPt(1927,1,{},zh),EKt.ld=function(t){return Y8(this.a,t)},mG(WKt,"ArrayTable/2methodref$getValue$Type",1927),fPt(1926,386,GKt,zD),EKt.Xb=function(t){return Y8(this.a,t)},mG(WKt,"ArrayTable/3",1926),fPt(1979,1967,ZKt),EKt.$b=function(){CH(this.kc())},EKt.vc=function(){return new md(this)},EKt.lc=function(){return new CY(this.kc(),this.gc())},mG(WKt,"Maps/IteratorBasedAbstractMap",1979),fPt(828,1979,ZKt),EKt.$b=function(){throw $b(new pw)},EKt._b=function(t){return Yk(this.c,t)},EKt.kc=function(){return new HD(this,this.c.b.c.gc())},EKt.lc=function(){return wH(this.c.b.c.gc(),16,new Hh(this))},EKt.xc=function(t){var e;return(e=jV(UF(this.c,t),19))?this.nd(e.a):null},EKt.dc=function(){return this.c.b.c.dc()},EKt.ec=function(){return hq(this.c)},EKt.zc=function(t,e){var n;if(!(n=jV(UF(this.c,t),19)))throw $b(new Bv(this.md()+" "+t+" not in "+hq(this.c)));return this.od(n.a,e)},EKt.Bc=function(t){throw $b(new pw)},EKt.gc=function(){return this.c.b.c.gc()},mG(WKt,"ArrayTable/ArrayMap",828),fPt(1923,1,{},Hh),EKt.ld=function(t){return SG(this.a,t)},mG(WKt,"ArrayTable/ArrayMap/0methodref$getEntry$Type",1923),fPt(1921,345,oYt,aE),EKt.cd=function(){return YD(this.a,this.b)},EKt.dd=function(){return this.a.nd(this.b)},EKt.ed=function(t){return this.a.od(this.b,t)},EKt.b=0,mG(WKt,"ArrayTable/ArrayMap/1",1921),fPt(1922,386,GKt,HD),EKt.Xb=function(t){return SG(this.a,t)},mG(WKt,"ArrayTable/ArrayMap/2",1922),fPt(1920,828,ZKt,iW),EKt.md=function(){return"Column"},EKt.nd=function(t){return U6(this.b,this.a,t)},EKt.od=function(t,e){return Tat(this.b,this.a,t,e)},EKt.a=0,mG(WKt,"ArrayTable/Row",1920),fPt(829,828,ZKt,UD),EKt.nd=function(t){return new iW(this.a,t)},EKt.zc=function(t,e){return jV(e,83),g_()},EKt.od=function(t,e){return jV(e,83),p_()},EKt.md=function(){return"Row"},mG(WKt,"ArrayTable/RowMap",829),fPt(1120,1,uYt,cE),EKt.qd=function(){return-262&this.a.qd()},EKt.rd=function(){return this.a.rd()},EKt.Nb=function(t){this.a.Nb(new iE(t,this.b))},EKt.sd=function(t){return this.a.sd(new nE(t,this.b))},mG(WKt,"CollectSpliterators/1",1120),fPt(1121,1,hYt,nE),EKt.td=function(t){this.a.td(this.b.Kb(t))},mG(WKt,"CollectSpliterators/1/lambda$0$Type",1121),fPt(1122,1,hYt,iE),EKt.td=function(t){this.a.td(this.b.Kb(t))},mG(WKt,"CollectSpliterators/1/lambda$1$Type",1122),fPt(1123,1,uYt,V2),EKt.qd=function(){return this.a},EKt.rd=function(){return this.d&&(this.b=kO(this.b,this.d.rd())),kO(this.b,0)},EKt.Nb=function(t){this.d&&(this.d.Nb(t),this.d=null),this.c.Nb(new eE(this.e,t)),this.b=0},EKt.sd=function(t){for(;;){if(this.d&&this.d.sd(t))return XI(this.b,dYt)&&(this.b=nft(this.b,1)),!0;if(this.d=null,!this.c.sd(new rE(this,this.e)))return!1}},EKt.a=0,EKt.b=0,mG(WKt,"CollectSpliterators/1FlatMapSpliterator",1123),fPt(1124,1,hYt,rE),EKt.td=function(t){fF(this.a,this.b,t)},mG(WKt,"CollectSpliterators/1FlatMapSpliterator/lambda$0$Type",1124),fPt(1125,1,hYt,eE),EKt.td=function(t){sD(this.b,this.a,t)},mG(WKt,"CollectSpliterators/1FlatMapSpliterator/lambda$1$Type",1125),fPt(1117,1,uYt,dF),EKt.qd=function(){return 16464|this.b},EKt.rd=function(){return this.a.rd()},EKt.Nb=function(t){this.a.xe(new sE(t,this.c))},EKt.sd=function(t){return this.a.ye(new oE(t,this.c))},EKt.b=0,mG(WKt,"CollectSpliterators/1WithCharacteristics",1117),fPt(1118,1,fYt,oE),EKt.ud=function(t){this.a.td(this.b.ld(t))},mG(WKt,"CollectSpliterators/1WithCharacteristics/lambda$0$Type",1118),fPt(1119,1,fYt,sE),EKt.ud=function(t){this.a.td(this.b.ld(t))},mG(WKt,"CollectSpliterators/1WithCharacteristics/lambda$1$Type",1119),fPt(245,1,gYt),EKt.wd=function(t){return this.vd(jV(t,245))},EKt.vd=function(t){var e;return t==(Jy(),Fte)?1:t==(tv(),Bte)?-1:(Qz(),0!=(e=Dot(this.a,t.a))?e:iD(this,519)==iD(t,519)?0:iD(this,519)?1:-1)},EKt.zd=function(){return this.a},EKt.Fb=function(t){return Npt(this,t)},mG(WKt,"Cut",245),fPt(1761,245,gYt,O_),EKt.vd=function(t){return t==this?0:1},EKt.xd=function(t){throw $b(new cw)},EKt.yd=function(t){t.a+="+∞)"},EKt.zd=function(){throw $b(new Fv(pYt))},EKt.Hb=function(){return ME(),ewt(this)},EKt.Ad=function(t){return!1},EKt.Ib=function(){return"+∞"},mG(WKt,"Cut/AboveAll",1761),fPt(519,245,{245:1,519:1,3:1,35:1},eN),EKt.xd=function(t){oM((t.a+="(",t),this.a)},EKt.yd=function(t){DG(oM(t,this.a),93)},EKt.Hb=function(){return~Jct(this.a)},EKt.Ad=function(t){return Qz(),Dot(this.a,t)<0},EKt.Ib=function(){return"/"+this.a+"\\"},mG(WKt,"Cut/AboveValue",519),fPt(1760,245,gYt,D_),EKt.vd=function(t){return t==this?0:-1},EKt.xd=function(t){t.a+="(-∞"},EKt.yd=function(t){throw $b(new cw)},EKt.zd=function(){throw $b(new Fv(pYt))},EKt.Hb=function(){return ME(),ewt(this)},EKt.Ad=function(t){return!0},EKt.Ib=function(){return"-∞"},mG(WKt,"Cut/BelowAll",1760),fPt(1762,245,gYt,nN),EKt.xd=function(t){oM((t.a+="[",t),this.a)},EKt.yd=function(t){DG(oM(t,this.a),41)},EKt.Hb=function(){return Jct(this.a)},EKt.Ad=function(t){return Qz(),Dot(this.a,t)<=0},EKt.Ib=function(){return"\\"+this.a+"/"},mG(WKt,"Cut/BelowValue",1762),fPt(537,1,mYt),EKt.Jc=function(t){t4(this,t)},EKt.Ib=function(){return Vdt(jV(WX(this,"use Optional.orNull() instead of Optional.or(null)"),20).Kc())},mG(WKt,"FluentIterable",537),fPt(433,537,mYt,SM),EKt.Kc=function(){return new sq(ZD(this.a.Kc(),new u))},mG(WKt,"FluentIterable/2",433),fPt(1046,537,mYt,IM),EKt.Kc=function(){return OW(this)},mG(WKt,"FluentIterable/3",1046),fPt(708,386,GKt,WD),EKt.Xb=function(t){return this.a[t].Kc()},mG(WKt,"FluentIterable/3/1",708),fPt(1972,1,{}),EKt.Ib=function(){return $ft(this.Bd().b)},mG(WKt,"ForwardingObject",1972),fPt(1973,1972,bYt),EKt.Bd=function(){return this.Cd()},EKt.Jc=function(t){t4(this,t)},EKt.Lc=function(){return this.Oc()},EKt.Nc=function(){return new d1(this,0)},EKt.Oc=function(){return new LH(null,this.Nc())},EKt.Fc=function(t){return this.Cd(),sx()},EKt.Gc=function(t){return this.Cd(),ax()},EKt.$b=function(){this.Cd(),cx()},EKt.Hc=function(t){return this.Cd().Hc(t)},EKt.Ic=function(t){return this.Cd().Ic(t)},EKt.dc=function(){return this.Cd().b.dc()},EKt.Kc=function(){return this.Cd().Kc()},EKt.Mc=function(t){return this.Cd(),lx()},EKt.gc=function(){return this.Cd().b.gc()},EKt.Pc=function(){return this.Cd().Pc()},EKt.Qc=function(t){return this.Cd().Qc(t)},mG(WKt,"ForwardingCollection",1973),fPt(1980,28,wYt),EKt.Kc=function(){return this.Ed()},EKt.Fc=function(t){throw $b(new pw)},EKt.Gc=function(t){throw $b(new pw)},EKt.$b=function(){throw $b(new pw)},EKt.Hc=function(t){return null!=t&&ygt(this,t,!1)},EKt.Dd=function(){switch(this.gc()){case 0:return WG(),WG(),jte;case 1:return WG(),new TH(wG(this.Ed().Pb()));default:return new rW(this,this.Pc())}},EKt.Mc=function(t){throw $b(new pw)},mG(WKt,"ImmutableCollection",1980),fPt(712,1980,wYt,nw),EKt.Kc=function(){return P8(this.a.Kc())},EKt.Hc=function(t){return null!=t&&this.a.Hc(t)},EKt.Ic=function(t){return this.a.Ic(t)},EKt.dc=function(){return this.a.dc()},EKt.Ed=function(){return P8(this.a.Kc())},EKt.gc=function(){return this.a.gc()},EKt.Pc=function(){return this.a.Pc()},EKt.Qc=function(t){return this.a.Qc(t)},EKt.Ib=function(){return $ft(this.a)},mG(WKt,"ForwardingImmutableCollection",712),fPt(152,1980,yYt),EKt.Kc=function(){return this.Ed()},EKt.Yc=function(){return this.Fd(0)},EKt.Zc=function(t){return this.Fd(t)},EKt.ad=function(t){Frt(this,t)},EKt.Nc=function(){return new d1(this,16)},EKt.bd=function(t,e){return this.Gd(t,e)},EKt.Vc=function(t,e){throw $b(new pw)},EKt.Wc=function(t,e){throw $b(new pw)},EKt.Fb=function(t){return zPt(this,t)},EKt.Hb=function(){return Sst(this)},EKt.Xc=function(t){return null==t?-1:xyt(this,t)},EKt.Ed=function(){return this.Fd(0)},EKt.Fd=function(t){return eL(this,t)},EKt.$c=function(t){throw $b(new pw)},EKt._c=function(t,e){throw $b(new pw)},EKt.Gd=function(t,e){return cht(new a1(new AE(this),t,e))},mG(WKt,"ImmutableList",152),fPt(2006,152,yYt),EKt.Kc=function(){return P8(this.Hd().Kc())},EKt.bd=function(t,e){return cht(this.Hd().bd(t,e))},EKt.Hc=function(t){return null!=t&&this.Hd().Hc(t)},EKt.Ic=function(t){return this.Hd().Ic(t)},EKt.Fb=function(t){return Dht(this.Hd(),t)},EKt.Xb=function(t){return WI(this,t)},EKt.Hb=function(){return Jct(this.Hd())},EKt.Xc=function(t){return this.Hd().Xc(t)},EKt.dc=function(){return this.Hd().dc()},EKt.Ed=function(){return P8(this.Hd().Kc())},EKt.gc=function(){return this.Hd().gc()},EKt.Gd=function(t,e){return cht(this.Hd().bd(t,e))},EKt.Pc=function(){return this.Hd().Qc(D7(Mte,VKt,1,this.Hd().gc(),5,1))},EKt.Qc=function(t){return this.Hd().Qc(t)},EKt.Ib=function(){return $ft(this.Hd())},mG(WKt,"ForwardingImmutableList",2006),fPt(714,1,_Yt),EKt.vc=function(){return uq(this)},EKt.wc=function(t){Jot(this,t)},EKt.ec=function(){return hq(this)},EKt.yc=function(t,e,n){return Qdt(this,t,e,n)},EKt.Cc=function(){return this.Ld()},EKt.$b=function(){throw $b(new pw)},EKt._b=function(t){return null!=this.xc(t)},EKt.uc=function(t){return this.Ld().Hc(t)},EKt.Jd=function(){return new iw(this)},EKt.Kd=function(){return new rw(this)},EKt.Fb=function(t){return Plt(this,t)},EKt.Hb=function(){return uq(this).Hb()},EKt.dc=function(){return 0==this.gc()},EKt.zc=function(t,e){return m_()},EKt.Bc=function(t){throw $b(new pw)},EKt.Ib=function(){return uCt(this)},EKt.Ld=function(){return this.e?this.e:this.e=this.Kd()},EKt.c=null,EKt.d=null,EKt.e=null,mG(WKt,"ImmutableMap",714),fPt(715,714,_Yt),EKt._b=function(t){return Yk(this,t)},EKt.uc=function(t){return BE(this.b,t)},EKt.Id=function(){return lht(new Jh(this))},EKt.Jd=function(){return lht(eY(this.b))},EKt.Kd=function(){return aj(),new nw(JK(this.b))},EKt.Fb=function(t){return jE(this.b,t)},EKt.xc=function(t){return UF(this,t)},EKt.Hb=function(){return Jct(this.b.c)},EKt.dc=function(){return this.b.c.dc()},EKt.gc=function(){return this.b.c.gc()},EKt.Ib=function(){return $ft(this.b.c)},mG(WKt,"ForwardingImmutableMap",715),fPt(1974,1973,kYt),EKt.Bd=function(){return this.Md()},EKt.Cd=function(){return this.Md()},EKt.Nc=function(){return new d1(this,1)},EKt.Fb=function(t){return t===this||this.Md().Fb(t)},EKt.Hb=function(){return this.Md().Hb()},mG(WKt,"ForwardingSet",1974),fPt(1069,1974,kYt,Jh),EKt.Bd=function(){return tY(this.a.b)},EKt.Cd=function(){return tY(this.a.b)},EKt.Hc=function(t){if(iD(t,42)&&null==jV(t,42).cd())return!1;try{return RE(tY(this.a.b),t)}catch(t){if(iD(t=hat(t),205))return!1;throw $b(t)}},EKt.Md=function(){return tY(this.a.b)},EKt.Qc=function(t){var e;return e=AZ(tY(this.a.b),t),tY(this.a.b).b.gc()<e.length&&MG(e,tY(this.a.b).b.gc(),null),e},mG(WKt,"ForwardingImmutableMap/1",1069),fPt(1981,1980,xYt),EKt.Kc=function(){return this.Ed()},EKt.Nc=function(){return new d1(this,1)},EKt.Fb=function(t){return UCt(this,t)},EKt.Hb=function(){return $rt(this)},mG(WKt,"ImmutableSet",1981),fPt(703,1981,xYt),EKt.Kc=function(){return P8(new Vf(this.a.b.Kc()))},EKt.Hc=function(t){return null!=t&&DE(this.a,t)},EKt.Ic=function(t){return NE(this.a,t)},EKt.Hb=function(){return Jct(this.a.b)},EKt.dc=function(){return this.a.b.dc()},EKt.Ed=function(){return P8(new Vf(this.a.b.Kc()))},EKt.gc=function(){return this.a.b.gc()},EKt.Pc=function(){return this.a.b.Pc()},EKt.Qc=function(t){return LE(this.a,t)},EKt.Ib=function(){return $ft(this.a.b)},mG(WKt,"ForwardingImmutableSet",703),fPt(1975,1974,EYt),EKt.Bd=function(){return this.b},EKt.Cd=function(){return this.b},EKt.Md=function(){return this.b},EKt.Nc=function(){return new dC(this)},mG(WKt,"ForwardingSortedSet",1975),fPt(533,1979,_Yt,Mwt),EKt.Ac=function(t){xot(this,t)},EKt.Cc=function(){return new pO(this.d||(this.d=new td(this)))},EKt.$b=function(){f4(this)},EKt._b=function(t){return!!Zrt(this,t,fU(rft(TYt,nY(fU(rft(null==t?0:Jct(t),CYt)),15))))},EKt.uc=function(t){return Oet(this,t)},EKt.kc=function(){return new GD(this,this)},EKt.wc=function(t){jQ(this,t)},EKt.xc=function(t){return cnt(this,t)},EKt.ec=function(){return new mO(this)},EKt.zc=function(t,e){return fFt(this,t,e)},EKt.Bc=function(t){var e;return(e=Zrt(this,t,fU(rft(TYt,nY(fU(rft(null==t?0:Jct(t),CYt)),15)))))?(ODt(this,e),e.e=null,e.c=null,e.i):null},EKt.gc=function(){return this.i},EKt.pd=function(){return new pO(this.d||(this.d=new td(this)))},EKt.f=0,EKt.g=0,EKt.i=0,mG(WKt,"HashBiMap",533),fPt(534,1,YKt),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return u3(this)},EKt.Pb=function(){var t;if(!u3(this))throw $b(new ww);return t=this.c,this.c=t.c,this.f=t,--this.d,this.Nd(t)},EKt.Qb=function(){if(this.e.g!=this.b)throw $b(new mw);lst(!!this.f),ODt(this.e,this.f),this.b=this.e.g,this.f=null},EKt.b=0,EKt.d=0,EKt.f=null,mG(WKt,"HashBiMap/Itr",534),fPt(1011,534,YKt,GD),EKt.Nd=function(t){return new hE(this,t)},mG(WKt,"HashBiMap/1",1011),fPt(1012,345,oYt,hE),EKt.cd=function(){return this.a.g},EKt.dd=function(){return this.a.i},EKt.ed=function(t){var e,n,i;return n=this.a.i,(i=fU(rft(TYt,nY(fU(rft(null==t?0:Jct(t),CYt)),15))))==this.a.f&&(zI(t)===zI(n)||null!=t&&Dht(t,n))?t:(yat(!Qrt(this.b.a,t,i),t),ODt(this.b.a,this.a),e=new VK(this.a.g,this.a.a,t,i),XSt(this.b.a,e,this.a),this.a.e=null,this.a.c=null,this.b.b=this.b.a.g,this.b.f==this.a&&(this.b.f=e),this.a=e,n)},mG(WKt,"HashBiMap/1/MapEntry",1012),fPt(238,345,{345:1,238:1,3:1,42:1},mE),EKt.cd=function(){return this.g},EKt.dd=function(){return this.i},EKt.ed=function(t){throw $b(new pw)},mG(WKt,"ImmutableEntry",238),fPt(317,238,{345:1,317:1,238:1,3:1,42:1},VK),EKt.a=0,EKt.f=0;var zte,Hte=mG(WKt,"HashBiMap/BiEntry",317);fPt(610,1979,_Yt,td),EKt.Ac=function(t){xot(this,t)},EKt.Cc=function(){return new mO(this.a)},EKt.$b=function(){f4(this.a)},EKt._b=function(t){return Oet(this.a,t)},EKt.kc=function(){return new KD(this,this.a)},EKt.wc=function(t){wG(t),jQ(this.a,new ed(t))},EKt.xc=function(t){return qit(this,t)},EKt.ec=function(){return new pO(this)},EKt.zc=function(t,e){return Ajt(this.a,t,e,!1)},EKt.Bc=function(t){var e;return(e=Qrt(this.a,t,fU(rft(TYt,nY(fU(rft(null==t?0:Jct(t),CYt)),15)))))?(ODt(this.a,e),e.e=null,e.c=null,e.g):null},EKt.gc=function(){return this.a.i},EKt.pd=function(){return new mO(this.a)},mG(WKt,"HashBiMap/Inverse",610),fPt(1008,534,YKt,KD),EKt.Nd=function(t){return new dE(this,t)},mG(WKt,"HashBiMap/Inverse/1",1008),fPt(1009,345,oYt,dE),EKt.cd=function(){return this.a.i},EKt.dd=function(){return this.a.g},EKt.ed=function(t){var e,n,i;return i=this.a.g,(e=fU(rft(TYt,nY(fU(rft(null==t?0:Jct(t),CYt)),15))))==this.a.a&&(zI(t)===zI(i)||null!=t&&Dht(t,i))?t:(yat(!Zrt(this.b.a.a,t,e),t),ODt(this.b.a.a,this.a),n=new VK(t,e,this.a.i,this.a.f),this.a=n,XSt(this.b.a.a,n,null),this.b.b=this.b.a.a.g,i)},mG(WKt,"HashBiMap/Inverse/1/InverseEntry",1009),fPt(611,532,tYt,pO),EKt.Kc=function(){return new ov(this.a.a)},EKt.Mc=function(t){var e;return!!(e=Qrt(this.a.a,t,fU(rft(TYt,nY(fU(rft(null==t?0:Jct(t),CYt)),15)))))&&(ODt(this.a.a,e),!0)},mG(WKt,"HashBiMap/Inverse/InverseKeySet",611),fPt(1007,534,YKt,ov),EKt.Nd=function(t){return t.i},mG(WKt,"HashBiMap/Inverse/InverseKeySet/1",1007),fPt(1010,1,{},ed),EKt.Od=function(t,e){tw(this.a,t,e)},mG(WKt,"HashBiMap/Inverse/lambda$0$Type",1010),fPt(609,532,tYt,mO),EKt.Kc=function(){return new sv(this.a)},EKt.Mc=function(t){var e;return!!(e=Zrt(this.a,t,fU(rft(TYt,nY(fU(rft(null==t?0:Jct(t),CYt)),15)))))&&(ODt(this.a,e),e.e=null,e.c=null,!0)},mG(WKt,"HashBiMap/KeySet",609),fPt(1006,534,YKt,sv),EKt.Nd=function(t){return t.g},mG(WKt,"HashBiMap/KeySet/1",1006),fPt(1093,619,KKt),mG(WKt,"HashMultimapGwtSerializationDependencies",1093),fPt(265,1093,KKt,pQ),EKt.hc=function(){return new hx(tet(this.a))},EKt.gd=function(){return new hx(tet(this.a))},EKt.a=2,mG(WKt,"HashMultimap",265),fPt(1999,152,yYt),EKt.Hc=function(t){return this.Pd().Hc(t)},EKt.dc=function(){return this.Pd().dc()},EKt.gc=function(){return this.Pd().gc()},mG(WKt,"ImmutableAsList",1999),fPt(1931,715,_Yt),EKt.Ld=function(){return aj(),new w_(this.a)},EKt.Cc=function(){return aj(),new w_(this.a)},EKt.pd=function(){return aj(),new w_(this.a)},mG(WKt,"ImmutableBiMap",1931),fPt(1977,1,{}),mG(WKt,"ImmutableCollection/Builder",1977),fPt(1022,703,xYt,av),mG(WKt,"ImmutableEnumSet",1022),fPt(969,386,GKt,hF),EKt.Xb=function(t){return this.a.Xb(t)},mG(WKt,"ImmutableList/1",969),fPt(968,1977,{},aB),mG(WKt,"ImmutableList/Builder",968),fPt(614,198,qKt,nd),EKt.Ob=function(){return this.a.Ob()},EKt.Pb=function(){return jV(this.a.Pb(),42).cd()},mG(WKt,"ImmutableMap/1",614),fPt(1041,1,{},c),EKt.Kb=function(t){return jV(t,42).cd()},mG(WKt,"ImmutableMap/2methodref$getKey$Type",1041),fPt(1040,1,{},cB),mG(WKt,"ImmutableMap/Builder",1040),fPt(2e3,1981,xYt),EKt.Kc=function(){return new nd(uq(this.a).Ed())},EKt.Dd=function(){return new ow(this)},EKt.Jc=function(t){var e,n;for(wG(t),n=this.gc(),e=0;e<n;e++)t.td(jV(dq(uq(this.a)).Xb(e),42).cd())},EKt.Ed=function(){var t;return(t=this.c,t||(this.c=new ow(this))).Ed()},EKt.Nc=function(){return wH(this.gc(),1296,new rd(this))},mG(WKt,"IndexedImmutableSet",2e3),fPt(1180,2e3,xYt,iw),EKt.Kc=function(){return new nd(uq(this.a).Ed())},EKt.Hc=function(t){return this.a._b(t)},EKt.Jc=function(t){wG(t),Jot(this.a,new id(t))},EKt.Ed=function(){return new nd(uq(this.a).Ed())},EKt.gc=function(){return this.a.gc()},EKt.Nc=function(){return LV(uq(this.a).Nc(),new c)},mG(WKt,"ImmutableMapKeySet",1180),fPt(1181,1,{},id),EKt.Od=function(t,e){aj(),this.a.td(t)},mG(WKt,"ImmutableMapKeySet/lambda$0$Type",1181),fPt(1178,1980,wYt,rw),EKt.Kc=function(){return new Rz(this)},EKt.Hc=function(t){return null!=t&&Ckt(new Rz(this),t)},EKt.Ed=function(){return new Rz(this)},EKt.gc=function(){return this.a.gc()},EKt.Nc=function(){return LV(uq(this.a).Nc(),new l)},mG(WKt,"ImmutableMapValues",1178),fPt(1179,1,{},l),EKt.Kb=function(t){return jV(t,42).dd()},mG(WKt,"ImmutableMapValues/0methodref$getValue$Type",1179),fPt(626,198,qKt,Rz),EKt.Ob=function(){return this.a.Ob()},EKt.Pb=function(){return jV(this.a.Pb(),42).dd()},mG(WKt,"ImmutableMapValues/1",626),fPt(1182,1,{},rd),EKt.ld=function(t){return $W(this.a,t)},mG(WKt,"IndexedImmutableSet/0methodref$get$Type",1182),fPt(752,1999,yYt,ow),EKt.Pd=function(){return this.a},EKt.Xb=function(t){return $W(this.a,t)},EKt.gc=function(){return this.a.a.gc()},mG(WKt,"IndexedImmutableSet/1",752),fPt(44,1,{},u),EKt.Kb=function(t){return jV(t,20).Kc()},EKt.Fb=function(t){return this===t},mG(WKt,"Iterables/10",44),fPt(1042,537,mYt,Bz),EKt.Jc=function(t){wG(t),this.b.Jc(new fE(this.a,t))},EKt.Kc=function(){return VP(this)},mG(WKt,"Iterables/4",1042),fPt(1043,1,hYt,fE),EKt.td=function(t){kC(this.b,this.a,t)},mG(WKt,"Iterables/4/lambda$0$Type",1043),fPt(1044,537,mYt,Fz),EKt.Jc=function(t){wG(t),t4(this.a,new lE(t,this.b))},EKt.Kc=function(){return ZD(new ID(this.a),this.b)},mG(WKt,"Iterables/5",1044),fPt(1045,1,hYt,lE),EKt.td=function(t){this.a.td(wP(t))},mG(WKt,"Iterables/5/lambda$0$Type",1045),fPt(1071,198,qKt,od),EKt.Ob=function(){return this.a.Ob()},EKt.Pb=function(){return this.a.Pb()},mG(WKt,"Iterators/1",1071),fPt(1072,699,qKt,uE),EKt.Yb=function(){for(var t;this.b.Ob();)if(t=this.b.Pb(),this.a.Lb(t))return t;return this.e=2,null},mG(WKt,"Iterators/5",1072),fPt(487,1,YKt),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return this.b.Ob()},EKt.Pb=function(){return this.Qd(this.b.Pb())},EKt.Qb=function(){this.b.Qb()},mG(WKt,"TransformedIterator",487),fPt(1073,487,YKt,QD),EKt.Qd=function(t){return this.a.Kb(t)},mG(WKt,"Iterators/6",1073),fPt(717,198,qKt,sd),EKt.Ob=function(){return!this.a},EKt.Pb=function(){if(this.a)throw $b(new ww);return this.a=!0,this.b},EKt.a=!1,mG(WKt,"Iterators/9",717),fPt(1070,386,GKt,lU),EKt.Xb=function(t){return this.a[this.b+t]},EKt.b=0,mG(WKt,"Iterators/ArrayItr",1070),fPt(39,1,{39:1,47:1},sq),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return gPt(this)},EKt.Pb=function(){return U4(this)},EKt.Qb=function(){lst(!!this.c),this.c.Qb(),this.c=null},mG(WKt,"Iterators/ConcatenatedIterator",39),fPt(22,1,{3:1,35:1,22:1}),EKt.wd=function(t){return Tv(this,jV(t,22))},EKt.Fb=function(t){return this===t},EKt.Hb=function(){return TN(this)},EKt.Ib=function(){return fL(this)},EKt.g=0;var Ute,qte=mG(RKt,"Enum",22);fPt(538,22,{538:1,3:1,35:1,22:1,47:1},iN),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return!1},EKt.Pb=function(){throw $b(new ww)},EKt.Qb=function(){lst(!1)};var Wte,Gte=$nt(WKt,"Iterators/EmptyModifiableIterator",538,qte,sG,nL);fPt(1834,619,KKt),mG(WKt,"LinkedHashMultimapGwtSerializationDependencies",1834),fPt(1835,1834,KKt,xut),EKt.hc=function(){return new PN(tet(this.b))},EKt.$b=function(){fit(this),ew(this.a,this.a)},EKt.gd=function(){return new PN(tet(this.b))},EKt.ic=function(t){return new xlt(this,t,this.b)},EKt.kc=function(){return new JD(this)},EKt.lc=function(){return new d1(jV(this.g||(this.g=new Vy(this)),21),17)},EKt.ec=function(){return this.i||(this.i=new $D(this,this.c))},EKt.nc=function(){return new hv(new JD(this))},EKt.oc=function(){return LV(new d1(jV(this.g||(this.g=new Vy(this)),21),17),new h)},EKt.b=2,mG(WKt,"LinkedHashMultimap",1835),fPt(1838,1,{},h),EKt.Kb=function(t){return jV(t,42).dd()},mG(WKt,"LinkedHashMultimap/0methodref$getValue$Type",1838),fPt(824,1,YKt,JD),EKt.Nb=function(t){lW(this,t)},EKt.Pb=function(){return bet(this)},EKt.Ob=function(){return this.a!=this.b.a},EKt.Qb=function(){lst(!!this.c),V0(this.b,this.c.g,this.c.i),this.c=null},mG(WKt,"LinkedHashMultimap/1",824),fPt(330,238,{345:1,238:1,330:1,2020:1,3:1,42:1},$K),EKt.Rd=function(){return this.f},EKt.Sd=function(t){this.c=t},EKt.Td=function(t){this.f=t},EKt.d=0;var Kte,Yte=mG(WKt,"LinkedHashMultimap/ValueEntry",330);fPt(1836,1970,{2020:1,20:1,28:1,14:1,21:1},xlt),EKt.Fc=function(t){var e,n,i,r,o;for(e=(o=fU(rft(TYt,nY(fU(rft(null==t?0:Jct(t),CYt)),15))))&this.b.length-1,n=r=this.b[e];n;n=n.a)if(n.d==o&&dK(n.i,t))return!1;return i=new $K(this.c,t,o,r),y_(this.d,i),i.f=this,this.d=i,ew(this.g.a.b,i),ew(i,this.g.a),this.b[e]=i,++this.f,++this.e,ykt(this),!0},EKt.$b=function(){var t,e;for(wC(this.b,null),this.f=0,t=this.a;t!=this;t=t.Rd())ew((e=jV(t,330)).b,e.e);this.a=this,this.d=this,++this.e},EKt.Hc=function(t){var e,n;for(n=fU(rft(TYt,nY(fU(rft(null==t?0:Jct(t),CYt)),15))),e=this.b[n&this.b.length-1];e;e=e.a)if(e.d==n&&dK(e.i,t))return!0;return!1},EKt.Jc=function(t){var e;for(wG(t),e=this.a;e!=this;e=e.Rd())t.td(jV(e,330).i)},EKt.Rd=function(){return this.a},EKt.Kc=function(){return new aK(this)},EKt.Mc=function(t){return vPt(this,t)},EKt.Sd=function(t){this.d=t},EKt.Td=function(t){this.a=t},EKt.gc=function(){return this.f},EKt.e=0,EKt.f=0,mG(WKt,"LinkedHashMultimap/ValueSet",1836),fPt(1837,1,YKt,aK),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return dU(this),this.b!=this.c},EKt.Pb=function(){var t,e;if(dU(this),this.b==this.c)throw $b(new ww);return e=(t=jV(this.b,330)).i,this.d=t,this.b=t.f,e},EKt.Qb=function(){dU(this),lst(!!this.d),vPt(this.c,this.d.i),this.a=this.c.e,this.d=null},EKt.a=0,mG(WKt,"LinkedHashMultimap/ValueSet/1",1837),fPt(766,1986,KKt,TM),EKt.Zb=function(){return this.f||(this.f=new nC(this))},EKt.Fb=function(t){return _lt(this,t)},EKt.cc=function(t){return new bE(this,t)},EKt.fc=function(t){return X3(this,t)},EKt.$b=function(){iG(this)},EKt._b=function(t){return $E(this,t)},EKt.ac=function(){return new nC(this)},EKt.bc=function(){return new bd(this)},EKt.qc=function(t){return new bE(this,t)},EKt.dc=function(){return!this.a},EKt.rc=function(t){return X3(this,t)},EKt.gc=function(){return this.d},EKt.c=0,EKt.d=0,mG(WKt,"LinkedListMultimap",766),fPt(52,28,OYt),EKt.ad=function(t){Frt(this,t)},EKt.Nc=function(){return new d1(this,16)},EKt.Vc=function(t,e){throw $b(new Jv("Add not supported on this list"))},EKt.Fc=function(t){return this.Vc(this.gc(),t),!0},EKt.Wc=function(t,e){var n,i,r;for(yK(e),n=!1,r=e.Kc();r.Ob();)i=r.Pb(),this.Vc(t++,i),n=!0;return n},EKt.$b=function(){this.Ud(0,this.gc())},EKt.Fb=function(t){return DPt(this,t)},EKt.Hb=function(){return jct(this)},EKt.Xc=function(t){return dit(this,t)},EKt.Kc=function(){return new Ef(this)},EKt.Yc=function(){return this.Zc(0)},EKt.Zc=function(t){return new x2(this,t)},EKt.$c=function(t){throw $b(new Jv("Remove not supported on this list"))},EKt.Ud=function(t,e){var n,i;for(i=this.Zc(t),n=t;n<e;++n)i.Pb(),i.Qb()},EKt._c=function(t,e){throw $b(new Jv("Set not supported on this list"))},EKt.bd=function(t,e){return new a1(this,t,e)},EKt.j=0,mG(XKt,"AbstractList",52),fPt(1964,52,OYt),EKt.Vc=function(t,e){RL(this,t,e)},EKt.Wc=function(t,e){return Mlt(this,t,e)},EKt.Xb=function(t){return Lbt(this,t)},EKt.Kc=function(){return this.Zc(0)},EKt.$c=function(t){return t_t(this,t)},EKt._c=function(t,e){var n,i;n=this.Zc(t);try{return i=n.Pb(),n.Wb(e),i}catch(e){throw iD(e=hat(e),109)?$b(new Iv("Can't set element "+t)):$b(e)}},mG(XKt,"AbstractSequentialList",1964),fPt(636,1964,OYt,bE),EKt.Zc=function(t){return mN(this,t)},EKt.gc=function(){var t;return(t=jV(LG(this.a.b,this.b),283))?t.a:0},mG(WKt,"LinkedListMultimap/1",636),fPt(1297,1970,tYt,bd),EKt.Hc=function(t){return $E(this.a,t)},EKt.Kc=function(){return new brt(this.a)},EKt.Mc=function(t){return!X3(this.a,t).a.dc()},EKt.gc=function(){return OE(this.a.b)},mG(WKt,"LinkedListMultimap/1KeySetImpl",1297),fPt(1296,1,YKt,brt),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return hU(this),!!this.c},EKt.Pb=function(){hU(this),sN(this.c),this.a=this.c,kW(this.d,this.a.a);do{this.c=this.c.b}while(this.c&&!kW(this.d,this.c.a));return this.a.a},EKt.Qb=function(){hU(this),lst(!!this.a),CH(new C9(this.e,this.a.a)),this.a=null,this.b=this.e.c},EKt.b=0,mG(WKt,"LinkedListMultimap/DistinctKeyIterator",1296),fPt(283,1,{283:1},aZ),EKt.a=0,mG(WKt,"LinkedListMultimap/KeyList",283),fPt(1295,345,oYt,wE),EKt.cd=function(){return this.a},EKt.dd=function(){return this.f},EKt.ed=function(t){var e;return e=this.f,this.f=t,e},mG(WKt,"LinkedListMultimap/Node",1295),fPt(560,1,rYt,C9,BAt),EKt.Nb=function(t){lW(this,t)},EKt.Rb=function(t){this.e=yFt(this.f,this.b,t,this.c),++this.d,this.a=null},EKt.Ob=function(){return!!this.c},EKt.Sb=function(){return!!this.e},EKt.Pb=function(){return _J(this)},EKt.Tb=function(){return this.d},EKt.Ub=function(){return kJ(this)},EKt.Vb=function(){return this.d-1},EKt.Qb=function(){lst(!!this.a),this.a!=this.c?(this.e=this.a.e,--this.d):this.c=this.a.c,QSt(this.f,this.a),this.a=null},EKt.Wb=function(t){oN(!!this.a),this.a.f=t},EKt.d=0,mG(WKt,"LinkedListMultimap/ValueForKeyIterator",560),fPt(1018,52,OYt),EKt.Vc=function(t,e){this.a.Vc(t,e)},EKt.Wc=function(t,e){return this.a.Wc(t,e)},EKt.Hc=function(t){return this.a.Hc(t)},EKt.Xb=function(t){return this.a.Xb(t)},EKt.$c=function(t){return this.a.$c(t)},EKt._c=function(t,e){return this.a._c(t,e)},EKt.gc=function(){return this.a.gc()},mG(WKt,"Lists/AbstractListWrapper",1018),fPt(1019,1018,NYt),mG(WKt,"Lists/RandomAccessListWrapper",1019),fPt(1021,1019,NYt,AE),EKt.Zc=function(t){return this.a.Zc(t)},mG(WKt,"Lists/1",1021),fPt(131,52,{131:1,20:1,28:1,52:1,14:1,15:1},CE),EKt.Vc=function(t,e){this.a.Vc(pW(this,t),e)},EKt.$b=function(){this.a.$b()},EKt.Xb=function(t){return this.a.Xb(PG(this,t))},EKt.Kc=function(){return W1(this,0)},EKt.Zc=function(t){return W1(this,t)},EKt.$c=function(t){return this.a.$c(PG(this,t))},EKt.Ud=function(t,e){(f2(t,e,this.a.gc()),est(this.a.bd(pW(this,e),pW(this,t)))).$b()},EKt._c=function(t,e){return this.a._c(PG(this,t),e)},EKt.gc=function(){return this.a.gc()},EKt.bd=function(t,e){return f2(t,e,this.a.gc()),est(this.a.bd(pW(this,e),pW(this,t)))},mG(WKt,"Lists/ReverseList",131),fPt(280,131,{131:1,20:1,28:1,52:1,14:1,15:1,54:1},lv),mG(WKt,"Lists/RandomAccessReverseList",280),fPt(1020,1,rYt,yE),EKt.Nb=function(t){lW(this,t)},EKt.Rb=function(t){this.c.Rb(t),this.c.Ub(),this.a=!1},EKt.Ob=function(){return this.c.Sb()},EKt.Sb=function(){return this.c.Ob()},EKt.Pb=function(){return d4(this)},EKt.Tb=function(){return pW(this.b,this.c.Tb())},EKt.Ub=function(){if(!this.c.Ob())throw $b(new ww);return this.a=!0,this.c.Pb()},EKt.Vb=function(){return pW(this.b,this.c.Tb())-1},EKt.Qb=function(){lst(this.a),this.c.Qb(),this.a=!1},EKt.Wb=function(t){oN(this.a),this.c.Wb(t)},EKt.a=!1,mG(WKt,"Lists/ReverseList/1",1020),fPt(432,487,YKt,uv),EKt.Qd=function(t){return iC(t)},mG(WKt,"Maps/1",432),fPt(698,487,YKt,hv),EKt.Qd=function(t){return jV(t,42).dd()},mG(WKt,"Maps/2",698),fPt(962,487,YKt,pN),EKt.Qd=function(t){return new mE(t,BM(this.a,t))},mG(WKt,"Maps/3",962),fPt(959,1971,tYt,md),EKt.Jc=function(t){Dw(this.a,t)},EKt.Kc=function(){return this.a.kc()},EKt.Rc=function(){return this.a},EKt.Nc=function(){return this.a.lc()},mG(WKt,"Maps/IteratorBasedAbstractMap/1",959),fPt(960,1,{},pd),EKt.Od=function(t,e){this.a.td(t)},mG(WKt,"Maps/KeySet/lambda$0$Type",960),fPt(958,28,QKt,TE),EKt.$b=function(){this.a.$b()},EKt.Hc=function(t){return this.a.uc(t)},EKt.Jc=function(t){wG(t),this.a.wc(new ld(t))},EKt.dc=function(){return this.a.dc()},EKt.Kc=function(){return new hv(this.a.vc().Kc())},EKt.Mc=function(t){var e,n;try{return ygt(this,t,!0)}catch(i){if(iD(i=hat(i),41)){for(n=this.a.vc().Kc();n.Ob();)if(dK(t,(e=jV(n.Pb(),42)).dd()))return this.a.Bc(e.cd()),!0;return!1}throw $b(i)}},EKt.gc=function(){return this.a.gc()},mG(WKt,"Maps/Values",958),fPt(961,1,{},ld),EKt.Od=function(t,e){this.a.td(e)},mG(WKt,"Maps/Values/lambda$0$Type",961),fPt(736,1987,ZKt,nC),EKt.xc=function(t){return this.a._b(t)?this.a.cc(t):null},EKt.Bc=function(t){return this.a._b(t)?this.a.fc(t):null},EKt.$b=function(){this.a.$b()},EKt._b=function(t){return this.a._b(t)},EKt.Ec=function(){return new cd(this)},EKt.Dc=function(){return this.Ec()},EKt.dc=function(){return this.a.dc()},EKt.ec=function(){return this.a.ec()},EKt.gc=function(){return this.a.ec().gc()},mG(WKt,"Multimaps/AsMap",736),fPt(1104,1971,tYt,cd),EKt.Kc=function(){return QO(this.a.a.ec(),new ud(this))},EKt.Rc=function(){return this.a},EKt.Mc=function(t){var e;return!!npt(this,t)&&(e=jV(t,42),v_(this.a,e.cd()),!0)},mG(WKt,"Multimaps/AsMap/EntrySet",1104),fPt(1108,1,{},ud),EKt.Kb=function(t){return BM(this,t)},EKt.Fb=function(t){return this===t},mG(WKt,"Multimaps/AsMap/EntrySet/1",1108),fPt(543,1989,{543:1,835:1,20:1,28:1,14:1},hd),EKt.$b=function(){fit(this.a)},EKt.Hc=function(t){return Wk(this.a,t)},EKt.Jc=function(t){wG(t),t4(xG(this.a),new fd(t))},EKt.Kc=function(){return new uv(xG(this.a).a.kc())},EKt.gc=function(){return this.a.d},EKt.Nc=function(){return LV(xG(this.a).Nc(),new d)},mG(WKt,"Multimaps/Keys",543),fPt(1106,1,{},d),EKt.Kb=function(t){return jV(t,42).cd()},mG(WKt,"Multimaps/Keys/0methodref$getKey$Type",1106),fPt(1105,487,YKt,dv),EKt.Qd=function(t){return new dd(jV(t,42))},mG(WKt,"Multimaps/Keys/1",1105),fPt(1990,1,{416:1}),EKt.Fb=function(t){var e;return!!iD(t,492)&&(e=jV(t,416),jV(this.a.dd(),14).gc()==jV(e.a.dd(),14).gc()&&dK(this.a.cd(),e.a.cd()))},EKt.Hb=function(){var t;return(null==(t=this.a.cd())?0:Jct(t))^jV(this.a.dd(),14).gc()},EKt.Ib=function(){var t,e;return e=yN(this.a.cd()),1==(t=jV(this.a.dd(),14).gc())?e:e+" x "+t},mG(WKt,"Multisets/AbstractEntry",1990),fPt(492,1990,{492:1,416:1},dd),mG(WKt,"Multimaps/Keys/1/1",492),fPt(1107,1,hYt,fd),EKt.td=function(t){this.a.td(jV(t,42).cd())},mG(WKt,"Multimaps/Keys/lambda$1$Type",1107),fPt(1110,1,hYt,f),EKt.td=function(t){AH(jV(t,416))},mG(WKt,"Multiset/lambda$0$Type",1110),fPt(737,1,hYt,gd),EKt.td=function(t){Set(this.a,jV(t,416))},mG(WKt,"Multiset/lambda$1$Type",737),fPt(1111,1,{},y),mG(WKt,"Multisets/0methodref$add$Type",1111),fPt(738,1,{},v),EKt.Kb=function(t){return a3(jV(t,416))},mG(WKt,"Multisets/lambda$3$Type",738),fPt(2008,1,BKt),mG(WKt,"RangeGwtSerializationDependencies",2008),fPt(514,2008,{169:1,514:1,3:1,45:1},cwt),EKt.Lb=function(t){return xq(this,jV(t,35))},EKt.Mb=function(t){return xq(this,jV(t,35))},EKt.Fb=function(t){var e;return!!iD(t,514)&&(e=jV(t,514),Npt(this.a,e.a)&&Npt(this.b,e.b))},EKt.Hb=function(){return 31*this.a.Hb()+this.b.Hb()},EKt.Ib=function(){return j3(this.a,this.b)},mG(WKt,"Range",514),fPt(778,1999,yYt,rW),EKt.Zc=function(t){return eL(this.b,t)},EKt.Pd=function(){return this.a},EKt.Xb=function(t){return WI(this.b,t)},EKt.Fd=function(t){return eL(this.b,t)},mG(WKt,"RegularImmutableAsList",778),fPt(646,2006,yYt,EZ),EKt.Hd=function(){return this.a},mG(WKt,"RegularImmutableList",646),fPt(616,715,_Yt,cv),mG(WKt,"RegularImmutableMap",616),fPt(716,703,xYt,mC),mG(WKt,"RegularImmutableSet",716),fPt(1976,JKt,tYt),EKt.Kc=function(){return new EY(this.a,this.b)},EKt.Fc=function(t){throw $b(new pw)},EKt.Gc=function(t){throw $b(new pw)},EKt.$b=function(){throw $b(new pw)},EKt.Mc=function(t){throw $b(new pw)},mG(WKt,"Sets/SetView",1976),fPt(963,1976,tYt,_E),EKt.Kc=function(){return new EY(this.a,this.b)},EKt.Hc=function(t){return CU(this.a,t)&&this.b.Hc(t)},EKt.Ic=function(t){return aat(this.a,t)&&this.b.Ic(t)},EKt.dc=function(){return Bbt(this.b,this.a)},EKt.Lc=function(){return IY(new LH(null,new d1(this.a,1)),new yd(this.b))},EKt.gc=function(){return Ast(this)},EKt.Oc=function(){return IY(new LH(null,new d1(this.a,1)),new wd(this.b))},mG(WKt,"Sets/2",963),fPt(700,699,qKt,EY),EKt.Yb=function(){for(var t;yO(this.a);)if(t=o5(this.a),this.c.Hc(t))return t;return this.e=2,null},mG(WKt,"Sets/2/1",700),fPt(964,1,LYt,wd),EKt.Mb=function(t){return this.a.Hc(t)},mG(WKt,"Sets/2/4methodref$contains$Type",964),fPt(965,1,LYt,yd),EKt.Mb=function(t){return this.a.Hc(t)},mG(WKt,"Sets/2/5methodref$contains$Type",965),fPt(607,1975,{607:1,3:1,20:1,14:1,271:1,21:1,84:1},hQ),EKt.Bd=function(){return this.b},EKt.Cd=function(){return this.b},EKt.Md=function(){return this.b},EKt.Jc=function(t){this.a.Jc(t)},EKt.Lc=function(){return this.a.Lc()},EKt.Oc=function(){return this.a.Oc()},mG(WKt,"Sets/UnmodifiableNavigableSet",607),fPt(1932,1931,_Yt,zK),EKt.Ld=function(){return aj(),new w_(this.a)},EKt.Cc=function(){return aj(),new w_(this.a)},EKt.pd=function(){return aj(),new w_(this.a)},mG(WKt,"SingletonImmutableBiMap",1932),fPt(647,2006,yYt,TH),EKt.Hd=function(){return this.a},mG(WKt,"SingletonImmutableList",647),fPt(350,1981,xYt,w_),EKt.Kc=function(){return new sd(this.a)},EKt.Hc=function(t){return Dht(this.a,t)},EKt.Ed=function(){return new sd(this.a)},EKt.gc=function(){return 1},mG(WKt,"SingletonImmutableSet",350),fPt(1115,1,{},_),EKt.Kb=function(t){return jV(t,164)},mG(WKt,"Streams/lambda$0$Type",1115),fPt(1116,1,RYt,vd),EKt.Vd=function(){j4(this.a)},mG(WKt,"Streams/lambda$1$Type",1116),fPt(1659,1658,KKt,pZ),EKt.Zb=function(){return jV(jV(this.f||(this.f=iD(this.c,171)?new AR(this,jV(this.c,171)):iD(this.c,161)?new CR(this,jV(this.c,161)):new pE(this,this.c)),161),171)},EKt.hc=function(){return new fx(this.b)},EKt.gd=function(){return new fx(this.b)},EKt.ec=function(){return jV(jV(this.i||(this.i=iD(this.c,171)?new Jx(this,jV(this.c,171)):iD(this.c,161)?new Qx(this,jV(this.c,161)):new $D(this,this.c)),84),271)},EKt.ac=function(){return iD(this.c,171)?new AR(this,jV(this.c,171)):iD(this.c,161)?new CR(this,jV(this.c,161)):new pE(this,this.c)},EKt.ic=function(t){return null==t&&this.a.ue(t,t),new fx(this.b)},mG(WKt,"TreeMultimap",1659),fPt(78,1,{3:1,78:1}),EKt.Wd=function(t){return new Error(t)},EKt.Xd=function(){return this.e},EKt.Yd=function(){return Fgt(MY(PW((null==this.k&&(this.k=D7(Zte,cYt,78,0,0,1)),this.k)),new L))},EKt.Zd=function(){return this.f},EKt.$d=function(){return this.g},EKt._d=function(){wv(this,h2(this.Wd(CZ(this,this.g)))),sw(this)},EKt.Ib=function(){return CZ(this,this.$d())},EKt.e=jYt,EKt.i=!1,EKt.n=!0;var Xte,Zte=mG(RKt,"Throwable",78);fPt(102,78,{3:1,102:1,78:1}),mG(RKt,"Exception",102),fPt(60,102,$Yt,aw,fv),mG(RKt,"RuntimeException",60),fPt(598,60,$Yt),mG(RKt,"JsException",598),fPt(863,598,$Yt),mG(VYt,"JavaScriptExceptionBase",863),fPt(477,863,{477:1,3:1,102:1,60:1,78:1},_ut),EKt.$d=function(){return mxt(this),this.c},EKt.ae=function(){return zI(this.b)===zI(Xte)?null:this.b},mG(HYt,"JavaScriptException",477);var Qte,Jte=mG(HYt,"JavaScriptObject$",0);fPt(1948,1,{}),mG(HYt,"Scheduler",1948);var tee,eee,nee,iee,ree=0,oee=0,see=-1;fPt(890,1948,{},k),mG(VYt,"SchedulerImpl",890),fPt(1960,1,{}),mG(VYt,"StackTraceCreator/Collector",1960),fPt(864,1960,{},x),EKt.be=function(t){var e={},n=[];t[qYt]=n;for(var i=arguments.callee.caller;i;){var r=(TZ(),i.name||(i.name=Knt(i.toString())));n.push(r);var o,s,a=":"+r,c=e[a];if(c)for(o=0,s=c.length;o<s;o++)if(c[o]===i)return;(c||(e[a]=[])).push(i),i=i.caller}},EKt.ce=function(t){var e,n,i,r;for(TZ(),n=(i=t&&t[qYt]?t[qYt]:[]).length,r=D7(jee,cYt,310,n,0,1),e=0;e<n;e++)r[e]=new TY(i[e],null,-1);return r},mG(VYt,"StackTraceCreator/CollectorLegacy",864),fPt(1961,1960,{}),EKt.be=function(t){},EKt.de=function(t,e,n,i){return new TY(e,t+"@"+i,n<0?-1:n)},EKt.ce=function(t){var e,n,i,r,o,s;if(r=hvt(t),o=D7(jee,cYt,310,0,0,1),e=0,0==(i=r.length))return o;for(bF((s=IHt(this,r[0])).d,UYt)||(o[e++]=s),n=1;n<i;n++)o[e++]=IHt(this,r[n]);return o},mG(VYt,"StackTraceCreator/CollectorModern",1961),fPt(865,1961,{},p),EKt.de=function(t,e,n,i){return new TY(e,t,-1)},mG(VYt,"StackTraceCreator/CollectorModernNoSourceMap",865),fPt(1050,1,{}),mG(yXt,vXt,1050),fPt(615,1050,{615:1},HG),mG(_Xt,vXt,615),fPt(2001,1,{}),mG(yXt,kXt,2001),fPt(2002,2001,{}),mG(_Xt,kXt,2002),fPt(1090,1,{},m),mG(_Xt,"LocaleInfo",1090),fPt(1918,1,{},b),EKt.a=0,mG(_Xt,"TimeZone",1918),fPt(1258,2002,{},g),mG("com.google.gwt.i18n.client.impl.cldr","DateTimeFormatInfoImpl",1258),fPt(434,1,{434:1},GV),EKt.a=!1,EKt.b=0,mG(yXt,"DateTimeFormat/PatternPart",434),fPt(199,1,xXt,IE,bct,TR),EKt.wd=function(t){return X0(this,jV(t,199))},EKt.Fb=function(t){return iD(t,199)&&KI(ust(this.q.getTime()),ust(jV(t,199).q.getTime()))},EKt.Hb=function(){var t;return fU(n0(t=ust(this.q.getTime()),vq(t,32)))},EKt.Ib=function(){var t,e,n;return t=((n=-this.q.getTimezoneOffset())>=0?"+":"")+(n/60|0),e=UM(i.Math.abs(n)%60),(mTt(),pne)[this.q.getDay()]+" "+mne[this.q.getMonth()]+" "+UM(this.q.getDate())+" "+UM(this.q.getHours())+":"+UM(this.q.getMinutes())+":"+UM(this.q.getSeconds())+" GMT"+t+e+" "+this.q.getFullYear()};var aee,cee,lee,uee,hee,dee,fee,gee,pee,mee,bee,wee=mG(XKt,"Date",199);fPt(1915,199,xXt,X_t),EKt.a=!1,EKt.b=0,EKt.c=0,EKt.d=0,EKt.e=0,EKt.f=0,EKt.g=!1,EKt.i=0,EKt.j=0,EKt.k=0,EKt.n=0,EKt.o=0,EKt.p=0,mG("com.google.gwt.i18n.shared.impl","DateRecord",1915),fPt(1966,1,{}),EKt.fe=function(){return null},EKt.ge=function(){return null},EKt.he=function(){return null},EKt.ie=function(){return null},EKt.je=function(){return null},mG(EXt,"JSONValue",1966),fPt(216,1966,{216:1},Td,_d),EKt.Fb=function(t){return!!iD(t,216)&&m0(this.a,jV(t,216).a)},EKt.ee=function(){return Vb},EKt.Hb=function(){return JX(this.a)},EKt.fe=function(){return this},EKt.Ib=function(){var t,e,n;for(n=new uN("["),e=0,t=this.a.length;e<t;e++)e>0&&(n.a+=","),oM(n,ftt(this,e));return n.a+="]",n.a},mG(EXt,"JSONArray",216),fPt(483,1966,{483:1},kd),EKt.ee=function(){return zb},EKt.ge=function(){return this},EKt.Ib=function(){return cN(),""+this.a},EKt.a=!1,mG(EXt,"JSONBoolean",483),fPt(985,60,$Yt,gv),mG(EXt,"JSONException",985),fPt(1023,1966,{},w),EKt.ee=function(){return Gb},EKt.Ib=function(){return UKt},mG(EXt,"JSONNull",1023),fPt(258,1966,{258:1},xd),EKt.Fb=function(t){return!!iD(t,258)&&this.a==jV(t,258).a},EKt.ee=function(){return Hb},EKt.Hb=function(){return GM(this.a)},EKt.he=function(){return this},EKt.Ib=function(){return this.a+""},EKt.a=0,mG(EXt,"JSONNumber",258),fPt(183,1966,{183:1},pv,Ed),EKt.Fb=function(t){return!!iD(t,183)&&m0(this.a,jV(t,183).a)},EKt.ee=function(){return Ub},EKt.Hb=function(){return JX(this.a)},EKt.ie=function(){return this},EKt.Ib=function(){var t,e,n,i,r,o;for(o=new uN("{"),t=!0,i=0,r=(n=_rt(this,D7(Yee,cYt,2,0,6,1))).length;i<r;++i)e=n[i],t?t=!1:o.a+=jKt,sM(o,wMt(e)),o.a+=":",oM(o,HQ(this,e));return o.a+="}",o.a},mG(EXt,"JSONObject",183),fPt(596,JKt,tYt,kE),EKt.Hc=function(t){return qI(t)&&H_(this.a,ER(t))},EKt.Kc=function(){return new Ef(new Xv(this.b))},EKt.gc=function(){return this.b.length},mG(EXt,"JSONObject/1",596),fPt(204,1966,{204:1},zG),EKt.Fb=function(t){return!!iD(t,204)&&bF(this.a,jV(t,204).a)},EKt.ee=function(){return qb},EKt.Hb=function(){return bwt(this.a)},EKt.je=function(){return this},EKt.Ib=function(){return wMt(this.a)},mG(EXt,"JSONString",204),fPt(1962,1,{525:1}),mG(OXt,"OutputStream",1962),fPt(1963,1962,{525:1}),mG(OXt,"FilterOutputStream",1963),fPt(866,1963,{525:1},P),mG(OXt,"PrintStream",866),fPt(418,1,{475:1}),EKt.Ib=function(){return this.a},mG(RKt,"AbstractStringBuilder",418),fPt(529,60,$Yt,Sv),mG(RKt,"ArithmeticException",529),fPt(73,60,DXt,lw,Iv),mG(RKt,"IndexOutOfBoundsException",73),fPt(320,73,{3:1,320:1,102:1,73:1,60:1,78:1},Ew,k_),mG(RKt,"ArrayIndexOutOfBoundsException",320),fPt(528,60,$Yt,uw,Mv),mG(RKt,"ArrayStoreException",528),fPt(289,78,NXt,Pv),mG(RKt,"Error",289),fPt(194,289,NXt,cw,g4),mG(RKt,"AssertionError",194),AKt={3:1,476:1,35:1};var yee,vee=mG(RKt,"Boolean",476);fPt(236,1,{3:1,236:1}),mG(RKt,"Number",236),fPt(217,236,{3:1,217:1,35:1,236:1},Mf),EKt.wd=function(t){return F_(this,jV(t,217))},EKt.ke=function(){return this.a},EKt.Fb=function(t){return iD(t,217)&&jV(t,217).a==this.a},EKt.Hb=function(){return this.a},EKt.Ib=function(){return""+this.a},EKt.a=0;var _ee,kee,xee=mG(RKt,"Byte",217);fPt(172,1,{3:1,172:1,35:1},Pf),EKt.wd=function(t){return j_(this,jV(t,172))},EKt.Fb=function(t){return iD(t,172)&&jV(t,172).a==this.a},EKt.Hb=function(){return this.a},EKt.Ib=function(){return String.fromCharCode(this.a)},EKt.a=0;var Eee,Tee=mG(RKt,"Character",172);fPt(205,60,{3:1,205:1,102:1,60:1,78:1},hw,Rv),mG(RKt,"ClassCastException",205),SKt={3:1,35:1,333:1,236:1};var Cee=mG(RKt,"Double",333);fPt(155,236,{3:1,35:1,155:1,236:1},Of,Nw),EKt.wd=function(t){return jM(this,jV(t,155))},EKt.ke=function(){return this.a},EKt.Fb=function(t){return iD(t,155)&&mF(this.a,jV(t,155).a)},EKt.Hb=function(){return CQ(this.a)},EKt.Ib=function(){return""+this.a},EKt.a=0;var Aee=mG(RKt,"Float",155);fPt(32,60,{3:1,102:1,32:1,60:1,78:1},dw,Bv,jlt),mG(RKt,"IllegalArgumentException",32),fPt(71,60,$Yt,fw,Fv),mG(RKt,"IllegalStateException",71),fPt(19,236,{3:1,35:1,19:1,236:1},Df),EKt.wd=function(t){return $M(this,jV(t,19))},EKt.ke=function(){return this.a},EKt.Fb=function(t){return iD(t,19)&&jV(t,19).a==this.a},EKt.Hb=function(){return this.a},EKt.Ib=function(){return""+this.a},EKt.a=0;var See,Iee,Mee=mG(RKt,"Integer",19);fPt(162,236,{3:1,35:1,162:1,236:1},Nf),EKt.wd=function(t){return VM(this,jV(t,162))},EKt.ke=function(){return v2(this.a)},EKt.Fb=function(t){return iD(t,162)&&KI(jV(t,162).a,this.a)},EKt.Hb=function(){return fU(this.a)},EKt.Ib=function(){return""+mq(this.a)},EKt.a=0;var Pee,Oee,Dee,Nee,Lee,Ree=mG(RKt,"Long",162);fPt(2039,1,{}),fPt(1831,60,$Yt,jv),mG(RKt,"NegativeArraySizeException",1831),fPt(173,598,{3:1,102:1,173:1,60:1,78:1},gw,$v),EKt.Wd=function(t){return new TypeError(t)},mG(RKt,"NullPointerException",173),fPt(127,32,{3:1,102:1,32:1,127:1,60:1,78:1},x_),mG(RKt,"NumberFormatException",127),fPt(184,236,{3:1,35:1,236:1,184:1},Lf),EKt.wd=function(t){return $_(this,jV(t,184))},EKt.ke=function(){return this.a},EKt.Fb=function(t){return iD(t,184)&&jV(t,184).a==this.a},EKt.Hb=function(){return this.a},EKt.Ib=function(){return""+this.a},EKt.a=0;var Bee,Fee=mG(RKt,"Short",184);fPt(310,1,{3:1,310:1},TY),EKt.Fb=function(t){var e;return!!iD(t,310)&&(e=jV(t,310),this.c==e.c&&this.d==e.d&&this.a==e.a&&this.b==e.b)},EKt.Hb=function(){return uut(Cat(z_(Mte,1),VKt,1,5,[ndt(this.c),this.a,this.d,this.b]))},EKt.Ib=function(){return this.a+"."+this.d+"("+(null!=this.b?this.b:"Unknown Source")+(this.c>=0?":"+this.c:"")+")"},EKt.c=0;var jee=mG(RKt,"StackTraceElement",310);IKt={3:1,475:1,35:1,2:1};var $ee,Vee,zee,Hee,Uee,qee,Wee,Gee,Kee,Yee=mG(RKt,zYt,2);fPt(107,418,{475:1},E_,T_,lN),mG(RKt,"StringBuffer",107),fPt(100,418,{475:1},C_,A_,uN),mG(RKt,"StringBuilder",100),fPt(687,73,DXt,S_),mG(RKt,"StringIndexOutOfBoundsException",687),fPt(2043,1,{}),fPt(844,1,{},L),EKt.Kb=function(t){return jV(t,78).e},mG(RKt,"Throwable/lambda$0$Type",844),fPt(41,60,{3:1,102:1,60:1,78:1,41:1},pw,Jv),mG(RKt,"UnsupportedOperationException",41),fPt(240,236,{3:1,35:1,236:1,240:1},ytt,dx),EKt.wd=function(t){return Zjt(this,jV(t,240))},EKt.ke=function(){return dCt(eHt(this))},EKt.Fb=function(t){var e;return this===t||!!iD(t,240)&&(e=jV(t,240),this.e==e.e&&0==Zjt(this,e))},EKt.Hb=function(){var t;return 0!=this.b?this.b:this.a<54?(t=ust(this.f),this.b=fU(t0(t,-1)),this.b=33*this.b+fU(t0(yq(t,32),-1)),this.b=17*this.b+CQ(this.e),this.b):(this.b=17*But(this.c)+CQ(this.e),this.b)},EKt.Ib=function(){return eHt(this)},EKt.a=0,EKt.b=0,EKt.d=0,EKt.e=0,EKt.f=0;var Xee,Zee,Qee,Jee,tne,ene,nne=mG("java.math","BigDecimal",240);fPt(91,236,{3:1,35:1,236:1,91:1},Rbt,q6,uW,bxt,Amt,MP),EKt.wd=function(t){return tmt(this,jV(t,91))},EKt.ke=function(){return dCt(zGt(this,0))},EKt.Fb=function(t){return cgt(this,t)},EKt.Hb=function(){return But(this)},EKt.Ib=function(){return zGt(this,0)},EKt.b=-2,EKt.c=0,EKt.d=0,EKt.e=0;var ine,rne,one,sne,ane=mG("java.math","BigInteger",91);fPt(488,1967,ZKt),EKt.$b=function(){MW(this)},EKt._b=function(t){return cW(this,t)},EKt.uc=function(t){return Olt(this,t,this.g)||Olt(this,t,this.f)},EKt.vc=function(){return new Tf(this)},EKt.xc=function(t){return LG(this,t)},EKt.zc=function(t,e){return GK(this,t,e)},EKt.Bc=function(t){return m6(this,t)},EKt.gc=function(){return OE(this)},mG(XKt,"AbstractHashMap",488),fPt(261,JKt,tYt,Tf),EKt.$b=function(){this.a.$b()},EKt.Hc=function(t){return b2(this,t)},EKt.Kc=function(){return new slt(this.a)},EKt.Mc=function(t){var e;return!!b2(this,t)&&(e=jV(t,42).cd(),this.a.Bc(e),!0)},EKt.gc=function(){return this.a.gc()},mG(XKt,"AbstractHashMap/EntrySet",261),fPt(262,1,YKt,slt),EKt.Nb=function(t){lW(this,t)},EKt.Pb=function(){return tnt(this)},EKt.Ob=function(){return this.b},EKt.Qb=function(){s8(this)},EKt.b=!1,mG(XKt,"AbstractHashMap/EntrySetIterator",262),fPt(417,1,YKt,Ef),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return rC(this)},EKt.Pb=function(){return bX(this)},EKt.Qb=function(){lK(this)},EKt.b=0,EKt.c=-1,mG(XKt,"AbstractList/IteratorImpl",417),fPt(96,417,rYt,x2),EKt.Qb=function(){lK(this)},EKt.Rb=function(t){wB(this,t)},EKt.Sb=function(){return this.b>0},EKt.Tb=function(){return this.b},EKt.Ub=function(){return TL(this.b>0),this.a.Xb(this.c=--this.b)},EKt.Vb=function(){return this.b-1},EKt.Wb=function(t){xL(-1!=this.c),this.a._c(this.c,t)},mG(XKt,"AbstractList/ListIteratorImpl",96),fPt(219,52,OYt,a1),EKt.Vc=function(t,e){PJ(t,this.b),this.c.Vc(this.a+t,e),++this.b},EKt.Xb=function(t){return u1(t,this.b),this.c.Xb(this.a+t)},EKt.$c=function(t){var e;return u1(t,this.b),e=this.c.$c(this.a+t),--this.b,e},EKt._c=function(t,e){return u1(t,this.b),this.c._c(this.a+t,e)},EKt.gc=function(){return this.b},EKt.a=0,EKt.b=0,mG(XKt,"AbstractList/SubList",219),fPt(384,JKt,tYt,Cf),EKt.$b=function(){this.a.$b()},EKt.Hc=function(t){return this.a._b(t)},EKt.Kc=function(){return new Af(this.a.vc().Kc())},EKt.Mc=function(t){return!!this.a._b(t)&&(this.a.Bc(t),!0)},EKt.gc=function(){return this.a.gc()},mG(XKt,"AbstractMap/1",384),fPt(691,1,YKt,Af),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return this.a.Ob()},EKt.Pb=function(){return jV(this.a.Pb(),42).cd()},EKt.Qb=function(){this.a.Qb()},mG(XKt,"AbstractMap/1/1",691),fPt(226,28,QKt,Sf),EKt.$b=function(){this.a.$b()},EKt.Hc=function(t){return this.a.uc(t)},EKt.Kc=function(){return new Rf(this.a.vc().Kc())},EKt.gc=function(){return this.a.gc()},mG(XKt,"AbstractMap/2",226),fPt(294,1,YKt,Rf),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return this.a.Ob()},EKt.Pb=function(){return jV(this.a.Pb(),42).dd()},EKt.Qb=function(){this.a.Qb()},mG(XKt,"AbstractMap/2/1",294),fPt(484,1,{484:1,42:1}),EKt.Fb=function(t){var e;return!!iD(t,42)&&(e=jV(t,42),iY(this.d,e.cd())&&iY(this.e,e.dd()))},EKt.cd=function(){return this.d},EKt.dd=function(){return this.e},EKt.Hb=function(){return RP(this.d)^RP(this.e)},EKt.ed=function(t){return pB(this,t)},EKt.Ib=function(){return this.d+"="+this.e},mG(XKt,"AbstractMap/AbstractEntry",484),fPt(383,484,{484:1,383:1,42:1},TC),mG(XKt,"AbstractMap/SimpleEntry",383),fPt(1984,1,KXt),EKt.Fb=function(t){var e;return!!iD(t,42)&&(e=jV(t,42),iY(this.cd(),e.cd())&&iY(this.dd(),e.dd()))},EKt.Hb=function(){return RP(this.cd())^RP(this.dd())},EKt.Ib=function(){return this.cd()+"="+this.dd()},mG(XKt,sYt,1984),fPt(1992,1967,eYt),EKt.tc=function(t){return V4(this,t)},EKt._b=function(t){return NF(this,t)},EKt.vc=function(){return new jf(this)},EKt.xc=function(t){return VI(hlt(this,t))},EKt.ec=function(){return new Bf(this)},mG(XKt,"AbstractNavigableMap",1992),fPt(739,JKt,tYt,jf),EKt.Hc=function(t){return iD(t,42)&&V4(this.b,jV(t,42))},EKt.Kc=function(){return new jB(this.b)},EKt.Mc=function(t){var e;return!!iD(t,42)&&(e=jV(t,42),H7(this.b,e))},EKt.gc=function(){return this.b.c},mG(XKt,"AbstractNavigableMap/EntrySet",739),fPt(493,JKt,iYt,Bf),EKt.Nc=function(){return new dC(this)},EKt.$b=function(){bv(this.a)},EKt.Hc=function(t){return NF(this.a,t)},EKt.Kc=function(){return new Ff(new jB(new DN(this.a).b))},EKt.Mc=function(t){return!!NF(this.a,t)&&(MQ(this.a,t),!0)},EKt.gc=function(){return this.a.c},mG(XKt,"AbstractNavigableMap/NavigableKeySet",493),fPt(494,1,YKt,Ff),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return rC(this.a.a)},EKt.Pb=function(){return bL(this.a).cd()},EKt.Qb=function(){tj(this.a)},mG(XKt,"AbstractNavigableMap/NavigableKeySet/1",494),fPt(2004,28,QKt),EKt.Fc=function(t){return F7(eTt(this,t)),!0},EKt.Gc=function(t){return yK(t),mz(t!=this,"Can't add a queue to itself"),jrt(this,t)},EKt.$b=function(){for(;null!=btt(this););},mG(XKt,"AbstractQueue",2004),fPt(302,28,{4:1,20:1,28:1,14:1},Pb,f1),EKt.Fc=function(t){return d3(this,t),!0},EKt.$b=function(){s5(this)},EKt.Hc=function(t){return fat(new hY(this),t)},EKt.dc=function(){return Wv(this)},EKt.Kc=function(){return new hY(this)},EKt.Mc=function(t){return zQ(new hY(this),t)},EKt.gc=function(){return this.c-this.b&this.a.length-1},EKt.Nc=function(){return new d1(this,272)},EKt.Qc=function(t){var e;return e=this.c-this.b&this.a.length-1,t.length<e&&(t=V_(new Array(e),t)),srt(this,t,e),t.length>e&&MG(t,e,null),t},EKt.b=0,EKt.c=0,mG(XKt,"ArrayDeque",302),fPt(446,1,YKt,hY),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return this.a!=this.b},EKt.Pb=function(){return Fut(this)},EKt.Qb=function(){eit(this)},EKt.a=0,EKt.b=0,EKt.c=-1,mG(XKt,"ArrayDeque/IteratorImpl",446),fPt(12,52,YXt,Ob,X6,JF),EKt.Vc=function(t,e){yU(this,t,e)},EKt.Fc=function(t){return WV(this,t)},EKt.Wc=function(t,e){return aut(this,t,e)},EKt.Gc=function(t){return pat(this,t)},EKt.$b=function(){this.c=D7(Mte,VKt,1,0,5,1)},EKt.Hc=function(t){return-1!=_9(this,t,0)},EKt.Jc=function(t){Iet(this,t)},EKt.Xb=function(t){return DH(this,t)},EKt.Xc=function(t){return _9(this,t,0)},EKt.dc=function(){return 0==this.c.length},EKt.Kc=function(){return new Wf(this)},EKt.$c=function(t){return a6(this,t)},EKt.Mc=function(t){return w9(this,t)},EKt.Ud=function(t,e){c1(this,t,e)},EKt._c=function(t,e){return i4(this,t,e)},EKt.gc=function(){return this.c.length},EKt.ad=function(t){bO(this,t)},EKt.Pc=function(){return hL(this)},EKt.Qc=function(t){return Ymt(this,t)};var cne,lne,une,hne,dne,fne,gne,pne,mne,bne=mG(XKt,"ArrayList",12);fPt(7,1,YKt,Wf),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return wO(this)},EKt.Pb=function(){return Q1(this)},EKt.Qb=function(){IW(this)},EKt.a=0,EKt.b=-1,mG(XKt,"ArrayList/1",7),fPt(2013,i.Function,{},E),EKt.te=function(t,e){return Cdt(t,e)},fPt(154,52,XXt,Xv),EKt.Hc=function(t){return-1!=dit(this,t)},EKt.Jc=function(t){var e,n,i,r;for(yK(t),i=0,r=(n=this.a).length;i<r;++i)e=n[i],t.td(e)},EKt.Xb=function(t){return NH(this,t)},EKt._c=function(t,e){var n;return u1(t,this.a.length),n=this.a[t],MG(this.a,t,e),n},EKt.gc=function(){return this.a.length},EKt.ad=function(t){wU(this.a,this.a.length,t)},EKt.Pc=function(){return Xmt(this,D7(Mte,VKt,1,this.a.length,5,1))},EKt.Qc=function(t){return Xmt(this,t)},mG(XKt,"Arrays/ArrayList",154),fPt(940,52,XXt,C),EKt.Hc=function(t){return!1},EKt.Xb=function(t){return wM(t)},EKt.Kc=function(){return EX(),PE(),hne},EKt.Yc=function(){return EX(),PE(),hne},EKt.gc=function(){return 0},mG(XKt,"Collections/EmptyList",940),fPt(941,1,rYt,A),EKt.Nb=function(t){lW(this,t)},EKt.Rb=function(t){throw $b(new pw)},EKt.Ob=function(){return!1},EKt.Sb=function(){return!1},EKt.Pb=function(){throw $b(new ww)},EKt.Tb=function(){return 0},EKt.Ub=function(){throw $b(new ww)},EKt.Vb=function(){return-1},EKt.Qb=function(){throw $b(new fw)},EKt.Wb=function(t){throw $b(new fw)},mG(XKt,"Collections/EmptyListIterator",941),fPt(943,1967,_Yt,S),EKt._b=function(t){return!1},EKt.uc=function(t){return!1},EKt.vc=function(){return EX(),une},EKt.xc=function(t){return null},EKt.ec=function(){return EX(),une},EKt.gc=function(){return 0},EKt.Cc=function(){return EX(),cne},mG(XKt,"Collections/EmptyMap",943),fPt(942,JKt,xYt,T),EKt.Hc=function(t){return!1},EKt.Kc=function(){return EX(),PE(),hne},EKt.gc=function(){return 0},mG(XKt,"Collections/EmptySet",942),fPt(599,52,{3:1,20:1,28:1,52:1,14:1,15:1},zf),EKt.Hc=function(t){return iY(this.a,t)},EKt.Xb=function(t){return u1(t,1),this.a},EKt.gc=function(){return 1},mG(XKt,"Collections/SingletonList",599),fPt(372,1,bYt,$f),EKt.Jc=function(t){t4(this,t)},EKt.Lc=function(){return new LH(null,this.Nc())},EKt.Nc=function(){return new d1(this,0)},EKt.Oc=function(){return new LH(null,this.Nc())},EKt.Fc=function(t){return sx()},EKt.Gc=function(t){return ax()},EKt.$b=function(){cx()},EKt.Hc=function(t){return DE(this,t)},EKt.Ic=function(t){return NE(this,t)},EKt.dc=function(){return this.b.dc()},EKt.Kc=function(){return new Vf(this.b.Kc())},EKt.Mc=function(t){return lx()},EKt.gc=function(){return this.b.gc()},EKt.Pc=function(){return this.b.Pc()},EKt.Qc=function(t){return LE(this,t)},EKt.Ib=function(){return $ft(this.b)},mG(XKt,"Collections/UnmodifiableCollection",372),fPt(371,1,YKt,Vf),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return this.b.Ob()},EKt.Pb=function(){return this.b.Pb()},EKt.Qb=function(){ux()},mG(XKt,"Collections/UnmodifiableCollectionIterator",371),fPt(531,372,ZXt,hN),EKt.Nc=function(){return new d1(this,16)},EKt.Vc=function(t,e){throw $b(new pw)},EKt.Wc=function(t,e){throw $b(new pw)},EKt.Fb=function(t){return Dht(this.a,t)},EKt.Xb=function(t){return this.a.Xb(t)},EKt.Hb=function(){return Jct(this.a)},EKt.Xc=function(t){return this.a.Xc(t)},EKt.dc=function(){return this.a.dc()},EKt.Yc=function(){return new dN(this.a.Zc(0))},EKt.Zc=function(t){return new dN(this.a.Zc(t))},EKt.$c=function(t){throw $b(new pw)},EKt._c=function(t,e){throw $b(new pw)},EKt.ad=function(t){throw $b(new pw)},EKt.bd=function(t,e){return new hN(this.a.bd(t,e))},mG(XKt,"Collections/UnmodifiableList",531),fPt(690,371,rYt,dN),EKt.Qb=function(){ux()},EKt.Rb=function(t){throw $b(new pw)},EKt.Sb=function(){return this.a.Sb()},EKt.Tb=function(){return this.a.Tb()},EKt.Ub=function(){return this.a.Ub()},EKt.Vb=function(){return this.a.Vb()},EKt.Wb=function(t){throw $b(new pw)},mG(XKt,"Collections/UnmodifiableListIterator",690),fPt(600,1,ZKt,qf),EKt.wc=function(t){Jot(this,t)},EKt.yc=function(t,e,n){return Qdt(this,t,e,n)},EKt.$b=function(){throw $b(new pw)},EKt._b=function(t){return this.c._b(t)},EKt.uc=function(t){return BE(this,t)},EKt.vc=function(){return tY(this)},EKt.Fb=function(t){return jE(this,t)},EKt.xc=function(t){return this.c.xc(t)},EKt.Hb=function(){return Jct(this.c)},EKt.dc=function(){return this.c.dc()},EKt.ec=function(){return eY(this)},EKt.zc=function(t,e){throw $b(new pw)},EKt.Bc=function(t){throw $b(new pw)},EKt.gc=function(){return this.c.gc()},EKt.Ib=function(){return $ft(this.c)},EKt.Cc=function(){return JK(this)},mG(XKt,"Collections/UnmodifiableMap",600),fPt(382,372,kYt,I_),EKt.Nc=function(){return new d1(this,1)},EKt.Fb=function(t){return Dht(this.b,t)},EKt.Hb=function(){return Jct(this.b)},mG(XKt,"Collections/UnmodifiableSet",382),fPt(944,382,kYt,P_),EKt.Hc=function(t){return RE(this,t)},EKt.Ic=function(t){return this.b.Ic(t)},EKt.Kc=function(){return new Hf(this.b.Kc())},EKt.Pc=function(){var t;return v5(t=this.b.Pc(),t.length),t},EKt.Qc=function(t){return AZ(this,t)},mG(XKt,"Collections/UnmodifiableMap/UnmodifiableEntrySet",944),fPt(945,1,YKt,Hf),EKt.Nb=function(t){lW(this,t)},EKt.Pb=function(){return new Uf(jV(this.a.Pb(),42))},EKt.Ob=function(){return this.a.Ob()},EKt.Qb=function(){throw $b(new pw)},mG(XKt,"Collections/UnmodifiableMap/UnmodifiableEntrySet/1",945),fPt(688,1,KXt,Uf),EKt.Fb=function(t){return this.a.Fb(t)},EKt.cd=function(){return this.a.cd()},EKt.dd=function(){return this.a.dd()},EKt.Hb=function(){return this.a.Hb()},EKt.ed=function(t){throw $b(new pw)},EKt.Ib=function(){return $ft(this.a)},mG(XKt,"Collections/UnmodifiableMap/UnmodifiableEntrySet/UnmodifiableEntry",688),fPt(601,531,{20:1,14:1,15:1,54:1},M_),mG(XKt,"Collections/UnmodifiableRandomAccessList",601),fPt(689,382,EYt,fN),EKt.Nc=function(){return new dC(this)},EKt.Fb=function(t){return Dht(this.a,t)},EKt.Hb=function(){return Jct(this.a)},mG(XKt,"Collections/UnmodifiableSortedSet",689),fPt(847,1,QXt,R),EKt.ue=function(t,e){var n;return 0!=(n=k5(jV(t,11),jV(e,11)))?n:Jjt(jV(t,11),jV(e,11))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(XKt,"Comparator/lambda$0$Type",847),fPt(751,1,QXt,B),EKt.ue=function(t,e){return BH(jV(t,35),jV(e,35))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return TX(),gne},mG(XKt,"Comparators/NaturalOrderComparator",751),fPt(1177,1,QXt,F),EKt.ue=function(t,e){return FH(jV(t,35),jV(e,35))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return TX(),fne},mG(XKt,"Comparators/ReverseNaturalOrderComparator",1177),fPt(64,1,QXt,Qf),EKt.Fb=function(t){return this===t},EKt.ue=function(t,e){return this.a.ue(e,t)},EKt.ve=function(){return this.a},mG(XKt,"Comparators/ReversedComparator",64),fPt(166,60,$Yt,mw),mG(XKt,"ConcurrentModificationException",166),fPt(1904,1,JXt,j),EKt.we=function(t){lpt(this,t)},EKt.Ib=function(){return"DoubleSummaryStatistics[count = "+mq(this.a)+", avg = "+(sC(this.a,0)?u6(this)/v2(this.a):0)+", min = "+this.c+", max = "+this.b+", sum = "+u6(this)+"]"},EKt.a=0,EKt.b=BXt,EKt.c=RXt,EKt.d=0,EKt.e=0,EKt.f=0,mG(XKt,"DoubleSummaryStatistics",1904),fPt(1805,60,$Yt,bw),mG(XKt,"EmptyStackException",1805),fPt(451,1967,ZKt,Vft),EKt.zc=function(t,e){return dB(this,t,e)},EKt.$b=function(){kK(this)},EKt._b=function(t){return oC(this,t)},EKt.uc=function(t){var e,n;for(n=new KE(this.a);n.a<n.c.a.length;)if(e=o5(n),iY(t,this.b[e.g]))return!0;return!1},EKt.vc=function(){return new Jf(this)},EKt.xc=function(t){return sY(this,t)},EKt.Bc=function(t){return OJ(this,t)},EKt.gc=function(){return this.a.c},mG(XKt,"EnumMap",451),fPt(1352,JKt,tYt,Jf),EKt.$b=function(){kK(this.a)},EKt.Hc=function(t){return m2(this,t)},EKt.Kc=function(){return new IH(this.a)},EKt.Mc=function(t){var e;return!!m2(this,t)&&(e=jV(t,42).cd(),OJ(this.a,e),!0)},EKt.gc=function(){return this.a.a.c},mG(XKt,"EnumMap/EntrySet",1352),fPt(1353,1,YKt,IH),EKt.Nb=function(t){lW(this,t)},EKt.Pb=function(){return this.b=o5(this.a),new CC(this.c,this.b)},EKt.Ob=function(){return yO(this.a)},EKt.Qb=function(){xL(!!this.b),OJ(this.c,this.b),this.b=null},mG(XKt,"EnumMap/EntrySetIterator",1353),fPt(1354,1984,KXt,CC),EKt.cd=function(){return this.a},EKt.dd=function(){return this.b.b[this.a.g]},EKt.ed=function(t){return _W(this.b,this.a.g,t)},mG(XKt,"EnumMap/MapEntry",1354),fPt(174,JKt,{20:1,28:1,14:1,174:1,21:1});var wne=mG(XKt,"EnumSet",174);fPt(156,174,{20:1,28:1,14:1,174:1,156:1,21:1},YF),EKt.Fc=function(t){return art(this,jV(t,22))},EKt.Hc=function(t){return CU(this,t)},EKt.Kc=function(){return new KE(this)},EKt.Mc=function(t){return AU(this,t)},EKt.gc=function(){return this.c},EKt.c=0,mG(XKt,"EnumSet/EnumSetImpl",156),fPt(343,1,YKt,KE),EKt.Nb=function(t){lW(this,t)},EKt.Pb=function(){return o5(this)},EKt.Ob=function(){return yO(this)},EKt.Qb=function(){xL(-1!=this.b),MG(this.c.b,this.b,null),--this.c.c,this.b=-1},EKt.a=-1,EKt.b=-1,mG(XKt,"EnumSet/EnumSetImpl/IteratorImpl",343),fPt(43,488,tZt,Db,qE,bM),EKt.re=function(t,e){return zI(t)===zI(e)||null!=t&&Dht(t,e)},EKt.se=function(t){return 0|Jct(t)},mG(XKt,"HashMap",43),fPt(53,JKt,eZt,Lw,hx,MH),EKt.Fc=function(t){return kW(this,t)},EKt.$b=function(){this.a.$b()},EKt.Hc=function(t){return FE(this,t)},EKt.dc=function(){return 0==this.a.gc()},EKt.Kc=function(){return this.a.ec().Kc()},EKt.Mc=function(t){return tD(this,t)},EKt.gc=function(){return this.a.gc()};var yne,vne=mG(XKt,"HashSet",53);fPt(1781,1,fYt,$),EKt.ud=function(t){ist(this,t)},EKt.Ib=function(){return"IntSummaryStatistics[count = "+mq(this.a)+", avg = "+(sC(this.a,0)?v2(this.d)/v2(this.a):0)+", min = "+this.c+", max = "+this.b+", sum = "+mq(this.d)+"]"},EKt.a=0,EKt.b=FYt,EKt.c=LKt,EKt.d=0,mG(XKt,"IntSummaryStatistics",1781),fPt(1049,1,mYt,tP),EKt.Jc=function(t){t4(this,t)},EKt.Kc=function(){return new E2(this)},EKt.c=0,mG(XKt,"InternalHashCodeMap",1049),fPt(711,1,YKt,E2),EKt.Nb=function(t){lW(this,t)},EKt.Pb=function(){return this.d=this.a[this.c++],this.d},EKt.Ob=function(){var t;return this.c<this.a.length||!(t=this.b.next()).done&&(this.a=t.value[1],this.c=0,!0)},EKt.Qb=function(){pPt(this.e,this.d.cd()),0!=this.c&&--this.c},EKt.c=0,EKt.d=null,mG(XKt,"InternalHashCodeMap/1",711),fPt(1047,1,mYt,eP),EKt.Jc=function(t){t4(this,t)},EKt.Kc=function(){return new p5(this)},EKt.c=0,EKt.d=0,mG(XKt,"InternalStringMap",1047),fPt(710,1,YKt,p5),EKt.Nb=function(t){lW(this,t)},EKt.Pb=function(){return this.c=this.a,this.a=this.b.next(),new XF(this.d,this.c,this.d.d)},EKt.Ob=function(){return!this.a.done},EKt.Qb=function(){Hst(this.d,this.c.value[0])},mG(XKt,"InternalStringMap/1",710),fPt(1048,1984,KXt,XF),EKt.cd=function(){return this.b.value[0]},EKt.dd=function(){return this.a.d!=this.c?cC(this.a,this.b.value[0]):this.b.value[1]},EKt.ed=function(t){return sft(this.a,this.b.value[0],t)},EKt.c=0,mG(XKt,"InternalStringMap/2",1048),fPt(228,43,tZt,m5,V7),EKt.$b=function(){yB(this)},EKt._b=function(t){return uC(this,t)},EKt.uc=function(t){var e;for(e=this.d.a;e!=this.d;){if(iY(e.e,t))return!0;e=e.a}return!1},EKt.vc=function(){return new eg(this)},EKt.xc=function(t){return utt(this,t)},EKt.zc=function(t,e){return Zmt(this,t,e)},EKt.Bc=function(t){return y9(this,t)},EKt.gc=function(){return OE(this.e)},EKt.c=!1,mG(XKt,"LinkedHashMap",228),fPt(387,383,{484:1,383:1,387:1,42:1},CL,QV),mG(XKt,"LinkedHashMap/ChainEntry",387),fPt(701,JKt,tYt,eg),EKt.$b=function(){yB(this.a)},EKt.Hc=function(t){return w2(this,t)},EKt.Kc=function(){return new cK(this)},EKt.Mc=function(t){var e;return!!w2(this,t)&&(e=jV(t,42).cd(),y9(this.a,e),!0)},EKt.gc=function(){return OE(this.a.e)},mG(XKt,"LinkedHashMap/EntrySet",701),fPt(702,1,YKt,cK),EKt.Nb=function(t){lW(this,t)},EKt.Pb=function(){return a8(this)},EKt.Ob=function(){return this.b!=this.c.a.d},EKt.Qb=function(){xL(!!this.a),p2(this.c.a.e,this),Lz(this.a),m6(this.c.a.e,this.a.d),hR(this.c.a.e,this),this.a=null},mG(XKt,"LinkedHashMap/EntrySet/EntryIterator",702),fPt(178,53,eZt,lP,PN,PH);var _ne=mG(XKt,"LinkedHashSet",178);fPt(68,1964,{3:1,4:1,20:1,28:1,52:1,14:1,68:1,15:1},YE,QF),EKt.Fc=function(t){return Nz(this,t)},EKt.$b=function(){wX(this)},EKt.Zc=function(t){return cbt(this,t)},EKt.gc=function(){return this.b},EKt.b=0;var kne,xne,Ene,Tne,Cne,Ane=mG(XKt,"LinkedList",68);fPt(970,1,rYt,ZF),EKt.Nb=function(t){lW(this,t)},EKt.Rb=function(t){QW(this,t)},EKt.Ob=function(){return _x(this)},EKt.Sb=function(){return this.b.b!=this.d.a},EKt.Pb=function(){return h3(this)},EKt.Tb=function(){return this.a},EKt.Ub=function(){return U0(this)},EKt.Vb=function(){return this.a-1},EKt.Qb=function(){wet(this)},EKt.Wb=function(t){xL(!!this.c),this.c.c=t},EKt.a=0,EKt.c=null,mG(XKt,"LinkedList/ListIteratorImpl",970),fPt(608,1,{},O),mG(XKt,"LinkedList/Node",608),fPt(1959,1,{}),mG(XKt,"Locale",1959),fPt(861,1959,{},D),EKt.Ib=function(){return""},mG(XKt,"Locale/1",861),fPt(862,1959,{},N),EKt.Ib=function(){return"unknown"},mG(XKt,"Locale/4",862),fPt(109,60,{3:1,102:1,60:1,78:1,109:1},ww,uY),mG(XKt,"NoSuchElementException",109),fPt(404,1,{404:1},mv),EKt.Fb=function(t){var e;return t===this||!!iD(t,404)&&(e=jV(t,404),iY(this.a,e.a))},EKt.Hb=function(){return RP(this.a)},EKt.Ib=function(){return null!=this.a?HKt+yN(this.a)+")":"Optional.empty()"},mG(XKt,"Optional",404),fPt(463,1,{463:1},CM,wL),EKt.Fb=function(t){var e;return t===this||!!iD(t,463)&&(e=jV(t,463),this.a==e.a&&0==Cdt(this.b,e.b))},EKt.Hb=function(){return this.a?CQ(this.b):0},EKt.Ib=function(){return this.a?"OptionalDouble.of("+this.b+")":"OptionalDouble.empty()"},EKt.a=!1,EKt.b=0,mG(XKt,"OptionalDouble",463),fPt(517,1,{517:1},AM,yL),EKt.Fb=function(t){var e;return t===this||!!iD(t,517)&&(e=jV(t,517),this.a==e.a&&0==_O(this.b,e.b))},EKt.Hb=function(){return this.a?this.b:0},EKt.Ib=function(){return this.a?"OptionalInt.of("+this.b+")":"OptionalInt.empty()"},EKt.a=!1,EKt.b=0,mG(XKt,"OptionalInt",517),fPt(503,2004,QKt,qq),EKt.Gc=function(t){return n_t(this,t)},EKt.$b=function(){this.b.c=D7(Mte,VKt,1,0,5,1)},EKt.Hc=function(t){return-1!=(null==t?-1:_9(this.b,t,0))},EKt.Kc=function(){return new Gf(this)},EKt.Mc=function(t){return crt(this,t)},EKt.gc=function(){return this.b.c.length},EKt.Nc=function(){return new d1(this,256)},EKt.Pc=function(){return hL(this.b)},EKt.Qc=function(t){return Ymt(this.b,t)},mG(XKt,"PriorityQueue",503),fPt(1277,1,YKt,Gf),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return this.a<this.c.b.c.length},EKt.Pb=function(){return TL(this.a<this.c.b.c.length),this.b=this.a++,DH(this.c.b,this.b)},EKt.Qb=function(){xL(-1!=this.b),lrt(this.c,this.a=this.b),this.b=-1},EKt.a=0,EKt.b=-1,mG(XKt,"PriorityQueue/1",1277),fPt(230,1,{230:1},cft,C5),EKt.a=0,EKt.b=0;var Sne,Ine,Mne,Pne=0;mG(XKt,"Random",230),fPt(27,1,uYt,d1,HW,CY),EKt.qd=function(){return this.a},EKt.rd=function(){return Nq(this),this.c},EKt.Nb=function(t){Nq(this),this.d.Nb(t)},EKt.sd=function(t){return Qtt(this,t)},EKt.a=0,EKt.c=0,mG(XKt,"Spliterators/IteratorSpliterator",27),fPt(485,27,uYt,dC),mG(XKt,"SortedSet/1",485),fPt(602,1,JXt,Kf),EKt.we=function(t){this.a.td(t)},mG(XKt,"Spliterator/OfDouble/0methodref$accept$Type",602),fPt(603,1,JXt,Yf),EKt.we=function(t){this.a.td(t)},mG(XKt,"Spliterator/OfDouble/1methodref$accept$Type",603),fPt(604,1,fYt,Xf),EKt.ud=function(t){this.a.td(ndt(t))},mG(XKt,"Spliterator/OfInt/2methodref$accept$Type",604),fPt(605,1,fYt,Zf),EKt.ud=function(t){this.a.td(ndt(t))},mG(XKt,"Spliterator/OfInt/3methodref$accept$Type",605),fPt(617,1,uYt),EKt.Nb=function(t){px(this,t)},EKt.qd=function(){return this.d},EKt.rd=function(){return this.e},EKt.d=0,EKt.e=0,mG(XKt,"Spliterators/BaseSpliterator",617),fPt(721,617,uYt),EKt.xe=function(t){gx(this,t)},EKt.Nb=function(t){iD(t,182)?gx(this,jV(t,182)):gx(this,new Yf(t))},EKt.sd=function(t){return iD(t,182)?this.ye(jV(t,182)):this.ye(new Kf(t))},mG(XKt,"Spliterators/AbstractDoubleSpliterator",721),fPt(720,617,uYt),EKt.xe=function(t){gx(this,t)},EKt.Nb=function(t){iD(t,196)?gx(this,jV(t,196)):gx(this,new Zf(t))},EKt.sd=function(t){return iD(t,196)?this.ye(jV(t,196)):this.ye(new Xf(t))},mG(XKt,"Spliterators/AbstractIntSpliterator",720),fPt(540,617,uYt),mG(XKt,"Spliterators/AbstractSpliterator",540),fPt(692,1,uYt),EKt.Nb=function(t){px(this,t)},EKt.qd=function(){return this.b},EKt.rd=function(){return this.d-this.c},EKt.b=0,EKt.c=0,EKt.d=0,mG(XKt,"Spliterators/BaseArraySpliterator",692),fPt(947,692,uYt,jz),EKt.ze=function(t,e){ik(this,jV(t,38),e)},EKt.Nb=function(t){NG(this,t)},EKt.sd=function(t){return R6(this,t)},mG(XKt,"Spliterators/ArraySpliterator",947),fPt(693,692,uYt,BF),EKt.ze=function(t,e){rk(this,jV(t,182),e)},EKt.xe=function(t){NG(this,t)},EKt.Nb=function(t){iD(t,182)?NG(this,jV(t,182)):NG(this,new Yf(t))},EKt.ye=function(t){return R6(this,t)},EKt.sd=function(t){return iD(t,182)?R6(this,jV(t,182)):R6(this,new Kf(t))},mG(XKt,"Spliterators/DoubleArraySpliterator",693),fPt(1968,1,uYt),EKt.Nb=function(t){px(this,t)},EKt.qd=function(){return 16448},EKt.rd=function(){return 0},mG(XKt,"Spliterators/EmptySpliterator",1968),fPt(946,1968,uYt,q),EKt.xe=function(t){Fh(t)},EKt.Nb=function(t){iD(t,196)?Fh(jV(t,196)):Fh(new Zf(t))},EKt.ye=function(t){return hC(t)},EKt.sd=function(t){return iD(t,196)?hC(jV(t,196)):hC(new Xf(t))},mG(XKt,"Spliterators/EmptySpliterator/OfInt",946),fPt(580,52,uZt,Bw),EKt.Vc=function(t,e){Rq(t,this.a.c.length+1),yU(this.a,t,e)},EKt.Fc=function(t){return WV(this.a,t)},EKt.Wc=function(t,e){return Rq(t,this.a.c.length+1),aut(this.a,t,e)},EKt.Gc=function(t){return pat(this.a,t)},EKt.$b=function(){this.a.c=D7(Mte,VKt,1,0,5,1)},EKt.Hc=function(t){return-1!=_9(this.a,t,0)},EKt.Ic=function(t){return aat(this.a,t)},EKt.Jc=function(t){Iet(this.a,t)},EKt.Xb=function(t){return Rq(t,this.a.c.length),DH(this.a,t)},EKt.Xc=function(t){return _9(this.a,t,0)},EKt.dc=function(){return 0==this.a.c.length},EKt.Kc=function(){return new Wf(this.a)},EKt.$c=function(t){return Rq(t,this.a.c.length),a6(this.a,t)},EKt.Ud=function(t,e){c1(this.a,t,e)},EKt._c=function(t,e){return Rq(t,this.a.c.length),i4(this.a,t,e)},EKt.gc=function(){return this.a.c.length},EKt.ad=function(t){bO(this.a,t)},EKt.bd=function(t,e){return new a1(this.a,t,e)},EKt.Pc=function(){return hL(this.a)},EKt.Qc=function(t){return Ymt(this.a,t)},EKt.Ib=function(){return OTt(this.a)},mG(XKt,"Vector",580),fPt(809,580,uZt,sy),mG(XKt,"Stack",809),fPt(206,1,{206:1},Pst),EKt.Ib=function(){return W0(this)},mG(XKt,"StringJoiner",206),fPt(544,1992,{3:1,83:1,171:1,161:1},WE,Wq),EKt.$b=function(){bv(this)},EKt.vc=function(){return new DN(this)},EKt.zc=function(t,e){return Ect(this,t,e)},EKt.Bc=function(t){return MQ(this,t)},EKt.gc=function(){return this.c},EKt.c=0,mG(XKt,"TreeMap",544),fPt(390,1,YKt,jB),EKt.Nb=function(t){lW(this,t)},EKt.Pb=function(){return bL(this)},EKt.Ob=function(){return rC(this.a)},EKt.Qb=function(){tj(this)},mG(XKt,"TreeMap/EntryIterator",390),fPt(435,739,tYt,DN),EKt.$b=function(){bv(this.a)},mG(XKt,"TreeMap/EntrySet",435),fPt(436,383,{484:1,383:1,42:1,436:1},$7),EKt.b=!1;var One,Dne,Nne,Lne,Rne=mG(XKt,"TreeMap/Node",436);fPt(621,1,{},H),EKt.Ib=function(){return"State: mv="+this.c+" value="+this.d+" done="+this.a+" found="+this.b},EKt.a=!1,EKt.b=!1,EKt.c=!1,mG(XKt,"TreeMap/State",621),fPt(297,22,hZt,gC),EKt.Ae=function(){return!1},EKt.Be=function(){return!1};var Bne,Fne=$nt(XKt,"TreeMap/SubMapType",297,qte,X2,cj);fPt(1112,297,hZt,PP),EKt.Be=function(){return!0},$nt(XKt,"TreeMap/SubMapType/1",1112,Fne,null,null),fPt(1113,297,hZt,IO),EKt.Ae=function(){return!0},EKt.Be=function(){return!0},$nt(XKt,"TreeMap/SubMapType/2",1113,Fne,null,null),fPt(1114,297,hZt,OP),EKt.Ae=function(){return!0},$nt(XKt,"TreeMap/SubMapType/3",1114,Fne,null,null),fPt(208,JKt,{3:1,20:1,28:1,14:1,271:1,21:1,84:1,208:1},Hw,fx),EKt.Nc=function(){return new dC(this)},EKt.Fc=function(t){return ZW(this,t)},EKt.$b=function(){bv(this.a)},EKt.Hc=function(t){return NF(this.a,t)},EKt.Kc=function(){return new Ff(new jB(new DN(new Bf(this.a).a).b))},EKt.Mc=function(t){return xN(this,t)},EKt.gc=function(){return this.a.c};var jne=mG(XKt,"TreeSet",208);fPt(966,1,{},ng),EKt.Ce=function(t,e){return NR(this.a,t,e)},mG(dZt,"BinaryOperator/lambda$0$Type",966),fPt(967,1,{},ig),EKt.Ce=function(t,e){return LR(this.a,t,e)},mG(dZt,"BinaryOperator/lambda$1$Type",967),fPt(846,1,{},U),EKt.Kb=function(t){return t},mG(dZt,"Function/lambda$0$Type",846),fPt(431,1,LYt,rg),EKt.Mb=function(t){return!this.a.Mb(t)},mG(dZt,"Predicate/lambda$2$Type",431),fPt(572,1,{572:1});var $ne,Vne,zne=mG(fZt,"Handler",572);fPt(2007,1,BKt),EKt.ne=function(){return"DUMMY"},EKt.Ib=function(){return this.ne()},mG(fZt,"Level",2007),fPt(1621,2007,BKt,W),EKt.ne=function(){return"INFO"},mG(fZt,"Level/LevelInfo",1621),fPt(1640,1,{},Rw),mG(fZt,"LogManager",1640),fPt(1780,1,BKt,ej),EKt.b=null,mG(fZt,"LogRecord",1780),fPt(512,1,{512:1},w4),EKt.e=!1;var Hne,Une,qne,Wne=!1,Gne=!1,Kne=!1,Yne=!1,Xne=!1;mG(fZt,"Logger",512),fPt(819,572,{572:1},G),mG(fZt,"SimpleConsoleLogHandler",819),fPt(132,22,{3:1,35:1,22:1,132:1},pC);var Zne,Qne=$nt(mZt,"Collector/Characteristics",132,qte,p1,lj);fPt(744,1,{},vW),mG(mZt,"CollectorImpl",744),fPt(1060,1,{},K),EKt.Ce=function(t,e){return Iht(jV(t,206),jV(e,206))},mG(mZt,"Collectors/10methodref$merge$Type",1060),fPt(1061,1,{},Y),EKt.Kb=function(t){return W0(jV(t,206))},mG(mZt,"Collectors/11methodref$toString$Type",1061),fPt(1062,1,{},og),EKt.Kb=function(t){return cN(),!!kM(t)},mG(mZt,"Collectors/12methodref$test$Type",1062),fPt(251,1,{},V),EKt.Od=function(t,e){jV(t,14).Fc(e)},mG(mZt,"Collectors/20methodref$add$Type",251),fPt(253,1,{},z),EKt.Ee=function(){return new Ob},mG(mZt,"Collectors/21methodref$ctor$Type",253),fPt(346,1,{},X),EKt.Ee=function(){return new Lw},mG(mZt,"Collectors/23methodref$ctor$Type",346),fPt(347,1,{},Z),EKt.Od=function(t,e){kW(jV(t,53),e)},mG(mZt,"Collectors/24methodref$add$Type",347),fPt(1055,1,{},Q),EKt.Ce=function(t,e){return ZE(jV(t,15),jV(e,14))},mG(mZt,"Collectors/4methodref$addAll$Type",1055),fPt(1059,1,{},J),EKt.Od=function(t,e){h6(jV(t,206),jV(e,475))},mG(mZt,"Collectors/9methodref$add$Type",1059),fPt(1058,1,{},YV),EKt.Ee=function(){return new Pst(this.a,this.b,this.c)},mG(mZt,"Collectors/lambda$15$Type",1058),fPt(1063,1,{},tt),EKt.Ee=function(){var t;return Zmt(t=new m5,(cN(),!1),new Ob),Zmt(t,!0,new Ob),t},mG(mZt,"Collectors/lambda$22$Type",1063),fPt(1064,1,{},sg),EKt.Ee=function(){return Cat(z_(Mte,1),VKt,1,5,[this.a])},mG(mZt,"Collectors/lambda$25$Type",1064),fPt(1065,1,{},ag),EKt.Od=function(t,e){jH(this.a,ent(t))},mG(mZt,"Collectors/lambda$26$Type",1065),fPt(1066,1,{},cg),EKt.Ce=function(t,e){return Bq(this.a,ent(t),ent(e))},mG(mZt,"Collectors/lambda$27$Type",1066),fPt(1067,1,{},et),EKt.Kb=function(t){return ent(t)[0]},mG(mZt,"Collectors/lambda$28$Type",1067),fPt(713,1,{},nt),EKt.Ce=function(t,e){return $H(t,e)},mG(mZt,"Collectors/lambda$4$Type",713),fPt(252,1,{},it),EKt.Ce=function(t,e){return zE(jV(t,14),jV(e,14))},mG(mZt,"Collectors/lambda$42$Type",252),fPt(348,1,{},rt),EKt.Ce=function(t,e){return HE(jV(t,53),jV(e,53))},mG(mZt,"Collectors/lambda$50$Type",348),fPt(349,1,{},ot),EKt.Kb=function(t){return jV(t,53)},mG(mZt,"Collectors/lambda$51$Type",349),fPt(1054,1,{},lg),EKt.Od=function(t,e){dlt(this.a,jV(t,83),e)},mG(mZt,"Collectors/lambda$7$Type",1054),fPt(1056,1,{},st),EKt.Ce=function(t,e){return mat(jV(t,83),jV(e,83),new Q)},mG(mZt,"Collectors/lambda$8$Type",1056),fPt(1057,1,{},ug),EKt.Kb=function(t){return wft(this.a,jV(t,83))},mG(mZt,"Collectors/lambda$9$Type",1057),fPt(539,1,{}),EKt.He=function(){vK(this)},EKt.d=!1,mG(mZt,"TerminatableStream",539),fPt(812,539,bZt,IR),EKt.He=function(){vK(this)},mG(mZt,"DoubleStreamImpl",812),fPt(1784,721,uYt,ZV),EKt.ye=function(t){return myt(this,jV(t,182))},EKt.a=null,mG(mZt,"DoubleStreamImpl/2",1784),fPt(1785,1,JXt,hg),EKt.we=function(t){$P(this.a,t)},mG(mZt,"DoubleStreamImpl/2/lambda$0$Type",1785),fPt(1782,1,JXt,dg),EKt.we=function(t){jP(this.a,t)},mG(mZt,"DoubleStreamImpl/lambda$0$Type",1782),fPt(1783,1,JXt,fg),EKt.we=function(t){lpt(this.a,t)},mG(mZt,"DoubleStreamImpl/lambda$2$Type",1783),fPt(1358,720,uYt,b4),EKt.ye=function(t){return y2(this,jV(t,196))},EKt.a=0,EKt.b=0,EKt.c=0,mG(mZt,"IntStream/5",1358),fPt(787,539,bZt,MR),EKt.He=function(){vK(this)},EKt.Ie=function(){return _K(this),this.a},mG(mZt,"IntStreamImpl",787),fPt(788,539,bZt,GE),EKt.He=function(){vK(this)},EKt.Ie=function(){return _K(this),AD(),Mne},mG(mZt,"IntStreamImpl/Empty",788),fPt(1463,1,fYt,gg),EKt.ud=function(t){ist(this.a,t)},mG(mZt,"IntStreamImpl/lambda$4$Type",1463);var Jne,tie=hH(mZt,"Stream");fPt(30,539,{525:1,670:1,833:1},LH),EKt.He=function(){vK(this)},mG(mZt,"StreamImpl",30),fPt(845,1,{},at),EKt.ld=function(t){return uz(t)},mG(mZt,"StreamImpl/0methodref$lambda$2$Type",845),fPt(1084,540,uYt,RF),EKt.sd=function(t){for(;M8(this);){if(this.a.sd(t))return!0;vK(this.b),this.b=null,this.a=null}return!1},mG(mZt,"StreamImpl/1",1084),fPt(1085,1,hYt,pg),EKt.td=function(t){ez(this.a,jV(t,833))},mG(mZt,"StreamImpl/1/lambda$0$Type",1085),fPt(1086,1,LYt,mg),EKt.Mb=function(t){return kW(this.a,t)},mG(mZt,"StreamImpl/1methodref$add$Type",1086),fPt(1087,540,uYt,mX),EKt.sd=function(t){var e;return this.a||(e=new Ob,this.b.a.Nb(new bg(e)),EX(),bO(e,this.c),this.a=new d1(e,16)),Qtt(this.a,t)},EKt.a=null,mG(mZt,"StreamImpl/5",1087),fPt(1088,1,hYt,bg),EKt.td=function(t){WV(this.a,t)},mG(mZt,"StreamImpl/5/2methodref$add$Type",1088),fPt(722,540,uYt,K8),EKt.sd=function(t){for(this.b=!1;!this.b&&this.c.sd(new IC(this,t)););return this.b},EKt.b=!1,mG(mZt,"StreamImpl/FilterSpliterator",722),fPt(1079,1,hYt,IC),EKt.td=function(t){Lq(this.a,this.b,t)},mG(mZt,"StreamImpl/FilterSpliterator/lambda$0$Type",1079),fPt(1075,721,uYt,_6),EKt.ye=function(t){return vF(this,jV(t,182))},mG(mZt,"StreamImpl/MapToDoubleSpliterator",1075),fPt(1078,1,hYt,MC),EKt.td=function(t){vC(this.a,this.b,t)},mG(mZt,"StreamImpl/MapToDoubleSpliterator/lambda$0$Type",1078),fPt(1074,720,uYt,k6),EKt.ye=function(t){return _F(this,jV(t,196))},mG(mZt,"StreamImpl/MapToIntSpliterator",1074),fPt(1077,1,hYt,PC),EKt.td=function(t){yC(this.a,this.b,t)},mG(mZt,"StreamImpl/MapToIntSpliterator/lambda$0$Type",1077),fPt(719,540,uYt,x6),EKt.sd=function(t){return kF(this,t)},mG(mZt,"StreamImpl/MapToObjSpliterator",719),fPt(1076,1,hYt,OC),EKt.td=function(t){_C(this.a,this.b,t)},mG(mZt,"StreamImpl/MapToObjSpliterator/lambda$0$Type",1076),fPt(618,1,hYt,ct),EKt.td=function(t){Cd(this,t)},mG(mZt,"StreamImpl/ValueConsumer",618),fPt(1080,1,hYt,lt),EKt.td=function(t){fT()},mG(mZt,"StreamImpl/lambda$0$Type",1080),fPt(1081,1,hYt,ut),EKt.td=function(t){fT()},mG(mZt,"StreamImpl/lambda$1$Type",1081),fPt(1082,1,{},wg),EKt.Ce=function(t,e){return Fj(this.a,t,e)},mG(mZt,"StreamImpl/lambda$4$Type",1082),fPt(1083,1,hYt,AC),EKt.td=function(t){_B(this.b,this.a,t)},mG(mZt,"StreamImpl/lambda$5$Type",1083),fPt(1089,1,hYt,yg),EKt.td=function(t){Vct(this.a,jV(t,365))},mG(mZt,"TerminatableStream/lambda$0$Type",1089),fPt(2041,1,{}),fPt(1914,1,{},ht),mG("javaemul.internal","ConsoleLogger",1914),fPt(2038,1,{});var eie,nie,iie=0,rie=0;fPt(1768,1,hYt,dt),EKt.td=function(t){jV(t,308)},mG(xZt,"BowyerWatsonTriangulation/lambda$0$Type",1768),fPt(1769,1,hYt,vg),EKt.td=function(t){jrt(this.a,jV(t,308).e)},mG(xZt,"BowyerWatsonTriangulation/lambda$1$Type",1769),fPt(1770,1,hYt,ft),EKt.td=function(t){jV(t,168)},mG(xZt,"BowyerWatsonTriangulation/lambda$2$Type",1770),fPt(1765,1,EZt,_g),EKt.ue=function(t,e){return V3(this.a,jV(t,168),jV(e,168))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(xZt,"NaiveMinST/lambda$0$Type",1765),fPt(499,1,{},kg),mG(xZt,"NodeMicroLayout",499),fPt(168,1,{168:1},DC),EKt.Fb=function(t){var e;return!!iD(t,168)&&(e=jV(t,168),iY(this.a,e.a)&&iY(this.b,e.b)||iY(this.a,e.b)&&iY(this.b,e.a))},EKt.Hb=function(){return RP(this.a)+RP(this.b)};var oie=mG(xZt,"TEdge",168);fPt(308,1,{308:1},Q$t),EKt.Fb=function(t){var e;return!!iD(t,308)&&R9(this,(e=jV(t,308)).a)&&R9(this,e.b)&&R9(this,e.c)},EKt.Hb=function(){return RP(this.a)+RP(this.b)+RP(this.c)},mG(xZt,"TTriangle",308),fPt(221,1,{221:1},CO),mG(xZt,"Tree",221),fPt(1254,1,{},AJ),mG(TZt,"Scanline",1254);var sie=hH(TZt,CZt);fPt(1692,1,{},het),mG(AZt,"CGraph",1692),fPt(307,1,{307:1},iJ),EKt.b=0,EKt.c=0,EKt.d=0,EKt.g=0,EKt.i=0,EKt.k=BXt,mG(AZt,"CGroup",307),fPt(815,1,{},qw),mG(AZt,"CGroup/CGroupBuilder",815),fPt(57,1,{57:1},IB),EKt.Ib=function(){return this.j?ER(this.j.Kb(this)):(_R(hie),hie.o+"@"+(TN(this)>>>0).toString(16))},EKt.f=0,EKt.i=BXt;var aie,cie,lie,uie,hie=mG(AZt,"CNode",57);fPt(814,1,{},Ww),mG(AZt,"CNode/CNodeBuilder",814),fPt(1525,1,{},gt),EKt.Oe=function(t,e){return 0},EKt.Pe=function(t,e){return 0},mG(AZt,IZt,1525),fPt(1790,1,{},pt),EKt.Le=function(t){var e,n,r,o,s,a,c,l,u,h,d,f,g,p,m;for(u=RXt,r=new Wf(t.a.b);r.a<r.c.c.length;)e=jV(Q1(r),57),u=i.Math.min(u,e.a.j.d.c+e.b.a);for(g=new YE,a=new Wf(t.a.a);a.a<a.c.c.length;)(s=jV(Q1(a),307)).k=u,0==s.g&&n4(g,s,g.c.b,g.c);for(;0!=g.b;){for(o=(s=jV(0==g.b?null:(TL(0!=g.b),Met(g,g.a.a)),307)).j.d.c,f=s.a.a.ec().Kc();f.Ob();)h=jV(f.Pb(),57),m=s.k+h.b.a,!Hut(t,s,t.d)||h.d.c<m?h.i=m:h.i=h.d.c;for(o-=s.j.i,s.b+=o,t.d==(jht(),FAe)||t.d==RAe?s.c+=o:s.c-=o,d=s.a.a.ec().Kc();d.Ob();)for(l=(h=jV(d.Pb(),57)).c.Kc();l.Ob();)c=jV(l.Pb(),57),p=fP(t.d)?t.g.Oe(h,c):t.g.Pe(h,c),c.a.k=i.Math.max(c.a.k,h.i+h.d.b+p-c.b.a),iZ(t,c,t.d)&&(c.a.k=i.Math.max(c.a.k,c.d.c-c.b.a)),--c.a.g,0==c.a.g&&Nz(g,c.a)}for(n=new Wf(t.a.b);n.a<n.c.c.length;)(e=jV(Q1(n),57)).d.c=e.i},mG(AZt,"LongestPathCompaction",1790),fPt(1690,1,{},yMt),EKt.e=!1;var die,fie,gie=mG(AZt,NZt,1690);fPt(1691,1,hYt,xg),EKt.td=function(t){nat(this.a,jV(t,46))},mG(AZt,LZt,1691),fPt(1791,1,{},mt),EKt.Me=function(t){var e,n,i,r,o,s;for(e=new Wf(t.a.b);e.a<e.c.c.length;)jV(Q1(e),57).c.$b();for(i=new Wf(t.a.b);i.a<i.c.c.length;)for(n=jV(Q1(i),57),o=new Wf(t.a.b);o.a<o.c.c.length;)n!=(r=jV(Q1(o),57))&&(n.a&&n.a==r.a||(s=fP(t.d)?t.g.Pe(n,r):t.g.Oe(n,r),(r.d.c>n.d.c||n.d.c==r.d.c&&n.d.b<r.d.b)&&Rpt(r.d.d+r.d.a+s,n.d.d)&&Bpt(r.d.d,n.d.d+n.d.a+s)&&n.c.Fc(r)))},mG(AZt,"QuadraticConstraintCalculation",1791),fPt(522,1,{522:1},Nb),EKt.a=!1,EKt.b=!1,EKt.c=!1,EKt.d=!1,mG(AZt,RZt,522),fPt(803,1,{},LU),EKt.Me=function(t){this.c=t,mSt(this,new yt)},mG(AZt,BZt,803),fPt(1718,1,{679:1},lZ),EKt.Ke=function(t){FAt(this,jV(t,464))},mG(AZt,FZt,1718),fPt(1719,1,EZt,bt),EKt.ue=function(t,e){return oX(jV(t,57),jV(e,57))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(AZt,jZt,1719),fPt(464,1,{464:1},SC),EKt.a=!1,mG(AZt,$Zt,464),fPt(1720,1,EZt,wt),EKt.ue=function(t,e){return Z_t(jV(t,464),jV(e,464))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(AZt,VZt,1720),fPt(1721,1,zZt,yt),EKt.Lb=function(t){return jV(t,57),!0},EKt.Fb=function(t){return this===t},EKt.Mb=function(t){return jV(t,57),!0},mG(AZt,"ScanlineConstraintCalculator/lambda$1$Type",1721),fPt(428,22,{3:1,35:1,22:1,428:1},FC);var pie,mie,bie,wie=$nt(HZt,"HighLevelSortingCriterion",428,qte,nQ,uj);fPt(427,22,{3:1,35:1,22:1,427:1},jC);var yie,vie,_ie,kie,xie,Eie,Tie,Cie,Aie,Sie,Iie,Mie,Pie,Oie,Die,Nie,Lie,Rie=$nt(HZt,"LowLevelSortingCriterion",427,qte,iQ,hj),Bie=hH(UZt,"ILayoutMetaDataProvider");fPt(853,1,YZt,zu),EKt.Qe=function(t){Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,qZt),XZt),"Polyomino Traversal Strategy"),"Traversal strategy for trying different candidate positions for polyominoes."),Cie),(CAt(),gTe)),jie),Jdt((ibt(),cTe))))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,WZt),XZt),"Polyomino Secondary Sorting Criterion"),"Possible secondary sorting criteria for the processing order of polyominoes. They are used when polyominoes are equal according to the primary sorting criterion HighLevelSortingCriterion."),Eie),gTe),Rie),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,GZt),XZt),"Polyomino Primary Sorting Criterion"),"Possible primary sorting criteria for the processing order of polyominoes."),kie),gTe),wie),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,KZt),XZt),"Fill Polyominoes"),"Use the Profile Fill algorithm to fill polyominoes to prevent small polyominoes from being placed inside of big polyominoes with large holes. Might increase packing area."),(cN(),!0)),dTe),vee),Jdt(cTe))))},mG(HZt,"PolyominoOptions",853),fPt(250,22,{3:1,35:1,22:1,250:1},$C);var Fie,jie=$nt(HZt,"TraversalStrategy",250,qte,xit,dj);fPt(213,1,{213:1},vt),EKt.Ib=function(){return"NEdge[id="+this.b+" w="+this.g+" d="+this.a+"]"},EKt.a=1,EKt.b=0,EKt.c=0,EKt.f=!1,EKt.g=0;var $ie=mG(ZZt,"NEdge",213);fPt(176,1,{},$w),mG(ZZt,"NEdge/NEdgeBuilder",176),fPt(653,1,{},Fw),mG(ZZt,"NGraph",653),fPt(121,1,{121:1},y6),EKt.c=-1,EKt.d=0,EKt.e=0,EKt.i=-1,EKt.j=!1;var Vie=mG(ZZt,"NNode",121);fPt(795,1,ZXt,jw),EKt.Jc=function(t){t4(this,t)},EKt.Lc=function(){return new LH(null,new d1(this,16))},EKt.ad=function(t){Frt(this,t)},EKt.Nc=function(){return new d1(this,16)},EKt.Oc=function(){return new LH(null,new d1(this,16))},EKt.Vc=function(t,e){++this.b,yU(this.a,t,e)},EKt.Fc=function(t){return LN(this,t)},EKt.Wc=function(t,e){return++this.b,aut(this.a,t,e)},EKt.Gc=function(t){return++this.b,pat(this.a,t)},EKt.$b=function(){++this.b,this.a.c=D7(Mte,VKt,1,0,5,1)},EKt.Hc=function(t){return-1!=_9(this.a,t,0)},EKt.Ic=function(t){return aat(this.a,t)},EKt.Xb=function(t){return DH(this.a,t)},EKt.Xc=function(t){return _9(this.a,t,0)},EKt.dc=function(){return 0==this.a.c.length},EKt.Kc=function(){return P8(new Wf(this.a))},EKt.Yc=function(){throw $b(new pw)},EKt.Zc=function(t){throw $b(new pw)},EKt.$c=function(t){return++this.b,a6(this.a,t)},EKt.Mc=function(t){return RN(this,t)},EKt._c=function(t,e){return++this.b,i4(this.a,t,e)},EKt.gc=function(){return this.a.c.length},EKt.bd=function(t,e){return new a1(this.a,t,e)},EKt.Pc=function(){return hL(this.a)},EKt.Qc=function(t){return Ymt(this.a,t)},EKt.b=0,mG(ZZt,"NNode/ChangeAwareArrayList",795),fPt(269,1,{},Vw),mG(ZZt,"NNode/NNodeBuilder",269),fPt(1630,1,{},_t),EKt.a=!1,EKt.f=LKt,EKt.j=0,mG(ZZt,"NetworkSimplex",1630),fPt(1294,1,hYt,Eg),EKt.td=function(t){zqt(this.a,jV(t,680),!0,!1)},mG(JZt,"NodeLabelAndSizeCalculator/lambda$0$Type",1294),fPt(558,1,{},Tg),EKt.b=!0,EKt.c=!0,EKt.d=!0,EKt.e=!0,mG(JZt,"NodeMarginCalculator",558),fPt(212,1,{212:1}),EKt.j=!1,EKt.k=!1;var zie,Hie,Uie,qie=mG(tQt,"Cell",212);fPt(124,212,{124:1,212:1},FB),EKt.Re=function(){return qz(this)},EKt.Se=function(){var t;return t=this.n,this.a.a+t.b+t.c},mG(tQt,"AtomicCell",124),fPt(232,22,{3:1,35:1,22:1,232:1},VC);var Wie,Gie=$nt(tQt,"ContainerArea",232,qte,m1,fj);fPt(326,212,nQt),mG(tQt,"ContainerCell",326),fPt(1473,326,nQt,Vgt),EKt.Re=function(){var t;return t=0,this.e?this.b?t=this.b.b:this.a[1][1]&&(t=this.a[1][1].Re()):t=Xft(this,qyt(this,!0)),t>0?t+this.n.d+this.n.a:0},EKt.Se=function(){var t,e,n,r,o;if(o=0,this.e)this.b?o=this.b.a:this.a[1][1]&&(o=this.a[1][1].Se());else if(this.g)o=Xft(this,I_t(this,null,!0));else for(Let(),n=0,r=(e=Cat(z_(Gie,1),PYt,232,0,[zie,Hie,Uie])).length;n<r;++n)t=e[n],o=i.Math.max(o,Xft(this,I_t(this,t,!0)));return o>0?o+this.n.b+this.n.c:0},EKt.Te=function(){var t,e,n,i,r;if(this.g)for(t=I_t(this,null,!1),Let(),i=0,r=(n=Cat(z_(Gie,1),PYt,232,0,[zie,Hie,Uie])).length;i<r;++i)KLt(this,e=n[i],t);else for(Let(),i=0,r=(n=Cat(z_(Gie,1),PYt,232,0,[zie,Hie,Uie])).length;i<r;++i)KLt(this,e=n[i],t=I_t(this,e,!1))},EKt.Ue=function(){var t,e,n,r;e=this.i,t=this.n,r=qyt(this,!1),K4(this,(Let(),zie),e.d+t.d,r),K4(this,Uie,e.d+e.a-t.a-r[2],r),n=e.a-t.d-t.a,r[0]>0&&(r[0]+=this.d,n-=r[0]),r[2]>0&&(r[2]+=this.d,n-=r[2]),this.c.a=i.Math.max(0,n),this.c.d=e.d+t.d+(this.c.a-n)/2,r[1]=i.Math.max(r[1],n),K4(this,Hie,e.d+t.d+r[0]-(r[1]-n)/2,r)},EKt.b=null,EKt.d=0,EKt.e=!1,EKt.f=!1,EKt.g=!1;var Kie,Yie,Xie,Zie=0,Qie=0;mG(tQt,"GridContainerCell",1473),fPt(461,22,{3:1,35:1,22:1,461:1},zC);var Jie,tre=$nt(tQt,"HorizontalLabelAlignment",461,qte,b1,gj);fPt(306,212,{212:1,306:1},wQ,fet,RZ),EKt.Re=function(){return Wz(this)},EKt.Se=function(){return Gz(this)},EKt.a=0,EKt.c=!1;var ere,nre,ire,rre=mG(tQt,"LabelCell",306);fPt(244,326,{212:1,326:1,244:1},Smt),EKt.Re=function(){return EIt(this)},EKt.Se=function(){return TIt(this)},EKt.Te=function(){F$t(this)},EKt.Ue=function(){H$t(this)},EKt.b=0,EKt.c=0,EKt.d=!1,mG(tQt,"StripContainerCell",244),fPt(1626,1,LYt,kt),EKt.Mb=function(t){return Kv(jV(t,212))},mG(tQt,"StripContainerCell/lambda$0$Type",1626),fPt(1627,1,{},xt),EKt.Fe=function(t){return jV(t,212).Se()},mG(tQt,"StripContainerCell/lambda$1$Type",1627),fPt(1628,1,LYt,Et),EKt.Mb=function(t){return Yv(jV(t,212))},mG(tQt,"StripContainerCell/lambda$2$Type",1628),fPt(1629,1,{},Tt),EKt.Fe=function(t){return jV(t,212).Re()},mG(tQt,"StripContainerCell/lambda$3$Type",1629),fPt(462,22,{3:1,35:1,22:1,462:1},HC);var ore,sre,are,cre,lre,ure,hre,dre,fre,gre,pre,mre,bre,wre,yre,vre,_re,kre,xre,Ere,Tre,Cre,Are,Sre=$nt(tQt,"VerticalLabelAlignment",462,qte,w1,pj);fPt(789,1,{},eWt),EKt.c=0,EKt.d=0,EKt.k=0,EKt.s=0,EKt.t=0,EKt.v=!1,EKt.w=0,EKt.D=!1,mG(cQt,"NodeContext",789),fPt(1471,1,EZt,Ct),EKt.ue=function(t,e){return YM(jV(t,61),jV(e,61))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(cQt,"NodeContext/0methodref$comparePortSides$Type",1471),fPt(1472,1,EZt,At),EKt.ue=function(t,e){return qEt(jV(t,111),jV(e,111))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(cQt,"NodeContext/1methodref$comparePortContexts$Type",1472),fPt(159,22,{3:1,35:1,22:1,159:1},aot);var Ire,Mre,Pre,Ore,Dre,Nre,Lre,Rre=$nt(cQt,"NodeLabelLocation",159,qte,tbt,mj);fPt(111,1,{111:1},EMt),EKt.a=!1,mG(cQt,"PortContext",111),fPt(1476,1,hYt,St),EKt.td=function(t){Cx(jV(t,306))},mG(hQt,dQt,1476),fPt(1477,1,LYt,It),EKt.Mb=function(t){return!!jV(t,111).c},mG(hQt,fQt,1477),fPt(1478,1,hYt,Mt),EKt.td=function(t){Cx(jV(t,111).c)},mG(hQt,"LabelPlacer/lambda$2$Type",1478),fPt(1475,1,hYt,Ot),EKt.td=function(t){VR(),Yb(jV(t,111))},mG(hQt,"NodeLabelAndSizeUtilities/lambda$0$Type",1475),fPt(790,1,hYt,Mj),EKt.td=function(t){LT(this.b,this.c,this.a,jV(t,181))},EKt.a=!1,EKt.c=!1,mG(hQt,"NodeLabelCellCreator/lambda$0$Type",790),fPt(1474,1,hYt,Cg),EKt.td=function(t){Aw(this.a,jV(t,181))},mG(hQt,"PortContextCreator/lambda$0$Type",1474),fPt(1829,1,{},Dt),mG(pQt,"GreedyRectangleStripOverlapRemover",1829),fPt(1830,1,EZt,Pt),EKt.ue=function(t,e){return FN(jV(t,222),jV(e,222))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(pQt,"GreedyRectangleStripOverlapRemover/0methodref$compareByYCoordinate$Type",1830),fPt(1786,1,{},Zw),EKt.a=5,EKt.e=0,mG(pQt,"RectangleStripOverlapRemover",1786),fPt(1787,1,EZt,Lt),EKt.ue=function(t,e){return jN(jV(t,222),jV(e,222))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(pQt,"RectangleStripOverlapRemover/0methodref$compareLeftRectangleBorders$Type",1787),fPt(1789,1,EZt,Rt),EKt.ue=function(t,e){return XW(jV(t,222),jV(e,222))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(pQt,"RectangleStripOverlapRemover/1methodref$compareRightRectangleBorders$Type",1789),fPt(406,22,{3:1,35:1,22:1,406:1},UC);var Bre,Fre,jre,$re,Vre,zre=$nt(pQt,"RectangleStripOverlapRemover/OverlapRemovalDirection",406,qte,Y2,bj);fPt(222,1,{222:1},DU),mG(pQt,"RectangleStripOverlapRemover/RectangleNode",222),fPt(1788,1,hYt,Ag),EKt.td=function(t){Ayt(this.a,jV(t,222))},mG(pQt,"RectangleStripOverlapRemover/lambda$1$Type",1788),fPt(1304,1,EZt,Bt),EKt.ue=function(t,e){return Uzt(jV(t,167),jV(e,167))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(bQt,"PolyominoCompactor/CornerCasesGreaterThanRestComparator",1304),fPt(1307,1,{},Ft),EKt.Kb=function(t){return jV(t,324).a},mG(bQt,"PolyominoCompactor/CornerCasesGreaterThanRestComparator/lambda$0$Type",1307),fPt(1308,1,LYt,jt),EKt.Mb=function(t){return jV(t,323).a},mG(bQt,"PolyominoCompactor/CornerCasesGreaterThanRestComparator/lambda$1$Type",1308),fPt(1309,1,LYt,$t),EKt.Mb=function(t){return jV(t,323).a},mG(bQt,"PolyominoCompactor/CornerCasesGreaterThanRestComparator/lambda$2$Type",1309),fPt(1302,1,EZt,Vt),EKt.ue=function(t,e){return GBt(jV(t,167),jV(e,167))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(bQt,"PolyominoCompactor/MinNumOfExtensionDirectionsComparator",1302),fPt(1305,1,{},Nt),EKt.Kb=function(t){return jV(t,324).a},mG(bQt,"PolyominoCompactor/MinNumOfExtensionDirectionsComparator/lambda$0$Type",1305),fPt(767,1,EZt,zt),EKt.ue=function(t,e){return qst(jV(t,167),jV(e,167))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(bQt,"PolyominoCompactor/MinNumOfExtensionsComparator",767),fPt(1300,1,EZt,Ht),EKt.ue=function(t,e){return Yit(jV(t,321),jV(e,321))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(bQt,"PolyominoCompactor/MinPerimeterComparator",1300),fPt(1301,1,EZt,Ut),EKt.ue=function(t,e){return owt(jV(t,321),jV(e,321))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(bQt,"PolyominoCompactor/MinPerimeterComparatorWithShape",1301),fPt(1303,1,EZt,qt),EKt.ue=function(t,e){return $Ft(jV(t,167),jV(e,167))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(bQt,"PolyominoCompactor/SingleExtensionSideGreaterThanRestComparator",1303),fPt(1306,1,{},Wt),EKt.Kb=function(t){return jV(t,324).a},mG(bQt,"PolyominoCompactor/SingleExtensionSideGreaterThanRestComparator/lambda$0$Type",1306),fPt(777,1,{},NC),EKt.Ce=function(t,e){return S2(this,jV(t,46),jV(e,167))},mG(bQt,"SuccessorCombination",777),fPt(644,1,{},Gt),EKt.Ce=function(t,e){var n;return WIt((n=jV(t,46),jV(e,167),n))},mG(bQt,"SuccessorJitter",644),fPt(643,1,{},Kt),EKt.Ce=function(t,e){var n;return dLt((n=jV(t,46),jV(e,167),n))},mG(bQt,"SuccessorLineByLine",643),fPt(568,1,{},Yt),EKt.Ce=function(t,e){var n;return uOt((n=jV(t,46),jV(e,167),n))},mG(bQt,"SuccessorManhattan",568),fPt(1356,1,{},Xt),EKt.Ce=function(t,e){var n;return _Nt((n=jV(t,46),jV(e,167),n))},mG(bQt,"SuccessorMaxNormWindingInMathPosSense",1356),fPt(400,1,{},Sg),EKt.Ce=function(t,e){return jW(this,t,e)},EKt.c=!1,EKt.d=!1,EKt.e=!1,EKt.f=!1,mG(bQt,"SuccessorQuadrantsGeneric",400),fPt(1357,1,{},Zt),EKt.Kb=function(t){return jV(t,324).a},mG(bQt,"SuccessorQuadrantsGeneric/lambda$0$Type",1357),fPt(323,22,{3:1,35:1,22:1,323:1},BC),EKt.a=!1;var Hre,Ure=$nt(kQt,xQt,323,qte,Q2,wj);fPt(1298,1,{}),EKt.Ib=function(){var t,e,n,i,r,o;for(n=" ",t=ndt(0),r=0;r<this.o;r++)n+=""+t.a,t=ndt(uB(t.a));for(n+="\n",t=ndt(0),o=0;o<this.p;o++){for(n+=""+t.a,t=ndt(uB(t.a)),i=0;i<this.o;i++)0==Kut(e=trt(this,i,o),0)?n+="_":0==Kut(e,1)?n+="X":n+="0";n+="\n"}return lL(n,0,n.length-1)},EKt.o=0,EKt.p=0,mG(kQt,"TwoBitGrid",1298),fPt(321,1298,{321:1},zgt),EKt.j=0,EKt.k=0,mG(kQt,"PlanarGrid",321),fPt(167,321,{321:1,167:1}),EKt.g=0,EKt.i=0,mG(kQt,"Polyomino",167);var qre=hH(SQt,IQt);fPt(134,1,MQt,Qt),EKt.Ye=function(t,e){return cct(this,t,e)},EKt.Ve=function(){return zH(this)},EKt.We=function(t){return wTt(this,t)},EKt.Xe=function(t){return PL(this,t)},mG(SQt,"MapPropertyHolder",134),fPt(1299,134,MQt,yLt),mG(kQt,"Polyominoes",1299);var Wre,Gre,Kre,Yre,Xre,Zre,Qre,Jre,toe=!1;fPt(1766,1,hYt,Jt),EKt.td=function(t){sHt(jV(t,221))},mG(PQt,"DepthFirstCompaction/0methodref$compactTree$Type",1766),fPt(810,1,hYt,Ig),EKt.td=function(t){RK(this.a,jV(t,221))},mG(PQt,"DepthFirstCompaction/lambda$1$Type",810),fPt(1767,1,hYt,Oj),EKt.td=function(t){gmt(this.a,this.b,this.c,jV(t,221))},mG(PQt,"DepthFirstCompaction/lambda$2$Type",1767),fPt(65,1,{65:1},IJ),mG(PQt,"Node",65),fPt(1250,1,{},AO),mG(PQt,"ScanlineOverlapCheck",1250),fPt(1251,1,{679:1},cZ),EKt.Ke=function(t){zR(this,jV(t,440))},mG(PQt,"ScanlineOverlapCheck/OverlapsScanlineHandler",1251),fPt(1252,1,EZt,te),EKt.ue=function(t,e){return Ndt(jV(t,65),jV(e,65))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(PQt,"ScanlineOverlapCheck/OverlapsScanlineHandler/lambda$0$Type",1252),fPt(440,1,{440:1},LC),EKt.a=!1,mG(PQt,"ScanlineOverlapCheck/Timestamp",440),fPt(1253,1,EZt,ee),EKt.ue=function(t,e){return Q_t(jV(t,440),jV(e,440))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(PQt,"ScanlineOverlapCheck/lambda$0$Type",1253),fPt(550,1,{},ne),mG(OQt,"SVGImage",550),fPt(324,1,{324:1},Dj),EKt.Ib=function(){return"("+this.a+jKt+this.b+jKt+this.c+")"},mG(OQt,"UniqueTriple",324),fPt(209,1,DQt),mG(NQt,"AbstractLayoutProvider",209),fPt(1132,209,DQt,ie),EKt.Ze=function(t,e){var n,i,r;IEt(e,LQt,1),this.a=zv(xR(QPt(t,(kbt(),_oe)))),T7(t,hoe)&&(i=ER(QPt(t,hoe)),(n=WBt(rit(),i))&&jV(aQ(n.f),209).Ze(t,wot(e,1))),r=new a5(this.a),this.b=Rqt(r,t),0===jV(QPt(t,(Hlt(),soe)),481).g?($Mt(new re,this.b),Xbt(t,goe,wTt(this.b,goe))):ME(),qqt(r),Xbt(t,foe,this.b),VCt(e)},EKt.a=0,mG(RQt,"DisCoLayoutProvider",1132),fPt(1244,1,{},re),EKt.c=!1,EKt.e=0,EKt.f=0,mG(RQt,"DisCoPolyominoCompactor",1244),fPt(561,1,{561:1},cU),EKt.b=!0,mG(BQt,"DCComponent",561),fPt(394,22,{3:1,35:1,22:1,394:1},RC),EKt.a=!1;var eoe,noe,ioe=$nt(BQt,"DCDirection",394,qte,Z2,yj);fPt(266,134,{3:1,266:1,94:1,134:1},kPt),mG(BQt,"DCElement",266),fPt(395,1,{395:1},Syt),EKt.c=0,mG(BQt,"DCExtension",395),fPt(755,134,MQt,Bk),mG(BQt,"DCGraph",755),fPt(481,22,{3:1,35:1,22:1,481:1},AL);var roe,ooe,soe,aoe,coe,loe,uoe,hoe,doe,foe,goe,poe,moe,boe,woe,yoe,voe,_oe,koe,xoe,Eoe,Toe=$nt(FQt,jQt,481,qte,LY,vj);fPt(854,1,YZt,$u),EKt.Qe=function(t){Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,$Qt),UQt),"Connected Components Compaction Strategy"),"Strategy for packing different connected components in order to save space and enhance readability of a graph."),aoe),(CAt(),gTe)),Toe),Jdt((ibt(),cTe))))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,VQt),UQt),"Connected Components Layout Algorithm"),"A layout algorithm that is to be applied to each connected component before the components themselves are compacted. If unspecified, the positions of the components' nodes are not altered."),wTe),Yee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,zQt),"debug"),"DCGraph"),"Access to the DCGraph is intended for the debug view,"),bTe),Mte),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,HQt),"debug"),"List of Polyominoes"),"Access to the polyominoes is intended for the debug view,"),bTe),Mte),Jdt(cTe)))),$Vt((new Vu,t))},mG(FQt,"DisCoMetaDataProvider",854),fPt(998,1,YZt,Vu),EKt.Qe=function(t){$Vt(t)},mG(FQt,"DisCoOptions",998),fPt(999,1,{},oe),EKt.$e=function(){return new ie},EKt._e=function(t){},mG(FQt,"DisCoOptions/DiscoFactory",999),fPt(562,167,{321:1,167:1,562:1},YOt),EKt.a=0,EKt.b=0,EKt.c=0,EKt.d=0,mG("org.eclipse.elk.alg.disco.structures","DCPolyomino",562),fPt(1268,1,LYt,se),EKt.Mb=function(t){return kM(t)},mG(XQt,"ElkGraphComponentsProcessor/lambda$0$Type",1268),fPt(1269,1,{},ae),EKt.Kb=function(t){return xX(),CTt(jV(t,79))},mG(XQt,"ElkGraphComponentsProcessor/lambda$1$Type",1269),fPt(1270,1,LYt,ce),EKt.Mb=function(t){return Vz(jV(t,79))},mG(XQt,"ElkGraphComponentsProcessor/lambda$2$Type",1270),fPt(1271,1,{},le),EKt.Kb=function(t){return xX(),ITt(jV(t,79))},mG(XQt,"ElkGraphComponentsProcessor/lambda$3$Type",1271),fPt(1272,1,LYt,ue),EKt.Mb=function(t){return zz(jV(t,79))},mG(XQt,"ElkGraphComponentsProcessor/lambda$4$Type",1272),fPt(1273,1,LYt,Mg),EKt.Mb=function(t){return xQ(this.a,jV(t,79))},mG(XQt,"ElkGraphComponentsProcessor/lambda$5$Type",1273),fPt(1274,1,{},Pg),EKt.Kb=function(t){return RG(this.a,jV(t,79))},mG(XQt,"ElkGraphComponentsProcessor/lambda$6$Type",1274),fPt(1241,1,{},a5),EKt.a=0,mG(XQt,"ElkGraphTransformer",1241),fPt(1242,1,{},he),EKt.Od=function(t,e){tMt(this,jV(t,160),jV(e,266))},mG(XQt,"ElkGraphTransformer/OffsetApplier",1242),fPt(1243,1,hYt,Og),EKt.td=function(t){kD(this,jV(t,8))},mG(XQt,"ElkGraphTransformer/OffsetApplier/OffSetToChainApplier",1243),fPt(753,1,{},de),mG(eJt,nJt,753),fPt(1232,1,EZt,fe),EKt.ue=function(t,e){return AIt(jV(t,231),jV(e,231))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(eJt,iJt,1232),fPt(740,209,DQt,zw),EKt.Ze=function(t,e){bDt(this,t,e)},mG(eJt,"ForceLayoutProvider",740),fPt(357,134,{3:1,357:1,94:1,134:1}),mG(rJt,"FParticle",357),fPt(559,357,{3:1,559:1,357:1,94:1,134:1},cG),EKt.Ib=function(){var t;return this.a?(t=_9(this.a.a,this,0))>=0?"b"+t+"["+o4(this.a)+"]":"b["+o4(this.a)+"]":"b_"+TN(this)},mG(rJt,"FBendpoint",559),fPt(282,134,{3:1,282:1,94:1,134:1},AB),EKt.Ib=function(){return o4(this)},mG(rJt,"FEdge",282),fPt(231,134,{3:1,231:1,94:1,134:1},w6);var Coe,Aoe,Soe,Ioe,Moe,Poe,Ooe,Doe,Noe,Loe,Roe=mG(rJt,"FGraph",231);fPt(447,357,{3:1,447:1,357:1,94:1,134:1},b5),EKt.Ib=function(){return null==this.b||0==this.b.length?"l["+o4(this.a)+"]":"l_"+this.b},mG(rJt,"FLabel",447),fPt(144,357,{3:1,144:1,357:1,94:1,134:1},VG),EKt.Ib=function(){return p0(this)},EKt.b=0,mG(rJt,"FNode",144),fPt(2003,1,{}),EKt.bf=function(t){c$t(this,t)},EKt.cf=function(){zyt(this)},EKt.d=0,mG(sJt,"AbstractForceModel",2003),fPt(631,2003,{631:1},Ost),EKt.af=function(t,e){var n,r,o,s;return tIt(this.f,t,e),o=qB(jO(e.d),t.d),s=i.Math.sqrt(o.a*o.a+o.b*o.b),r=i.Math.max(0,s-uK(t.e)/2-uK(e.e)/2),yD(o,((n=zct(this.e,t,e))>0?-BW(r,this.c)*n:DL(r,this.b)*jV(wTt(t,(uBt(),Zoe)),19).a)/s),o},EKt.bf=function(t){c$t(this,t),this.a=jV(wTt(t,(uBt(),Voe)),19).a,this.c=zv(xR(wTt(t,ise))),this.b=zv(xR(wTt(t,Joe)))},EKt.df=function(t){return t<this.a},EKt.a=0,EKt.b=0,EKt.c=0,mG(sJt,"EadesModel",631),fPt(632,2003,{632:1},lz),EKt.af=function(t,e){var n,r,o,s,a;return tIt(this.f,t,e),o=qB(jO(e.d),t.d),a=i.Math.sqrt(o.a*o.a+o.b*o.b),s=OL(r=i.Math.max(0,a-uK(t.e)/2-uK(e.e)/2),this.a)*jV(wTt(t,(uBt(),Zoe)),19).a,(n=zct(this.e,t,e))>0&&(s-=Ev(r,this.a)*n),yD(o,s*this.b/a),o},EKt.bf=function(t){var e,n,r,o,s,a,c;for(c$t(this,t),this.b=zv(xR(wTt(t,(uBt(),rse)))),this.c=this.b/jV(wTt(t,Voe),19).a,r=t.e.c.length,s=0,o=0,c=new Wf(t.e);c.a<c.c.c.length;)s+=(a=jV(Q1(c),144)).e.a,o+=a.e.b;e=s*o,n=zv(xR(wTt(t,ise)))*uQt,this.a=i.Math.sqrt(e/(2*r))*n},EKt.cf=function(){zyt(this),this.b-=this.c},EKt.df=function(t){return this.b>0},EKt.a=0,EKt.b=0,EKt.c=0,mG(sJt,"FruchtermanReingoldModel",632),fPt(849,1,YZt,Hu),EKt.Qe=function(t){Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,aJt),""),"Force Model"),"Determines the model for force calculation."),Soe),(CAt(),gTe)),Mse),Jdt((ibt(),cTe))))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,cJt),""),"Iterations"),"The number of iterations on the force model."),ndt(300)),mTe),Mee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,lJt),""),"Repulsive Power"),"Determines how many bend points are added to the edge; such bend points are regarded as repelling particles in the force model"),ndt(0)),mTe),Mee),Jdt(oTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,uJt),""),"FR Temperature"),"The temperature is used as a scaling factor for particle displacements."),hJt),fTe),Cee),Jdt(cTe)))),r2(t,uJt,aJt,Doe),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,dJt),""),"Eades Repulsion"),"Factor for repulsive forces in Eades' model."),5),fTe),Cee),Jdt(cTe)))),r2(t,dJt,aJt,Moe),mWt((new Uu,t))},mG(fJt,"ForceMetaDataProvider",849),fPt(424,22,{3:1,35:1,22:1,424:1},qC);var Boe,Foe,joe,$oe,Voe,zoe,Hoe,Uoe,qoe,Woe,Goe,Koe,Yoe,Xoe,Zoe,Qoe,Joe,tse,ese,nse,ise,rse,ose,sse,ase,cse,lse,use,hse,dse,fse,gse,pse,mse,bse,wse,yse,vse,_se,kse,xse,Ese,Tse,Cse,Ase,Sse,Ise,Mse=$nt(fJt,"ForceModelStrategy",424,qte,rQ,_j);fPt(988,1,YZt,Uu),EKt.Qe=function(t){mWt(t)},mG(fJt,"ForceOptions",988),fPt(989,1,{},ge),EKt.$e=function(){return new zw},EKt._e=function(t){},mG(fJt,"ForceOptions/ForceFactory",989),fPt(850,1,YZt,qu),EKt.Qe=function(t){Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,DJt),""),"Fixed Position"),"Prevent that the node is moved by the layout algorithm."),(cN(),!1)),(CAt(),dTe)),vee),Jdt((ibt(),aTe))))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,NJt),""),"Desired Edge Length"),"Either specified for parent nodes or for individual edges, where the latter takes higher precedence."),100),fTe),Cee),_U(cTe,Cat(z_(vTe,1),PYt,175,0,[oTe]))))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,LJt),""),"Layout Dimension"),"Dimensions that are permitted to be altered during layout."),hse),gTe),$se),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,RJt),""),"Stress Epsilon"),"Termination criterion for the iterative process."),hJt),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,BJt),""),"Iteration Limit"),"Maximum number of performed iterations. Takes higher precedence than 'epsilon'."),ndt(LKt)),mTe),Mee),Jdt(cTe)))),qUt((new Wu,t))},mG(fJt,"StressMetaDataProvider",850),fPt(992,1,YZt,Wu),EKt.Qe=function(t){qUt(t)},mG(fJt,"StressOptions",992),fPt(993,1,{},pe),EKt.$e=function(){return new SB},EKt._e=function(t){},mG(fJt,"StressOptions/StressFactory",993),fPt(1128,209,DQt,SB),EKt.Ze=function(t,e){var n,i,r,o;for(IEt(e,jJt,1),Vv(kR(QPt(t,(i_t(),yse))))?Vv(kR(QPt(t,Tse)))||vQ(new kg((zT(),new Nv(t)))):bDt(new zw,t,wot(e,1)),i=uct(t),o=(n=V$t(this.a,i)).Kc();o.Ob();)(r=jV(o.Pb(),231)).e.c.length<=1||(Vzt(this.b,r),nOt(this.b),Iet(r.d,new me));TWt(i=HWt(n)),VCt(e)},mG(VJt,"StressLayoutProvider",1128),fPt(1129,1,hYt,me),EKt.td=function(t){FVt(jV(t,447))},mG(VJt,"StressLayoutProvider/lambda$0$Type",1129),fPt(990,1,{},kw),EKt.c=0,EKt.e=0,EKt.g=0,mG(VJt,"StressMajorization",990),fPt(379,22,{3:1,35:1,22:1,379:1},WC);var Pse,Ose,Dse,Nse,Lse,Rse,Bse,Fse,jse,$se=$nt(VJt,"StressMajorization/Dimension",379,qte,v1,kj);fPt(991,1,EZt,Dg),EKt.ue=function(t,e){return EF(this.a,jV(t,144),jV(e,144))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(VJt,"StressMajorization/lambda$0$Type",991),fPt(1229,1,{},N0),mG(HJt,"ElkLayered",1229),fPt(1230,1,hYt,be),EKt.td=function(t){RIt(jV(t,37))},mG(HJt,"ElkLayered/lambda$0$Type",1230),fPt(1231,1,hYt,Ng),EKt.td=function(t){TF(this.a,jV(t,37))},mG(HJt,"ElkLayered/lambda$1$Type",1231),fPt(1263,1,{},MO),mG(HJt,"GraphConfigurator",1263),fPt(759,1,hYt,Lg),EKt.td=function(t){KTt(this.a,jV(t,10))},mG(HJt,"GraphConfigurator/lambda$0$Type",759),fPt(760,1,{},we),EKt.Kb=function(t){return tkt(),new LH(null,new d1(jV(t,29).a,16))},mG(HJt,"GraphConfigurator/lambda$1$Type",760),fPt(761,1,hYt,Rg),EKt.td=function(t){KTt(this.a,jV(t,10))},mG(HJt,"GraphConfigurator/lambda$2$Type",761),fPt(1127,209,DQt,Uw),EKt.Ze=function(t,e){var n;n=TVt(new Jw,t),zI(QPt(t,(VGt(),ame)))===zI((sht(),pSe))?igt(this.a,n,e):fMt(this.a,n,e),pWt(new Ku,n)},mG(HJt,"LayeredLayoutProvider",1127),fPt(356,22,{3:1,35:1,22:1,356:1},GC);var Vse,zse,Hse,Use=$nt(HJt,"LayeredPhases",356,qte,a4,xj);fPt(1651,1,{},bit),EKt.i=0,mG(UJt,"ComponentsToCGraphTransformer",1651),fPt(1652,1,{},ye),EKt.ef=function(t,e){return i.Math.min(null!=t.a?zv(t.a):t.c.i,null!=e.a?zv(e.a):e.c.i)},EKt.ff=function(t,e){return i.Math.min(null!=t.a?zv(t.a):t.c.i,null!=e.a?zv(e.a):e.c.i)},mG(UJt,"ComponentsToCGraphTransformer/1",1652),fPt(81,1,{81:1}),EKt.i=0,EKt.k=!0,EKt.o=BXt;var qse,Wse,Gse,Kse=mG(qJt,"CNode",81);fPt(460,81,{460:1,81:1},ON,Tmt),EKt.Ib=function(){return""},mG(UJt,"ComponentsToCGraphTransformer/CRectNode",460),fPt(1623,1,{},ve),mG(UJt,"OneDimensionalComponentsCompaction",1623),fPt(1624,1,{},_e),EKt.Kb=function(t){return DJ(jV(t,46))},EKt.Fb=function(t){return this===t},mG(UJt,"OneDimensionalComponentsCompaction/lambda$0$Type",1624),fPt(1625,1,{},ke),EKt.Kb=function(t){return kgt(jV(t,46))},EKt.Fb=function(t){return this===t},mG(UJt,"OneDimensionalComponentsCompaction/lambda$1$Type",1625),fPt(1654,1,{},jG),mG(qJt,"CGraph",1654),fPt(189,1,{189:1},Cmt),EKt.b=0,EKt.c=0,EKt.e=0,EKt.g=!0,EKt.i=BXt,mG(qJt,"CGroup",189),fPt(1653,1,{},Ce),EKt.ef=function(t,e){return i.Math.max(null!=t.a?zv(t.a):t.c.i,null!=e.a?zv(e.a):e.c.i)},EKt.ff=function(t,e){return i.Math.max(null!=t.a?zv(t.a):t.c.i,null!=e.a?zv(e.a):e.c.i)},mG(qJt,IZt,1653),fPt(1655,1,{},cMt),EKt.d=!1;var Yse=mG(qJt,NZt,1655);fPt(1656,1,{},Ae),EKt.Kb=function(t){return yT(),cN(),0!=jV(jV(t,46).a,81).d.e},EKt.Fb=function(t){return this===t},mG(qJt,LZt,1656),fPt(823,1,{},EH),EKt.a=!1,EKt.b=!1,EKt.c=!1,EKt.d=!1,mG(qJt,RZt,823),fPt(1825,1,{},NU),mG(WJt,BZt,1825);var Xse=hH(GJt,CZt);fPt(1826,1,{369:1},uZ),EKt.Ke=function(t){HLt(this,jV(t,466))},mG(WJt,FZt,1826),fPt(1827,1,EZt,Se),EKt.ue=function(t,e){return sX(jV(t,81),jV(e,81))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(WJt,jZt,1827),fPt(466,1,{466:1},lA),EKt.a=!1,mG(WJt,$Zt,466),fPt(1828,1,EZt,Ie),EKt.ue=function(t,e){return J_t(jV(t,466),jV(e,466))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(WJt,VZt,1828),fPt(140,1,{140:1},fA,bz),EKt.Fb=function(t){var e;return null!=t&&eae==tlt(t)&&(e=jV(t,140),iY(this.c,e.c)&&iY(this.d,e.d))},EKt.Hb=function(){return uut(Cat(z_(Mte,1),VKt,1,5,[this.c,this.d]))},EKt.Ib=function(){return"("+this.c+jKt+this.d+(this.a?"cx":"")+this.b+")"},EKt.a=!0,EKt.c=0,EKt.d=0;var Zse,Qse,Jse,tae,eae=mG(GJt,"Point",140);fPt(405,22,{3:1,35:1,22:1,405:1},KC);var nae,iae,rae,oae,sae,aae,cae,lae,uae,hae,dae,fae=$nt(GJt,"Point/Quadrant",405,qte,J2,Ej);fPt(1642,1,{},Gw),EKt.b=null,EKt.c=null,EKt.d=null,EKt.e=null,EKt.f=null,mG(GJt,"RectilinearConvexHull",1642),fPt(574,1,{369:1},xbt),EKt.Ke=function(t){B8(this,jV(t,140))},EKt.b=0,mG(GJt,"RectilinearConvexHull/MaximalElementsEventHandler",574),fPt(1644,1,EZt,Ee),EKt.ue=function(t,e){return NY(xR(t),xR(e))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(GJt,"RectilinearConvexHull/MaximalElementsEventHandler/lambda$0$Type",1644),fPt(1643,1,{369:1},uet),EKt.Ke=function(t){CNt(this,jV(t,140))},EKt.a=0,EKt.b=null,EKt.c=null,EKt.d=null,EKt.e=null,mG(GJt,"RectilinearConvexHull/RectangleEventHandler",1643),fPt(1645,1,EZt,Te),EKt.ue=function(t,e){return o0(jV(t,140),jV(e,140))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(GJt,"RectilinearConvexHull/lambda$0$Type",1645),fPt(1646,1,EZt,xe),EKt.ue=function(t,e){return s0(jV(t,140),jV(e,140))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(GJt,"RectilinearConvexHull/lambda$1$Type",1646),fPt(1647,1,EZt,Me),EKt.ue=function(t,e){return c0(jV(t,140),jV(e,140))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(GJt,"RectilinearConvexHull/lambda$2$Type",1647),fPt(1648,1,EZt,Pe),EKt.ue=function(t,e){return a0(jV(t,140),jV(e,140))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(GJt,"RectilinearConvexHull/lambda$3$Type",1648),fPt(1649,1,EZt,Oe),EKt.ue=function(t,e){return _Tt(jV(t,140),jV(e,140))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(GJt,"RectilinearConvexHull/lambda$4$Type",1649),fPt(1650,1,{},SJ),mG(GJt,"Scanline",1650),fPt(2005,1,{}),mG(KJt,"AbstractGraphPlacer",2005),fPt(325,1,{325:1},qL),EKt.mf=function(t){return!!this.nf(t)&&(ZIt(this.b,jV(wTt(t,(lKt(),qhe)),21),t),!0)},EKt.nf=function(t){var e,n,i;for(e=jV(wTt(t,(lKt(),qhe)),21),i=jV(c6(lae,e),21).Kc();i.Ob();)if(n=jV(i.Pb(),21),!jV(c6(this.b,n),15).dc())return!1;return!0},mG(KJt,"ComponentGroup",325),fPt(765,2005,{},Kw),EKt.of=function(t){var e;for(e=new Wf(this.a);e.a<e.c.c.length;)if(jV(Q1(e),325).mf(t))return;WV(this.a,new qL(t))},EKt.lf=function(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g;if(this.a.c=D7(Mte,VKt,1,0,5,1),e.a.c=D7(Mte,VKt,1,0,5,1),t.dc())return e.f.a=0,void(e.f.b=0);for(zst(e,s=jV(t.Xb(0),37)),r=t.Kc();r.Ob();)i=jV(r.Pb(),37),this.of(i);for(g=new zk,o=zv(xR(wTt(s,(VGt(),bbe)))),l=new Wf(this.a);l.a<l.c.c.length;)u=xGt(a=jV(Q1(l),325),o),d8(kG(a.b),g.a,g.b),g.a+=u.a,g.b+=u.b;if(e.f.a=g.a-o,e.f.b=g.b-o,Vv(kR(wTt(s,xpe)))&&zI(wTt(s,Zpe))===zI((Eft(),KAe))){for(f=t.Kc();f.Ob();)QBt(h=jV(f.Pb(),37),h.c.a,h.c.b);for(BGt(n=new De,t,o),d=t.Kc();d.Ob();)UB(yM((h=jV(d.Pb(),37)).c),n.e);UB(yM(e.f),n.a)}for(c=new Wf(this.a);c.a<c.c.c.length;)f8(e,kG((a=jV(Q1(c),325)).b))},mG(KJt,"ComponentGroupGraphPlacer",765),fPt(1293,765,{},cy),EKt.of=function(t){mht(this,t)},EKt.lf=function(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w;if(this.a.c=D7(Mte,VKt,1,0,5,1),e.a.c=D7(Mte,VKt,1,0,5,1),t.dc())return e.f.a=0,void(e.f.b=0);for(zst(e,s=jV(t.Xb(0),37)),r=t.Kc();r.Ob();)mht(this,jV(r.Pb(),37));for(w=new zk,b=new zk,p=new zk,g=new zk,o=zv(xR(wTt(s,(VGt(),bbe)))),l=new Wf(this.a);l.a<l.c.c.length;){if(a=jV(Q1(l),325),fP(jV(wTt(e,(cKt(),hCe)),103))){for(p.a=w.a,m=new uv(xG(yG(a.b).a).a.kc());m.b.Ob();)if(jV(iC(m.b.Pb()),21).Hc((vWt(),aIe))){p.a=b.a;break}}else if(gP(jV(wTt(e,hCe),103)))for(p.b=w.b,m=new uv(xG(yG(a.b).a).a.kc());m.b.Ob();)if(jV(iC(m.b.Pb()),21).Hc((vWt(),CIe))){p.b=b.b;break}if(u=xGt(jV(a,570),o),d8(kG(a.b),p.a,p.b),fP(jV(wTt(e,hCe),103))){for(b.a=p.a+u.a,g.a=i.Math.max(g.a,b.a),m=new uv(xG(yG(a.b).a).a.kc());m.b.Ob();)if(jV(iC(m.b.Pb()),21).Hc((vWt(),EIe))){w.a=p.a+u.a;break}b.b=p.b+u.b,p.b=b.b,g.b=i.Math.max(g.b,p.b)}else if(gP(jV(wTt(e,hCe),103))){for(b.b=p.b+u.b,g.b=i.Math.max(g.b,b.b),m=new uv(xG(yG(a.b).a).a.kc());m.b.Ob();)if(jV(iC(m.b.Pb()),21).Hc((vWt(),sIe))){w.b=p.b+u.b;break}b.a=p.a+u.a,p.a=b.a,g.a=i.Math.max(g.a,p.a)}}if(e.f.a=g.a-o,e.f.b=g.b-o,Vv(kR(wTt(s,xpe)))&&zI(wTt(s,Zpe))===zI((Eft(),KAe))){for(f=t.Kc();f.Ob();)QBt(h=jV(f.Pb(),37),h.c.a,h.c.b);for(BGt(n=new De,t,o),d=t.Kc();d.Ob();)UB(yM((h=jV(d.Pb(),37)).c),n.e);UB(yM(e.f),n.a)}for(c=new Wf(this.a);c.a<c.c.c.length;)f8(e,kG((a=jV(Q1(c),325)).b))},mG(KJt,"ComponentGroupModelOrderGraphPlacer",1293),fPt(423,22,{3:1,35:1,22:1,423:1},YC);var gae,pae,mae,bae=$nt(KJt,"ComponentOrderingStrategy",423,qte,y1,Tj);fPt(650,1,{},De),mG(KJt,"ComponentsCompactor",650),fPt(1468,12,YXt,m4),EKt.Fc=function(t){return Xkt(this,jV(t,140))},mG(KJt,"ComponentsCompactor/Hullpoints",1468),fPt(1465,1,{841:1},lwt),EKt.a=!1,mG(KJt,"ComponentsCompactor/InternalComponent",1465),fPt(1464,1,mYt,Yw),EKt.Jc=function(t){t4(this,t)},EKt.Kc=function(){return new Wf(this.a)},mG(KJt,"ComponentsCompactor/InternalConnectedComponents",1464),fPt(1467,1,{594:1},gMt),EKt.hf=function(){return null},EKt.jf=function(){return this.a},EKt.gf=function(){return sbt(this.d)},EKt.kf=function(){return this.b},mG(KJt,"ComponentsCompactor/InternalExternalExtension",1467),fPt(1466,1,{594:1},Qw),EKt.jf=function(){return this.a},EKt.gf=function(){return sbt(this.d)},EKt.hf=function(){return this.c},EKt.kf=function(){return this.b},mG(KJt,"ComponentsCompactor/InternalUnionExternalExtension",1466),fPt(1470,1,{},YLt),mG(KJt,"ComponentsCompactor/OuterSegments",1470),fPt(1469,1,{},Xw),mG(KJt,"ComponentsCompactor/Segments",1469),fPt(1264,1,{},hZ),mG(KJt,nJt,1264),fPt(1265,1,EZt,Ne),EKt.ue=function(t,e){return h0(jV(t,37),jV(e,37))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(KJt,"ComponentsProcessor/lambda$0$Type",1265),fPt(570,325,{325:1,570:1},p4),EKt.mf=function(t){return glt(this,t)},EKt.nf=function(t){return dNt(this,t)},mG(KJt,"ModelOrderComponentGroup",570),fPt(1291,2005,{},Le),EKt.lf=function(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k;if(1!=t.gc()){if(t.dc())return e.a.c=D7(Mte,VKt,1,0,5,1),e.f.a=0,void(e.f.b=0);if(zI(wTt(e,(VGt(),Cpe)))===zI(($ht(),dae))){for(l=t.Kc();l.Ob();){for(b=0,p=new Wf((a=jV(l.Pb(),37)).a);p.a<p.c.c.length;)g=jV(Q1(p),10),b+=jV(wTt(g,cbe),19).a;a.p=b}EX(),t.ad(new Re)}for(s=jV(t.Xb(0),37),e.a.c=D7(Mte,VKt,1,0,5,1),zst(e,s),f=0,v=0,u=t.Kc();u.Ob();)w=(a=jV(u.Pb(),37)).f,f=i.Math.max(f,w.a),v+=w.a*w.b;for(f=i.Math.max(f,i.Math.sqrt(v)*zv(xR(wTt(e,_pe)))),_=0,k=0,d=0,n=o=zv(xR(wTt(e,bbe))),c=t.Kc();c.Ob();)_+(w=(a=jV(c.Pb(),37)).f).a>f&&(_=0,k+=d+o,d=0),QBt(a,_+(m=a.c).a,k+m.b),yM(m),n=i.Math.max(n,_+w.a),d=i.Math.max(d,w.b),_+=w.a+o;if(e.f.a=n,e.f.b=k+d,Vv(kR(wTt(s,xpe)))){for(BGt(r=new De,t,o),h=t.Kc();h.Ob();)UB(yM(jV(h.Pb(),37).c),r.e);UB(yM(e.f),r.a)}f8(e,t)}else(y=jV(t.Xb(0),37))!=e&&(e.a.c=D7(Mte,VKt,1,0,5,1),PFt(e,y,0,0),zst(e,y),yX(e.d,y.d),e.f.a=y.f.a,e.f.b=y.f.b)},mG(KJt,"SimpleRowGraphPlacer",1291),fPt(1292,1,EZt,Re),EKt.ue=function(t,e){return Ust(jV(t,37),jV(e,37))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(KJt,"SimpleRowGraphPlacer/1",1292),fPt(1262,1,zZt,Be),EKt.Lb=function(t){var e;return!!(e=jV(wTt(jV(t,243).b,(VGt(),mme)),74))&&0!=e.b},EKt.Fb=function(t){return this===t},EKt.Mb=function(t){var e;return!!(e=jV(wTt(jV(t,243).b,(VGt(),mme)),74))&&0!=e.b},mG(QJt,"CompoundGraphPostprocessor/1",1262),fPt(1261,1,JJt,ty),EKt.pf=function(t,e){wwt(this,jV(t,37),e)},mG(QJt,"CompoundGraphPreprocessor",1261),fPt(441,1,{441:1},Uht),EKt.c=!1,mG(QJt,"CompoundGraphPreprocessor/ExternalPort",441),fPt(243,1,{243:1},Pj),EKt.Ib=function(){return fL(this.c)+":"+IIt(this.b)},mG(QJt,"CrossHierarchyEdge",243),fPt(763,1,EZt,Bg),EKt.ue=function(t,e){return Kvt(this,jV(t,243),jV(e,243))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(QJt,"CrossHierarchyEdgeComparator",763),fPt(299,134,{3:1,299:1,94:1,134:1}),EKt.p=0,mG(t1t,"LGraphElement",299),fPt(17,299,{3:1,17:1,299:1,94:1,134:1},dZ),EKt.Ib=function(){return IIt(this)};var wae=mG(t1t,"LEdge",17);fPt(37,299,{3:1,20:1,37:1,299:1,94:1,134:1},wit),EKt.Jc=function(t){t4(this,t)},EKt.Kc=function(){return new Wf(this.b)},EKt.Ib=function(){return 0==this.b.c.length?"G-unlayered"+OTt(this.a):0==this.a.c.length?"G-layered"+OTt(this.b):"G[layerless"+OTt(this.a)+", layers"+OTt(this.b)+"]"};var yae,vae=mG(t1t,"LGraph",37);fPt(657,1,{}),EKt.qf=function(){return this.e.n},EKt.We=function(t){return wTt(this.e,t)},EKt.rf=function(){return this.e.o},EKt.sf=function(){return this.e.p},EKt.Xe=function(t){return PL(this.e,t)},EKt.tf=function(t){this.e.n.a=t.a,this.e.n.b=t.b},EKt.uf=function(t){this.e.o.a=t.a,this.e.o.b=t.b},EKt.vf=function(t){this.e.p=t},mG(t1t,"LGraphAdapters/AbstractLShapeAdapter",657),fPt(577,1,{839:1},Fg),EKt.wf=function(){var t,e;if(!this.b)for(this.b=aL(this.a.b.c.length),e=new Wf(this.a.b);e.a<e.c.c.length;)t=jV(Q1(e),70),WV(this.b,new jg(t));return this.b},EKt.b=null,mG(t1t,"LGraphAdapters/LEdgeAdapter",577),fPt(656,1,{},$Y),EKt.xf=function(){var t,e,n,i,r;if(!this.b)for(this.b=new Ob,n=new Wf(this.a.b);n.a<n.c.c.length;)for(r=new Wf(jV(Q1(n),29).a);r.a<r.c.c.length;)if(i=jV(Q1(r),10),this.c.Mb(i)&&(WV(this.b,new Bj(this,i,this.e)),this.d)){if(PL(i,(lKt(),Rde)))for(e=jV(wTt(i,Rde),15).Kc();e.Ob();)t=jV(e.Pb(),10),WV(this.b,new Bj(this,t,!1));if(PL(i,Nhe))for(e=jV(wTt(i,Nhe),15).Kc();e.Ob();)t=jV(e.Pb(),10),WV(this.b,new Bj(this,t,!1))}return this.b},EKt.qf=function(){throw $b(new Jv(n1t))},EKt.We=function(t){return wTt(this.a,t)},EKt.rf=function(){return this.a.f},EKt.sf=function(){return this.a.p},EKt.Xe=function(t){return PL(this.a,t)},EKt.tf=function(t){throw $b(new Jv(n1t))},EKt.uf=function(t){this.a.f.a=t.a,this.a.f.b=t.b},EKt.vf=function(t){this.a.p=t},EKt.b=null,EKt.d=!1,EKt.e=!1,mG(t1t,"LGraphAdapters/LGraphAdapter",656),fPt(576,657,{181:1},jg),mG(t1t,"LGraphAdapters/LLabelAdapter",576),fPt(575,657,{680:1},Bj),EKt.yf=function(){return this.b},EKt.zf=function(){return EX(),EX(),cne},EKt.wf=function(){var t,e;if(!this.a)for(this.a=aL(jV(this.e,10).b.c.length),e=new Wf(jV(this.e,10).b);e.a<e.c.c.length;)t=jV(Q1(e),70),WV(this.a,new jg(t));return this.a},EKt.Af=function(){var t;return new $B((t=jV(this.e,10).d).d,t.c,t.a,t.b)},EKt.Bf=function(){return EX(),EX(),cne},EKt.Cf=function(){var t,e;if(!this.c)for(this.c=aL(jV(this.e,10).j.c.length),e=new Wf(jV(this.e,10).j);e.a<e.c.c.length;)t=jV(Q1(e),11),WV(this.c,new gA(t,this.d));return this.c},EKt.Df=function(){return Vv(kR(wTt(jV(this.e,10),(lKt(),Bhe))))},EKt.Ef=function(t){jV(this.e,10).d.b=t.b,jV(this.e,10).d.d=t.d,jV(this.e,10).d.c=t.c,jV(this.e,10).d.a=t.a},EKt.Ff=function(t){jV(this.e,10).f.b=t.b,jV(this.e,10).f.d=t.d,jV(this.e,10).f.c=t.c,jV(this.e,10).f.a=t.a},EKt.Gf=function(){Det(this,(gT(),yae))},EKt.a=null,EKt.b=null,EKt.c=null,EKt.d=!1,mG(t1t,"LGraphAdapters/LNodeAdapter",575),fPt(1722,657,{838:1},gA),EKt.zf=function(){var t,e,n,i;if(this.d&&jV(this.e,11).i.k==(sCt(),Aae))return EX(),EX(),cne;if(!this.a){for(this.a=new Ob,n=new Wf(jV(this.e,11).e);n.a<n.c.c.length;)t=jV(Q1(n),17),WV(this.a,new Fg(t));if(this.d&&(i=jV(wTt(jV(this.e,11),(lKt(),_de)),10)))for(e=new sq(ZD(uft(i).a.Kc(),new u));gPt(e);)t=jV(U4(e),17),WV(this.a,new Fg(t))}return this.a},EKt.wf=function(){var t,e;if(!this.b)for(this.b=aL(jV(this.e,11).f.c.length),e=new Wf(jV(this.e,11).f);e.a<e.c.c.length;)t=jV(Q1(e),70),WV(this.b,new jg(t));return this.b},EKt.Bf=function(){var t,e,n,i;if(this.d&&jV(this.e,11).i.k==(sCt(),Aae))return EX(),EX(),cne;if(!this.c){for(this.c=new Ob,n=new Wf(jV(this.e,11).g);n.a<n.c.c.length;)t=jV(Q1(n),17),WV(this.c,new Fg(t));if(this.d&&(i=jV(wTt(jV(this.e,11),(lKt(),_de)),10)))for(e=new sq(ZD(hft(i).a.Kc(),new u));gPt(e);)t=jV(U4(e),17),WV(this.c,new Fg(t))}return this.c},EKt.Hf=function(){return jV(this.e,11).j},EKt.If=function(){return Vv(kR(wTt(jV(this.e,11),(lKt(),tde))))},EKt.a=null,EKt.b=null,EKt.c=null,EKt.d=!1,mG(t1t,"LGraphAdapters/LPortAdapter",1722),fPt(1723,1,EZt,Fe),EKt.ue=function(t,e){return GRt(jV(t,11),jV(e,11))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(t1t,"LGraphAdapters/PortComparator",1723),fPt(804,1,LYt,je),EKt.Mb=function(t){return jV(t,10),gT(),!0},mG(t1t,"LGraphAdapters/lambda$0$Type",804),fPt(392,299,{3:1,299:1,392:1,94:1,134:1}),mG(t1t,"LShape",392),fPt(70,392,{3:1,299:1,70:1,392:1,94:1,134:1},Vk,SO),EKt.Ib=function(){var t;return null==(t=Yz(this))?"label":"l_"+t},mG(t1t,"LLabel",70),fPt(207,1,{3:1,4:1,207:1,414:1}),EKt.Fb=function(t){var e;return!!iD(t,207)&&(e=jV(t,207),this.d==e.d&&this.a==e.a&&this.b==e.b&&this.c==e.c)},EKt.Hb=function(){var t,e;return t=GM(this.b)<<16,t|=GM(this.a)&YYt,e=GM(this.c)<<16,t^(e|=GM(this.d)&YYt)},EKt.Jf=function(t){var e,n,i,r,o,s,a,c,l;for(r=0;r<t.length&&Lut((h1(r,t.length),t.charCodeAt(r)),a1t);)++r;for(e=t.length;e>0&&Lut((h1(e-1,t.length),t.charCodeAt(e-1)),c1t);)--e;if(r<e){c=vFt(t.substr(r,e-r),",|;");try{for(s=0,a=(o=c).length;s<a;++s){if(2!=(i=vFt(o[s],"=")).length)throw $b(new Bv("Expecting a list of key-value pairs."));n=RTt(i[0]),l=dCt(RTt(i[1])),bF(n,"top")?this.d=l:bF(n,"left")?this.b=l:bF(n,"bottom")?this.a=l:bF(n,"right")&&(this.c=l)}}catch(t){throw iD(t=hat(t),127)?$b(new Bv(l1t+t)):$b(t)}}},EKt.Ib=function(){return"[top="+this.d+",left="+this.b+",bottom="+this.a+",right="+this.c+"]"},EKt.a=0,EKt.b=0,EKt.c=0,EKt.d=0,mG(u1t,"Spacing",207),fPt(142,207,h1t,uy,uP,$B,Ij);var _ae=mG(u1t,"ElkMargin",142);fPt(651,142,h1t,ly),mG(t1t,"LMargin",651),fPt(10,392,{3:1,299:1,10:1,392:1,94:1,134:1},Pwt),EKt.Ib=function(){return Pbt(this)},EKt.i=!1;var kae,xae,Eae,Tae,Cae,Aae,Sae=mG(t1t,"LNode",10);fPt(267,22,{3:1,35:1,22:1,267:1},XC);var Iae,Mae=$nt(t1t,"LNode/NodeType",267,qte,o8,Aj);fPt(116,207,d1t,hy,WP,Sj);var Pae,Oae,Dae,Nae,Lae,Rae,Bae=mG(u1t,"ElkPadding",116);fPt(764,116,d1t,dy),mG(t1t,"LPadding",764),fPt(11,392,{3:1,299:1,11:1,392:1,94:1,134:1},ACt),EKt.Ib=function(){var t,e,n;return sM(((t=new C_).a+="p_",t),mvt(this)),this.i&&sM(oM((t.a+="[",t),this.i),"]"),1==this.e.c.length&&0==this.g.c.length&&jV(DH(this.e,0),17).c!=this&&(e=jV(DH(this.e,0),17).c,sM((t.a+=" << ",t),mvt(e)),sM(oM((t.a+="[",t),e.i),"]")),0==this.e.c.length&&1==this.g.c.length&&jV(DH(this.g,0),17).d!=this&&(n=jV(DH(this.g,0),17).d,sM((t.a+=" >> ",t),mvt(n)),sM(oM((t.a+="[",t),n.i),"]")),t.a},EKt.c=!0,EKt.d=!1;var Fae,jae,$ae,Vae,zae=mG(t1t,"LPort",11);fPt(397,1,mYt,$g),EKt.Jc=function(t){t4(this,t)},EKt.Kc=function(){return new Vg(new Wf(this.a.e))},mG(t1t,"LPort/1",397),fPt(1290,1,YKt,Vg),EKt.Nb=function(t){lW(this,t)},EKt.Pb=function(){return jV(Q1(this.a),17).c},EKt.Ob=function(){return wO(this.a)},EKt.Qb=function(){IW(this.a)},mG(t1t,"LPort/1/1",1290),fPt(359,1,mYt,zg),EKt.Jc=function(t){t4(this,t)},EKt.Kc=function(){return new Hg(new Wf(this.a.g))},mG(t1t,"LPort/2",359),fPt(762,1,YKt,Hg),EKt.Nb=function(t){lW(this,t)},EKt.Pb=function(){return jV(Q1(this.a),17).d},EKt.Ob=function(){return wO(this.a)},EKt.Qb=function(){IW(this.a)},mG(t1t,"LPort/2/1",762),fPt(1283,1,mYt,cA),EKt.Jc=function(t){t4(this,t)},EKt.Kc=function(){return new b6(this)},mG(t1t,"LPort/CombineIter",1283),fPt(201,1,YKt,b6),EKt.Nb=function(t){lW(this,t)},EKt.Qb=function(){ox()},EKt.Ob=function(){return HN(this)},EKt.Pb=function(){return wO(this.a)?Q1(this.a):Q1(this.b)},mG(t1t,"LPort/CombineIter/1",201),fPt(1285,1,zZt,$e),EKt.Lb=function(t){return Iq(t)},EKt.Fb=function(t){return this===t},EKt.Mb=function(t){return pot(),0!=jV(t,11).e.c.length},mG(t1t,"LPort/lambda$0$Type",1285),fPt(1284,1,zZt,Ve),EKt.Lb=function(t){return Mq(t)},EKt.Fb=function(t){return this===t},EKt.Mb=function(t){return pot(),0!=jV(t,11).g.c.length},mG(t1t,"LPort/lambda$1$Type",1284),fPt(1286,1,zZt,ze),EKt.Lb=function(t){return pot(),jV(t,11).j==(vWt(),aIe)},EKt.Fb=function(t){return this===t},EKt.Mb=function(t){return pot(),jV(t,11).j==(vWt(),aIe)},mG(t1t,"LPort/lambda$2$Type",1286),fPt(1287,1,zZt,He),EKt.Lb=function(t){return pot(),jV(t,11).j==(vWt(),sIe)},EKt.Fb=function(t){return this===t},EKt.Mb=function(t){return pot(),jV(t,11).j==(vWt(),sIe)},mG(t1t,"LPort/lambda$3$Type",1287),fPt(1288,1,zZt,Ue),EKt.Lb=function(t){return pot(),jV(t,11).j==(vWt(),EIe)},EKt.Fb=function(t){return this===t},EKt.Mb=function(t){return pot(),jV(t,11).j==(vWt(),EIe)},mG(t1t,"LPort/lambda$4$Type",1288),fPt(1289,1,zZt,qe),EKt.Lb=function(t){return pot(),jV(t,11).j==(vWt(),CIe)},EKt.Fb=function(t){return this===t},EKt.Mb=function(t){return pot(),jV(t,11).j==(vWt(),CIe)},mG(t1t,"LPort/lambda$5$Type",1289),fPt(29,299,{3:1,20:1,299:1,29:1,94:1,134:1},$G),EKt.Jc=function(t){t4(this,t)},EKt.Kc=function(){return new Wf(this.a)},EKt.Ib=function(){return"L_"+_9(this.b.b,this,0)+OTt(this.a)},mG(t1t,"Layer",29),fPt(1342,1,{},Jw),mG(g1t,p1t,1342),fPt(1346,1,{},We),EKt.Kb=function(t){return CEt(jV(t,82))},mG(g1t,"ElkGraphImporter/0methodref$connectableShapeToNode$Type",1346),fPt(1349,1,{},Ge),EKt.Kb=function(t){return CEt(jV(t,82))},mG(g1t,"ElkGraphImporter/1methodref$connectableShapeToNode$Type",1349),fPt(1343,1,hYt,Ug),EKt.td=function(t){CMt(this.a,jV(t,118))},mG(g1t,m1t,1343),fPt(1344,1,hYt,qg),EKt.td=function(t){CMt(this.a,jV(t,118))},mG(g1t,b1t,1344),fPt(1345,1,{},Ke),EKt.Kb=function(t){return new LH(null,new d1(pY(jV(t,79)),16))},mG(g1t,w1t,1345),fPt(1347,1,LYt,Wg),EKt.Mb=function(t){return BP(this.a,jV(t,33))},mG(g1t,y1t,1347),fPt(1348,1,{},Ye),EKt.Kb=function(t){return new LH(null,new d1(mY(jV(t,79)),16))},mG(g1t,"ElkGraphImporter/lambda$5$Type",1348),fPt(1350,1,LYt,Gg),EKt.Mb=function(t){return FP(this.a,jV(t,33))},mG(g1t,"ElkGraphImporter/lambda$7$Type",1350),fPt(1351,1,LYt,Xe),EKt.Mb=function(t){return IX(jV(t,79))},mG(g1t,"ElkGraphImporter/lambda$8$Type",1351),fPt(1278,1,{},Ku),mG(g1t,"ElkGraphLayoutTransferrer",1278),fPt(1279,1,LYt,Kg),EKt.Mb=function(t){return XB(this.a,jV(t,17))},mG(g1t,"ElkGraphLayoutTransferrer/lambda$0$Type",1279),fPt(1280,1,hYt,Yg),EKt.td=function(t){bT(),WV(this.a,jV(t,17))},mG(g1t,"ElkGraphLayoutTransferrer/lambda$1$Type",1280),fPt(1281,1,LYt,Xg),EKt.Mb=function(t){return UR(this.a,jV(t,17))},mG(g1t,"ElkGraphLayoutTransferrer/lambda$2$Type",1281),fPt(1282,1,hYt,Zg),EKt.td=function(t){bT(),WV(this.a,jV(t,17))},mG(g1t,"ElkGraphLayoutTransferrer/lambda$3$Type",1282),fPt(1485,1,JJt,Ze),EKt.pf=function(t,e){Krt(jV(t,37),e)},mG(_1t,"CommentNodeMarginCalculator",1485),fPt(1486,1,{},Qe),EKt.Kb=function(t){return new LH(null,new d1(jV(t,29).a,16))},mG(_1t,"CommentNodeMarginCalculator/lambda$0$Type",1486),fPt(1487,1,hYt,Je),EKt.td=function(t){tzt(jV(t,10))},mG(_1t,"CommentNodeMarginCalculator/lambda$1$Type",1487),fPt(1488,1,JJt,tn),EKt.pf=function(t,e){oRt(jV(t,37),e)},mG(_1t,"CommentPostprocessor",1488),fPt(1489,1,JJt,en),EKt.pf=function(t,e){sWt(jV(t,37),e)},mG(_1t,"CommentPreprocessor",1489),fPt(1490,1,JJt,nn),EKt.pf=function(t,e){_Dt(jV(t,37),e)},mG(_1t,"ConstraintsPostprocessor",1490),fPt(1491,1,JJt,rn),EKt.pf=function(t,e){rst(jV(t,37),e)},mG(_1t,"EdgeAndLayerConstraintEdgeReverser",1491),fPt(1492,1,JJt,on),EKt.pf=function(t,e){Hgt(jV(t,37),e)},mG(_1t,"EndLabelPostprocessor",1492),fPt(1493,1,{},sn),EKt.Kb=function(t){return new LH(null,new d1(jV(t,29).a,16))},mG(_1t,"EndLabelPostprocessor/lambda$0$Type",1493),fPt(1494,1,LYt,an),EKt.Mb=function(t){return xZ(jV(t,10))},mG(_1t,"EndLabelPostprocessor/lambda$1$Type",1494),fPt(1495,1,hYt,cn),EKt.td=function(t){ekt(jV(t,10))},mG(_1t,"EndLabelPostprocessor/lambda$2$Type",1495),fPt(1496,1,JJt,ln),EKt.pf=function(t,e){QAt(jV(t,37),e)},mG(_1t,"EndLabelPreprocessor",1496),fPt(1497,1,{},un),EKt.Kb=function(t){return new LH(null,new d1(jV(t,29).a,16))},mG(_1t,"EndLabelPreprocessor/lambda$0$Type",1497),fPt(1498,1,hYt,Nj),EKt.td=function(t){RT(this.a,this.b,this.c,jV(t,10))},EKt.a=0,EKt.b=0,EKt.c=!1,mG(_1t,"EndLabelPreprocessor/lambda$1$Type",1498),fPt(1499,1,LYt,hn),EKt.Mb=function(t){return zI(wTt(jV(t,70),(VGt(),Ype)))===zI((Ret(),qAe))},mG(_1t,"EndLabelPreprocessor/lambda$2$Type",1499),fPt(1500,1,hYt,Qg),EKt.td=function(t){Nz(this.a,jV(t,70))},mG(_1t,"EndLabelPreprocessor/lambda$3$Type",1500),fPt(1501,1,LYt,dn),EKt.Mb=function(t){return zI(wTt(jV(t,70),(VGt(),Ype)))===zI((Ret(),UAe))},mG(_1t,"EndLabelPreprocessor/lambda$4$Type",1501),fPt(1502,1,hYt,Jg),EKt.td=function(t){Nz(this.a,jV(t,70))},mG(_1t,"EndLabelPreprocessor/lambda$5$Type",1502),fPt(1551,1,JJt,Gu),EKt.pf=function(t,e){Adt(jV(t,37),e)},mG(_1t,"EndLabelSorter",1551),fPt(1552,1,EZt,fn),EKt.ue=function(t,e){return Vmt(jV(t,456),jV(e,456))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(_1t,"EndLabelSorter/1",1552),fPt(456,1,{456:1},kX),mG(_1t,"EndLabelSorter/LabelGroup",456),fPt(1553,1,{},gn),EKt.Kb=function(t){return _T(),new LH(null,new d1(jV(t,29).a,16))},mG(_1t,"EndLabelSorter/lambda$0$Type",1553),fPt(1554,1,LYt,pn),EKt.Mb=function(t){return _T(),jV(t,10).k==(sCt(),Cae)},mG(_1t,"EndLabelSorter/lambda$1$Type",1554),fPt(1555,1,hYt,mn),EKt.td=function(t){aCt(jV(t,10))},mG(_1t,"EndLabelSorter/lambda$2$Type",1555),fPt(1556,1,LYt,bn),EKt.Mb=function(t){return _T(),zI(wTt(jV(t,70),(VGt(),Ype)))===zI((Ret(),UAe))},mG(_1t,"EndLabelSorter/lambda$3$Type",1556),fPt(1557,1,LYt,wn),EKt.Mb=function(t){return _T(),zI(wTt(jV(t,70),(VGt(),Ype)))===zI((Ret(),qAe))},mG(_1t,"EndLabelSorter/lambda$4$Type",1557),fPt(1503,1,JJt,yn),EKt.pf=function(t,e){Szt(this,jV(t,37))},EKt.b=0,EKt.c=0,mG(_1t,"FinalSplineBendpointsCalculator",1503),fPt(1504,1,{},vn),EKt.Kb=function(t){return new LH(null,new d1(jV(t,29).a,16))},mG(_1t,"FinalSplineBendpointsCalculator/lambda$0$Type",1504),fPt(1505,1,{},_n),EKt.Kb=function(t){return new LH(null,new HW(new sq(ZD(hft(jV(t,10)).a.Kc(),new u))))},mG(_1t,"FinalSplineBendpointsCalculator/lambda$1$Type",1505),fPt(1506,1,LYt,kn),EKt.Mb=function(t){return!h4(jV(t,17))},mG(_1t,"FinalSplineBendpointsCalculator/lambda$2$Type",1506),fPt(1507,1,LYt,xn),EKt.Mb=function(t){return PL(jV(t,17),(lKt(),Ode))},mG(_1t,"FinalSplineBendpointsCalculator/lambda$3$Type",1507),fPt(1508,1,hYt,tp),EKt.td=function(t){UFt(this.a,jV(t,128))},mG(_1t,"FinalSplineBendpointsCalculator/lambda$4$Type",1508),fPt(1509,1,hYt,En),EKt.td=function(t){ZAt(jV(t,17).a)},mG(_1t,"FinalSplineBendpointsCalculator/lambda$5$Type",1509),fPt(792,1,JJt,ep),EKt.pf=function(t,e){KHt(this,jV(t,37),e)},mG(_1t,"GraphTransformer",792),fPt(511,22,{3:1,35:1,22:1,511:1},ZC);var Hae,Uae,qae,Wae=$nt(_1t,"GraphTransformer/Mode",511,qte,oQ,J$);fPt(1510,1,JJt,Tn),EKt.pf=function(t,e){eLt(jV(t,37),e)},mG(_1t,"HierarchicalNodeResizingProcessor",1510),fPt(1511,1,JJt,Cn),EKt.pf=function(t,e){hrt(jV(t,37),e)},mG(_1t,"HierarchicalPortConstraintProcessor",1511),fPt(1512,1,EZt,An),EKt.ue=function(t,e){return Sbt(jV(t,10),jV(e,10))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(_1t,"HierarchicalPortConstraintProcessor/NodeComparator",1512),fPt(1513,1,JJt,Sn),EKt.pf=function(t,e){_Vt(jV(t,37),e)},mG(_1t,"HierarchicalPortDummySizeProcessor",1513),fPt(1514,1,JJt,In),EKt.pf=function(t,e){ZRt(this,jV(t,37),e)},EKt.a=0,mG(_1t,"HierarchicalPortOrthogonalEdgeRouter",1514),fPt(1515,1,EZt,Mn),EKt.ue=function(t,e){return BN(jV(t,10),jV(e,10))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(_1t,"HierarchicalPortOrthogonalEdgeRouter/1",1515),fPt(1516,1,EZt,Pn),EKt.ue=function(t,e){return T8(jV(t,10),jV(e,10))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(_1t,"HierarchicalPortOrthogonalEdgeRouter/2",1516),fPt(1517,1,JJt,On),EKt.pf=function(t,e){kTt(jV(t,37),e)},mG(_1t,"HierarchicalPortPositionProcessor",1517),fPt(1518,1,JJt,Yu),EKt.pf=function(t,e){iGt(this,jV(t,37))},EKt.a=0,EKt.c=0,mG(_1t,"HighDegreeNodeLayeringProcessor",1518),fPt(571,1,{571:1},Dn),EKt.b=-1,EKt.d=-1,mG(_1t,"HighDegreeNodeLayeringProcessor/HighDegreeNodeInformation",571),fPt(1519,1,{},Nn),EKt.Kb=function(t){return Vj(),uft(jV(t,10))},EKt.Fb=function(t){return this===t},mG(_1t,"HighDegreeNodeLayeringProcessor/lambda$0$Type",1519),fPt(1520,1,{},Ln),EKt.Kb=function(t){return Vj(),hft(jV(t,10))},EKt.Fb=function(t){return this===t},mG(_1t,"HighDegreeNodeLayeringProcessor/lambda$1$Type",1520),fPt(1526,1,JJt,Rn),EKt.pf=function(t,e){g$t(this,jV(t,37),e)},mG(_1t,"HyperedgeDummyMerger",1526),fPt(793,1,{},Lj),EKt.a=!1,EKt.b=!1,EKt.c=!1,mG(_1t,"HyperedgeDummyMerger/MergeState",793),fPt(1527,1,{},Bn),EKt.Kb=function(t){return new LH(null,new d1(jV(t,29).a,16))},mG(_1t,"HyperedgeDummyMerger/lambda$0$Type",1527),fPt(1528,1,{},Fn),EKt.Kb=function(t){return new LH(null,new d1(jV(t,10).j,16))},mG(_1t,"HyperedgeDummyMerger/lambda$1$Type",1528),fPt(1529,1,hYt,jn),EKt.td=function(t){jV(t,11).p=-1},mG(_1t,"HyperedgeDummyMerger/lambda$2$Type",1529),fPt(1530,1,JJt,$n),EKt.pf=function(t,e){d$t(jV(t,37),e)},mG(_1t,"HypernodesProcessor",1530),fPt(1531,1,JJt,Vn),EKt.pf=function(t,e){f$t(jV(t,37),e)},mG(_1t,"InLayerConstraintProcessor",1531),fPt(1532,1,JJt,zn),EKt.pf=function(t,e){Oot(jV(t,37),e)},mG(_1t,"InnermostNodeMarginCalculator",1532),fPt(1533,1,JJt,Hn),EKt.pf=function(t,e){Kqt(this,jV(t,37))},EKt.a=BXt,EKt.b=BXt,EKt.c=RXt,EKt.d=RXt;var Gae,Kae,Yae,Xae,Zae,Qae,Jae,tce,ece,nce,ice,rce,oce,sce,ace,cce,lce,uce,hce,dce,fce,gce,pce,mce,bce,wce,yce,vce,_ce,kce,xce,Ece,Tce,Cce,Ace,Sce,Ice,Mce,Pce,Oce,Dce,Nce,Lce,Rce,Bce,Fce,jce,$ce,Vce,zce,Hce,Uce,qce,Wce,Gce,Kce,Yce,Xce=mG(_1t,"InteractiveExternalPortPositioner",1533);fPt(1534,1,{},Un),EKt.Kb=function(t){return jV(t,17).d.i},EKt.Fb=function(t){return this===t},mG(_1t,"InteractiveExternalPortPositioner/lambda$0$Type",1534),fPt(1535,1,{},np),EKt.Kb=function(t){return VN(this.a,xR(t))},EKt.Fb=function(t){return this===t},mG(_1t,"InteractiveExternalPortPositioner/lambda$1$Type",1535),fPt(1536,1,{},qn),EKt.Kb=function(t){return jV(t,17).c.i},EKt.Fb=function(t){return this===t},mG(_1t,"InteractiveExternalPortPositioner/lambda$2$Type",1536),fPt(1537,1,{},ip),EKt.Kb=function(t){return zN(this.a,xR(t))},EKt.Fb=function(t){return this===t},mG(_1t,"InteractiveExternalPortPositioner/lambda$3$Type",1537),fPt(1538,1,{},rp),EKt.Kb=function(t){return WB(this.a,xR(t))},EKt.Fb=function(t){return this===t},mG(_1t,"InteractiveExternalPortPositioner/lambda$4$Type",1538),fPt(1539,1,{},op),EKt.Kb=function(t){return GB(this.a,xR(t))},EKt.Fb=function(t){return this===t},mG(_1t,"InteractiveExternalPortPositioner/lambda$5$Type",1539),fPt(77,22,{3:1,35:1,22:1,77:1,234:1},QC),EKt.Kf=function(){switch(this.g){case 15:return new mo;case 22:return new bo;case 47:return new vo;case 28:case 35:return new ni;case 32:return new Ze;case 42:return new tn;case 1:return new en;case 41:return new nn;case 56:return new ep((Trt(),Vae));case 0:return new ep((Trt(),$ae));case 2:return new rn;case 54:return new on;case 33:return new ln;case 51:return new yn;case 55:return new Tn;case 13:return new Cn;case 38:return new Sn;case 44:return new In;case 40:return new On;case 9:return new Yu;case 49:return new sL;case 37:return new Rn;case 43:return new $n;case 27:return new Vn;case 30:return new zn;case 3:return new Hn;case 18:return new Gn;case 29:return new Kn;case 5:return new Xu;case 50:return new Wn;case 34:return new Zu;case 36:return new ii;case 52:return new Gu;case 11:return new oi;case 7:return new Ju;case 39:return new si;case 45:return new ai;case 16:return new ci;case 10:return new li;case 48:return new hi;case 21:return new di;case 23:return new Ov((ait(),Iye));case 8:return new gi;case 12:return new mi;case 4:return new bi;case 19:return new ih;case 17:return new Ai;case 53:return new Si;case 6:return new Vi;case 25:return new ry;case 46:return new Ni;case 31:return new DB;case 14:return new Yi;case 26:return new Ao;case 20:return new tr;case 24:return new Ov((ait(),Mye));default:throw $b(new Bv(E1t+(null!=this.f?this.f:""+this.g)))}};var Zce,Qce,Jce,tle,ele,nle,ile,rle,ole=$nt(_1t,T1t,77,qte,kNt,Q$);fPt(1540,1,JJt,Gn),EKt.pf=function(t,e){Zqt(jV(t,37),e)},mG(_1t,"InvertedPortProcessor",1540),fPt(1541,1,JJt,Kn),EKt.pf=function(t,e){OFt(jV(t,37),e)},mG(_1t,"LabelAndNodeSizeProcessor",1541),fPt(1542,1,LYt,Yn),EKt.Mb=function(t){return jV(t,10).k==(sCt(),Cae)},mG(_1t,"LabelAndNodeSizeProcessor/lambda$0$Type",1542),fPt(1543,1,LYt,Xn),EKt.Mb=function(t){return jV(t,10).k==(sCt(),xae)},mG(_1t,"LabelAndNodeSizeProcessor/lambda$1$Type",1543),fPt(1544,1,hYt,Rj),EKt.td=function(t){BT(this.b,this.a,this.c,jV(t,10))},EKt.a=!1,EKt.c=!1,mG(_1t,"LabelAndNodeSizeProcessor/lambda$2$Type",1544),fPt(1545,1,JJt,Xu),EKt.pf=function(t,e){uqt(jV(t,37),e)},mG(_1t,"LabelDummyInserter",1545),fPt(1546,1,zZt,Zn),EKt.Lb=function(t){return zI(wTt(jV(t,70),(VGt(),Ype)))===zI((Ret(),HAe))},EKt.Fb=function(t){return this===t},EKt.Mb=function(t){return zI(wTt(jV(t,70),(VGt(),Ype)))===zI((Ret(),HAe))},mG(_1t,"LabelDummyInserter/1",1546),fPt(1547,1,JJt,Wn),EKt.pf=function(t,e){CHt(jV(t,37),e)},mG(_1t,"LabelDummyRemover",1547),fPt(1548,1,LYt,Qn),EKt.Mb=function(t){return Vv(kR(wTt(jV(t,70),(VGt(),Kpe))))},mG(_1t,"LabelDummyRemover/lambda$0$Type",1548),fPt(1359,1,JJt,Zu),EKt.pf=function(t,e){xUt(this,jV(t,37),e)},EKt.a=null,mG(_1t,"LabelDummySwitcher",1359),fPt(286,1,{286:1},rFt),EKt.c=0,EKt.d=null,EKt.f=0,mG(_1t,"LabelDummySwitcher/LabelDummyInfo",286),fPt(1360,1,{},Jn),EKt.Kb=function(t){return Srt(),new LH(null,new d1(jV(t,29).a,16))},mG(_1t,"LabelDummySwitcher/lambda$0$Type",1360),fPt(1361,1,LYt,ti),EKt.Mb=function(t){return Srt(),jV(t,10).k==(sCt(),Eae)},mG(_1t,"LabelDummySwitcher/lambda$1$Type",1361),fPt(1362,1,{},cp),EKt.Kb=function(t){return qR(this.a,jV(t,10))},mG(_1t,"LabelDummySwitcher/lambda$2$Type",1362),fPt(1363,1,hYt,lp),EKt.td=function(t){YG(this.a,jV(t,286))},mG(_1t,"LabelDummySwitcher/lambda$3$Type",1363),fPt(1364,1,EZt,ei),EKt.ue=function(t,e){return Pq(jV(t,286),jV(e,286))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(_1t,"LabelDummySwitcher/lambda$4$Type",1364),fPt(791,1,JJt,ni),EKt.pf=function(t,e){Y6(jV(t,37),e)},mG(_1t,"LabelManagementProcessor",791),fPt(1549,1,JJt,ii),EKt.pf=function(t,e){DLt(jV(t,37),e)},mG(_1t,"LabelSideSelector",1549),fPt(1550,1,LYt,ri),EKt.Mb=function(t){return Vv(kR(wTt(jV(t,70),(VGt(),Kpe))))},mG(_1t,"LabelSideSelector/lambda$0$Type",1550),fPt(1558,1,JJt,oi),EKt.pf=function(t,e){kVt(jV(t,37),e)},mG(_1t,"LayerConstraintPostprocessor",1558),fPt(1559,1,JJt,Ju),EKt.pf=function(t,e){iOt(jV(t,37),e)},mG(_1t,"LayerConstraintPreprocessor",1559),fPt(360,22,{3:1,35:1,22:1,360:1},JC);var sle,ale,cle,lle,ule,hle,dle,fle,gle,ple=$nt(_1t,"LayerConstraintPreprocessor/HiddenNodeConnections",360,qte,t3,Hj);fPt(1560,1,JJt,si),EKt.pf=function(t,e){kHt(jV(t,37),e)},mG(_1t,"LayerSizeAndGraphHeightCalculator",1560),fPt(1561,1,JJt,ai),EKt.pf=function(t,e){MDt(jV(t,37),e)},mG(_1t,"LongEdgeJoiner",1561),fPt(1562,1,JJt,ci),EKt.pf=function(t,e){Gzt(jV(t,37),e)},mG(_1t,"LongEdgeSplitter",1562),fPt(1563,1,JJt,li),EKt.pf=function(t,e){CUt(this,jV(t,37),e)},EKt.d=0,EKt.e=0,EKt.i=0,EKt.j=0,EKt.k=0,EKt.n=0,mG(_1t,"NodePromotion",1563),fPt(1564,1,{},ui),EKt.Kb=function(t){return jV(t,46),cN(),!0},EKt.Fb=function(t){return this===t},mG(_1t,"NodePromotion/lambda$0$Type",1564),fPt(1565,1,{},sp),EKt.Kb=function(t){return rY(this.a,jV(t,46))},EKt.Fb=function(t){return this===t},EKt.a=0,mG(_1t,"NodePromotion/lambda$1$Type",1565),fPt(1566,1,{},ap),EKt.Kb=function(t){return oY(this.a,jV(t,46))},EKt.Fb=function(t){return this===t},EKt.a=0,mG(_1t,"NodePromotion/lambda$2$Type",1566),fPt(1567,1,JJt,hi),EKt.pf=function(t,e){WWt(jV(t,37),e)},mG(_1t,"NorthSouthPortPostprocessor",1567),fPt(1568,1,JJt,di),EKt.pf=function(t,e){EWt(jV(t,37),e)},mG(_1t,"NorthSouthPortPreprocessor",1568),fPt(1569,1,EZt,fi),EKt.ue=function(t,e){return Qst(jV(t,11),jV(e,11))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(_1t,"NorthSouthPortPreprocessor/lambda$0$Type",1569),fPt(1570,1,JJt,gi),EKt.pf=function(t,e){Pjt(jV(t,37),e)},mG(_1t,"PartitionMidprocessor",1570),fPt(1571,1,LYt,pi),EKt.Mb=function(t){return PL(jV(t,10),(VGt(),Wme))},mG(_1t,"PartitionMidprocessor/lambda$0$Type",1571),fPt(1572,1,hYt,up),EKt.td=function(t){MX(this.a,jV(t,10))},mG(_1t,"PartitionMidprocessor/lambda$1$Type",1572),fPt(1573,1,JJt,mi),EKt.pf=function(t,e){fNt(jV(t,37),e)},mG(_1t,"PartitionPostprocessor",1573),fPt(1574,1,JJt,bi),EKt.pf=function(t,e){DMt(jV(t,37),e)},mG(_1t,"PartitionPreprocessor",1574),fPt(1575,1,LYt,wi),EKt.Mb=function(t){return PL(jV(t,10),(VGt(),Wme))},mG(_1t,"PartitionPreprocessor/lambda$0$Type",1575),fPt(1576,1,{},yi),EKt.Kb=function(t){return new LH(null,new HW(new sq(ZD(hft(jV(t,10)).a.Kc(),new u))))},mG(_1t,"PartitionPreprocessor/lambda$1$Type",1576),fPt(1577,1,LYt,vi),EKt.Mb=function(t){return Omt(jV(t,17))},mG(_1t,"PartitionPreprocessor/lambda$2$Type",1577),fPt(1578,1,hYt,_i),EKt.td=function(t){Rat(jV(t,17))},mG(_1t,"PartitionPreprocessor/lambda$3$Type",1578),fPt(1579,1,JJt,ih),EKt.pf=function(t,e){sjt(jV(t,37),e)},mG(_1t,"PortListSorter",1579),fPt(1580,1,{},ki),EKt.Kb=function(t){return Ult(),jV(t,11).e},mG(_1t,"PortListSorter/lambda$0$Type",1580),fPt(1581,1,{},xi),EKt.Kb=function(t){return Ult(),jV(t,11).g},mG(_1t,"PortListSorter/lambda$1$Type",1581),fPt(1582,1,EZt,Ei),EKt.ue=function(t,e){return k5(jV(t,11),jV(e,11))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(_1t,"PortListSorter/lambda$2$Type",1582),fPt(1583,1,EZt,Ti),EKt.ue=function(t,e){return Ivt(jV(t,11),jV(e,11))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(_1t,"PortListSorter/lambda$3$Type",1583),fPt(1584,1,EZt,Ci),EKt.ue=function(t,e){return Jjt(jV(t,11),jV(e,11))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(_1t,"PortListSorter/lambda$4$Type",1584),fPt(1585,1,JJt,Ai),EKt.pf=function(t,e){GPt(jV(t,37),e)},mG(_1t,"PortSideProcessor",1585),fPt(1586,1,JJt,Si),EKt.pf=function(t,e){SBt(jV(t,37),e)},mG(_1t,"ReversedEdgeRestorer",1586),fPt(1591,1,JJt,ry),EKt.pf=function(t,e){Xyt(this,jV(t,37),e)},mG(_1t,"SelfLoopPortRestorer",1591),fPt(1592,1,{},Ii),EKt.Kb=function(t){return new LH(null,new d1(jV(t,29).a,16))},mG(_1t,"SelfLoopPortRestorer/lambda$0$Type",1592),fPt(1593,1,LYt,Mi),EKt.Mb=function(t){return jV(t,10).k==(sCt(),Cae)},mG(_1t,"SelfLoopPortRestorer/lambda$1$Type",1593),fPt(1594,1,LYt,Pi),EKt.Mb=function(t){return PL(jV(t,10),(lKt(),Sde))},mG(_1t,"SelfLoopPortRestorer/lambda$2$Type",1594),fPt(1595,1,{},Oi),EKt.Kb=function(t){return jV(wTt(jV(t,10),(lKt(),Sde)),403)},mG(_1t,"SelfLoopPortRestorer/lambda$3$Type",1595),fPt(1596,1,hYt,hp),EKt.td=function(t){TCt(this.a,jV(t,403))},mG(_1t,"SelfLoopPortRestorer/lambda$4$Type",1596),fPt(794,1,hYt,Di),EKt.td=function(t){JCt(jV(t,101))},mG(_1t,"SelfLoopPortRestorer/lambda$5$Type",794),fPt(1597,1,JJt,Ni),EKt.pf=function(t,e){Obt(jV(t,37),e)},mG(_1t,"SelfLoopPostProcessor",1597),fPt(1598,1,{},Li),EKt.Kb=function(t){return new LH(null,new d1(jV(t,29).a,16))},mG(_1t,"SelfLoopPostProcessor/lambda$0$Type",1598),fPt(1599,1,LYt,Ri),EKt.Mb=function(t){return jV(t,10).k==(sCt(),Cae)},mG(_1t,"SelfLoopPostProcessor/lambda$1$Type",1599),fPt(1600,1,LYt,Bi),EKt.Mb=function(t){return PL(jV(t,10),(lKt(),Sde))},mG(_1t,"SelfLoopPostProcessor/lambda$2$Type",1600),fPt(1601,1,hYt,Fi),EKt.td=function(t){Okt(jV(t,10))},mG(_1t,"SelfLoopPostProcessor/lambda$3$Type",1601),fPt(1602,1,{},ji),EKt.Kb=function(t){return new LH(null,new d1(jV(t,101).f,1))},mG(_1t,"SelfLoopPostProcessor/lambda$4$Type",1602),fPt(1603,1,hYt,dp),EKt.td=function(t){r3(this.a,jV(t,409))},mG(_1t,"SelfLoopPostProcessor/lambda$5$Type",1603),fPt(1604,1,LYt,$i),EKt.Mb=function(t){return!!jV(t,101).i},mG(_1t,"SelfLoopPostProcessor/lambda$6$Type",1604),fPt(1605,1,hYt,fp),EKt.td=function(t){kv(this.a,jV(t,101))},mG(_1t,"SelfLoopPostProcessor/lambda$7$Type",1605),fPt(1587,1,JJt,Vi),EKt.pf=function(t,e){QOt(jV(t,37),e)},mG(_1t,"SelfLoopPreProcessor",1587),fPt(1588,1,{},zi),EKt.Kb=function(t){return new LH(null,new d1(jV(t,101).f,1))},mG(_1t,"SelfLoopPreProcessor/lambda$0$Type",1588),fPt(1589,1,{},Hi),EKt.Kb=function(t){return jV(t,409).a},mG(_1t,"SelfLoopPreProcessor/lambda$1$Type",1589),fPt(1590,1,hYt,Ui),EKt.td=function(t){VO(jV(t,17))},mG(_1t,"SelfLoopPreProcessor/lambda$2$Type",1590),fPt(1606,1,JJt,DB),EKt.pf=function(t,e){cCt(this,jV(t,37),e)},mG(_1t,"SelfLoopRouter",1606),fPt(1607,1,{},qi),EKt.Kb=function(t){return new LH(null,new d1(jV(t,29).a,16))},mG(_1t,"SelfLoopRouter/lambda$0$Type",1607),fPt(1608,1,LYt,Wi),EKt.Mb=function(t){return jV(t,10).k==(sCt(),Cae)},mG(_1t,"SelfLoopRouter/lambda$1$Type",1608),fPt(1609,1,LYt,Gi),EKt.Mb=function(t){return PL(jV(t,10),(lKt(),Sde))},mG(_1t,"SelfLoopRouter/lambda$2$Type",1609),fPt(1610,1,{},Ki),EKt.Kb=function(t){return jV(wTt(jV(t,10),(lKt(),Sde)),403)},mG(_1t,"SelfLoopRouter/lambda$3$Type",1610),fPt(1611,1,hYt,tA),EKt.td=function(t){KY(this.a,this.b,jV(t,403))},mG(_1t,"SelfLoopRouter/lambda$4$Type",1611),fPt(1612,1,JJt,Yi),EKt.pf=function(t,e){uLt(jV(t,37),e)},mG(_1t,"SemiInteractiveCrossMinProcessor",1612),fPt(1613,1,LYt,Xi),EKt.Mb=function(t){return jV(t,10).k==(sCt(),Cae)},mG(_1t,"SemiInteractiveCrossMinProcessor/lambda$0$Type",1613),fPt(1614,1,LYt,Zi),EKt.Mb=function(t){return zH(jV(t,10))._b((VGt(),abe))},mG(_1t,"SemiInteractiveCrossMinProcessor/lambda$1$Type",1614),fPt(1615,1,EZt,Qi),EKt.ue=function(t,e){return grt(jV(t,10),jV(e,10))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(_1t,"SemiInteractiveCrossMinProcessor/lambda$2$Type",1615),fPt(1616,1,{},Ji),EKt.Ce=function(t,e){return qX(jV(t,10),jV(e,10))},mG(_1t,"SemiInteractiveCrossMinProcessor/lambda$3$Type",1616),fPt(1618,1,JJt,tr),EKt.pf=function(t,e){EVt(jV(t,37),e)},mG(_1t,"SortByInputModelProcessor",1618),fPt(1619,1,LYt,er),EKt.Mb=function(t){return 0!=jV(t,11).g.c.length},mG(_1t,"SortByInputModelProcessor/lambda$0$Type",1619),fPt(1620,1,hYt,gp),EKt.td=function(t){uAt(this.a,jV(t,11))},mG(_1t,"SortByInputModelProcessor/lambda$1$Type",1620),fPt(1693,803,{},prt),EKt.Me=function(t){var e,n,i,r;switch(this.c=t,this.a.g){case 2:e=new Ob,XE(IY(new LH(null,new d1(this.c.a.b,16)),new pr),new oA(this,e)),mSt(this,new rr),Iet(e,new or),e.c=D7(Mte,VKt,1,0,5,1),XE(IY(new LH(null,new d1(this.c.a.b,16)),new sr),new mp(e)),mSt(this,new ar),Iet(e,new cr),e.c=D7(Mte,VKt,1,0,5,1),n=vO(not(PY(new LH(null,new d1(this.c.a.b,16)),new bp(this))),new lr),XE(new LH(null,new d1(this.c.a.a,16)),new nA(n,e)),mSt(this,new hr),Iet(e,new nr),e.c=D7(Mte,VKt,1,0,5,1);break;case 3:i=new Ob,mSt(this,new ir),r=vO(not(PY(new LH(null,new d1(this.c.a.b,16)),new pp(this))),new ur),XE(IY(new LH(null,new d1(this.c.a.b,16)),new dr),new rA(r,i)),mSt(this,new fr),Iet(i,new gr),i.c=D7(Mte,VKt,1,0,5,1);break;default:throw $b(new yw)}},EKt.b=0,mG(M1t,"EdgeAwareScanlineConstraintCalculation",1693),fPt(1694,1,zZt,ir),EKt.Lb=function(t){return iD(jV(t,57).g,145)},EKt.Fb=function(t){return this===t},EKt.Mb=function(t){return iD(jV(t,57).g,145)},mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$0$Type",1694),fPt(1695,1,{},pp),EKt.Fe=function(t){return HSt(this.a,jV(t,57))},mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$1$Type",1695),fPt(1703,1,RYt,eA),EKt.Vd=function(){j_t(this.a,this.b,-1)},EKt.b=0,mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$10$Type",1703),fPt(1705,1,zZt,rr),EKt.Lb=function(t){return iD(jV(t,57).g,145)},EKt.Fb=function(t){return this===t},EKt.Mb=function(t){return iD(jV(t,57).g,145)},mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$11$Type",1705),fPt(1706,1,hYt,or),EKt.td=function(t){jV(t,365).Vd()},mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$12$Type",1706),fPt(1707,1,LYt,sr),EKt.Mb=function(t){return iD(jV(t,57).g,10)},mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$13$Type",1707),fPt(1709,1,hYt,mp),EKt.td=function(t){kft(this.a,jV(t,57))},mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$14$Type",1709),fPt(1708,1,RYt,uA),EKt.Vd=function(){j_t(this.b,this.a,-1)},EKt.a=0,mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$15$Type",1708),fPt(1710,1,zZt,ar),EKt.Lb=function(t){return iD(jV(t,57).g,10)},EKt.Fb=function(t){return this===t},EKt.Mb=function(t){return iD(jV(t,57).g,10)},mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$16$Type",1710),fPt(1711,1,hYt,cr),EKt.td=function(t){jV(t,365).Vd()},mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$17$Type",1711),fPt(1712,1,{},bp),EKt.Fe=function(t){return USt(this.a,jV(t,57))},mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$18$Type",1712),fPt(1713,1,{},lr),EKt.De=function(){return 0},mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$19$Type",1713),fPt(1696,1,{},ur),EKt.De=function(){return 0},mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$2$Type",1696),fPt(1715,1,hYt,nA),EKt.td=function(t){$U(this.a,this.b,jV(t,307))},EKt.a=0,mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$20$Type",1715),fPt(1714,1,RYt,iA),EKt.Vd=function(){KPt(this.a,this.b,-1)},EKt.b=0,mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$21$Type",1714),fPt(1716,1,zZt,hr),EKt.Lb=function(t){return jV(t,57),!0},EKt.Fb=function(t){return this===t},EKt.Mb=function(t){return jV(t,57),!0},mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$22$Type",1716),fPt(1717,1,hYt,nr),EKt.td=function(t){jV(t,365).Vd()},mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$23$Type",1717),fPt(1697,1,LYt,dr),EKt.Mb=function(t){return iD(jV(t,57).g,10)},mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$3$Type",1697),fPt(1699,1,hYt,rA),EKt.td=function(t){VU(this.a,this.b,jV(t,57))},EKt.a=0,mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$4$Type",1699),fPt(1698,1,RYt,hA),EKt.Vd=function(){j_t(this.b,this.a,-1)},EKt.a=0,mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$5$Type",1698),fPt(1700,1,zZt,fr),EKt.Lb=function(t){return jV(t,57),!0},EKt.Fb=function(t){return this===t},EKt.Mb=function(t){return jV(t,57),!0},mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$6$Type",1700),fPt(1701,1,hYt,gr),EKt.td=function(t){jV(t,365).Vd()},mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$7$Type",1701),fPt(1702,1,LYt,pr),EKt.Mb=function(t){return iD(jV(t,57).g,145)},mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$8$Type",1702),fPt(1704,1,hYt,oA),EKt.td=function(t){xet(this.a,this.b,jV(t,57))},mG(M1t,"EdgeAwareScanlineConstraintCalculation/lambda$9$Type",1704),fPt(1521,1,JJt,sL),EKt.pf=function(t,e){rHt(this,jV(t,37),e)},mG(M1t,"HorizontalGraphCompactor",1521),fPt(1522,1,{},wp),EKt.Oe=function(t,e){var n,i;return Z9(t,e)?0:(n=l2(t),i=l2(e),n&&n.k==(sCt(),xae)||i&&i.k==(sCt(),xae)?0:UN(jV(wTt(this.a.a,(lKt(),Ide)),304),n?n.k:(sCt(),Tae),i?i.k:(sCt(),Tae)))},EKt.Pe=function(t,e){var n,i;return Z9(t,e)?1:(n=l2(t),i=l2(e),qN(jV(wTt(this.a.a,(lKt(),Ide)),304),n?n.k:(sCt(),Tae),i?i.k:(sCt(),Tae)))},mG(M1t,"HorizontalGraphCompactor/1",1522),fPt(1523,1,{},mr),EKt.Ne=function(t,e){return xT(),0==t.a.i},mG(M1t,"HorizontalGraphCompactor/lambda$0$Type",1523),fPt(1524,1,{},yp),EKt.Ne=function(t,e){return BX(this.a,t,e)},mG(M1t,"HorizontalGraphCompactor/lambda$1$Type",1524),fPt(1664,1,{},A9),mG(M1t,"LGraphToCGraphTransformer",1664),fPt(1672,1,LYt,br),EKt.Mb=function(t){return null!=t},mG(M1t,"LGraphToCGraphTransformer/0methodref$nonNull$Type",1672),fPt(1665,1,{},wr),EKt.Kb=function(t){return zj(),$ft(wTt(jV(jV(t,57).g,10),(lKt(),fde)))},mG(M1t,"LGraphToCGraphTransformer/lambda$0$Type",1665),fPt(1666,1,{},yr),EKt.Kb=function(t){return zj(),wht(jV(jV(t,57).g,145))},mG(M1t,"LGraphToCGraphTransformer/lambda$1$Type",1666),fPt(1675,1,LYt,vr),EKt.Mb=function(t){return zj(),iD(jV(t,57).g,10)},mG(M1t,"LGraphToCGraphTransformer/lambda$10$Type",1675),fPt(1676,1,hYt,_r),EKt.td=function(t){RX(jV(t,57))},mG(M1t,"LGraphToCGraphTransformer/lambda$11$Type",1676),fPt(1677,1,LYt,kr),EKt.Mb=function(t){return zj(),iD(jV(t,57).g,145)},mG(M1t,"LGraphToCGraphTransformer/lambda$12$Type",1677),fPt(1681,1,hYt,xr),EKt.td=function(t){bht(jV(t,57))},mG(M1t,"LGraphToCGraphTransformer/lambda$13$Type",1681),fPt(1678,1,hYt,vp),EKt.td=function(t){oP(this.a,jV(t,8))},EKt.a=0,mG(M1t,"LGraphToCGraphTransformer/lambda$14$Type",1678),fPt(1679,1,hYt,_p),EKt.td=function(t){aP(this.a,jV(t,110))},EKt.a=0,mG(M1t,"LGraphToCGraphTransformer/lambda$15$Type",1679),fPt(1680,1,hYt,kp),EKt.td=function(t){sP(this.a,jV(t,8))},EKt.a=0,mG(M1t,"LGraphToCGraphTransformer/lambda$16$Type",1680),fPt(1682,1,{},Er),EKt.Kb=function(t){return zj(),new LH(null,new HW(new sq(ZD(hft(jV(t,10)).a.Kc(),new u))))},mG(M1t,"LGraphToCGraphTransformer/lambda$17$Type",1682),fPt(1683,1,LYt,Tr),EKt.Mb=function(t){return zj(),h4(jV(t,17))},mG(M1t,"LGraphToCGraphTransformer/lambda$18$Type",1683),fPt(1684,1,hYt,xp),EKt.td=function(t){Ett(this.a,jV(t,17))},mG(M1t,"LGraphToCGraphTransformer/lambda$19$Type",1684),fPt(1668,1,hYt,Ep),EKt.td=function(t){u0(this.a,jV(t,145))},mG(M1t,"LGraphToCGraphTransformer/lambda$2$Type",1668),fPt(1685,1,{},Cr),EKt.Kb=function(t){return zj(),new LH(null,new d1(jV(t,29).a,16))},mG(M1t,"LGraphToCGraphTransformer/lambda$20$Type",1685),fPt(1686,1,{},Ar),EKt.Kb=function(t){return zj(),new LH(null,new HW(new sq(ZD(hft(jV(t,10)).a.Kc(),new u))))},mG(M1t,"LGraphToCGraphTransformer/lambda$21$Type",1686),fPt(1687,1,{},Sr),EKt.Kb=function(t){return zj(),jV(wTt(jV(t,17),(lKt(),Ode)),15)},mG(M1t,"LGraphToCGraphTransformer/lambda$22$Type",1687),fPt(1688,1,LYt,Ir),EKt.Mb=function(t){return JN(jV(t,15))},mG(M1t,"LGraphToCGraphTransformer/lambda$23$Type",1688),fPt(1689,1,hYt,Tp),EKt.td=function(t){CSt(this.a,jV(t,15))},mG(M1t,"LGraphToCGraphTransformer/lambda$24$Type",1689),fPt(1667,1,hYt,sA),EKt.td=function(t){$3(this.a,this.b,jV(t,145))},mG(M1t,"LGraphToCGraphTransformer/lambda$3$Type",1667),fPt(1669,1,{},Mr),EKt.Kb=function(t){return zj(),new LH(null,new d1(jV(t,29).a,16))},mG(M1t,"LGraphToCGraphTransformer/lambda$4$Type",1669),fPt(1670,1,{},Pr),EKt.Kb=function(t){return zj(),new LH(null,new HW(new sq(ZD(hft(jV(t,10)).a.Kc(),new u))))},mG(M1t,"LGraphToCGraphTransformer/lambda$5$Type",1670),fPt(1671,1,{},Or),EKt.Kb=function(t){return zj(),jV(wTt(jV(t,17),(lKt(),Ode)),15)},mG(M1t,"LGraphToCGraphTransformer/lambda$6$Type",1671),fPt(1673,1,hYt,Cp),EKt.td=function(t){BIt(this.a,jV(t,15))},mG(M1t,"LGraphToCGraphTransformer/lambda$8$Type",1673),fPt(1674,1,hYt,aA),EKt.td=function(t){DO(this.a,this.b,jV(t,145))},mG(M1t,"LGraphToCGraphTransformer/lambda$9$Type",1674),fPt(1663,1,{},Dr),EKt.Le=function(t){var e,n,i,r,o;for(this.a=t,this.d=new Fw,this.c=D7(Vie,VKt,121,this.a.a.a.c.length,0,1),this.b=0,n=new Wf(this.a.a.a);n.a<n.c.c.length;)(e=jV(Q1(n),307)).d=this.b,o=IN(sT(new Vw,e),this.d),this.c[this.b]=o,++this.b;for(ZUt(this),MWt(this),QDt(this),GFt(jj(this.d),new qy),r=new Wf(this.a.a.b);r.a<r.c.c.length;)(i=jV(Q1(r),57)).d.c=this.c[i.a.d].e+i.b.a},EKt.b=0,mG(M1t,"NetworkSimplexCompaction",1663),fPt(145,1,{35:1,145:1},CVt),EKt.wd=function(t){return Ptt(this,jV(t,145))},EKt.Ib=function(){return wht(this)},mG(M1t,"VerticalSegment",145),fPt(827,1,{},Uxt),EKt.c=0,EKt.e=0,EKt.i=0,mG(P1t,"BetweenLayerEdgeTwoNodeCrossingsCounter",827),fPt(663,1,{663:1},vot),EKt.Ib=function(){return"AdjacencyList [node="+this.d+", adjacencies= "+this.a+"]"},EKt.b=0,EKt.c=0,EKt.f=0,mG(P1t,"BetweenLayerEdgeTwoNodeCrossingsCounter/AdjacencyList",663),fPt(287,1,{35:1,287:1},zL),EKt.wd=function(t){return rH(this,jV(t,287))},EKt.Ib=function(){return"Adjacency [position="+this.c+", cardinality="+this.a+", currentCardinality="+this.b+"]"},EKt.a=0,EKt.b=0,EKt.c=0,mG(P1t,"BetweenLayerEdgeTwoNodeCrossingsCounter/AdjacencyList/Adjacency",287),fPt(1929,1,{},QCt),EKt.b=0,EKt.e=!1,mG(P1t,"CrossingMatrixFiller",1929);var mle,ble,wle,yle,vle=hH(O1t,"IInitializable");fPt(1804,1,D1t,mA),EKt.Nf=function(t,e,n,i,r,o){},EKt.Pf=function(t,e,n){},EKt.Lf=function(){return this.c!=(ait(),Iye)},EKt.Mf=function(){this.e=D7(SNe,lXt,25,this.d,15,1)},EKt.Of=function(t,e){e[t][0].c.p=t},EKt.Qf=function(t,e,n,i){++this.d},EKt.Rf=function(){return!0},EKt.Sf=function(t,e,n,i){return Xut(this,t,e,n),Z5(this,e)},EKt.Tf=function(t,e){var n;return Xut(this,t,n=ck(e,t.length),e),dct(this,n)},EKt.d=0,mG(P1t,"GreedySwitchHeuristic",1804),fPt(1930,1,{},uU),EKt.b=0,EKt.d=0,mG(P1t,"NorthSouthEdgeNeighbouringNodeCrossingsCounter",1930),fPt(1917,1,{},sBt),EKt.a=!1,mG(P1t,"SwitchDecider",1917),fPt(101,1,{101:1},mAt),EKt.a=null,EKt.c=null,EKt.i=null,mG(N1t,"SelfHyperLoop",101),fPt(1916,1,{},ebt),EKt.c=0,EKt.e=0,mG(N1t,"SelfHyperLoopLabels",1916),fPt(411,22,{3:1,35:1,22:1,411:1},bA);var _le,kle,xle,Ele,Tle,Cle,Ale=$nt(N1t,"SelfHyperLoopLabels/Alignment",411,qte,n3,Uj);fPt(409,1,{409:1},v6),mG(N1t,"SelfLoopEdge",409),fPt(403,1,{403:1},Imt),EKt.a=!1,mG(N1t,"SelfLoopHolder",403),fPt(1724,1,LYt,Hr),EKt.Mb=function(t){return h4(jV(t,17))},mG(N1t,"SelfLoopHolder/lambda$0$Type",1724),fPt(113,1,{113:1},nbt),EKt.a=!1,EKt.c=!1,mG(N1t,"SelfLoopPort",113),fPt(1792,1,LYt,Ur),EKt.Mb=function(t){return h4(jV(t,17))},mG(N1t,"SelfLoopPort/lambda$0$Type",1792),fPt(363,22,{3:1,35:1,22:1,363:1},wA);var Sle,Ile,Mle,Ple,Ole,Dle,Nle,Lle,Rle=$nt(N1t,"SelfLoopType",363,qte,D4,Yj);fPt(1732,1,{},rh),mG(L1t,"PortRestorer",1732),fPt(361,22,{3:1,35:1,22:1,361:1},yA);var Ble,Fle,jle,$le,Vle,zle,Hle,Ule,qle,Wle=$nt(L1t,"PortRestorer/PortSideArea",361,qte,T1,Xj);fPt(1733,1,{},Kr),EKt.Kb=function(t){return FTt(),jV(t,15).Oc()},mG(L1t,"PortRestorer/lambda$0$Type",1733),fPt(1734,1,hYt,Yr),EKt.td=function(t){FTt(),jV(t,113).c=!1},mG(L1t,"PortRestorer/lambda$1$Type",1734),fPt(1743,1,LYt,Xr),EKt.Mb=function(t){return FTt(),jV(t,11).j==(vWt(),CIe)},mG(L1t,"PortRestorer/lambda$10$Type",1743),fPt(1744,1,{},Zr),EKt.Kb=function(t){return FTt(),jV(t,113).d},mG(L1t,"PortRestorer/lambda$11$Type",1744),fPt(1745,1,hYt,Ap),EKt.td=function(t){Ok(this.a,jV(t,11))},mG(L1t,"PortRestorer/lambda$12$Type",1745),fPt(1735,1,hYt,Sp),EKt.td=function(t){IL(this.a,jV(t,101))},mG(L1t,"PortRestorer/lambda$2$Type",1735),fPt(1736,1,EZt,Qr),EKt.ue=function(t,e){return ant(jV(t,113),jV(e,113))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(L1t,"PortRestorer/lambda$3$Type",1736),fPt(1737,1,LYt,Jr),EKt.Mb=function(t){return FTt(),jV(t,113).c},mG(L1t,"PortRestorer/lambda$4$Type",1737),fPt(1738,1,LYt,Lr),EKt.Mb=function(t){return Mot(jV(t,11))},mG(L1t,"PortRestorer/lambda$5$Type",1738),fPt(1739,1,LYt,Nr),EKt.Mb=function(t){return FTt(),jV(t,11).j==(vWt(),aIe)},mG(L1t,"PortRestorer/lambda$6$Type",1739),fPt(1740,1,LYt,Rr),EKt.Mb=function(t){return FTt(),jV(t,11).j==(vWt(),sIe)},mG(L1t,"PortRestorer/lambda$7$Type",1740),fPt(1741,1,LYt,Br),EKt.Mb=function(t){return i3(jV(t,11))},mG(L1t,"PortRestorer/lambda$8$Type",1741),fPt(1742,1,LYt,Fr),EKt.Mb=function(t){return FTt(),jV(t,11).j==(vWt(),EIe)},mG(L1t,"PortRestorer/lambda$9$Type",1742),fPt(270,22,{3:1,35:1,22:1,270:1},WY);var Gle,Kle,Yle,Xle,Zle,Qle,Jle,tue,eue=$nt(L1t,"PortSideAssigner/Target",270,qte,jet,qj);fPt(1725,1,{},jr),EKt.Kb=function(t){return IY(new LH(null,new d1(jV(t,101).j,16)),new Gr)},mG(L1t,"PortSideAssigner/lambda$1$Type",1725),fPt(1726,1,{},$r),EKt.Kb=function(t){return jV(t,113).d},mG(L1t,"PortSideAssigner/lambda$2$Type",1726),fPt(1727,1,hYt,Vr),EKt.td=function(t){zSt(jV(t,11),(vWt(),aIe))},mG(L1t,"PortSideAssigner/lambda$3$Type",1727),fPt(1728,1,{},zr),EKt.Kb=function(t){return jV(t,113).d},mG(L1t,"PortSideAssigner/lambda$4$Type",1728),fPt(1729,1,hYt,Ip),EKt.td=function(t){Jb(this.a,jV(t,11))},mG(L1t,"PortSideAssigner/lambda$5$Type",1729),fPt(1730,1,EZt,qr),EKt.ue=function(t,e){return xK(jV(t,101),jV(e,101))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(L1t,"PortSideAssigner/lambda$6$Type",1730),fPt(1731,1,EZt,Wr),EKt.ue=function(t,e){return sz(jV(t,113),jV(e,113))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(L1t,"PortSideAssigner/lambda$7$Type",1731),fPt(805,1,LYt,Gr),EKt.Mb=function(t){return jV(t,113).c},mG(L1t,"PortSideAssigner/lambda$8$Type",805),fPt(2009,1,{}),mG(R1t,"AbstractSelfLoopRouter",2009),fPt(1750,1,EZt,to),EKt.ue=function(t,e){return AF(jV(t,101),jV(e,101))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(R1t,dQt,1750),fPt(1751,1,EZt,eo),EKt.ue=function(t,e){return CF(jV(t,101),jV(e,101))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(R1t,fQt,1751),fPt(1793,2009,{},no),EKt.Uf=function(t,e,n){return n},mG(R1t,"OrthogonalSelfLoopRouter",1793),fPt(1795,1,hYt,dA),EKt.td=function(t){mmt(this.b,this.a,jV(t,8))},mG(R1t,"OrthogonalSelfLoopRouter/lambda$0$Type",1795),fPt(1794,1793,{},io),EKt.Uf=function(t,e,n){var i,r;return RL(n,0,UB(jO((i=t.c.d).n),i.a)),Nz(n,UB(jO((r=t.d.d).n),r.a)),kjt(n)},mG(R1t,"PolylineSelfLoopRouter",1794),fPt(1746,1,{},Qu),EKt.a=null,mG(R1t,"RoutingDirector",1746),fPt(1747,1,EZt,ro),EKt.ue=function(t,e){return dz(jV(t,113),jV(e,113))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(R1t,"RoutingDirector/lambda$0$Type",1747),fPt(1748,1,{},oo),EKt.Kb=function(t){return ET(),jV(t,101).j},mG(R1t,"RoutingDirector/lambda$1$Type",1748),fPt(1749,1,hYt,so),EKt.td=function(t){ET(),jV(t,15).ad(Kle)},mG(R1t,"RoutingDirector/lambda$2$Type",1749),fPt(1752,1,{},ao),mG(R1t,"RoutingSlotAssigner",1752),fPt(1753,1,LYt,Mp),EKt.Mb=function(t){return CS(this.a,jV(t,101))},mG(R1t,"RoutingSlotAssigner/lambda$0$Type",1753),fPt(1754,1,EZt,Pp),EKt.ue=function(t,e){return UH(this.a,jV(t,101),jV(e,101))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(R1t,"RoutingSlotAssigner/lambda$1$Type",1754),fPt(1796,1793,{},co),EKt.Uf=function(t,e,n){var i,r,o,s;return i=zv(xR(pbt(t.b.g.b,(VGt(),vbe)))),JOt(t,e,n,s=new UL(Cat(z_(TTe,1),cYt,8,0,[(o=t.c.d,UB(new dP(o.n),o.a))])),i),Nz(s,UB(new dP((r=t.d.d).n),r.a)),jwt(new aVt(s))},mG(R1t,"SplineSelfLoopRouter",1796),fPt(578,1,EZt,Hrt,yz),EKt.ue=function(t,e){return uGt(this,jV(t,10),jV(e,10))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(B1t,"ModelOrderNodeComparator",578),fPt(1755,1,LYt,lo),EKt.Mb=function(t){return 0!=jV(t,11).e.c.length},mG(B1t,"ModelOrderNodeComparator/lambda$0$Type",1755),fPt(1756,1,{},uo),EKt.Kb=function(t){return jV(DH(jV(t,11).e,0),17).c},mG(B1t,"ModelOrderNodeComparator/lambda$1$Type",1756),fPt(1757,1,LYt,ho),EKt.Mb=function(t){return 0!=jV(t,11).e.c.length},mG(B1t,"ModelOrderNodeComparator/lambda$2$Type",1757),fPt(1758,1,{},fo),EKt.Kb=function(t){return jV(DH(jV(t,11).e,0),17).c},mG(B1t,"ModelOrderNodeComparator/lambda$3$Type",1758),fPt(1759,1,LYt,go),EKt.Mb=function(t){return 0!=jV(t,11).e.c.length},mG(B1t,"ModelOrderNodeComparator/lambda$4$Type",1759),fPt(806,1,EZt,S9,pA),EKt.ue=function(t,e){return Oq(this,t,e)},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(B1t,"ModelOrderPortComparator",806),fPt(801,1,{},po),EKt.Vf=function(t,e){var n,r,o,s;for(o=CCt(e),n=new Ob,s=e.f/o,r=1;r<o;++r)WV(n,ndt(fU(ust(i.Math.round(r*s)))));return n},EKt.Wf=function(){return!1},mG(F1t,"ARDCutIndexHeuristic",801),fPt(1479,1,JJt,mo),EKt.pf=function(t,e){aFt(jV(t,37),e)},mG(F1t,"BreakingPointInserter",1479),fPt(305,1,{305:1},m3),EKt.Ib=function(){var t;return(t=new C_).a+="BPInfo[",t.a+="\n\tstart=",oM(t,this.i),t.a+="\n\tend=",oM(t,this.a),t.a+="\n\tnodeStartEdge=",oM(t,this.e),t.a+="\n\tstartEndEdge=",oM(t,this.j),t.a+="\n\toriginalEdge=",oM(t,this.f),t.a+="\n\tstartInLayerDummy=",oM(t,this.k),t.a+="\n\tstartInLayerEdge=",oM(t,this.n),t.a+="\n\tendInLayerDummy=",oM(t,this.b),t.a+="\n\tendInLayerEdge=",oM(t,this.c),t.a},mG(F1t,"BreakingPointInserter/BPInfo",305),fPt(652,1,{652:1},$p),EKt.a=!1,EKt.b=0,EKt.c=0,mG(F1t,"BreakingPointInserter/Cut",652),fPt(1480,1,JJt,bo),EKt.pf=function(t,e){wDt(jV(t,37),e)},mG(F1t,"BreakingPointProcessor",1480),fPt(1481,1,LYt,wo),EKt.Mb=function(t){return Xtt(jV(t,10))},mG(F1t,"BreakingPointProcessor/0methodref$isEnd$Type",1481),fPt(1482,1,LYt,yo),EKt.Mb=function(t){return Ztt(jV(t,10))},mG(F1t,"BreakingPointProcessor/1methodref$isStart$Type",1482),fPt(1483,1,JJt,vo),EKt.pf=function(t,e){iNt(this,jV(t,37),e)},mG(F1t,"BreakingPointRemover",1483),fPt(1484,1,hYt,_o),EKt.td=function(t){jV(t,128).k=!0},mG(F1t,"BreakingPointRemover/lambda$0$Type",1484),fPt(797,1,{},EPt),EKt.b=0,EKt.e=0,EKt.f=0,EKt.j=0,mG(F1t,"GraphStats",797),fPt(798,1,{},ko),EKt.Ce=function(t,e){return i.Math.max(zv(xR(t)),zv(xR(e)))},mG(F1t,"GraphStats/0methodref$max$Type",798),fPt(799,1,{},xo),EKt.Ce=function(t,e){return i.Math.max(zv(xR(t)),zv(xR(e)))},mG(F1t,"GraphStats/2methodref$max$Type",799),fPt(1660,1,{},Eo),EKt.Ce=function(t,e){return mV(xR(t),xR(e))},mG(F1t,"GraphStats/lambda$1$Type",1660),fPt(1661,1,{},Op),EKt.Kb=function(t){return fbt(this.a,jV(t,29))},mG(F1t,"GraphStats/lambda$2$Type",1661),fPt(1662,1,{},Dp),EKt.Kb=function(t){return KDt(this.a,jV(t,29))},mG(F1t,"GraphStats/lambda$6$Type",1662),fPt(800,1,{},To),EKt.Vf=function(t,e){return jV(wTt(t,(VGt(),Bbe)),15)||(EX(),EX(),cne)},EKt.Wf=function(){return!1},mG(F1t,"ICutIndexCalculator/ManualCutIndexCalculator",800),fPt(802,1,{},Co),EKt.Vf=function(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_;for(null==e.n&&Lyt(e),_=e.n,null==e.d&&Lyt(e),l=e.d,(v=D7(ONe,zXt,25,_.length,15,1))[0]=_[0],w=_[0],u=1;u<_.length;u++)v[u]=v[u-1]+_[u],w+=_[u];for(o=CCt(e)-1,a=jV(wTt(t,(VGt(),Fbe)),19).a,r=BXt,n=new Ob,f=i.Math.max(0,o-a);f<=i.Math.min(e.f-1,o+a);f++){if(m=w/(f+1),b=0,h=1,s=new Ob,y=BXt,d=0,c=0,p=l[0],0==f)y=w,null==e.g&&(e.g=Wrt(e,new xo)),c=zv(e.g);else{for(;h<e.f;)v[h-1]-b>=m&&(WV(s,ndt(h)),y=i.Math.max(y,v[h-1]-d),c+=p,b+=v[h-1]-b,d=v[h-1],p=l[h]),p=i.Math.max(p,l[h]),++h;c+=p}(g=i.Math.min(1/y,1/e.b/c))>r&&(r=g,n=s)}return n},EKt.Wf=function(){return!1},mG(F1t,"MSDCutIndexHeuristic",802),fPt(1617,1,JJt,Ao),EKt.pf=function(t,e){dVt(jV(t,37),e)},mG(F1t,"SingleEdgeGraphWrapper",1617),fPt(227,22,{3:1,35:1,22:1,227:1},vA);var nue,iue,rue,oue=$nt(j1t,"CenterEdgeLabelPlacementStrategy",227,qte,Z7,Wj);fPt(422,22,{3:1,35:1,22:1,422:1},_A);var sue,aue,cue,lue,uue=$nt(j1t,"ConstraintCalculationStrategy",422,qte,zZ,Gj);fPt(314,22,{3:1,35:1,22:1,314:1,246:1,234:1},kA),EKt.Kf=function(){return cIt(this)},EKt.Xf=function(){return cIt(this)};var hue,due,fue,gue,pue=$nt(j1t,"CrossingMinimizationStrategy",314,qte,k1,Kj);fPt(337,22,{3:1,35:1,22:1,337:1},xA);var mue,bue,wue,yue,vue,_ue,kue=$nt(j1t,"CuttingStrategy",337,qte,x1,Zj);fPt(335,22,{3:1,35:1,22:1,335:1,246:1,234:1},EA),EKt.Kf=function(){return RPt(this)},EKt.Xf=function(){return RPt(this)};var xue,Eue,Tue,Cue=$nt(j1t,"CycleBreakingStrategy",335,qte,P4,Qj);fPt(419,22,{3:1,35:1,22:1,419:1},TA);var Aue,Sue,Iue,Mue,Pue=$nt(j1t,"DirectionCongruency",419,qte,VZ,Jj);fPt(450,22,{3:1,35:1,22:1,450:1},CA);var Oue,Due,Nue,Lue,Rue,Bue,Fue,jue=$nt(j1t,"EdgeConstraint",450,qte,E1,t$);fPt(276,22,{3:1,35:1,22:1,276:1},AA);var $ue,Vue,zue,Hue=$nt(j1t,"EdgeLabelSideSelection",276,qte,e8,e$);fPt(479,22,{3:1,35:1,22:1,479:1},SA);var Uue,que,Wue,Gue,Kue,Yue,Xue,Zue=$nt(j1t,"EdgeStraighteningStrategy",479,qte,$Z,n$);fPt(274,22,{3:1,35:1,22:1,274:1},IA);var Que,Jue,the,ehe,nhe,ihe,rhe,ohe=$nt(j1t,"FixedAlignment",274,qte,J7,i$);fPt(275,22,{3:1,35:1,22:1,275:1},MA);var she,ahe,che,lhe,uhe,hhe,dhe,fhe,ghe,phe,mhe,bhe=$nt(j1t,"GraphCompactionStrategy",275,qte,Q7,r$);fPt(256,22,{3:1,35:1,22:1,256:1},PA);var whe,yhe,vhe,_he,khe=$nt(j1t,"GraphProperties",256,qte,dot,o$);fPt(292,22,{3:1,35:1,22:1,292:1},OA);var xhe,Ehe,The,Che,Ahe=$nt(j1t,"GreedySwitchType",292,qte,A1,s$);fPt(303,22,{3:1,35:1,22:1,303:1},DA);var She,Ihe,Mhe,Phe=$nt(j1t,"InLayerConstraint",303,qte,C1,a$);fPt(420,22,{3:1,35:1,22:1,420:1},NA);var Ohe,Dhe,Nhe,Lhe,Rhe,Bhe,Fhe,jhe,$he,Vhe,zhe,Hhe,Uhe,qhe,Whe,Ghe,Khe,Yhe,Xhe,Zhe,Qhe,Jhe,tde,ede,nde,ide,rde,ode,sde,ade,cde,lde,ude,hde,dde,fde,gde,pde,mde,bde,wde,yde,vde,_de,kde,xde,Ede,Tde,Cde,Ade,Sde,Ide,Mde,Pde,Ode,Dde,Nde,Lde,Rde,Bde,Fde,jde,$de,Vde,zde=$nt(j1t,"InteractiveReferencePoint",420,qte,HZ,c$);fPt(163,22,{3:1,35:1,22:1,163:1},jA);var Hde,Ude,qde,Wde,Gde,Kde,Yde,Xde,Zde,Qde,Jde,tfe,efe,nfe,ife,rfe,ofe,sfe,afe,cfe,lfe,ufe,hfe,dfe,ffe,gfe,pfe,mfe,bfe,wfe,yfe,vfe,_fe,kfe,xfe,Efe,Tfe,Cfe,Afe,Sfe,Ife,Mfe,Pfe,Ofe,Dfe,Nfe,Lfe,Rfe,Bfe,Ffe,jfe,$fe,Vfe,zfe,Hfe,Ufe,qfe,Wfe,Gfe,Kfe,Yfe,Xfe,Zfe,Qfe,Jfe,tge,ege,nge,ige,rge,oge,sge,age,cge,lge,uge,hge,dge,fge,gge,pge,mge,bge,wge,yge,vge,_ge,kge,xge,Ege,Tge,Cge,Age,Sge,Ige,Mge,Pge,Oge,Dge,Nge,Lge,Rge,Bge,Fge,jge,$ge,Vge,zge,Hge,Uge,qge,Wge,Gge,Kge,Yge,Xge,Zge,Qge,Jge,tpe,epe,npe,ipe,rpe,ope,spe,ape,cpe,lpe,upe,hpe,dpe,fpe,gpe,ppe,mpe,bpe,wpe,ype,vpe,_pe,kpe,xpe,Epe,Tpe,Cpe,Ape,Spe,Ipe,Mpe,Ppe,Ope,Dpe,Npe,Lpe,Rpe,Bpe,Fpe,jpe,$pe,Vpe,zpe,Hpe,Upe,qpe,Wpe,Gpe,Kpe,Ype,Xpe,Zpe,Qpe,Jpe,tme,eme,nme,ime,rme,ome,sme,ame,cme,lme,ume,hme,dme,fme,gme,pme,mme,bme,wme,yme,vme,_me,kme,xme,Eme,Tme,Cme,Ame,Sme,Ime,Mme,Pme,Ome,Dme,Nme,Lme,Rme,Bme,Fme,jme,$me,Vme,zme,Hme,Ume,qme,Wme,Gme,Kme,Yme,Xme,Zme,Qme,Jme,tbe,ebe,nbe,ibe,rbe,obe,sbe,abe,cbe,lbe,ube,hbe,dbe,fbe,gbe,pbe,mbe,bbe,wbe,ybe,vbe,_be,kbe,xbe,Ebe,Tbe,Cbe,Abe,Sbe,Ibe,Mbe,Pbe,Obe,Dbe,Nbe,Lbe,Rbe,Bbe,Fbe,jbe,$be,Vbe,zbe,Hbe,Ube,qbe,Wbe,Gbe,Kbe,Ybe,Xbe,Zbe,Qbe,Jbe,twe,ewe=$nt(j1t,"LayerConstraint",163,qte,N4,l$);fPt(848,1,YZt,ah),EKt.Qe=function(t){Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,q1t),""),"Direction Congruency"),"Specifies how drawings of the same graph with different layout directions compare to each other: either a natural reading direction is preserved or the drawings are rotated versions of each other."),Tfe),(CAt(),gTe)),Pue),Jdt((ibt(),cTe))))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,W1t),""),"Feedback Edges"),"Whether feedback edges should be highlighted by routing around the nodes."),(cN(),!1)),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,G1t),""),"Interactive Reference Point"),"Determines which point of a node is considered by interactive layout phases."),Kfe),gTe),zde),Jdt(cTe)))),r2(t,G1t,e0t,Xfe),r2(t,G1t,h0t,Yfe),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,K1t),""),"Merge Edges"),"Edges that have no ports are merged so they touch the connected nodes at the same points. When this option is disabled, one port is created for each edge directly connected to a node. When it is enabled, all such incoming edges share an input port, and all outgoing edges share an output port."),!1),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,Y1t),""),"Merge Hierarchy-Crossing Edges"),"If hierarchical layout is active, hierarchy-crossing edges use as few hierarchical ports as possible. They are broken by the algorithm, with hierarchical ports inserted as required. Usually, one such port is created for each edge at each hierarchy crossing point. With this option set to true, we try to create as few hierarchical ports as possible in the process. In particular, all edges that form a hyperedge can share a port."),!0),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Tk(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,X1t),""),"Allow Non-Flow Ports To Switch Sides"),"Specifies whether non-flow ports may switch sides if their node's port constraints are either FIXED_SIDE or FIXED_ORDER. A non-flow port is a port on a side that is not part of the currently configured layout flow. For instance, given a left-to-right layout direction, north and south ports would be considered non-flow ports. Further note that the underlying criterium whether to switch sides or not solely relies on the minimization of edge crossings. Hence, edge length and other aesthetics criteria are not addressed."),!1),dTe),vee),Jdt(lTe)),Cat(z_(Yee,1),cYt,2,6,["org.eclipse.elk.layered.northOrSouthPort"])))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,Z1t),""),"Port Sorting Strategy"),"Only relevant for nodes with FIXED_SIDE port constraints. Determines the way a node's ports are distributed on the sides of a node if their order is not prescribed. The option is set on parent nodes."),Dge),gTe),Hwe),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,Q1t),""),"Thoroughness"),"How much effort should be spent to produce a nice layout."),ndt(7)),mTe),Mee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,J1t),""),"Add Unnecessary Bendpoints"),"Adds bend points even if an edge does not change direction. If true, each long edge dummy will contribute a bend point to its edges and hierarchy-crossing edges will always get a bend point where they cross hierarchy boundaries. By default, bend points are only added where an edge changes direction."),!1),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,t0t),""),"Generate Position and Layer IDs"),"If enabled position id and layer id are generated, which are usually only used internally when setting the interactiveLayout option. This option should be specified on the root node."),!1),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,e0t),"cycleBreaking"),"Cycle Breaking Strategy"),"Strategy for cycle breaking. Cycle breaking looks for cycles in the graph and determines which edges to reverse to break the cycles. Reversed edges will end up pointing to the opposite direction of regular edges (that is, reversed edges will point left if edges usually point right)."),xfe),gTe),Cue),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,n0t),u2t),"Node Layering Strategy"),"Strategy for node layering."),hge),gTe),swe),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,i0t),u2t),"Layer Constraint"),"Determines a constraint on the placement of the node regarding the layering."),ege),gTe),ewe),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,r0t),u2t),"Layer Choice Constraint"),"Allows to set a constraint regarding the layer placement of a node. Let i be the value of teh constraint. Assumed the drawing has n layers and i < n. If set to i, it expresses that the node should be placed in i-th layer. Should i>=n be true then the node is placed in the last layer of the drawing. Note that this option is not part of any of ELK Layered's default configurations but is only evaluated as part of the `InteractiveLayeredGraphVisitor`, which must be applied manually or used via the `DiagramLayoutEngine."),ndt(-1)),mTe),Mee),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,o0t),u2t),"Layer ID"),"Layer identifier that was calculated by ELK Layered for a node. This is only generated if interactiveLayot or generatePositionAndLayerIds is set."),ndt(-1)),mTe),Mee),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,s0t),h2t),"Upper Bound On Width [MinWidth Layerer]"),"Defines a loose upper bound on the width of the MinWidth layerer. If set to '-1' multiple values are tested and the best result is selected."),ndt(4)),mTe),Mee),Jdt(cTe)))),r2(t,s0t,n0t,rge),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,a0t),h2t),"Upper Layer Estimation Scaling Factor [MinWidth Layerer]"),"Multiplied with Upper Bound On Width for defining an upper bound on the width of layers which haven't been determined yet, but whose maximum width had been (roughly) estimated by the MinWidth algorithm. Compensates for too high estimations. If set to '-1' multiple values are tested and the best result is selected."),ndt(2)),mTe),Mee),Jdt(cTe)))),r2(t,a0t,n0t,sge),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,c0t),d2t),"Node Promotion Strategy"),"Reduces number of dummy nodes after layering phase (if possible)."),lge),gTe),Nwe),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,l0t),d2t),"Max Node Promotion Iterations"),"Limits the number of iterations for node promotion."),ndt(0)),mTe),Mee),Jdt(cTe)))),r2(t,l0t,c0t,null),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,u0t),"layering.coffmanGraham"),"Layer Bound"),"The maximum number of nodes allowed per layer."),ndt(LKt)),mTe),Mee),Jdt(cTe)))),r2(t,u0t,n0t,Qfe),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,h0t),f2t),"Crossing Minimization Strategy"),"Strategy for crossing minimization."),_fe),gTe),pue),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,d0t),f2t),"Force Node Model Order"),"The node order given by the model does not change to produce a better layout. E.g. if node A is before node B in the model this is not changed during crossing minimization. This assumes that the node model order is already respected before crossing minimization. This can be achieved by setting considerModelOrder.strategy to NODES_AND_EDGES."),!1),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,f0t),f2t),"Hierarchical Sweepiness"),"How likely it is to use cross-hierarchy (1) vs bottom-up (-1)."),.1),fTe),Cee),Jdt(cTe)))),r2(t,f0t,g2t,pfe),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,g0t),f2t),"Semi-Interactive Crossing Minimization"),"Preserves the order of nodes within a layer but still minimizes crossings between edges connecting long edge dummies. Derives the desired order from positions specified by the 'org.eclipse.elk.position' layout option. Requires a crossing minimization strategy that is able to process 'in-layer' constraints."),!1),dTe),vee),Jdt(cTe)))),r2(t,g0t,h0t,yfe),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,p0t),f2t),"Position Choice Constraint"),"Allows to set a constraint regarding the position placement of a node in a layer. Assumed the layer in which the node placed includes n other nodes and i < n. If set to i, it expresses that the node should be placed at the i-th position. Should i>=n be true then the node is placed at the last position in the layer. Note that this option is not part of any of ELK Layered's default configurations but is only evaluated as part of the `InteractiveLayeredGraphVisitor`, which must be applied manually or used via the `DiagramLayoutEngine."),ndt(-1)),mTe),Mee),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,m0t),f2t),"Position ID"),"Position within a layer that was determined by ELK Layered for a node. This is only generated if interactiveLayot or generatePositionAndLayerIds is set."),ndt(-1)),mTe),Mee),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,b0t),p2t),"Greedy Switch Activation Threshold"),"By default it is decided automatically if the greedy switch is activated or not. The decision is based on whether the size of the input graph (without dummy nodes) is smaller than the value of this option. A '0' enforces the activation."),ndt(40)),mTe),Mee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,w0t),p2t),"Greedy Switch Crossing Minimization"),"Greedy Switch strategy for crossing minimization. The greedy switch heuristic is executed after the regular crossing minimization as a post-processor. Note that if 'hierarchyHandling' is set to 'INCLUDE_CHILDREN', the 'greedySwitchHierarchical.type' option must be used."),dfe),gTe),Ahe),Jdt(cTe)))),r2(t,w0t,h0t,ffe),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,y0t),"crossingMinimization.greedySwitchHierarchical"),"Greedy Switch Crossing Minimization (hierarchical)"),"Activates the greedy switch heuristic in case hierarchical layout is used. The differences to the non-hierarchical case (see 'greedySwitch.type') are: 1) greedy switch is inactive by default, 3) only the option value set on the node at which hierarchical layout starts is relevant, and 2) if it's activated by the user, it properly addresses hierarchy-crossing edges."),cfe),gTe),Ahe),Jdt(cTe)))),r2(t,y0t,h0t,lfe),r2(t,y0t,g2t,ufe),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,v0t),m2t),"Node Placement Strategy"),"Strategy for node placement."),Pge),gTe),Iwe),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,_0t),m2t),"Favor Straight Edges Over Balancing"),"Favor straight edges over a balanced node placement. The default behavior is determined automatically based on the used 'edgeRouting'. For an orthogonal style it is set to true, for all other styles to false."),dTe),vee),Jdt(cTe)))),r2(t,_0t,v0t,_ge),r2(t,_0t,v0t,kge),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,k0t),b2t),"BK Edge Straightening"),"Specifies whether the Brandes Koepf node placer tries to increase the number of straight edges at the expense of diagram size. There is a subtle difference to the 'favorStraightEdges' option, which decides whether a balanced placement of the nodes is desired, or not. In bk terms this means combining the four alignments into a single balanced one, or not. This option on the other hand tries to straighten additional edges during the creation of each of the four alignments."),pge),gTe),Zue),Jdt(cTe)))),r2(t,k0t,v0t,mge),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,x0t),b2t),"BK Fixed Alignment"),"Tells the BK node placer to use a certain alignment (out of its four) instead of the one producing the smallest height, or the combination of all four."),wge),gTe),ohe),Jdt(cTe)))),r2(t,x0t,v0t,yge),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,E0t),"nodePlacement.linearSegments"),"Linear Segments Deflection Dampening"),"Dampens the movement of nodes to keep the diagram from getting too large."),.3),fTe),Cee),Jdt(cTe)))),r2(t,E0t,v0t,Ege),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,T0t),"nodePlacement.networkSimplex"),"Node Flexibility"),"Aims at shorter and straighter edges. Two configurations are possible: (a) allow ports to move freely on the side they are assigned to (the order is always defined beforehand), (b) additionally allow to enlarge a node wherever it helps. If this option is not configured for a node, the 'nodeFlexibility.default' value is used, which is specified for the node's parent."),gTe),ywe),Jdt(aTe)))),r2(t,T0t,v0t,Ige),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,C0t),"nodePlacement.networkSimplex.nodeFlexibility"),"Node Flexibility Default"),"Default value of the 'nodeFlexibility' option for the children of a hierarchical node."),Age),gTe),ywe),Jdt(cTe)))),r2(t,C0t,v0t,Sge),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,A0t),w2t),"Self-Loop Distribution"),"Alter the distribution of the loops around the node. It only takes effect for PortConstraints.FREE."),Dfe),gTe),Qwe),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,S0t),w2t),"Self-Loop Ordering"),"Alter the ordering of the loops they can either be stacked or sequenced. It only takes effect for PortConstraints.FREE."),Lfe),gTe),iye),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,I0t),"edgeRouting.splines"),"Spline Routing Mode"),"Specifies the way control points are assembled for each individual edge. CONSERVATIVE ensures that edges are properly routed around the nodes but feels rather orthogonal at times. SLOPPY uses fewer control points to obtain curvier edge routes but may result in edges overlapping nodes."),Bfe),gTe),cye),Jdt(cTe)))),r2(t,I0t,y2t,Ffe),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,M0t),"edgeRouting.splines.sloppy"),"Sloppy Spline Layer Spacing Factor"),"Spacing factor for routing area between layers when using sloppy spline routing."),.2),fTe),Cee),Jdt(cTe)))),r2(t,M0t,y2t,$fe),r2(t,M0t,I0t,Vfe),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,P0t),"edgeRouting.polyline"),"Sloped Edge Zone Width"),"Width of the strip to the left and to the right of each layer where the polyline edge router is allowed to refrain from ensuring that edges are routed horizontally. This prevents awkward bend points for nodes that extent almost to the edge of their layer."),2),fTe),Cee),Jdt(cTe)))),r2(t,P0t,y2t,Pfe),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,O0t),v2t),"Spacing Base Value"),"An optional base value for all other layout options of the 'spacing' group. It can be used to conveniently alter the overall 'spaciousness' of the drawing. Whenever an explicit value is set for the other layout options, this base value will have no effect. The base value is not inherited, i.e. it must be set for each hierarchical node."),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,D0t),v2t),"Edge Node Between Layers Spacing"),"The spacing to be preserved between nodes and edges that are routed next to the node's layer. For the spacing between nodes and edges that cross the node's layer 'spacing.edgeNode' is used."),10),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,N0t),v2t),"Edge Edge Between Layer Spacing"),"Spacing to be preserved between pairs of edges that are routed between the same pair of layers. Note that 'spacing.edgeEdge' is used for the spacing between pairs of edges crossing the same layer."),10),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,L0t),v2t),"Node Node Between Layers Spacing"),"The spacing to be preserved between any pair of nodes of two adjacent layers. Note that 'spacing.nodeNode' is used for the spacing between nodes within the layer itself."),20),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,R0t),_2t),"Direction Priority"),"Defines how important it is to have a certain edge point into the direction of the overall layout. This option is evaluated during the cycle breaking phase."),ndt(0)),mTe),Mee),Jdt(oTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,B0t),_2t),"Shortness Priority"),"Defines how important it is to keep an edge as short as possible. This option is evaluated during the layering phase."),ndt(0)),mTe),Mee),Jdt(oTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,F0t),_2t),"Straightness Priority"),"Defines how important it is to keep an edge straight, i.e. aligned with one of the two axes. This option is evaluated during node placement."),ndt(0)),mTe),Mee),Jdt(oTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,j0t),k2t),LQt),"Tries to further compact components (disconnected sub-graphs)."),!1),dTe),vee),Jdt(cTe)))),r2(t,j0t,vJt,!0),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,$0t),x2t),"Post Compaction Strategy"),E2t),Yde),gTe),bhe),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,V0t),x2t),"Post Compaction Constraint Calculation"),E2t),Gde),gTe),uue),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,z0t),T2t),"High Degree Node Treatment"),"Makes room around high degree nodes to place leafs and trees."),!1),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,H0t),T2t),"High Degree Node Threshold"),"Whether a node is considered to have a high degree."),ndt(16)),mTe),Mee),Jdt(cTe)))),r2(t,H0t,z0t,!0),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,U0t),T2t),"High Degree Node Maximum Tree Height"),"Maximum height of a subtree connected to a high degree node to be moved to separate layers."),ndt(5)),mTe),Mee),Jdt(cTe)))),r2(t,U0t,z0t,!0),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,q0t),C2t),"Graph Wrapping Strategy"),"For certain graphs and certain prescribed drawing areas it may be desirable to split the laid out graph into chunks that are placed side by side. The edges that connect different chunks are 'wrapped' around from the end of one chunk to the start of the other chunk. The points between the chunks are referred to as 'cuts'."),hpe),gTe),Eye),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,W0t),C2t),"Additional Wrapped Edges Spacing"),"To visually separate edges that are wrapped from regularly routed edges an additional spacing value can be specified in form of this layout option. The spacing is added to the regular edgeNode spacing."),10),fTe),Cee),Jdt(cTe)))),r2(t,W0t,q0t,Uge),r2(t,W0t,q0t,qge),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,G0t),C2t),"Correction Factor for Wrapping"),"At times and for certain types of graphs the executed wrapping may produce results that are consistently biased in the same fashion: either wrapping to often or to rarely. This factor can be used to correct the bias. Internally, it is simply multiplied with the 'aspect ratio' layout option."),1),fTe),Cee),Jdt(cTe)))),r2(t,G0t,q0t,Gge),r2(t,G0t,q0t,Kge),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,K0t),A2t),"Cutting Strategy"),"The strategy by which the layer indexes are determined at which the layering crumbles into chunks."),epe),gTe),kue),Jdt(cTe)))),r2(t,K0t,q0t,npe),r2(t,K0t,q0t,ipe),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,Y0t),A2t),"Manually Specified Cuts"),"Allows the user to specify her own cuts for a certain graph."),bTe),Rte),Jdt(cTe)))),r2(t,Y0t,K0t,Xge),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,X0t),"wrapping.cutting.msd"),"MSD Freedom"),"The MSD cutting strategy starts with an initial guess on the number of chunks the graph should be split into. The freedom specifies how much the strategy may deviate from this guess. E.g. if an initial number of 3 is computed, a freedom of 1 allows 2, 3, and 4 cuts."),Qge),mTe),Mee),Jdt(cTe)))),r2(t,X0t,K0t,Jge),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,Z0t),S2t),"Validification Strategy"),"When wrapping graphs, one can specify indices that are not allowed as split points. The validification strategy makes sure every computed split point is allowed."),mpe),gTe),fye),Jdt(cTe)))),r2(t,Z0t,q0t,bpe),r2(t,Z0t,q0t,wpe),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,Q0t),S2t),"Valid Indices for Wrapping"),null),bTe),Rte),Jdt(cTe)))),r2(t,Q0t,q0t,fpe),r2(t,Q0t,q0t,gpe),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,J0t),I2t),"Improve Cuts"),"For general graphs it is important that not too many edges wrap backwards. Thus a compromise between evenly-distributed cuts and the total number of cut edges is sought."),!0),dTe),vee),Jdt(cTe)))),r2(t,J0t,q0t,ape),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,t2t),I2t),"Distance Penalty When Improving Cuts"),null),2),fTe),Cee),Jdt(cTe)))),r2(t,t2t,q0t,ope),r2(t,t2t,J0t,!0),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,e2t),I2t),"Improve Wrapped Edges"),"The initial wrapping is performed in a very simple way. As a consequence, edges that wrap from one chunk to another may be unnecessarily long. Activating this option tries to shorten such edges."),!0),dTe),vee),Jdt(cTe)))),r2(t,e2t,q0t,lpe),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,n2t),M2t),"Edge Label Side Selection"),"Method to decide on edge label sides."),Ife),gTe),Hue),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,i2t),M2t),"Edge Center Label Placement Strategy"),"Determines in which layer center labels of long edges should be placed."),Afe),gTe),oue),_U(cTe,Cat(z_(vTe,1),PYt,175,0,[sTe]))))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,r2t),P2t),"Consider Model Order"),"Preserves the order of nodes and edges in the model file if this does not lead to additional edge crossings. Depending on the strategy this is not always possible since the node and edge order might be conflicting."),rfe),gTe),Fwe),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,o2t),P2t),"No Model Order"),"Set on a node to not set a model order for this node even though it is a real node."),!1),dTe),vee),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,s2t),P2t),"Consider Model Order for Components"),"If set to NONE the usual ordering strategy (by cumulative node priority and size of nodes) is used. INSIDE_PORT_SIDES orders the components with external ports only inside the groups with the same port side. FORCE_MODEL_ORDER enforces the mode order on components. This option might produce bad alignments and sub optimal drawings in terms of used area since the ordering should be respected."),Zde),gTe),bae),Jdt(cTe)))),r2(t,s2t,vJt,null),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,a2t),P2t),"Long Edge Ordering Strategy"),"Indicates whether long edges are sorted under, over, or equal to nodes that have no connection to a previous layer in a left-to-right or right-to-left layout. Under and over changes to right and left in a vertical layout."),efe),gTe),dwe),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,c2t),P2t),"Crossing Counter Node Order Influence"),"Indicates with what percentage (1 for 100%) violations of the node model order are weighted against the crossings e.g. a value of 0.5 means two model order violations are as important as on edge crossing. This allows some edge crossings in favor of preserving the model order. It is advised to set this value to a very small positive value (e.g. 0.001) to have minimal crossing and a optimal node order. Defaults to no influence (0)."),0),fTe),Cee),Jdt(cTe)))),r2(t,c2t,r2t,null),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,l2t),P2t),"Crossing Counter Port Order Influence"),"Indicates with what percentage (1 for 100%) violations of the port model order are weighted against the crossings e.g. a value of 0.5 means two model order violations are as important as on edge crossing. This allows some edge crossings in favor of preserving the model order. It is advised to set this value to a very small positive value (e.g. 0.001) to have minimal crossing and a optimal port order. Defaults to no influence (0)."),0),fTe),Cee),Jdt(cTe)))),r2(t,l2t,r2t,null),bKt((new uh,t))},mG(j1t,"LayeredMetaDataProvider",848),fPt(986,1,YZt,uh),EKt.Qe=function(t){bKt(t)},mG(j1t,"LayeredOptions",986),fPt(987,1,{},Io),EKt.$e=function(){return new Uw},EKt._e=function(t){},mG(j1t,"LayeredOptions/LayeredFactory",987),fPt(1372,1,{}),EKt.a=0,mG(y3t,"ElkSpacings/AbstractSpacingsBuilder",1372),fPt(779,1372,{},sgt),mG(j1t,"LayeredSpacings/LayeredSpacingsBuilder",779),fPt(313,22,{3:1,35:1,22:1,313:1,246:1,234:1},LA),EKt.Kf=function(){return iDt(this)},EKt.Xf=function(){return iDt(this)};var nwe,iwe,rwe,owe,swe=$nt(j1t,"LayeringStrategy",313,qte,t8,u$);fPt(378,22,{3:1,35:1,22:1,378:1},RA);var awe,cwe,lwe,uwe,hwe,dwe=$nt(j1t,"LongEdgeOrderingStrategy",378,qte,_1,h$);fPt(197,22,{3:1,35:1,22:1,197:1},BA);var fwe,gwe,pwe,mwe,bwe,wwe,ywe=$nt(j1t,"NodeFlexibility",197,qte,y3,d$);fPt(315,22,{3:1,35:1,22:1,315:1,246:1,234:1},FA),EKt.Kf=function(){return LPt(this)},EKt.Xf=function(){return LPt(this)};var vwe,_we,kwe,xwe,Ewe,Twe,Cwe,Awe,Swe,Iwe=$nt(j1t,"NodePlacementStrategy",315,qte,M4,w$);fPt(260,22,{3:1,35:1,22:1,260:1},$A);var Mwe,Pwe,Owe,Dwe,Nwe=$nt(j1t,"NodePromotionStrategy",260,qte,$et,g$);fPt(339,22,{3:1,35:1,22:1,339:1},VA);var Lwe,Rwe,Bwe,Fwe=$nt(j1t,"OrderingStrategy",339,qte,I1,p$);fPt(421,22,{3:1,35:1,22:1,421:1},zA);var jwe,$we,Vwe,zwe,Hwe=$nt(j1t,"PortSortingStrategy",421,qte,UZ,m$);fPt(452,22,{3:1,35:1,22:1,452:1},HA);var Uwe,qwe,Wwe,Gwe,Kwe=$nt(j1t,"PortType",452,qte,S1,f$);fPt(375,22,{3:1,35:1,22:1,375:1},UA);var Ywe,Xwe,Zwe,Qwe=$nt(j1t,"SelfLoopDistributionStrategy",375,qte,M1,b$);fPt(376,22,{3:1,35:1,22:1,376:1},qA);var Jwe,tye,eye,nye,iye=$nt(j1t,"SelfLoopOrderingStrategy",376,qte,jZ,y$);fPt(304,1,{304:1},cUt),mG(j1t,"Spacings",304),fPt(336,22,{3:1,35:1,22:1,336:1},WA);var rye,oye,sye,aye,cye=$nt(j1t,"SplineRoutingMode",336,qte,O1,v$);fPt(338,22,{3:1,35:1,22:1,338:1},GA);var lye,uye,hye,dye,fye=$nt(j1t,"ValidifyStrategy",338,qte,D1,_$);fPt(377,22,{3:1,35:1,22:1,377:1},KA);var gye,pye,mye,bye,wye,yye,vye,_ye,kye,xye,Eye=$nt(j1t,"WrappingStrategy",377,qte,P1,k$);fPt(1383,1,k3t,hh),EKt.Yf=function(t){return jV(t,37),pye},EKt.pf=function(t,e){Zzt(this,jV(t,37),e)},mG(x3t,"DepthFirstCycleBreaker",1383),fPt(782,1,k3t,RU),EKt.Yf=function(t){return jV(t,37),mye},EKt.pf=function(t,e){qGt(this,jV(t,37),e)},EKt.Zf=function(t){return jV(DH(t,mwt(this.d,t.c.length)),10)},mG(x3t,"GreedyCycleBreaker",782),fPt(1386,782,k3t,kI),EKt.Zf=function(t){var e,n,i,r;for(r=null,e=LKt,i=new Wf(t);i.a<i.c.c.length;)PL(n=jV(Q1(i),10),(lKt(),dde))&&jV(wTt(n,dde),19).a<e&&(e=jV(wTt(n,dde),19).a,r=n);return r||jV(DH(t,mwt(this.d,t.c.length)),10)},mG(x3t,"GreedyModelOrderCycleBreaker",1386),fPt(1384,1,k3t,eh),EKt.Yf=function(t){return jV(t,37),bye},EKt.pf=function(t,e){SHt(this,jV(t,37),e)},mG(x3t,"InteractiveCycleBreaker",1384),fPt(1385,1,k3t,nh),EKt.Yf=function(t){return jV(t,37),wye},EKt.pf=function(t,e){OHt(this,jV(t,37),e)},EKt.a=0,EKt.b=0,mG(x3t,"ModelOrderCycleBreaker",1385),fPt(1389,1,k3t,MT),EKt.Yf=function(t){return jV(t,37),yye},EKt.pf=function(t,e){ZGt(this,jV(t,37),e)},mG(E3t,"CoffmanGrahamLayerer",1389),fPt(1390,1,EZt,Np),EKt.ue=function(t,e){return $It(this.a,jV(t,10),jV(e,10))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(E3t,"CoffmanGrahamLayerer/0methodref$compareNodesInTopo$Type",1390),fPt(1391,1,EZt,Lp),EKt.ue=function(t,e){return HU(this.a,jV(t,10),jV(e,10))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(E3t,"CoffmanGrahamLayerer/lambda$1$Type",1391),fPt(1392,1,k3t,Mo),EKt.Yf=function(t){return jV(t,37),fH(fH(fH(new j2,(yTt(),Lse),(hKt(),yce)),Rse,Sce),Bse,Ace)},EKt.pf=function(t,e){kWt(this,jV(t,37),e)},mG(E3t,"InteractiveLayerer",1392),fPt(569,1,{569:1},ey),EKt.a=0,EKt.c=0,mG(E3t,"InteractiveLayerer/LayerSpan",569),fPt(1388,1,k3t,th),EKt.Yf=function(t){return jV(t,37),vye},EKt.pf=function(t,e){zLt(this,jV(t,37),e)},mG(E3t,"LongestPathLayerer",1388),fPt(1395,1,k3t,sh),EKt.Yf=function(t){return jV(t,37),fH(fH(fH(new j2,(yTt(),Lse),(hKt(),ice)),Rse,Sce),Bse,Ace)},EKt.pf=function(t,e){nGt(this,jV(t,37),e)},EKt.a=0,EKt.b=0,EKt.d=0,mG(E3t,"MinWidthLayerer",1395),fPt(1396,1,EZt,Rp),EKt.ue=function(t,e){return gst(this,jV(t,10),jV(e,10))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(E3t,"MinWidthLayerer/MinOutgoingEdgesComparator",1396),fPt(1387,1,k3t,oh),EKt.Yf=function(t){return jV(t,37),xye},EKt.pf=function(t,e){wUt(this,jV(t,37),e)},mG(E3t,"NetworkSimplexLayerer",1387),fPt(1393,1,k3t,LB),EKt.Yf=function(t){return jV(t,37),fH(fH(fH(new j2,(yTt(),Lse),(hKt(),ice)),Rse,Sce),Bse,Ace)},EKt.pf=function(t,e){Pqt(this,jV(t,37),e)},EKt.d=0,EKt.f=0,EKt.g=0,EKt.i=0,EKt.s=0,EKt.t=0,EKt.u=0,mG(E3t,"StretchWidthLayerer",1393),fPt(1394,1,EZt,Po),EKt.ue=function(t,e){return L6(jV(t,10),jV(e,10))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(E3t,"StretchWidthLayerer/1",1394),fPt(402,1,T3t),EKt.Nf=function(t,e,n,i,r,o){},EKt._f=function(t,e,n){return ijt(this,t,e,n)},EKt.Mf=function(){this.g=D7(DNe,C3t,25,this.d,15,1),this.f=D7(DNe,C3t,25,this.d,15,1)},EKt.Of=function(t,e){this.e[t]=D7(SNe,lXt,25,e[t].length,15,1)},EKt.Pf=function(t,e,n){n[t][e].p=e,this.e[t][e]=e},EKt.Qf=function(t,e,n,i){jV(DH(i[t][e].j,n),11).p=this.d++},EKt.b=0,EKt.c=0,EKt.d=0,mG(A3t,"AbstractBarycenterPortDistributor",402),fPt(1633,1,EZt,Bp),EKt.ue=function(t,e){return zmt(this.a,jV(t,11),jV(e,11))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(A3t,"AbstractBarycenterPortDistributor/lambda$0$Type",1633),fPt(817,1,D1t,z2),EKt.Nf=function(t,e,n,i,r,o){},EKt.Pf=function(t,e,n){},EKt.Qf=function(t,e,n,i){},EKt.Lf=function(){return!1},EKt.Mf=function(){this.c=this.e.a,this.g=this.f.g},EKt.Of=function(t,e){e[t][0].c.p=t},EKt.Rf=function(){return!1},EKt.ag=function(t,e,n,i){n?ckt(this,t):(Lkt(this,t,i),QUt(this,t,e)),t.c.length>1&&(Vv(kR(wTt(mK((u1(0,t.c.length),jV(t.c[0],10))),(VGt(),Dpe))))?ROt(t,this.d,jV(this,660)):(EX(),bO(t,this.d)),$st(this.e,t))},EKt.Sf=function(t,e,n,i){var r,o,s,a,c,l,u;for(e!=XH(n,t.length)&&(o=t[e-(n?1:-1)],z6(this.f,o,n?(oit(),Vwe):(oit(),$we))),r=t[e][0],u=!i||r.k==(sCt(),xae),l=o6(t[e]),this.ag(l,u,!1,n),s=0,c=new Wf(l);c.a<c.c.c.length;)a=jV(Q1(c),10),t[e][s++]=a;return!1},EKt.Tf=function(t,e){var n,i,r,o,s;for(o=o6(t[s=XH(e,t.length)]),this.ag(o,!1,!0,e),n=0,r=new Wf(o);r.a<r.c.c.length;)i=jV(Q1(r),10),t[s][n++]=i;return!1},mG(A3t,"BarycenterHeuristic",817),fPt(658,1,{658:1},jp),EKt.Ib=function(){return"BarycenterState [node="+this.c+", summedWeight="+this.d+", degree="+this.b+", barycenter="+this.a+", visited="+this.e+"]"},EKt.b=0,EKt.d=0,EKt.e=!1;var Tye=mG(A3t,"BarycenterHeuristic/BarycenterState",658);fPt(1802,1,EZt,Fp),EKt.ue=function(t,e){return Ext(this.a,jV(t,10),jV(e,10))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(A3t,"BarycenterHeuristic/lambda$0$Type",1802),fPt(816,1,D1t,qxt),EKt.Mf=function(){},EKt.Nf=function(t,e,n,i,r,o){},EKt.Qf=function(t,e,n,i){},EKt.Of=function(t,e){this.a[t]=D7(Tye,{3:1,4:1,5:1,2018:1},658,e[t].length,0,1),this.b[t]=D7(Pye,{3:1,4:1,5:1,2019:1},233,e[t].length,0,1)},EKt.Pf=function(t,e,n){Lmt(this,n[t][e],!0)},EKt.c=!1,mG(A3t,"ForsterConstraintResolver",816),fPt(233,1,{233:1},NZ,sUt),EKt.Ib=function(){var t,e;for((e=new C_).a+="[",t=0;t<this.d.length;t++)sM(e,Pbt(this.d[t])),null!=uD(this.g,this.d[0]).a&&sM(sM((e.a+="<",e),ZI(uD(this.g,this.d[0]).a)),">"),t<this.d.length-1&&(e.a+=jKt);return(e.a+="]",e).a},EKt.a=0,EKt.c=0,EKt.f=0;var Cye,Aye,Sye,Iye,Mye,Pye=mG(A3t,"ForsterConstraintResolver/ConstraintGroup",233);fPt(1797,1,hYt,Vp),EKt.td=function(t){Lmt(this.a,jV(t,10),!1)},mG(A3t,"ForsterConstraintResolver/lambda$0$Type",1797),fPt(214,1,{214:1,225:1},AUt),EKt.Nf=function(t,e,n,i,r,o){},EKt.Of=function(t,e){},EKt.Mf=function(){this.r=D7(SNe,lXt,25,this.n,15,1)},EKt.Pf=function(t,e,n){var i;(i=n[t][e].e)&&WV(this.b,i)},EKt.Qf=function(t,e,n,i){++this.n},EKt.Ib=function(){return nqt(this.e,new Lw)},EKt.g=!1,EKt.i=!1,EKt.n=0,EKt.s=!1,mG(A3t,"GraphInfoHolder",214),fPt(1832,1,D1t,So),EKt.Nf=function(t,e,n,i,r,o){},EKt.Of=function(t,e){},EKt.Qf=function(t,e,n,i){},EKt._f=function(t,e,n){return n&&e>0?oJ(this.a,t[e-1],t[e]):!n&&e<t.length-1?oJ(this.a,t[e],t[e+1]):yrt(this.a,t[e],n?(vWt(),CIe):(vWt(),sIe)),dDt(this,t,e,n)},EKt.Mf=function(){this.d=D7(SNe,lXt,25,this.c,15,1),this.a=new KF(this.d)},EKt.Pf=function(t,e,n){var i;i=n[t][e],this.c+=i.j.c.length},EKt.c=0,mG(A3t,"GreedyPortDistributor",1832),fPt(1401,1,k3t,dh),EKt.Yf=function(t){return Wut(jV(t,37))},EKt.pf=function(t,e){WUt(jV(t,37),e)},mG(A3t,"InteractiveCrossingMinimizer",1401),fPt(1402,1,EZt,zp),EKt.ue=function(t,e){return Vkt(this,jV(t,10),jV(e,10))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(A3t,"InteractiveCrossingMinimizer/1",1402),fPt(507,1,{507:1,123:1,51:1},Ov),EKt.Yf=function(t){var e;return jV(t,37),fH(e=yP(Aye),(yTt(),Bse),(hKt(),jce)),e},EKt.pf=function(t,e){Cjt(this,jV(t,37),e)},EKt.e=0,mG(A3t,"LayerSweepCrossingMinimizer",507),fPt(1398,1,hYt,Hp),EKt.td=function(t){fVt(this.a,jV(t,214))},mG(A3t,"LayerSweepCrossingMinimizer/0methodref$compareDifferentRandomizedLayouts$Type",1398),fPt(1399,1,hYt,Up),EKt.td=function(t){Iut(this.a,jV(t,214))},mG(A3t,"LayerSweepCrossingMinimizer/1methodref$minimizeCrossingsNoCounter$Type",1399),fPt(1400,1,hYt,qp),EKt.td=function(t){m$t(this.a,jV(t,214))},mG(A3t,"LayerSweepCrossingMinimizer/2methodref$minimizeCrossingsWithCounter$Type",1400),fPt(454,22,{3:1,35:1,22:1,454:1},YA);var Oye,Dye=$nt(A3t,"LayerSweepCrossingMinimizer/CrossMinType",454,qte,N1,x$);fPt(1397,1,LYt,Oo),EKt.Mb=function(t){return Fot(),0==jV(t,29).a.c.length},mG(A3t,"LayerSweepCrossingMinimizer/lambda$0$Type",1397),fPt(1799,1,D1t,rJ),EKt.Mf=function(){},EKt.Nf=function(t,e,n,i,r,o){},EKt.Qf=function(t,e,n,i){},EKt.Of=function(t,e){e[t][0].c.p=t,this.b[t]=D7(Bye,{3:1,4:1,5:1,1944:1},659,e[t].length,0,1)},EKt.Pf=function(t,e,n){n[t][e].p=e,MG(this.b[t],e,new Do)},mG(A3t,"LayerSweepTypeDecider",1799),fPt(659,1,{659:1},Do),EKt.Ib=function(){return"NodeInfo [connectedEdges="+this.a+", hierarchicalInfluence="+this.b+", randomInfluence="+this.c+"]"},EKt.a=0,EKt.b=0,EKt.c=0;var Nye,Lye,Rye,Bye=mG(A3t,"LayerSweepTypeDecider/NodeInfo",659);fPt(1800,1,zZt,No),EKt.Lb=function(t){return HN(new b6(jV(t,11).b))},EKt.Fb=function(t){return this===t},EKt.Mb=function(t){return HN(new b6(jV(t,11).b))},mG(A3t,"LayerSweepTypeDecider/lambda$0$Type",1800),fPt(1801,1,zZt,Lo),EKt.Lb=function(t){return HN(new b6(jV(t,11).b))},EKt.Fb=function(t){return this===t},EKt.Mb=function(t){return HN(new b6(jV(t,11).b))},mG(A3t,"LayerSweepTypeDecider/lambda$1$Type",1801),fPt(1833,402,T3t,Nk),EKt.$f=function(t,e,n){var i,r,o,s,a,c,l,u,h;switch(l=this.g,n.g){case 1:for(i=0,r=0,c=new Wf(t.j);c.a<c.c.c.length;)0!=(s=jV(Q1(c),11)).e.c.length&&(++i,s.j==(vWt(),aIe)&&++r);for(o=e+r,h=e+i,a=Ngt(t,(oit(),$we)).Kc();a.Ob();)(s=jV(a.Pb(),11)).j==(vWt(),aIe)?(l[s.p]=o,--o):(l[s.p]=h,--h);return i;case 2:for(u=0,a=Ngt(t,(oit(),Vwe)).Kc();a.Ob();)++u,l[(s=jV(a.Pb(),11)).p]=e+u;return u;default:throw $b(new dw)}},mG(A3t,"LayerTotalPortDistributor",1833),fPt(660,817,{660:1,225:1},mrt),EKt.ag=function(t,e,n,i){n?ckt(this,t):(Lkt(this,t,i),QUt(this,t,e)),t.c.length>1&&(Vv(kR(wTt(mK((u1(0,t.c.length),jV(t.c[0],10))),(VGt(),Dpe))))?ROt(t,this.d,this):(EX(),bO(t,this.d)),Vv(kR(wTt(mK((u1(0,t.c.length),jV(t.c[0],10))),Dpe)))||$st(this.e,t))},mG(A3t,"ModelOrderBarycenterHeuristic",660),fPt(1803,1,EZt,Wp),EKt.ue=function(t,e){return BCt(this.a,jV(t,10),jV(e,10))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(A3t,"ModelOrderBarycenterHeuristic/lambda$0$Type",1803),fPt(1403,1,k3t,yh),EKt.Yf=function(t){var e;return jV(t,37),fH(e=yP(Nye),(yTt(),Bse),(hKt(),jce)),e},EKt.pf=function(t,e){bZ((jV(t,37),e))},mG(A3t,"NoCrossingMinimizer",1403),fPt(796,402,T3t,Lk),EKt.$f=function(t,e,n){var i,r,o,s,a,c,l,u,h,d,f;switch(h=this.g,n.g){case 1:for(r=0,o=0,u=new Wf(t.j);u.a<u.c.c.length;)0!=(c=jV(Q1(u),11)).e.c.length&&(++r,c.j==(vWt(),aIe)&&++o);for(s=e+o*(i=1/(r+1)),f=e+1-i,l=Ngt(t,(oit(),$we)).Kc();l.Ob();)(c=jV(l.Pb(),11)).j==(vWt(),aIe)?(h[c.p]=s,s-=i):(h[c.p]=f,f-=i);break;case 2:for(a=0,u=new Wf(t.j);u.a<u.c.c.length;)0==(c=jV(Q1(u),11)).g.c.length||++a;for(d=e+(i=1/(a+1)),l=Ngt(t,(oit(),Vwe)).Kc();l.Ob();)h[(c=jV(l.Pb(),11)).p]=d,d+=i;break;default:throw $b(new Bv("Port type is undefined"))}return 1},mG(A3t,"NodeRelativePortDistributor",796),fPt(807,1,{},Gq,VTt),mG(A3t,"SweepCopy",807),fPt(1798,1,D1t,fpt),EKt.Of=function(t,e){},EKt.Mf=function(){var t;t=D7(SNe,lXt,25,this.f,15,1),this.d=new tm(t),this.a=new KF(t)},EKt.Nf=function(t,e,n,i,r,o){var s;s=jV(DH(o[t][e].j,n),11),r.c==s&&r.c.i.c==r.d.i.c&&++this.e[t]},EKt.Pf=function(t,e,n){var i;i=n[t][e],this.c[t]=this.c[t]|i.k==(sCt(),Aae)},EKt.Qf=function(t,e,n,i){var r;(r=jV(DH(i[t][e].j,n),11)).p=this.f++,r.g.c.length+r.e.c.length>1&&(r.j==(vWt(),sIe)?this.b[t]=!0:r.j==CIe&&t>0&&(this.b[t-1]=!0))},EKt.f=0,mG(O1t,"AllCrossingsCounter",1798),fPt(587,1,{},wrt),EKt.b=0,EKt.d=0,mG(O1t,"BinaryIndexedTree",587),fPt(524,1,{},KF),mG(O1t,"CrossingsCounter",524),fPt(1906,1,EZt,Gp),EKt.ue=function(t,e){return qH(this.a,jV(t,11),jV(e,11))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(O1t,"CrossingsCounter/lambda$0$Type",1906),fPt(1907,1,EZt,Kp),EKt.ue=function(t,e){return WH(this.a,jV(t,11),jV(e,11))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(O1t,"CrossingsCounter/lambda$1$Type",1907),fPt(1908,1,EZt,Yp),EKt.ue=function(t,e){return GH(this.a,jV(t,11),jV(e,11))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(O1t,"CrossingsCounter/lambda$2$Type",1908),fPt(1909,1,EZt,Xp),EKt.ue=function(t,e){return KH(this.a,jV(t,11),jV(e,11))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(O1t,"CrossingsCounter/lambda$3$Type",1909),fPt(1910,1,hYt,Zp),EKt.td=function(t){p9(this.a,jV(t,11))},mG(O1t,"CrossingsCounter/lambda$4$Type",1910),fPt(1911,1,LYt,Qp),EKt.Mb=function(t){return wI(this.a,jV(t,11))},mG(O1t,"CrossingsCounter/lambda$5$Type",1911),fPt(1912,1,hYt,Jp),EKt.td=function(t){bI(this,t)},mG(O1t,"CrossingsCounter/lambda$6$Type",1912),fPt(1913,1,hYt,ZA),EKt.td=function(t){var e;cz(),f3(this.b,(e=this.a,jV(t,11),e))},mG(O1t,"CrossingsCounter/lambda$7$Type",1913),fPt(826,1,zZt,Ro),EKt.Lb=function(t){return cz(),PL(jV(t,11),(lKt(),_de))},EKt.Fb=function(t){return this===t},EKt.Mb=function(t){return cz(),PL(jV(t,11),(lKt(),_de))},mG(O1t,"CrossingsCounter/lambda$8$Type",826),fPt(1905,1,{},tm),mG(O1t,"HyperedgeCrossingsCounter",1905),fPt(467,1,{35:1,467:1},NB),EKt.wd=function(t){return bmt(this,jV(t,467))},EKt.b=0,EKt.c=0,EKt.e=0,EKt.f=0;var Fye=mG(O1t,"HyperedgeCrossingsCounter/Hyperedge",467);fPt(362,1,{35:1,362:1},VY),EKt.wd=function(t){return hOt(this,jV(t,362))},EKt.b=0,EKt.c=0;var jye,$ye,Vye=mG(O1t,"HyperedgeCrossingsCounter/HyperedgeCorner",362);fPt(523,22,{3:1,35:1,22:1,523:1},XA);var zye,Hye,Uye,qye,Wye,Gye=$nt(O1t,"HyperedgeCrossingsCounter/HyperedgeCorner/Type",523,qte,qZ,E$);fPt(1405,1,k3t,lh),EKt.Yf=function(t){return jV(wTt(jV(t,37),(lKt(),Zhe)),21).Hc((dRt(),uhe))?Hye:null},EKt.pf=function(t,e){hkt(this,jV(t,37),e)},mG(S3t,"InteractiveNodePlacer",1405),fPt(1406,1,k3t,ch),EKt.Yf=function(t){return jV(wTt(jV(t,37),(lKt(),Zhe)),21).Hc((dRt(),uhe))?Uye:null},EKt.pf=function(t,e){_yt(this,jV(t,37),e)},mG(S3t,"LinearSegmentsNodePlacer",1406),fPt(257,1,{35:1,257:1},ny),EKt.wd=function(t){return ok(this,jV(t,257))},EKt.Fb=function(t){var e;return!!iD(t,257)&&(e=jV(t,257),this.b==e.b)},EKt.Hb=function(){return this.b},EKt.Ib=function(){return"ls"+OTt(this.e)},EKt.a=0,EKt.b=0,EKt.c=-1,EKt.d=-1,EKt.g=0;var Kye,Yye=mG(S3t,"LinearSegmentsNodePlacer/LinearSegment",257);fPt(1408,1,k3t,BU),EKt.Yf=function(t){return jV(wTt(jV(t,37),(lKt(),Zhe)),21).Hc((dRt(),uhe))?Kye:null},EKt.pf=function(t,e){TGt(this,jV(t,37),e)},EKt.b=0,EKt.g=0,mG(S3t,"NetworkSimplexPlacer",1408),fPt(1427,1,EZt,Bo),EKt.ue=function(t,e){return _O(jV(t,19).a,jV(e,19).a)},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(S3t,"NetworkSimplexPlacer/0methodref$compare$Type",1427),fPt(1429,1,EZt,Fo),EKt.ue=function(t,e){return _O(jV(t,19).a,jV(e,19).a)},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(S3t,"NetworkSimplexPlacer/1methodref$compare$Type",1429),fPt(649,1,{649:1},QA);var Xye=mG(S3t,"NetworkSimplexPlacer/EdgeRep",649);fPt(401,1,{401:1},zY),EKt.b=!1;var Zye,Qye,Jye,tve=mG(S3t,"NetworkSimplexPlacer/NodeRep",401);fPt(508,12,{3:1,4:1,20:1,28:1,52:1,12:1,14:1,15:1,54:1,508:1},oy),mG(S3t,"NetworkSimplexPlacer/Path",508),fPt(1409,1,{},jo),EKt.Kb=function(t){return jV(t,17).d.i.k},mG(S3t,"NetworkSimplexPlacer/Path/lambda$0$Type",1409),fPt(1410,1,LYt,$o),EKt.Mb=function(t){return jV(t,267)==(sCt(),Tae)},mG(S3t,"NetworkSimplexPlacer/Path/lambda$1$Type",1410),fPt(1411,1,{},Vo),EKt.Kb=function(t){return jV(t,17).d.i},mG(S3t,"NetworkSimplexPlacer/Path/lambda$2$Type",1411),fPt(1412,1,LYt,em),EKt.Mb=function(t){return $R(tpt(jV(t,10)))},mG(S3t,"NetworkSimplexPlacer/Path/lambda$3$Type",1412),fPt(1413,1,LYt,zo),EKt.Mb=function(t){return cH(jV(t,11))},mG(S3t,"NetworkSimplexPlacer/lambda$0$Type",1413),fPt(1414,1,hYt,JA),EKt.td=function(t){NO(this.a,this.b,jV(t,11))},mG(S3t,"NetworkSimplexPlacer/lambda$1$Type",1414),fPt(1423,1,hYt,nm),EKt.td=function(t){GSt(this.a,jV(t,17))},mG(S3t,"NetworkSimplexPlacer/lambda$10$Type",1423),fPt(1424,1,{},Ho),EKt.Kb=function(t){return jJ(),new LH(null,new d1(jV(t,29).a,16))},mG(S3t,"NetworkSimplexPlacer/lambda$11$Type",1424),fPt(1425,1,hYt,im),EKt.td=function(t){$Rt(this.a,jV(t,10))},mG(S3t,"NetworkSimplexPlacer/lambda$12$Type",1425),fPt(1426,1,{},Uo),EKt.Kb=function(t){return jJ(),ndt(jV(t,121).e)},mG(S3t,"NetworkSimplexPlacer/lambda$13$Type",1426),fPt(1428,1,{},qo),EKt.Kb=function(t){return jJ(),ndt(jV(t,121).e)},mG(S3t,"NetworkSimplexPlacer/lambda$15$Type",1428),fPt(1430,1,LYt,Wo),EKt.Mb=function(t){return jJ(),jV(t,401).c.k==(sCt(),Cae)},mG(S3t,"NetworkSimplexPlacer/lambda$17$Type",1430),fPt(1431,1,LYt,Go),EKt.Mb=function(t){return jJ(),jV(t,401).c.j.c.length>1},mG(S3t,"NetworkSimplexPlacer/lambda$18$Type",1431),fPt(1432,1,hYt,HY),EKt.td=function(t){rgt(this.c,this.b,this.d,this.a,jV(t,401))},EKt.c=0,EKt.d=0,mG(S3t,"NetworkSimplexPlacer/lambda$19$Type",1432),fPt(1415,1,{},Ko),EKt.Kb=function(t){return jJ(),new LH(null,new d1(jV(t,29).a,16))},mG(S3t,"NetworkSimplexPlacer/lambda$2$Type",1415),fPt(1433,1,hYt,rm),EKt.td=function(t){OO(this.a,jV(t,11))},EKt.a=0,mG(S3t,"NetworkSimplexPlacer/lambda$20$Type",1433),fPt(1434,1,{},Yo),EKt.Kb=function(t){return jJ(),new LH(null,new d1(jV(t,29).a,16))},mG(S3t,"NetworkSimplexPlacer/lambda$21$Type",1434),fPt(1435,1,hYt,om),EKt.td=function(t){fD(this.a,jV(t,10))},mG(S3t,"NetworkSimplexPlacer/lambda$22$Type",1435),fPt(1436,1,LYt,Xo),EKt.Mb=function(t){return $R(t)},mG(S3t,"NetworkSimplexPlacer/lambda$23$Type",1436),fPt(1437,1,{},Zo),EKt.Kb=function(t){return jJ(),new LH(null,new d1(jV(t,29).a,16))},mG(S3t,"NetworkSimplexPlacer/lambda$24$Type",1437),fPt(1438,1,LYt,sm),EKt.Mb=function(t){return _M(this.a,jV(t,10))},mG(S3t,"NetworkSimplexPlacer/lambda$25$Type",1438),fPt(1439,1,hYt,tS),EKt.td=function(t){EAt(this.a,this.b,jV(t,10))},mG(S3t,"NetworkSimplexPlacer/lambda$26$Type",1439),fPt(1440,1,LYt,Qo),EKt.Mb=function(t){return jJ(),!h4(jV(t,17))},mG(S3t,"NetworkSimplexPlacer/lambda$27$Type",1440),fPt(1441,1,LYt,Jo),EKt.Mb=function(t){return jJ(),!h4(jV(t,17))},mG(S3t,"NetworkSimplexPlacer/lambda$28$Type",1441),fPt(1442,1,{},am),EKt.Ce=function(t,e){return aD(this.a,jV(t,29),jV(e,29))},mG(S3t,"NetworkSimplexPlacer/lambda$29$Type",1442),fPt(1416,1,{},ts),EKt.Kb=function(t){return jJ(),new LH(null,new HW(new sq(ZD(hft(jV(t,10)).a.Kc(),new u))))},mG(S3t,"NetworkSimplexPlacer/lambda$3$Type",1416),fPt(1417,1,LYt,es),EKt.Mb=function(t){return jJ(),J0(jV(t,17))},mG(S3t,"NetworkSimplexPlacer/lambda$4$Type",1417),fPt(1418,1,hYt,cm),EKt.td=function(t){nVt(this.a,jV(t,17))},mG(S3t,"NetworkSimplexPlacer/lambda$5$Type",1418),fPt(1419,1,{},ns),EKt.Kb=function(t){return jJ(),new LH(null,new d1(jV(t,29).a,16))},mG(S3t,"NetworkSimplexPlacer/lambda$6$Type",1419),fPt(1420,1,LYt,is),EKt.Mb=function(t){return jJ(),jV(t,10).k==(sCt(),Cae)},mG(S3t,"NetworkSimplexPlacer/lambda$7$Type",1420),fPt(1421,1,{},rs),EKt.Kb=function(t){return jJ(),new LH(null,new HW(new sq(ZD(lft(jV(t,10)).a.Kc(),new u))))},mG(S3t,"NetworkSimplexPlacer/lambda$8$Type",1421),fPt(1422,1,LYt,os),EKt.Mb=function(t){return jJ(),Uz(jV(t,17))},mG(S3t,"NetworkSimplexPlacer/lambda$9$Type",1422),fPt(1404,1,k3t,Th),EKt.Yf=function(t){return jV(wTt(jV(t,37),(lKt(),Zhe)),21).Hc((dRt(),uhe))?Zye:null},EKt.pf=function(t,e){vzt(jV(t,37),e)},mG(S3t,"SimpleNodePlacer",1404),fPt(180,1,{180:1},zFt),EKt.Ib=function(){var t;return t="",this.c==(gQ(),Jye)?t+=oQt:this.c==Qye&&(t+=rQt),this.o==(sJ(),nve)?t+=mQt:this.o==ive?t+="UP":t+="BALANCED",t},mG(P3t,"BKAlignedLayout",180),fPt(516,22,{3:1,35:1,22:1,516:1},iS);var eve,nve,ive,rve=$nt(P3t,"BKAlignedLayout/HDirection",516,qte,GZ,T$);fPt(515,22,{3:1,35:1,22:1,515:1},nS);var ove,sve,ave,cve,lve,uve,hve,dve,fve,gve,pve,mve,bve,wve,yve,vve,_ve,kve,xve,Eve=$nt(P3t,"BKAlignedLayout/VDirection",515,qte,KZ,C$);fPt(1634,1,{},eS),mG(P3t,"BKAligner",1634),fPt(1637,1,{},Zvt),mG(P3t,"BKCompactor",1637),fPt(654,1,{654:1},ss),EKt.a=0,mG(P3t,"BKCompactor/ClassEdge",654),fPt(458,1,{458:1},iy),EKt.a=null,EKt.b=0,mG(P3t,"BKCompactor/ClassNode",458),fPt(1407,1,k3t,vI),EKt.Yf=function(t){return jV(wTt(jV(t,37),(lKt(),Zhe)),21).Hc((dRt(),uhe))?sve:null},EKt.pf=function(t,e){iKt(this,jV(t,37),e)},EKt.d=!1,mG(P3t,"BKNodePlacer",1407),fPt(1635,1,{},as),EKt.d=0,mG(P3t,"NeighborhoodInformation",1635),fPt(1636,1,EZt,lm),EKt.ue=function(t,e){return Eet(this,jV(t,46),jV(e,46))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(P3t,"NeighborhoodInformation/NeighborComparator",1636),fPt(808,1,{}),mG(P3t,"ThresholdStrategy",808),fPt(1763,808,{},fy),EKt.bg=function(t,e,n){return this.a.o==(sJ(),ive)?RXt:BXt},EKt.cg=function(){},mG(P3t,"ThresholdStrategy/NullThresholdStrategy",1763),fPt(579,1,{579:1},rS),EKt.c=!1,EKt.d=!1,mG(P3t,"ThresholdStrategy/Postprocessable",579),fPt(1764,808,{},gy),EKt.bg=function(t,e,n){var i,r,o;return r=e==n,i=this.a.a[n.p]==e,r||i?(o=t,this.a.c,gQ(),r&&(o=xzt(this,e,!0)),!isNaN(o)&&!isFinite(o)&&i&&(o=xzt(this,n,!1)),o):t},EKt.cg=function(){for(var t,e,n;0!=this.d.b;)(e=r$t(this,n=jV(TQ(this.d),579))).a&&(t=e.a,(Vv(this.a.f[this.a.g[n.b.p].p])||h4(t)||t.c.i.c!=t.d.i.c)&&(dOt(this,n)||nP(this.e,n)));for(;0!=this.e.a.c.length;)dOt(this,jV(tut(this.e),579))},mG(P3t,"ThresholdStrategy/SimpleThresholdStrategy",1764),fPt(635,1,{635:1,246:1,234:1},cs),EKt.Kf=function(){return xst(this)},EKt.Xf=function(){return xst(this)},mG(O3t,"EdgeRouterFactory",635),fPt(1458,1,k3t,Ch),EKt.Yf=function(t){return qLt(jV(t,37))},EKt.pf=function(t,e){Lzt(jV(t,37),e)},mG(O3t,"OrthogonalEdgeRouter",1458),fPt(1451,1,k3t,_I),EKt.Yf=function(t){return kkt(jV(t,37))},EKt.pf=function(t,e){IWt(this,jV(t,37),e)},mG(O3t,"PolylineEdgeRouter",1451),fPt(1452,1,zZt,ls),EKt.Lb=function(t){return Yst(jV(t,10))},EKt.Fb=function(t){return this===t},EKt.Mb=function(t){return Yst(jV(t,10))},mG(O3t,"PolylineEdgeRouter/1",1452),fPt(1809,1,LYt,us),EKt.Mb=function(t){return jV(t,129).c==(S6(),kve)},mG(D3t,"HyperEdgeCycleDetector/lambda$0$Type",1809),fPt(1810,1,{},hs),EKt.Ge=function(t){return jV(t,129).d},mG(D3t,"HyperEdgeCycleDetector/lambda$1$Type",1810),fPt(1811,1,LYt,ds),EKt.Mb=function(t){return jV(t,129).c==(S6(),kve)},mG(D3t,"HyperEdgeCycleDetector/lambda$2$Type",1811),fPt(1812,1,{},fs),EKt.Ge=function(t){return jV(t,129).d},mG(D3t,"HyperEdgeCycleDetector/lambda$3$Type",1812),fPt(1813,1,{},gs),EKt.Ge=function(t){return jV(t,129).d},mG(D3t,"HyperEdgeCycleDetector/lambda$4$Type",1813),fPt(1814,1,{},ps),EKt.Ge=function(t){return jV(t,129).d},mG(D3t,"HyperEdgeCycleDetector/lambda$5$Type",1814),fPt(112,1,{35:1,112:1},jst),EKt.wd=function(t){return sk(this,jV(t,112))},EKt.Fb=function(t){var e;return!!iD(t,112)&&(e=jV(t,112),this.g==e.g)},EKt.Hb=function(){return this.g},EKt.Ib=function(){var t,e,n,i;for(t=new uN("{"),i=new Wf(this.n);i.a<i.c.c.length;)null==(e=pvt((n=jV(Q1(i),11)).i))&&(e="n"+IF(n.i)),t.a+=""+e,i.a<i.c.c.length&&(t.a+=",");return t.a+="}",t.a},EKt.a=0,EKt.b=0,EKt.c=NaN,EKt.d=0,EKt.g=0,EKt.i=0,EKt.o=0,EKt.s=NaN,mG(D3t,"HyperEdgeSegment",112),fPt(129,1,{129:1},HJ),EKt.Ib=function(){return this.a+"->"+this.b+" ("+dL(this.c)+")"},EKt.d=0,mG(D3t,"HyperEdgeSegmentDependency",129),fPt(520,22,{3:1,35:1,22:1,520:1},oS);var Tve,Cve,Ave,Sve,Ive,Mve,Pve,Ove,Dve=$nt(D3t,"HyperEdgeSegmentDependency/DependencyType",520,qte,WZ,A$);fPt(1815,1,{},um),mG(D3t,"HyperEdgeSegmentSplitter",1815),fPt(1816,1,{},Hk),EKt.a=0,EKt.b=0,mG(D3t,"HyperEdgeSegmentSplitter/AreaRating",1816),fPt(329,1,{329:1},yV),EKt.a=0,EKt.b=0,EKt.c=0,mG(D3t,"HyperEdgeSegmentSplitter/FreeArea",329),fPt(1817,1,EZt,xs),EKt.ue=function(t,e){return SF(jV(t,112),jV(e,112))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(D3t,"HyperEdgeSegmentSplitter/lambda$0$Type",1817),fPt(1818,1,hYt,qY),EKt.td=function(t){Q3(this.a,this.d,this.c,this.b,jV(t,112))},EKt.b=0,mG(D3t,"HyperEdgeSegmentSplitter/lambda$1$Type",1818),fPt(1819,1,{},Es),EKt.Kb=function(t){return new LH(null,new d1(jV(t,112).e,16))},mG(D3t,"HyperEdgeSegmentSplitter/lambda$2$Type",1819),fPt(1820,1,{},Ts),EKt.Kb=function(t){return new LH(null,new d1(jV(t,112).j,16))},mG(D3t,"HyperEdgeSegmentSplitter/lambda$3$Type",1820),fPt(1821,1,{},Cs),EKt.Fe=function(t){return zv(xR(t))},mG(D3t,"HyperEdgeSegmentSplitter/lambda$4$Type",1821),fPt(655,1,{},lG),EKt.a=0,EKt.b=0,EKt.c=0,mG(D3t,"OrthogonalRoutingGenerator",655),fPt(1638,1,{},As),EKt.Kb=function(t){return new LH(null,new d1(jV(t,112).e,16))},mG(D3t,"OrthogonalRoutingGenerator/lambda$0$Type",1638),fPt(1639,1,{},Ss),EKt.Kb=function(t){return new LH(null,new d1(jV(t,112).j,16))},mG(D3t,"OrthogonalRoutingGenerator/lambda$1$Type",1639),fPt(661,1,{}),mG(N3t,"BaseRoutingDirectionStrategy",661),fPt(1807,661,{},py),EKt.dg=function(t,e,n){var r,o,s,a,c,l,u,h,d,f,g,p,m;if(!t.r||t.q)for(h=e+t.o*n,u=new Wf(t.n);u.a<u.c.c.length;)for(l=jV(Q1(u),11),d=Mct(Cat(z_(TTe,1),cYt,8,0,[l.i.n,l.n,l.a])).a,c=new Wf(l.g);c.a<c.c.c.length;)h4(a=jV(Q1(c),17))||(p=a.d,m=Mct(Cat(z_(TTe,1),cYt,8,0,[p.i.n,p.n,p.a])).a,i.Math.abs(d-m)>hJt&&(o=t,r=new DS(d,s=h),Nz(a.a,r),jjt(this,a,o,r,!1),(f=t.r)&&(r=new DS(g=zv(xR(Lbt(f.e,0))),s),Nz(a.a,r),jjt(this,a,o,r,!1),o=f,r=new DS(g,s=e+f.o*n),Nz(a.a,r),jjt(this,a,o,r,!1)),r=new DS(m,s),Nz(a.a,r),jjt(this,a,o,r,!1)))},EKt.eg=function(t){return t.i.n.a+t.n.a+t.a.a},EKt.fg=function(){return vWt(),EIe},EKt.gg=function(){return vWt(),aIe},mG(N3t,"NorthToSouthRoutingStrategy",1807),fPt(1808,661,{},my),EKt.dg=function(t,e,n){var r,o,s,a,c,l,u,h,d,f,g,p,m;if(!t.r||t.q)for(h=e-t.o*n,u=new Wf(t.n);u.a<u.c.c.length;)for(l=jV(Q1(u),11),d=Mct(Cat(z_(TTe,1),cYt,8,0,[l.i.n,l.n,l.a])).a,c=new Wf(l.g);c.a<c.c.c.length;)h4(a=jV(Q1(c),17))||(p=a.d,m=Mct(Cat(z_(TTe,1),cYt,8,0,[p.i.n,p.n,p.a])).a,i.Math.abs(d-m)>hJt&&(o=t,r=new DS(d,s=h),Nz(a.a,r),jjt(this,a,o,r,!1),(f=t.r)&&(r=new DS(g=zv(xR(Lbt(f.e,0))),s),Nz(a.a,r),jjt(this,a,o,r,!1),o=f,r=new DS(g,s=e-f.o*n),Nz(a.a,r),jjt(this,a,o,r,!1)),r=new DS(m,s),Nz(a.a,r),jjt(this,a,o,r,!1)))},EKt.eg=function(t){return t.i.n.a+t.n.a+t.a.a},EKt.fg=function(){return vWt(),aIe},EKt.gg=function(){return vWt(),EIe},mG(N3t,"SouthToNorthRoutingStrategy",1808),fPt(1806,661,{},by),EKt.dg=function(t,e,n){var r,o,s,a,c,l,u,h,d,f,g,p,m;if(!t.r||t.q)for(h=e+t.o*n,u=new Wf(t.n);u.a<u.c.c.length;)for(l=jV(Q1(u),11),d=Mct(Cat(z_(TTe,1),cYt,8,0,[l.i.n,l.n,l.a])).b,c=new Wf(l.g);c.a<c.c.c.length;)h4(a=jV(Q1(c),17))||(p=a.d,m=Mct(Cat(z_(TTe,1),cYt,8,0,[p.i.n,p.n,p.a])).b,i.Math.abs(d-m)>hJt&&(o=t,r=new DS(s=h,d),Nz(a.a,r),jjt(this,a,o,r,!0),(f=t.r)&&(r=new DS(s,g=zv(xR(Lbt(f.e,0)))),Nz(a.a,r),jjt(this,a,o,r,!0),o=f,r=new DS(s=e+f.o*n,g),Nz(a.a,r),jjt(this,a,o,r,!0)),r=new DS(s,m),Nz(a.a,r),jjt(this,a,o,r,!0)))},EKt.eg=function(t){return t.i.n.b+t.n.b+t.a.b},EKt.fg=function(){return vWt(),sIe},EKt.gg=function(){return vWt(),CIe},mG(N3t,"WestToEastRoutingStrategy",1806),fPt(813,1,{},aVt),EKt.Ib=function(){return OTt(this.a)},EKt.b=0,EKt.c=!1,EKt.d=!1,EKt.f=0,mG(R3t,"NubSpline",813),fPt(407,1,{407:1},kLt,dQ),mG(R3t,"NubSpline/PolarCP",407),fPt(1453,1,k3t,lvt),EKt.Yf=function(t){return iEt(jV(t,37))},EKt.pf=function(t,e){rGt(this,jV(t,37),e)},mG(R3t,"SplineEdgeRouter",1453),fPt(268,1,{268:1},E6),EKt.Ib=function(){return this.a+" ->("+this.c+") "+this.b},EKt.c=0,mG(R3t,"SplineEdgeRouter/Dependency",268),fPt(455,22,{3:1,35:1,22:1,455:1},sS);var Nve,Lve,Rve,Bve,Fve,jve=$nt(R3t,"SplineEdgeRouter/SideToProcess",455,qte,YZ,S$);fPt(1454,1,LYt,_s),EKt.Mb=function(t){return pLt(),!jV(t,128).o},mG(R3t,"SplineEdgeRouter/lambda$0$Type",1454),fPt(1455,1,{},vs),EKt.Ge=function(t){return pLt(),jV(t,128).v+1},mG(R3t,"SplineEdgeRouter/lambda$1$Type",1455),fPt(1456,1,hYt,aS),EKt.td=function(t){eH(this.a,this.b,jV(t,46))},mG(R3t,"SplineEdgeRouter/lambda$2$Type",1456),fPt(1457,1,hYt,cS),EKt.td=function(t){nH(this.a,this.b,jV(t,46))},mG(R3t,"SplineEdgeRouter/lambda$3$Type",1457),fPt(128,1,{35:1,128:1},tSt,lHt),EKt.wd=function(t){return ak(this,jV(t,128))},EKt.b=0,EKt.e=!1,EKt.f=0,EKt.g=0,EKt.j=!1,EKt.k=!1,EKt.n=0,EKt.o=!1,EKt.p=!1,EKt.q=!1,EKt.s=0,EKt.u=0,EKt.v=0,EKt.F=0,mG(R3t,"SplineSegment",128),fPt(459,1,{459:1},ks),EKt.a=0,EKt.b=!1,EKt.c=!1,EKt.d=!1,EKt.e=!1,EKt.f=0,mG(R3t,"SplineSegment/EdgeInformation",459),fPt(1234,1,{},ms),mG(V3t,nJt,1234),fPt(1235,1,EZt,bs),EKt.ue=function(t,e){return SIt(jV(t,135),jV(e,135))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(V3t,iJt,1235),fPt(1233,1,{},Ix),mG(V3t,"MrTree",1233),fPt(393,22,{3:1,35:1,22:1,393:1,246:1,234:1},lS),EKt.Kf=function(){return MIt(this)},EKt.Xf=function(){return MIt(this)};var $ve,Vve=$nt(V3t,"TreeLayoutPhases",393,qte,v3,I$);fPt(1130,209,DQt,BB),EKt.Ze=function(t,e){var n,i,r,o,s,a;for(Vv(kR(QPt(t,(APt(),C_e))))||vQ(new kg((zT(),new Nv(t)))),zst(s=new T6,t),lct(s,(zHt(),a_e),t),bjt(t,s,a=new Db),Gjt(t,s,a),o=s,i=new Wf(r=Njt(this.a,o));i.a<i.c.c.length;)n=jV(Q1(i),135),Gxt(this.b,n,wot(e,1/r.c.length));Sqt(o=tKt(r))},mG(V3t,"TreeLayoutProvider",1130),fPt(1847,1,mYt,ws),EKt.Jc=function(t){t4(this,t)},EKt.Kc=function(){return EX(),PE(),hne},mG(V3t,"TreeUtil/1",1847),fPt(1848,1,mYt,ys),EKt.Jc=function(t){t4(this,t)},EKt.Kc=function(){return EX(),PE(),hne},mG(V3t,"TreeUtil/2",1848),fPt(502,134,{3:1,502:1,94:1,134:1}),EKt.g=0,mG(z3t,"TGraphElement",502),fPt(188,502,{3:1,188:1,502:1,94:1,134:1},UX),EKt.Ib=function(){return this.b&&this.c?g0(this.b)+"->"+g0(this.c):"e_"+Jct(this)},mG(z3t,"TEdge",188),fPt(135,134,{3:1,135:1,94:1,134:1},T6),EKt.Ib=function(){var t,e,n,i,r;for(r=null,i=cbt(this.b,0);i.b!=i.d.c;)r+=(null==(n=jV(h3(i),86)).c||0==n.c.length?"n_"+n.g:"n_"+n.c)+"\n";for(e=cbt(this.a,0);e.b!=e.d.c;)r+=((t=jV(h3(e),188)).b&&t.c?g0(t.b)+"->"+g0(t.c):"e_"+Jct(t))+"\n";return r};var zve=mG(z3t,"TGraph",135);fPt(633,502,{3:1,502:1,633:1,94:1,134:1}),mG(z3t,"TShape",633),fPt(86,633,{3:1,502:1,86:1,633:1,94:1,134:1},rlt),EKt.Ib=function(){return g0(this)};var Hve,Uve,qve,Wve,Gve,Kve,Yve=mG(z3t,"TNode",86);fPt(255,1,mYt,hm),EKt.Jc=function(t){t4(this,t)},EKt.Kc=function(){return new dm(cbt(this.a.d,0))},mG(z3t,"TNode/2",255),fPt(358,1,YKt,dm),EKt.Nb=function(t){lW(this,t)},EKt.Pb=function(){return jV(h3(this.a),188).c},EKt.Ob=function(){return _x(this.a)},EKt.Qb=function(){wet(this.a)},mG(z3t,"TNode/2/1",358),fPt(1840,1,JJt,RB),EKt.pf=function(t,e){N$t(this,jV(t,135),e)},mG(H3t,"FanProcessor",1840),fPt(327,22,{3:1,35:1,22:1,327:1,234:1},uS),EKt.Kf=function(){switch(this.g){case 0:return new Ky;case 1:return new RB;case 2:return new Ps;case 3:return new Is;case 4:return new Ds;case 5:return new Ns;default:throw $b(new Bv(E1t+(null!=this.f?this.f:""+this.g)))}};var Xve,Zve,Qve,Jve,t_e,e_e,n_e,i_e,r_e,o_e,s_e,a_e,c_e,l_e,u_e,h_e,d_e,f_e,g_e,p_e,m_e,b_e,w_e,y_e,v_e,__e,k_e,x_e,E_e,T_e,C_e,A_e,S_e,I_e,M_e,P_e,O_e,D_e,N_e,L_e,R_e,B_e=$nt(H3t,T1t,327,qte,n8,M$);fPt(1843,1,JJt,Is),EKt.pf=function(t,e){sOt(this,jV(t,135),e)},EKt.a=0,mG(H3t,"LevelHeightProcessor",1843),fPt(1844,1,mYt,Ms),EKt.Jc=function(t){t4(this,t)},EKt.Kc=function(){return EX(),PE(),hne},mG(H3t,"LevelHeightProcessor/1",1844),fPt(1841,1,JJt,Ps),EKt.pf=function(t,e){YAt(this,jV(t,135),e)},EKt.a=0,mG(H3t,"NeighborsProcessor",1841),fPt(1842,1,mYt,Os),EKt.Jc=function(t){t4(this,t)},EKt.Kc=function(){return EX(),PE(),hne},mG(H3t,"NeighborsProcessor/1",1842),fPt(1845,1,JJt,Ds),EKt.pf=function(t,e){oOt(this,jV(t,135),e)},EKt.a=0,mG(H3t,"NodePositionProcessor",1845),fPt(1839,1,JJt,Ky),EKt.pf=function(t,e){Qzt(this,jV(t,135))},mG(H3t,"RootProcessor",1839),fPt(1846,1,JJt,Ns),EKt.pf=function(t,e){gdt(jV(t,135))},mG(H3t,"Untreeifyer",1846),fPt(851,1,YZt,Eh),EKt.Qe=function(t){Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,W3t),""),"Weighting of Nodes"),"Which weighting to use when computing a node order."),y_e),(CAt(),gTe)),V_e),Jdt((ibt(),cTe))))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,G3t),""),"Search Order"),"Which search order to use when computing a spanning tree."),b_e),gTe),X_e),Jdt(cTe)))),BUt((new xh,t))},mG(K3t,"MrTreeMetaDataProvider",851),fPt(994,1,YZt,xh),EKt.Qe=function(t){BUt(t)},mG(K3t,"MrTreeOptions",994),fPt(995,1,{},Ls),EKt.$e=function(){return new BB},EKt._e=function(t){},mG(K3t,"MrTreeOptions/MrtreeFactory",995),fPt(480,22,{3:1,35:1,22:1,480:1},hS);var F_e,j_e,$_e,V_e=$nt(K3t,"OrderWeighting",480,qte,ZZ,P$);fPt(425,22,{3:1,35:1,22:1,425:1},dS);var z_e,H_e,U_e,q_e,W_e,G_e,K_e,Y_e,X_e=$nt(K3t,"TreeifyingOrder",425,qte,XZ,D$);fPt(1459,1,k3t,gh),EKt.Yf=function(t){return jV(t,135),H_e},EKt.pf=function(t,e){yot(this,jV(t,135),e)},mG("org.eclipse.elk.alg.mrtree.p1treeify","DFSTreeifyer",1459),fPt(1460,1,k3t,ph),EKt.Yf=function(t){return jV(t,135),U_e},EKt.pf=function(t,e){uSt(this,jV(t,135),e)},mG("org.eclipse.elk.alg.mrtree.p2order","NodeOrderer",1460),fPt(1461,1,k3t,fh),EKt.Yf=function(t){return jV(t,135),q_e},EKt.pf=function(t,e){JRt(this,jV(t,135),e)},EKt.a=0,mG("org.eclipse.elk.alg.mrtree.p3place","NodePlacer",1461),fPt(1462,1,k3t,mh),EKt.Yf=function(t){return jV(t,135),W_e},EKt.pf=function(t,e){N_t(jV(t,135),e)},mG("org.eclipse.elk.alg.mrtree.p4route","EdgeRouter",1462),fPt(495,22,{3:1,35:1,22:1,495:1,246:1,234:1},fS),EKt.Kf=function(){return dgt(this)},EKt.Xf=function(){return dgt(this)};var Z_e,Q_e,J_e,tke,eke=$nt(Z3t,"RadialLayoutPhases",495,qte,QZ,O$);fPt(1131,209,DQt,Sx),EKt.Ze=function(t,e){var n,i,r;if(IEt(e,"Radial layout",kSt(this,t).c.length),Vv(kR(QPt(t,(qvt(),Ike))))||vQ(new kg((zT(),new Nv(t)))),r=sEt(t),Xbt(t,(dR(),G_e),r),!r)throw $b(new Bv("The given graph is not a tree!"));for(0==(n=zv(xR(QPt(t,Nke))))&&(n=uIt(t)),Xbt(t,Nke,n),i=new Wf(kSt(this,t));i.a<i.c.c.length;)jV(Q1(i),51).pf(t,wot(e,1));VCt(e)},mG(Z3t,"RadialLayoutProvider",1131),fPt(549,1,EZt,Ax),EKt.ue=function(t,e){return LBt(this.a,this.b,jV(t,33),jV(e,33))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},EKt.a=0,EKt.b=0,mG(Z3t,"RadialUtil/lambda$0$Type",549),fPt(1375,1,JJt,Bs),EKt.pf=function(t,e){gUt(jV(t,33),e)},mG(t5t,"CalculateGraphSize",1375),fPt(442,22,{3:1,35:1,22:1,442:1,234:1},gS),EKt.Kf=function(){switch(this.g){case 0:return new zs;case 1:return new Rs;case 2:return new Bs;default:throw $b(new Bv(E1t+(null!=this.f?this.f:""+this.g)))}};var nke,ike,rke,oke=$nt(t5t,T1t,442,qte,L1,N$);fPt(645,1,{}),EKt.e=1,EKt.g=0,mG(e5t,"AbstractRadiusExtensionCompaction",645),fPt(1772,645,{},gR),EKt.hg=function(t){var e,n,i,r,o,s,a,c,l;for(this.c=jV(QPt(t,(dR(),G_e)),33),Jd(this,this.c),this.d=kwt(jV(QPt(t,(qvt(),Lke)),293)),(c=jV(QPt(t,xke),19))&&Qd(this,c.a),tf(this,(yK(a=xR(QPt(t,(cKt(),PAe)))),a)),l=fRt(this.c),this.d&&this.d.lg(l),bFt(this,l),s=new Xv(Cat(z_(HMe,1),n5t,33,0,[this.c])),n=0;n<2;n++)for(e=0;e<l.c.length;e++)r=new Xv(Cat(z_(HMe,1),n5t,33,0,[(u1(e,l.c.length),jV(l.c[e],33))])),o=e<l.c.length-1?(u1(e+1,l.c.length),jV(l.c[e+1],33)):(u1(0,l.c.length),jV(l.c[0],33)),i=0==e?jV(DH(l,l.c.length-1),33):(u1(e-1,l.c.length),jV(l.c[e-1],33)),QEt(this,(u1(e,l.c.length),jV(l.c[e],33),s),i,o,r)},mG(e5t,"AnnulusWedgeCompaction",1772),fPt(1374,1,JJt,Rs),EKt.pf=function(t,e){dkt(jV(t,33),e)},mG(e5t,"GeneralCompactor",1374),fPt(1771,645,{},Fs),EKt.hg=function(t){var e,n,i,r;n=jV(QPt(t,(dR(),G_e)),33),this.f=n,this.b=kwt(jV(QPt(t,(qvt(),Lke)),293)),(r=jV(QPt(t,xke),19))&&Qd(this,r.a),tf(this,(yK(i=xR(QPt(t,(cKt(),PAe)))),i)),e=fRt(n),this.b&&this.b.lg(e),bAt(this,e)},EKt.a=0,mG(e5t,"RadialCompaction",1771),fPt(1779,1,{},js),EKt.ig=function(t){var e,n,i,r,o,s;for(this.a=t,e=0,i=0,o=new Wf(s=fRt(t));o.a<o.c.c.length;)for(r=jV(Q1(o),33),n=++i;n<s.c.length;n++)X$t(this,r,(u1(n,s.c.length),jV(s.c[n],33)))&&(e+=1);return e},mG(i5t,"CrossingMinimizationPosition",1779),fPt(1777,1,{},$s),EKt.ig=function(t){var e,n,r,o,s,a,c,l,h,d,f,g,p;for(r=0,n=new sq(ZD(gDt(t).a.Kc(),new u));gPt(n);)e=jV(U4(n),79),h=(c=CEt(jV(Get((!e.c&&(e.c=new cF(LMe,e,5,8)),e.c),0),82))).i+c.g/2,d=c.j+c.f/2,o=t.i+t.g/2,s=t.j+t.f/2,(f=new zk).a=h-o,f.b=d-s,q_t(a=new DS(f.a,f.b),t.g,t.f),f.a-=a.a,f.b-=a.b,o=h-f.a,s=d-f.b,q_t(l=new DS(f.a,f.b),c.g,c.f),f.a-=l.a,f.b-=l.b,g=(h=o+f.a)-o,p=(d=s+f.b)-s,r+=i.Math.sqrt(g*g+p*p);return r},mG(i5t,"EdgeLengthOptimization",1777),fPt(1778,1,{},Vs),EKt.ig=function(t){var e,n,r,o,s,a,c,l,h;for(r=0,n=new sq(ZD(gDt(t).a.Kc(),new u));gPt(n);)e=jV(U4(n),79),a=(s=CEt(jV(Get((!e.c&&(e.c=new cF(LMe,e,5,8)),e.c),0),82))).i+s.g/2,c=s.j+s.f/2,o=jV(QPt(s,(cKt(),gAe)),8),l=a-(t.i+o.a+t.g/2),h=c-(t.j+o.b+t.f),r+=i.Math.sqrt(l*l+h*h);return r},mG(i5t,"EdgeLengthPositionOptimization",1778),fPt(1373,645,JJt,zs),EKt.pf=function(t,e){uDt(this,jV(t,33),e)},mG("org.eclipse.elk.alg.radial.intermediate.overlaps","RadiusExtensionOverlapRemoval",1373),fPt(426,22,{3:1,35:1,22:1,426:1},pS);var ske,ake,cke,lke,uke=$nt(o5t,"AnnulusWedgeCriteria",426,qte,JZ,L$);fPt(380,22,{3:1,35:1,22:1,380:1},mS);var hke,dke,fke,gke,pke,mke,bke,wke,yke,vke,_ke,kke,xke,Eke,Tke,Cke,Ake,Ske,Ike,Mke,Pke,Oke,Dke,Nke,Lke,Rke,Bke,Fke,jke,$ke,Vke,zke=$nt(o5t,jQt,380,qte,R1,R$);fPt(852,1,YZt,bh),EKt.Qe=function(t){Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,s5t),""),"Order ID"),"The id can be used to define an order for nodes of one radius. This can be used to sort them in the layer accordingly."),ndt(0)),(CAt(),mTe)),Mee),Jdt((ibt(),aTe))))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,a5t),""),"Radius"),"The radius option can be used to set the initial radius for the radial layouter."),0),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,c5t),""),"Compaction"),"With the compacter option it can be determined how compaction on the graph is done. It can be chosen between none, the radial compaction or the compaction of wedges separately."),gke),gTe),zke),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,l5t),""),"Compaction Step Size"),"Determine the size of steps with which the compaction is done. Step size 1 correlates to a compaction of 1 pixel per Iteration."),ndt(1)),mTe),Mee),Jdt(cTe)))),r2(t,l5t,c5t,null),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,u5t),""),"Sorter"),"Sort the nodes per radius according to the sorting algorithm. The strategies are none, by the given order id, or sorting them by polar coordinates."),vke),gTe),Yke),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,h5t),""),"Annulus Wedge Criteria"),"Determine how the wedge for the node placement is calculated. It can be chosen between wedge determination by the number of leaves or by the maximum sum of diagonals."),kke),gTe),uke),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,d5t),""),"Translation Optimization"),"Find the optimal translation of the nodes of the first radii according to this criteria. For example edge crossings can be minimized."),mke),gTe),Gke),Jdt(cTe)))),tWt((new wh,t))},mG(o5t,"RadialMetaDataProvider",852),fPt(996,1,YZt,wh),EKt.Qe=function(t){tWt(t)},mG(o5t,"RadialOptions",996),fPt(997,1,{},Hs),EKt.$e=function(){return new Sx},EKt._e=function(t){},mG(o5t,"RadialOptions/RadialFactory",997),fPt(340,22,{3:1,35:1,22:1,340:1},bS);var Hke,Uke,qke,Wke,Gke=$nt(o5t,"RadialTranslationStrategy",340,qte,_3,B$);fPt(293,22,{3:1,35:1,22:1,293:1},wS);var Kke,Yke=$nt(o5t,"SortingStrategy",293,qte,F1,F$);fPt(1449,1,k3t,Us),EKt.Yf=function(t){return jV(t,33),null},EKt.pf=function(t,e){TDt(this,jV(t,33),e)},EKt.c=0,mG("org.eclipse.elk.alg.radial.p1position","EadesRadial",1449),fPt(1775,1,{},qs),EKt.jg=function(t){return qbt(t)},mG(g5t,"AnnulusWedgeByLeafs",1775),fPt(1776,1,{},Ws),EKt.jg=function(t){return Kxt(this,t)},mG(g5t,"AnnulusWedgeByNodeSpace",1776),fPt(1450,1,k3t,Gs),EKt.Yf=function(t){return jV(t,33),null},EKt.pf=function(t,e){dxt(this,jV(t,33),e)},mG("org.eclipse.elk.alg.radial.p2routing","StraightLineEdgeRouter",1450),fPt(811,1,{},Xy),EKt.kg=function(t){},EKt.lg=function(t){Qb(this,t)},mG(p5t,"IDSorter",811),fPt(1774,1,EZt,Ks),EKt.ue=function(t,e){return Yrt(jV(t,33),jV(e,33))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(p5t,"IDSorter/lambda$0$Type",1774),fPt(1773,1,{},Mrt),EKt.kg=function(t){i2(this,t)},EKt.lg=function(t){t.dc()||(this.e||i2(this,QH(jV(t.Xb(0),33))),Qb(this.e,t))},mG(p5t,"PolarCoordinateSorter",1773),fPt(1136,209,DQt,Ys),EKt.Ze=function(t,e){var n,r,o,s,a,c,l,u,h,d,f,g,p,m,b,w,y,v,_,k,x,E;if(IEt(e,"Rectangle Packing",1),e.n&&e.n&&t&&w0(e,s2(t),($lt(),oMe)),n=zv(xR(QPt(t,(GOt(),uxe)))),g=jV(QPt(t,Txe),381),b=Vv(kR(QPt(t,wxe))),v=Vv(kR(QPt(t,Exe))),h=Vv(kR(QPt(t,gxe))),_=jV(QPt(t,Cxe),116),y=zv(xR(QPt(t,Mxe))),r=Vv(kR(QPt(t,Ixe))),d=Vv(kR(QPt(t,pxe))),m=Vv(kR(QPt(t,mxe))),E=zv(xR(QPt(t,Pxe))),!t.a&&(t.a=new tW(HMe,t,10,11)),xrt(x=t.a),m){for(f=new Ob,c=new ID(x);c.e!=c.i.gc();)T7(s=jV(vbt(c),33),fxe)&&(f.c[f.c.length]=s);for(l=new Wf(f);l.a<l.c.c.length;)att(x,s=jV(Q1(l),33));for(EX(),bO(f,new Xs),u=new Wf(f);u.a<u.c.c.length;)s=jV(Q1(u),33),k=jV(QPt(s,fxe),19).a,cdt(x,k=i.Math.min(k,x.i),s);for(p=0,a=new ID(x);a.e!=a.i.gc();)Xbt(s=jV(vbt(a),33),dxe,ndt(p)),++p}(w=WAt(t)).a-=_.b+_.c,w.b-=_.d+_.a,w.a,E<0||E<w.a?(o=IFt(new vV(n,g,b),x,y,_),e.n&&e.n&&t&&w0(e,s2(t),($lt(),oMe))):o=new tH(n,E,0,(XDt(),Bxe)),w.a+=_.b+_.c,w.b+=_.d+_.a,v||(xrt(x),o=vqt(new b3(n,h,d,r,y),x,i.Math.max(w.a,o.c),w,e,t,_)),mst(x,_),BWt(t,o.c+(_.b+_.c),o.b+(_.d+_.a),!1,!0),Vv(kR(QPt(t,xxe)))||vQ(new kg((zT(),new Nv(t)))),e.n&&e.n&&t&&w0(e,s2(t),($lt(),oMe)),VCt(e)},mG(y5t,"RectPackingLayoutProvider",1136),fPt(1137,1,EZt,Xs),EKt.ue=function(t,e){return flt(jV(t,33),jV(e,33))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(y5t,"RectPackingLayoutProvider/lambda$0$Type",1137),fPt(1256,1,{},vV),EKt.a=0,EKt.c=!1,mG(v5t,"AreaApproximation",1256);var Xke,Zke,Qke,Jke=hH(v5t,"BestCandidateFilter");fPt(638,1,{526:1},Zs),EKt.mg=function(t,e,n){var r,o,s,a,c,l;for(l=new Ob,s=RXt,c=new Wf(t);c.a<c.c.c.length;)a=jV(Q1(c),220),s=i.Math.min(s,(a.c+(n.b+n.c))*(a.b+(n.d+n.a)));for(o=new Wf(t);o.a<o.c.c.length;)((r=jV(Q1(o),220)).c+(n.b+n.c))*(r.b+(n.d+n.a))==s&&(l.c[l.c.length]=r);return l},mG(v5t,"AreaFilter",638),fPt(639,1,{526:1},Qs),EKt.mg=function(t,e,n){var r,o,s,a,c,l;for(c=new Ob,l=RXt,a=new Wf(t);a.a<a.c.c.length;)s=jV(Q1(a),220),l=i.Math.min(l,i.Math.abs((s.c+(n.b+n.c))/(s.b+(n.d+n.a))-e));for(o=new Wf(t);o.a<o.c.c.length;)r=jV(Q1(o),220),i.Math.abs((r.c+(n.b+n.c))/(r.b+(n.d+n.a))-e)==l&&(c.c[c.c.length]=r);return c},mG(v5t,"AspectRatioFilter",639),fPt(637,1,{526:1},Js),EKt.mg=function(t,e,n){var r,o,s,a,c,l;for(l=new Ob,s=BXt,c=new Wf(t);c.a<c.c.c.length;)a=jV(Q1(c),220),s=i.Math.max(s,YH(a.c+(n.b+n.c),a.b+(n.d+n.a),a.a));for(o=new Wf(t);o.a<o.c.c.length;)YH((r=jV(Q1(o),220)).c+(n.b+n.c),r.b+(n.d+n.a),r.a)==s&&(l.c[l.c.length]=r);return l},mG(v5t,"ScaleMeasureFilter",637),fPt(381,22,{3:1,35:1,22:1,381:1},yS);var txe,exe,nxe,ixe,rxe,oxe,sxe,axe,cxe,lxe,uxe,hxe,dxe,fxe,gxe,pxe,mxe,bxe,wxe,yxe,vxe,_xe,kxe,xxe,Exe,Txe,Cxe,Axe,Sxe,Ixe,Mxe,Pxe,Oxe=$nt(_5t,"OptimizationGoal",381,qte,B1,j$);fPt(856,1,YZt,Ah),EKt.Qe=function(t){Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,k5t),""),"Optimization Goal"),"Optimization goal for approximation of the bounding box given by the first iteration. Determines whether layout is sorted by the maximum scaling, aspect ratio, or area. Depending on the strategy the aspect ratio might be nearly ignored."),axe),(CAt(),gTe)),Oxe),Jdt((ibt(),aTe))))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,x5t),""),"Shift Last Placed."),"When placing a rectangle behind or below the last placed rectangle in the first iteration, it is sometimes possible to shift the rectangle further to the left or right, resulting in less whitespace. True (default) enables the shift and false disables it. Disabling the shift produces a greater approximated area by the first iteration and a layout, when using ONLY the first iteration (default not the case), where it is sometimes impossible to implement a size transformation of rectangles that will fill the bounding box and eliminate empty spaces."),(cN(),!0)),dTe),vee),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,E5t),""),"Current position of a node in the order of nodes"),"The rectangles are ordered. Normally according to their definition the the model. This option specifies the current position of a node."),ndt(-1)),mTe),Mee),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,T5t),""),"Desired index of node"),"The rectangles are ordered. Normally according to their definition the the model. This option allows to specify a desired position that has preference over the original position."),ndt(-1)),mTe),Mee),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,C5t),""),"Only Area Approximation"),"If enabled only the width approximation step is executed and the nodes are placed accordingly. The nodes are layouted according to the packingStrategy. If set to true not expansion of nodes is taking place."),!1),dTe),vee),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,A5t),""),"Compact Rows"),"Enables compaction. Compacts blocks if they do not use the full height of the row. This option allows to have a smaller drawing. If this option is disabled all nodes are placed next to each other in rows."),!0),dTe),vee),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,S5t),""),"Fit Aspect Ratio"),"Expands nodes if expandNodes is true to fit the aspect ratio instead of only in their bounds. The option is only useful if the used packingStrategy is ASPECT_RATIO_DRIVEN, otherwise this may result in unreasonable ndoe expansion."),!1),dTe),vee),Jdt(aTe)))),r2(t,S5t,M5t,null),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,I5t),""),"Target Width"),"Option to place the rectangles in the given target width instead of approximating the width using the desired aspect ratio. The padding is not included in this. Meaning a drawing will have width of targetwidth + horizontal padding."),-1),fTe),Cee),Jdt(aTe)))),DGt((new Sh,t))},mG(_5t,"RectPackingMetaDataProvider",856),fPt(1004,1,YZt,Sh),EKt.Qe=function(t){DGt(t)},mG(_5t,"RectPackingOptions",1004),fPt(1005,1,{},ta),EKt.$e=function(){return new Ys},EKt._e=function(t){},mG(_5t,"RectPackingOptions/RectpackingFactory",1005),fPt(1257,1,{},b3),EKt.a=0,EKt.b=!1,EKt.c=0,EKt.d=0,EKt.e=!1,EKt.f=!1,EKt.g=0,mG("org.eclipse.elk.alg.rectpacking.seconditeration","RowFillingAndCompaction",1257),fPt(187,1,{187:1},olt),EKt.a=0,EKt.c=!1,EKt.d=0,EKt.e=0,EKt.f=0,EKt.g=0,EKt.i=0,EKt.k=!1,EKt.o=RXt,EKt.p=RXt,EKt.r=0,EKt.s=0,EKt.t=0,mG(O5t,"Block",187),fPt(211,1,{211:1},LQ),EKt.a=0,EKt.b=0,EKt.d=0,EKt.e=0,EKt.f=0,mG(O5t,"BlockRow",211),fPt(443,1,{443:1},RQ),EKt.b=0,EKt.c=0,EKt.d=0,EKt.e=0,EKt.f=0,mG(O5t,"BlockStack",443),fPt(220,1,{220:1},tH,ogt),EKt.a=0,EKt.b=0,EKt.c=0,EKt.d=0,EKt.e=0;var Dxe,Nxe,Lxe,Rxe,Bxe,Fxe=mG(O5t,"DrawingData",220);fPt(355,22,{3:1,35:1,22:1,355:1},vS);var jxe,$xe,Vxe,zxe,Hxe=$nt(O5t,"DrawingDataDescriptor",355,qte,O4,$$);fPt(200,1,{200:1},D0),EKt.b=0,EKt.c=0,EKt.e=0,EKt.f=0,mG(O5t,"RectRow",200),fPt(756,1,{},kut),EKt.j=0,mG(N5t,p1t,756),fPt(1245,1,{},ea),EKt.Je=function(t){return W7(t.a,t.b)},mG(N5t,m1t,1245),fPt(1246,1,{},fm),EKt.Je=function(t){return p6(this.a,t)},mG(N5t,b1t,1246),fPt(1247,1,{},gm),EKt.Je=function(t){return Ibt(this.a,t)},mG(N5t,w1t,1247),fPt(1248,1,{},pm),EKt.Je=function(t){return sct(this.a,t)},mG(N5t,"ElkGraphImporter/lambda$3$Type",1248),fPt(1249,1,{},mm),EKt.Je=function(t){return nMt(this.a,t)},mG(N5t,y1t,1249),fPt(1133,209,DQt,Mx),EKt.Ze=function(t,e){var n,i,r,o,s,a,c,l,u,h;for(T7(t,(ETt(),yEe))&&(h=ER(QPt(t,($wt(),VEe))),(o=WBt(rit(),h))&&jV(aQ(o.f),209).Ze(t,wot(e,1))),Xbt(t,gEe,(M6(),Zxe)),Xbt(t,pEe,(PCt(),iEe)),Xbt(t,mEe,(Oat(),WEe)),s=jV(QPt(t,($wt(),BEe)),19).a,IEt(e,"Overlap removal",1),Vv(kR(QPt(t,REe))),c=new bm(a=new Lw),n=HGt(i=new kut,t),l=!0,r=0;r<s&&l;){if(Vv(kR(QPt(t,FEe)))){if(a.a.$b(),VAt(new AO(c),n.i),0==a.a.gc())break;n.e=a}for(c2(this.b),CW(this.b,(Cft(),$xe),(ST(),zEe)),CW(this.b,Vxe,n.g),CW(this.b,zxe,(AT(),Kxe)),this.a=PHt(this.b,n),u=new Wf(this.a);u.a<u.c.c.length;)jV(Q1(u),51).pf(n,wot(e,1));rkt(i,n),l=Vv(kR(wTt(n,(Wot(),Yre)))),++r}LUt(i,n),VCt(e)},mG(N5t,"OverlapRemovalLayoutProvider",1133),fPt(1134,1,{},bm),mG(N5t,"OverlapRemovalLayoutProvider/lambda$0$Type",1134),fPt(437,22,{3:1,35:1,22:1,437:1},_S);var Uxe,qxe,Wxe=$nt(N5t,"SPOrEPhases",437,qte,j1,V$);fPt(1255,1,{},Px),mG(N5t,"ShrinkTree",1255),fPt(1135,209,DQt,Zy),EKt.Ze=function(t,e){var n,i,r,o;T7(t,(ETt(),yEe))&&(o=ER(QPt(t,yEe)),(r=WBt(rit(),o))&&jV(aQ(r.f),209).Ze(t,wot(e,1))),n=HGt(i=new kut,t),PDt(this.a,n,wot(e,1)),LUt(i,n)},mG(N5t,"ShrinkTreeLayoutProvider",1135),fPt(300,134,{3:1,300:1,94:1,134:1},NQ),EKt.c=!1,mG("org.eclipse.elk.alg.spore.graph","Graph",300),fPt(482,22,{3:1,35:1,22:1,482:1,246:1,234:1},PT),EKt.Kf=function(){return elt(this)},EKt.Xf=function(){return elt(this)};var Gxe,Kxe,Yxe=$nt(L5t,jQt,482,qte,RY,z$);fPt(551,22,{3:1,35:1,22:1,551:1,246:1,234:1},mR),EKt.Kf=function(){return new oa},EKt.Xf=function(){return new oa};var Xxe,Zxe,Qxe,Jxe=$nt(L5t,"OverlapRemovalStrategy",551,qte,BY,H$);fPt(430,22,{3:1,35:1,22:1,430:1},kS);var tEe,eEe,nEe,iEe,rEe,oEe,sEe=$nt(L5t,"RootSelection",430,qte,eQ,U$);fPt(316,22,{3:1,35:1,22:1,316:1},xS);var aEe,cEe,lEe,uEe,hEe,dEe,fEe,gEe,pEe,mEe,bEe,wEe,yEe,vEe,_Ee,kEe,xEe,EEe,TEe,CEe,AEe,SEe,IEe,MEe,PEe,OEe,DEe,NEe,LEe,REe,BEe,FEe,jEe,$Ee,VEe,zEe,HEe=$nt(L5t,"SpanningTreeCostFunction",316,qte,I4,q$);fPt(1002,1,YZt,vh),EKt.Qe=function(t){yzt(t)},mG(L5t,"SporeCompactionOptions",1002),fPt(1003,1,{},na),EKt.$e=function(){return new Zy},EKt._e=function(t){},mG(L5t,"SporeCompactionOptions/SporeCompactionFactory",1003),fPt(855,1,YZt,_h),EKt.Qe=function(t){Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,B5t),""),"Underlying Layout Algorithm"),"A layout algorithm that is applied to the graph before it is compacted. If this is null, nothing is applied before compaction."),(CAt(),wTe)),Yee),Jdt((ibt(),cTe))))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,z5t),"structure"),"Structure Extraction Strategy"),"This option defines what kind of triangulation or other partitioning of the plane is applied to the vertices."),NEe),gTe),GEe),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,F5t),G5t),"Tree Construction Strategy"),"Whether a minimum spanning tree or a maximum spanning tree should be constructed."),OEe),gTe),YEe),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,j5t),G5t),"Cost Function for Spanning Tree"),"The cost function is used in the creation of the spanning tree."),MEe),gTe),HEe),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,$5t),G5t),"Root node for spanning tree construction"),"The identifier of the node that is preferred as the root of the spanning tree. If this is null, the first node is chosen."),null),wTe),Yee),Jdt(cTe)))),r2(t,$5t,V5t,CEe),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,V5t),G5t),"Root selection for spanning tree"),"This sets the method used to select a root node for the construction of a spanning tree"),SEe),gTe),sEe),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,H5t),k2t),"Compaction Strategy"),"This option defines how the compaction is applied."),_Ee),gTe),Yxe),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,U5t),k2t),"Orthogonal Compaction"),"Restricts the translation of nodes to orthogonal directions in the compaction phase."),(cN(),!1)),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,q5t),K5t),"Upper limit for iterations of overlap removal"),null),ndt(64)),mTe),Mee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,W5t),K5t),"Whether to run a supplementary scanline overlap check."),null),!0),dTe),vee),Jdt(cTe)))),MFt((new kh,t)),yzt((new vh,t))},mG(L5t,"SporeMetaDataProvider",855),fPt(KYt,1,YZt,kh),EKt.Qe=function(t){MFt(t)},mG(L5t,"SporeOverlapRemovalOptions",KYt),fPt(1001,1,{},ia),EKt.$e=function(){return new Mx},EKt._e=function(t){},mG(L5t,"SporeOverlapRemovalOptions/SporeOverlapFactory",1001),fPt(530,22,{3:1,35:1,22:1,530:1,246:1,234:1},qK),EKt.Kf=function(){return nlt(this)},EKt.Xf=function(){return nlt(this)};var UEe,qEe,WEe,GEe=$nt(L5t,"StructureExtractionStrategy",530,qte,FY,W$);fPt(429,22,{3:1,35:1,22:1,429:1,246:1,234:1},ES),EKt.Kf=function(){return fgt(this)},EKt.Xf=function(){return fgt(this)};var KEe,YEe=$nt(L5t,"TreeConstructionStrategy",429,qte,tQ,G$);fPt(1443,1,k3t,ra),EKt.Yf=function(t){return jV(t,300),new j2},EKt.pf=function(t,e){xkt(jV(t,300),e)},mG(X5t,"DelaunayTriangulationPhase",1443),fPt(1444,1,hYt,wm),EKt.td=function(t){WV(this.a,jV(t,65).a)},mG(X5t,"DelaunayTriangulationPhase/lambda$0$Type",1444),fPt(783,1,k3t,Gy),EKt.Yf=function(t){return jV(t,300),new j2},EKt.pf=function(t,e){this.ng(jV(t,300),e)},EKt.ng=function(t,e){var n;IEt(e,"Minimum spanning tree construction",1),n=t.d?t.d.a:jV(DH(t.i,0),65).a,Bat(this,(Vv(kR(wTt(t,(Wot(),Kre)))),Xzt(t.e,n,t.b)),t),VCt(e)},mG(Z5t,"MinSTPhase",783),fPt(1446,783,k3t,wy),EKt.ng=function(t,e){var n,i;IEt(e,"Maximum spanning tree construction",1),n=new ym(t),i=t.d?t.d.c:jV(DH(t.i,0),65).c,Bat(this,(Vv(kR(wTt(t,(Wot(),Kre)))),Xzt(t.e,i,n)),t),VCt(e)},mG(Z5t,"MaxSTPhase",1446),fPt(1447,1,{},ym),EKt.Je=function(t){return AS(this.a,t)},mG(Z5t,"MaxSTPhase/lambda$0$Type",1447),fPt(1445,1,hYt,vm),EKt.td=function(t){LO(this.a,jV(t,65))},mG(Z5t,"MinSTPhase/lambda$0$Type",1445),fPt(785,1,k3t,oa),EKt.Yf=function(t){return jV(t,300),new j2},EKt.pf=function(t,e){GEt(this,jV(t,300),e)},EKt.a=!1,mG(Q5t,"GrowTreePhase",785),fPt(786,1,hYt,_V),EKt.td=function(t){eat(this.a,this.b,this.c,jV(t,221))},mG(Q5t,"GrowTreePhase/lambda$0$Type",786),fPt(1448,1,k3t,sa),EKt.Yf=function(t){return jV(t,300),new j2},EKt.pf=function(t,e){tyt(this,jV(t,300),e)},mG(Q5t,"ShrinkTreeCompactionPhase",1448),fPt(784,1,hYt,kV),EKt.td=function(t){hPt(this.a,this.b,this.c,jV(t,221))},mG(Q5t,"ShrinkTreeCompactionPhase/lambda$0$Type",784);var XEe,ZEe,QEe=hH(y3t,"IGraphElementVisitor");fPt(860,1,{527:1},L0),EKt.og=function(t){var e;zst(e=lBt(this,t),jV(LG(this.b,t),94)),yDt(this,t,e)},mG(NQt,"LayoutConfigurator",860);var JEe,tTe,eTe,nTe=hH(NQt,"LayoutConfigurator/IPropertyHolderOptionFilter");fPt(932,1,{1933:1},aa),EKt.pg=function(t,e){return Dat(),!t.Xe(e)},mG(NQt,"LayoutConfigurator/lambda$0$Type",932),fPt(933,1,{1933:1},ca),EKt.pg=function(t,e){return Ex(t,e)},mG(NQt,"LayoutConfigurator/lambda$1$Type",933),fPt(931,1,{831:1},la),EKt.qg=function(t,e){return Dat(),!t.Xe(e)},mG(NQt,"LayoutConfigurator/lambda$2$Type",931),fPt(934,1,LYt,PS),EKt.Mb=function(t){return YK(this.a,this.b,jV(t,1933))},mG(NQt,"LayoutConfigurator/lambda$3$Type",934),fPt(858,1,{},ua),mG(NQt,"RecursiveGraphLayoutEngine",858),fPt(296,60,$Yt,yw,n_),mG(NQt,"UnsupportedConfigurationException",296),fPt(453,60,$Yt,i_),mG(NQt,"UnsupportedGraphException",453),fPt(754,1,{}),mG(y3t,"AbstractRandomListAccessor",754),fPt(500,754,{},ANt),EKt.rg=function(){return null},EKt.d=!0,EKt.e=!0,EKt.f=0,mG(t4t,"AlgorithmAssembler",500),fPt(1236,1,LYt,ha),EKt.Mb=function(t){return!!jV(t,123)},mG(t4t,"AlgorithmAssembler/lambda$0$Type",1236),fPt(1237,1,{},_m),EKt.Kb=function(t){return hk(this.a,jV(t,123))},mG(t4t,"AlgorithmAssembler/lambda$1$Type",1237),fPt(1238,1,LYt,da),EKt.Mb=function(t){return!!jV(t,80)},mG(t4t,"AlgorithmAssembler/lambda$2$Type",1238),fPt(1239,1,hYt,km),EKt.td=function(t){Zot(this.a,jV(t,80))},mG(t4t,"AlgorithmAssembler/lambda$3$Type",1239),fPt(1240,1,hYt,OS),EKt.td=function(t){NL(this.a,this.b,jV(t,234))},mG(t4t,"AlgorithmAssembler/lambda$4$Type",1240),fPt(1355,1,EZt,fa),EKt.ue=function(t,e){return FX(jV(t,234),jV(e,234))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(t4t,"EnumBasedFactoryComparator",1355),fPt(80,754,{80:1},j2),EKt.rg=function(){return new Lw},EKt.a=0,mG(t4t,"LayoutProcessorConfiguration",80),fPt(1013,1,{527:1},Ih),EKt.og=function(t){Jot(tTe,new xm(t))},mG(UZt,"DeprecatedLayoutOptionReplacer",1013),fPt(1014,1,hYt,ga),EKt.td=function(t){O8(jV(t,160))},mG(UZt,"DeprecatedLayoutOptionReplacer/lambda$0$Type",1014),fPt(1015,1,hYt,pa),EKt.td=function(t){xgt(jV(t,160))},mG(UZt,"DeprecatedLayoutOptionReplacer/lambda$1$Type",1015),fPt(1016,1,{},xm),EKt.Od=function(t,e){LL(this.a,jV(t,146),jV(e,38))},mG(UZt,"DeprecatedLayoutOptionReplacer/lambda$2$Type",1016),fPt(149,1,{686:1,149:1},EEt),EKt.Fb=function(t){return v4(this,t)},EKt.sg=function(){return this.b},EKt.tg=function(){return this.c},EKt.ne=function(){return this.e},EKt.Hb=function(){return bwt(this.c)},EKt.Ib=function(){return"Layout Algorithm: "+this.c};var iTe,rTe=mG(UZt,"LayoutAlgorithmData",149);fPt(263,1,{},ma),mG(UZt,"LayoutAlgorithmData/Builder",263),fPt(1017,1,{527:1},ba),EKt.og=function(t){iD(t,239)&&!Vv(kR(t.We((cKt(),HCe))))&&B$t(jV(t,33))},mG(UZt,"LayoutAlgorithmResolver",1017),fPt(229,1,{686:1,229:1},UJ),EKt.Fb=function(t){return!!iD(t,229)&&bF(this.b,jV(t,229).b)},EKt.sg=function(){return this.a},EKt.tg=function(){return this.b},EKt.ne=function(){return this.d},EKt.Hb=function(){return bwt(this.b)},EKt.Ib=function(){return"Layout Type: "+this.b},mG(UZt,"LayoutCategoryData",229),fPt(344,1,{},wa),mG(UZt,"LayoutCategoryData/Builder",344),fPt(867,1,{},IBt),mG(UZt,"LayoutMetaDataService",867),fPt(868,1,{},UG),mG(UZt,"LayoutMetaDataService/Registry",868),fPt(478,1,{478:1},ya),mG(UZt,"LayoutMetaDataService/Registry/Triple",478),fPt(869,1,e4t,va),EKt.ug=function(){return new zk},mG(UZt,"LayoutMetaDataService/lambda$0$Type",869),fPt(870,1,n4t,_a),EKt.vg=function(t){return jO(jV(t,8))},mG(UZt,"LayoutMetaDataService/lambda$1$Type",870),fPt(879,1,e4t,ka),EKt.ug=function(){return new Ob},mG(UZt,"LayoutMetaDataService/lambda$10$Type",879),fPt(880,1,n4t,xa),EKt.vg=function(t){return new JF(jV(t,12))},mG(UZt,"LayoutMetaDataService/lambda$11$Type",880),fPt(881,1,e4t,Ea),EKt.ug=function(){return new YE},mG(UZt,"LayoutMetaDataService/lambda$12$Type",881),fPt(882,1,n4t,Ta),EKt.vg=function(t){return HV(jV(t,68))},mG(UZt,"LayoutMetaDataService/lambda$13$Type",882),fPt(883,1,e4t,Ca),EKt.ug=function(){return new Lw},mG(UZt,"LayoutMetaDataService/lambda$14$Type",883),fPt(884,1,n4t,Aa),EKt.vg=function(t){return XX(jV(t,53))},mG(UZt,"LayoutMetaDataService/lambda$15$Type",884),fPt(885,1,e4t,Sa),EKt.ug=function(){return new lP},mG(UZt,"LayoutMetaDataService/lambda$16$Type",885),fPt(886,1,n4t,Ia),EKt.vg=function(t){return E5(jV(t,53))},mG(UZt,"LayoutMetaDataService/lambda$17$Type",886),fPt(887,1,e4t,Ma),EKt.ug=function(){return new Hw},mG(UZt,"LayoutMetaDataService/lambda$18$Type",887),fPt(888,1,n4t,Pa),EKt.vg=function(t){return zV(jV(t,208))},mG(UZt,"LayoutMetaDataService/lambda$19$Type",888),fPt(871,1,e4t,Oa),EKt.ug=function(){return new yy},mG(UZt,"LayoutMetaDataService/lambda$2$Type",871),fPt(872,1,n4t,Da),EKt.vg=function(t){return new Rk(jV(t,74))},mG(UZt,"LayoutMetaDataService/lambda$3$Type",872),fPt(873,1,e4t,Na),EKt.ug=function(){return new uy},mG(UZt,"LayoutMetaDataService/lambda$4$Type",873),fPt(874,1,n4t,La),EKt.vg=function(t){return new Ij(jV(t,142))},mG(UZt,"LayoutMetaDataService/lambda$5$Type",874),fPt(875,1,e4t,Ba),EKt.ug=function(){return new hy},mG(UZt,"LayoutMetaDataService/lambda$6$Type",875),fPt(876,1,n4t,Fa),EKt.vg=function(t){return new Sj(jV(t,116))},mG(UZt,"LayoutMetaDataService/lambda$7$Type",876),fPt(877,1,e4t,ja),EKt.ug=function(){return new Qa},mG(UZt,"LayoutMetaDataService/lambda$8$Type",877),fPt(878,1,n4t,$a),EKt.vg=function(t){return new ntt(jV(t,373))},mG(UZt,"LayoutMetaDataService/lambda$9$Type",878);var oTe,sTe,aTe,cTe,lTe,uTe=hH(SQt,"IProperty");fPt(23,1,{35:1,686:1,23:1,146:1},dAt),EKt.wd=function(t){return gD(this,jV(t,146))},EKt.Fb=function(t){return iD(t,23)?bF(this.f,jV(t,23).f):iD(t,146)&&bF(this.f,jV(t,146).tg())},EKt.wg=function(){var t;if(iD(this.b,4)){if(null==(t=Zpt(this.b)))throw $b(new Fv(a4t+this.f+"'. Make sure it's type is registered with the "+(_R(uPe),uPe.k)+r4t));return t}return this.b},EKt.sg=function(){return this.d},EKt.tg=function(){return this.f},EKt.ne=function(){return this.i},EKt.Hb=function(){return bwt(this.f)},EKt.Ib=function(){return"Layout Option: "+this.f},mG(UZt,"LayoutOptionData",23),fPt(24,1,{},Va),mG(UZt,"LayoutOptionData/Builder",24),fPt(175,22,{3:1,35:1,22:1,175:1},IS);var hTe,dTe,fTe,gTe,pTe,mTe,bTe,wTe,yTe,vTe=$nt(UZt,"LayoutOptionData/Target",175,qte,S4,K$);fPt(277,22,{3:1,35:1,22:1,277:1},MS);var _Te,kTe,xTe,ETe=$nt(UZt,"LayoutOptionData/Type",277,qte,Fet,Y$);fPt(110,1,{110:1},hP,UY,gZ),EKt.Fb=function(t){var e;return!(null==t||!iD(t,110))&&(e=jV(t,110),iY(this.c,e.c)&&iY(this.d,e.d)&&iY(this.b,e.b)&&iY(this.a,e.a))},EKt.Hb=function(){return uut(Cat(z_(Mte,1),VKt,1,5,[this.c,this.d,this.b,this.a]))},EKt.Ib=function(){return"Rect[x="+this.c+",y="+this.d+",w="+this.b+",h="+this.a+"]"},EKt.a=0,EKt.b=0,EKt.c=0,EKt.d=0,mG(u1t,"ElkRectangle",110),fPt(8,1,{3:1,4:1,8:1,414:1},zk,qJ,DS,dP),EKt.Fb=function(t){return Jit(this,t)},EKt.Hb=function(){return GM(this.a)+dvt(GM(this.b))},EKt.Jf=function(t){var e,n,i;for(n=0;n<t.length&&Nut((h1(n,t.length),t.charCodeAt(n)),a1t);)++n;for(e=t.length;e>0&&Nut((h1(e-1,t.length),t.charCodeAt(e-1)),c1t);)--e;if(n>=e)throw $b(new Bv("The given string does not contain any numbers."));if(2!=(i=vFt(t.substr(n,e-n),",|;|\r|\n")).length)throw $b(new Bv("Exactly two numbers are expected, "+i.length+" were found."));try{this.a=dCt(RTt(i[0])),this.b=dCt(RTt(i[1]))}catch(t){throw iD(t=hat(t),127)?$b(new Bv(l1t+t)):$b(t)}},EKt.Ib=function(){return"("+this.a+","+this.b+")"},EKt.a=0,EKt.b=0;var TTe=mG(u1t,"KVector",8);fPt(74,68,{3:1,4:1,20:1,28:1,52:1,14:1,68:1,15:1,74:1,414:1},yy,Rk,UL),EKt.Pc=function(){return Klt(this)},EKt.Jf=function(t){var e,n,i,r,o;n=vFt(t,",|;|\\(|\\)|\\[|\\]|\\{|\\}| |\t|\n"),wX(this);try{for(e=0,r=0,i=0,o=0;e<n.length;)null!=n[e]&&RTt(n[e]).length>0&&(r%2==0?i=dCt(n[e]):o=dCt(n[e]),r>0&&r%2!=0&&Nz(this,new DS(i,o)),++r),++e}catch(t){throw iD(t=hat(t),127)?$b(new Bv("The given string does not match the expected format for vectors."+t)):$b(t)}},EKt.Ib=function(){var t,e,n;for(t=new uN("("),e=cbt(this,0);e.b!=e.d.c;)sM(t,(n=jV(h3(e),8)).a+","+n.b),e.b!=e.d.c&&(t.a+="; ");return(t.a+=")",t).a};var CTe,ATe,STe,ITe,MTe,PTe,OTe=mG(u1t,"KVectorChain",74);fPt(248,22,{3:1,35:1,22:1,248:1},NS);var DTe,NTe,LTe,RTe,BTe,FTe,jTe,$Te,VTe,zTe,HTe,UTe,qTe,WTe,GTe,KTe,YTe,XTe,ZTe,QTe=$nt(l4t,"Alignment",248,qte,X7,X$);fPt(979,1,YZt,Mh),EKt.Qe=function(t){Hjt(t)},mG(l4t,"BoxLayouterOptions",979),fPt(980,1,{},Ra),EKt.$e=function(){return new qa},EKt._e=function(t){},mG(l4t,"BoxLayouterOptions/BoxFactory",980),fPt(291,22,{3:1,35:1,22:1,291:1},LS);var JTe,tCe,eCe,nCe,iCe,rCe,oCe,sCe,aCe,cCe,lCe,uCe,hCe,dCe,fCe,gCe,pCe,mCe,bCe,wCe,yCe,vCe,_Ce,kCe,xCe,ECe,TCe,CCe,ACe,SCe,ICe,MCe,PCe,OCe,DCe,NCe,LCe,RCe,BCe,FCe,jCe,$Ce,VCe,zCe,HCe,UCe,qCe,WCe,GCe,KCe,YCe,XCe,ZCe,QCe,JCe,tAe,eAe,nAe,iAe,rAe,oAe,sAe,aAe,cAe,lAe,uAe,hAe,dAe,fAe,gAe,pAe,mAe,bAe,wAe,yAe,vAe,_Ae,kAe,xAe,EAe,TAe,CAe,AAe,SAe,IAe,MAe,PAe,OAe,DAe,NAe,LAe,RAe,BAe,FAe,jAe,$Ae,VAe=$nt(l4t,"ContentAlignment",291,qte,Y7,Z$);fPt(684,1,YZt,Ph),EKt.Qe=function(t){Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,f4t),""),"Layout Algorithm"),"Select a specific layout algorithm."),(CAt(),wTe)),Yee),Jdt((ibt(),cTe))))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,g4t),""),"Resolved Layout Algorithm"),"Meta data associated with the selected algorithm."),bTe),rTe),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,G2t),""),"Alignment"),"Alignment of the selected node relative to other nodes; the exact meaning depends on the used algorithm."),nCe),gTe),QTe),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,KQt),""),"Aspect Ratio"),"The desired aspect ratio of the drawing, that is the quotient of width by height."),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,p4t),""),"Bend Points"),"A fixed list of bend points for the edge. This is used by the 'Fixed Layout' algorithm to specify a pre-defined routing for an edge. The vector chain must include the source point, any bend points, and the target point, so it must have at least two points."),bTe),OTe),Jdt(oTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,s3t),""),"Content Alignment"),"Specifies how the content of a node are aligned. Each node can individually control the alignment of its contents. I.e. if a node should be aligned top left in its parent node, the parent node should specify that option."),lCe),pTe),VAe),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,W2t),""),"Debug Mode"),"Whether additional debug information shall be generated."),(cN(),!1)),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,Z2t),""),xQt),"Overall direction of edges: horizontal (right / left) or vertical (down / up)."),dCe),gTe),WAe),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,y2t),""),"Edge Routing"),"What kind of edge routing style should be applied for the content of a parent node. Algorithms may also set this option to single edges in order to mark them as splines. The bend point list of edges with this option set to SPLINES must be interpreted as control points for a piecewise cubic spline."),bCe),gTe),sSe),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,M5t),""),"Expand Nodes"),"If active, nodes are expanded to fill the area of their parent."),!1),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,g2t),""),"Hierarchy Handling"),"Determines whether separate layout runs are triggered for different compound nodes in a hierarchical graph. Setting a node's hierarchy handling to `INCLUDE_CHILDREN` will lay out that node and all of its descendants in a single layout run, until a descendant is encountered which has its hierarchy handling set to `SEPARATE_CHILDREN`. In general, `SEPARATE_CHILDREN` will ensure that a new layout run is triggered for a node with that setting. Including multiple levels of hierarchy in a single layout run may allow cross-hierarchical edges to be laid out properly. If the root node is set to `INHERIT` (or not set at all), the default behavior is `SEPARATE_CHILDREN`."),kCe),gTe),ESe),_U(cTe,Cat(z_(vTe,1),PYt,175,0,[aTe]))))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,YQt),""),"Padding"),"The padding to be left to a parent element's border when placing child elements. This can also serve as an output option of a layout algorithm if node size calculation is setup appropriately."),WCe),bTe),Bae),_U(cTe,Cat(z_(vTe,1),PYt,175,0,[aTe]))))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,_Jt),""),"Interactive"),"Whether the algorithm should be run in interactive mode for the content of a parent node. What this means exactly depends on how the specific algorithm interprets this option. Usually in the interactive mode algorithms try to modify the current layout as little as possible."),!1),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,w3t),""),"interactive Layout"),"Whether the graph should be changeable interactively and by setting constraints"),!1),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,EJt),""),"Omit Node Micro Layout"),"Node micro layout comprises the computation of node dimensions (if requested), the placement of ports and their labels, and the placement of node labels. The functionality is implemented independent of any specific layout algorithm and shouldn't have any negative impact on the layout algorithm's performance itself. Yet, if any unforeseen behavior occurs, this option allows to deactivate the micro layout."),!1),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,kJt),""),"Port Constraints"),"Defines constraints of the position of the ports of a node."),sAe),gTe),rIe),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,p3t),""),"Position"),"The position of a node, port, or label. This is used by the 'Fixed Layout' algorithm to specify a pre-defined position."),bTe),TTe),_U(aTe,Cat(z_(vTe,1),PYt,175,0,[lTe,sTe]))))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,mJt),""),"Priority"),"Defines the priority of an object; its meaning depends on the specific layout algorithm and the context where it is used."),mTe),Mee),_U(aTe,Cat(z_(vTe,1),PYt,175,0,[oTe]))))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,yJt),""),"Randomization Seed"),"Seed used for pseudo-random number generators to control the layout algorithm. If the value is 0, the seed shall be determined pseudo-randomly (e.g. from the system time)."),mTe),Mee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,vJt),""),"Separate Connected Components"),"Whether each connected component should be processed separately."),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,a3t),""),"Junction Points"),"This option is not used as option, but as output of the layout algorithms. It is attached to edges and determines the points where junction symbols should be drawn in order to represent hyperedges with orthogonal routing. Whether such points are computed depends on the chosen layout algorithm and edge routing style. The points are put into the vector chain with no specific order."),ICe),bTe),OTe),Jdt(oTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,u3t),""),"Comment Box"),"Whether the node should be regarded as a comment box instead of a regular node. In that case its placement should be similar to how labels are handled. Any edges incident to a comment box specify to which graph elements the comment is related."),!1),dTe),vee),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,h3t),""),"Hypernode"),"Whether the node should be handled as a hypernode."),!1),dTe),vee),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,m4t),""),"Label Manager"),"Label managers can shorten labels upon a layout algorithm's request."),bTe),LNe),_U(cTe,Cat(z_(vTe,1),PYt,175,0,[sTe]))))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,m3t),""),"Margins"),"Margins define additional space around the actual bounds of a graph element. For instance, ports or labels being placed on the outside of a node's border might introduce such a margin. The margin is used to guarantee non-overlap of other graph elements with those ports or labels."),PCe),bTe),_ae),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,U2t),""),"No Layout"),"No layout is done for the associated element. This is used to mark parts of a diagram to avoid their inclusion in the layout graph, or to mark parts of the layout graph to prevent layout engines from processing them. If you wish to exclude the contents of a compound node from automatic layout, while the node itself is still considered on its own layer, use the 'Fixed Layout' algorithm for that node."),!1),dTe),vee),_U(aTe,Cat(z_(vTe,1),PYt,175,0,[oTe,lTe,sTe]))))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,b4t),""),"Scale Factor"),"The scaling factor to be applied to the corresponding node in recursive layout. It causes the corresponding node's size to be adjusted, and its ports and labels to be sized and placed accordingly after the layout of that node has been determined (and before the node itself and its siblings are arranged). The scaling is not reverted afterwards, so the resulting layout graph contains the adjusted size and position data. This option is currently not supported if 'Layout Hierarchy' is set."),1),fTe),Cee),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,w4t),""),"Animate"),"Whether the shift from the old layout to the new computed layout shall be animated."),!0),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,y4t),""),"Animation Time Factor"),"Factor for computation of animation time. The higher the value, the longer the animation time. If the value is 0, the resulting time is always equal to the minimum defined by 'Minimal Animation Time'."),ndt(100)),mTe),Mee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,v4t),""),"Layout Ancestors"),"Whether the hierarchy levels on the path from the selected element to the root of the diagram shall be included in the layout process."),!1),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,_4t),""),"Maximal Animation Time"),"The maximal time for animations, in milliseconds."),ndt(4e3)),mTe),Mee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,k4t),""),"Minimal Animation Time"),"The minimal time for animations, in milliseconds."),ndt(400)),mTe),Mee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,x4t),""),"Progress Bar"),"Whether a progress bar shall be displayed during layout computations."),!1),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,E4t),""),"Validate Graph"),"Whether the graph shall be validated before any layout algorithm is applied. If this option is enabled and at least one error is found, the layout process is aborted and a message is shown to the user."),!1),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,T4t),""),"Validate Options"),"Whether layout options shall be validated before any layout algorithm is applied. If this option is enabled and at least one error is found, the layout process is aborted and a message is shown to the user."),!0),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,C4t),""),"Zoom to Fit"),"Whether the zoom level shall be set to view the whole diagram after layout."),!1),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,d4t),"box"),"Box Layout Mode"),"Configures the packing mode used by the {@link BoxLayoutProvider}. If SIMPLE is not required (neither priorities are used nor the interactive mode), GROUP_DEC can improve the packing and decrease the area. GROUP_MIXED and GROUP_INC may, in very specific scenarios, work better."),sCe),gTe),iMe),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,O2t),v2t),"Comment Comment Spacing"),"Spacing to be preserved between a comment box and other comment boxes connected to the same node. The space left between comment boxes of different nodes is controlled by the node-node spacing."),10),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,D2t),v2t),"Comment Node Spacing"),"Spacing to be preserved between a node and its connected comment boxes. The space left between a node and the comments of another node is controlled by the node-node spacing."),10),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,WQt),v2t),"Components Spacing"),"Spacing to be preserved between pairs of connected components. This option is only relevant if 'separateConnectedComponents' is activated."),20),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,N2t),v2t),"Edge Spacing"),"Spacing to be preserved between any two edges. Note that while this can somewhat easily be satisfied for the segments of orthogonally drawn edges, it is harder for general polylines or splines."),10),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,wJt),v2t),"Edge Label Spacing"),"The minimal distance to be preserved between a label and the edge it is associated with. Note that the placement of a label is influenced by the 'edgelabels.placement' option."),2),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,L2t),v2t),"Edge Node Spacing"),"Spacing to be preserved between nodes and edges."),10),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,R2t),v2t),"Label Spacing"),"Determines the amount of space to be left between two labels of the same graph element."),0),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,j2t),v2t),"Label Node Spacing"),"Spacing to be preserved between labels and the border of node they are associated with. Note that the placement of a label is influenced by the 'nodelabels.placement' option."),5),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,B2t),v2t),"Horizontal spacing between Label and Port"),"Horizontal spacing to be preserved between labels and the ports they are associated with. Note that the placement of a label is influenced by the 'portlabels.placement' option."),1),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,F2t),v2t),"Vertical spacing between Label and Port"),"Vertical spacing to be preserved between labels and the ports they are associated with. Note that the placement of a label is influenced by the 'portlabels.placement' option."),1),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,bJt),v2t),"Node Spacing"),"The minimal distance to be preserved between each two nodes."),20),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,$2t),v2t),"Node Self Loop Spacing"),"Spacing to be preserved between a node and its self loops."),10),fTe),Cee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,V2t),v2t),"Port Spacing"),"Spacing between pairs of ports of the same node."),10),fTe),Cee),_U(cTe,Cat(z_(vTe,1),PYt,175,0,[aTe]))))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,z2t),v2t),"Individual Spacing"),"Allows to specify individual spacing values for graph elements that shall be different from the value specified for the element's parent."),bTe),cMe),_U(aTe,Cat(z_(vTe,1),PYt,175,0,[oTe,lTe,sTe]))))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,b3t),v2t),"Additional Port Space"),"Additional space around the sets of ports on each node side. For each side of a node, this option can reserve additional space before and after the ports on each side. For example, a top spacing of 20 makes sure that the first port on the western and eastern side is 20 units away from the northern border."),NAe),bTe),_ae),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,g3t),M4t),"Layout Partition"),"Partition to which the node belongs. This requires Layout Partitioning to be active. Nodes with lower partition IDs will appear to the left of nodes with higher partition IDs (assuming a left-to-right layout direction)."),mTe),Mee),_U(cTe,Cat(z_(vTe,1),PYt,175,0,[aTe]))))),r2(t,g3t,f3t,XCe),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,f3t),M4t),"Layout Partitioning"),"Whether to activate partitioned layout. This will allow to group nodes through the Layout Partition option. a pair of nodes with different partition indices is then placed such that the node with lower index is placed to the left of the other node (with left-to-right layout direction). Depending on the layout algorithm, this may only be guaranteed to work if all nodes have a layout partition configured, or at least if edges that cross partitions are not part of a partition-crossing cycle."),KCe),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,Q2t),P4t),"Node Label Padding"),"Define padding for node labels that are placed inside of a node."),DCe),bTe),Bae),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,AJt),P4t),"Node Label Placement"),"Hints for where node labels are to be placed; if empty, the node label's position is not modified."),LCe),pTe),zSe),_U(aTe,Cat(z_(vTe,1),PYt,175,0,[sTe]))))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,e3t),O4t),"Port Alignment"),"Defines the default port distribution for a node. May be overridden for each side individually."),QCe),gTe),XSe),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,n3t),O4t),"Port Alignment (North)"),"Defines how ports on the northern side are placed, overriding the node's general port alignment."),gTe),XSe),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,i3t),O4t),"Port Alignment (South)"),"Defines how ports on the southern side are placed, overriding the node's general port alignment."),gTe),XSe),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,r3t),O4t),"Port Alignment (West)"),"Defines how ports on the western side are placed, overriding the node's general port alignment."),gTe),XSe),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,o3t),O4t),"Port Alignment (East)"),"Defines how ports on the eastern side are placed, overriding the node's general port alignment."),gTe),XSe),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,CJt),D4t),"Node Size Constraints"),"What should be taken into account when calculating a node's size. Empty size constraints specify that a node's size is already fixed and should not be changed."),BCe),pTe),YIe),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,TJt),D4t),"Node Size Options"),"Options modifying the behavior of the size constraints set on a node. Each member of the set specifies something that should be taken into account when calculating node sizes. The empty set corresponds to no further modifications."),zCe),pTe),eMe),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,$Jt),D4t),"Node Size Minimum"),"The minimal size to which a node can be reduced."),$Ce),bTe),TTe),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,X2t),D4t),"Fixed Graph Size"),"By default, the fixed layout provider will enlarge a graph until it is large enough to contain its children. If this option is set, it won't do so."),!1),dTe),vee),Jdt(cTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,c3t),M2t),"Edge Label Placement"),"Gives a hint on where to put edge labels."),pCe),gTe),QAe),Jdt(sTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,xJt),M2t),"Inline Edge Labels"),"If true, an edge label is placed directly on its edge. May only apply to center edge labels. This kind of label placement is only advisable if the label's rendering is such that it is not crossed by its edge and thus stays legible."),!1),dTe),vee),Jdt(sTe)))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,A4t),"font"),"Font Name"),"Font name used for a label."),wTe),Yee),Jdt(sTe)))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,S4t),"font"),"Font Size"),"Font size used for a label."),mTe),Mee),Jdt(sTe)))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,d3t),N4t),"Port Anchor Offset"),"The offset to the port position where connections shall be attached."),bTe),TTe),Jdt(lTe)))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,l3t),N4t),"Port Index"),"The index of a port in the fixed order around a node. The order is assumed as clockwise, starting with the leftmost port on the top side. This option must be set if 'Port Constraints' is set to FIXED_ORDER and no specific positions are given for the ports. Additionally, the option 'Port Side' must be defined in this case."),mTe),Mee),Jdt(lTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,q2t),N4t),"Port Side"),"The side of a node on which a port is situated. This option must be set if 'Port Constraints' is set to FIXED_SIDE or FIXED_ORDER and no specific positions are given for the ports."),fAe),gTe),FIe),Jdt(lTe)))),Mft(t,new dAt(Sk(Ak(Ik(_k(Ck(xk(Ek(new Va,H2t),N4t),"Port Border Offset"),"The offset of ports on the node border. With a positive offset the port is moved outside of the node, while with a negative offset the port is moved towards the inside. An offset of 0 means that the port is placed directly on the node border, i.e. if the port side is north, the port's south border touches the nodes's north border; if the port side is east, the port's west border touches the nodes's east border; if the port side is south, the port's north border touches the node's south border; if the port side is west, the port's east border touches the node's west border."),fTe),Cee),Jdt(lTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,SJt),L4t),"Port Label Placement"),"Decides on a placement method for port labels; if empty, the node label's position is not modified."),uAe),pTe),AIe),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,J2t),L4t),"Port Labels Next to Port"),"Use 'portLabels.placement': NEXT_TO_PORT_OF_POSSIBLE."),!1),dTe),vee),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,t3t),L4t),"Treat Port Labels as Group"),"If this option is true (default), the labels of a port will be treated as a group when it comes to centering them next to their port. If this option is false, only the first label will be centered next to the port, with the others being placed below. This only applies to labels of eastern and western ports and will have no effect if labels are not placed next to their port."),!0),dTe),vee),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,K2t),R4t),"Activate Inside Self Loops"),"Whether this node allows to route self loops inside of it instead of around it. If set to true, this will make the node a compound node if it isn't already, and will require the layout algorithm to support compound nodes with hierarchical ports."),!1),dTe),vee),Jdt(aTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,Y2t),R4t),"Inside Self Loop"),"Whether a self loop should be routed inside a node instead of around that node."),!1),dTe),vee),Jdt(oTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,GQt),"edge"),"Edge Thickness"),"The thickness of an edge. This is a hint on the line width used to draw an edge, possibly requiring more space to be reserved for it."),1),fTe),Cee),Jdt(oTe)))),Mft(t,new dAt(Sk(Ak(Ik(kk(_k(Ck(xk(Ek(new Va,I4t),"edge"),"Edge Type"),"The type of an edge. This is usually used for UML class diagrams, where associations must be handled differently from generalizations."),yCe),gTe),wSe),Jdt(oTe)))),DT(t,new UJ(wk(vk(yk(new wa,f1t),"Layered"),'The layer-based method was introduced by Sugiyama, Tagawa and Toda in 1981. It emphasizes the direction of edges by pointing as many edges as possible into the same direction. The nodes are arranged in layers, which are sometimes called "hierarchies", and then reordered such that the number of edge crossings is minimized. Afterwards, concrete coordinates are computed for the nodes and edge bend points.'))),DT(t,new UJ(wk(vk(yk(new wa,"org.eclipse.elk.orthogonal"),"Orthogonal"),'Orthogonal methods that follow the "topology-shape-metrics" approach by Batini, Nardelli and Tamassia \'86. The first phase determines the topology of the drawing by applying a planarization technique, which results in a planar representation of the graph. The orthogonal shape is computed in the second phase, which aims at minimizing the number of edge bends, and is called orthogonalization. The third phase leads to concrete coordinates for nodes and edge bend points by applying a compaction method, thus defining the metrics.'))),DT(t,new UJ(wk(vk(yk(new wa,pJt),"Force"),"Layout algorithms that follow physical analogies by simulating a system of attractive and repulsive forces. The first successful method of this kind was proposed by Eades in 1984."))),DT(t,new UJ(wk(vk(yk(new wa,"org.eclipse.elk.circle"),"Circle"),"Circular layout algorithms emphasize cycles or biconnected components of a graph by arranging them in circles. This is useful if a drawing is desired where such components are clearly grouped, or where cycles are shown as prominent OPTIONS of the graph."))),DT(t,new UJ(wk(vk(yk(new wa,X3t),"Tree"),"Specialized layout methods for trees, i.e. acyclic graphs. The regular structure of graphs that have no undirected cycles can be emphasized using an algorithm of this type."))),DT(t,new UJ(wk(vk(yk(new wa,"org.eclipse.elk.planar"),"Planar"),"Algorithms that require a planar or upward planar graph. Most of these algorithms are theoretically interesting, but not practically usable."))),DT(t,new UJ(wk(vk(yk(new wa,f5t),"Radial"),"Radial layout algorithms usually position the nodes of the graph on concentric circles."))),dFt((new Oh,t)),Hjt((new Mh,t)),RRt((new Dh,t))},mG(l4t,"CoreOptions",684),fPt(103,22,{3:1,35:1,22:1,103:1},RS);var zAe,HAe,UAe,qAe,WAe=$nt(l4t,xQt,103,qte,C4,tV);fPt(272,22,{3:1,35:1,22:1,272:1},BS);var GAe,KAe,YAe,XAe,ZAe,QAe=$nt(l4t,"EdgeLabelPlacement",272,qte,V1,eV);fPt(218,22,{3:1,35:1,22:1,218:1},FS);var JAe,tSe,eSe,nSe,iSe,rSe,oSe,sSe=$nt(l4t,"EdgeRouting",218,qte,E3,nV);fPt(312,22,{3:1,35:1,22:1,312:1},jS);var aSe,cSe,lSe,uSe,hSe,dSe,fSe,gSe,pSe,mSe,bSe,wSe=$nt(l4t,"EdgeType",312,qte,r8,iV);fPt(977,1,YZt,Oh),EKt.Qe=function(t){dFt(t)},mG(l4t,"FixedLayouterOptions",977),fPt(978,1,{},Xa),EKt.$e=function(){return new Ha},EKt._e=function(t){},mG(l4t,"FixedLayouterOptions/FixedFactory",978),fPt(334,22,{3:1,35:1,22:1,334:1},$S);var ySe,vSe,_Se,kSe,xSe,ESe=$nt(l4t,"HierarchyHandling",334,qte,$1,rV);fPt(285,22,{3:1,35:1,22:1,285:1},VS);var TSe,CSe,ASe,SSe,ISe,MSe,PSe,OSe,DSe,NSe,LSe=$nt(l4t,"LabelSide",285,qte,x3,oV);fPt(93,22,{3:1,35:1,22:1,93:1},zS);var RSe,BSe,FSe,jSe,$Se,VSe,zSe=$nt(l4t,"NodeLabelPlacement",93,qte,vnt,sV);fPt(249,22,{3:1,35:1,22:1,249:1},HS);var HSe,USe,qSe,WSe,GSe,KSe,YSe,XSe=$nt(l4t,"PortAlignment",249,qte,A4,aV);fPt(98,22,{3:1,35:1,22:1,98:1},US);var ZSe,QSe,JSe,tIe,eIe,nIe,iIe,rIe=$nt(l4t,"PortConstraints",98,qte,E7,cV);fPt(273,22,{3:1,35:1,22:1,273:1},qS);var oIe,sIe,aIe,cIe,lIe,uIe,hIe,dIe,fIe,gIe,pIe,mIe,bIe,wIe,yIe,vIe,_Ie,kIe,xIe,EIe,TIe,CIe,AIe=$nt(l4t,"PortLabelPlacement",273,qte,i8,lV);fPt(61,22,{3:1,35:1,22:1,61:1},WS);var SIe,IIe,MIe,PIe,OIe,DIe,NIe,LIe,RIe,BIe,FIe=$nt(l4t,"PortSide",61,qte,c4,dV);fPt(981,1,YZt,Dh),EKt.Qe=function(t){RRt(t)},mG(l4t,"RandomLayouterOptions",981),fPt(982,1,{},Za),EKt.$e=function(){return new ec},EKt._e=function(t){},mG(l4t,"RandomLayouterOptions/RandomFactory",982),fPt(374,22,{3:1,35:1,22:1,374:1},GS);var jIe,$Ie,VIe,zIe,HIe,UIe,qIe,WIe,GIe,KIe,YIe=$nt(l4t,"SizeConstraint",374,qte,k3,uV);fPt(259,22,{3:1,35:1,22:1,259:1},KS);var XIe,ZIe,QIe,JIe,tMe,eMe=$nt(l4t,"SizeOptions",259,qte,kit,hV);fPt(370,1,{1949:1},qy),EKt.b=!1,EKt.c=0,EKt.d=-1,EKt.e=null,EKt.f=null,EKt.g=-1,EKt.j=!1,EKt.k=!1,EKt.n=!1,EKt.o=0,EKt.q=0,EKt.r=0,mG(y3t,"BasicProgressMonitor",370),fPt(972,209,DQt,qa),EKt.Ze=function(t,e){var n,i,r,o,s,a,c,l,u;IEt(e,"Box layout",2),r=Hv(xR(QPt(t,(TTt(),qTe)))),o=jV(QPt(t,zTe),116),n=Vv(kR(QPt(t,BTe))),i=Vv(kR(QPt(t,FTe))),0===jV(QPt(t,LTe),311).g?(a=new JF((!t.a&&(t.a=new tW(HMe,t,10,11)),t.a)),EX(),bO(a,new Em(i)),s=a,c=WAt(t),(null==(l=xR(QPt(t,NTe)))||(yK(l),l<=0))&&(l=1.3),BWt(t,(u=VWt(s,r,o,c.a,c.b,n,(yK(l),l))).a,u.b,!1,!0)):vHt(t,r,o,n),VCt(e)},mG(y3t,"BoxLayoutProvider",972),fPt(973,1,EZt,Em),EKt.ue=function(t,e){return lNt(this,jV(t,33),jV(e,33))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},EKt.a=!1,mG(y3t,"BoxLayoutProvider/1",973),fPt(157,1,{157:1},Het,HL),EKt.Ib=function(){return this.c?UBt(this.c):OTt(this.b)},mG(y3t,"BoxLayoutProvider/Group",157),fPt(311,22,{3:1,35:1,22:1,311:1},YS);var nMe,iMe=$nt(y3t,"BoxLayoutProvider/PackingMode",311,qte,T3,fV);fPt(974,1,EZt,Wa),EKt.ue=function(t,e){return NX(jV(t,157),jV(e,157))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(y3t,"BoxLayoutProvider/lambda$0$Type",974),fPt(975,1,EZt,Ga),EKt.ue=function(t,e){return iX(jV(t,157),jV(e,157))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(y3t,"BoxLayoutProvider/lambda$1$Type",975),fPt(976,1,EZt,Ka),EKt.ue=function(t,e){return rX(jV(t,157),jV(e,157))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(y3t,"BoxLayoutProvider/lambda$2$Type",976),fPt(1365,1,{831:1},Ya),EKt.qg=function(t,e){return IT(),!iD(e,160)||Ex((Dat(),jV(t,160)),e)},mG(y3t,"ElkSpacings/AbstractSpacingsBuilder/lambda$0$Type",1365),fPt(1366,1,hYt,Tm),EKt.td=function(t){Zlt(this.a,jV(t,146))},mG(y3t,"ElkSpacings/AbstractSpacingsBuilder/lambda$1$Type",1366),fPt(1367,1,hYt,Ua),EKt.td=function(t){jV(t,94),IT()},mG(y3t,"ElkSpacings/AbstractSpacingsBuilder/lambda$2$Type",1367),fPt(1371,1,hYt,Cm),EKt.td=function(t){Irt(this.a,jV(t,94))},mG(y3t,"ElkSpacings/AbstractSpacingsBuilder/lambda$3$Type",1371),fPt(1369,1,LYt,XS),EKt.Mb=function(t){return Kct(this.a,this.b,jV(t,146))},mG(y3t,"ElkSpacings/AbstractSpacingsBuilder/lambda$4$Type",1369),fPt(1368,1,LYt,ZS),EKt.Mb=function(t){return ML(this.a,this.b,jV(t,831))},mG(y3t,"ElkSpacings/AbstractSpacingsBuilder/lambda$5$Type",1368),fPt(1370,1,hYt,QS),EKt.td=function(t){Fq(this.a,this.b,jV(t,146))},mG(y3t,"ElkSpacings/AbstractSpacingsBuilder/lambda$6$Type",1370),fPt(935,1,{},za),EKt.Kb=function(t){return wP(t)},EKt.Fb=function(t){return this===t},mG(y3t,"ElkUtil/lambda$0$Type",935),fPt(936,1,hYt,JS),EKt.td=function(t){iMt(this.a,this.b,jV(t,79))},EKt.a=0,EKt.b=0,mG(y3t,"ElkUtil/lambda$1$Type",936),fPt(937,1,hYt,tI),EKt.td=function(t){_v(this.a,this.b,jV(t,202))},EKt.a=0,EKt.b=0,mG(y3t,"ElkUtil/lambda$2$Type",937),fPt(938,1,hYt,eI),EKt.td=function(t){JP(this.a,this.b,jV(t,137))},EKt.a=0,EKt.b=0,mG(y3t,"ElkUtil/lambda$3$Type",938),fPt(939,1,hYt,Am),EKt.td=function(t){iH(this.a,jV(t,469))},mG(y3t,"ElkUtil/lambda$4$Type",939),fPt(342,1,{35:1,342:1},Mb),EKt.wd=function(t){return mD(this,jV(t,236))},EKt.Fb=function(t){var e;return!!iD(t,342)&&(e=jV(t,342),this.a==e.a)},EKt.Hb=function(){return CQ(this.a)},EKt.Ib=function(){return this.a+" (exclusive)"},EKt.a=0,mG(y3t,"ExclusiveBounds/ExclusiveLowerBound",342),fPt(1138,209,DQt,Ha),EKt.Ze=function(t,e){var n,r,o,s,a,c,l,h,d,f,g,p,m,b,w,y,v,_,k,x,E;for(IEt(e,"Fixed Layout",1),s=jV(QPt(t,(cKt(),mCe)),218),f=0,g=0,w=new ID((!t.a&&(t.a=new tW(HMe,t,10,11)),t.a));w.e!=w.i.gc();){for(m=jV(vbt(w),33),(E=jV(QPt(m,(Wlt(),gSe)),8))&&(EP(m,E.a,E.b),jV(QPt(m,lSe),174).Hc((wpt(),NIe))&&(p=jV(QPt(m,hSe),8)).a>0&&p.b>0&&BWt(m,p.a,p.b,!0,!0)),f=i.Math.max(f,m.i+m.g),g=i.Math.max(g,m.j+m.f),h=new ID((!m.n&&(m.n=new tW(zMe,m,1,7)),m.n));h.e!=h.i.gc();)c=jV(vbt(h),137),(E=jV(QPt(c,gSe),8))&&EP(c,E.a,E.b),f=i.Math.max(f,m.i+c.i+c.g),g=i.Math.max(g,m.j+c.j+c.f);for(_=new ID((!m.c&&(m.c=new tW(UMe,m,9,9)),m.c));_.e!=_.i.gc();)for(v=jV(vbt(_),118),(E=jV(QPt(v,gSe),8))&&EP(v,E.a,E.b),k=m.i+v.i,x=m.j+v.j,f=i.Math.max(f,k+v.g),g=i.Math.max(g,x+v.f),l=new ID((!v.n&&(v.n=new tW(zMe,v,1,7)),v.n));l.e!=l.i.gc();)c=jV(vbt(l),137),(E=jV(QPt(c,gSe),8))&&EP(c,E.a,E.b),f=i.Math.max(f,k+c.i+c.g),g=i.Math.max(g,x+c.j+c.f);for(o=new sq(ZD(gDt(m).a.Kc(),new u));gPt(o);)d=FWt(n=jV(U4(o),79)),f=i.Math.max(f,d.a),g=i.Math.max(g,d.b);for(r=new sq(ZD(fDt(m).a.Kc(),new u));gPt(r);)XQ(CTt(n=jV(U4(r),79)))!=t&&(d=FWt(n),f=i.Math.max(f,d.a),g=i.Math.max(g,d.b))}if(s==(Eft(),KAe))for(b=new ID((!t.a&&(t.a=new tW(HMe,t,10,11)),t.a));b.e!=b.i.gc();)for(r=new sq(ZD(gDt(m=jV(vbt(b),33)).a.Kc(),new u));gPt(r);)0==(a=i$t(n=jV(U4(r),79))).b?Xbt(n,SCe,null):Xbt(n,SCe,a);Vv(kR(QPt(t,(Wlt(),uSe))))||BWt(t,f+(y=jV(QPt(t,dSe),116)).b+y.c,g+y.d+y.a,!0,!0),VCt(e)},mG(y3t,"FixedLayoutProvider",1138),fPt(373,134,{3:1,414:1,373:1,94:1,134:1},Qa,ntt),EKt.Jf=function(t){var e,n,i,r,o,s,a;if(t)try{for(s=vFt(t,";,;"),r=0,o=(i=s).length;r<o;++r){if(e=vFt(i[r],"\\:"),!(n=mUt(rit(),e[0])))throw $b(new Bv("Invalid option id: "+e[0]));if(null==(a=QHt(n,e[1])))throw $b(new Bv("Invalid option value: "+e[1]));null==a?(!this.q&&(this.q=new Db),m6(this.q,n)):(!this.q&&(this.q=new Db),GK(this.q,n,a))}}catch(t){throw iD(t=hat(t),102)?$b(new jlt(t)):$b(t)}},EKt.Ib=function(){return ER(T5(MY((this.q?this.q:(EX(),EX(),lne)).vc().Oc(),new Ja),D9(new YV,new J,new K,new Y,Cat(z_(Qne,1),PYt,132,0,[]))))};var rMe,oMe,sMe,aMe,cMe=mG(y3t,"IndividualSpacings",373);fPt(971,1,{},Ja),EKt.Kb=function(t){return LX(jV(t,42))},mG(y3t,"IndividualSpacings/lambda$0$Type",971),fPt(709,1,{},aU),EKt.c=0,mG(y3t,"InstancePool",709),fPt(1275,1,{},tc),mG(y3t,"LoggedGraph",1275),fPt(396,22,{3:1,35:1,22:1,396:1},iI);var lMe,uMe,hMe,dMe=$nt(y3t,"LoggedGraph/Type",396,qte,C3,gV);fPt(46,1,{20:1,46:1},nI),EKt.Jc=function(t){t4(this,t)},EKt.Fb=function(t){var e,n,i;return!!iD(t,46)&&(n=jV(t,46),e=null==this.a?null==n.a:Dht(this.a,n.a),i=null==this.b?null==n.b:Dht(this.b,n.b),e&&i)},EKt.Hb=function(){var t,e,n;return t=-65536&(e=null==this.a?0:Jct(this.a)),e&YYt^(-65536&(n=null==this.b?0:Jct(this.b)))>>16&YYt|t^(n&YYt)<<16},EKt.Kc=function(){return new Sm(this)},EKt.Ib=function(){return null==this.a&&null==this.b?"pair(null,null)":null==this.a?"pair(null,"+$ft(this.b)+")":null==this.b?"pair("+$ft(this.a)+",null)":"pair("+$ft(this.a)+","+$ft(this.b)+")"},mG(y3t,"Pair",46),fPt(983,1,YKt,Sm),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return!this.c&&(!this.b&&null!=this.a.a||null!=this.a.b)},EKt.Pb=function(){if(!this.c&&!this.b&&null!=this.a.a)return this.b=!0,this.a.a;if(!this.c&&null!=this.a.b)return this.c=!0,this.a.b;throw $b(new ww)},EKt.Qb=function(){throw this.c&&null!=this.a.b?this.a.b=null:this.b&&null!=this.a.a&&(this.a.a=null),$b(new fw)},EKt.b=!1,EKt.c=!1,mG(y3t,"Pair/1",983),fPt(448,1,{448:1},GY),EKt.Fb=function(t){return iY(this.a,jV(t,448).a)&&iY(this.c,jV(t,448).c)&&iY(this.d,jV(t,448).d)&&iY(this.b,jV(t,448).b)},EKt.Hb=function(){return uut(Cat(z_(Mte,1),VKt,1,5,[this.a,this.c,this.d,this.b]))},EKt.Ib=function(){return"("+this.a+jKt+this.c+jKt+this.d+jKt+this.b+")"},mG(y3t,"Quadruple",448),fPt(1126,209,DQt,ec),EKt.Ze=function(t,e){var n;IEt(e,"Random Layout",1),0!=(!t.a&&(t.a=new tW(HMe,t,10,11)),t.a).i?(nWt(t,(n=jV(QPt(t,(bpt(),OIe)),19))&&0!=n.a?new C5(n.a):new cft,Hv(xR(QPt(t,IIe))),Hv(xR(QPt(t,DIe))),jV(QPt(t,MIe),116)),VCt(e)):VCt(e)},mG(y3t,"RandomLayoutProvider",1126),fPt(553,1,{}),EKt.qf=function(){return new DS(this.f.i,this.f.j)},EKt.We=function(t){return _Z(t,(cKt(),rAe))?QPt(this.f,hMe):QPt(this.f,t)},EKt.rf=function(){return new DS(this.f.g,this.f.f)},EKt.sf=function(){return this.g},EKt.Xe=function(t){return T7(this.f,t)},EKt.tf=function(t){Cnt(this.f,t.a),Ant(this.f,t.b)},EKt.uf=function(t){Tnt(this.f,t.a),Ent(this.f,t.b)},EKt.vf=function(t){this.g=t},EKt.g=0,mG(V4t,"ElkGraphAdapters/AbstractElkGraphElementAdapter",553),fPt(554,1,{839:1},Im),EKt.wf=function(){var t,e;if(!this.b)for(this.b=C2(bY(this.a).i),e=new ID(bY(this.a));e.e!=e.i.gc();)t=jV(vbt(e),137),WV(this.b,new Lv(t));return this.b},EKt.b=null,mG(V4t,"ElkGraphAdapters/ElkEdgeAdapter",554),fPt(301,553,{},Nv),EKt.xf=function(){return evt(this)},EKt.a=null,mG(V4t,"ElkGraphAdapters/ElkGraphAdapter",301),fPt(630,553,{181:1},Lv),mG(V4t,"ElkGraphAdapters/ElkLabelAdapter",630),fPt(629,553,{680:1},XN),EKt.wf=function(){return Jyt(this)},EKt.Af=function(){var t;return!(t=jV(QPt(this.f,(cKt(),MCe)),142))&&(t=new uy),t},EKt.Cf=function(){return tvt(this)},EKt.Ef=function(t){var e;e=new Ij(t),Xbt(this.f,(cKt(),MCe),e)},EKt.Ff=function(t){Xbt(this.f,(cKt(),qCe),new Sj(t))},EKt.yf=function(){return this.d},EKt.zf=function(){var t,e;if(!this.a)for(this.a=new Ob,e=new sq(ZD(fDt(jV(this.f,33)).a.Kc(),new u));gPt(e);)t=jV(U4(e),79),WV(this.a,new Im(t));return this.a},EKt.Bf=function(){var t,e;if(!this.c)for(this.c=new Ob,e=new sq(ZD(gDt(jV(this.f,33)).a.Kc(),new u));gPt(e);)t=jV(U4(e),79),WV(this.c,new Im(t));return this.c},EKt.Df=function(){return 0!=YX(jV(this.f,33)).i||Vv(kR(jV(this.f,33).We((cKt(),ECe))))},EKt.Gf=function(){B9(this,(zT(),uMe))},EKt.a=null,EKt.b=null,EKt.c=null,EKt.d=null,EKt.e=null,mG(V4t,"ElkGraphAdapters/ElkNodeAdapter",629),fPt(1266,553,{838:1},sb),EKt.wf=function(){return vvt(this)},EKt.zf=function(){var t,e;if(!this.a)for(this.a=aL(jV(this.f,118).xg().i),e=new ID(jV(this.f,118).xg());e.e!=e.i.gc();)t=jV(vbt(e),79),WV(this.a,new Im(t));return this.a},EKt.Bf=function(){var t,e;if(!this.c)for(this.c=aL(jV(this.f,118).yg().i),e=new ID(jV(this.f,118).yg());e.e!=e.i.gc();)t=jV(vbt(e),79),WV(this.c,new Im(t));return this.c},EKt.Hf=function(){return jV(jV(this.f,118).We((cKt(),dAe)),61)},EKt.If=function(){var t,e,n,i,r,o,s;for(i=WQ(jV(this.f,118)),n=new ID(jV(this.f,118).yg());n.e!=n.i.gc();)for(s=new ID((!(t=jV(vbt(n),79)).c&&(t.c=new cF(LMe,t,5,8)),t.c));s.e!=s.i.gc();){if(Aet(CEt(o=jV(vbt(s),82)),i))return!0;if(CEt(o)==i&&Vv(kR(QPt(t,(cKt(),TCe)))))return!0}for(e=new ID(jV(this.f,118).xg());e.e!=e.i.gc();)for(r=new ID((!(t=jV(vbt(e),79)).b&&(t.b=new cF(LMe,t,4,7)),t.b));r.e!=r.i.gc();)if(Aet(CEt(jV(vbt(r),82)),i))return!0;return!1},EKt.a=null,EKt.b=null,EKt.c=null,mG(V4t,"ElkGraphAdapters/ElkPortAdapter",1266),fPt(1267,1,EZt,nc),EKt.ue=function(t,e){return HBt(jV(t,118),jV(e,118))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(V4t,"ElkGraphAdapters/PortComparator",1267);var fMe,gMe,pMe,mMe,bMe,wMe,yMe,vMe,_Me,kMe,xMe,EMe,TMe,CMe,AMe,SMe,IMe,MMe=hH(z4t,"EObject"),PMe=hH(H4t,U4t),OMe=hH(H4t,q4t),DMe=hH(H4t,W4t),NMe=hH(H4t,"ElkShape"),LMe=hH(H4t,G4t),RMe=hH(H4t,K4t),BMe=hH(H4t,Y4t),FMe=hH(z4t,X4t),jMe=hH(z4t,"EFactory"),$Me=hH(z4t,Z4t),VMe=hH(z4t,"EPackage"),zMe=hH(H4t,Q4t),HMe=hH(H4t,J4t),UMe=hH(H4t,t6t);fPt(90,1,e6t),EKt.Jg=function(){return this.Kg(),null},EKt.Kg=function(){return null},EKt.Lg=function(){return this.Kg(),!1},EKt.Mg=function(){return!1},EKt.Ng=function(t){dst(this,t)},mG(n6t,"BasicNotifierImpl",90),fPt(97,90,u6t),EKt.nh=function(){return bP(this)},EKt.Og=function(t,e){return t},EKt.Pg=function(){throw $b(new pw)},EKt.Qg=function(t){var e;return e=Awt(jV(eet(this.Tg(),this.Vg()),18)),this.eh().ih(this,e.n,e.f,t)},EKt.Rg=function(t,e){throw $b(new pw)},EKt.Sg=function(t,e,n){return xjt(this,t,e,n)},EKt.Tg=function(){var t;return this.Pg()&&(t=this.Pg().ck())?t:this.zh()},EKt.Ug=function(){return rPt(this)},EKt.Vg=function(){throw $b(new pw)},EKt.Wg=function(){var t,e;return!(e=this.ph().dk())&&this.Pg().ik((KT(),e=null==(t=uQ(z$t(this.Tg())))?POe:new KN(this,t))),e},EKt.Xg=function(t,e){return t},EKt.Yg=function(t){return t.Gj()?t.aj():Mgt(this.Tg(),t)},EKt.Zg=function(){var t;return(t=this.Pg())?t.fk():null},EKt.$g=function(){return this.Pg()?this.Pg().ck():null},EKt._g=function(t,e,n){return Qbt(this,t,e,n)},EKt.ah=function(t){return E8(this,t)},EKt.bh=function(t,e){return G4(this,t,e)},EKt.dh=function(){var t;return!!(t=this.Pg())&&t.gk()},EKt.eh=function(){throw $b(new pw)},EKt.fh=function(){return Xpt(this)},EKt.gh=function(t,e,n,i){return Dbt(this,t,e,i)},EKt.hh=function(t,e,n){return jV(eet(this.Tg(),e),66).Nj().Qj(this,this.yh(),e-this.Ah(),t,n)},EKt.ih=function(t,e,n,i){return sQ(this,t,e,i)},EKt.jh=function(t,e,n){return jV(eet(this.Tg(),e),66).Nj().Rj(this,this.yh(),e-this.Ah(),t,n)},EKt.kh=function(){return!!this.Pg()&&!!this.Pg().ek()},EKt.lh=function(t){return bbt(this,t)},EKt.mh=function(t){return ZQ(this,t)},EKt.oh=function(t){return FHt(this,t)},EKt.ph=function(){throw $b(new pw)},EKt.qh=function(){return this.Pg()?this.Pg().ek():null},EKt.rh=function(){return Xpt(this)},EKt.sh=function(t,e){ySt(this,t,e)},EKt.th=function(t){this.ph().hk(t)},EKt.uh=function(t){this.ph().kk(t)},EKt.vh=function(t){this.ph().jk(t)},EKt.wh=function(t,e){var n,i,r,o;return(o=this.Zg())&&t&&(e=Fbt(o.Vk(),this,e),o.Zk(this)),(i=this.eh())&&(pFt(this,this.eh(),this.Vg()).Bb&$Xt?(r=i.fh())&&(t?!o&&r.Zk(this):r.Yk(this)):(e=(n=this.Vg())>=0?this.Qg(e):this.eh().ih(this,-1-n,null,e),e=this.Sg(null,-1,e))),this.uh(t),e},EKt.xh=function(t){var e,n,i,r,o,s,a;if((o=Mgt(n=this.Tg(),t))>=(e=this.Ah()))return jV(t,66).Nj().Uj(this,this.yh(),o-e);if(o<=-1){if(!(s=jHt((SAt(),XOe),n,t)))throw $b(new Bv(i6t+t.ne()+s6t));if(ZT(),jV(s,66).Oj()||(s=Z1(j9(XOe,s))),r=jV((i=this.Yg(s))>=0?this._g(i,!0,!0):rMt(this,s,!0),153),(a=s.Zj())>1||-1==a)return jV(jV(r,215).hl(t,!1),76)}else if(t.$j())return jV((i=this.Yg(t))>=0?this._g(i,!1,!0):rMt(this,t,!1),76);return new AI(this,t)},EKt.yh=function(){return K9(this)},EKt.zh=function(){return(KG(),QPe).S},EKt.Ah=function(){return hG(this.zh())},EKt.Bh=function(t){wAt(this,t)},EKt.Ib=function(){return COt(this)},mG(h6t,"BasicEObjectImpl",97),fPt(114,97,{105:1,92:1,90:1,56:1,108:1,49:1,97:1,114:1}),EKt.Ch=function(t){return Y9(this)[t]},EKt.Dh=function(t,e){MG(Y9(this),t,e)},EKt.Eh=function(t){MG(Y9(this),t,null)},EKt.Jg=function(){return jV(yst(this,4),126)},EKt.Kg=function(){throw $b(new pw)},EKt.Lg=function(){return!!(4&this.Db)},EKt.Pg=function(){throw $b(new pw)},EKt.Fh=function(t){lmt(this,2,t)},EKt.Rg=function(t,e){this.Db=e<<16|255&this.Db,this.Fh(t)},EKt.Tg=function(){return vZ(this)},EKt.Vg=function(){return this.Db>>16},EKt.Wg=function(){var t;return KT(),null==(t=uQ(z$t(jV(yst(this,16),26)||this.zh())))?POe:new KN(this,t)},EKt.Mg=function(){return!(1&this.Db)},EKt.Zg=function(){return jV(yst(this,128),1935)},EKt.$g=function(){return jV(yst(this,16),26)},EKt.dh=function(){return!!(32&this.Db)},EKt.eh=function(){return jV(yst(this,2),49)},EKt.kh=function(){return!!(64&this.Db)},EKt.ph=function(){throw $b(new pw)},EKt.qh=function(){return jV(yst(this,64),281)},EKt.th=function(t){lmt(this,16,t)},EKt.uh=function(t){lmt(this,128,t)},EKt.vh=function(t){lmt(this,64,t)},EKt.yh=function(){return umt(this)},EKt.Db=0,mG(h6t,"MinimalEObjectImpl",114),fPt(115,114,{105:1,92:1,90:1,56:1,108:1,49:1,97:1,114:1,115:1}),EKt.Fh=function(t){this.Cb=t},EKt.eh=function(){return this.Cb},mG(h6t,"MinimalEObjectImpl/Container",115),fPt(1985,115,{105:1,413:1,94:1,92:1,90:1,56:1,108:1,49:1,97:1,114:1,115:1}),EKt._g=function(t,e,n){return kvt(this,t,e,n)},EKt.jh=function(t,e,n){return eCt(this,t,e,n)},EKt.lh=function(t){return b0(this,t)},EKt.sh=function(t,e){ilt(this,t,e)},EKt.zh=function(){return AGt(),TMe},EKt.Bh=function(t){Uat(this,t)},EKt.Ve=function(){return hbt(this)},EKt.We=function(t){return QPt(this,t)},EKt.Xe=function(t){return T7(this,t)},EKt.Ye=function(t,e){return Xbt(this,t,e)},mG(d6t,"EMapPropertyHolderImpl",1985),fPt(567,115,{105:1,469:1,92:1,90:1,56:1,108:1,49:1,97:1,114:1,115:1},oc),EKt._g=function(t,e,n){switch(t){case 0:return this.a;case 1:return this.b}return Qbt(this,t,e,n)},EKt.lh=function(t){switch(t){case 0:return 0!=this.a;case 1:return 0!=this.b}return bbt(this,t)},EKt.sh=function(t,e){switch(t){case 0:return void _nt(this,zv(xR(e)));case 1:return void knt(this,zv(xR(e)))}ySt(this,t,e)},EKt.zh=function(){return AGt(),pMe},EKt.Bh=function(t){switch(t){case 0:return void _nt(this,0);case 1:return void knt(this,0)}wAt(this,t)},EKt.Ib=function(){var t;return 64&this.Db?COt(this):((t=new lN(COt(this))).a+=" (x: ",mx(t,this.a),t.a+=", y: ",mx(t,this.b),t.a+=")",t.a)},EKt.a=0,EKt.b=0,mG(d6t,"ElkBendPointImpl",567),fPt(723,1985,{105:1,413:1,160:1,94:1,92:1,90:1,56:1,108:1,49:1,97:1,114:1,115:1}),EKt._g=function(t,e,n){return Fht(this,t,e,n)},EKt.hh=function(t,e,n){return jEt(this,t,e,n)},EKt.jh=function(t,e,n){return iat(this,t,e,n)},EKt.lh=function(t){return kst(this,t)},EKt.sh=function(t,e){Hkt(this,t,e)},EKt.zh=function(){return AGt(),yMe},EKt.Bh=function(t){aht(this,t)},EKt.zg=function(){return this.k},EKt.Ag=function(){return bY(this)},EKt.Ib=function(){return Xdt(this)},EKt.k=null,mG(d6t,"ElkGraphElementImpl",723),fPt(724,723,{105:1,413:1,160:1,470:1,94:1,92:1,90:1,56:1,108:1,49:1,97:1,114:1,115:1}),EKt._g=function(t,e,n){return Rft(this,t,e,n)},EKt.lh=function(t){return ugt(this,t)},EKt.sh=function(t,e){Ukt(this,t,e)},EKt.zh=function(){return AGt(),EMe},EKt.Bh=function(t){Lgt(this,t)},EKt.Bg=function(){return this.f},EKt.Cg=function(){return this.g},EKt.Dg=function(){return this.i},EKt.Eg=function(){return this.j},EKt.Fg=function(t,e){xP(this,t,e)},EKt.Gg=function(t,e){EP(this,t,e)},EKt.Hg=function(t){Cnt(this,t)},EKt.Ig=function(t){Ant(this,t)},EKt.Ib=function(){return wCt(this)},EKt.f=0,EKt.g=0,EKt.i=0,EKt.j=0,mG(d6t,"ElkShapeImpl",724),fPt(725,724,{105:1,413:1,82:1,160:1,470:1,94:1,92:1,90:1,56:1,108:1,49:1,97:1,114:1,115:1}),EKt._g=function(t,e,n){return Vwt(this,t,e,n)},EKt.hh=function(t,e,n){return gkt(this,t,e,n)},EKt.jh=function(t,e,n){return pkt(this,t,e,n)},EKt.lh=function(t){return Hct(this,t)},EKt.sh=function(t,e){OPt(this,t,e)},EKt.zh=function(){return AGt(),mMe},EKt.Bh=function(t){Nbt(this,t)},EKt.xg=function(){return!this.d&&(this.d=new cF(RMe,this,8,5)),this.d},EKt.yg=function(){return!this.e&&(this.e=new cF(RMe,this,7,4)),this.e},mG(d6t,"ElkConnectableShapeImpl",725),fPt(352,723,{105:1,413:1,79:1,160:1,352:1,94:1,92:1,90:1,56:1,108:1,49:1,97:1,114:1,115:1},rc),EKt.Qg=function(t){return E_t(this,t)},EKt._g=function(t,e,n){switch(t){case 3:return qQ(this);case 4:return!this.b&&(this.b=new cF(LMe,this,4,7)),this.b;case 5:return!this.c&&(this.c=new cF(LMe,this,5,8)),this.c;case 6:return!this.a&&(this.a=new tW(BMe,this,6,6)),this.a;case 7:return cN(),!this.b&&(this.b=new cF(LMe,this,4,7)),!(this.b.i<=1&&(!this.c&&(this.c=new cF(LMe,this,5,8)),this.c.i<=1));case 8:return cN(),!!JMt(this);case 9:return cN(),!!YIt(this);case 10:return cN(),!this.b&&(this.b=new cF(LMe,this,4,7)),0!=this.b.i&&(!this.c&&(this.c=new cF(LMe,this,5,8)),0!=this.c.i)}return Fht(this,t,e,n)},EKt.hh=function(t,e,n){var i;switch(e){case 3:return this.Cb&&(n=(i=this.Db>>16)>=0?E_t(this,n):this.Cb.ih(this,-1-i,null,n)),GR(this,jV(t,33),n);case 4:return!this.b&&(this.b=new cF(LMe,this,4,7)),Xgt(this.b,t,n);case 5:return!this.c&&(this.c=new cF(LMe,this,5,8)),Xgt(this.c,t,n);case 6:return!this.a&&(this.a=new tW(BMe,this,6,6)),Xgt(this.a,t,n)}return jEt(this,t,e,n)},EKt.jh=function(t,e,n){switch(e){case 3:return GR(this,null,n);case 4:return!this.b&&(this.b=new cF(LMe,this,4,7)),Fbt(this.b,t,n);case 5:return!this.c&&(this.c=new cF(LMe,this,5,8)),Fbt(this.c,t,n);case 6:return!this.a&&(this.a=new tW(BMe,this,6,6)),Fbt(this.a,t,n)}return iat(this,t,e,n)},EKt.lh=function(t){switch(t){case 3:return!!qQ(this);case 4:return!!this.b&&0!=this.b.i;case 5:return!!this.c&&0!=this.c.i;case 6:return!!this.a&&0!=this.a.i;case 7:return!this.b&&(this.b=new cF(LMe,this,4,7)),!(this.b.i<=1&&(!this.c&&(this.c=new cF(LMe,this,5,8)),this.c.i<=1));case 8:return JMt(this);case 9:return YIt(this);case 10:return!this.b&&(this.b=new cF(LMe,this,4,7)),0!=this.b.i&&(!this.c&&(this.c=new cF(LMe,this,5,8)),0!=this.c.i)}return kst(this,t)},EKt.sh=function(t,e){switch(t){case 3:return void VDt(this,jV(e,33));case 4:return!this.b&&(this.b=new cF(LMe,this,4,7)),cHt(this.b),!this.b&&(this.b=new cF(LMe,this,4,7)),void pG(this.b,jV(e,14));case 5:return!this.c&&(this.c=new cF(LMe,this,5,8)),cHt(this.c),!this.c&&(this.c=new cF(LMe,this,5,8)),void pG(this.c,jV(e,14));case 6:return!this.a&&(this.a=new tW(BMe,this,6,6)),cHt(this.a),!this.a&&(this.a=new tW(BMe,this,6,6)),void pG(this.a,jV(e,14))}Hkt(this,t,e)},EKt.zh=function(){return AGt(),bMe},EKt.Bh=function(t){switch(t){case 3:return void VDt(this,null);case 4:return!this.b&&(this.b=new cF(LMe,this,4,7)),void cHt(this.b);case 5:return!this.c&&(this.c=new cF(LMe,this,5,8)),void cHt(this.c);case 6:return!this.a&&(this.a=new tW(BMe,this,6,6)),void cHt(this.a)}aht(this,t)},EKt.Ib=function(){return hzt(this)},mG(d6t,"ElkEdgeImpl",352),fPt(439,1985,{105:1,413:1,202:1,439:1,94:1,92:1,90:1,56:1,108:1,49:1,97:1,114:1,115:1},sc),EKt.Qg=function(t){return c_t(this,t)},EKt._g=function(t,e,n){switch(t){case 1:return this.j;case 2:return this.k;case 3:return this.b;case 4:return this.c;case 5:return!this.a&&(this.a=new MD(OMe,this,5)),this.a;case 6:return GQ(this);case 7:return e?Cwt(this):this.i;case 8:return e?Twt(this):this.f;case 9:return!this.g&&(this.g=new cF(BMe,this,9,10)),this.g;case 10:return!this.e&&(this.e=new cF(BMe,this,10,9)),this.e;case 11:return this.d}return kvt(this,t,e,n)},EKt.hh=function(t,e,n){var i;switch(e){case 6:return this.Cb&&(n=(i=this.Db>>16)>=0?c_t(this,n):this.Cb.ih(this,-1-i,null,n)),KR(this,jV(t,79),n);case 9:return!this.g&&(this.g=new cF(BMe,this,9,10)),Xgt(this.g,t,n);case 10:return!this.e&&(this.e=new cF(BMe,this,10,9)),Xgt(this.e,t,n)}return jV(eet(jV(yst(this,16),26)||(AGt(),wMe),e),66).Nj().Qj(this,umt(this),e-hG((AGt(),wMe)),t,n)},EKt.jh=function(t,e,n){switch(e){case 5:return!this.a&&(this.a=new MD(OMe,this,5)),Fbt(this.a,t,n);case 6:return KR(this,null,n);case 9:return!this.g&&(this.g=new cF(BMe,this,9,10)),Fbt(this.g,t,n);case 10:return!this.e&&(this.e=new cF(BMe,this,10,9)),Fbt(this.e,t,n)}return eCt(this,t,e,n)},EKt.lh=function(t){switch(t){case 1:return 0!=this.j;case 2:return 0!=this.k;case 3:return 0!=this.b;case 4:return 0!=this.c;case 5:return!!this.a&&0!=this.a.i;case 6:return!!GQ(this);case 7:return!!this.i;case 8:return!!this.f;case 9:return!!this.g&&0!=this.g.i;case 10:return!!this.e&&0!=this.e.i;case 11:return null!=this.d}return b0(this,t)},EKt.sh=function(t,e){switch(t){case 1:return void Snt(this,zv(xR(e)));case 2:return void Mnt(this,zv(xR(e)));case 3:return void xnt(this,zv(xR(e)));case 4:return void Int(this,zv(xR(e)));case 5:return!this.a&&(this.a=new MD(OMe,this,5)),cHt(this.a),!this.a&&(this.a=new MD(OMe,this,5)),void pG(this.a,jV(e,14));case 6:return void jDt(this,jV(e,79));case 7:return void Dit(this,jV(e,82));case 8:return void Oit(this,jV(e,82));case 9:return!this.g&&(this.g=new cF(BMe,this,9,10)),cHt(this.g),!this.g&&(this.g=new cF(BMe,this,9,10)),void pG(this.g,jV(e,14));case 10:return!this.e&&(this.e=new cF(BMe,this,10,9)),cHt(this.e),!this.e&&(this.e=new cF(BMe,this,10,9)),void pG(this.e,jV(e,14));case 11:return void rrt(this,ER(e))}ilt(this,t,e)},EKt.zh=function(){return AGt(),wMe},EKt.Bh=function(t){switch(t){case 1:return void Snt(this,0);case 2:return void Mnt(this,0);case 3:return void xnt(this,0);case 4:return void Int(this,0);case 5:return!this.a&&(this.a=new MD(OMe,this,5)),void cHt(this.a);case 6:return void jDt(this,null);case 7:return void Dit(this,null);case 8:return void Oit(this,null);case 9:return!this.g&&(this.g=new cF(BMe,this,9,10)),void cHt(this.g);case 10:return!this.e&&(this.e=new cF(BMe,this,10,9)),void cHt(this.e);case 11:return void rrt(this,null)}Uat(this,t)},EKt.Ib=function(){return RMt(this)},EKt.b=0,EKt.c=0,EKt.d=null,EKt.j=0,EKt.k=0,mG(d6t,"ElkEdgeSectionImpl",439),fPt(150,115,{105:1,92:1,90:1,147:1,56:1,108:1,49:1,97:1,150:1,114:1,115:1}),EKt._g=function(t,e,n){return 0==t?(!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),this.Ab):U8(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t),e,n)},EKt.hh=function(t,e,n){return 0==e?(!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Xgt(this.Ab,t,n)):jV(eet(jV(yst(this,16),26)||this.zh(),e),66).Nj().Qj(this,umt(this),e-hG(this.zh()),t,n)},EKt.jh=function(t,e,n){return 0==e?(!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Fbt(this.Ab,t,n)):jV(eet(jV(yst(this,16),26)||this.zh(),e),66).Nj().Rj(this,umt(this),e-hG(this.zh()),t,n)},EKt.lh=function(t){return 0==t?!!this.Ab&&0!=this.Ab.i:S3(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t))},EKt.oh=function(t){return lWt(this,t)},EKt.sh=function(t,e){if(0===t)return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),cHt(this.Ab),!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void pG(this.Ab,jV(e,14));Oft(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t),e)},EKt.uh=function(t){lmt(this,128,t)},EKt.zh=function(){return pKt(),uOe},EKt.Bh=function(t){if(0===t)return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void cHt(this.Ab);zht(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t))},EKt.Gh=function(){this.Bb|=1},EKt.Hh=function(t){return Djt(this,t)},EKt.Bb=0,mG(h6t,"EModelElementImpl",150),fPt(704,150,{105:1,92:1,90:1,471:1,147:1,56:1,108:1,49:1,97:1,150:1,114:1,115:1},Nh),EKt.Ih=function(t,e){return zUt(this,t,e)},EKt.Jh=function(t){var e,n,i,r;if(this.a!=qet(t)||256&t.Bb)throw $b(new Bv(w6t+t.zb+p6t));for(n=yZ(t);0!=r5(n.a).i;){if(nvt(e=jV(eUt(n,0,iD(r=jV(Get(r5(n.a),0),87).c,88)?jV(r,26):(pKt(),dOe)),26)))return jV(i=qet(e).Nh().Jh(e),49).th(t),i;n=yZ(e)}return"java.util.Map$Entry"==(null!=t.D?t.D:t.B)?new lH(t):new vz(t)},EKt.Kh=function(t,e){return NGt(this,t,e)},EKt._g=function(t,e,n){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),this.Ab;case 1:return this.a}return U8(this,t-hG((pKt(),aOe)),eet(jV(yst(this,16),26)||aOe,t),e,n)},EKt.hh=function(t,e,n){switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Xgt(this.Ab,t,n);case 1:return this.a&&(n=jV(this.a,49).ih(this,4,VMe,n)),Zut(this,jV(t,235),n)}return jV(eet(jV(yst(this,16),26)||(pKt(),aOe),e),66).Nj().Qj(this,umt(this),e-hG((pKt(),aOe)),t,n)},EKt.jh=function(t,e,n){switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Fbt(this.Ab,t,n);case 1:return Zut(this,null,n)}return jV(eet(jV(yst(this,16),26)||(pKt(),aOe),e),66).Nj().Rj(this,umt(this),e-hG((pKt(),aOe)),t,n)},EKt.lh=function(t){switch(t){case 0:return!!this.Ab&&0!=this.Ab.i;case 1:return!!this.a}return S3(this,t-hG((pKt(),aOe)),eet(jV(yst(this,16),26)||aOe,t))},EKt.sh=function(t,e){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),cHt(this.Ab),!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void pG(this.Ab,jV(e,14));case 1:return void NTt(this,jV(e,235))}Oft(this,t-hG((pKt(),aOe)),eet(jV(yst(this,16),26)||aOe,t),e)},EKt.zh=function(){return pKt(),aOe},EKt.Bh=function(t){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void cHt(this.Ab);case 1:return void NTt(this,null)}zht(this,t-hG((pKt(),aOe)),eet(jV(yst(this,16),26)||aOe,t))},mG(h6t,"EFactoryImpl",704),fPt(v6t,704,{105:1,2014:1,92:1,90:1,471:1,147:1,56:1,108:1,49:1,97:1,150:1,114:1,115:1},ac),EKt.Ih=function(t,e){switch(t.yj()){case 12:return jV(e,146).tg();case 13:return $ft(e);default:throw $b(new Bv(g6t+t.ne()+p6t))}},EKt.Jh=function(t){var e;switch(-1==t.G&&(t.G=(e=qet(t))?swt(e.Mh(),t):-1),t.G){case 4:return new cc;case 6:return new vy;case 7:return new _y;case 8:return new rc;case 9:return new oc;case 10:return new sc;case 11:return new uc;default:throw $b(new Bv(w6t+t.zb+p6t))}},EKt.Kh=function(t,e){switch(t.yj()){case 13:case 12:return null;default:throw $b(new Bv(g6t+t.ne()+p6t))}},mG(d6t,"ElkGraphFactoryImpl",v6t),fPt(438,150,{105:1,92:1,90:1,147:1,191:1,56:1,108:1,49:1,97:1,150:1,114:1,115:1}),EKt.Wg=function(){var t;return null==(t=uQ(z$t(jV(yst(this,16),26)||this.zh())))?(KT(),KT(),POe):new WL(this,t)},EKt._g=function(t,e,n){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),this.Ab;case 1:return this.ne()}return U8(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t),e,n)},EKt.lh=function(t){switch(t){case 0:return!!this.Ab&&0!=this.Ab.i;case 1:return null!=this.zb}return S3(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t))},EKt.sh=function(t,e){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),cHt(this.Ab),!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void pG(this.Ab,jV(e,14));case 1:return void this.Lh(ER(e))}Oft(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t),e)},EKt.zh=function(){return pKt(),hOe},EKt.Bh=function(t){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void cHt(this.Ab);case 1:return void this.Lh(null)}zht(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t))},EKt.ne=function(){return this.zb},EKt.Lh=function(t){Drt(this,t)},EKt.Ib=function(){return vht(this)},EKt.zb=null,mG(h6t,"ENamedElementImpl",438),fPt(179,438,{105:1,92:1,90:1,147:1,191:1,56:1,235:1,108:1,49:1,97:1,150:1,179:1,114:1,115:1,675:1},mZ),EKt.Qg=function(t){return f_t(this,t)},EKt._g=function(t,e,n){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),this.Ab;case 1:return this.zb;case 2:return this.yb;case 3:return this.xb;case 4:return this.sb;case 5:return!this.rb&&(this.rb=new Xq(this,jPe,this)),this.rb;case 6:return!this.vb&&(this.vb=new tF(VMe,this,6,7)),this.vb;case 7:return e?this.Db>>16==7?jV(this.Cb,235):null:KQ(this)}return U8(this,t-hG((pKt(),pOe)),eet(jV(yst(this,16),26)||pOe,t),e,n)},EKt.hh=function(t,e,n){var i;switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Xgt(this.Ab,t,n);case 4:return this.sb&&(n=jV(this.sb,49).ih(this,1,jMe,n)),_ht(this,jV(t,471),n);case 5:return!this.rb&&(this.rb=new Xq(this,jPe,this)),Xgt(this.rb,t,n);case 6:return!this.vb&&(this.vb=new tF(VMe,this,6,7)),Xgt(this.vb,t,n);case 7:return this.Cb&&(n=(i=this.Db>>16)>=0?f_t(this,n):this.Cb.ih(this,-1-i,null,n)),xjt(this,t,7,n)}return jV(eet(jV(yst(this,16),26)||(pKt(),pOe),e),66).Nj().Qj(this,umt(this),e-hG((pKt(),pOe)),t,n)},EKt.jh=function(t,e,n){switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Fbt(this.Ab,t,n);case 4:return _ht(this,null,n);case 5:return!this.rb&&(this.rb=new Xq(this,jPe,this)),Fbt(this.rb,t,n);case 6:return!this.vb&&(this.vb=new tF(VMe,this,6,7)),Fbt(this.vb,t,n);case 7:return xjt(this,null,7,n)}return jV(eet(jV(yst(this,16),26)||(pKt(),pOe),e),66).Nj().Rj(this,umt(this),e-hG((pKt(),pOe)),t,n)},EKt.lh=function(t){switch(t){case 0:return!!this.Ab&&0!=this.Ab.i;case 1:return null!=this.zb;case 2:return null!=this.yb;case 3:return null!=this.xb;case 4:return!!this.sb;case 5:return!!this.rb&&0!=this.rb.i;case 6:return!!this.vb&&0!=this.vb.i;case 7:return!!KQ(this)}return S3(this,t-hG((pKt(),pOe)),eet(jV(yst(this,16),26)||pOe,t))},EKt.oh=function(t){return ONt(this,t)||lWt(this,t)},EKt.sh=function(t,e){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),cHt(this.Ab),!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void pG(this.Ab,jV(e,14));case 1:return void Drt(this,ER(e));case 2:return void Lrt(this,ER(e));case 3:return void Nrt(this,ER(e));case 4:return void nCt(this,jV(e,471));case 5:return!this.rb&&(this.rb=new Xq(this,jPe,this)),cHt(this.rb),!this.rb&&(this.rb=new Xq(this,jPe,this)),void pG(this.rb,jV(e,14));case 6:return!this.vb&&(this.vb=new tF(VMe,this,6,7)),cHt(this.vb),!this.vb&&(this.vb=new tF(VMe,this,6,7)),void pG(this.vb,jV(e,14))}Oft(this,t-hG((pKt(),pOe)),eet(jV(yst(this,16),26)||pOe,t),e)},EKt.vh=function(t){var e,n;if(t&&this.rb)for(n=new ID(this.rb);n.e!=n.i.gc();)iD(e=vbt(n),351)&&(jV(e,351).w=null);lmt(this,64,t)},EKt.zh=function(){return pKt(),pOe},EKt.Bh=function(t){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void cHt(this.Ab);case 1:return void Drt(this,null);case 2:return void Lrt(this,null);case 3:return void Nrt(this,null);case 4:return void nCt(this,null);case 5:return!this.rb&&(this.rb=new Xq(this,jPe,this)),void cHt(this.rb);case 6:return!this.vb&&(this.vb=new tF(VMe,this,6,7)),void cHt(this.vb)}zht(this,t-hG((pKt(),pOe)),eet(jV(yst(this,16),26)||pOe,t))},EKt.Gh=function(){xvt(this)},EKt.Mh=function(){return!this.rb&&(this.rb=new Xq(this,jPe,this)),this.rb},EKt.Nh=function(){return this.sb},EKt.Oh=function(){return this.ub},EKt.Ph=function(){return this.xb},EKt.Qh=function(){return this.yb},EKt.Rh=function(t){this.ub=t},EKt.Ib=function(){var t;return 64&this.Db?vht(this):((t=new lN(vht(this))).a+=" (nsURI: ",iM(t,this.yb),t.a+=", nsPrefix: ",iM(t,this.xb),t.a+=")",t.a)},EKt.xb=null,EKt.yb=null,mG(h6t,"EPackageImpl",179),fPt(555,179,{105:1,2016:1,555:1,92:1,90:1,147:1,191:1,56:1,235:1,108:1,49:1,97:1,150:1,179:1,114:1,115:1,675:1},cPt),EKt.q=!1,EKt.r=!1;var qMe=!1;mG(d6t,"ElkGraphPackageImpl",555),fPt(354,724,{105:1,413:1,160:1,137:1,470:1,354:1,94:1,92:1,90:1,56:1,108:1,49:1,97:1,114:1,115:1},cc),EKt.Qg=function(t){return l_t(this,t)},EKt._g=function(t,e,n){switch(t){case 7:return YQ(this);case 8:return this.a}return Rft(this,t,e,n)},EKt.hh=function(t,e,n){var i;return 7===e?(this.Cb&&(n=(i=this.Db>>16)>=0?l_t(this,n):this.Cb.ih(this,-1-i,null,n)),GU(this,jV(t,160),n)):jEt(this,t,e,n)},EKt.jh=function(t,e,n){return 7==e?GU(this,null,n):iat(this,t,e,n)},EKt.lh=function(t){switch(t){case 7:return!!YQ(this);case 8:return!bF("",this.a)}return ugt(this,t)},EKt.sh=function(t,e){switch(t){case 7:return void SNt(this,jV(e,160));case 8:return void Nit(this,ER(e))}Ukt(this,t,e)},EKt.zh=function(){return AGt(),vMe},EKt.Bh=function(t){switch(t){case 7:return void SNt(this,null);case 8:return void Nit(this,"")}Lgt(this,t)},EKt.Ib=function(){return rAt(this)},EKt.a="",mG(d6t,"ElkLabelImpl",354),fPt(239,725,{105:1,413:1,82:1,160:1,33:1,470:1,239:1,94:1,92:1,90:1,56:1,108:1,49:1,97:1,114:1,115:1},vy),EKt.Qg=function(t){return T_t(this,t)},EKt._g=function(t,e,n){switch(t){case 9:return!this.c&&(this.c=new tW(UMe,this,9,9)),this.c;case 10:return!this.a&&(this.a=new tW(HMe,this,10,11)),this.a;case 11:return XQ(this);case 12:return!this.b&&(this.b=new tW(RMe,this,12,3)),this.b;case 13:return cN(),!this.a&&(this.a=new tW(HMe,this,10,11)),this.a.i>0}return Vwt(this,t,e,n)},EKt.hh=function(t,e,n){var i;switch(e){case 9:return!this.c&&(this.c=new tW(UMe,this,9,9)),Xgt(this.c,t,n);case 10:return!this.a&&(this.a=new tW(HMe,this,10,11)),Xgt(this.a,t,n);case 11:return this.Cb&&(n=(i=this.Db>>16)>=0?T_t(this,n):this.Cb.ih(this,-1-i,null,n)),HB(this,jV(t,33),n);case 12:return!this.b&&(this.b=new tW(RMe,this,12,3)),Xgt(this.b,t,n)}return gkt(this,t,e,n)},EKt.jh=function(t,e,n){switch(e){case 9:return!this.c&&(this.c=new tW(UMe,this,9,9)),Fbt(this.c,t,n);case 10:return!this.a&&(this.a=new tW(HMe,this,10,11)),Fbt(this.a,t,n);case 11:return HB(this,null,n);case 12:return!this.b&&(this.b=new tW(RMe,this,12,3)),Fbt(this.b,t,n)}return pkt(this,t,e,n)},EKt.lh=function(t){switch(t){case 9:return!!this.c&&0!=this.c.i;case 10:return!!this.a&&0!=this.a.i;case 11:return!!XQ(this);case 12:return!!this.b&&0!=this.b.i;case 13:return!this.a&&(this.a=new tW(HMe,this,10,11)),this.a.i>0}return Hct(this,t)},EKt.sh=function(t,e){switch(t){case 9:return!this.c&&(this.c=new tW(UMe,this,9,9)),cHt(this.c),!this.c&&(this.c=new tW(UMe,this,9,9)),void pG(this.c,jV(e,14));case 10:return!this.a&&(this.a=new tW(HMe,this,10,11)),cHt(this.a),!this.a&&(this.a=new tW(HMe,this,10,11)),void pG(this.a,jV(e,14));case 11:return void JDt(this,jV(e,33));case 12:return!this.b&&(this.b=new tW(RMe,this,12,3)),cHt(this.b),!this.b&&(this.b=new tW(RMe,this,12,3)),void pG(this.b,jV(e,14))}OPt(this,t,e)},EKt.zh=function(){return AGt(),_Me},EKt.Bh=function(t){switch(t){case 9:return!this.c&&(this.c=new tW(UMe,this,9,9)),void cHt(this.c);case 10:return!this.a&&(this.a=new tW(HMe,this,10,11)),void cHt(this.a);case 11:return void JDt(this,null);case 12:return!this.b&&(this.b=new tW(RMe,this,12,3)),void cHt(this.b)}Nbt(this,t)},EKt.Ib=function(){return UBt(this)},mG(d6t,"ElkNodeImpl",239),fPt(186,725,{105:1,413:1,82:1,160:1,118:1,470:1,186:1,94:1,92:1,90:1,56:1,108:1,49:1,97:1,114:1,115:1},_y),EKt.Qg=function(t){return u_t(this,t)},EKt._g=function(t,e,n){return 9==t?WQ(this):Vwt(this,t,e,n)},EKt.hh=function(t,e,n){var i;return 9===e?(this.Cb&&(n=(i=this.Db>>16)>=0?u_t(this,n):this.Cb.ih(this,-1-i,null,n)),YR(this,jV(t,33),n)):gkt(this,t,e,n)},EKt.jh=function(t,e,n){return 9==e?YR(this,null,n):pkt(this,t,e,n)},EKt.lh=function(t){return 9==t?!!WQ(this):Hct(this,t)},EKt.sh=function(t,e){9!==t?OPt(this,t,e):$Dt(this,jV(e,33))},EKt.zh=function(){return AGt(),kMe},EKt.Bh=function(t){9!==t?Nbt(this,t):$Dt(this,null)},EKt.Ib=function(){return qBt(this)},mG(d6t,"ElkPortImpl",186);var WMe=hH($6t,"BasicEMap/Entry");fPt(1092,115,{105:1,42:1,92:1,90:1,133:1,56:1,108:1,49:1,97:1,114:1,115:1},uc),EKt.Fb=function(t){return this===t},EKt.cd=function(){return this.b},EKt.Hb=function(){return TN(this)},EKt.Uh=function(t){Lit(this,jV(t,146))},EKt._g=function(t,e,n){switch(t){case 0:return this.b;case 1:return this.c}return Qbt(this,t,e,n)},EKt.lh=function(t){switch(t){case 0:return!!this.b;case 1:return null!=this.c}return bbt(this,t)},EKt.sh=function(t,e){switch(t){case 0:return void Lit(this,jV(e,146));case 1:return void Fit(this,e)}ySt(this,t,e)},EKt.zh=function(){return AGt(),xMe},EKt.Bh=function(t){switch(t){case 0:return void Lit(this,null);case 1:return void Fit(this,null)}wAt(this,t)},EKt.Sh=function(){var t;return-1==this.a&&(t=this.b,this.a=t?Jct(t):0),this.a},EKt.dd=function(){return this.c},EKt.Th=function(t){this.a=t},EKt.ed=function(t){var e;return e=this.c,Fit(this,t),e},EKt.Ib=function(){var t;return 64&this.Db?COt(this):(sM(sM(sM(t=new C_,this.b?this.b.tg():UKt),e1t),yN(this.c)),t.a)},EKt.a=-1,EKt.c=null;var GMe,KMe,YMe,XMe,ZMe,QMe,JMe,tPe,ePe=mG(d6t,"ElkPropertyToValueMapEntryImpl",1092);fPt(984,1,{},fc),mG(H6t,"JsonAdapter",984),fPt(210,60,$Yt,t_),mG(H6t,"JsonImportException",210),fPt(857,1,{},g_t),mG(H6t,"JsonImporter",857),fPt(891,1,{},rI),mG(H6t,"JsonImporter/lambda$0$Type",891),fPt(892,1,{},oI),mG(H6t,"JsonImporter/lambda$1$Type",892),fPt(900,1,{},Mm),mG(H6t,"JsonImporter/lambda$10$Type",900),fPt(902,1,{},sI),mG(H6t,"JsonImporter/lambda$11$Type",902),fPt(903,1,{},aI),mG(H6t,"JsonImporter/lambda$12$Type",903),fPt(909,1,{},lX),mG(H6t,"JsonImporter/lambda$13$Type",909),fPt(908,1,{},cX),mG(H6t,"JsonImporter/lambda$14$Type",908),fPt(904,1,{},cI),mG(H6t,"JsonImporter/lambda$15$Type",904),fPt(905,1,{},lI),mG(H6t,"JsonImporter/lambda$16$Type",905),fPt(906,1,{},uI),mG(H6t,"JsonImporter/lambda$17$Type",906),fPt(907,1,{},hI),mG(H6t,"JsonImporter/lambda$18$Type",907),fPt(912,1,{},Pm),mG(H6t,"JsonImporter/lambda$19$Type",912),fPt(893,1,{},Om),mG(H6t,"JsonImporter/lambda$2$Type",893),fPt(910,1,{},Dm),mG(H6t,"JsonImporter/lambda$20$Type",910),fPt(911,1,{},Nm),mG(H6t,"JsonImporter/lambda$21$Type",911),fPt(915,1,{},Lm),mG(H6t,"JsonImporter/lambda$22$Type",915),fPt(913,1,{},Rm),mG(H6t,"JsonImporter/lambda$23$Type",913),fPt(914,1,{},Bm),mG(H6t,"JsonImporter/lambda$24$Type",914),fPt(917,1,{},Fm),mG(H6t,"JsonImporter/lambda$25$Type",917),fPt(916,1,{},jm),mG(H6t,"JsonImporter/lambda$26$Type",916),fPt(918,1,hYt,dI),EKt.td=function(t){_8(this.b,this.a,ER(t))},mG(H6t,"JsonImporter/lambda$27$Type",918),fPt(919,1,hYt,fI),EKt.td=function(t){k8(this.b,this.a,ER(t))},mG(H6t,"JsonImporter/lambda$28$Type",919),fPt(920,1,{},gI),mG(H6t,"JsonImporter/lambda$29$Type",920),fPt(896,1,{},$m),mG(H6t,"JsonImporter/lambda$3$Type",896),fPt(921,1,{},pI),mG(H6t,"JsonImporter/lambda$30$Type",921),fPt(922,1,{},Vm),mG(H6t,"JsonImporter/lambda$31$Type",922),fPt(923,1,{},zm),mG(H6t,"JsonImporter/lambda$32$Type",923),fPt(924,1,{},Hm),mG(H6t,"JsonImporter/lambda$33$Type",924),fPt(925,1,{},Um),mG(H6t,"JsonImporter/lambda$34$Type",925),fPt(859,1,{},qm),mG(H6t,"JsonImporter/lambda$35$Type",859),fPt(929,1,{},xV),mG(H6t,"JsonImporter/lambda$36$Type",929),fPt(926,1,hYt,Wm),EKt.td=function(t){Y5(this.a,jV(t,469))},mG(H6t,"JsonImporter/lambda$37$Type",926),fPt(927,1,hYt,EI),EKt.td=function(t){uM(this.a,this.b,jV(t,202))},mG(H6t,"JsonImporter/lambda$38$Type",927),fPt(928,1,hYt,TI),EKt.td=function(t){hM(this.a,this.b,jV(t,202))},mG(H6t,"JsonImporter/lambda$39$Type",928),fPt(894,1,{},Gm),mG(H6t,"JsonImporter/lambda$4$Type",894),fPt(930,1,hYt,Km),EKt.td=function(t){X5(this.a,jV(t,8))},mG(H6t,"JsonImporter/lambda$40$Type",930),fPt(895,1,{},Ym),mG(H6t,"JsonImporter/lambda$5$Type",895),fPt(899,1,{},Xm),mG(H6t,"JsonImporter/lambda$6$Type",899),fPt(897,1,{},Zm),mG(H6t,"JsonImporter/lambda$7$Type",897),fPt(898,1,{},Qm),mG(H6t,"JsonImporter/lambda$8$Type",898),fPt(901,1,{},Jm),mG(H6t,"JsonImporter/lambda$9$Type",901),fPt(948,1,hYt,tb),EKt.td=function(t){QG(this.a,new zG(ER(t)))},mG(H6t,"JsonMetaDataConverter/lambda$0$Type",948),fPt(949,1,hYt,eb),EKt.td=function(t){BG(this.a,jV(t,237))},mG(H6t,"JsonMetaDataConverter/lambda$1$Type",949),fPt(950,1,hYt,nb),EKt.td=function(t){JJ(this.a,jV(t,149))},mG(H6t,"JsonMetaDataConverter/lambda$2$Type",950),fPt(951,1,hYt,ib),EKt.td=function(t){FG(this.a,jV(t,175))},mG(H6t,"JsonMetaDataConverter/lambda$3$Type",951),fPt(237,22,{3:1,35:1,22:1,237:1},xI);var nPe,iPe=$nt(SQt,"GraphFeature",237,qte,Bet,pV);fPt(13,1,{35:1,146:1},ob,eB,MM,qP),EKt.wd=function(t){return pD(this,jV(t,146))},EKt.Fb=function(t){return _Z(this,t)},EKt.wg=function(){return wbt(this)},EKt.tg=function(){return this.b},EKt.Hb=function(){return bwt(this.b)},EKt.Ib=function(){return this.b},mG(SQt,"Property",13),fPt(818,1,EZt,rb),EKt.ue=function(t,e){return Fdt(this,jV(t,94),jV(e,94))},EKt.Fb=function(t){return this===t},EKt.ve=function(){return new Qf(this)},mG(SQt,"PropertyHolderComparator",818),fPt(695,1,YKt,ab),EKt.Nb=function(t){lW(this,t)},EKt.Pb=function(){return I8(this)},EKt.Qb=function(){ox()},EKt.Ob=function(){return!!this.a},mG(r7t,"ElkGraphUtil/AncestorIterator",695);var rPe=hH($6t,"EList");fPt(67,52,{20:1,28:1,52:1,14:1,15:1,67:1,58:1}),EKt.Vc=function(t,e){cdt(this,t,e)},EKt.Fc=function(t){return l8(this,t)},EKt.Wc=function(t,e){return act(this,t,e)},EKt.Gc=function(t){return pG(this,t)},EKt.Zh=function(){return new rL(this)},EKt.$h=function(){return new oL(this)},EKt._h=function(t){return cit(this,t)},EKt.ai=function(){return!0},EKt.bi=function(t,e){},EKt.ci=function(){},EKt.di=function(t,e){P7(this,t,e)},EKt.ei=function(t,e,n){},EKt.fi=function(t,e){},EKt.gi=function(t,e,n){},EKt.Fb=function(t){return YRt(this,t)},EKt.Hb=function(){return Eat(this)},EKt.hi=function(){return!1},EKt.Kc=function(){return new ID(this)},EKt.Yc=function(){return new iL(this)},EKt.Zc=function(t){var e;if(e=this.gc(),t<0||t>e)throw $b(new JB(t,e));return new zW(this,t)},EKt.ji=function(t,e){this.ii(t,this.Xc(e))},EKt.Mc=function(t){return att(this,t)},EKt.li=function(t,e){return e},EKt._c=function(t,e){return awt(this,t,e)},EKt.Ib=function(){return Zft(this)},EKt.ni=function(){return!0},EKt.oi=function(t,e){return Nlt(this,e)},mG($6t,"AbstractEList",67),fPt(63,67,l7t,mc,pet,_ot),EKt.Vh=function(t,e){return $Et(this,t,e)},EKt.Wh=function(t){return dyt(this,t)},EKt.Xh=function(t,e){Sht(this,t,e)},EKt.Yh=function(t){i6(this,t)},EKt.pi=function(t){return F8(this,t)},EKt.$b=function(){r6(this)},EKt.Hc=function(t){return Tkt(this,t)},EKt.Xb=function(t){return Get(this,t)},EKt.qi=function(t){var e,n,i;++this.j,t>(n=null==this.g?0:this.g.length)&&(i=this.g,(e=n+(n/2|0)+4)<t&&(e=t),this.g=this.ri(e),null!=i&&ozt(i,0,this.g,0,this.i))},EKt.Xc=function(t){return Gvt(this,t)},EKt.dc=function(){return 0==this.i},EKt.ii=function(t,e){return XIt(this,t,e)},EKt.ri=function(t){return D7(Mte,VKt,1,t,5,1)},EKt.ki=function(t){return this.g[t]},EKt.$c=function(t){return Ovt(this,t)},EKt.mi=function(t,e){return stt(this,t,e)},EKt.gc=function(){return this.i},EKt.Pc=function(){return O3(this)},EKt.Qc=function(t){return Ygt(this,t)},EKt.i=0;var oPe,sPe,aPe=mG($6t,"BasicEList",63),cPe=hH($6t,"TreeIterator");fPt(694,63,u7t),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return null!=this.g||this.c?null==this.g||0!=this.i&&jV(this.g[this.i-1],47).Ob():JQ(this)},EKt.Pb=function(){return oDt(this)},EKt.Qb=function(){if(!this.e)throw $b(new Fv("There is no valid object to remove."));this.e.Qb()},EKt.c=!1,mG($6t,"AbstractTreeIterator",694),fPt(685,694,u7t,SP),EKt.si=function(t){var e;return iD(e=jV(t,56).Wg().Kc(),279)&&jV(e,279).Nk(new gc),e},mG(r7t,"ElkGraphUtil/PropertiesSkippingTreeIterator",685),fPt(952,1,{},gc),mG(r7t,"ElkGraphUtil/PropertiesSkippingTreeIterator/1",952);var lPe,uPe=mG(r7t,"ElkReflect",null);fPt(889,1,n4t,pc),EKt.vg=function(t){return cJ(),j6(jV(t,174))},mG(r7t,"ElkReflect/lambda$0$Type",889),hH($6t,"ResourceLocator"),fPt(1051,1,{}),mG($6t,"DelegatingResourceLocator",1051),fPt(1052,1051,{}),mG("org.eclipse.emf.common","EMFPlugin",1052);var hPe,dPe=hH(Z7t,"Adapter"),fPe=hH(Z7t,"Notification");fPt(1153,1,Q7t),EKt.ti=function(){return this.d},EKt.ui=function(t){},EKt.vi=function(t){this.d=t},EKt.wi=function(t){this.d==t&&(this.d=null)},EKt.d=null,mG(n6t,"AdapterImpl",1153),fPt(1995,67,J7t),EKt.Vh=function(t,e){return vgt(this,t,e)},EKt.Wh=function(t){var e,n,i;if(++this.j,t.dc())return!1;for(e=this.Vi(),i=t.Kc();i.Ob();)n=i.Pb(),this.Ii(this.oi(e,n)),++e;return!0},EKt.Xh=function(t,e){ZR(this,t,e)},EKt.Yh=function(t){tK(this,t)},EKt.Gi=function(){return this.Ji()},EKt.$b=function(){XR(this,this.Vi(),this.Wi())},EKt.Hc=function(t){return this.Li(t)},EKt.Ic=function(t){return this.Mi(t)},EKt.Hi=function(t,e){this.Si().jm()},EKt.Ii=function(t){this.Si().jm()},EKt.Ji=function(){return this.Si()},EKt.Ki=function(){this.Si().jm()},EKt.Li=function(t){return this.Si().jm()},EKt.Mi=function(t){return this.Si().jm()},EKt.Ni=function(t){return this.Si().jm()},EKt.Oi=function(t){return this.Si().jm()},EKt.Pi=function(){return this.Si().jm()},EKt.Qi=function(t){return this.Si().jm()},EKt.Ri=function(){return this.Si().jm()},EKt.Ti=function(t){return this.Si().jm()},EKt.Ui=function(t,e){return this.Si().jm()},EKt.Vi=function(){return this.Si().jm()},EKt.Wi=function(){return this.Si().jm()},EKt.Xi=function(t){return this.Si().jm()},EKt.Yi=function(){return this.Si().jm()},EKt.Fb=function(t){return this.Ni(t)},EKt.Xb=function(t){return this.li(t,this.Oi(t))},EKt.Hb=function(){return this.Pi()},EKt.Xc=function(t){return this.Qi(t)},EKt.dc=function(){return this.Ri()},EKt.ii=function(t,e){return MTt(this,t,e)},EKt.ki=function(t){return this.Oi(t)},EKt.$c=function(t){return dH(this,t)},EKt.Mc=function(t){var e;return(e=this.Xc(t))>=0&&(this.$c(e),!0)},EKt.mi=function(t,e){return this.Ui(t,this.oi(t,e))},EKt.gc=function(){return this.Vi()},EKt.Pc=function(){return this.Wi()},EKt.Qc=function(t){return this.Xi(t)},EKt.Ib=function(){return this.Yi()},mG($6t,"DelegatingEList",1995),fPt(1996,1995,J7t),EKt.Vh=function(t,e){return s$t(this,t,e)},EKt.Wh=function(t){return this.Vh(this.Vi(),t)},EKt.Xh=function(t,e){ePt(this,t,e)},EKt.Yh=function(t){IMt(this,t)},EKt.ai=function(){return!this.bj()},EKt.$b=function(){bHt(this)},EKt.Zi=function(t,e,n,i,r){return new OZ(this,t,e,n,i,r)},EKt.$i=function(t){dst(this.Ai(),t)},EKt._i=function(){return null},EKt.aj=function(){return-1},EKt.Ai=function(){return null},EKt.bj=function(){return!1},EKt.cj=function(t,e){return e},EKt.dj=function(t,e){return e},EKt.ej=function(){return!1},EKt.fj=function(){return!this.Ri()},EKt.ii=function(t,e){var n,i;return this.ej()?(i=this.fj(),n=MTt(this,t,e),this.$i(this.Zi(7,ndt(e),n,t,i)),n):MTt(this,t,e)},EKt.$c=function(t){var e,n,i,r;return this.ej()?(n=null,i=this.fj(),e=this.Zi(4,r=dH(this,t),null,t,i),this.bj()&&r?(n=this.dj(r,n))?(n.Ei(e),n.Fi()):this.$i(e):n?(n.Ei(e),n.Fi()):this.$i(e),r):(r=dH(this,t),this.bj()&&r&&(n=this.dj(r,null))&&n.Fi(),r)},EKt.mi=function(t,e){return a$t(this,t,e)},mG(n6t,"DelegatingNotifyingListImpl",1996),fPt(143,1,t8t),EKt.Ei=function(t){return Bxt(this,t)},EKt.Fi=function(){M9(this)},EKt.xi=function(){return this.d},EKt._i=function(){return null},EKt.gj=function(){return null},EKt.yi=function(t){return-1},EKt.zi=function(){return RLt(this)},EKt.Ai=function(){return null},EKt.Bi=function(){return BLt(this)},EKt.Ci=function(){return this.o<0?this.o<-2?-2-this.o-1:-1:this.o},EKt.hj=function(){return!1},EKt.Di=function(t){var e,n,i,r,o,s,a,c;switch(this.d){case 1:case 2:switch(t.xi()){case 1:case 2:if(zI(t.Ai())===zI(this.Ai())&&this.yi(null)==t.yi(null))return this.g=t.zi(),1==t.xi()&&(this.d=1),!0}case 4:if(4===t.xi()&&zI(t.Ai())===zI(this.Ai())&&this.yi(null)==t.yi(null))return s=tUt(this),o=this.o<0?this.o<-2?-2-this.o-1:-1:this.o,i=t.Ci(),this.d=6,c=new pet(2),o<=i?(l8(c,this.n),l8(c,t.Bi()),this.g=Cat(z_(SNe,1),lXt,25,15,[this.o=o,i+1])):(l8(c,t.Bi()),l8(c,this.n),this.g=Cat(z_(SNe,1),lXt,25,15,[this.o=i,o])),this.n=c,s||(this.o=-2-this.o-1),!0;break;case 6:if(4===t.xi()&&zI(t.Ai())===zI(this.Ai())&&this.yi(null)==t.yi(null)){for(s=tUt(this),i=t.Ci(),a=jV(this.g,48),n=D7(SNe,lXt,25,a.length+1,15,1),e=0;e<a.length&&(r=a[e])<=i;)n[e++]=r,++i;for(jV(this.n,15).Vc(e,t.Bi()),n[e]=i;++e<n.length;)n[e]=a[e-1];return this.g=n,s||(this.o=-2-n[0]),!0}}return!1},EKt.Ib=function(){var t,e,n;switch((n=new lN(Qk(this.gm)+"@"+(Jct(this)>>>0).toString(16))).a+=" (eventType: ",this.d){case 1:n.a+="SET";break;case 2:n.a+="UNSET";break;case 3:n.a+="ADD";break;case 5:n.a+="ADD_MANY";break;case 4:n.a+="REMOVE";break;case 6:n.a+="REMOVE_MANY";break;case 7:n.a+="MOVE";break;case 8:n.a+="REMOVING_ADAPTER";break;case 9:n.a+="RESOLVE";break;default:bx(n,this.d)}if(hFt(this)&&(n.a+=", touch: true"),n.a+=", position: ",bx(n,this.o<0?this.o<-2?-2-this.o-1:-1:this.o),n.a+=", notifier: ",nM(n,this.Ai()),n.a+=", feature: ",nM(n,this._i()),n.a+=", oldValue: ",nM(n,BLt(this)),n.a+=", newValue: ",6==this.d&&iD(this.g,48)){for(e=jV(this.g,48),n.a+="[",t=0;t<e.length;)n.a+=e[t],++t<e.length&&(n.a+=jKt);n.a+="]"}else nM(n,RLt(this));return n.a+=", isTouch: ",wx(n,hFt(this)),n.a+=", wasSet: ",wx(n,tUt(this)),n.a+=")",n.a},EKt.d=0,EKt.e=0,EKt.f=0,EKt.j=0,EKt.k=0,EKt.o=0,EKt.p=0,mG(n6t,"NotificationImpl",143),fPt(1167,143,t8t,OZ),EKt._i=function(){return this.a._i()},EKt.yi=function(t){return this.a.aj()},EKt.Ai=function(){return this.a.Ai()},mG(n6t,"DelegatingNotifyingListImpl/1",1167),fPt(242,63,l7t,bc,Fk),EKt.Fc=function(t){return Egt(this,jV(t,366))},EKt.Ei=function(t){return Egt(this,t)},EKt.Fi=function(){var t,e,n;for(t=0;t<this.i;++t)null!=(n=(e=jV(this.g[t],366)).Ai())&&-1!=e.xi()&&jV(n,92).Ng(e)},EKt.ri=function(t){return D7(fPe,VKt,366,t,0,1)},mG(n6t,"NotificationChainImpl",242),fPt(1378,90,e6t),EKt.Kg=function(){return this.e},EKt.Mg=function(){return!!(1&this.f)},EKt.f=1,mG(n6t,"NotifierImpl",1378),fPt(1993,63,l7t),EKt.Vh=function(t,e){return O$t(this,t,e)},EKt.Wh=function(t){return this.Vh(this.i,t)},EKt.Xh=function(t,e){zMt(this,t,e)},EKt.Yh=function(t){tPt(this,t)},EKt.ai=function(){return!this.bj()},EKt.$b=function(){cHt(this)},EKt.Zi=function(t,e,n,i,r){return new DZ(this,t,e,n,i,r)},EKt.$i=function(t){dst(this.Ai(),t)},EKt._i=function(){return null},EKt.aj=function(){return-1},EKt.Ai=function(){return null},EKt.bj=function(){return!1},EKt.ij=function(){return!1},EKt.cj=function(t,e){return e},EKt.dj=function(t,e){return e},EKt.ej=function(){return!1},EKt.fj=function(){return 0!=this.i},EKt.ii=function(t,e){return Sdt(this,t,e)},EKt.$c=function(t){return uRt(this,t)},EKt.mi=function(t,e){return uVt(this,t,e)},EKt.jj=function(t,e){return e},EKt.kj=function(t,e){return e},EKt.lj=function(t,e,n){return n},mG(n6t,"NotifyingListImpl",1993),fPt(1166,143,t8t,DZ),EKt._i=function(){return this.a._i()},EKt.yi=function(t){return this.a.aj()},EKt.Ai=function(){return this.a.Ai()},mG(n6t,"NotifyingListImpl/1",1166),fPt(953,63,l7t,rB),EKt.Hc=function(t){return this.i>10?(this.b&&this.c.j==this.a||(this.b=new MH(this),this.a=this.j),FE(this.b,t)):Tkt(this,t)},EKt.ni=function(){return!0},EKt.a=0,mG($6t,"AbstractEList/1",953),fPt(295,73,DXt,JB),mG($6t,"AbstractEList/BasicIndexOutOfBoundsException",295),fPt(40,1,YKt,ID),EKt.Nb=function(t){lW(this,t)},EKt.mj=function(){if(this.i.j!=this.f)throw $b(new mw)},EKt.nj=function(){return vbt(this)},EKt.Ob=function(){return this.e!=this.i.gc()},EKt.Pb=function(){return this.nj()},EKt.Qb=function(){Ykt(this)},EKt.e=0,EKt.f=0,EKt.g=-1,mG($6t,"AbstractEList/EIterator",40),fPt(278,40,rYt,iL,zW),EKt.Qb=function(){Ykt(this)},EKt.Rb=function(t){apt(this,t)},EKt.oj=function(){var t;try{return t=this.d.Xb(--this.e),this.mj(),this.g=this.e,t}catch(t){throw iD(t=hat(t),73)?(this.mj(),$b(new ww)):$b(t)}},EKt.pj=function(t){vyt(this,t)},EKt.Sb=function(){return 0!=this.e},EKt.Tb=function(){return this.e},EKt.Ub=function(){return this.oj()},EKt.Vb=function(){return this.e-1},EKt.Wb=function(t){this.pj(t)},mG($6t,"AbstractEList/EListIterator",278),fPt(341,40,YKt,rL),EKt.nj=function(){return _bt(this)},EKt.Qb=function(){throw $b(new pw)},mG($6t,"AbstractEList/NonResolvingEIterator",341),fPt(385,278,rYt,oL,LF),EKt.Rb=function(t){throw $b(new pw)},EKt.nj=function(){var t;try{return t=this.c.ki(this.e),this.mj(),this.g=this.e++,t}catch(t){throw iD(t=hat(t),73)?(this.mj(),$b(new ww)):$b(t)}},EKt.oj=function(){var t;try{return t=this.c.ki(--this.e),this.mj(),this.g=this.e,t}catch(t){throw iD(t=hat(t),73)?(this.mj(),$b(new ww)):$b(t)}},EKt.Qb=function(){throw $b(new pw)},EKt.Wb=function(t){throw $b(new pw)},mG($6t,"AbstractEList/NonResolvingEListIterator",385),fPt(1982,67,i8t),EKt.Vh=function(t,e){var n,i,r,o,s,a,c,l,u;if(0!=(i=e.gc())){for(n=Clt(this,(l=null==(c=jV(yst(this.a,4),126))?0:c.length)+i),(u=l-t)>0&&ozt(c,t,n,t+i,u),a=e.Kc(),o=0;o<i;++o)XP(n,t+o,Nlt(this,s=a.Pb()));for(jmt(this,n),r=0;r<i;++r)s=n[t],this.bi(t,s),++t;return!0}return++this.j,!1},EKt.Wh=function(t){var e,n,i,r,o,s,a,c,l;if(0!=(i=t.gc())){for(e=Clt(this,l=(c=null==(n=jV(yst(this.a,4),126))?0:n.length)+i),a=t.Kc(),o=c;o<l;++o)XP(e,o,Nlt(this,s=a.Pb()));for(jmt(this,e),r=c;r<l;++r)s=e[r],this.bi(r,s);return!0}return++this.j,!1},EKt.Xh=function(t,e){var n,i,r,o;n=Clt(this,(r=null==(i=jV(yst(this.a,4),126))?0:i.length)+1),o=Nlt(this,e),t!=r&&ozt(i,t,n,t+1,r-t),MG(n,t,o),jmt(this,n),this.bi(t,e)},EKt.Yh=function(t){var e,n,i;XP(e=Clt(this,(i=null==(n=jV(yst(this.a,4),126))?0:n.length)+1),i,Nlt(this,t)),jmt(this,e),this.bi(i,t)},EKt.Zh=function(){return new E4(this)},EKt.$h=function(){return new Yq(this)},EKt._h=function(t){var e,n;if(n=null==(e=jV(yst(this.a,4),126))?0:e.length,t<0||t>n)throw $b(new JB(t,n));return new jK(this,t)},EKt.$b=function(){var t,e;++this.j,e=null==(t=jV(yst(this.a,4),126))?0:t.length,jmt(this,null),P7(this,e,t)},EKt.Hc=function(t){var e,n,i,r;if(null!=(e=jV(yst(this.a,4),126)))if(null!=t){for(i=0,r=(n=e).length;i<r;++i)if(Dht(t,n[i]))return!0}else for(i=0,r=(n=e).length;i<r;++i)if(zI(n[i])===zI(t))return!0;return!1},EKt.Xb=function(t){var e,n;if(t>=(n=null==(e=jV(yst(this.a,4),126))?0:e.length))throw $b(new JB(t,n));return e[t]},EKt.Xc=function(t){var e,n,i;if(null!=(e=jV(yst(this.a,4),126)))if(null!=t){for(n=0,i=e.length;n<i;++n)if(Dht(t,e[n]))return n}else for(n=0,i=e.length;n<i;++n)if(zI(e[n])===zI(t))return n;return-1},EKt.dc=function(){return null==jV(yst(this.a,4),126)},EKt.Kc=function(){return new x4(this)},EKt.Yc=function(){return new Kq(this)},EKt.Zc=function(t){var e,n;if(n=null==(e=jV(yst(this.a,4),126))?0:e.length,t<0||t>n)throw $b(new JB(t,n));return new FK(this,t)},EKt.ii=function(t,e){var n,i,r;if(t>=(r=null==(n=Ppt(this))?0:n.length))throw $b(new Iv(s7t+t+a7t+r));if(e>=r)throw $b(new Iv(c7t+e+a7t+r));return i=n[e],t!=e&&(t<e?ozt(n,t,n,t+1,e-t):ozt(n,e+1,n,e,t-e),MG(n,t,i),jmt(this,n)),i},EKt.ki=function(t){return jV(yst(this.a,4),126)[t]},EKt.$c=function(t){return kMt(this,t)},EKt.mi=function(t,e){var n,i;return i=(n=Ppt(this))[t],XP(n,t,Nlt(this,e)),jmt(this,n),i},EKt.gc=function(){var t;return null==(t=jV(yst(this.a,4),126))?0:t.length},EKt.Pc=function(){var t,e,n;return n=null==(t=jV(yst(this.a,4),126))?0:t.length,e=D7(dPe,n8t,415,n,0,1),n>0&&ozt(t,0,e,0,n),e},EKt.Qc=function(t){var e,n;return(n=null==(e=jV(yst(this.a,4),126))?0:e.length)>0&&(t.length<n&&(t=Lnt(tlt(t).c,n)),ozt(e,0,t,0,n)),t.length>n&&MG(t,n,null),t},mG($6t,"ArrayDelegatingEList",1982),fPt(1038,40,YKt,x4),EKt.mj=function(){if(this.b.j!=this.f||zI(jV(yst(this.b.a,4),126))!==zI(this.a))throw $b(new mw)},EKt.Qb=function(){Ykt(this),this.a=jV(yst(this.b.a,4),126)},mG($6t,"ArrayDelegatingEList/EIterator",1038),fPt(706,278,rYt,Kq,FK),EKt.mj=function(){if(this.b.j!=this.f||zI(jV(yst(this.b.a,4),126))!==zI(this.a))throw $b(new mw)},EKt.pj=function(t){vyt(this,t),this.a=jV(yst(this.b.a,4),126)},EKt.Qb=function(){Ykt(this),this.a=jV(yst(this.b.a,4),126)},mG($6t,"ArrayDelegatingEList/EListIterator",706),fPt(1039,341,YKt,E4),EKt.mj=function(){if(this.b.j!=this.f||zI(jV(yst(this.b.a,4),126))!==zI(this.a))throw $b(new mw)},mG($6t,"ArrayDelegatingEList/NonResolvingEIterator",1039),fPt(707,385,rYt,Yq,jK),EKt.mj=function(){if(this.b.j!=this.f||zI(jV(yst(this.b.a,4),126))!==zI(this.a))throw $b(new mw)},mG($6t,"ArrayDelegatingEList/NonResolvingEListIterator",707),fPt(606,295,DXt,PM),mG($6t,"BasicEList/BasicIndexOutOfBoundsException",606),fPt(696,63,l7t,NI),EKt.Vc=function(t,e){throw $b(new pw)},EKt.Fc=function(t){throw $b(new pw)},EKt.Wc=function(t,e){throw $b(new pw)},EKt.Gc=function(t){throw $b(new pw)},EKt.$b=function(){throw $b(new pw)},EKt.qi=function(t){throw $b(new pw)},EKt.Kc=function(){return this.Zh()},EKt.Yc=function(){return this.$h()},EKt.Zc=function(t){return this._h(t)},EKt.ii=function(t,e){throw $b(new pw)},EKt.ji=function(t,e){throw $b(new pw)},EKt.$c=function(t){throw $b(new pw)},EKt.Mc=function(t){throw $b(new pw)},EKt._c=function(t,e){throw $b(new pw)},mG($6t,"BasicEList/UnmodifiableEList",696),fPt(705,1,{3:1,20:1,14:1,15:1,58:1,589:1}),EKt.Vc=function(t,e){KO(this,t,jV(e,42))},EKt.Fc=function(t){return rR(this,jV(t,42))},EKt.Jc=function(t){t4(this,t)},EKt.Xb=function(t){return jV(Get(this.c,t),133)},EKt.ii=function(t,e){return jV(this.c.ii(t,e),42)},EKt.ji=function(t,e){YO(this,t,jV(e,42))},EKt.Lc=function(){return new LH(null,new d1(this,16))},EKt.$c=function(t){return jV(this.c.$c(t),42)},EKt._c=function(t,e){return oG(this,t,jV(e,42))},EKt.ad=function(t){Frt(this,t)},EKt.Nc=function(){return new d1(this,16)},EKt.Oc=function(){return new LH(null,new d1(this,16))},EKt.Wc=function(t,e){return this.c.Wc(t,e)},EKt.Gc=function(t){return this.c.Gc(t)},EKt.$b=function(){this.c.$b()},EKt.Hc=function(t){return this.c.Hc(t)},EKt.Ic=function(t){return aat(this.c,t)},EKt.qj=function(){var t,e;if(null==this.d){for(this.d=D7(aPe,r8t,63,2*this.f+1,0,1),e=this.e,this.f=0,t=this.c.Kc();t.e!=t.i.gc();)Swt(this,jV(t.nj(),133));this.e=e}},EKt.Fb=function(t){return OF(this,t)},EKt.Hb=function(){return Eat(this.c)},EKt.Xc=function(t){return this.c.Xc(t)},EKt.rj=function(){this.c=new cb(this)},EKt.dc=function(){return 0==this.f},EKt.Kc=function(){return this.c.Kc()},EKt.Yc=function(){return this.c.Yc()},EKt.Zc=function(t){return this.c.Zc(t)},EKt.sj=function(){return I7(this)},EKt.tj=function(t,e,n){return new EV(t,e,n)},EKt.uj=function(){return new wc},EKt.Mc=function(t){return lit(this,t)},EKt.gc=function(){return this.f},EKt.bd=function(t,e){return new a1(this.c,t,e)},EKt.Pc=function(){return this.c.Pc()},EKt.Qc=function(t){return this.c.Qc(t)},EKt.Ib=function(){return Zft(this.c)},EKt.e=0,EKt.f=0,mG($6t,"BasicEMap",705),fPt(1033,63,l7t,cb),EKt.bi=function(t,e){Iw(this,jV(e,133))},EKt.ei=function(t,e,n){var i;++(i=this,jV(e,133),i).a.e},EKt.fi=function(t,e){Mw(this,jV(e,133))},EKt.gi=function(t,e,n){GN(this,jV(e,133),jV(n,133))},EKt.di=function(t,e){ost(this.a)},mG($6t,"BasicEMap/1",1033),fPt(1034,63,l7t,wc),EKt.ri=function(t){return D7(pPe,o8t,612,t,0,1)},mG($6t,"BasicEMap/2",1034),fPt(1035,JKt,tYt,lb),EKt.$b=function(){this.a.c.$b()},EKt.Hc=function(t){return ipt(this.a,t)},EKt.Kc=function(){return 0==this.a.f?(fR(),gPe.a):new jk(this.a)},EKt.Mc=function(t){var e;return e=this.a.f,Gpt(this.a,t),this.a.f!=e},EKt.gc=function(){return this.a.f},mG($6t,"BasicEMap/3",1035),fPt(1036,28,QKt,ub),EKt.$b=function(){this.a.c.$b()},EKt.Hc=function(t){return XRt(this.a,t)},EKt.Kc=function(){return 0==this.a.f?(fR(),gPe.a):new $k(this.a)},EKt.gc=function(){return this.a.f},mG($6t,"BasicEMap/4",1036),fPt(1037,JKt,tYt,hb),EKt.$b=function(){this.a.c.$b()},EKt.Hc=function(t){var e,n,i,r,o,s,a,c,l;if(this.a.f>0&&iD(t,42)&&(this.a.qj(),r=null==(a=(c=jV(t,42)).cd())?0:Jct(a),o=tB(this.a,r),e=this.a.d[o]))for(n=jV(e.g,367),l=e.i,s=0;s<l;++s)if((i=n[s]).Sh()==r&&i.Fb(c))return!0;return!1},EKt.Kc=function(){return 0==this.a.f?(fR(),gPe.a):new pX(this.a)},EKt.Mc=function(t){return SPt(this,t)},EKt.gc=function(){return this.a.f},mG($6t,"BasicEMap/5",1037),fPt(613,1,YKt,pX),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return-1!=this.b},EKt.Pb=function(){var t;if(this.f.e!=this.c)throw $b(new mw);if(-1==this.b)throw $b(new ww);return this.d=this.a,this.e=this.b,skt(this),t=jV(this.f.d[this.d].g[this.e],133),this.vj(t)},EKt.Qb=function(){if(this.f.e!=this.c)throw $b(new mw);if(-1==this.e)throw $b(new fw);this.f.c.Mc(Get(this.f.d[this.d],this.e)),this.c=this.f.e,this.e=-1,this.a==this.d&&-1!=this.b&&--this.b},EKt.vj=function(t){return t},EKt.a=0,EKt.b=-1,EKt.c=0,EKt.d=0,EKt.e=0,mG($6t,"BasicEMap/BasicEMapIterator",613),fPt(1031,613,YKt,jk),EKt.vj=function(t){return t.cd()},mG($6t,"BasicEMap/BasicEMapKeyIterator",1031),fPt(1032,613,YKt,$k),EKt.vj=function(t){return t.dd()},mG($6t,"BasicEMap/BasicEMapValueIterator",1032),fPt(1030,1,ZKt,db),EKt.wc=function(t){Jot(this,t)},EKt.yc=function(t,e,n){return Qdt(this,t,e,n)},EKt.$b=function(){this.a.c.$b()},EKt._b=function(t){return jI(this,t)},EKt.uc=function(t){return XRt(this.a,t)},EKt.vc=function(){return A7(this.a)},EKt.Fb=function(t){return OF(this.a,t)},EKt.xc=function(t){return rpt(this.a,t)},EKt.Hb=function(){return Eat(this.a.c)},EKt.dc=function(){return 0==this.a.f},EKt.ec=function(){return S7(this.a)},EKt.zc=function(t,e){return bkt(this.a,t,e)},EKt.Bc=function(t){return Gpt(this.a,t)},EKt.gc=function(){return this.a.f},EKt.Ib=function(){return Zft(this.a.c)},EKt.Cc=function(){return C7(this.a)},mG($6t,"BasicEMap/DelegatingMap",1030),fPt(612,1,{42:1,133:1,612:1},EV),EKt.Fb=function(t){var e;return!!iD(t,42)&&(e=jV(t,42),(null!=this.b?Dht(this.b,e.cd()):zI(this.b)===zI(e.cd()))&&(null!=this.c?Dht(this.c,e.dd()):zI(this.c)===zI(e.dd())))},EKt.Sh=function(){return this.a},EKt.cd=function(){return this.b},EKt.dd=function(){return this.c},EKt.Hb=function(){return this.a^(null==this.c?0:Jct(this.c))},EKt.Th=function(t){this.a=t},EKt.Uh=function(t){throw $b(new aw)},EKt.ed=function(t){var e;return e=this.c,this.c=t,e},EKt.Ib=function(){return this.b+"->"+this.c},EKt.a=0;var gPe,pPe=mG($6t,"BasicEMap/EntryImpl",612);fPt(536,1,{},lc),mG($6t,"BasicEMap/View",536),fPt(768,1,{}),EKt.Fb=function(t){return DPt((EX(),cne),t)},EKt.Hb=function(){return jct((EX(),cne))},EKt.Ib=function(){return OTt((EX(),cne))},mG($6t,"ECollections/BasicEmptyUnmodifiableEList",768),fPt(1312,1,rYt,yc),EKt.Nb=function(t){lW(this,t)},EKt.Rb=function(t){throw $b(new pw)},EKt.Ob=function(){return!1},EKt.Sb=function(){return!1},EKt.Pb=function(){throw $b(new ww)},EKt.Tb=function(){return 0},EKt.Ub=function(){throw $b(new ww)},EKt.Vb=function(){return-1},EKt.Qb=function(){throw $b(new pw)},EKt.Wb=function(t){throw $b(new pw)},mG($6t,"ECollections/BasicEmptyUnmodifiableEList/1",1312),fPt(1310,768,{20:1,14:1,15:1,58:1},ky),EKt.Vc=function(t,e){Ox()},EKt.Fc=function(t){return Dx()},EKt.Wc=function(t,e){return Nx()},EKt.Gc=function(t){return Lx()},EKt.$b=function(){Rx()},EKt.Hc=function(t){return!1},EKt.Ic=function(t){return!1},EKt.Jc=function(t){t4(this,t)},EKt.Xb=function(t){return wM((EX(),t)),null},EKt.Xc=function(t){return-1},EKt.dc=function(){return!0},EKt.Kc=function(){return this.a},EKt.Yc=function(){return this.a},EKt.Zc=function(t){return this.a},EKt.ii=function(t,e){return Bx()},EKt.ji=function(t,e){Fx()},EKt.Lc=function(){return new LH(null,new d1(this,16))},EKt.$c=function(t){return jx()},EKt.Mc=function(t){return $x()},EKt._c=function(t,e){return Vx()},EKt.gc=function(){return 0},EKt.ad=function(t){Frt(this,t)},EKt.Nc=function(){return new d1(this,16)},EKt.Oc=function(){return new LH(null,new d1(this,16))},EKt.bd=function(t,e){return EX(),new a1(cne,t,e)},EKt.Pc=function(){return iq((EX(),cne))},EKt.Qc=function(t){return EX(),kyt(cne,t)},mG($6t,"ECollections/EmptyUnmodifiableEList",1310),fPt(1311,768,{20:1,14:1,15:1,58:1,589:1},xy),EKt.Vc=function(t,e){Ox()},EKt.Fc=function(t){return Dx()},EKt.Wc=function(t,e){return Nx()},EKt.Gc=function(t){return Lx()},EKt.$b=function(){Rx()},EKt.Hc=function(t){return!1},EKt.Ic=function(t){return!1},EKt.Jc=function(t){t4(this,t)},EKt.Xb=function(t){return wM((EX(),t)),null},EKt.Xc=function(t){return-1},EKt.dc=function(){return!0},EKt.Kc=function(){return this.a},EKt.Yc=function(){return this.a},EKt.Zc=function(t){return this.a},EKt.ii=function(t,e){return Bx()},EKt.ji=function(t,e){Fx()},EKt.Lc=function(){return new LH(null,new d1(this,16))},EKt.$c=function(t){return jx()},EKt.Mc=function(t){return $x()},EKt._c=function(t,e){return Vx()},EKt.gc=function(){return 0},EKt.ad=function(t){Frt(this,t)},EKt.Nc=function(){return new d1(this,16)},EKt.Oc=function(){return new LH(null,new d1(this,16))},EKt.bd=function(t,e){return EX(),new a1(cne,t,e)},EKt.Pc=function(){return iq((EX(),cne))},EKt.Qc=function(t){return EX(),kyt(cne,t)},EKt.sj=function(){return EX(),EX(),lne},mG($6t,"ECollections/EmptyUnmodifiableEMap",1311);var mPe,bPe=hH($6t,"Enumerator");fPt(281,1,{281:1},iBt),EKt.Fb=function(t){var e;return this===t||!!iD(t,281)&&(e=jV(t,281),this.f==e.f&&mU(this.i,e.i)&&pU(this.a,256&this.f?256&e.f?e.a:null:256&e.f?null:e.a)&&pU(this.d,e.d)&&pU(this.g,e.g)&&pU(this.e,e.e)&&Tbt(this,e))},EKt.Hb=function(){return this.f},EKt.Ib=function(){return Ejt(this)},EKt.f=0;var wPe,yPe,vPe,_Pe=0,kPe=0,xPe=0,EPe=0,TPe=0,CPe=0,APe=0,SPe=0,IPe=0,MPe=0,PPe=0,OPe=0,DPe=0;mG($6t,"URI",281),fPt(1091,43,tZt,Ey),EKt.zc=function(t,e){return jV(bJ(this,ER(t),jV(e,281)),281)},mG($6t,"URI/URICache",1091),fPt(497,63,l7t,dc,nU),EKt.hi=function(){return!0},mG($6t,"UniqueEList",497),fPt(581,60,$Yt,P9),mG($6t,"WrappedException",581);var NPe,LPe=hH(z4t,c8t),RPe=hH(z4t,l8t),BPe=hH(z4t,u8t),FPe=hH(z4t,h8t),jPe=hH(z4t,d8t),$Pe=hH(z4t,"EClass"),VPe=hH(z4t,"EDataType");fPt(1183,43,tZt,Ty),EKt.xc=function(t){return qI(t)?EQ(this,t):VI(IZ(this.f,t))},mG(z4t,"EDataType/Internal/ConversionDelegate/Factory/Registry/Impl",1183);var zPe,HPe,UPe=hH(z4t,"EEnum"),qPe=hH(z4t,f8t),WPe=hH(z4t,g8t),GPe=hH(z4t,p8t),KPe=hH(z4t,m8t),YPe=hH(z4t,b8t);fPt(1029,1,{},hc),EKt.Ib=function(){return"NIL"},mG(z4t,"EStructuralFeature/Internal/DynamicValueHolder/1",1029),fPt(1028,43,tZt,Cy),EKt.xc=function(t){return qI(t)?EQ(this,t):VI(IZ(this.f,t))},mG(z4t,"EStructuralFeature/Internal/SettingDelegate/Factory/Registry/Impl",1028);var XPe,ZPe,QPe,JPe,tOe,eOe,nOe,iOe,rOe,oOe,sOe,aOe,cOe,lOe,uOe,hOe,dOe,fOe,gOe,pOe,mOe,bOe,wOe,yOe,vOe,_Oe,kOe,xOe,EOe,TOe,COe,AOe=hH(z4t,w8t),SOe=hH(z4t,"EValidator/PatternMatcher"),IOe=hH(y8t,"FeatureMap/Entry");fPt(535,1,{72:1},CI),EKt.ak=function(){return this.a},EKt.dd=function(){return this.b},mG(h6t,"BasicEObjectImpl/1",535),fPt(1027,1,v8t,AI),EKt.Wj=function(t){return G4(this.a,this.b,t)},EKt.fj=function(){return ZQ(this.a,this.b)},EKt.Wb=function(t){OQ(this.a,this.b,t)},EKt.Xj=function(){TK(this.a,this.b)},mG(h6t,"BasicEObjectImpl/4",1027),fPt(1983,1,{108:1}),EKt.bk=function(t){this.e=0==t?kOe:D7(Mte,VKt,1,t,5,1)},EKt.Ch=function(t){return this.e[t]},EKt.Dh=function(t,e){this.e[t]=e},EKt.Eh=function(t){this.e[t]=null},EKt.ck=function(){return this.c},EKt.dk=function(){throw $b(new pw)},EKt.ek=function(){throw $b(new pw)},EKt.fk=function(){return this.d},EKt.gk=function(){return null!=this.e},EKt.hk=function(t){this.c=t},EKt.ik=function(t){throw $b(new pw)},EKt.jk=function(t){throw $b(new pw)},EKt.kk=function(t){this.d=t},mG(h6t,"BasicEObjectImpl/EPropertiesHolderBaseImpl",1983),fPt(185,1983,{108:1},Lh),EKt.dk=function(){return this.a},EKt.ek=function(){return this.b},EKt.ik=function(t){this.a=t},EKt.jk=function(t){this.b=t},mG(h6t,"BasicEObjectImpl/EPropertiesHolderImpl",185),fPt(506,97,u6t,vc),EKt.Kg=function(){return this.f},EKt.Pg=function(){return this.k},EKt.Rg=function(t,e){this.g=t,this.i=e},EKt.Tg=function(){return 2&this.j?this.ph().ck():this.zh()},EKt.Vg=function(){return this.i},EKt.Mg=function(){return!!(1&this.j)},EKt.eh=function(){return this.g},EKt.kh=function(){return!!(4&this.j)},EKt.ph=function(){return!this.k&&(this.k=new Lh),this.k},EKt.th=function(t){this.ph().hk(t),t?this.j|=2:this.j&=-3},EKt.vh=function(t){this.ph().jk(t),t?this.j|=4:this.j&=-5},EKt.zh=function(){return(KG(),QPe).S},EKt.i=0,EKt.j=1,mG(h6t,"EObjectImpl",506),fPt(780,506,{105:1,92:1,90:1,56:1,108:1,49:1,97:1},vz),EKt.Ch=function(t){return this.e[t]},EKt.Dh=function(t,e){this.e[t]=e},EKt.Eh=function(t){this.e[t]=null},EKt.Tg=function(){return this.d},EKt.Yg=function(t){return Mgt(this.d,t)},EKt.$g=function(){return this.d},EKt.dh=function(){return null!=this.e},EKt.ph=function(){return!this.k&&(this.k=new _c),this.k},EKt.th=function(t){this.d=t},EKt.yh=function(){var t;return null==this.e&&(t=hG(this.d),this.e=0==t?xOe:D7(Mte,VKt,1,t,5,1)),this},EKt.Ah=function(){return 0},mG(h6t,"DynamicEObjectImpl",780),fPt(1376,780,{105:1,42:1,92:1,90:1,133:1,56:1,108:1,49:1,97:1},lH),EKt.Fb=function(t){return this===t},EKt.Hb=function(){return TN(this)},EKt.th=function(t){this.d=t,this.b=DNt(t,"key"),this.c=DNt(t,k6t)},EKt.Sh=function(){var t;return-1==this.a&&(t=X9(this,this.b),this.a=null==t?0:Jct(t)),this.a},EKt.cd=function(){return X9(this,this.b)},EKt.dd=function(){return X9(this,this.c)},EKt.Th=function(t){this.a=t},EKt.Uh=function(t){OQ(this,this.b,t)},EKt.ed=function(t){var e;return e=X9(this,this.c),OQ(this,this.c,t),e},EKt.a=0,mG(h6t,"DynamicEObjectImpl/BasicEMapEntry",1376),fPt(1377,1,{108:1},_c),EKt.bk=function(t){throw $b(new pw)},EKt.Ch=function(t){throw $b(new pw)},EKt.Dh=function(t,e){throw $b(new pw)},EKt.Eh=function(t){throw $b(new pw)},EKt.ck=function(){throw $b(new pw)},EKt.dk=function(){return this.a},EKt.ek=function(){return this.b},EKt.fk=function(){return this.c},EKt.gk=function(){throw $b(new pw)},EKt.hk=function(t){throw $b(new pw)},EKt.ik=function(t){this.a=t},EKt.jk=function(t){this.b=t},EKt.kk=function(t){this.c=t},mG(h6t,"DynamicEObjectImpl/DynamicEPropertiesHolderImpl",1377),fPt(510,150,{105:1,92:1,90:1,590:1,147:1,56:1,108:1,49:1,97:1,510:1,150:1,114:1,115:1},kc),EKt.Qg=function(t){return d_t(this,t)},EKt._g=function(t,e,n){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),this.Ab;case 1:return this.d;case 2:return n?(!this.b&&(this.b=new XL((pKt(),wOe),UOe,this)),this.b):(!this.b&&(this.b=new XL((pKt(),wOe),UOe,this)),I7(this.b));case 3:return hJ(this);case 4:return!this.a&&(this.a=new MD(MMe,this,4)),this.a;case 5:return!this.c&&(this.c=new LD(MMe,this,5)),this.c}return U8(this,t-hG((pKt(),JPe)),eet(jV(yst(this,16),26)||JPe,t),e,n)},EKt.hh=function(t,e,n){var i;switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Xgt(this.Ab,t,n);case 3:return this.Cb&&(n=(i=this.Db>>16)>=0?d_t(this,n):this.Cb.ih(this,-1-i,null,n)),KU(this,jV(t,147),n)}return jV(eet(jV(yst(this,16),26)||(pKt(),JPe),e),66).Nj().Qj(this,umt(this),e-hG((pKt(),JPe)),t,n)},EKt.jh=function(t,e,n){switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Fbt(this.Ab,t,n);case 2:return!this.b&&(this.b=new XL((pKt(),wOe),UOe,this)),jF(this.b,t,n);case 3:return KU(this,null,n);case 4:return!this.a&&(this.a=new MD(MMe,this,4)),Fbt(this.a,t,n)}return jV(eet(jV(yst(this,16),26)||(pKt(),JPe),e),66).Nj().Rj(this,umt(this),e-hG((pKt(),JPe)),t,n)},EKt.lh=function(t){switch(t){case 0:return!!this.Ab&&0!=this.Ab.i;case 1:return null!=this.d;case 2:return!!this.b&&0!=this.b.f;case 3:return!!hJ(this);case 4:return!!this.a&&0!=this.a.i;case 5:return!!this.c&&0!=this.c.i}return S3(this,t-hG((pKt(),JPe)),eet(jV(yst(this,16),26)||JPe,t))},EKt.sh=function(t,e){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),cHt(this.Ab),!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void pG(this.Ab,jV(e,14));case 1:return void pH(this,ER(e));case 2:return!this.b&&(this.b=new XL((pKt(),wOe),UOe,this)),void tst(this.b,e);case 3:return void INt(this,jV(e,147));case 4:return!this.a&&(this.a=new MD(MMe,this,4)),cHt(this.a),!this.a&&(this.a=new MD(MMe,this,4)),void pG(this.a,jV(e,14));case 5:return!this.c&&(this.c=new LD(MMe,this,5)),cHt(this.c),!this.c&&(this.c=new LD(MMe,this,5)),void pG(this.c,jV(e,14))}Oft(this,t-hG((pKt(),JPe)),eet(jV(yst(this,16),26)||JPe,t),e)},EKt.zh=function(){return pKt(),JPe},EKt.Bh=function(t){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void cHt(this.Ab);case 1:return void $it(this,null);case 2:return!this.b&&(this.b=new XL((pKt(),wOe),UOe,this)),void this.b.c.$b();case 3:return void INt(this,null);case 4:return!this.a&&(this.a=new MD(MMe,this,4)),void cHt(this.a);case 5:return!this.c&&(this.c=new LD(MMe,this,5)),void cHt(this.c)}zht(this,t-hG((pKt(),JPe)),eet(jV(yst(this,16),26)||JPe,t))},EKt.Ib=function(){return Kht(this)},EKt.d=null,mG(h6t,"EAnnotationImpl",510),fPt(151,705,_8t,w8),EKt.Xh=function(t,e){QP(this,t,jV(e,42))},EKt.lk=function(t,e){return FF(this,jV(t,42),e)},EKt.pi=function(t){return jV(jV(this.c,69).pi(t),133)},EKt.Zh=function(){return jV(this.c,69).Zh()},EKt.$h=function(){return jV(this.c,69).$h()},EKt._h=function(t){return jV(this.c,69)._h(t)},EKt.mk=function(t,e){return jF(this,t,e)},EKt.Wj=function(t){return jV(this.c,76).Wj(t)},EKt.rj=function(){},EKt.fj=function(){return jV(this.c,76).fj()},EKt.tj=function(t,e,n){var i;return(i=jV(qet(this.b).Nh().Jh(this.b),133)).Th(t),i.Uh(e),i.ed(n),i},EKt.uj=function(){return new Ab(this)},EKt.Wb=function(t){tst(this,t)},EKt.Xj=function(){jV(this.c,76).Xj()},mG(y8t,"EcoreEMap",151),fPt(158,151,_8t,XL),EKt.qj=function(){var t,e,n,i,r;if(null==this.d){for(r=D7(aPe,r8t,63,2*this.f+1,0,1),n=this.c.Kc();n.e!=n.i.gc();)!(t=r[i=((e=jV(n.nj(),133)).Sh()&LKt)%r.length])&&(t=r[i]=new Ab(this)),t.Fc(e);this.d=r}},mG(h6t,"EAnnotationImpl/1",158),fPt(284,438,{105:1,92:1,90:1,147:1,191:1,56:1,108:1,472:1,49:1,97:1,150:1,284:1,114:1,115:1}),EKt._g=function(t,e,n){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),this.Ab;case 1:return this.zb;case 2:return cN(),!!(256&this.Bb);case 3:return cN(),!!(512&this.Bb);case 4:return ndt(this.s);case 5:return ndt(this.t);case 6:return cN(),!!this.$j();case 7:return cN(),this.s>=1;case 8:return e?S_t(this):this.r;case 9:return this.q}return U8(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t),e,n)},EKt.jh=function(t,e,n){switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Fbt(this.Ab,t,n);case 9:return gG(this,n)}return jV(eet(jV(yst(this,16),26)||this.zh(),e),66).Nj().Rj(this,umt(this),e-hG(this.zh()),t,n)},EKt.lh=function(t){switch(t){case 0:return!!this.Ab&&0!=this.Ab.i;case 1:return null!=this.zb;case 2:return!(256&this.Bb);case 3:return!(512&this.Bb);case 4:return 0!=this.s;case 5:return 1!=this.t;case 6:return this.$j();case 7:return this.s>=1;case 8:return!!this.r&&!this.q.e&&0==wK(this.q).i;case 9:return!(!this.q||this.r&&!this.q.e&&0==wK(this.q).i)}return S3(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t))},EKt.sh=function(t,e){var n;switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),cHt(this.Ab),!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void pG(this.Ab,jV(e,14));case 1:return void this.Lh(ER(e));case 2:return void Xht(this,Vv(kR(e)));case 3:return void Jht(this,Vv(kR(e)));case 4:return void Ont(this,jV(e,19).a);case 5:return void this.ok(jV(e,19).a);case 8:return void Sut(this,jV(e,138));case 9:return void((n=VEt(this,jV(e,87),null))&&n.Fi())}Oft(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t),e)},EKt.zh=function(){return pKt(),vOe},EKt.Bh=function(t){var e;switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void cHt(this.Ab);case 1:return void this.Lh(null);case 2:return void Xht(this,!0);case 3:return void Jht(this,!0);case 4:return void Ont(this,0);case 5:return void this.ok(1);case 8:return void Sut(this,null);case 9:return void((e=VEt(this,null,null))&&e.Fi())}zht(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t))},EKt.Gh=function(){S_t(this),this.Bb|=1},EKt.Yj=function(){return S_t(this)},EKt.Zj=function(){return this.t},EKt.$j=function(){var t;return(t=this.t)>1||-1==t},EKt.hi=function(){return!!(512&this.Bb)},EKt.nk=function(t,e){return Cht(this,t,e)},EKt.ok=function(t){Dnt(this,t)},EKt.Ib=function(){return BMt(this)},EKt.s=0,EKt.t=1,mG(h6t,"ETypedElementImpl",284),fPt(449,284,{105:1,92:1,90:1,147:1,191:1,56:1,170:1,66:1,108:1,472:1,49:1,97:1,150:1,449:1,284:1,114:1,115:1,677:1}),EKt.Qg=function(t){return Dvt(this,t)},EKt._g=function(t,e,n){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),this.Ab;case 1:return this.zb;case 2:return cN(),!!(256&this.Bb);case 3:return cN(),!!(512&this.Bb);case 4:return ndt(this.s);case 5:return ndt(this.t);case 6:return cN(),!!this.$j();case 7:return cN(),this.s>=1;case 8:return e?S_t(this):this.r;case 9:return this.q;case 10:return cN(),!!(this.Bb&v6t);case 11:return cN(),!!(this.Bb&E8t);case 12:return cN(),!!(this.Bb&FXt);case 13:return this.j;case 14:return zDt(this);case 15:return cN(),!!(this.Bb&x8t);case 16:return cN(),!!(this.Bb&lYt);case 17:return fJ(this)}return U8(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t),e,n)},EKt.hh=function(t,e,n){var i;switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Xgt(this.Ab,t,n);case 17:return this.Cb&&(n=(i=this.Db>>16)>=0?Dvt(this,n):this.Cb.ih(this,-1-i,null,n)),xjt(this,t,17,n)}return jV(eet(jV(yst(this,16),26)||this.zh(),e),66).Nj().Qj(this,umt(this),e-hG(this.zh()),t,n)},EKt.jh=function(t,e,n){switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Fbt(this.Ab,t,n);case 9:return gG(this,n);case 17:return xjt(this,null,17,n)}return jV(eet(jV(yst(this,16),26)||this.zh(),e),66).Nj().Rj(this,umt(this),e-hG(this.zh()),t,n)},EKt.lh=function(t){switch(t){case 0:return!!this.Ab&&0!=this.Ab.i;case 1:return null!=this.zb;case 2:return!(256&this.Bb);case 3:return!(512&this.Bb);case 4:return 0!=this.s;case 5:return 1!=this.t;case 6:return this.$j();case 7:return this.s>=1;case 8:return!!this.r&&!this.q.e&&0==wK(this.q).i;case 9:return!(!this.q||this.r&&!this.q.e&&0==wK(this.q).i);case 10:return!(this.Bb&v6t);case 11:return!!(this.Bb&E8t);case 12:return!!(this.Bb&FXt);case 13:return null!=this.j;case 14:return null!=zDt(this);case 15:return!!(this.Bb&x8t);case 16:return!!(this.Bb&lYt);case 17:return!!fJ(this)}return S3(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t))},EKt.sh=function(t,e){var n;switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),cHt(this.Ab),!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void pG(this.Ab,jV(e,14));case 1:return void XJ(this,ER(e));case 2:return void Xht(this,Vv(kR(e)));case 3:return void Jht(this,Vv(kR(e)));case 4:return void Ont(this,jV(e,19).a);case 5:return void this.ok(jV(e,19).a);case 8:return void Sut(this,jV(e,138));case 9:return void((n=VEt(this,jV(e,87),null))&&n.Fi());case 10:return void Mdt(this,Vv(kR(e)));case 11:return void Ddt(this,Vv(kR(e)));case 12:return void Pdt(this,Vv(kR(e)));case 13:return void BI(this,ER(e));case 15:return void Odt(this,Vv(kR(e)));case 16:return void zdt(this,Vv(kR(e)))}Oft(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t),e)},EKt.zh=function(){return pKt(),yOe},EKt.Bh=function(t){var e;switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void cHt(this.Ab);case 1:return iD(this.Cb,88)&&MSt(T4(jV(this.Cb,88)),4),void Drt(this,null);case 2:return void Xht(this,!0);case 3:return void Jht(this,!0);case 4:return void Ont(this,0);case 5:return void this.ok(1);case 8:return void Sut(this,null);case 9:return void((e=VEt(this,null,null))&&e.Fi());case 10:return void Mdt(this,!0);case 11:return void Ddt(this,!1);case 12:return void Pdt(this,!1);case 13:return this.i=null,void ort(this,null);case 15:return void Odt(this,!1);case 16:return void zdt(this,!1)}zht(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t))},EKt.Gh=function(){yY(j9((SAt(),XOe),this)),S_t(this),this.Bb|=1},EKt.Gj=function(){return this.f},EKt.zj=function(){return zDt(this)},EKt.Hj=function(){return fJ(this)},EKt.Lj=function(){return null},EKt.pk=function(){return this.k},EKt.aj=function(){return this.n},EKt.Mj=function(){return axt(this)},EKt.Nj=function(){var t,e,n,i,r,o,s,a,c;return this.p||((null==(n=fJ(this)).i&&z$t(n),n.i).length,(i=this.Lj())&&hG(fJ(i)),t=(s=(r=S_t(this)).Bj())?1&s.i?s==INe?vee:s==SNe?Mee:s==DNe?Aee:s==ONe?Cee:s==MNe?Ree:s==NNe?Fee:s==PNe?xee:Tee:s:null,e=zDt(this),a=r.zj(),dft(this),this.Bb&lYt&&((o=wkt((SAt(),XOe),n))&&o!=this||(o=Z1(j9(XOe,this))))?this.p=new II(this,o):this.$j()?this.rk()?i?this.Bb&x8t?t?this.sk()?this.p=new uX(47,t,this,i):this.p=new uX(5,t,this,i):this.sk()?this.p=new d5(46,this,i):this.p=new d5(4,this,i):t?this.sk()?this.p=new uX(49,t,this,i):this.p=new uX(7,t,this,i):this.sk()?this.p=new d5(48,this,i):this.p=new d5(6,this,i):this.Bb&x8t?t?t==Vte?this.p=new TV(50,WMe,this):this.sk()?this.p=new TV(43,t,this):this.p=new TV(1,t,this):this.sk()?this.p=new LZ(42,this):this.p=new LZ(0,this):t?t==Vte?this.p=new TV(41,WMe,this):this.sk()?this.p=new TV(45,t,this):this.p=new TV(3,t,this):this.sk()?this.p=new LZ(44,this):this.p=new LZ(2,this):iD(r,148)?t==IOe?this.p=new LZ(40,this):512&this.Bb?this.Bb&x8t?this.p=t?new TV(9,t,this):new LZ(8,this):this.p=t?new TV(11,t,this):new LZ(10,this):this.Bb&x8t?this.p=t?new TV(13,t,this):new LZ(12,this):this.p=t?new TV(15,t,this):new LZ(14,this):i?(c=i.t)>1||-1==c?this.sk()?this.Bb&x8t?this.p=t?new uX(25,t,this,i):new d5(24,this,i):this.p=t?new uX(27,t,this,i):new d5(26,this,i):this.Bb&x8t?this.p=t?new uX(29,t,this,i):new d5(28,this,i):this.p=t?new uX(31,t,this,i):new d5(30,this,i):this.sk()?this.Bb&x8t?this.p=t?new uX(33,t,this,i):new d5(32,this,i):this.p=t?new uX(35,t,this,i):new d5(34,this,i):this.Bb&x8t?this.p=t?new uX(37,t,this,i):new d5(36,this,i):this.p=t?new uX(39,t,this,i):new d5(38,this,i):this.sk()?this.Bb&x8t?this.p=t?new TV(17,t,this):new LZ(16,this):this.p=t?new TV(19,t,this):new LZ(18,this):this.Bb&x8t?this.p=t?new TV(21,t,this):new LZ(20,this):this.p=t?new TV(23,t,this):new LZ(22,this):this.qk()?this.sk()?this.p=new CV(jV(r,26),this,i):this.p=new bQ(jV(r,26),this,i):iD(r,148)?t==IOe?this.p=new LZ(40,this):this.Bb&x8t?this.p=t?new QU(e,a,this,($gt(),s==SNe?$Oe:s==INe?LOe:s==MNe?VOe:s==DNe?jOe:s==ONe?FOe:s==NNe?HOe:s==PNe?ROe:s==ANe?BOe:zOe)):new fX(jV(r,148),e,a,this):this.p=t?new ZU(e,a,this,($gt(),s==SNe?$Oe:s==INe?LOe:s==MNe?VOe:s==DNe?jOe:s==ONe?FOe:s==NNe?HOe:s==PNe?ROe:s==ANe?BOe:zOe)):new dX(jV(r,148),e,a,this):this.rk()?i?this.Bb&x8t?this.sk()?this.p=new OV(jV(r,26),this,i):this.p=new PV(jV(r,26),this,i):this.sk()?this.p=new MV(jV(r,26),this,i):this.p=new AV(jV(r,26),this,i):this.Bb&x8t?this.sk()?this.p=new tR(jV(r,26),this):this.p=new JL(jV(r,26),this):this.sk()?this.p=new QL(jV(r,26),this):this.p=new ZL(jV(r,26),this):this.sk()?i?this.Bb&x8t?this.p=new DV(jV(r,26),this,i):this.p=new SV(jV(r,26),this,i):this.Bb&x8t?this.p=new nR(jV(r,26),this):this.p=new eR(jV(r,26),this):i?this.Bb&x8t?this.p=new NV(jV(r,26),this,i):this.p=new IV(jV(r,26),this,i):this.Bb&x8t?this.p=new iR(jV(r,26),this):this.p=new iU(jV(r,26),this)),this.p},EKt.Ij=function(){return!!(this.Bb&v6t)},EKt.qk=function(){return!1},EKt.rk=function(){return!1},EKt.Jj=function(){return!!(this.Bb&lYt)},EKt.Oj=function(){return ctt(this)},EKt.sk=function(){return!1},EKt.Kj=function(){return!!(this.Bb&x8t)},EKt.tk=function(t){this.k=t},EKt.Lh=function(t){XJ(this,t)},EKt.Ib=function(){return kBt(this)},EKt.e=!1,EKt.n=0,mG(h6t,"EStructuralFeatureImpl",449),fPt(322,449,{105:1,92:1,90:1,34:1,147:1,191:1,56:1,170:1,66:1,108:1,472:1,49:1,97:1,322:1,150:1,449:1,284:1,114:1,115:1,677:1},Sy),EKt._g=function(t,e,n){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),this.Ab;case 1:return this.zb;case 2:return cN(),!!(256&this.Bb);case 3:return cN(),!!(512&this.Bb);case 4:return ndt(this.s);case 5:return ndt(this.t);case 6:return cN(),!!DIt(this);case 7:return cN(),this.s>=1;case 8:return e?S_t(this):this.r;case 9:return this.q;case 10:return cN(),!!(this.Bb&v6t);case 11:return cN(),!!(this.Bb&E8t);case 12:return cN(),!!(this.Bb&FXt);case 13:return this.j;case 14:return zDt(this);case 15:return cN(),!!(this.Bb&x8t);case 16:return cN(),!!(this.Bb&lYt);case 17:return fJ(this);case 18:return cN(),!!(this.Bb&l6t);case 19:return e?sat(this):D6(this)}return U8(this,t-hG((pKt(),tOe)),eet(jV(yst(this,16),26)||tOe,t),e,n)},EKt.lh=function(t){switch(t){case 0:return!!this.Ab&&0!=this.Ab.i;case 1:return null!=this.zb;case 2:return!(256&this.Bb);case 3:return!(512&this.Bb);case 4:return 0!=this.s;case 5:return 1!=this.t;case 6:return DIt(this);case 7:return this.s>=1;case 8:return!!this.r&&!this.q.e&&0==wK(this.q).i;case 9:return!(!this.q||this.r&&!this.q.e&&0==wK(this.q).i);case 10:return!(this.Bb&v6t);case 11:return!!(this.Bb&E8t);case 12:return!!(this.Bb&FXt);case 13:return null!=this.j;case 14:return null!=zDt(this);case 15:return!!(this.Bb&x8t);case 16:return!!(this.Bb&lYt);case 17:return!!fJ(this);case 18:return!!(this.Bb&l6t);case 19:return!!D6(this)}return S3(this,t-hG((pKt(),tOe)),eet(jV(yst(this,16),26)||tOe,t))},EKt.sh=function(t,e){var n;switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),cHt(this.Ab),!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void pG(this.Ab,jV(e,14));case 1:return void XJ(this,ER(e));case 2:return void Xht(this,Vv(kR(e)));case 3:return void Jht(this,Vv(kR(e)));case 4:return void Ont(this,jV(e,19).a);case 5:return void Uk(this,jV(e,19).a);case 8:return void Sut(this,jV(e,138));case 9:return void((n=VEt(this,jV(e,87),null))&&n.Fi());case 10:return void Mdt(this,Vv(kR(e)));case 11:return void Ddt(this,Vv(kR(e)));case 12:return void Pdt(this,Vv(kR(e)));case 13:return void BI(this,ER(e));case 15:return void Odt(this,Vv(kR(e)));case 16:return void zdt(this,Vv(kR(e)));case 18:return void Hdt(this,Vv(kR(e)))}Oft(this,t-hG((pKt(),tOe)),eet(jV(yst(this,16),26)||tOe,t),e)},EKt.zh=function(){return pKt(),tOe},EKt.Bh=function(t){var e;switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void cHt(this.Ab);case 1:return iD(this.Cb,88)&&MSt(T4(jV(this.Cb,88)),4),void Drt(this,null);case 2:return void Xht(this,!0);case 3:return void Jht(this,!0);case 4:return void Ont(this,0);case 5:return this.b=0,void Dnt(this,1);case 8:return void Sut(this,null);case 9:return void((e=VEt(this,null,null))&&e.Fi());case 10:return void Mdt(this,!0);case 11:return void Ddt(this,!1);case 12:return void Pdt(this,!1);case 13:return this.i=null,void ort(this,null);case 15:return void Odt(this,!1);case 16:return void zdt(this,!1);case 18:return void Hdt(this,!1)}zht(this,t-hG((pKt(),tOe)),eet(jV(yst(this,16),26)||tOe,t))},EKt.Gh=function(){sat(this),yY(j9((SAt(),XOe),this)),S_t(this),this.Bb|=1},EKt.$j=function(){return DIt(this)},EKt.nk=function(t,e){return this.b=0,this.a=null,Cht(this,t,e)},EKt.ok=function(t){Uk(this,t)},EKt.Ib=function(){var t;return 64&this.Db?kBt(this):((t=new lN(kBt(this))).a+=" (iD: ",wx(t,!!(this.Bb&l6t)),t.a+=")",t.a)},EKt.b=0,mG(h6t,"EAttributeImpl",322),fPt(351,438,{105:1,92:1,90:1,138:1,147:1,191:1,56:1,108:1,49:1,97:1,351:1,150:1,114:1,115:1,676:1}),EKt.uk=function(t){return t.Tg()==this},EKt.Qg=function(t){return uvt(this,t)},EKt.Rg=function(t,e){this.w=null,this.Db=e<<16|255&this.Db,this.Cb=t},EKt._g=function(t,e,n){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),this.Ab;case 1:return this.zb;case 2:return null!=this.D?this.D:this.B;case 3:return nvt(this);case 4:return this.zj();case 5:return this.F;case 6:return e?qet(this):dJ(this);case 7:return!this.A&&(this.A=new OD(AOe,this,7)),this.A}return U8(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t),e,n)},EKt.hh=function(t,e,n){var i;switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Xgt(this.Ab,t,n);case 6:return this.Cb&&(n=(i=this.Db>>16)>=0?uvt(this,n):this.Cb.ih(this,-1-i,null,n)),xjt(this,t,6,n)}return jV(eet(jV(yst(this,16),26)||this.zh(),e),66).Nj().Qj(this,umt(this),e-hG(this.zh()),t,n)},EKt.jh=function(t,e,n){switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Fbt(this.Ab,t,n);case 6:return xjt(this,null,6,n);case 7:return!this.A&&(this.A=new OD(AOe,this,7)),Fbt(this.A,t,n)}return jV(eet(jV(yst(this,16),26)||this.zh(),e),66).Nj().Rj(this,umt(this),e-hG(this.zh()),t,n)},EKt.lh=function(t){switch(t){case 0:return!!this.Ab&&0!=this.Ab.i;case 1:return null!=this.zb;case 2:return null!=this.D&&this.D==this.F;case 3:return!!nvt(this);case 4:return null!=this.zj();case 5:return null!=this.F&&this.F!=this.D&&this.F!=this.B;case 6:return!!dJ(this);case 7:return!!this.A&&0!=this.A.i}return S3(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t))},EKt.sh=function(t,e){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),cHt(this.Ab),!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void pG(this.Ab,jV(e,14));case 1:return void ZJ(this,ER(e));case 2:return void AP(this,ER(e));case 5:return void XHt(this,ER(e));case 7:return!this.A&&(this.A=new OD(AOe,this,7)),cHt(this.A),!this.A&&(this.A=new OD(AOe,this,7)),void pG(this.A,jV(e,14))}Oft(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t),e)},EKt.zh=function(){return pKt(),nOe},EKt.Bh=function(t){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void cHt(this.Ab);case 1:return iD(this.Cb,179)&&(jV(this.Cb,179).tb=null),void Drt(this,null);case 2:return Llt(this,null),void Nnt(this,this.D);case 5:return void XHt(this,null);case 7:return!this.A&&(this.A=new OD(AOe,this,7)),void cHt(this.A)}zht(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t))},EKt.yj=function(){var t;return-1==this.G&&(this.G=(t=qet(this))?swt(t.Mh(),this):-1),this.G},EKt.zj=function(){return null},EKt.Aj=function(){return qet(this)},EKt.vk=function(){return this.v},EKt.Bj=function(){return nvt(this)},EKt.Cj=function(){return null!=this.D?this.D:this.B},EKt.Dj=function(){return this.F},EKt.wj=function(t){return T$t(this,t)},EKt.wk=function(t){this.v=t},EKt.xk=function(t){qrt(this,t)},EKt.yk=function(t){this.C=t},EKt.Lh=function(t){ZJ(this,t)},EKt.Ib=function(){return Agt(this)},EKt.C=null,EKt.D=null,EKt.G=-1,mG(h6t,"EClassifierImpl",351),fPt(88,351,{105:1,92:1,90:1,26:1,138:1,147:1,191:1,56:1,108:1,49:1,97:1,88:1,351:1,150:1,473:1,114:1,115:1,676:1},Rh),EKt.uk=function(t){return KB(this,t.Tg())},EKt._g=function(t,e,n){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),this.Ab;case 1:return this.zb;case 2:return null!=this.D?this.D:this.B;case 3:return nvt(this);case 4:return null;case 5:return this.F;case 6:return e?qet(this):dJ(this);case 7:return!this.A&&(this.A=new OD(AOe,this,7)),this.A;case 8:return cN(),!!(256&this.Bb);case 9:return cN(),!!(512&this.Bb);case 10:return yZ(this);case 11:return!this.q&&(this.q=new tW(GPe,this,11,10)),this.q;case 12:return XVt(this);case 13:return RVt(this);case 14:return RVt(this),this.r;case 15:return XVt(this),this.k;case 16:return GAt(this);case 17:return pVt(this);case 18:return z$t(this);case 19:return ADt(this);case 20:return XVt(this),this.o;case 21:return!this.s&&(this.s=new tW(BPe,this,21,17)),this.s;case 22:return r5(this);case 23:return VRt(this)}return U8(this,t-hG((pKt(),eOe)),eet(jV(yst(this,16),26)||eOe,t),e,n)},EKt.hh=function(t,e,n){var i;switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Xgt(this.Ab,t,n);case 6:return this.Cb&&(n=(i=this.Db>>16)>=0?uvt(this,n):this.Cb.ih(this,-1-i,null,n)),xjt(this,t,6,n);case 11:return!this.q&&(this.q=new tW(GPe,this,11,10)),Xgt(this.q,t,n);case 21:return!this.s&&(this.s=new tW(BPe,this,21,17)),Xgt(this.s,t,n)}return jV(eet(jV(yst(this,16),26)||(pKt(),eOe),e),66).Nj().Qj(this,umt(this),e-hG((pKt(),eOe)),t,n)},EKt.jh=function(t,e,n){switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Fbt(this.Ab,t,n);case 6:return xjt(this,null,6,n);case 7:return!this.A&&(this.A=new OD(AOe,this,7)),Fbt(this.A,t,n);case 11:return!this.q&&(this.q=new tW(GPe,this,11,10)),Fbt(this.q,t,n);case 21:return!this.s&&(this.s=new tW(BPe,this,21,17)),Fbt(this.s,t,n);case 22:return Fbt(r5(this),t,n)}return jV(eet(jV(yst(this,16),26)||(pKt(),eOe),e),66).Nj().Rj(this,umt(this),e-hG((pKt(),eOe)),t,n)},EKt.lh=function(t){switch(t){case 0:return!!this.Ab&&0!=this.Ab.i;case 1:return null!=this.zb;case 2:return null!=this.D&&this.D==this.F;case 3:return!!nvt(this);case 4:return!1;case 5:return null!=this.F&&this.F!=this.D&&this.F!=this.B;case 6:return!!dJ(this);case 7:return!!this.A&&0!=this.A.i;case 8:return!!(256&this.Bb);case 9:return!!(512&this.Bb);case 10:return!(!this.u||0==r5(this.u.a).i||this.n&&Rwt(this.n));case 11:return!!this.q&&0!=this.q.i;case 12:return 0!=XVt(this).i;case 13:return 0!=RVt(this).i;case 14:return RVt(this),0!=this.r.i;case 15:return XVt(this),0!=this.k.i;case 16:return 0!=GAt(this).i;case 17:return 0!=pVt(this).i;case 18:return 0!=z$t(this).i;case 19:return 0!=ADt(this).i;case 20:return XVt(this),!!this.o;case 21:return!!this.s&&0!=this.s.i;case 22:return!!this.n&&Rwt(this.n);case 23:return 0!=VRt(this).i}return S3(this,t-hG((pKt(),eOe)),eet(jV(yst(this,16),26)||eOe,t))},EKt.oh=function(t){return(null==this.i||this.q&&0!=this.q.i?null:DNt(this,t))||lWt(this,t)},EKt.sh=function(t,e){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),cHt(this.Ab),!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void pG(this.Ab,jV(e,14));case 1:return void ZJ(this,ER(e));case 2:return void AP(this,ER(e));case 5:return void XHt(this,ER(e));case 7:return!this.A&&(this.A=new OD(AOe,this,7)),cHt(this.A),!this.A&&(this.A=new OD(AOe,this,7)),void pG(this.A,jV(e,14));case 8:return void Zht(this,Vv(kR(e)));case 9:return void tdt(this,Vv(kR(e)));case 10:return bHt(yZ(this)),void pG(yZ(this),jV(e,14));case 11:return!this.q&&(this.q=new tW(GPe,this,11,10)),cHt(this.q),!this.q&&(this.q=new tW(GPe,this,11,10)),void pG(this.q,jV(e,14));case 21:return!this.s&&(this.s=new tW(BPe,this,21,17)),cHt(this.s),!this.s&&(this.s=new tW(BPe,this,21,17)),void pG(this.s,jV(e,14));case 22:return cHt(r5(this)),void pG(r5(this),jV(e,14))}Oft(this,t-hG((pKt(),eOe)),eet(jV(yst(this,16),26)||eOe,t),e)},EKt.zh=function(){return pKt(),eOe},EKt.Bh=function(t){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void cHt(this.Ab);case 1:return iD(this.Cb,179)&&(jV(this.Cb,179).tb=null),void Drt(this,null);case 2:return Llt(this,null),void Nnt(this,this.D);case 5:return void XHt(this,null);case 7:return!this.A&&(this.A=new OD(AOe,this,7)),void cHt(this.A);case 8:return void Zht(this,!1);case 9:return void tdt(this,!1);case 10:return void(this.u&&bHt(this.u));case 11:return!this.q&&(this.q=new tW(GPe,this,11,10)),void cHt(this.q);case 21:return!this.s&&(this.s=new tW(BPe,this,21,17)),void cHt(this.s);case 22:return void(this.n&&cHt(this.n))}zht(this,t-hG((pKt(),eOe)),eet(jV(yst(this,16),26)||eOe,t))},EKt.Gh=function(){var t,e;if(XVt(this),RVt(this),GAt(this),pVt(this),z$t(this),ADt(this),VRt(this),r6(qV(T4(this))),this.s)for(t=0,e=this.s.i;t<e;++t)mL(Get(this.s,t));if(this.q)for(t=0,e=this.q.i;t<e;++t)mL(Get(this.q,t));Aht((SAt(),XOe),this).ne(),this.Bb|=1},EKt.Ib=function(){return gxt(this)},EKt.k=null,EKt.r=null,mG(h6t,"EClassImpl",88),fPt(1994,1993,L8t),EKt.Vh=function(t,e){return O$t(this,t,e)},EKt.Wh=function(t){return O$t(this,this.i,t)},EKt.Xh=function(t,e){zMt(this,t,e)},EKt.Yh=function(t){tPt(this,t)},EKt.lk=function(t,e){return Xgt(this,t,e)},EKt.pi=function(t){return F8(this,t)},EKt.mk=function(t,e){return Fbt(this,t,e)},EKt.mi=function(t,e){return uVt(this,t,e)},EKt.Zh=function(){return new rL(this)},EKt.$h=function(){return new oL(this)},EKt._h=function(t){return cit(this,t)},mG(y8t,"NotifyingInternalEListImpl",1994),fPt(622,1994,R8t),EKt.Hc=function(t){return dHt(this,t)},EKt.Zi=function(t,e,n,i,r){return wJ(this,t,e,n,i,r)},EKt.$i=function(t){Pw(this,t)},EKt.Wj=function(t){return this},EKt.ak=function(){return eet(this.e.Tg(),this.aj())},EKt._i=function(){return this.ak()},EKt.aj=function(){return Mgt(this.e.Tg(),this.ak())},EKt.zk=function(){return jV(this.ak().Yj(),26).Bj()},EKt.Ak=function(){return Awt(jV(this.ak(),18)).n},EKt.Ai=function(){return this.e},EKt.Bk=function(){return!0},EKt.Ck=function(){return!1},EKt.Dk=function(){return!1},EKt.Ek=function(){return!1},EKt.Xc=function(t){return swt(this,t)},EKt.cj=function(t,e){var n;return n=jV(t,49),this.Dk()?this.Bk()?n.gh(this.e,this.Ak(),this.zk(),e):n.gh(this.e,Mgt(n.Tg(),Awt(jV(this.ak(),18))),null,e):n.gh(this.e,-1-this.aj(),null,e)},EKt.dj=function(t,e){var n;return n=jV(t,49),this.Dk()?this.Bk()?n.ih(this.e,this.Ak(),this.zk(),e):n.ih(this.e,Mgt(n.Tg(),Awt(jV(this.ak(),18))),null,e):n.ih(this.e,-1-this.aj(),null,e)},EKt.rk=function(){return!1},EKt.Fk=function(){return!0},EKt.wj=function(t){return D3(this.d,t)},EKt.ej=function(){return bP(this.e)},EKt.fj=function(){return 0!=this.i},EKt.ri=function(t){return Lnt(this.d,t)},EKt.li=function(t,e){return this.Fk()&&this.Ek()?HMt(this,t,jV(e,56)):e},EKt.Gk=function(t){return t.kh()?tht(this.e,jV(t,49)):t},EKt.Wb=function(t){XO(this,t)},EKt.Pc=function(){return $8(this)},EKt.Qc=function(t){var e;if(this.Ek())for(e=this.i-1;e>=0;--e)Get(this,e);return Ygt(this,t)},EKt.Xj=function(){cHt(this)},EKt.oi=function(t,e){return Fnt(this,t,e)},mG(y8t,"EcoreEList",622),fPt(496,622,R8t,wz),EKt.ai=function(){return!1},EKt.aj=function(){return this.c},EKt.bj=function(){return!1},EKt.Fk=function(){return!0},EKt.hi=function(){return!0},EKt.li=function(t,e){return e},EKt.ni=function(){return!1},EKt.c=0,mG(y8t,"EObjectEList",496),fPt(85,496,R8t,MD),EKt.bj=function(){return!0},EKt.Dk=function(){return!1},EKt.rk=function(){return!0},mG(y8t,"EObjectContainmentEList",85),fPt(545,85,R8t,PD),EKt.ci=function(){this.b=!0},EKt.fj=function(){return this.b},EKt.Xj=function(){var t;cHt(this),bP(this.e)?(t=this.b,this.b=!1,dst(this.e,new J4(this.e,2,this.c,t,!1))):this.b=!1},EKt.b=!1,mG(y8t,"EObjectContainmentEList/Unsettable",545),fPt(1140,545,R8t,YU),EKt.ii=function(t,e){var n,i;return n=jV(Sdt(this,t,e),87),bP(this.e)&&Pw(this,new v8(this.a,7,(pKt(),iOe),ndt(e),iD(i=n.c,88)?jV(i,26):dOe,t)),n},EKt.jj=function(t,e){return Qgt(this,jV(t,87),e)},EKt.kj=function(t,e){return Zgt(this,jV(t,87),e)},EKt.lj=function(t,e,n){return Fkt(this,jV(t,87),jV(e,87),n)},EKt.Zi=function(t,e,n,i,r){switch(t){case 3:return wJ(this,t,e,n,i,this.i>1);case 5:return wJ(this,t,e,n,i,this.i-jV(n,15).gc()>0);default:return new O9(this.e,t,this.c,e,n,i,!0)}},EKt.ij=function(){return!0},EKt.fj=function(){return Rwt(this)},EKt.Xj=function(){cHt(this)},mG(h6t,"EClassImpl/1",1140),fPt(1154,1153,Q7t),EKt.ui=function(t){var e,n,i,r,o,s,a;if(8!=(n=t.xi())){if(0==(i=obt(t)))switch(n){case 1:case 9:null!=(a=t.Bi())&&(!(e=T4(jV(a,473))).c&&(e.c=new Vc),att(e.c,t.Ai())),null!=(s=t.zi())&&(1&(r=jV(s,473)).Bb||(!(e=T4(r)).c&&(e.c=new Vc),l8(e.c,jV(t.Ai(),26))));break;case 3:null!=(s=t.zi())&&(1&(r=jV(s,473)).Bb||(!(e=T4(r)).c&&(e.c=new Vc),l8(e.c,jV(t.Ai(),26))));break;case 5:if(null!=(s=t.zi()))for(o=jV(s,14).Kc();o.Ob();)1&(r=jV(o.Pb(),473)).Bb||(!(e=T4(r)).c&&(e.c=new Vc),l8(e.c,jV(t.Ai(),26)));break;case 4:null!=(a=t.Bi())&&(1&(r=jV(a,473)).Bb||(!(e=T4(r)).c&&(e.c=new Vc),att(e.c,t.Ai())));break;case 6:if(null!=(a=t.Bi()))for(o=jV(a,14).Kc();o.Ob();)1&(r=jV(o.Pb(),473)).Bb||(!(e=T4(r)).c&&(e.c=new Vc),att(e.c,t.Ai()))}this.Hk(i)}},EKt.Hk=function(t){gBt(this,t)},EKt.b=63,mG(h6t,"ESuperAdapter",1154),fPt(1155,1154,Q7t,fb),EKt.Hk=function(t){MSt(this,t)},mG(h6t,"EClassImpl/10",1155),fPt(1144,696,R8t),EKt.Vh=function(t,e){return $Et(this,t,e)},EKt.Wh=function(t){return dyt(this,t)},EKt.Xh=function(t,e){Sht(this,t,e)},EKt.Yh=function(t){i6(this,t)},EKt.pi=function(t){return F8(this,t)},EKt.mi=function(t,e){return stt(this,t,e)},EKt.lk=function(t,e){throw $b(new pw)},EKt.Zh=function(){return new rL(this)},EKt.$h=function(){return new oL(this)},EKt._h=function(t){return cit(this,t)},EKt.mk=function(t,e){throw $b(new pw)},EKt.Wj=function(t){return this},EKt.fj=function(){return 0!=this.i},EKt.Wb=function(t){throw $b(new pw)},EKt.Xj=function(){throw $b(new pw)},mG(y8t,"EcoreEList/UnmodifiableEList",1144),fPt(319,1144,R8t,OM),EKt.ni=function(){return!1},mG(y8t,"EcoreEList/UnmodifiableEList/FastCompare",319),fPt(1147,319,R8t,gct),EKt.Xc=function(t){var e,n;if(iD(t,170)&&-1!=(e=jV(t,170).aj()))for(n=this.i;e<n;++e)if(zI(this.g[e])===zI(t))return e;return-1},mG(h6t,"EClassImpl/1EAllStructuralFeaturesList",1147),fPt(1141,497,l7t,xc),EKt.ri=function(t){return D7(WPe,$8t,87,t,0,1)},EKt.ni=function(){return!1},mG(h6t,"EClassImpl/1EGenericSuperTypeEList",1141),fPt(623,497,l7t,Ec),EKt.ri=function(t){return D7(BPe,D8t,170,t,0,1)},EKt.ni=function(){return!1},mG(h6t,"EClassImpl/1EStructuralFeatureUniqueEList",623),fPt(741,497,l7t,Tc),EKt.ri=function(t){return D7(YPe,D8t,18,t,0,1)},EKt.ni=function(){return!1},mG(h6t,"EClassImpl/1ReferenceList",741),fPt(1142,497,l7t,gb),EKt.bi=function(t,e){JU(this,jV(e,34))},EKt.ri=function(t){return D7(FPe,D8t,34,t,0,1)},EKt.ni=function(){return!1},mG(h6t,"EClassImpl/2",1142),fPt(1143,497,l7t,Cc),EKt.ri=function(t){return D7(FPe,D8t,34,t,0,1)},EKt.ni=function(){return!1},mG(h6t,"EClassImpl/3",1143),fPt(1145,319,R8t,_z),EKt.Fc=function(t){return bV(this,jV(t,34))},EKt.Yh=function(t){Xx(this,jV(t,34))},mG(h6t,"EClassImpl/4",1145),fPt(1146,319,R8t,kz),EKt.Fc=function(t){return wV(this,jV(t,18))},EKt.Yh=function(t){Zx(this,jV(t,18))},mG(h6t,"EClassImpl/5",1146),fPt(1148,497,l7t,Ac),EKt.ri=function(t){return D7(GPe,N8t,59,t,0,1)},EKt.ni=function(){return!1},mG(h6t,"EClassImpl/6",1148),fPt(1149,497,l7t,Sc),EKt.ri=function(t){return D7(YPe,D8t,18,t,0,1)},EKt.ni=function(){return!1},mG(h6t,"EClassImpl/7",1149),fPt(1997,1996,{3:1,4:1,20:1,28:1,52:1,14:1,15:1,67:1,58:1,69:1}),EKt.Vh=function(t,e){return s$t(this,t,e)},EKt.Wh=function(t){return s$t(this,this.Vi(),t)},EKt.Xh=function(t,e){ePt(this,t,e)},EKt.Yh=function(t){IMt(this,t)},EKt.lk=function(t,e){return fyt(this,t,e)},EKt.mk=function(t,e){return jbt(this,t,e)},EKt.mi=function(t,e){return a$t(this,t,e)},EKt.pi=function(t){return this.Oi(t)},EKt.Zh=function(){return new rL(this)},EKt.Gi=function(){return this.Ji()},EKt.$h=function(){return new oL(this)},EKt._h=function(t){return cit(this,t)},mG(y8t,"DelegatingNotifyingInternalEListImpl",1997),fPt(742,1997,V8t),EKt.ai=function(){var t;return iD(t=eet(vZ(this.b),this.aj()).Yj(),148)&&!iD(t,457)&&!(1&t.Bj().i)},EKt.Hc=function(t){var e,n,i,r,o,s,a;if(this.Fk()){if((a=this.Vi())>4){if(!this.wj(t))return!1;if(this.rk()){if(s=(e=(n=jV(t,49)).Ug())==this.b&&(this.Dk()?n.Og(n.Vg(),jV(eet(vZ(this.b),this.aj()).Yj(),26).Bj())==Awt(jV(eet(vZ(this.b),this.aj()),18)).n:-1-n.Vg()==this.aj()),this.Ek()&&!s&&!e&&n.Zg())for(i=0;i<a;++i)if(zI(zq(this,this.Oi(i)))===zI(t))return!0;return s}if(this.Dk()&&!this.Ck()){if(zI(r=jV(t,56).ah(Awt(jV(eet(vZ(this.b),this.aj()),18))))===zI(this.b))return!0;if(null==r||!jV(r,56).kh())return!1}}if(o=this.Li(t),this.Ek()&&!o)for(i=0;i<a;++i)if(zI(n=zq(this,this.Oi(i)))===zI(t))return!0;return o}return this.Li(t)},EKt.Zi=function(t,e,n,i,r){return new O9(this.b,t,this.aj(),e,n,i,r)},EKt.$i=function(t){dst(this.b,t)},EKt.Wj=function(t){return this},EKt._i=function(){return eet(vZ(this.b),this.aj())},EKt.aj=function(){return Mgt(vZ(this.b),eet(vZ(this.b),this.aj()))},EKt.Ai=function(){return this.b},EKt.Bk=function(){return!!eet(vZ(this.b),this.aj()).Yj().Bj()},EKt.bj=function(){var t;return!(!iD(t=eet(vZ(this.b),this.aj()),99)||!(jV(t,18).Bb&l6t)&&!Awt(jV(t,18)))},EKt.Ck=function(){var t,e,n;return!!iD(t=eet(vZ(this.b),this.aj()),99)&&!!(e=Awt(jV(t,18)))&&((n=e.t)>1||-1==n)},EKt.Dk=function(){var t;return!!iD(t=eet(vZ(this.b),this.aj()),99)&&!!Awt(jV(t,18))},EKt.Ek=function(){var t;return!!iD(t=eet(vZ(this.b),this.aj()),99)&&!!(jV(t,18).Bb&$Xt)},EKt.Xc=function(t){var e,n,i;if((n=this.Qi(t))>=0)return n;if(this.Fk())for(e=0,i=this.Vi();e<i;++e)if(zI(zq(this,this.Oi(e)))===zI(t))return e;return-1},EKt.cj=function(t,e){var n;return n=jV(t,49),this.Dk()?this.Bk()?n.gh(this.b,Awt(jV(eet(vZ(this.b),this.aj()),18)).n,jV(eet(vZ(this.b),this.aj()).Yj(),26).Bj(),e):n.gh(this.b,Mgt(n.Tg(),Awt(jV(eet(vZ(this.b),this.aj()),18))),null,e):n.gh(this.b,-1-this.aj(),null,e)},EKt.dj=function(t,e){var n;return n=jV(t,49),this.Dk()?this.Bk()?n.ih(this.b,Awt(jV(eet(vZ(this.b),this.aj()),18)).n,jV(eet(vZ(this.b),this.aj()).Yj(),26).Bj(),e):n.ih(this.b,Mgt(n.Tg(),Awt(jV(eet(vZ(this.b),this.aj()),18))),null,e):n.ih(this.b,-1-this.aj(),null,e)},EKt.rk=function(){var t;return!!iD(t=eet(vZ(this.b),this.aj()),99)&&!!(jV(t,18).Bb&l6t)},EKt.Fk=function(){return iD(eet(vZ(this.b),this.aj()).Yj(),88)},EKt.wj=function(t){return eet(vZ(this.b),this.aj()).Yj().wj(t)},EKt.ej=function(){return bP(this.b)},EKt.fj=function(){return!this.Ri()},EKt.hi=function(){return eet(vZ(this.b),this.aj()).hi()},EKt.li=function(t,e){return eUt(this,t,e)},EKt.Wb=function(t){bHt(this),pG(this,jV(t,15))},EKt.Pc=function(){var t;if(this.Ek())for(t=this.Vi()-1;t>=0;--t)eUt(this,t,this.Oi(t));return this.Wi()},EKt.Qc=function(t){var e;if(this.Ek())for(e=this.Vi()-1;e>=0;--e)eUt(this,e,this.Oi(e));return this.Xi(t)},EKt.Xj=function(){bHt(this)},EKt.oi=function(t,e){return j8(this,t,e)},mG(y8t,"DelegatingEcoreEList",742),fPt(1150,742,V8t,oB),EKt.Hi=function(t,e){uR(this,t,jV(e,26))},EKt.Ii=function(t){tO(this,jV(t,26))},EKt.Oi=function(t){var e;return iD(e=jV(Get(r5(this.a),t),87).c,88)?jV(e,26):(pKt(),dOe)},EKt.Ti=function(t){var e;return iD(e=jV(uRt(r5(this.a),t),87).c,88)?jV(e,26):(pKt(),dOe)},EKt.Ui=function(t,e){return gyt(this,t,jV(e,26))},EKt.ai=function(){return!1},EKt.Zi=function(t,e,n,i,r){return null},EKt.Ji=function(){return new pb(this)},EKt.Ki=function(){cHt(r5(this.a))},EKt.Li=function(t){return qht(this,t)},EKt.Mi=function(t){var e;for(e=t.Kc();e.Ob();)if(!qht(this,e.Pb()))return!1;return!0},EKt.Ni=function(t){var e,n,i;if(iD(t,15)&&(i=jV(t,15)).gc()==r5(this.a).i){for(e=i.Kc(),n=new ID(this);e.Ob();)if(zI(e.Pb())!==zI(vbt(n)))return!1;return!0}return!1},EKt.Pi=function(){var t,e,n,i;for(e=1,t=new ID(r5(this.a));t.e!=t.i.gc();)e=31*e+((n=iD(i=jV(vbt(t),87).c,88)?jV(i,26):(pKt(),dOe))?TN(n):0);return e},EKt.Qi=function(t){var e,n,i,r;for(i=0,n=new ID(r5(this.a));n.e!=n.i.gc();){if(e=jV(vbt(n),87),zI(t)===zI(iD(r=e.c,88)?jV(r,26):(pKt(),dOe)))return i;++i}return-1},EKt.Ri=function(){return 0==r5(this.a).i},EKt.Si=function(){return null},EKt.Vi=function(){return r5(this.a).i},EKt.Wi=function(){var t,e,n,i,r,o;for(o=r5(this.a).i,r=D7(Mte,VKt,1,o,5,1),n=0,e=new ID(r5(this.a));e.e!=e.i.gc();)t=jV(vbt(e),87),r[n++]=iD(i=t.c,88)?jV(i,26):(pKt(),dOe);return r},EKt.Xi=function(t){var e,n,i,r;for(r=r5(this.a).i,t.length<r&&(t=Lnt(tlt(t).c,r)),t.length>r&&MG(t,r,null),n=0,e=new ID(r5(this.a));e.e!=e.i.gc();)MG(t,n++,iD(i=jV(vbt(e),87).c,88)?jV(i,26):(pKt(),dOe));return t},EKt.Yi=function(){var t,e,n,i,r;for((r=new E_).a+="[",t=r5(this.a),e=0,i=r5(this.a).i;e<i;)iM(r,yN(iD(n=jV(Get(t,e),87).c,88)?jV(n,26):(pKt(),dOe))),++e<i&&(r.a+=jKt);return r.a+="]",r.a},EKt.$i=function(t){},EKt.aj=function(){return 10},EKt.Bk=function(){return!0},EKt.bj=function(){return!1},EKt.Ck=function(){return!1},EKt.Dk=function(){return!1},EKt.Ek=function(){return!0},EKt.rk=function(){return!1},EKt.Fk=function(){return!0},EKt.wj=function(t){return iD(t,88)},EKt.fj=function(){return K0(this.a)},EKt.hi=function(){return!0},EKt.ni=function(){return!0},mG(h6t,"EClassImpl/8",1150),fPt(1151,1964,OYt,pb),EKt.Zc=function(t){return cit(this.a,t)},EKt.gc=function(){return r5(this.a.a).i},mG(h6t,"EClassImpl/8/1",1151),fPt(1152,497,l7t,Ic),EKt.ri=function(t){return D7(jPe,VKt,138,t,0,1)},EKt.ni=function(){return!1},mG(h6t,"EClassImpl/9",1152),fPt(1139,53,eZt,Ay),mG(h6t,"EClassImpl/MyHashSet",1139),fPt(566,351,{105:1,92:1,90:1,138:1,148:1,834:1,147:1,191:1,56:1,108:1,49:1,97:1,351:1,150:1,114:1,115:1,676:1},_w),EKt._g=function(t,e,n){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),this.Ab;case 1:return this.zb;case 2:return null!=this.D?this.D:this.B;case 3:return nvt(this);case 4:return this.zj();case 5:return this.F;case 6:return e?qet(this):dJ(this);case 7:return!this.A&&(this.A=new OD(AOe,this,7)),this.A;case 8:return cN(),!!(256&this.Bb)}return U8(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t),e,n)},EKt.lh=function(t){switch(t){case 0:return!!this.Ab&&0!=this.Ab.i;case 1:return null!=this.zb;case 2:return null!=this.D&&this.D==this.F;case 3:return!!nvt(this);case 4:return null!=this.zj();case 5:return null!=this.F&&this.F!=this.D&&this.F!=this.B;case 6:return!!dJ(this);case 7:return!!this.A&&0!=this.A.i;case 8:return!(256&this.Bb)}return S3(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t))},EKt.sh=function(t,e){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),cHt(this.Ab),!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void pG(this.Ab,jV(e,14));case 1:return void ZJ(this,ER(e));case 2:return void AP(this,ER(e));case 5:return void XHt(this,ER(e));case 7:return!this.A&&(this.A=new OD(AOe,this,7)),cHt(this.A),!this.A&&(this.A=new OD(AOe,this,7)),void pG(this.A,jV(e,14));case 8:return void Qht(this,Vv(kR(e)))}Oft(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t),e)},EKt.zh=function(){return pKt(),rOe},EKt.Bh=function(t){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void cHt(this.Ab);case 1:return iD(this.Cb,179)&&(jV(this.Cb,179).tb=null),void Drt(this,null);case 2:return Llt(this,null),void Nnt(this,this.D);case 5:return void XHt(this,null);case 7:return!this.A&&(this.A=new OD(AOe,this,7)),void cHt(this.A);case 8:return void Qht(this,!0)}zht(this,t-hG(this.zh()),eet(jV(yst(this,16),26)||this.zh(),t))},EKt.Gh=function(){Aht((SAt(),XOe),this).ne(),this.Bb|=1},EKt.Fj=function(){var t,e;if(!this.c&&!(t=HOt(qet(this))).dc())for(e=t.Kc();e.Ob();)Djt(this,ER(e.Pb()))&&Rdt(this);return this.b},EKt.zj=function(){var t;if(!this.e){t=null;try{t=nvt(this)}catch(t){if(!iD(t=hat(t),102))throw $b(t)}this.d=null,t&&1&t.i&&(this.d=t==INe?(cN(),mee):t==SNe?ndt(0):t==DNe?new Of(0):t==ONe?0:t==MNe?_mt(0):t==NNe?idt(0):t==PNe?Ttt(0):uat(0)),this.e=!0}return this.d},EKt.Ej=function(){return!!(256&this.Bb)},EKt.Ik=function(t){t&&(this.D="org.eclipse.emf.common.util.AbstractEnumerator")},EKt.xk=function(t){qrt(this,t),this.Ik(t)},EKt.yk=function(t){this.C=t,this.e=!1},EKt.Ib=function(){var t;return 64&this.Db?Agt(this):((t=new lN(Agt(this))).a+=" (serializable: ",wx(t,!!(256&this.Bb)),t.a+=")",t.a)},EKt.c=!1,EKt.d=null,EKt.e=!1,mG(h6t,"EDataTypeImpl",566),fPt(457,566,{105:1,92:1,90:1,138:1,148:1,834:1,671:1,147:1,191:1,56:1,108:1,49:1,97:1,351:1,457:1,150:1,114:1,115:1,676:1},Iy),EKt._g=function(t,e,n){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),this.Ab;case 1:return this.zb;case 2:return null!=this.D?this.D:this.B;case 3:return nvt(this);case 4:return Ylt(this);case 5:return this.F;case 6:return e?qet(this):dJ(this);case 7:return!this.A&&(this.A=new OD(AOe,this,7)),this.A;case 8:return cN(),!!(256&this.Bb);case 9:return!this.a&&(this.a=new tW(qPe,this,9,5)),this.a}return U8(this,t-hG((pKt(),oOe)),eet(jV(yst(this,16),26)||oOe,t),e,n)},EKt.hh=function(t,e,n){var i;switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Xgt(this.Ab,t,n);case 6:return this.Cb&&(n=(i=this.Db>>16)>=0?uvt(this,n):this.Cb.ih(this,-1-i,null,n)),xjt(this,t,6,n);case 9:return!this.a&&(this.a=new tW(qPe,this,9,5)),Xgt(this.a,t,n)}return jV(eet(jV(yst(this,16),26)||(pKt(),oOe),e),66).Nj().Qj(this,umt(this),e-hG((pKt(),oOe)),t,n)},EKt.jh=function(t,e,n){switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Fbt(this.Ab,t,n);case 6:return xjt(this,null,6,n);case 7:return!this.A&&(this.A=new OD(AOe,this,7)),Fbt(this.A,t,n);case 9:return!this.a&&(this.a=new tW(qPe,this,9,5)),Fbt(this.a,t,n)}return jV(eet(jV(yst(this,16),26)||(pKt(),oOe),e),66).Nj().Rj(this,umt(this),e-hG((pKt(),oOe)),t,n)},EKt.lh=function(t){switch(t){case 0:return!!this.Ab&&0!=this.Ab.i;case 1:return null!=this.zb;case 2:return null!=this.D&&this.D==this.F;case 3:return!!nvt(this);case 4:return!!Ylt(this);case 5:return null!=this.F&&this.F!=this.D&&this.F!=this.B;case 6:return!!dJ(this);case 7:return!!this.A&&0!=this.A.i;case 8:return!(256&this.Bb);case 9:return!!this.a&&0!=this.a.i}return S3(this,t-hG((pKt(),oOe)),eet(jV(yst(this,16),26)||oOe,t))},EKt.sh=function(t,e){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),cHt(this.Ab),!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void pG(this.Ab,jV(e,14));case 1:return void ZJ(this,ER(e));case 2:return void AP(this,ER(e));case 5:return void XHt(this,ER(e));case 7:return!this.A&&(this.A=new OD(AOe,this,7)),cHt(this.A),!this.A&&(this.A=new OD(AOe,this,7)),void pG(this.A,jV(e,14));case 8:return void Qht(this,Vv(kR(e)));case 9:return!this.a&&(this.a=new tW(qPe,this,9,5)),cHt(this.a),!this.a&&(this.a=new tW(qPe,this,9,5)),void pG(this.a,jV(e,14))}Oft(this,t-hG((pKt(),oOe)),eet(jV(yst(this,16),26)||oOe,t),e)},EKt.zh=function(){return pKt(),oOe},EKt.Bh=function(t){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void cHt(this.Ab);case 1:return iD(this.Cb,179)&&(jV(this.Cb,179).tb=null),void Drt(this,null);case 2:return Llt(this,null),void Nnt(this,this.D);case 5:return void XHt(this,null);case 7:return!this.A&&(this.A=new OD(AOe,this,7)),void cHt(this.A);case 8:return void Qht(this,!0);case 9:return!this.a&&(this.a=new tW(qPe,this,9,5)),void cHt(this.a)}zht(this,t-hG((pKt(),oOe)),eet(jV(yst(this,16),26)||oOe,t))},EKt.Gh=function(){var t,e;if(this.a)for(t=0,e=this.a.i;t<e;++t)mL(Get(this.a,t));Aht((SAt(),XOe),this).ne(),this.Bb|=1},EKt.zj=function(){return Ylt(this)},EKt.wj=function(t){return null!=t},EKt.Ik=function(t){},mG(h6t,"EEnumImpl",457),fPt(573,438,{105:1,92:1,90:1,1940:1,678:1,147:1,191:1,56:1,108:1,49:1,97:1,573:1,150:1,114:1,115:1},vw),EKt.ne=function(){return this.zb},EKt.Qg=function(t){return h_t(this,t)},EKt._g=function(t,e,n){var i;switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),this.Ab;case 1:return this.zb;case 2:return ndt(this.d);case 3:return this.b?this.b:this.a;case 4:return null==(i=this.c)?this.zb:i;case 5:return this.Db>>16==5?jV(this.Cb,671):null}return U8(this,t-hG((pKt(),sOe)),eet(jV(yst(this,16),26)||sOe,t),e,n)},EKt.hh=function(t,e,n){var i;switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Xgt(this.Ab,t,n);case 5:return this.Cb&&(n=(i=this.Db>>16)>=0?h_t(this,n):this.Cb.ih(this,-1-i,null,n)),xjt(this,t,5,n)}return jV(eet(jV(yst(this,16),26)||(pKt(),sOe),e),66).Nj().Qj(this,umt(this),e-hG((pKt(),sOe)),t,n)},EKt.jh=function(t,e,n){switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Fbt(this.Ab,t,n);case 5:return xjt(this,null,5,n)}return jV(eet(jV(yst(this,16),26)||(pKt(),sOe),e),66).Nj().Rj(this,umt(this),e-hG((pKt(),sOe)),t,n)},EKt.lh=function(t){switch(t){case 0:return!!this.Ab&&0!=this.Ab.i;case 1:return null!=this.zb;case 2:return 0!=this.d;case 3:return!!this.b;case 4:return null!=this.c;case 5:return!(this.Db>>16!=5||!jV(this.Cb,671))}return S3(this,t-hG((pKt(),sOe)),eet(jV(yst(this,16),26)||sOe,t))},EKt.sh=function(t,e){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),cHt(this.Ab),!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void pG(this.Ab,jV(e,14));case 1:return void Drt(this,ER(e));case 2:return void Pnt(this,jV(e,19).a);case 3:return void pMt(this,jV(e,1940));case 4:return void jit(this,ER(e))}Oft(this,t-hG((pKt(),sOe)),eet(jV(yst(this,16),26)||sOe,t),e)},EKt.zh=function(){return pKt(),sOe},EKt.Bh=function(t){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void cHt(this.Ab);case 1:return void Drt(this,null);case 2:return void Pnt(this,0);case 3:return void pMt(this,null);case 4:return void jit(this,null)}zht(this,t-hG((pKt(),sOe)),eet(jV(yst(this,16),26)||sOe,t))},EKt.Ib=function(){var t;return null==(t=this.c)?this.zb:t},EKt.b=null,EKt.c=null,EKt.d=0,mG(h6t,"EEnumLiteralImpl",573);var MOe,POe,OOe,DOe=hH(h6t,"EFactoryImpl/InternalEDateTimeFormat");fPt(489,1,{2015:1},mb),mG(h6t,"EFactoryImpl/1ClientInternalEDateTimeFormat",489),fPt(241,115,{105:1,92:1,90:1,87:1,56:1,108:1,49:1,97:1,241:1,114:1,115:1},Rb),EKt.Sg=function(t,e,n){var i;return n=xjt(this,t,e,n),this.e&&iD(t,170)&&(i=vDt(this,this.e))!=this.c&&(n=oqt(this,i,n)),n},EKt._g=function(t,e,n){switch(t){case 0:return this.f;case 1:return!this.d&&(this.d=new MD(WPe,this,1)),this.d;case 2:return e?h$t(this):this.c;case 3:return this.b;case 4:return this.e;case 5:return e?zwt(this):this.a}return U8(this,t-hG((pKt(),cOe)),eet(jV(yst(this,16),26)||cOe,t),e,n)},EKt.jh=function(t,e,n){switch(e){case 0:return Jut(this,null,n);case 1:return!this.d&&(this.d=new MD(WPe,this,1)),Fbt(this.d,t,n);case 3:return Qut(this,null,n)}return jV(eet(jV(yst(this,16),26)||(pKt(),cOe),e),66).Nj().Rj(this,umt(this),e-hG((pKt(),cOe)),t,n)},EKt.lh=function(t){switch(t){case 0:return!!this.f;case 1:return!!this.d&&0!=this.d.i;case 2:return!!this.c;case 3:return!!this.b;case 4:return!!this.e;case 5:return!!this.a}return S3(this,t-hG((pKt(),cOe)),eet(jV(yst(this,16),26)||cOe,t))},EKt.sh=function(t,e){switch(t){case 0:return void _xt(this,jV(e,87));case 1:return!this.d&&(this.d=new MD(WPe,this,1)),cHt(this.d),!this.d&&(this.d=new MD(WPe,this,1)),void pG(this.d,jV(e,14));case 3:return void vxt(this,jV(e,87));case 4:return void LTt(this,jV(e,836));case 5:return void rnt(this,jV(e,138))}Oft(this,t-hG((pKt(),cOe)),eet(jV(yst(this,16),26)||cOe,t),e)},EKt.zh=function(){return pKt(),cOe},EKt.Bh=function(t){switch(t){case 0:return void _xt(this,null);case 1:return!this.d&&(this.d=new MD(WPe,this,1)),void cHt(this.d);case 3:return void vxt(this,null);case 4:return void LTt(this,null);case 5:return void rnt(this,null)}zht(this,t-hG((pKt(),cOe)),eet(jV(yst(this,16),26)||cOe,t))},EKt.Ib=function(){var t;return(t=new uN(COt(this))).a+=" (expression: ",dzt(this,t),t.a+=")",t.a},mG(h6t,"EGenericTypeImpl",241),fPt(1969,1964,z8t),EKt.Xh=function(t,e){QR(this,t,e)},EKt.lk=function(t,e){return QR(this,this.gc(),t),e},EKt.pi=function(t){return Lbt(this.Gi(),t)},EKt.Zh=function(){return this.$h()},EKt.Gi=function(){return new Tb(this)},EKt.$h=function(){return this._h(0)},EKt._h=function(t){return this.Gi().Zc(t)},EKt.mk=function(t,e){return ygt(this,t,!0),e},EKt.ii=function(t,e){var n;return n=t_t(this,e),this.Zc(t).Rb(n),n},EKt.ji=function(t,e){ygt(this,e,!0),this.Zc(t).Rb(e)},mG(y8t,"AbstractSequentialInternalEList",1969),fPt(486,1969,z8t,KN),EKt.pi=function(t){return Lbt(this.Gi(),t)},EKt.Zh=function(){return null==this.b?(YT(),YT(),OOe):this.Jk()},EKt.Gi=function(){return new NM(this.a,this.b)},EKt.$h=function(){return null==this.b?(YT(),YT(),OOe):this.Jk()},EKt._h=function(t){var e,n;if(null==this.b){if(t<0||t>1)throw $b(new Iv(e8t+t+", size=0"));return YT(),YT(),OOe}for(n=this.Jk(),e=0;e<t;++e)Est(n);return n},EKt.dc=function(){var t,e,n,i,r,o;if(null!=this.b)for(n=0;n<this.b.length;++n)if(t=this.b[n],!this.Mk()||this.a.mh(t))if(o=this.a.bh(t,!1),ZT(),jV(t,66).Oj()){for(i=0,r=(e=jV(o,153)).gc();i<r;++i)if(dG(e.il(i))&&null!=e.jl(i))return!1}else if(t.$j()){if(!jV(o,14).dc())return!1}else if(null!=o)return!1;return!0},EKt.Kc=function(){return krt(this)},EKt.Zc=function(t){var e,n;if(null==this.b){if(0!=t)throw $b(new Iv(e8t+t+", size=0"));return YT(),YT(),OOe}for(n=this.Lk()?this.Kk():this.Jk(),e=0;e<t;++e)Est(n);return n},EKt.ii=function(t,e){throw $b(new pw)},EKt.ji=function(t,e){throw $b(new pw)},EKt.Jk=function(){return new YN(this.a,this.b)},EKt.Kk=function(){return new GL(this.a,this.b)},EKt.Lk=function(){return!0},EKt.gc=function(){var t,e,n,i,r,o,s;if(r=0,null!=this.b)for(n=0;n<this.b.length;++n)if(t=this.b[n],!this.Mk()||this.a.mh(t))if(s=this.a.bh(t,!1),ZT(),jV(t,66).Oj())for(i=0,o=(e=jV(s,153)).gc();i<o;++i)dG(e.il(i))&&null!=e.jl(i)&&++r;else t.$j()?r+=jV(s,14).gc():null!=s&&++r;return r},EKt.Mk=function(){return!0},mG(y8t,"EContentsEList",486),fPt(1156,486,z8t,WL),EKt.Jk=function(){return new KL(this.a,this.b)},EKt.Kk=function(){return new YL(this.a,this.b)},EKt.Mk=function(){return!1},mG(h6t,"ENamedElementImpl/1",1156),fPt(279,1,H8t,YN),EKt.Nb=function(t){lW(this,t)},EKt.Rb=function(t){throw $b(new pw)},EKt.Nk=function(t){if(0!=this.g||this.e)throw $b(new Fv("Iterator already in use or already filtered"));this.e=t},EKt.Ob=function(){var t,e,n,i,r,o;switch(this.g){case 3:case 2:return!0;case 1:return!1;case-3:this.p?this.p.Pb():++this.n;default:if(this.k&&(this.p?vAt(this,this.p):mMt(this)))return r=this.p?this.p.Pb():this.j?this.j.pi(this.n++):this.k.Xb(this.n++),this.f?((t=jV(r,72)).ak(),n=t.dd(),this.i=n):(n=r,this.i=n),this.g=3,!0;for(;this.d<this.c.length;)if(e=this.c[this.d++],(!this.e||e.Gj()!=PMe||0!=e.aj())&&(!this.Mk()||this.b.mh(e)))if(o=this.b.bh(e,this.Lk()),this.f=(ZT(),jV(e,66).Oj()),this.f||e.$j()){if(this.Lk()?(i=jV(o,15),this.k=i):(i=jV(o,69),this.k=this.j=i),iD(this.k,54)?(this.p=null,this.o=this.k.gc(),this.n=0):this.p=this.j?this.j.$h():this.k.Yc(),this.p?vAt(this,this.p):mMt(this))return r=this.p?this.p.Pb():this.j?this.j.pi(this.n++):this.k.Xb(this.n++),this.f?((t=jV(r,72)).ak(),n=t.dd(),this.i=n):(n=r,this.i=n),this.g=3,!0}else if(null!=o)return this.k=null,this.p=null,n=o,this.i=n,this.g=2,!0;return this.k=null,this.p=null,this.f=!1,this.g=1,!1}},EKt.Sb=function(){var t,e,n,i,r,o;switch(this.g){case-3:case-2:return!0;case-1:return!1;case 3:this.p?this.p.Ub():--this.n;default:if(this.k&&(this.p?_At(this,this.p):fSt(this)))return r=this.p?this.p.Ub():this.j?this.j.pi(--this.n):this.k.Xb(--this.n),this.f?((t=jV(r,72)).ak(),n=t.dd(),this.i=n):(n=r,this.i=n),this.g=-3,!0;for(;this.d>0;)if(e=this.c[--this.d],(!this.e||e.Gj()!=PMe||0!=e.aj())&&(!this.Mk()||this.b.mh(e)))if(o=this.b.bh(e,this.Lk()),this.f=(ZT(),jV(e,66).Oj()),this.f||e.$j()){if(this.Lk()?(i=jV(o,15),this.k=i):(i=jV(o,69),this.k=this.j=i),iD(this.k,54)?(this.o=this.k.gc(),this.n=this.o):this.p=this.j?this.j._h(this.k.gc()):this.k.Zc(this.k.gc()),this.p?_At(this,this.p):fSt(this))return r=this.p?this.p.Ub():this.j?this.j.pi(--this.n):this.k.Xb(--this.n),this.f?((t=jV(r,72)).ak(),n=t.dd(),this.i=n):(n=r,this.i=n),this.g=-3,!0}else if(null!=o)return this.k=null,this.p=null,n=o,this.i=n,this.g=-2,!0;return this.k=null,this.p=null,this.g=-1,!1}},EKt.Pb=function(){return Est(this)},EKt.Tb=function(){return this.a},EKt.Ub=function(){var t;if(this.g<-1||this.Sb())return--this.a,this.g=0,t=this.i,this.Sb(),t;throw $b(new ww)},EKt.Vb=function(){return this.a-1},EKt.Qb=function(){throw $b(new pw)},EKt.Lk=function(){return!1},EKt.Wb=function(t){throw $b(new pw)},EKt.Mk=function(){return!0},EKt.a=0,EKt.d=0,EKt.f=!1,EKt.g=0,EKt.n=0,EKt.o=0,mG(y8t,"EContentsEList/FeatureIteratorImpl",279),fPt(697,279,H8t,GL),EKt.Lk=function(){return!0},mG(y8t,"EContentsEList/ResolvingFeatureIteratorImpl",697),fPt(1157,697,H8t,YL),EKt.Mk=function(){return!1},mG(h6t,"ENamedElementImpl/1/1",1157),fPt(1158,279,H8t,KL),EKt.Mk=function(){return!1},mG(h6t,"ENamedElementImpl/1/2",1158),fPt(36,143,t8t,l5,u5,Qq,y8,O9,J4,Vnt,E0,znt,T0,X4,C0,qnt,A0,Z4,S0,Hnt,I0,Jq,v8,zX,Unt,M0,Q4,P0),EKt._i=function(){return c8(this)},EKt.gj=function(){var t;return(t=c8(this))?t.zj():null},EKt.yi=function(t){return-1==this.b&&this.a&&(this.b=this.c.Xg(this.a.aj(),this.a.Gj())),this.c.Og(this.b,t)},EKt.Ai=function(){return this.c},EKt.hj=function(){var t;return!!(t=c8(this))&&t.Kj()},EKt.b=-1,mG(h6t,"ENotificationImpl",36),fPt(399,284,{105:1,92:1,90:1,147:1,191:1,56:1,59:1,108:1,472:1,49:1,97:1,150:1,399:1,284:1,114:1,115:1},My),EKt.Qg=function(t){return C_t(this,t)},EKt._g=function(t,e,n){var i;switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),this.Ab;case 1:return this.zb;case 2:return cN(),!!(256&this.Bb);case 3:return cN(),!!(512&this.Bb);case 4:return ndt(this.s);case 5:return ndt(this.t);case 6:return cN(),(i=this.t)>1||-1==i;case 7:return cN(),this.s>=1;case 8:return e?S_t(this):this.r;case 9:return this.q;case 10:return this.Db>>16==10?jV(this.Cb,26):null;case 11:return!this.d&&(this.d=new OD(AOe,this,11)),this.d;case 12:return!this.c&&(this.c=new tW(KPe,this,12,10)),this.c;case 13:return!this.a&&(this.a=new sB(this,this)),this.a;case 14:return $9(this)}return U8(this,t-hG((pKt(),fOe)),eet(jV(yst(this,16),26)||fOe,t),e,n)},EKt.hh=function(t,e,n){var i;switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Xgt(this.Ab,t,n);case 10:return this.Cb&&(n=(i=this.Db>>16)>=0?C_t(this,n):this.Cb.ih(this,-1-i,null,n)),xjt(this,t,10,n);case 12:return!this.c&&(this.c=new tW(KPe,this,12,10)),Xgt(this.c,t,n)}return jV(eet(jV(yst(this,16),26)||(pKt(),fOe),e),66).Nj().Qj(this,umt(this),e-hG((pKt(),fOe)),t,n)},EKt.jh=function(t,e,n){switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Fbt(this.Ab,t,n);case 9:return gG(this,n);case 10:return xjt(this,null,10,n);case 11:return!this.d&&(this.d=new OD(AOe,this,11)),Fbt(this.d,t,n);case 12:return!this.c&&(this.c=new tW(KPe,this,12,10)),Fbt(this.c,t,n);case 14:return Fbt($9(this),t,n)}return jV(eet(jV(yst(this,16),26)||(pKt(),fOe),e),66).Nj().Rj(this,umt(this),e-hG((pKt(),fOe)),t,n)},EKt.lh=function(t){var e;switch(t){case 0:return!!this.Ab&&0!=this.Ab.i;case 1:return null!=this.zb;case 2:return!(256&this.Bb);case 3:return!(512&this.Bb);case 4:return 0!=this.s;case 5:return 1!=this.t;case 6:return(e=this.t)>1||-1==e;case 7:return this.s>=1;case 8:return!!this.r&&!this.q.e&&0==wK(this.q).i;case 9:return!(!this.q||this.r&&!this.q.e&&0==wK(this.q).i);case 10:return!(this.Db>>16!=10||!jV(this.Cb,26));case 11:return!!this.d&&0!=this.d.i;case 12:return!!this.c&&0!=this.c.i;case 13:return!(!this.a||0==$9(this.a.a).i||this.b&&Bwt(this.b));case 14:return!!this.b&&Bwt(this.b)}return S3(this,t-hG((pKt(),fOe)),eet(jV(yst(this,16),26)||fOe,t))},EKt.sh=function(t,e){var n;switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),cHt(this.Ab),!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void pG(this.Ab,jV(e,14));case 1:return void Drt(this,ER(e));case 2:return void Xht(this,Vv(kR(e)));case 3:return void Jht(this,Vv(kR(e)));case 4:return void Ont(this,jV(e,19).a);case 5:return void Dnt(this,jV(e,19).a);case 8:return void Sut(this,jV(e,138));case 9:return void((n=VEt(this,jV(e,87),null))&&n.Fi());case 11:return!this.d&&(this.d=new OD(AOe,this,11)),cHt(this.d),!this.d&&(this.d=new OD(AOe,this,11)),void pG(this.d,jV(e,14));case 12:return!this.c&&(this.c=new tW(KPe,this,12,10)),cHt(this.c),!this.c&&(this.c=new tW(KPe,this,12,10)),void pG(this.c,jV(e,14));case 13:return!this.a&&(this.a=new sB(this,this)),bHt(this.a),!this.a&&(this.a=new sB(this,this)),void pG(this.a,jV(e,14));case 14:return cHt($9(this)),void pG($9(this),jV(e,14))}Oft(this,t-hG((pKt(),fOe)),eet(jV(yst(this,16),26)||fOe,t),e)},EKt.zh=function(){return pKt(),fOe},EKt.Bh=function(t){var e;switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void cHt(this.Ab);case 1:return void Drt(this,null);case 2:return void Xht(this,!0);case 3:return void Jht(this,!0);case 4:return void Ont(this,0);case 5:return void Dnt(this,1);case 8:return void Sut(this,null);case 9:return void((e=VEt(this,null,null))&&e.Fi());case 11:return!this.d&&(this.d=new OD(AOe,this,11)),void cHt(this.d);case 12:return!this.c&&(this.c=new tW(KPe,this,12,10)),void cHt(this.c);case 13:return void(this.a&&bHt(this.a));case 14:return void(this.b&&cHt(this.b))}zht(this,t-hG((pKt(),fOe)),eet(jV(yst(this,16),26)||fOe,t))},EKt.Gh=function(){var t,e;if(this.c)for(t=0,e=this.c.i;t<e;++t)mL(Get(this.c,t));S_t(this),this.Bb|=1},mG(h6t,"EOperationImpl",399),fPt(505,742,V8t,sB),EKt.Hi=function(t,e){lR(this,t,jV(e,138))},EKt.Ii=function(t){eO(this,jV(t,138))},EKt.Oi=function(t){return jV(Get($9(this.a),t),87).c||(pKt(),lOe)},EKt.Ti=function(t){return jV(uRt($9(this.a),t),87).c||(pKt(),lOe)},EKt.Ui=function(t,e){return dmt(this,t,jV(e,138))},EKt.ai=function(){return!1},EKt.Zi=function(t,e,n,i,r){return null},EKt.Ji=function(){return new bb(this)},EKt.Ki=function(){cHt($9(this.a))},EKt.Li=function(t){return adt(this,t)},EKt.Mi=function(t){var e;for(e=t.Kc();e.Ob();)if(!adt(this,e.Pb()))return!1;return!0},EKt.Ni=function(t){var e,n,i;if(iD(t,15)&&(i=jV(t,15)).gc()==$9(this.a).i){for(e=i.Kc(),n=new ID(this);e.Ob();)if(zI(e.Pb())!==zI(vbt(n)))return!1;return!0}return!1},EKt.Pi=function(){var t,e,n;for(e=1,t=new ID($9(this.a));t.e!=t.i.gc();)e=31*e+((n=jV(vbt(t),87).c||(pKt(),lOe))?Jct(n):0);return e},EKt.Qi=function(t){var e,n,i;for(i=0,n=new ID($9(this.a));n.e!=n.i.gc();){if(e=jV(vbt(n),87),zI(t)===zI(e.c||(pKt(),lOe)))return i;++i}return-1},EKt.Ri=function(){return 0==$9(this.a).i},EKt.Si=function(){return null},EKt.Vi=function(){return $9(this.a).i},EKt.Wi=function(){var t,e,n,i,r;for(r=$9(this.a).i,i=D7(Mte,VKt,1,r,5,1),n=0,e=new ID($9(this.a));e.e!=e.i.gc();)t=jV(vbt(e),87),i[n++]=t.c||(pKt(),lOe);return i},EKt.Xi=function(t){var e,n,i;for(i=$9(this.a).i,t.length<i&&(t=Lnt(tlt(t).c,i)),t.length>i&&MG(t,i,null),n=0,e=new ID($9(this.a));e.e!=e.i.gc();)MG(t,n++,jV(vbt(e),87).c||(pKt(),lOe));return t},EKt.Yi=function(){var t,e,n,i;for((i=new E_).a+="[",t=$9(this.a),e=0,n=$9(this.a).i;e<n;)iM(i,yN(jV(Get(t,e),87).c||(pKt(),lOe))),++e<n&&(i.a+=jKt);return i.a+="]",i.a},EKt.$i=function(t){},EKt.aj=function(){return 13},EKt.Bk=function(){return!0},EKt.bj=function(){return!1},EKt.Ck=function(){return!1},EKt.Dk=function(){return!1},EKt.Ek=function(){return!0},EKt.rk=function(){return!1},EKt.Fk=function(){return!0},EKt.wj=function(t){return iD(t,138)},EKt.fj=function(){return G0(this.a)},EKt.hi=function(){return!0},EKt.ni=function(){return!0},mG(h6t,"EOperationImpl/1",505),fPt(1340,1964,OYt,bb),EKt.Zc=function(t){return cit(this.a,t)},EKt.gc=function(){return $9(this.a.a).i},mG(h6t,"EOperationImpl/1/1",1340),fPt(1341,545,R8t,XU),EKt.ii=function(t,e){var n;return n=jV(Sdt(this,t,e),87),bP(this.e)&&Pw(this,new v8(this.a,7,(pKt(),gOe),ndt(e),n.c||lOe,t)),n},EKt.jj=function(t,e){return Eht(this,jV(t,87),e)},EKt.kj=function(t,e){return Tht(this,jV(t,87),e)},EKt.lj=function(t,e,n){return Gmt(this,jV(t,87),jV(e,87),n)},EKt.Zi=function(t,e,n,i,r){switch(t){case 3:return wJ(this,t,e,n,i,this.i>1);case 5:return wJ(this,t,e,n,i,this.i-jV(n,15).gc()>0);default:return new O9(this.e,t,this.c,e,n,i,!0)}},EKt.ij=function(){return!0},EKt.fj=function(){return Bwt(this)},EKt.Xj=function(){cHt(this)},mG(h6t,"EOperationImpl/2",1341),fPt(498,1,{1938:1,498:1},SI),mG(h6t,"EPackageImpl/1",498),fPt(16,85,R8t,tW),EKt.zk=function(){return this.d},EKt.Ak=function(){return this.b},EKt.Dk=function(){return!0},EKt.b=0,mG(y8t,"EObjectContainmentWithInverseEList",16),fPt(353,16,R8t,tF),EKt.Ek=function(){return!0},EKt.li=function(t,e){return HMt(this,t,jV(e,56))},mG(y8t,"EObjectContainmentWithInverseEList/Resolving",353),fPt(298,353,R8t,Xq),EKt.ci=function(){this.a.tb=null},mG(h6t,"EPackageImpl/2",298),fPt(1228,1,{},Mc),mG(h6t,"EPackageImpl/3",1228),fPt(718,43,tZt,Oy),EKt._b=function(t){return qI(t)?tZ(this,t):!!IZ(this.f,t)},mG(h6t,"EPackageRegistryImpl",718),fPt(509,284,{105:1,92:1,90:1,147:1,191:1,56:1,2017:1,108:1,472:1,49:1,97:1,150:1,509:1,284:1,114:1,115:1},Py),EKt.Qg=function(t){return A_t(this,t)},EKt._g=function(t,e,n){var i;switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),this.Ab;case 1:return this.zb;case 2:return cN(),!!(256&this.Bb);case 3:return cN(),!!(512&this.Bb);case 4:return ndt(this.s);case 5:return ndt(this.t);case 6:return cN(),(i=this.t)>1||-1==i;case 7:return cN(),this.s>=1;case 8:return e?S_t(this):this.r;case 9:return this.q;case 10:return this.Db>>16==10?jV(this.Cb,59):null}return U8(this,t-hG((pKt(),mOe)),eet(jV(yst(this,16),26)||mOe,t),e,n)},EKt.hh=function(t,e,n){var i;switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Xgt(this.Ab,t,n);case 10:return this.Cb&&(n=(i=this.Db>>16)>=0?A_t(this,n):this.Cb.ih(this,-1-i,null,n)),xjt(this,t,10,n)}return jV(eet(jV(yst(this,16),26)||(pKt(),mOe),e),66).Nj().Qj(this,umt(this),e-hG((pKt(),mOe)),t,n)},EKt.jh=function(t,e,n){switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Fbt(this.Ab,t,n);case 9:return gG(this,n);case 10:return xjt(this,null,10,n)}return jV(eet(jV(yst(this,16),26)||(pKt(),mOe),e),66).Nj().Rj(this,umt(this),e-hG((pKt(),mOe)),t,n)},EKt.lh=function(t){var e;switch(t){case 0:return!!this.Ab&&0!=this.Ab.i;case 1:return null!=this.zb;case 2:return!(256&this.Bb);case 3:return!(512&this.Bb);case 4:return 0!=this.s;case 5:return 1!=this.t;case 6:return(e=this.t)>1||-1==e;case 7:return this.s>=1;case 8:return!!this.r&&!this.q.e&&0==wK(this.q).i;case 9:return!(!this.q||this.r&&!this.q.e&&0==wK(this.q).i);case 10:return!(this.Db>>16!=10||!jV(this.Cb,59))}return S3(this,t-hG((pKt(),mOe)),eet(jV(yst(this,16),26)||mOe,t))},EKt.zh=function(){return pKt(),mOe},mG(h6t,"EParameterImpl",509),fPt(99,449,{105:1,92:1,90:1,147:1,191:1,56:1,18:1,170:1,66:1,108:1,472:1,49:1,97:1,150:1,99:1,449:1,284:1,114:1,115:1,677:1},pR),EKt._g=function(t,e,n){var i,r;switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),this.Ab;case 1:return this.zb;case 2:return cN(),!!(256&this.Bb);case 3:return cN(),!!(512&this.Bb);case 4:return ndt(this.s);case 5:return ndt(this.t);case 6:return cN(),(r=this.t)>1||-1==r;case 7:return cN(),this.s>=1;case 8:return e?S_t(this):this.r;case 9:return this.q;case 10:return cN(),!!(this.Bb&v6t);case 11:return cN(),!!(this.Bb&E8t);case 12:return cN(),!!(this.Bb&FXt);case 13:return this.j;case 14:return zDt(this);case 15:return cN(),!!(this.Bb&x8t);case 16:return cN(),!!(this.Bb&lYt);case 17:return fJ(this);case 18:return cN(),!!(this.Bb&l6t);case 19:return cN(),!!((i=Awt(this))&&i.Bb&l6t);case 20:return cN(),!!(this.Bb&$Xt);case 21:return e?Awt(this):this.b;case 22:return e?Sct(this):R4(this);case 23:return!this.a&&(this.a=new LD(FPe,this,23)),this.a}return U8(this,t-hG((pKt(),bOe)),eet(jV(yst(this,16),26)||bOe,t),e,n)},EKt.lh=function(t){var e,n;switch(t){case 0:return!!this.Ab&&0!=this.Ab.i;case 1:return null!=this.zb;case 2:return!(256&this.Bb);case 3:return!(512&this.Bb);case 4:return 0!=this.s;case 5:return 1!=this.t;case 6:return(n=this.t)>1||-1==n;case 7:return this.s>=1;case 8:return!!this.r&&!this.q.e&&0==wK(this.q).i;case 9:return!(!this.q||this.r&&!this.q.e&&0==wK(this.q).i);case 10:return!(this.Bb&v6t);case 11:return!!(this.Bb&E8t);case 12:return!!(this.Bb&FXt);case 13:return null!=this.j;case 14:return null!=zDt(this);case 15:return!!(this.Bb&x8t);case 16:return!!(this.Bb&lYt);case 17:return!!fJ(this);case 18:return!!(this.Bb&l6t);case 19:return!!(e=Awt(this))&&!!(e.Bb&l6t);case 20:return!(this.Bb&$Xt);case 21:return!!this.b;case 22:return!!R4(this);case 23:return!!this.a&&0!=this.a.i}return S3(this,t-hG((pKt(),bOe)),eet(jV(yst(this,16),26)||bOe,t))},EKt.sh=function(t,e){var n;switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),cHt(this.Ab),!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void pG(this.Ab,jV(e,14));case 1:return void XJ(this,ER(e));case 2:return void Xht(this,Vv(kR(e)));case 3:return void Jht(this,Vv(kR(e)));case 4:return void Ont(this,jV(e,19).a);case 5:return void Dnt(this,jV(e,19).a);case 8:return void Sut(this,jV(e,138));case 9:return void((n=VEt(this,jV(e,87),null))&&n.Fi());case 10:return void Mdt(this,Vv(kR(e)));case 11:return void Ddt(this,Vv(kR(e)));case 12:return void Pdt(this,Vv(kR(e)));case 13:return void BI(this,ER(e));case 15:return void Odt(this,Vv(kR(e)));case 16:return void zdt(this,Vv(kR(e)));case 18:return void YJ(this,Vv(kR(e)));case 20:return void qdt(this,Vv(kR(e)));case 21:return void irt(this,jV(e,18));case 23:return!this.a&&(this.a=new LD(FPe,this,23)),cHt(this.a),!this.a&&(this.a=new LD(FPe,this,23)),void pG(this.a,jV(e,14))}Oft(this,t-hG((pKt(),bOe)),eet(jV(yst(this,16),26)||bOe,t),e)},EKt.zh=function(){return pKt(),bOe},EKt.Bh=function(t){var e;switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void cHt(this.Ab);case 1:return iD(this.Cb,88)&&MSt(T4(jV(this.Cb,88)),4),void Drt(this,null);case 2:return void Xht(this,!0);case 3:return void Jht(this,!0);case 4:return void Ont(this,0);case 5:return void Dnt(this,1);case 8:return void Sut(this,null);case 9:return void((e=VEt(this,null,null))&&e.Fi());case 10:return void Mdt(this,!0);case 11:return void Ddt(this,!1);case 12:return void Pdt(this,!1);case 13:return this.i=null,void ort(this,null);case 15:return void Odt(this,!1);case 16:return void zdt(this,!1);case 18:return Udt(this,!1),void(iD(this.Cb,88)&&MSt(T4(jV(this.Cb,88)),2));case 20:return void qdt(this,!0);case 21:return void irt(this,null);case 23:return!this.a&&(this.a=new LD(FPe,this,23)),void cHt(this.a)}zht(this,t-hG((pKt(),bOe)),eet(jV(yst(this,16),26)||bOe,t))},EKt.Gh=function(){Sct(this),yY(j9((SAt(),XOe),this)),S_t(this),this.Bb|=1},EKt.Lj=function(){return Awt(this)},EKt.qk=function(){var t;return!!(t=Awt(this))&&!!(t.Bb&l6t)},EKt.rk=function(){return!!(this.Bb&l6t)},EKt.sk=function(){return!!(this.Bb&$Xt)},EKt.nk=function(t,e){return this.c=null,Cht(this,t,e)},EKt.Ib=function(){var t;return 64&this.Db?kBt(this):((t=new lN(kBt(this))).a+=" (containment: ",wx(t,!!(this.Bb&l6t)),t.a+=", resolveProxies: ",wx(t,!!(this.Bb&$Xt)),t.a+=")",t.a)},mG(h6t,"EReferenceImpl",99),fPt(548,115,{105:1,42:1,92:1,90:1,133:1,56:1,108:1,49:1,97:1,548:1,114:1,115:1},Pc),EKt.Fb=function(t){return this===t},EKt.cd=function(){return this.b},EKt.dd=function(){return this.c},EKt.Hb=function(){return TN(this)},EKt.Uh=function(t){mH(this,ER(t))},EKt.ed=function(t){return Mz(this,ER(t))},EKt._g=function(t,e,n){switch(t){case 0:return this.b;case 1:return this.c}return U8(this,t-hG((pKt(),wOe)),eet(jV(yst(this,16),26)||wOe,t),e,n)},EKt.lh=function(t){switch(t){case 0:return null!=this.b;case 1:return null!=this.c}return S3(this,t-hG((pKt(),wOe)),eet(jV(yst(this,16),26)||wOe,t))},EKt.sh=function(t,e){switch(t){case 0:return void bH(this,ER(e));case 1:return void Bit(this,ER(e))}Oft(this,t-hG((pKt(),wOe)),eet(jV(yst(this,16),26)||wOe,t),e)},EKt.zh=function(){return pKt(),wOe},EKt.Bh=function(t){switch(t){case 0:return void Rit(this,null);case 1:return void Bit(this,null)}zht(this,t-hG((pKt(),wOe)),eet(jV(yst(this,16),26)||wOe,t))},EKt.Sh=function(){var t;return-1==this.a&&(t=this.b,this.a=null==t?0:bwt(t)),this.a},EKt.Th=function(t){this.a=t},EKt.Ib=function(){var t;return 64&this.Db?COt(this):((t=new lN(COt(this))).a+=" (key: ",iM(t,this.b),t.a+=", value: ",iM(t,this.c),t.a+=")",t.a)},EKt.a=-1,EKt.b=null,EKt.c=null;var NOe,LOe,ROe,BOe,FOe,jOe,$Oe,VOe,zOe,HOe,UOe=mG(h6t,"EStringToStringMapEntryImpl",548),qOe=hH(y8t,"FeatureMap/Entry/Internal");fPt(565,1,U8t),EKt.Ok=function(t){return this.Pk(jV(t,49))},EKt.Pk=function(t){return this.Ok(t)},EKt.Fb=function(t){var e,n;return this===t||!!iD(t,72)&&(e=jV(t,72)).ak()==this.c&&(null==(n=this.dd())?null==e.dd():Dht(n,e.dd()))},EKt.ak=function(){return this.c},EKt.Hb=function(){var t;return t=this.dd(),Jct(this.c)^(null==t?0:Jct(t))},EKt.Ib=function(){var t,e;return e=qet((t=this.c).Hj()).Ph(),t.ne(),(null!=e&&0!=e.length?e+":"+t.ne():t.ne())+"="+this.dd()},mG(h6t,"EStructuralFeatureImpl/BasicFeatureMapEntry",565),fPt(776,565,U8t,nB),EKt.Pk=function(t){return new nB(this.c,t)},EKt.dd=function(){return this.a},EKt.Qk=function(t,e,n){return Tot(this,t,this.a,e,n)},EKt.Rk=function(t,e,n){return Cot(this,t,this.a,e,n)},mG(h6t,"EStructuralFeatureImpl/ContainmentUpdatingFeatureMapEntry",776),fPt(1314,1,{},II),EKt.Pj=function(t,e,n,i,r){return jV(E8(t,this.b),215).nl(this.a).Wj(i)},EKt.Qj=function(t,e,n,i,r){return jV(E8(t,this.b),215).el(this.a,i,r)},EKt.Rj=function(t,e,n,i,r){return jV(E8(t,this.b),215).fl(this.a,i,r)},EKt.Sj=function(t,e,n){return jV(E8(t,this.b),215).nl(this.a).fj()},EKt.Tj=function(t,e,n,i){jV(E8(t,this.b),215).nl(this.a).Wb(i)},EKt.Uj=function(t,e,n){return jV(E8(t,this.b),215).nl(this.a)},EKt.Vj=function(t,e,n){jV(E8(t,this.b),215).nl(this.a).Xj()},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateFeatureMapDelegator",1314),fPt(89,1,{},TV,uX,LZ,d5),EKt.Pj=function(t,e,n,i,r){var o;if(null==(o=e.Ch(n))&&e.Dh(n,o=nKt(this,t)),!r)switch(this.e){case 50:case 41:return jV(o,589).sj();case 40:return jV(o,215).kl()}return o},EKt.Qj=function(t,e,n,i,r){var o;return null==(o=e.Ch(n))&&e.Dh(n,o=nKt(this,t)),jV(o,69).lk(i,r)},EKt.Rj=function(t,e,n,i,r){var o;return null!=(o=e.Ch(n))&&(r=jV(o,69).mk(i,r)),r},EKt.Sj=function(t,e,n){var i;return null!=(i=e.Ch(n))&&jV(i,76).fj()},EKt.Tj=function(t,e,n,i){var r;!(r=jV(e.Ch(n),76))&&e.Dh(n,r=nKt(this,t)),r.Wb(i)},EKt.Uj=function(t,e,n){var i;return null==(i=e.Ch(n))&&e.Dh(n,i=nKt(this,t)),iD(i,76)?jV(i,76):new _b(jV(e.Ch(n),15))},EKt.Vj=function(t,e,n){var i;!(i=jV(e.Ch(n),76))&&e.Dh(n,i=nKt(this,t)),i.Xj()},EKt.b=0,EKt.e=0,mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateMany",89),fPt(504,1,{}),EKt.Qj=function(t,e,n,i,r){throw $b(new pw)},EKt.Rj=function(t,e,n,i,r){throw $b(new pw)},EKt.Uj=function(t,e,n){return new hX(this,t,e,n)},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingle",504),fPt(1331,1,v8t,hX),EKt.Wj=function(t){return this.a.Pj(this.c,this.d,this.b,t,!0)},EKt.fj=function(){return this.a.Sj(this.c,this.d,this.b)},EKt.Wb=function(t){this.a.Tj(this.c,this.d,this.b,t)},EKt.Xj=function(){this.a.Vj(this.c,this.d,this.b)},EKt.b=0,mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingle/1",1331),fPt(769,504,{},bQ),EKt.Pj=function(t,e,n,i,r){return pFt(t,t.eh(),t.Vg())==this.b?this.sk()&&i?rPt(t):t.eh():null},EKt.Qj=function(t,e,n,i,r){var o,s;return t.eh()&&(r=(o=t.Vg())>=0?t.Qg(r):t.eh().ih(t,-1-o,null,r)),s=Mgt(t.Tg(),this.e),t.Sg(i,s,r)},EKt.Rj=function(t,e,n,i,r){var o;return o=Mgt(t.Tg(),this.e),t.Sg(null,o,r)},EKt.Sj=function(t,e,n){var i;return i=Mgt(t.Tg(),this.e),!!t.eh()&&t.Vg()==i},EKt.Tj=function(t,e,n,i){var r,o,s,a,c;if(null!=i&&!T$t(this.a,i))throw $b(new Rv(q8t+(iD(i,56)?gxt(jV(i,56).Tg()):oet(tlt(i)))+W8t+this.a+"'"));if(r=t.eh(),s=Mgt(t.Tg(),this.e),zI(i)!==zI(r)||t.Vg()!=s&&null!=i){if(b_t(t,jV(i,56)))throw $b(new Bv(f6t+t.Ib()));c=null,r&&(c=(o=t.Vg())>=0?t.Qg(c):t.eh().ih(t,-1-o,null,c)),(a=jV(i,49))&&(c=a.gh(t,Mgt(a.Tg(),this.b),null,c)),(c=t.Sg(a,s,c))&&c.Fi()}else t.Lg()&&t.Mg()&&dst(t,new Qq(t,1,s,i,i))},EKt.Vj=function(t,e,n){var i,r,o;t.eh()?(o=(i=t.Vg())>=0?t.Qg(null):t.eh().ih(t,-1-i,null,null),r=Mgt(t.Tg(),this.e),(o=t.Sg(null,r,o))&&o.Fi()):t.Lg()&&t.Mg()&&dst(t,new Jq(t,1,this.e,null,null))},EKt.sk=function(){return!1},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleContainer",769),fPt(1315,769,{},CV),EKt.sk=function(){return!0},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleContainerResolving",1315),fPt(563,504,{}),EKt.Pj=function(t,e,n,i,r){var o;return null==(o=e.Ch(n))?this.b:zI(o)===zI(NOe)?null:o},EKt.Sj=function(t,e,n){var i;return null!=(i=e.Ch(n))&&(zI(i)===zI(NOe)||!Dht(i,this.b))},EKt.Tj=function(t,e,n,i){var r,o;t.Lg()&&t.Mg()?(r=null==(o=e.Ch(n))?this.b:zI(o)===zI(NOe)?null:o,null==i?null!=this.c?(e.Dh(n,null),i=this.b):null!=this.b?e.Dh(n,NOe):e.Dh(n,null):(this.Sk(i),e.Dh(n,i)),dst(t,this.d.Tk(t,1,this.e,r,i))):null==i?null!=this.c?e.Dh(n,null):null!=this.b?e.Dh(n,NOe):e.Dh(n,null):(this.Sk(i),e.Dh(n,i))},EKt.Vj=function(t,e,n){var i,r;t.Lg()&&t.Mg()?(i=null==(r=e.Ch(n))?this.b:zI(r)===zI(NOe)?null:r,e.Eh(n),dst(t,this.d.Tk(t,1,this.e,i,this.b))):e.Eh(n)},EKt.Sk=function(t){throw $b(new hw)},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleData",563),fPt(G8t,1,{},Oc),EKt.Tk=function(t,e,n,i,r){return new Jq(t,e,n,i,r)},EKt.Uk=function(t,e,n,i,r,o){return new zX(t,e,n,i,r,o)},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleData/NotificationCreator",G8t),fPt(1332,G8t,{},Dc),EKt.Tk=function(t,e,n,i,r){return new Q4(t,e,n,Vv(kR(i)),Vv(kR(r)))},EKt.Uk=function(t,e,n,i,r,o){return new P0(t,e,n,Vv(kR(i)),Vv(kR(r)),o)},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleData/NotificationCreator/1",1332),fPt(1333,G8t,{},Nc),EKt.Tk=function(t,e,n,i,r){return new Vnt(t,e,n,jV(i,217).a,jV(r,217).a)},EKt.Uk=function(t,e,n,i,r,o){return new E0(t,e,n,jV(i,217).a,jV(r,217).a,o)},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleData/NotificationCreator/2",1333),fPt(1334,G8t,{},Lc),EKt.Tk=function(t,e,n,i,r){return new znt(t,e,n,jV(i,172).a,jV(r,172).a)},EKt.Uk=function(t,e,n,i,r,o){return new T0(t,e,n,jV(i,172).a,jV(r,172).a,o)},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleData/NotificationCreator/3",1334),fPt(1335,G8t,{},Rc),EKt.Tk=function(t,e,n,i,r){return new X4(t,e,n,zv(xR(i)),zv(xR(r)))},EKt.Uk=function(t,e,n,i,r,o){return new C0(t,e,n,zv(xR(i)),zv(xR(r)),o)},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleData/NotificationCreator/4",1335),fPt(1336,G8t,{},Bc),EKt.Tk=function(t,e,n,i,r){return new qnt(t,e,n,jV(i,155).a,jV(r,155).a)},EKt.Uk=function(t,e,n,i,r,o){return new A0(t,e,n,jV(i,155).a,jV(r,155).a,o)},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleData/NotificationCreator/5",1336),fPt(1337,G8t,{},Fc),EKt.Tk=function(t,e,n,i,r){return new Z4(t,e,n,jV(i,19).a,jV(r,19).a)},EKt.Uk=function(t,e,n,i,r,o){return new S0(t,e,n,jV(i,19).a,jV(r,19).a,o)},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleData/NotificationCreator/6",1337),fPt(1338,G8t,{},jc),EKt.Tk=function(t,e,n,i,r){return new Hnt(t,e,n,jV(i,162).a,jV(r,162).a)},EKt.Uk=function(t,e,n,i,r,o){return new I0(t,e,n,jV(i,162).a,jV(r,162).a,o)},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleData/NotificationCreator/7",1338),fPt(1339,G8t,{},$c),EKt.Tk=function(t,e,n,i,r){return new Unt(t,e,n,jV(i,184).a,jV(r,184).a)},EKt.Uk=function(t,e,n,i,r,o){return new M0(t,e,n,jV(i,184).a,jV(r,184).a,o)},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleData/NotificationCreator/8",1339),fPt(1317,563,{},dX),EKt.Sk=function(t){if(!this.a.wj(t))throw $b(new Rv(q8t+tlt(t)+W8t+this.a+"'"))},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleDataDynamic",1317),fPt(1318,563,{},ZU),EKt.Sk=function(t){},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleDataStatic",1318),fPt(770,563,{}),EKt.Sj=function(t,e,n){return null!=e.Ch(n)},EKt.Tj=function(t,e,n,i){var r,o;t.Lg()&&t.Mg()?(r=!0,null==(o=e.Ch(n))?(r=!1,o=this.b):zI(o)===zI(NOe)&&(o=null),null==i?null!=this.c?(e.Dh(n,null),i=this.b):e.Dh(n,NOe):(this.Sk(i),e.Dh(n,i)),dst(t,this.d.Uk(t,1,this.e,o,i,!r))):null==i?null!=this.c?e.Dh(n,null):e.Dh(n,NOe):(this.Sk(i),e.Dh(n,i))},EKt.Vj=function(t,e,n){var i,r;t.Lg()&&t.Mg()?(i=!0,null==(r=e.Ch(n))?(i=!1,r=this.b):zI(r)===zI(NOe)&&(r=null),e.Eh(n),dst(t,this.d.Uk(t,2,this.e,r,this.b,i))):e.Eh(n)},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleDataUnsettable",770),fPt(1319,770,{},fX),EKt.Sk=function(t){if(!this.a.wj(t))throw $b(new Rv(q8t+tlt(t)+W8t+this.a+"'"))},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleDataUnsettableDynamic",1319),fPt(1320,770,{},QU),EKt.Sk=function(t){},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleDataUnsettableStatic",1320),fPt(398,504,{},iU),EKt.Pj=function(t,e,n,i,r){var o,s,a,c,l;if(l=e.Ch(n),this.Kj()&&zI(l)===zI(NOe))return null;if(this.sk()&&i&&null!=l){if((a=jV(l,49)).kh()&&a!=(c=tht(t,a))){if(!T$t(this.a,c))throw $b(new Rv(q8t+tlt(c)+W8t+this.a+"'"));e.Dh(n,l=c),this.rk()&&(o=jV(c,49),s=a.ih(t,this.b?Mgt(a.Tg(),this.b):-1-Mgt(t.Tg(),this.e),null,null),!o.eh()&&(s=o.gh(t,this.b?Mgt(o.Tg(),this.b):-1-Mgt(t.Tg(),this.e),null,s)),s&&s.Fi()),t.Lg()&&t.Mg()&&dst(t,new Jq(t,9,this.e,a,c))}return l}return l},EKt.Qj=function(t,e,n,i,r){var o,s;return zI(s=e.Ch(n))===zI(NOe)&&(s=null),e.Dh(n,i),this.bj()?zI(s)!==zI(i)&&null!=s&&(r=(o=jV(s,49)).ih(t,Mgt(o.Tg(),this.b),null,r)):this.rk()&&null!=s&&(r=jV(s,49).ih(t,-1-Mgt(t.Tg(),this.e),null,r)),t.Lg()&&t.Mg()&&(!r&&(r=new Fk(4)),r.Ei(new Jq(t,1,this.e,s,i))),r},EKt.Rj=function(t,e,n,i,r){var o;return zI(o=e.Ch(n))===zI(NOe)&&(o=null),e.Eh(n),t.Lg()&&t.Mg()&&(!r&&(r=new Fk(4)),this.Kj()?r.Ei(new Jq(t,2,this.e,o,null)):r.Ei(new Jq(t,1,this.e,o,null))),r},EKt.Sj=function(t,e,n){return null!=e.Ch(n)},EKt.Tj=function(t,e,n,i){var r,o,s,a,c;if(null!=i&&!T$t(this.a,i))throw $b(new Rv(q8t+(iD(i,56)?gxt(jV(i,56).Tg()):oet(tlt(i)))+W8t+this.a+"'"));a=null!=(c=e.Ch(n)),this.Kj()&&zI(c)===zI(NOe)&&(c=null),s=null,this.bj()?zI(c)!==zI(i)&&(null!=c&&(s=(r=jV(c,49)).ih(t,Mgt(r.Tg(),this.b),null,s)),null!=i&&(s=(r=jV(i,49)).gh(t,Mgt(r.Tg(),this.b),null,s))):this.rk()&&zI(c)!==zI(i)&&(null!=c&&(s=jV(c,49).ih(t,-1-Mgt(t.Tg(),this.e),null,s)),null!=i&&(s=jV(i,49).gh(t,-1-Mgt(t.Tg(),this.e),null,s))),null==i&&this.Kj()?e.Dh(n,NOe):e.Dh(n,i),t.Lg()&&t.Mg()?(o=new zX(t,1,this.e,c,i,this.Kj()&&!a),s?(s.Ei(o),s.Fi()):dst(t,o)):s&&s.Fi()},EKt.Vj=function(t,e,n){var i,r,o,s,a;s=null!=(a=e.Ch(n)),this.Kj()&&zI(a)===zI(NOe)&&(a=null),o=null,null!=a&&(this.bj()?o=(i=jV(a,49)).ih(t,Mgt(i.Tg(),this.b),null,o):this.rk()&&(o=jV(a,49).ih(t,-1-Mgt(t.Tg(),this.e),null,o))),e.Eh(n),t.Lg()&&t.Mg()?(r=new zX(t,this.Kj()?2:1,this.e,a,null,s),o?(o.Ei(r),o.Fi()):dst(t,r)):o&&o.Fi()},EKt.bj=function(){return!1},EKt.rk=function(){return!1},EKt.sk=function(){return!1},EKt.Kj=function(){return!1},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleEObject",398),fPt(564,398,{},ZL),EKt.rk=function(){return!0},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleEObjectContainment",564),fPt(1323,564,{},QL),EKt.sk=function(){return!0},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleEObjectContainmentResolving",1323),fPt(772,564,{},JL),EKt.Kj=function(){return!0},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleEObjectContainmentUnsettable",772),fPt(1325,772,{},tR),EKt.sk=function(){return!0},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleEObjectContainmentUnsettableResolving",1325),fPt(640,564,{},AV),EKt.bj=function(){return!0},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleEObjectContainmentWithInverse",640),fPt(1324,640,{},MV),EKt.sk=function(){return!0},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleEObjectContainmentWithInverseResolving",1324),fPt(773,640,{},PV),EKt.Kj=function(){return!0},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleEObjectContainmentWithInverseUnsettable",773),fPt(1326,773,{},OV),EKt.sk=function(){return!0},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleEObjectContainmentWithInverseUnsettableResolving",1326),fPt(641,398,{},eR),EKt.sk=function(){return!0},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleEObjectResolving",641),fPt(1327,641,{},nR),EKt.Kj=function(){return!0},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleEObjectResolvingUnsettable",1327),fPt(774,641,{},SV),EKt.bj=function(){return!0},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleEObjectResolvingWithInverse",774),fPt(1328,774,{},DV),EKt.Kj=function(){return!0},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleEObjectResolvingWithInverseUnsettable",1328),fPt(1321,398,{},iR),EKt.Kj=function(){return!0},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleEObjectUnsettable",1321),fPt(771,398,{},IV),EKt.bj=function(){return!0},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleEObjectWithInverse",771),fPt(1322,771,{},NV),EKt.Kj=function(){return!0},mG(h6t,"EStructuralFeatureImpl/InternalSettingDelegateSingleEObjectWithInverseUnsettable",1322),fPt(775,565,U8t,rK),EKt.Pk=function(t){return new rK(this.a,this.c,t)},EKt.dd=function(){return this.b},EKt.Qk=function(t,e,n){return N7(this,t,this.b,n)},EKt.Rk=function(t,e,n){return L7(this,t,this.b,n)},mG(h6t,"EStructuralFeatureImpl/InverseUpdatingFeatureMapEntry",775),fPt(1329,1,v8t,_b),EKt.Wj=function(t){return this.a},EKt.fj=function(){return iD(this.a,95)?jV(this.a,95).fj():!this.a.dc()},EKt.Wb=function(t){this.a.$b(),this.a.Gc(jV(t,15))},EKt.Xj=function(){iD(this.a,95)?jV(this.a,95).Xj():this.a.$b()},mG(h6t,"EStructuralFeatureImpl/SettingMany",1329),fPt(1330,565,U8t,g5),EKt.Ok=function(t){return new iB((qHt(),BDe),this.b.Ih(this.a,t))},EKt.dd=function(){return null},EKt.Qk=function(t,e,n){return n},EKt.Rk=function(t,e,n){return n},mG(h6t,"EStructuralFeatureImpl/SimpleContentFeatureMapEntry",1330),fPt(642,565,U8t,iB),EKt.Ok=function(t){return new iB(this.c,t)},EKt.dd=function(){return this.a},EKt.Qk=function(t,e,n){return n},EKt.Rk=function(t,e,n){return n},mG(h6t,"EStructuralFeatureImpl/SimpleFeatureMapEntry",642),fPt(391,497,l7t,Vc),EKt.ri=function(t){return D7($Pe,VKt,26,t,0,1)},EKt.ni=function(){return!1},mG(h6t,"ESuperAdapter/1",391),fPt(444,438,{105:1,92:1,90:1,147:1,191:1,56:1,108:1,836:1,49:1,97:1,150:1,444:1,114:1,115:1},zc),EKt._g=function(t,e,n){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),this.Ab;case 1:return this.zb;case 2:return!this.a&&(this.a=new rU(this,WPe,this)),this.a}return U8(this,t-hG((pKt(),_Oe)),eet(jV(yst(this,16),26)||_Oe,t),e,n)},EKt.jh=function(t,e,n){switch(e){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),Fbt(this.Ab,t,n);case 2:return!this.a&&(this.a=new rU(this,WPe,this)),Fbt(this.a,t,n)}return jV(eet(jV(yst(this,16),26)||(pKt(),_Oe),e),66).Nj().Rj(this,umt(this),e-hG((pKt(),_Oe)),t,n)},EKt.lh=function(t){switch(t){case 0:return!!this.Ab&&0!=this.Ab.i;case 1:return null!=this.zb;case 2:return!!this.a&&0!=this.a.i}return S3(this,t-hG((pKt(),_Oe)),eet(jV(yst(this,16),26)||_Oe,t))},EKt.sh=function(t,e){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),cHt(this.Ab),!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void pG(this.Ab,jV(e,14));case 1:return void Drt(this,ER(e));case 2:return!this.a&&(this.a=new rU(this,WPe,this)),cHt(this.a),!this.a&&(this.a=new rU(this,WPe,this)),void pG(this.a,jV(e,14))}Oft(this,t-hG((pKt(),_Oe)),eet(jV(yst(this,16),26)||_Oe,t),e)},EKt.zh=function(){return pKt(),_Oe},EKt.Bh=function(t){switch(t){case 0:return!this.Ab&&(this.Ab=new tW(LPe,this,0,3)),void cHt(this.Ab);case 1:return void Drt(this,null);case 2:return!this.a&&(this.a=new rU(this,WPe,this)),void cHt(this.a)}zht(this,t-hG((pKt(),_Oe)),eet(jV(yst(this,16),26)||_Oe,t))},mG(h6t,"ETypeParameterImpl",444),fPt(445,85,R8t,rU),EKt.cj=function(t,e){return OEt(this,jV(t,87),e)},EKt.dj=function(t,e){return DEt(this,jV(t,87),e)},mG(h6t,"ETypeParameterImpl/1",445),fPt(634,43,tZt,Dy),EKt.ec=function(){return new kb(this)},mG(h6t,"ETypeParameterImpl/2",634),fPt(556,JKt,tYt,kb),EKt.Fc=function(t){return YB(this,jV(t,87))},EKt.Gc=function(t){var e,n,i;for(i=!1,n=t.Kc();n.Ob();)e=jV(n.Pb(),87),null==GK(this.a,e,"")&&(i=!0);return i},EKt.$b=function(){MW(this.a)},EKt.Hc=function(t){return cW(this.a,t)},EKt.Kc=function(){return new xb(new slt(new Tf(this.a).a))},EKt.Mc=function(t){return B6(this,t)},EKt.gc=function(){return OE(this.a)},mG(h6t,"ETypeParameterImpl/2/1",556),fPt(557,1,YKt,xb),EKt.Nb=function(t){lW(this,t)},EKt.Pb=function(){return jV(tnt(this.a).cd(),87)},EKt.Ob=function(){return this.a.b},EKt.Qb=function(){s8(this.a)},mG(h6t,"ETypeParameterImpl/2/1/1",557),fPt(1276,43,tZt,Ny),EKt._b=function(t){return qI(t)?tZ(this,t):!!IZ(this.f,t)},EKt.xc=function(t){var e;return iD(e=qI(t)?EQ(this,t):VI(IZ(this.f,t)),837)?(e=jV(e,837)._j(),GK(this,jV(t,235),e),e):null!=e?e:null==t?(XT(),eDe):null},mG(h6t,"EValidatorRegistryImpl",1276),fPt(1313,704,{105:1,92:1,90:1,471:1,147:1,56:1,108:1,1941:1,49:1,97:1,150:1,114:1,115:1},Hc),EKt.Ih=function(t,e){switch(t.yj()){case 21:case 22:case 23:case 24:case 26:case 31:case 32:case 37:case 38:case 39:case 40:case 43:case 44:case 48:case 49:case 20:return null==e?null:$ft(e);case 25:return Wet(e);case 27:return q8(e);case 28:return W8(e);case 29:return null==e?null:$O(AMe[0],jV(e,199));case 41:return null==e?"":Qk(jV(e,290));case 42:return $ft(e);case 50:return ER(e);default:throw $b(new Bv(g6t+t.ne()+p6t))}},EKt.Jh=function(t){var e;switch(-1==t.G&&(t.G=(e=qet(t))?swt(e.Mh(),t):-1),t.G){case 0:return new Sy;case 1:return new kc;case 2:return new Rh;case 4:return new _w;case 5:return new Iy;case 6:return new vw;case 7:return new Nh;case 10:return new vc;case 11:return new My;case 12:return new mZ;case 13:return new Py;case 14:return new pR;case 17:return new Pc;case 18:return new Rb;case 19:return new zc;default:throw $b(new Bv(w6t+t.zb+p6t))}},EKt.Kh=function(t,e){switch(t.yj()){case 20:return null==e?null:new dx(e);case 21:return null==e?null:new MP(e);case 23:case 22:return null==e?null:Qpt(e);case 26:case 24:return null==e?null:Ttt(hjt(e,-128,127)<<24>>24);case 25:return gOt(e);case 27:return Tvt(e);case 28:return Cvt(e);case 29:return pTt(e);case 32:case 31:return null==e?null:dCt(e);case 38:case 37:return null==e?null:new Nw(e);case 40:case 39:return null==e?null:ndt(hjt(e,FYt,LKt));case 41:case 42:return null;case 44:case 43:return null==e?null:_mt(iWt(e));case 49:case 48:return null==e?null:idt(hjt(e,Y8t,32767)<<16>>16);case 50:return e;default:throw $b(new Bv(g6t+t.ne()+p6t))}},mG(h6t,"EcoreFactoryImpl",1313),fPt(547,179,{105:1,92:1,90:1,147:1,191:1,56:1,235:1,108:1,1939:1,49:1,97:1,150:1,179:1,547:1,114:1,115:1,675:1},UK),EKt.gb=!1,EKt.hb=!1;var WOe,GOe=!1;mG(h6t,"EcorePackageImpl",547),fPt(1184,1,{837:1},Uc),EKt._j=function(){return aN(),nDe},mG(h6t,"EcorePackageImpl/1",1184),fPt(1193,1,c9t,qc),EKt.wj=function(t){return iD(t,147)},EKt.xj=function(t){return D7(FMe,VKt,147,t,0,1)},mG(h6t,"EcorePackageImpl/10",1193),fPt(1194,1,c9t,Wc),EKt.wj=function(t){return iD(t,191)},EKt.xj=function(t){return D7($Me,VKt,191,t,0,1)},mG(h6t,"EcorePackageImpl/11",1194),fPt(1195,1,c9t,Gc),EKt.wj=function(t){return iD(t,56)},EKt.xj=function(t){return D7(MMe,VKt,56,t,0,1)},mG(h6t,"EcorePackageImpl/12",1195),fPt(1196,1,c9t,Kc),EKt.wj=function(t){return iD(t,399)},EKt.xj=function(t){return D7(GPe,N8t,59,t,0,1)},mG(h6t,"EcorePackageImpl/13",1196),fPt(1197,1,c9t,Yc),EKt.wj=function(t){return iD(t,235)},EKt.xj=function(t){return D7(VMe,VKt,235,t,0,1)},mG(h6t,"EcorePackageImpl/14",1197),fPt(1198,1,c9t,Xc),EKt.wj=function(t){return iD(t,509)},EKt.xj=function(t){return D7(KPe,VKt,2017,t,0,1)},mG(h6t,"EcorePackageImpl/15",1198),fPt(1199,1,c9t,Zc),EKt.wj=function(t){return iD(t,99)},EKt.xj=function(t){return D7(YPe,D8t,18,t,0,1)},mG(h6t,"EcorePackageImpl/16",1199),fPt(1200,1,c9t,Qc),EKt.wj=function(t){return iD(t,170)},EKt.xj=function(t){return D7(BPe,D8t,170,t,0,1)},mG(h6t,"EcorePackageImpl/17",1200),fPt(1201,1,c9t,Jc),EKt.wj=function(t){return iD(t,472)},EKt.xj=function(t){return D7(RPe,VKt,472,t,0,1)},mG(h6t,"EcorePackageImpl/18",1201),fPt(1202,1,c9t,tl),EKt.wj=function(t){return iD(t,548)},EKt.xj=function(t){return D7(UOe,o8t,548,t,0,1)},mG(h6t,"EcorePackageImpl/19",1202),fPt(1185,1,c9t,el),EKt.wj=function(t){return iD(t,322)},EKt.xj=function(t){return D7(FPe,D8t,34,t,0,1)},mG(h6t,"EcorePackageImpl/2",1185),fPt(1203,1,c9t,nl),EKt.wj=function(t){return iD(t,241)},EKt.xj=function(t){return D7(WPe,$8t,87,t,0,1)},mG(h6t,"EcorePackageImpl/20",1203),fPt(1204,1,c9t,il),EKt.wj=function(t){return iD(t,444)},EKt.xj=function(t){return D7(AOe,VKt,836,t,0,1)},mG(h6t,"EcorePackageImpl/21",1204),fPt(1205,1,c9t,rl),EKt.wj=function(t){return HI(t)},EKt.xj=function(t){return D7(vee,cYt,476,t,8,1)},mG(h6t,"EcorePackageImpl/22",1205),fPt(1206,1,c9t,ol),EKt.wj=function(t){return iD(t,190)},EKt.xj=function(t){return D7(PNe,cYt,190,t,0,2)},mG(h6t,"EcorePackageImpl/23",1206),fPt(1207,1,c9t,sl),EKt.wj=function(t){return iD(t,217)},EKt.xj=function(t){return D7(xee,cYt,217,t,0,1)},mG(h6t,"EcorePackageImpl/24",1207),fPt(1208,1,c9t,al),EKt.wj=function(t){return iD(t,172)},EKt.xj=function(t){return D7(Tee,cYt,172,t,0,1)},mG(h6t,"EcorePackageImpl/25",1208),fPt(1209,1,c9t,cl),EKt.wj=function(t){return iD(t,199)},EKt.xj=function(t){return D7(wee,cYt,199,t,0,1)},mG(h6t,"EcorePackageImpl/26",1209),fPt(1210,1,c9t,ll),EKt.wj=function(t){return!1},EKt.xj=function(t){return D7(RNe,VKt,2110,t,0,1)},mG(h6t,"EcorePackageImpl/27",1210),fPt(1211,1,c9t,ul),EKt.wj=function(t){return UI(t)},EKt.xj=function(t){return D7(Cee,cYt,333,t,7,1)},mG(h6t,"EcorePackageImpl/28",1211),fPt(1212,1,c9t,hl),EKt.wj=function(t){return iD(t,58)},EKt.xj=function(t){return D7(rPe,JQt,58,t,0,1)},mG(h6t,"EcorePackageImpl/29",1212),fPt(1186,1,c9t,dl),EKt.wj=function(t){return iD(t,510)},EKt.xj=function(t){return D7(LPe,{3:1,4:1,5:1,1934:1},590,t,0,1)},mG(h6t,"EcorePackageImpl/3",1186),fPt(1213,1,c9t,fl),EKt.wj=function(t){return iD(t,573)},EKt.xj=function(t){return D7(bPe,VKt,1940,t,0,1)},mG(h6t,"EcorePackageImpl/30",1213),fPt(1214,1,c9t,gl),EKt.wj=function(t){return iD(t,153)},EKt.xj=function(t){return D7(uDe,JQt,153,t,0,1)},mG(h6t,"EcorePackageImpl/31",1214),fPt(1215,1,c9t,pl),EKt.wj=function(t){return iD(t,72)},EKt.xj=function(t){return D7(IOe,l9t,72,t,0,1)},mG(h6t,"EcorePackageImpl/32",1215),fPt(1216,1,c9t,ml),EKt.wj=function(t){return iD(t,155)},EKt.xj=function(t){return D7(Aee,cYt,155,t,0,1)},mG(h6t,"EcorePackageImpl/33",1216),fPt(1217,1,c9t,bl),EKt.wj=function(t){return iD(t,19)},EKt.xj=function(t){return D7(Mee,cYt,19,t,0,1)},mG(h6t,"EcorePackageImpl/34",1217),fPt(1218,1,c9t,wl),EKt.wj=function(t){return iD(t,290)},EKt.xj=function(t){return D7(Pte,VKt,290,t,0,1)},mG(h6t,"EcorePackageImpl/35",1218),fPt(1219,1,c9t,yl),EKt.wj=function(t){return iD(t,162)},EKt.xj=function(t){return D7(Ree,cYt,162,t,0,1)},mG(h6t,"EcorePackageImpl/36",1219),fPt(1220,1,c9t,vl),EKt.wj=function(t){return iD(t,83)},EKt.xj=function(t){return D7(Dte,VKt,83,t,0,1)},mG(h6t,"EcorePackageImpl/37",1220),fPt(1221,1,c9t,_l),EKt.wj=function(t){return iD(t,591)},EKt.xj=function(t){return D7(tDe,VKt,591,t,0,1)},mG(h6t,"EcorePackageImpl/38",1221),fPt(1222,1,c9t,kl),EKt.wj=function(t){return!1},EKt.xj=function(t){return D7(BNe,VKt,2111,t,0,1)},mG(h6t,"EcorePackageImpl/39",1222),fPt(1187,1,c9t,xl),EKt.wj=function(t){return iD(t,88)},EKt.xj=function(t){return D7($Pe,VKt,26,t,0,1)},mG(h6t,"EcorePackageImpl/4",1187),fPt(1223,1,c9t,El),EKt.wj=function(t){return iD(t,184)},EKt.xj=function(t){return D7(Fee,cYt,184,t,0,1)},mG(h6t,"EcorePackageImpl/40",1223),fPt(1224,1,c9t,Tl),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(h6t,"EcorePackageImpl/41",1224),fPt(1225,1,c9t,Cl),EKt.wj=function(t){return iD(t,588)},EKt.xj=function(t){return D7(cPe,VKt,588,t,0,1)},mG(h6t,"EcorePackageImpl/42",1225),fPt(1226,1,c9t,Al),EKt.wj=function(t){return!1},EKt.xj=function(t){return D7(FNe,cYt,2112,t,0,1)},mG(h6t,"EcorePackageImpl/43",1226),fPt(1227,1,c9t,Sl),EKt.wj=function(t){return iD(t,42)},EKt.xj=function(t){return D7(Vte,vYt,42,t,0,1)},mG(h6t,"EcorePackageImpl/44",1227),fPt(1188,1,c9t,Il),EKt.wj=function(t){return iD(t,138)},EKt.xj=function(t){return D7(jPe,VKt,138,t,0,1)},mG(h6t,"EcorePackageImpl/5",1188),fPt(1189,1,c9t,Ml),EKt.wj=function(t){return iD(t,148)},EKt.xj=function(t){return D7(VPe,VKt,148,t,0,1)},mG(h6t,"EcorePackageImpl/6",1189),fPt(1190,1,c9t,Pl),EKt.wj=function(t){return iD(t,457)},EKt.xj=function(t){return D7(UPe,VKt,671,t,0,1)},mG(h6t,"EcorePackageImpl/7",1190),fPt(1191,1,c9t,Ol),EKt.wj=function(t){return iD(t,573)},EKt.xj=function(t){return D7(qPe,VKt,678,t,0,1)},mG(h6t,"EcorePackageImpl/8",1191),fPt(1192,1,c9t,Dl),EKt.wj=function(t){return iD(t,471)},EKt.xj=function(t){return D7(jMe,VKt,471,t,0,1)},mG(h6t,"EcorePackageImpl/9",1192),fPt(1025,1982,i8t,Dv),EKt.bi=function(t,e){Mht(this,jV(e,415))},EKt.fi=function(t,e){eSt(this,t,jV(e,415))},mG(h6t,"MinimalEObjectImpl/1ArrayDelegatingAdapterList",1025),fPt(1026,143,t8t,oK),EKt.Ai=function(){return this.a.a},mG(h6t,"MinimalEObjectImpl/1ArrayDelegatingAdapterList/1",1026),fPt(1053,1052,{},sO),mG("org.eclipse.emf.ecore.plugin","EcorePlugin",1053);var KOe,YOe,XOe,ZOe,QOe,JOe,tDe=hH(u9t,"Resource");fPt(781,1378,h9t),EKt.Yk=function(t){},EKt.Zk=function(t){},EKt.Vk=function(){return!this.a&&(this.a=new Eb(this)),this.a},EKt.Wk=function(t){var e,n,i,r,o;if((i=t.length)>0){if(h1(0,t.length),47==t.charCodeAt(0)){for(o=new X6(4),r=1,e=1;e<i;++e)h1(e,t.length),47==t.charCodeAt(e)&&(WV(o,r==e?"":t.substr(r,e-r)),r=e+1);return WV(o,t.substr(r)),akt(this,o)}h1(i-1,t.length),63==t.charCodeAt(i-1)&&(n=xF(t,XEt(63),i-2))>0&&(t=t.substr(0,n))}return _It(this,t)},EKt.Xk=function(){return this.c},EKt.Ib=function(){return Qk(this.gm)+"@"+(Jct(this)>>>0).toString(16)+" uri='"+this.d+"'"},EKt.b=!1,mG(d9t,"ResourceImpl",781),fPt(1379,781,h9t,Cb),mG(d9t,"BinaryResourceImpl",1379),fPt(1169,694,u7t),EKt.si=function(t){return iD(t,56)?kZ(this,jV(t,56)):iD(t,591)?new ID(jV(t,591).Vk()):zI(t)===zI(this.f)?jV(t,14).Kc():(fR(),gPe.a)},EKt.Ob=function(){return dMt(this)},EKt.a=!1,mG(y8t,"EcoreUtil/ContentTreeIterator",1169),fPt(1380,1169,u7t,nW),EKt.si=function(t){return zI(t)===zI(this.f)?jV(t,15).Kc():new F2(jV(t,56))},mG(d9t,"ResourceImpl/5",1380),fPt(648,1994,L8t,Eb),EKt.Hc=function(t){return this.i<=4?Tkt(this,t):iD(t,49)&&jV(t,49).Zg()==this.a},EKt.bi=function(t,e){t==this.i-1&&(this.a.b||(this.a.b=!0))},EKt.di=function(t,e){0==t?this.a.b||(this.a.b=!0):P7(this,t,e)},EKt.fi=function(t,e){},EKt.gi=function(t,e,n){},EKt.aj=function(){return 2},EKt.Ai=function(){return this.a},EKt.bj=function(){return!0},EKt.cj=function(t,e){return e=jV(t,49).wh(this.a,e)},EKt.dj=function(t,e){return jV(t,49).wh(null,e)},EKt.ej=function(){return!1},EKt.hi=function(){return!0},EKt.ri=function(t){return D7(MMe,VKt,56,t,0,1)},EKt.ni=function(){return!1},mG(d9t,"ResourceImpl/ContentsEList",648),fPt(957,1964,OYt,Tb),EKt.Zc=function(t){return this.a._h(t)},EKt.gc=function(){return this.a.gc()},mG(y8t,"AbstractSequentialInternalEList/1",957),fPt(624,1,{},Ez),mG(y8t,"BasicExtendedMetaData",624),fPt(1160,1,{},MI),EKt.$k=function(){return null},EKt._k=function(){return-2==this.a&&sf(this,oTt(this.d,this.b)),this.a},EKt.al=function(){return null},EKt.bl=function(){return EX(),EX(),cne},EKt.ne=function(){return this.c==A9t&&cf(this,kmt(this.d,this.b)),this.c},EKt.cl=function(){return 0},EKt.a=-2,EKt.c=A9t,mG(y8t,"BasicExtendedMetaData/EClassExtendedMetaDataImpl",1160),fPt(1161,1,{},B0),EKt.$k=function(){return this.a==(L4(),QOe)&&af(this,bNt(this.f,this.b)),this.a},EKt._k=function(){return 0},EKt.al=function(){return this.c==(L4(),QOe)&&lf(this,wNt(this.f,this.b)),this.c},EKt.bl=function(){return!this.d&&uf(this,TFt(this.f,this.b)),this.d},EKt.ne=function(){return this.e==A9t&&hf(this,kmt(this.f,this.b)),this.e},EKt.cl=function(){return-2==this.g&&df(this,Xxt(this.f,this.b)),this.g},EKt.e=A9t,EKt.g=-2,mG(y8t,"BasicExtendedMetaData/EDataTypeExtendedMetaDataImpl",1161),fPt(1159,1,{},LI),EKt.b=!1,EKt.c=!1,mG(y8t,"BasicExtendedMetaData/EPackageExtendedMetaDataImpl",1159),fPt(1162,1,{},R0),EKt.c=-2,EKt.e=A9t,EKt.f=A9t,mG(y8t,"BasicExtendedMetaData/EStructuralFeatureExtendedMetaDataImpl",1162),fPt(585,622,R8t,xz),EKt.aj=function(){return this.c},EKt.Fk=function(){return!1},EKt.li=function(t,e){return e},EKt.c=0,mG(y8t,"EDataTypeEList",585);var eDe,nDe,iDe,rDe,oDe,sDe,aDe,cDe,lDe,uDe=hH(y8t,"FeatureMap");fPt(75,585,{3:1,4:1,20:1,28:1,52:1,14:1,15:1,54:1,67:1,63:1,58:1,76:1,153:1,215:1,1937:1,69:1,95:1},kot),EKt.Vc=function(t,e){hNt(this,t,jV(e,72))},EKt.Fc=function(t){return sDt(this,jV(t,72))},EKt.Yh=function(t){fG(this,jV(t,72))},EKt.cj=function(t,e){return $F(this,jV(t,72),e)},EKt.dj=function(t,e){return VF(this,jV(t,72),e)},EKt.ii=function(t,e){return ojt(this,t,e)},EKt.li=function(t,e){return lUt(this,t,jV(e,72))},EKt._c=function(t,e){return CLt(this,t,jV(e,72))},EKt.jj=function(t,e){return zF(this,jV(t,72),e)},EKt.kj=function(t,e){return HF(this,jV(t,72),e)},EKt.lj=function(t,e,n){return pxt(this,jV(t,72),jV(e,72),n)},EKt.oi=function(t,e){return cEt(this,t,jV(e,72))},EKt.dl=function(t,e){return NFt(this,t,e)},EKt.Wc=function(t,e){var n,i,r,o,s,a,c,l,u;for(l=new pet(e.gc()),r=e.Kc();r.Ob();)if(o=(i=jV(r.Pb(),72)).ak(),PLt(this.e,o))(!o.hi()||!z3(this,o,i.dd())&&!Tkt(l,i))&&l8(l,i);else{for(u=oLt(this.e.Tg(),o),n=jV(this.g,119),s=!0,a=0;a<this.i;++a)if(c=n[a],u.rl(c.ak())){jV(awt(this,a,i),72),s=!1;break}s&&l8(l,i)}return act(this,t,l)},EKt.Gc=function(t){var e,n,i,r,o,s,a,c,l;for(c=new pet(t.gc()),i=t.Kc();i.Ob();)if(r=(n=jV(i.Pb(),72)).ak(),PLt(this.e,r))(!r.hi()||!z3(this,r,n.dd())&&!Tkt(c,n))&&l8(c,n);else{for(l=oLt(this.e.Tg(),r),e=jV(this.g,119),o=!0,s=0;s<this.i;++s)if(a=e[s],l.rl(a.ak())){jV(awt(this,s,n),72),o=!1;break}o&&l8(c,n)}return pG(this,c)},EKt.Wh=function(t){return this.j=-1,O$t(this,this.i,t)},EKt.el=function(t,e,n){return CBt(this,t,e,n)},EKt.mk=function(t,e){return xFt(this,t,e)},EKt.fl=function(t,e,n){return QVt(this,t,e,n)},EKt.gl=function(){return this},EKt.hl=function(t,e){return izt(this,t,e)},EKt.il=function(t){return jV(Get(this,t),72).ak()},EKt.jl=function(t){return jV(Get(this,t),72).dd()},EKt.kl=function(){return this.b},EKt.bj=function(){return!0},EKt.ij=function(){return!0},EKt.ll=function(t){return!opt(this,t)},EKt.ri=function(t){return D7(qOe,l9t,332,t,0,1)},EKt.Gk=function(t){return cR(this,t)},EKt.Wb=function(t){JW(this,t)},EKt.ml=function(t,e){Ezt(this,t,e)},EKt.nl=function(t){return Uit(this,t)},EKt.ol=function(t){Byt(this,t)},mG(y8t,"BasicFeatureMap",75),fPt(1851,1,rYt),EKt.Nb=function(t){lW(this,t)},EKt.Rb=function(t){if(-1==this.g)throw $b(new fw);bq(this);try{MLt(this.e,this.b,this.a,t),this.d=this.e.j,rwt(this)}catch(t){throw iD(t=hat(t),73)?$b(new mw):$b(t)}},EKt.Ob=function(){return Blt(this)},EKt.Sb=function(){return Flt(this)},EKt.Pb=function(){return rwt(this)},EKt.Tb=function(){return this.a},EKt.Ub=function(){var t;if(Flt(this))return bq(this),this.g=--this.a,this.Lk()&&(t=jIt(this.e,this.b,this.c,this.a,this.j),this.j=t),this.i=0,this.j;throw $b(new ww)},EKt.Vb=function(){return this.a-1},EKt.Qb=function(){if(-1==this.g)throw $b(new fw);bq(this);try{oAt(this.e,this.b,this.g),this.d=this.e.j,this.g<this.a&&(--this.a,--this.c),--this.g}catch(t){throw iD(t=hat(t),73)?$b(new mw):$b(t)}},EKt.Lk=function(){return!1},EKt.Wb=function(t){if(-1==this.g)throw $b(new fw);bq(this);try{W$t(this.e,this.b,this.g,t),this.d=this.e.j}catch(t){throw iD(t=hat(t),73)?$b(new mw):$b(t)}},EKt.a=0,EKt.c=0,EKt.d=0,EKt.f=!1,EKt.g=0,EKt.i=0,mG(y8t,"FeatureMapUtil/BasicFeatureEIterator",1851),fPt(410,1851,rYt,Mst),EKt.pl=function(){var t,e,n;for(n=this.e.i,t=jV(this.e.g,119);this.c<n;){if(e=t[this.c],this.k.rl(e.ak()))return this.j=this.f?e:e.dd(),this.i=2,!0;++this.c}return this.i=1,this.g=-1,!1},EKt.ql=function(){var t,e;for(t=jV(this.e.g,119);--this.c>=0;)if(e=t[this.c],this.k.rl(e.ak()))return this.j=this.f?e:e.dd(),this.i=-2,!0;return this.i=-1,this.g=-1,!1},mG(y8t,"BasicFeatureMap/FeatureEIterator",410),fPt(662,410,rYt,DM),EKt.Lk=function(){return!0},mG(y8t,"BasicFeatureMap/ResolvingFeatureEIterator",662),fPt(955,486,z8t,HO),EKt.Gi=function(){return this},mG(y8t,"EContentsEList/1",955),fPt(956,486,z8t,NM),EKt.Lk=function(){return!1},mG(y8t,"EContentsEList/2",956),fPt(954,279,H8t,UO),EKt.Nk=function(t){},EKt.Ob=function(){return!1},EKt.Sb=function(){return!1},mG(y8t,"EContentsEList/FeatureIteratorImpl/1",954),fPt(825,585,R8t,RD),EKt.ci=function(){this.a=!0},EKt.fj=function(){return this.a},EKt.Xj=function(){var t;cHt(this),bP(this.e)?(t=this.a,this.a=!1,dst(this.e,new J4(this.e,2,this.c,t,!1))):this.a=!1},EKt.a=!1,mG(y8t,"EDataTypeEList/Unsettable",825),fPt(1849,585,R8t,BD),EKt.hi=function(){return!0},mG(y8t,"EDataTypeUniqueEList",1849),fPt(1850,825,R8t,FD),EKt.hi=function(){return!0},mG(y8t,"EDataTypeUniqueEList/Unsettable",1850),fPt(139,85,R8t,OD),EKt.Ek=function(){return!0},EKt.li=function(t,e){return HMt(this,t,jV(e,56))},mG(y8t,"EObjectContainmentEList/Resolving",139),fPt(1163,545,R8t,DD),EKt.Ek=function(){return!0},EKt.li=function(t,e){return HMt(this,t,jV(e,56))},mG(y8t,"EObjectContainmentEList/Unsettable/Resolving",1163),fPt(748,16,R8t,eF),EKt.ci=function(){this.a=!0},EKt.fj=function(){return this.a},EKt.Xj=function(){var t;cHt(this),bP(this.e)?(t=this.a,this.a=!1,dst(this.e,new J4(this.e,2,this.c,t,!1))):this.a=!1},EKt.a=!1,mG(y8t,"EObjectContainmentWithInverseEList/Unsettable",748),fPt(1173,748,R8t,nF),EKt.Ek=function(){return!0},EKt.li=function(t,e){return HMt(this,t,jV(e,56))},mG(y8t,"EObjectContainmentWithInverseEList/Unsettable/Resolving",1173),fPt(743,496,R8t,ND),EKt.ci=function(){this.a=!0},EKt.fj=function(){return this.a},EKt.Xj=function(){var t;cHt(this),bP(this.e)?(t=this.a,this.a=!1,dst(this.e,new J4(this.e,2,this.c,t,!1))):this.a=!1},EKt.a=!1,mG(y8t,"EObjectEList/Unsettable",743),fPt(328,496,R8t,LD),EKt.Ek=function(){return!0},EKt.li=function(t,e){return HMt(this,t,jV(e,56))},mG(y8t,"EObjectResolvingEList",328),fPt(1641,743,R8t,jD),EKt.Ek=function(){return!0},EKt.li=function(t,e){return HMt(this,t,jV(e,56))},mG(y8t,"EObjectResolvingEList/Unsettable",1641),fPt(1381,1,{},Nl),mG(y8t,"EObjectValidator",1381),fPt(546,496,R8t,eW),EKt.zk=function(){return this.d},EKt.Ak=function(){return this.b},EKt.bj=function(){return!0},EKt.Dk=function(){return!0},EKt.b=0,mG(y8t,"EObjectWithInverseEList",546),fPt(1176,546,R8t,iF),EKt.Ck=function(){return!0},mG(y8t,"EObjectWithInverseEList/ManyInverse",1176),fPt(625,546,R8t,rF),EKt.ci=function(){this.a=!0},EKt.fj=function(){return this.a},EKt.Xj=function(){var t;cHt(this),bP(this.e)?(t=this.a,this.a=!1,dst(this.e,new J4(this.e,2,this.c,t,!1))):this.a=!1},EKt.a=!1,mG(y8t,"EObjectWithInverseEList/Unsettable",625),fPt(1175,625,R8t,sF),EKt.Ck=function(){return!0},mG(y8t,"EObjectWithInverseEList/Unsettable/ManyInverse",1175),fPt(749,546,R8t,oF),EKt.Ek=function(){return!0},EKt.li=function(t,e){return HMt(this,t,jV(e,56))},mG(y8t,"EObjectWithInverseResolvingEList",749),fPt(31,749,R8t,cF),EKt.Ck=function(){return!0},mG(y8t,"EObjectWithInverseResolvingEList/ManyInverse",31),fPt(750,625,R8t,aF),EKt.Ek=function(){return!0},EKt.li=function(t,e){return HMt(this,t,jV(e,56))},mG(y8t,"EObjectWithInverseResolvingEList/Unsettable",750),fPt(1174,750,R8t,lF),EKt.Ck=function(){return!0},mG(y8t,"EObjectWithInverseResolvingEList/Unsettable/ManyInverse",1174),fPt(1164,622,R8t),EKt.ai=function(){return!(1792&this.b)},EKt.ci=function(){this.b|=1},EKt.Bk=function(){return!!(4&this.b)},EKt.bj=function(){return!!(40&this.b)},EKt.Ck=function(){return!!(16&this.b)},EKt.Dk=function(){return!!(8&this.b)},EKt.Ek=function(){return!!(this.b&E8t)},EKt.rk=function(){return!!(32&this.b)},EKt.Fk=function(){return!!(this.b&v6t)},EKt.wj=function(t){return this.d?D3(this.d,t):this.ak().Yj().wj(t)},EKt.fj=function(){return 2&this.b?!!(1&this.b):0!=this.i},EKt.hi=function(){return!!(128&this.b)},EKt.Xj=function(){var t;cHt(this),2&this.b&&(bP(this.e)?(t=!!(1&this.b),this.b&=-2,Pw(this,new J4(this.e,2,Mgt(this.e.Tg(),this.ak()),t,!1))):this.b&=-2)},EKt.ni=function(){return!(1536&this.b)},EKt.b=0,mG(y8t,"EcoreEList/Generic",1164),fPt(1165,1164,R8t,HX),EKt.ak=function(){return this.a},mG(y8t,"EcoreEList/Dynamic",1165),fPt(747,63,l7t,Ab),EKt.ri=function(t){return Lnt(this.a.a,t)},mG(y8t,"EcoreEMap/1",747),fPt(746,85,R8t,Zq),EKt.bi=function(t,e){Swt(this.b,jV(e,133))},EKt.di=function(t,e){ost(this.b)},EKt.ei=function(t,e,n){var i;++(i=this.b,jV(e,133),i).e},EKt.fi=function(t,e){Idt(this.b,jV(e,133))},EKt.gi=function(t,e,n){Idt(this.b,jV(n,133)),zI(n)===zI(e)&&jV(n,133).Th(iO(jV(e,133).cd())),Swt(this.b,jV(e,133))},mG(y8t,"EcoreEMap/DelegateEObjectContainmentEList",746),fPt(1171,151,_8t,yit),mG(y8t,"EcoreEMap/Unsettable",1171),fPt(1172,746,R8t,uF),EKt.ci=function(){this.a=!0},EKt.fj=function(){return this.a},EKt.Xj=function(){var t;cHt(this),bP(this.e)?(t=this.a,this.a=!1,dst(this.e,new J4(this.e,2,this.c,t,!1))):this.a=!1},EKt.a=!1,mG(y8t,"EcoreEMap/Unsettable/UnsettableDelegateEObjectContainmentEList",1172),fPt(1168,228,tZt,uG),EKt.a=!1,EKt.b=!1,mG(y8t,"EcoreUtil/Copier",1168),fPt(745,1,YKt,F2),EKt.Nb=function(t){lW(this,t)},EKt.Ob=function(){return spt(this)},EKt.Pb=function(){var t;return spt(this),t=this.b,this.b=null,t},EKt.Qb=function(){this.a.Qb()},mG(y8t,"EcoreUtil/ProperContentIterator",745),fPt(1382,1381,{},Bh),mG(y8t,"EcoreValidator",1382),hH(y8t,"FeatureMapUtil/Validator"),fPt(1260,1,{1942:1},Ll),EKt.rl=function(t){return!0},mG(y8t,"FeatureMapUtil/1",1260),fPt(757,1,{1942:1},rWt),EKt.rl=function(t){var e;return this.c==t||(null==(e=kR(LG(this.a,t)))?NBt(this,t)?(n6(this.a,t,(cN(),bee)),!0):(n6(this.a,t,(cN(),mee)),!1):e==(cN(),bee))},EKt.e=!1,mG(y8t,"FeatureMapUtil/BasicValidator",757),fPt(758,43,tZt,qO),mG(y8t,"FeatureMapUtil/BasicValidator/Cache",758),fPt(501,52,{20:1,28:1,52:1,14:1,15:1,58:1,76:1,69:1,95:1},DI),EKt.Vc=function(t,e){MLt(this.c,this.b,t,e)},EKt.Fc=function(t){return NFt(this.c,this.b,t)},EKt.Wc=function(t,e){return _zt(this.c,this.b,t,e)},EKt.Gc=function(t){return ZO(this,t)},EKt.Xh=function(t,e){cet(this.c,this.b,t,e)},EKt.lk=function(t,e){return CBt(this.c,this.b,t,e)},EKt.pi=function(t){return nzt(this.c,this.b,t,!1)},EKt.Zh=function(){return vP(this.c,this.b)},EKt.$h=function(){return _P(this.c,this.b)},EKt._h=function(t){return M7(this.c,this.b,t)},EKt.mk=function(t,e){return JR(this,t,e)},EKt.$b=function(){Ow(this)},EKt.Hc=function(t){return z3(this.c,this.b,t)},EKt.Ic=function(t){return Eot(this.c,this.b,t)},EKt.Xb=function(t){return nzt(this.c,this.b,t,!0)},EKt.Wj=function(t){return this},EKt.Xc=function(t){return H3(this.c,this.b,t)},EKt.dc=function(){return $I(this)},EKt.fj=function(){return!opt(this.c,this.b)},EKt.Kc=function(){return itt(this.c,this.b)},EKt.Yc=function(){return rtt(this.c,this.b)},EKt.Zc=function(t){return hdt(this.c,this.b,t)},EKt.ii=function(t,e){return w$t(this.c,this.b,t,e)},EKt.ji=function(t,e){K6(this.c,this.b,t,e)},EKt.$c=function(t){return oAt(this.c,this.b,t)},EKt.Mc=function(t){return AFt(this.c,this.b,t)},EKt._c=function(t,e){return W$t(this.c,this.b,t,e)},EKt.Wb=function(t){MMt(this.c,this.b),ZO(this,jV(t,15))},EKt.gc=function(){return Bdt(this.c,this.b)},EKt.Pc=function(){return z1(this.c,this.b)},EKt.Qc=function(t){return U3(this.c,this.b,t)},EKt.Ib=function(){var t,e;for((e=new E_).a+="[",t=vP(this.c,this.b);Blt(t);)iM(e,yN(rwt(t))),Blt(t)&&(e.a+=jKt);return e.a+="]",e.a},EKt.Xj=function(){MMt(this.c,this.b)},mG(y8t,"FeatureMapUtil/FeatureEList",501),fPt(627,36,t8t,h5),EKt.yi=function(t){return edt(this,t)},EKt.Di=function(t){var e,n,i,r;switch(this.d){case 1:case 2:if(zI(t.Ai())===zI(this.c)&&edt(this,null)==t.yi(null))return this.g=t.zi(),1==t.xi()&&(this.d=1),!0;break;case 3:if(3===t.xi()&&zI(t.Ai())===zI(this.c)&&edt(this,null)==t.yi(null))return this.d=5,l8(e=new pet(2),this.g),l8(e,t.zi()),this.g=e,!0;break;case 5:if(3===t.xi()&&zI(t.Ai())===zI(this.c)&&edt(this,null)==t.yi(null))return jV(this.g,14).Fc(t.zi()),!0;break;case 4:switch(t.xi()){case 3:if(zI(t.Ai())===zI(this.c)&&edt(this,null)==t.yi(null))return this.d=1,this.g=t.zi(),!0;break;case 4:if(zI(t.Ai())===zI(this.c)&&edt(this,null)==t.yi(null))return this.d=6,l8(r=new pet(2),this.n),l8(r,t.Bi()),this.n=r,i=Cat(z_(SNe,1),lXt,25,15,[this.o,t.Ci()]),this.g=i,!0}break;case 6:if(4===t.xi()&&zI(t.Ai())===zI(this.c)&&edt(this,null)==t.yi(null))return jV(this.n,14).Fc(t.Bi()),ozt(i=jV(this.g,48),0,n=D7(SNe,lXt,25,i.length+1,15,1),0,i.length),n[i.length]=t.Ci(),this.g=n,!0}return!1},mG(y8t,"FeatureMapUtil/FeatureENotificationImpl",627),fPt(552,501,{20:1,28:1,52:1,14:1,15:1,58:1,76:1,153:1,215:1,1937:1,69:1,95:1},uH),EKt.dl=function(t,e){return NFt(this.c,t,e)},EKt.el=function(t,e,n){return CBt(this.c,t,e,n)},EKt.fl=function(t,e,n){return QVt(this.c,t,e,n)},EKt.gl=function(){return this},EKt.hl=function(t,e){return izt(this.c,t,e)},EKt.il=function(t){return jV(nzt(this.c,this.b,t,!1),72).ak()},EKt.jl=function(t){return jV(nzt(this.c,this.b,t,!1),72).dd()},EKt.kl=function(){return this.a},EKt.ll=function(t){return!opt(this.c,t)},EKt.ml=function(t,e){Ezt(this.c,t,e)},EKt.nl=function(t){return Uit(this.c,t)},EKt.ol=function(t){Byt(this.c,t)},mG(y8t,"FeatureMapUtil/FeatureFeatureMap",552),fPt(1259,1,v8t,RI),EKt.Wj=function(t){return nzt(this.b,this.a,-1,t)},EKt.fj=function(){return!opt(this.b,this.a)},EKt.Wb=function(t){Ezt(this.b,this.a,t)},EKt.Xj=function(){MMt(this.b,this.a)},mG(y8t,"FeatureMapUtil/FeatureValue",1259);var hDe=hH(I9t,"AnyType");fPt(666,60,$Yt,e_),mG(I9t,"InvalidDatatypeValueException",666);var dDe,fDe,gDe,pDe,mDe,bDe,wDe,yDe,vDe,_De,kDe,xDe,EDe,TDe,CDe,ADe,SDe,IDe,MDe,PDe,ODe,DDe,NDe,LDe,RDe,BDe,FDe,jDe,$De,VDe,zDe=hH(I9t,M9t),HDe=hH(I9t,P9t),UDe=hH(I9t,O9t);fPt(830,506,{105:1,92:1,90:1,56:1,49:1,97:1,843:1},Ly),EKt._g=function(t,e,n){switch(t){case 0:return n?(!this.c&&(this.c=new kot(this,0)),this.c):(!this.c&&(this.c=new kot(this,0)),this.c.b);case 1:return n?(!this.c&&(this.c=new kot(this,0)),jV(QJ(this.c,(qHt(),pDe)),153)):(!this.c&&(this.c=new kot(this,0)),jV(jV(QJ(this.c,(qHt(),pDe)),153),215)).kl();case 2:return n?(!this.b&&(this.b=new kot(this,2)),this.b):(!this.b&&(this.b=new kot(this,2)),this.b.b)}return U8(this,t-hG(this.zh()),eet(2&this.j?(!this.k&&(this.k=new Lh),this.k).ck():this.zh(),t),e,n)},EKt.jh=function(t,e,n){switch(e){case 0:return!this.c&&(this.c=new kot(this,0)),xFt(this.c,t,n);case 1:return(!this.c&&(this.c=new kot(this,0)),jV(jV(QJ(this.c,(qHt(),pDe)),153),69)).mk(t,n);case 2:return!this.b&&(this.b=new kot(this,2)),xFt(this.b,t,n)}return jV(eet(2&this.j?(!this.k&&(this.k=new Lh),this.k).ck():this.zh(),e),66).Nj().Rj(this,K9(this),e-hG(this.zh()),t,n)},EKt.lh=function(t){switch(t){case 0:return!!this.c&&0!=this.c.i;case 1:return!(!this.c&&(this.c=new kot(this,0)),jV(QJ(this.c,(qHt(),pDe)),153)).dc();case 2:return!!this.b&&0!=this.b.i}return S3(this,t-hG(this.zh()),eet(2&this.j?(!this.k&&(this.k=new Lh),this.k).ck():this.zh(),t))},EKt.sh=function(t,e){switch(t){case 0:return!this.c&&(this.c=new kot(this,0)),void JW(this.c,e);case 1:return void(!this.c&&(this.c=new kot(this,0)),jV(jV(QJ(this.c,(qHt(),pDe)),153),215)).Wb(e);case 2:return!this.b&&(this.b=new kot(this,2)),void JW(this.b,e)}Oft(this,t-hG(this.zh()),eet(2&this.j?(!this.k&&(this.k=new Lh),this.k).ck():this.zh(),t),e)},EKt.zh=function(){return qHt(),gDe},EKt.Bh=function(t){switch(t){case 0:return!this.c&&(this.c=new kot(this,0)),void cHt(this.c);case 1:return void(!this.c&&(this.c=new kot(this,0)),jV(QJ(this.c,(qHt(),pDe)),153)).$b();case 2:return!this.b&&(this.b=new kot(this,2)),void cHt(this.b)}zht(this,t-hG(this.zh()),eet(2&this.j?(!this.k&&(this.k=new Lh),this.k).ck():this.zh(),t))},EKt.Ib=function(){var t;return 4&this.j?COt(this):((t=new lN(COt(this))).a+=" (mixed: ",nM(t,this.c),t.a+=", anyAttribute: ",nM(t,this.b),t.a+=")",t.a)},mG(D9t,"AnyTypeImpl",830),fPt(667,506,{105:1,92:1,90:1,56:1,49:1,97:1,2021:1,667:1},Bl),EKt._g=function(t,e,n){switch(t){case 0:return this.a;case 1:return this.b}return U8(this,t-hG((qHt(),ADe)),eet(2&this.j?(!this.k&&(this.k=new Lh),this.k).ck():ADe,t),e,n)},EKt.lh=function(t){switch(t){case 0:return null!=this.a;case 1:return null!=this.b}return S3(this,t-hG((qHt(),ADe)),eet(2&this.j?(!this.k&&(this.k=new Lh),this.k).ck():ADe,t))},EKt.sh=function(t,e){switch(t){case 0:return void yf(this,ER(e));case 1:return void vf(this,ER(e))}Oft(this,t-hG((qHt(),ADe)),eet(2&this.j?(!this.k&&(this.k=new Lh),this.k).ck():ADe,t),e)},EKt.zh=function(){return qHt(),ADe},EKt.Bh=function(t){switch(t){case 0:return void(this.a=null);case 1:return void(this.b=null)}zht(this,t-hG((qHt(),ADe)),eet(2&this.j?(!this.k&&(this.k=new Lh),this.k).ck():ADe,t))},EKt.Ib=function(){var t;return 4&this.j?COt(this):((t=new lN(COt(this))).a+=" (data: ",iM(t,this.a),t.a+=", target: ",iM(t,this.b),t.a+=")",t.a)},EKt.a=null,EKt.b=null,mG(D9t,"ProcessingInstructionImpl",667),fPt(668,830,{105:1,92:1,90:1,56:1,49:1,97:1,843:1,2022:1,668:1},By),EKt._g=function(t,e,n){switch(t){case 0:return n?(!this.c&&(this.c=new kot(this,0)),this.c):(!this.c&&(this.c=new kot(this,0)),this.c.b);case 1:return n?(!this.c&&(this.c=new kot(this,0)),jV(QJ(this.c,(qHt(),pDe)),153)):(!this.c&&(this.c=new kot(this,0)),jV(jV(QJ(this.c,(qHt(),pDe)),153),215)).kl();case 2:return n?(!this.b&&(this.b=new kot(this,2)),this.b):(!this.b&&(this.b=new kot(this,2)),this.b.b);case 3:return!this.c&&(this.c=new kot(this,0)),ER(izt(this.c,(qHt(),MDe),!0));case 4:return gF(this.a,(!this.c&&(this.c=new kot(this,0)),ER(izt(this.c,(qHt(),MDe),!0))));case 5:return this.a}return U8(this,t-hG((qHt(),IDe)),eet(2&this.j?(!this.k&&(this.k=new Lh),this.k).ck():IDe,t),e,n)},EKt.lh=function(t){switch(t){case 0:return!!this.c&&0!=this.c.i;case 1:return!(!this.c&&(this.c=new kot(this,0)),jV(QJ(this.c,(qHt(),pDe)),153)).dc();case 2:return!!this.b&&0!=this.b.i;case 3:return!this.c&&(this.c=new kot(this,0)),null!=ER(izt(this.c,(qHt(),MDe),!0));case 4:return null!=gF(this.a,(!this.c&&(this.c=new kot(this,0)),ER(izt(this.c,(qHt(),MDe),!0))));case 5:return!!this.a}return S3(this,t-hG((qHt(),IDe)),eet(2&this.j?(!this.k&&(this.k=new Lh),this.k).ck():IDe,t))},EKt.sh=function(t,e){switch(t){case 0:return!this.c&&(this.c=new kot(this,0)),void JW(this.c,e);case 1:return void(!this.c&&(this.c=new kot(this,0)),jV(jV(QJ(this.c,(qHt(),pDe)),153),215)).Wb(e);case 2:return!this.b&&(this.b=new kot(this,2)),void JW(this.b,e);case 3:return void F0(this,ER(e));case 4:return void F0(this,pF(this.a,e));case 5:return void _f(this,jV(e,148))}Oft(this,t-hG((qHt(),IDe)),eet(2&this.j?(!this.k&&(this.k=new Lh),this.k).ck():IDe,t),e)},EKt.zh=function(){return qHt(),IDe},EKt.Bh=function(t){switch(t){case 0:return!this.c&&(this.c=new kot(this,0)),void cHt(this.c);case 1:return void(!this.c&&(this.c=new kot(this,0)),jV(QJ(this.c,(qHt(),pDe)),153)).$b();case 2:return!this.b&&(this.b=new kot(this,2)),void cHt(this.b);case 3:return!this.c&&(this.c=new kot(this,0)),void Ezt(this.c,(qHt(),MDe),null);case 4:return void F0(this,pF(this.a,null));case 5:return void(this.a=null)}zht(this,t-hG((qHt(),IDe)),eet(2&this.j?(!this.k&&(this.k=new Lh),this.k).ck():IDe,t))},mG(D9t,"SimpleAnyTypeImpl",668),fPt(669,506,{105:1,92:1,90:1,56:1,49:1,97:1,2023:1,669:1},Ry),EKt._g=function(t,e,n){switch(t){case 0:return n?(!this.a&&(this.a=new kot(this,0)),this.a):(!this.a&&(this.a=new kot(this,0)),this.a.b);case 1:return n?(!this.b&&(this.b=new w8((pKt(),wOe),UOe,this,1)),this.b):(!this.b&&(this.b=new w8((pKt(),wOe),UOe,this,1)),I7(this.b));case 2:return n?(!this.c&&(this.c=new w8((pKt(),wOe),UOe,this,2)),this.c):(!this.c&&(this.c=new w8((pKt(),wOe),UOe,this,2)),I7(this.c));case 3:return!this.a&&(this.a=new kot(this,0)),QJ(this.a,(qHt(),DDe));case 4:return!this.a&&(this.a=new kot(this,0)),QJ(this.a,(qHt(),NDe));case 5:return!this.a&&(this.a=new kot(this,0)),QJ(this.a,(qHt(),RDe));case 6:return!this.a&&(this.a=new kot(this,0)),QJ(this.a,(qHt(),BDe))}return U8(this,t-hG((qHt(),ODe)),eet(2&this.j?(!this.k&&(this.k=new Lh),this.k).ck():ODe,t),e,n)},EKt.jh=function(t,e,n){switch(e){case 0:return!this.a&&(this.a=new kot(this,0)),xFt(this.a,t,n);case 1:return!this.b&&(this.b=new w8((pKt(),wOe),UOe,this,1)),jF(this.b,t,n);case 2:return!this.c&&(this.c=new w8((pKt(),wOe),UOe,this,2)),jF(this.c,t,n);case 5:return!this.a&&(this.a=new kot(this,0)),JR(QJ(this.a,(qHt(),RDe)),t,n)}return jV(eet(2&this.j?(!this.k&&(this.k=new Lh),this.k).ck():(qHt(),ODe),e),66).Nj().Rj(this,K9(this),e-hG((qHt(),ODe)),t,n)},EKt.lh=function(t){switch(t){case 0:return!!this.a&&0!=this.a.i;case 1:return!!this.b&&0!=this.b.f;case 2:return!!this.c&&0!=this.c.f;case 3:return!this.a&&(this.a=new kot(this,0)),!$I(QJ(this.a,(qHt(),DDe)));case 4:return!this.a&&(this.a=new kot(this,0)),!$I(QJ(this.a,(qHt(),NDe)));case 5:return!this.a&&(this.a=new kot(this,0)),!$I(QJ(this.a,(qHt(),RDe)));case 6:return!this.a&&(this.a=new kot(this,0)),!$I(QJ(this.a,(qHt(),BDe)))}return S3(this,t-hG((qHt(),ODe)),eet(2&this.j?(!this.k&&(this.k=new Lh),this.k).ck():ODe,t))},EKt.sh=function(t,e){switch(t){case 0:return!this.a&&(this.a=new kot(this,0)),void JW(this.a,e);case 1:return!this.b&&(this.b=new w8((pKt(),wOe),UOe,this,1)),void tst(this.b,e);case 2:return!this.c&&(this.c=new w8((pKt(),wOe),UOe,this,2)),void tst(this.c,e);case 3:return!this.a&&(this.a=new kot(this,0)),Ow(QJ(this.a,(qHt(),DDe))),!this.a&&(this.a=new kot(this,0)),void ZO(QJ(this.a,DDe),jV(e,14));case 4:return!this.a&&(this.a=new kot(this,0)),Ow(QJ(this.a,(qHt(),NDe))),!this.a&&(this.a=new kot(this,0)),void ZO(QJ(this.a,NDe),jV(e,14));case 5:return!this.a&&(this.a=new kot(this,0)),Ow(QJ(this.a,(qHt(),RDe))),!this.a&&(this.a=new kot(this,0)),void ZO(QJ(this.a,RDe),jV(e,14));case 6:return!this.a&&(this.a=new kot(this,0)),Ow(QJ(this.a,(qHt(),BDe))),!this.a&&(this.a=new kot(this,0)),void ZO(QJ(this.a,BDe),jV(e,14))}Oft(this,t-hG((qHt(),ODe)),eet(2&this.j?(!this.k&&(this.k=new Lh),this.k).ck():ODe,t),e)},EKt.zh=function(){return qHt(),ODe},EKt.Bh=function(t){switch(t){case 0:return!this.a&&(this.a=new kot(this,0)),void cHt(this.a);case 1:return!this.b&&(this.b=new w8((pKt(),wOe),UOe,this,1)),void this.b.c.$b();case 2:return!this.c&&(this.c=new w8((pKt(),wOe),UOe,this,2)),void this.c.c.$b();case 3:return!this.a&&(this.a=new kot(this,0)),void Ow(QJ(this.a,(qHt(),DDe)));case 4:return!this.a&&(this.a=new kot(this,0)),void Ow(QJ(this.a,(qHt(),NDe)));case 5:return!this.a&&(this.a=new kot(this,0)),void Ow(QJ(this.a,(qHt(),RDe)));case 6:return!this.a&&(this.a=new kot(this,0)),void Ow(QJ(this.a,(qHt(),BDe)))}zht(this,t-hG((qHt(),ODe)),eet(2&this.j?(!this.k&&(this.k=new Lh),this.k).ck():ODe,t))},EKt.Ib=function(){var t;return 4&this.j?COt(this):((t=new lN(COt(this))).a+=" (mixed: ",nM(t,this.a),t.a+=")",t.a)},mG(D9t,"XMLTypeDocumentRootImpl",669),fPt(1919,704,{105:1,92:1,90:1,471:1,147:1,56:1,108:1,49:1,97:1,150:1,114:1,115:1,2024:1},Rl),EKt.Ih=function(t,e){switch(t.yj()){case 7:case 8:case 9:case 10:case 16:case 22:case 23:case 24:case 25:case 26:case 32:case 33:case 34:case 36:case 37:case 44:case 45:case 50:case 51:case 53:case 55:case 56:case 57:case 58:case 60:case 61:case 4:return null==e?null:$ft(e);case 19:case 28:case 29:case 35:case 38:case 39:case 41:case 46:case 52:case 54:case 5:return ER(e);case 6:return bR(jV(e,190));case 12:case 47:case 49:case 11:return zUt(this,t,e);case 13:return null==e?null:HVt(jV(e,240));case 15:case 14:return null==e?null:LW(zv(xR(e)));case 17:return kxt((qHt(),e));case 18:return kxt(e);case 21:case 20:return null==e?null:RW(jV(e,155).a);case 27:return wR(jV(e,190));case 30:return Fyt((qHt(),jV(e,15)));case 31:return Fyt(jV(e,15));case 40:return vR((qHt(),e));case 42:return xxt((qHt(),e));case 43:return xxt(e);case 59:case 48:return yR((qHt(),e));default:throw $b(new Bv(g6t+t.ne()+p6t))}},EKt.Jh=function(t){var e;switch(-1==t.G&&(t.G=(e=qet(t))?swt(e.Mh(),t):-1),t.G){case 0:return new Ly;case 1:return new Bl;case 2:return new By;case 3:return new Ry;default:throw $b(new Bv(w6t+t.zb+p6t))}},EKt.Kh=function(t,e){var n,i,r,o,s,a,c,l,u,h,d,f,g,p,m,b;switch(t.yj()){case 5:case 52:case 4:return e;case 6:return ybt(e);case 8:case 7:return null==e?null:Fxt(e);case 9:return null==e?null:Ttt(hjt((i=jVt(e,!0)).length>0&&(h1(0,i.length),43==i.charCodeAt(0))?i.substr(1):i,-128,127)<<24>>24);case 10:return null==e?null:Ttt(hjt((r=jVt(e,!0)).length>0&&(h1(0,r.length),43==r.charCodeAt(0))?r.substr(1):r,-128,127)<<24>>24);case 11:return ER(NGt(this,(qHt(),wDe),e));case 12:return ER(NGt(this,(qHt(),yDe),e));case 13:return null==e?null:new dx(jVt(e,!0));case 15:case 14:return pDt(e);case 16:return ER(NGt(this,(qHt(),vDe),e));case 17:return Vpt((qHt(),e));case 18:return Vpt(e);case 28:case 29:case 35:case 38:case 39:case 41:case 54:case 19:return jVt(e,!0);case 21:case 20:return SDt(e);case 22:return ER(NGt(this,(qHt(),_De),e));case 23:return ER(NGt(this,(qHt(),kDe),e));case 24:return ER(NGt(this,(qHt(),xDe),e));case 25:return ER(NGt(this,(qHt(),EDe),e));case 26:return ER(NGt(this,(qHt(),TDe),e));case 27:return Qmt(e);case 30:return zpt((qHt(),e));case 31:return zpt(e);case 32:return null==e?null:ndt(hjt((u=jVt(e,!0)).length>0&&(h1(0,u.length),43==u.charCodeAt(0))?u.substr(1):u,FYt,LKt));case 33:return null==e?null:new MP((h=jVt(e,!0)).length>0&&(h1(0,h.length),43==h.charCodeAt(0))?h.substr(1):h);case 34:return null==e?null:ndt(hjt((d=jVt(e,!0)).length>0&&(h1(0,d.length),43==d.charCodeAt(0))?d.substr(1):d,FYt,LKt));case 36:return null==e?null:_mt(iWt((f=jVt(e,!0)).length>0&&(h1(0,f.length),43==f.charCodeAt(0))?f.substr(1):f));case 37:return null==e?null:_mt(iWt((g=jVt(e,!0)).length>0&&(h1(0,g.length),43==g.charCodeAt(0))?g.substr(1):g));case 40:return Kgt((qHt(),e));case 42:return Hpt((qHt(),e));case 43:return Hpt(e);case 44:return null==e?null:new MP((p=jVt(e,!0)).length>0&&(h1(0,p.length),43==p.charCodeAt(0))?p.substr(1):p);case 45:return null==e?null:new MP((m=jVt(e,!0)).length>0&&(h1(0,m.length),43==m.charCodeAt(0))?m.substr(1):m);case 46:return jVt(e,!1);case 47:return ER(NGt(this,(qHt(),CDe),e));case 59:case 48:return Ggt((qHt(),e));case 49:return ER(NGt(this,(qHt(),SDe),e));case 50:return null==e?null:idt(hjt((b=jVt(e,!0)).length>0&&(h1(0,b.length),43==b.charCodeAt(0))?b.substr(1):b,Y8t,32767)<<16>>16);case 51:return null==e?null:idt(hjt((o=jVt(e,!0)).length>0&&(h1(0,o.length),43==o.charCodeAt(0))?o.substr(1):o,Y8t,32767)<<16>>16);case 53:return ER(NGt(this,(qHt(),PDe),e));case 55:return null==e?null:idt(hjt((s=jVt(e,!0)).length>0&&(h1(0,s.length),43==s.charCodeAt(0))?s.substr(1):s,Y8t,32767)<<16>>16);case 56:return null==e?null:idt(hjt((a=jVt(e,!0)).length>0&&(h1(0,a.length),43==a.charCodeAt(0))?a.substr(1):a,Y8t,32767)<<16>>16);case 57:return null==e?null:_mt(iWt((c=jVt(e,!0)).length>0&&(h1(0,c.length),43==c.charCodeAt(0))?c.substr(1):c));case 58:return null==e?null:_mt(iWt((l=jVt(e,!0)).length>0&&(h1(0,l.length),43==l.charCodeAt(0))?l.substr(1):l));case 60:return null==e?null:ndt(hjt((n=jVt(e,!0)).length>0&&(h1(0,n.length),43==n.charCodeAt(0))?n.substr(1):n,FYt,LKt));case 61:return null==e?null:ndt(hjt(jVt(e,!0),FYt,LKt));default:throw $b(new Bv(g6t+t.ne()+p6t))}},mG(D9t,"XMLTypeFactoryImpl",1919),fPt(586,179,{105:1,92:1,90:1,147:1,191:1,56:1,235:1,108:1,49:1,97:1,150:1,179:1,114:1,115:1,675:1,1945:1,586:1},HK),EKt.N=!1,EKt.O=!1;var qDe,WDe,GDe,KDe,YDe,XDe=!1;mG(D9t,"XMLTypePackageImpl",586),fPt(1852,1,{837:1},Fl),EKt._j=function(){return u$t(),_Ne},mG(D9t,"XMLTypePackageImpl/1",1852),fPt(1861,1,c9t,jl),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/10",1861),fPt(1862,1,c9t,$l),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/11",1862),fPt(1863,1,c9t,Vl),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/12",1863),fPt(1864,1,c9t,zl),EKt.wj=function(t){return UI(t)},EKt.xj=function(t){return D7(Cee,cYt,333,t,7,1)},mG(D9t,"XMLTypePackageImpl/13",1864),fPt(1865,1,c9t,Hl),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/14",1865),fPt(1866,1,c9t,Ul),EKt.wj=function(t){return iD(t,15)},EKt.xj=function(t){return D7(Rte,JQt,15,t,0,1)},mG(D9t,"XMLTypePackageImpl/15",1866),fPt(1867,1,c9t,ql),EKt.wj=function(t){return iD(t,15)},EKt.xj=function(t){return D7(Rte,JQt,15,t,0,1)},mG(D9t,"XMLTypePackageImpl/16",1867),fPt(1868,1,c9t,Wl),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/17",1868),fPt(1869,1,c9t,Gl),EKt.wj=function(t){return iD(t,155)},EKt.xj=function(t){return D7(Aee,cYt,155,t,0,1)},mG(D9t,"XMLTypePackageImpl/18",1869),fPt(1870,1,c9t,Kl),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/19",1870),fPt(1853,1,c9t,Yl),EKt.wj=function(t){return iD(t,843)},EKt.xj=function(t){return D7(hDe,VKt,843,t,0,1)},mG(D9t,"XMLTypePackageImpl/2",1853),fPt(1871,1,c9t,Xl),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/20",1871),fPt(1872,1,c9t,Zl),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/21",1872),fPt(1873,1,c9t,Ql),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/22",1873),fPt(1874,1,c9t,Jl),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/23",1874),fPt(1875,1,c9t,tu),EKt.wj=function(t){return iD(t,190)},EKt.xj=function(t){return D7(PNe,cYt,190,t,0,2)},mG(D9t,"XMLTypePackageImpl/24",1875),fPt(1876,1,c9t,eu),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/25",1876),fPt(1877,1,c9t,nu),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/26",1877),fPt(1878,1,c9t,iu),EKt.wj=function(t){return iD(t,15)},EKt.xj=function(t){return D7(Rte,JQt,15,t,0,1)},mG(D9t,"XMLTypePackageImpl/27",1878),fPt(1879,1,c9t,ru),EKt.wj=function(t){return iD(t,15)},EKt.xj=function(t){return D7(Rte,JQt,15,t,0,1)},mG(D9t,"XMLTypePackageImpl/28",1879),fPt(1880,1,c9t,ou),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/29",1880),fPt(1854,1,c9t,su),EKt.wj=function(t){return iD(t,667)},EKt.xj=function(t){return D7(zDe,VKt,2021,t,0,1)},mG(D9t,"XMLTypePackageImpl/3",1854),fPt(1881,1,c9t,au),EKt.wj=function(t){return iD(t,19)},EKt.xj=function(t){return D7(Mee,cYt,19,t,0,1)},mG(D9t,"XMLTypePackageImpl/30",1881),fPt(1882,1,c9t,cu),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/31",1882),fPt(1883,1,c9t,lu),EKt.wj=function(t){return iD(t,162)},EKt.xj=function(t){return D7(Ree,cYt,162,t,0,1)},mG(D9t,"XMLTypePackageImpl/32",1883),fPt(1884,1,c9t,uu),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/33",1884),fPt(1885,1,c9t,hu),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/34",1885),fPt(1886,1,c9t,du),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/35",1886),fPt(1887,1,c9t,fu),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/36",1887),fPt(1888,1,c9t,gu),EKt.wj=function(t){return iD(t,15)},EKt.xj=function(t){return D7(Rte,JQt,15,t,0,1)},mG(D9t,"XMLTypePackageImpl/37",1888),fPt(1889,1,c9t,pu),EKt.wj=function(t){return iD(t,15)},EKt.xj=function(t){return D7(Rte,JQt,15,t,0,1)},mG(D9t,"XMLTypePackageImpl/38",1889),fPt(1890,1,c9t,mu),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/39",1890),fPt(1855,1,c9t,bu),EKt.wj=function(t){return iD(t,668)},EKt.xj=function(t){return D7(HDe,VKt,2022,t,0,1)},mG(D9t,"XMLTypePackageImpl/4",1855),fPt(1891,1,c9t,wu),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/40",1891),fPt(1892,1,c9t,yu),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/41",1892),fPt(1893,1,c9t,vu),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/42",1893),fPt(1894,1,c9t,_u),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/43",1894),fPt(1895,1,c9t,ku),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/44",1895),fPt(1896,1,c9t,xu),EKt.wj=function(t){return iD(t,184)},EKt.xj=function(t){return D7(Fee,cYt,184,t,0,1)},mG(D9t,"XMLTypePackageImpl/45",1896),fPt(1897,1,c9t,Eu),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/46",1897),fPt(1898,1,c9t,Tu),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/47",1898),fPt(1899,1,c9t,Cu),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/48",1899),fPt(cXt,1,c9t,Au),EKt.wj=function(t){return iD(t,184)},EKt.xj=function(t){return D7(Fee,cYt,184,t,0,1)},mG(D9t,"XMLTypePackageImpl/49",cXt),fPt(1856,1,c9t,Su),EKt.wj=function(t){return iD(t,669)},EKt.xj=function(t){return D7(UDe,VKt,2023,t,0,1)},mG(D9t,"XMLTypePackageImpl/5",1856),fPt(1901,1,c9t,Iu),EKt.wj=function(t){return iD(t,162)},EKt.xj=function(t){return D7(Ree,cYt,162,t,0,1)},mG(D9t,"XMLTypePackageImpl/50",1901),fPt(1902,1,c9t,Mu),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/51",1902),fPt(1903,1,c9t,Pu),EKt.wj=function(t){return iD(t,19)},EKt.xj=function(t){return D7(Mee,cYt,19,t,0,1)},mG(D9t,"XMLTypePackageImpl/52",1903),fPt(1857,1,c9t,Ou),EKt.wj=function(t){return qI(t)},EKt.xj=function(t){return D7(Yee,cYt,2,t,6,1)},mG(D9t,"XMLTypePackageImpl/6",1857),fPt(1858,1,c9t,Du),EKt.wj=function(t){return iD(t,190)},EKt.xj=function(t){return D7(PNe,cYt,190,t,0,2)},mG(D9t,"XMLTypePackageImpl/7",1858),fPt(1859,1,c9t,Nu),EKt.wj=function(t){return HI(t)},EKt.xj=function(t){return D7(vee,cYt,476,t,8,1)},mG(D9t,"XMLTypePackageImpl/8",1859),fPt(1860,1,c9t,Lu),EKt.wj=function(t){return iD(t,217)},EKt.xj=function(t){return D7(xee,cYt,217,t,0,1)},mG(D9t,"XMLTypePackageImpl/9",1860),fPt(50,60,$Yt,r_),mG(ote,"RegEx/ParseException",50),fPt(820,1,{},Ru),EKt.sl=function(t){return t<this.j&&63==lY(this.i,t)},EKt.tl=function(){var t,e,n,i,r;if(10!=this.c)throw $b(new r_(vKt((oO(),p7t))));switch(t=this.a){case 101:t=27;break;case 102:t=12;break;case 110:t=10;break;case 114:t=13;break;case 116:t=9;break;case 120:if(YGt(this),0!=this.c)throw $b(new r_(vKt((oO(),$7t))));if(123==this.a){for(r=0,n=0;;){if(YGt(this),0!=this.c)throw $b(new r_(vKt((oO(),$7t))));if((r=Hwt(this.a))<0)break;if(n>16*n)throw $b(new r_(vKt((oO(),V7t))));n=16*n+r}if(125!=this.a)throw $b(new r_(vKt((oO(),z7t))));if(n>ste)throw $b(new r_(vKt((oO(),H7t))));t=n}else{if(r=0,0!=this.c||(r=Hwt(this.a))<0)throw $b(new r_(vKt((oO(),$7t))));if(n=r,YGt(this),0!=this.c||(r=Hwt(this.a))<0)throw $b(new r_(vKt((oO(),$7t))));t=n=16*n+r}break;case 117:if(i=0,YGt(this),0!=this.c||(i=Hwt(this.a))<0)throw $b(new r_(vKt((oO(),$7t))));if(e=i,YGt(this),0!=this.c||(i=Hwt(this.a))<0)throw $b(new r_(vKt((oO(),$7t))));if(e=16*e+i,YGt(this),0!=this.c||(i=Hwt(this.a))<0)throw $b(new r_(vKt((oO(),$7t))));if(e=16*e+i,YGt(this),0!=this.c||(i=Hwt(this.a))<0)throw $b(new r_(vKt((oO(),$7t))));t=e=16*e+i;break;case 118:if(YGt(this),0!=this.c||(i=Hwt(this.a))<0)throw $b(new r_(vKt((oO(),$7t))));if(e=i,YGt(this),0!=this.c||(i=Hwt(this.a))<0)throw $b(new r_(vKt((oO(),$7t))));if(e=16*e+i,YGt(this),0!=this.c||(i=Hwt(this.a))<0)throw $b(new r_(vKt((oO(),$7t))));if(e=16*e+i,YGt(this),0!=this.c||(i=Hwt(this.a))<0)throw $b(new r_(vKt((oO(),$7t))));if(e=16*e+i,YGt(this),0!=this.c||(i=Hwt(this.a))<0)throw $b(new r_(vKt((oO(),$7t))));if(e=16*e+i,YGt(this),0!=this.c||(i=Hwt(this.a))<0)throw $b(new r_(vKt((oO(),$7t))));if((e=16*e+i)>ste)throw $b(new r_(vKt((oO(),"parser.descappe.4"))));t=e;break;case 65:case 90:case 122:throw $b(new r_(vKt((oO(),U7t))))}return t},EKt.ul=function(t){var e;switch(t){case 100:e=32&~this.e?(fKt(),rNe):QWt("Nd",!0);break;case 68:e=32&~this.e?(fKt(),lNe):QWt("Nd",!1);break;case 119:e=32&~this.e?(fKt(),wNe):QWt("IsWord",!0);break;case 87:e=32&~this.e?(fKt(),hNe):QWt("IsWord",!1);break;case 115:e=32&~this.e?(fKt(),fNe):QWt("IsSpace",!0);break;case 83:e=32&~this.e?(fKt(),uNe):QWt("IsSpace",!1);break;default:throw $b(new fv(ate+t.toString(16)))}return e},EKt.vl=function(t){var e,n,i,r,o,s,a,c,l,u,h;for(this.b=1,YGt(this),e=null,0==this.c&&94==this.a?(YGt(this),t?(fKt(),fKt(),l=new x0(5)):(fKt(),fKt(),XLt(e=new x0(4),0,ste),l=new x0(4))):(fKt(),fKt(),l=new x0(4)),r=!0;1!=(h=this.c)&&(0!=h||93!=this.a||r);){if(r=!1,n=this.a,i=!1,10==h)switch(n){case 100:case 68:case 119:case 87:case 115:case 83:czt(l,this.ul(n)),i=!0;break;case 105:case 73:case 99:case 67:(n=this.Ll(l,n))<0&&(i=!0);break;case 112:case 80:if(!(u=LIt(this,n)))throw $b(new r_(vKt((oO(),I7t))));czt(l,u),i=!0;break;default:n=this.tl()}else if(20==h){if((o=uL(this.i,58,this.d))<0)throw $b(new r_(vKt((oO(),M7t))));if(s=!0,94==lY(this.i,this.d)&&(++this.d,s=!1),!(a=h8(lL(this.i,this.d,o),s,!(512&~this.e))))throw $b(new r_(vKt((oO(),O7t))));if(czt(l,a),i=!0,o+1>=this.j||93!=lY(this.i,o+1))throw $b(new r_(vKt((oO(),M7t))));this.d=o+2}if(YGt(this),!i)if(0!=this.c||45!=this.a)XLt(l,n,n);else{if(YGt(this),1==(h=this.c))throw $b(new r_(vKt((oO(),P7t))));0==h&&93==this.a?(XLt(l,n,n),XLt(l,45,45)):(c=this.a,10==h&&(c=this.tl()),YGt(this),XLt(l,n,c))}(this.e&v6t)==v6t&&0==this.c&&44==this.a&&YGt(this)}if(1==this.c)throw $b(new r_(vKt((oO(),P7t))));return e&&(GUt(e,l),l=e),xOt(l),zzt(l),this.b=0,YGt(this),l},EKt.wl=function(){var t,e,n,i;for(n=this.vl(!1);7!=(i=this.c);){if(t=this.a,(0!=i||45!=t&&38!=t)&&4!=i)throw $b(new r_(vKt((oO(),F7t))));if(YGt(this),9!=this.c)throw $b(new r_(vKt((oO(),B7t))));if(e=this.vl(!1),4==i)czt(n,e);else if(45==t)GUt(n,e);else{if(38!=t)throw $b(new fv("ASSERT"));vUt(n,e)}}return YGt(this),n},EKt.xl=function(){var t,e;return t=this.a-48,fKt(),fKt(),e=new mQ(12,null,t),!this.g&&(this.g=new Bw),Cw(this.g,new Sb(t)),YGt(this),e},EKt.yl=function(){return YGt(this),fKt(),gNe},EKt.zl=function(){return YGt(this),fKt(),dNe},EKt.Al=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.Bl=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.Cl=function(){return YGt(this),ult()},EKt.Dl=function(){return YGt(this),fKt(),mNe},EKt.El=function(){return YGt(this),fKt(),yNe},EKt.Fl=function(){var t;if(this.d>=this.j||64!=(65504&(t=lY(this.i,this.d++))))throw $b(new r_(vKt((oO(),T7t))));return YGt(this),fKt(),fKt(),new sU(0,t-64)},EKt.Gl=function(){return YGt(this),R$t()},EKt.Hl=function(){return YGt(this),fKt(),vNe},EKt.Il=function(){var t;return fKt(),fKt(),t=new sU(0,105),YGt(this),t},EKt.Jl=function(){return YGt(this),fKt(),bNe},EKt.Kl=function(){return YGt(this),fKt(),pNe},EKt.Ll=function(t,e){return this.tl()},EKt.Ml=function(){return YGt(this),fKt(),aNe},EKt.Nl=function(){var t,e,n,i,r;if(this.d+1>=this.j)throw $b(new r_(vKt((oO(),k7t))));if(i=-1,e=null,49<=(t=lY(this.i,this.d))&&t<=57){if(i=t-48,!this.g&&(this.g=new Bw),Cw(this.g,new Sb(i)),++this.d,41!=lY(this.i,this.d))throw $b(new r_(vKt((oO(),y7t))));++this.d}else switch(63==t&&--this.d,YGt(this),(e=IGt(this)).e){case 20:case 21:case 22:case 23:break;case 8:if(7!=this.c)throw $b(new r_(vKt((oO(),y7t))));break;default:throw $b(new r_(vKt((oO(),x7t))))}if(YGt(this),n=null,2==(r=Kpt(this)).e){if(2!=r.em())throw $b(new r_(vKt((oO(),E7t))));n=r.am(1),r=r.am(0)}if(7!=this.c)throw $b(new r_(vKt((oO(),y7t))));return YGt(this),fKt(),fKt(),new vtt(i,e,r,n)},EKt.Ol=function(){return YGt(this),fKt(),cNe},EKt.Pl=function(){var t;if(YGt(this),t=oW(24,Kpt(this)),7!=this.c)throw $b(new r_(vKt((oO(),y7t))));return YGt(this),t},EKt.Ql=function(){var t;if(YGt(this),t=oW(20,Kpt(this)),7!=this.c)throw $b(new r_(vKt((oO(),y7t))));return YGt(this),t},EKt.Rl=function(){var t;if(YGt(this),t=oW(22,Kpt(this)),7!=this.c)throw $b(new r_(vKt((oO(),y7t))));return YGt(this),t},EKt.Sl=function(){var t,e,n,i,r;for(t=0,n=0,e=-1;this.d<this.j&&0!=(r=YMt(e=lY(this.i,this.d)));)t|=r,++this.d;if(this.d>=this.j)throw $b(new r_(vKt((oO(),v7t))));if(45==e){for(++this.d;this.d<this.j&&0!=(r=YMt(e=lY(this.i,this.d)));)n|=r,++this.d;if(this.d>=this.j)throw $b(new r_(vKt((oO(),v7t))))}if(58==e){if(++this.d,YGt(this),i=IG(Kpt(this),t,n),7!=this.c)throw $b(new r_(vKt((oO(),y7t))));YGt(this)}else{if(41!=e)throw $b(new r_(vKt((oO(),_7t))));++this.d,YGt(this),i=IG(Kpt(this),t,n)}return i},EKt.Tl=function(){var t;if(YGt(this),t=oW(21,Kpt(this)),7!=this.c)throw $b(new r_(vKt((oO(),y7t))));return YGt(this),t},EKt.Ul=function(){var t;if(YGt(this),t=oW(23,Kpt(this)),7!=this.c)throw $b(new r_(vKt((oO(),y7t))));return YGt(this),t},EKt.Vl=function(){var t,e;if(YGt(this),t=this.f++,e=sW(Kpt(this),t),7!=this.c)throw $b(new r_(vKt((oO(),y7t))));return YGt(this),e},EKt.Wl=function(){var t;if(YGt(this),t=sW(Kpt(this),0),7!=this.c)throw $b(new r_(vKt((oO(),y7t))));return YGt(this),t},EKt.Xl=function(t){return YGt(this),5==this.c?(YGt(this),gU(t,(fKt(),fKt(),new c5(9,t)))):gU(t,(fKt(),fKt(),new c5(3,t)))},EKt.Yl=function(t){var e;return YGt(this),fKt(),fKt(),e=new nO(2),5==this.c?(YGt(this),tHt(e,sNe),tHt(e,t)):(tHt(e,t),tHt(e,sNe)),e},EKt.Zl=function(t){return YGt(this),5==this.c?(YGt(this),fKt(),fKt(),new c5(9,t)):(fKt(),fKt(),new c5(3,t))},EKt.a=0,EKt.b=0,EKt.c=0,EKt.d=0,EKt.e=0,EKt.f=1,EKt.g=null,EKt.j=0,mG(ote,"RegEx/RegexParser",820),fPt(1824,820,{},Fy),EKt.sl=function(t){return!1},EKt.tl=function(){return zRt(this)},EKt.ul=function(t){return gjt(t)},EKt.vl=function(t){return QGt(this)},EKt.wl=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.xl=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.yl=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.zl=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.Al=function(){return YGt(this),gjt(67)},EKt.Bl=function(){return YGt(this),gjt(73)},EKt.Cl=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.Dl=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.El=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.Fl=function(){return YGt(this),gjt(99)},EKt.Gl=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.Hl=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.Il=function(){return YGt(this),gjt(105)},EKt.Jl=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.Kl=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.Ll=function(t,e){return czt(t,gjt(e)),-1},EKt.Ml=function(){return YGt(this),fKt(),fKt(),new sU(0,94)},EKt.Nl=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.Ol=function(){return YGt(this),fKt(),fKt(),new sU(0,36)},EKt.Pl=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.Ql=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.Rl=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.Sl=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.Tl=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.Ul=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.Vl=function(){var t;if(YGt(this),t=sW(Kpt(this),0),7!=this.c)throw $b(new r_(vKt((oO(),y7t))));return YGt(this),t},EKt.Wl=function(){throw $b(new r_(vKt((oO(),q7t))))},EKt.Xl=function(t){return YGt(this),gU(t,(fKt(),fKt(),new c5(3,t)))},EKt.Yl=function(t){var e;return YGt(this),fKt(),fKt(),tHt(e=new nO(2),t),tHt(e,sNe),e},EKt.Zl=function(t){return YGt(this),fKt(),fKt(),new c5(3,t)};var ZDe=null,QDe=null;mG(ote,"RegEx/ParserForXMLSchema",1824),fPt(117,1,yte,Ib),EKt.$l=function(t){throw $b(new fv("Not supported."))},EKt._l=function(){return-1},EKt.am=function(t){return null},EKt.bm=function(){return null},EKt.cm=function(t){},EKt.dm=function(t){},EKt.em=function(){return 0},EKt.Ib=function(){return this.fm(0)},EKt.fm=function(t){return 11==this.e?".":""},EKt.e=0;var JDe,tNe,eNe,nNe,iNe,rNe,oNe,sNe,aNe,cNe,lNe,uNe,hNe,dNe,fNe,gNe,pNe,mNe,bNe,wNe,yNe,vNe,_Ne,kNe,xNe=null,ENe=null,TNe=null,CNe=mG(ote,"RegEx/Token",117);fPt(136,117,{3:1,136:1,117:1},x0),EKt.fm=function(t){var e,n,i;if(4==this.e)if(this==oNe)n=".";else if(this==rNe)n="\\d";else if(this==wNe)n="\\w";else if(this==fNe)n="\\s";else{for((i=new E_).a+="[",e=0;e<this.b.length;e+=2)t&v6t&&e>0&&(i.a+=","),this.b[e]===this.b[e+1]?iM(i,oVt(this.b[e])):(iM(i,oVt(this.b[e])),i.a+="-",iM(i,oVt(this.b[e+1])));i.a+="]",n=i.a}else if(this==lNe)n="\\D";else if(this==hNe)n="\\W";else if(this==uNe)n="\\S";else{for((i=new E_).a+="[^",e=0;e<this.b.length;e+=2)t&v6t&&e>0&&(i.a+=","),this.b[e]===this.b[e+1]?iM(i,oVt(this.b[e])):(iM(i,oVt(this.b[e])),i.a+="-",iM(i,oVt(this.b[e+1])));i.a+="]",n=i.a}return n},EKt.a=!1,EKt.c=!1,mG(ote,"RegEx/RangeToken",136),fPt(584,1,{584:1},Sb),EKt.a=0,mG(ote,"RegEx/RegexParser/ReferencePosition",584),fPt(583,1,{3:1,583:1},qx),EKt.Fb=function(t){var e;return null!=t&&!!iD(t,583)&&(e=jV(t,583),bF(this.b,e.b)&&this.a==e.a)},EKt.Hb=function(){return bwt(this.b+"/"+tLt(this.a))},EKt.Ib=function(){return this.c.fm(this.a)},EKt.a=0,mG(ote,"RegEx/RegularExpression",583),fPt(223,117,yte,sU),EKt._l=function(){return this.a},EKt.fm=function(t){var e,n;switch(this.e){case 0:switch(this.a){case 124:case 42:case 43:case 63:case 40:case 41:case 46:case 91:case 123:case 92:n="\\"+TB(this.a&YYt);break;case 12:n="\\f";break;case 10:n="\\n";break;case 13:n="\\r";break;case 9:n="\\t";break;case 27:n="\\e";break;default:n=this.a>=$Xt?"\\v"+lL(e="0"+(this.a>>>0).toString(16),e.length-6,e.length):""+TB(this.a&YYt)}break;case 8:n=this==aNe||this==cNe?""+TB(this.a&YYt):"\\"+TB(this.a&YYt);break;default:n=null}return n},EKt.a=0,mG(ote,"RegEx/Token/CharToken",223),fPt(309,117,yte,c5),EKt.am=function(t){return this.a},EKt.cm=function(t){this.b=t},EKt.dm=function(t){this.c=t},EKt.em=function(){return 1},EKt.fm=function(t){var e;if(3==this.e)if(this.c<0&&this.b<0)e=this.a.fm(t)+"*";else if(this.c==this.b)e=this.a.fm(t)+"{"+this.c+"}";else if(this.c>=0&&this.b>=0)e=this.a.fm(t)+"{"+this.c+","+this.b+"}";else{if(!(this.c>=0&&this.b<0))throw $b(new fv("Token#toString(): CLOSURE "+this.c+jKt+this.b));e=this.a.fm(t)+"{"+this.c+",}"}else if(this.c<0&&this.b<0)e=this.a.fm(t)+"*?";else if(this.c==this.b)e=this.a.fm(t)+"{"+this.c+"}?";else if(this.c>=0&&this.b>=0)e=this.a.fm(t)+"{"+this.c+","+this.b+"}?";else{if(!(this.c>=0&&this.b<0))throw $b(new fv("Token#toString(): NONGREEDYCLOSURE "+this.c+jKt+this.b));e=this.a.fm(t)+"{"+this.c+",}?"}return e},EKt.b=0,EKt.c=0,mG(ote,"RegEx/Token/ClosureToken",309),fPt(821,117,yte,UW),EKt.am=function(t){return 0==t?this.a:this.b},EKt.em=function(){return 2},EKt.fm=function(t){return 3==this.b.e&&this.b.am(0)==this.a?this.a.fm(t)+"+":9==this.b.e&&this.b.am(0)==this.a?this.a.fm(t)+"+?":this.a.fm(t)+""+this.b.fm(t)},mG(ote,"RegEx/Token/ConcatToken",821),fPt(1822,117,yte,vtt),EKt.am=function(t){if(0==t)return this.d;if(1==t)return this.b;throw $b(new fv("Internal Error: "+t))},EKt.em=function(){return this.b?2:1},EKt.fm=function(t){var e;return e=this.c>0?"(?("+this.c+")":8==this.a.e?"(?("+this.a+")":"(?"+this.a,this.b?e+=this.d+"|"+this.b+")":e+=this.d+")",e},EKt.c=0,mG(ote,"RegEx/Token/ConditionToken",1822),fPt(1823,117,yte,k0),EKt.am=function(t){return this.b},EKt.em=function(){return 1},EKt.fm=function(t){return"(?"+(0==this.a?"":tLt(this.a))+(0==this.c?"":tLt(this.c))+":"+this.b.fm(t)+")"},EKt.a=0,EKt.c=0,mG(ote,"RegEx/Token/ModifierToken",1823),fPt(822,117,yte,iK),EKt.am=function(t){return this.a},EKt.em=function(){return 1},EKt.fm=function(t){var e;switch(e=null,this.e){case 6:e=0==this.b?"(?:"+this.a.fm(t)+")":"("+this.a.fm(t)+")";break;case 20:e="(?="+this.a.fm(t)+")";break;case 21:e="(?!"+this.a.fm(t)+")";break;case 22:e="(?<="+this.a.fm(t)+")";break;case 23:e="(?<!"+this.a.fm(t)+")";break;case 24:e="(?>"+this.a.fm(t)+")"}return e},EKt.b=0,mG(ote,"RegEx/Token/ParenToken",822),fPt(521,117,{3:1,117:1,521:1},mQ),EKt.bm=function(){return this.b},EKt.fm=function(t){return 12==this.e?"\\"+this.a:nPt(this.b)},EKt.a=0,mG(ote,"RegEx/Token/StringToken",521),fPt(465,117,yte,nO),EKt.$l=function(t){tHt(this,t)},EKt.am=function(t){return jV(hK(this.a,t),117)},EKt.em=function(){return this.a?this.a.a.c.length:0},EKt.fm=function(t){var e,n,i,r,o;if(1==this.e){if(2==this.a.a.c.length)e=jV(hK(this.a,0),117),r=3==(n=jV(hK(this.a,1),117)).e&&n.am(0)==e?e.fm(t)+"+":9==n.e&&n.am(0)==e?e.fm(t)+"+?":e.fm(t)+""+n.fm(t);else{for(o=new E_,i=0;i<this.a.a.c.length;i++)iM(o,jV(hK(this.a,i),117).fm(t));r=o.a}return r}if(2==this.a.a.c.length&&7==jV(hK(this.a,1),117).e)r=jV(hK(this.a,0),117).fm(t)+"?";else if(2==this.a.a.c.length&&7==jV(hK(this.a,0),117).e)r=jV(hK(this.a,1),117).fm(t)+"??";else{for(iM(o=new E_,jV(hK(this.a,0),117).fm(t)),i=1;i<this.a.a.c.length;i++)o.a+="|",iM(o,jV(hK(this.a,i),117).fm(t));r=o.a}return r},mG(ote,"RegEx/Token/UnionToken",465),fPt(518,1,{592:1},Ux),EKt.Ib=function(){return this.a.b},mG(vte,"XMLTypeUtil/PatternMatcherImpl",518),fPt(1622,1381,{},Bu),mG(vte,"XMLTypeValidator",1622),fPt(264,1,mYt,cq),EKt.Jc=function(t){t4(this,t)},EKt.Kc=function(){return(this.b-this.a)*this.c<0?kNe:new qD(this)},EKt.a=0,EKt.b=0,EKt.c=0,mG(kte,"ExclusiveRange",264),fPt(1068,1,rYt,Fu),EKt.Rb=function(t){jV(t,19),uO()},EKt.Nb=function(t){lW(this,t)},EKt.Pb=function(){return zx()},EKt.Ub=function(){return Hx()},EKt.Wb=function(t){jV(t,19),dO()},EKt.Ob=function(){return!1},EKt.Sb=function(){return!1},EKt.Tb=function(){return-1},EKt.Vb=function(){return-1},EKt.Qb=function(){throw $b(new Jv(Tte))},mG(kte,"ExclusiveRange/1",1068),fPt(254,1,rYt,qD),EKt.Rb=function(t){jV(t,19),hO()},EKt.Nb=function(t){lW(this,t)},EKt.Pb=function(){return jut(this)},EKt.Ub=function(){return S8(this)},EKt.Wb=function(t){jV(t,19),fO()},EKt.Ob=function(){return this.c.c<0?this.a>=this.c.b:this.a<=this.c.b},EKt.Sb=function(){return this.b>0},EKt.Tb=function(){return this.b},EKt.Vb=function(){return this.b-1},EKt.Qb=function(){throw $b(new Jv(Tte))},EKt.a=0,EKt.b=0,mG(kte,"ExclusiveRange/RangeIterator",254);var ANe=LK(C8t,"C"),SNe=LK(I8t,"I"),INe=LK(PKt,"Z"),MNe=LK(M8t,"J"),PNe=LK(T8t,"B"),ONe=LK(A8t,"D"),DNe=LK(S8t,"F"),NNe=LK(P8t,"S"),LNe=hH("org.eclipse.elk.core.labels","ILabelManager"),RNe=hH($6t,"DiagnosticChain"),BNe=hH(u9t,"ResourceSet"),FNe=mG($6t,"InvocationTargetException",null),jNe=(N_(),l4),$Ne=$Ne=lxt;Qnt(Kb),cot("permProps",[[[Cte,Ate],[Ste,"gecko1_8"]],[[Cte,Ate],[Ste,"ie10"]],[[Cte,Ate],[Ste,"ie8"]],[[Cte,Ate],[Ste,"ie9"]],[[Cte,Ate],[Ste,"safari"]]]),$Ne(null,"elk",null)}).call(this)}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(e){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,n);var o=Object.assign({},e),s=!1;try{t.resolve("web-worker"),s=!0}catch(t){}if(e.workerUrl)if(s){var a=t("web-worker");o.workerFactory=function(t){return new a(t)}}else console.warn("Web worker requested but 'web-worker' package not installed. \nConsider installing the package or pass your own 'workerFactory' to ELK's constructor.\n... Falling back to non-web worker version.");if(!o.workerFactory){var c=t("./elk-worker.min.js").Worker;o.workerFactory=function(t){return new c(t)}}return r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,o))}return o(n,e),n}(t("./elk-api.js").default);Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports=s,s.default=s},{"./elk-api.js":1,"./elk-worker.min.js":2,"web-worker":4}],4:[function(t,e,n){e.exports=Worker},{}]},{},[3])(3)},t.exports=e()}({get exports(){return RH},set exports(t){RH=t}});const BH=new(o(RH)),FH={},jH={};let $H={};const VH=function(t,e,n,i,r,o,s){const a=n.select(`[id="${e}"]`),c=a.insert("g").attr("class","nodes");return Object.keys(t).forEach((function(e){const n=t[e];let s="default";n.classes.length>0&&(s=n.classes.join(" "));const l=nb(n.styles);let u,h=void 0!==n.text?n.text:n.id;const d={width:0,height:0};if(Zh(xw().flowchart.htmlLabels)){const t={label:h.replace(/fa[blrs]?:fa-[\w-]+/g,(t=>`<i class='${t.replace(":"," ")}'></i>`))};u=vL(a,t).node();const e=u.getBBox();d.width=e.width,d.height=e.height,d.labelNode=u,u.parentNode.removeChild(u)}else{const t=i.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("style",l.labelStyle.replace("color:","fill:"));const e=h.split(Jh.lineBreakRegex);for(const n of e){const e=i.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","1"),e.textContent=n,t.appendChild(e)}u=t;const n=u.getBBox();d.width=n.width,d.height=n.height,d.labelNode=u}const f=[{id:n.id+"-west",layoutOptions:{"port.side":"WEST"}},{id:n.id+"-east",layoutOptions:{"port.side":"EAST"}},{id:n.id+"-south",layoutOptions:{"port.side":"SOUTH"}},{id:n.id+"-north",layoutOptions:{"port.side":"NORTH"}}];let g=0,p="",m={};switch(n.type){case"round":g=5,p="rect";break;case"square":case"group":default:p="rect";break;case"diamond":p="question",m={portConstraints:"FIXED_SIDE"};break;case"hexagon":p="hexagon";break;case"odd":case"odd_right":p="rect_left_inv_arrow";break;case"lean_right":p="lean_right";break;case"lean_left":p="lean_left";break;case"trapezoid":p="trapezoid";break;case"inv_trapezoid":p="inv_trapezoid";break;case"circle":p="circle";break;case"ellipse":p="ellipse";break;case"stadium":p="stadium";break;case"subroutine":p="subroutine";break;case"cylinder":p="cylinder";break;case"doublecircle":p="doublecircle"}const b={labelStyle:l.labelStyle,shape:p,labelText:h,rx:g,ry:g,class:s,style:l.style,id:n.id,link:n.link,linkTarget:n.linkTarget,tooltip:r.db.getTooltip(n.id)||"",domId:r.db.lookUpDomId(n.id),haveCallback:n.haveCallback,width:"group"===n.type?500:void 0,dir:n.dir,type:n.type,props:n.props,padding:xw().flowchart.padding};let w,y;"group"!==b.type&&(y=qO(c,b,n.dir),w=y.node().getBBox());const v={id:n.id,ports:"diamond"===n.type?f:[],layoutOptions:m,labelText:h,labelData:d,domId:r.db.lookUpDomId(n.id),width:null==w?void 0:w.width,height:null==w?void 0:w.height,type:n.type,el:y,parent:o.parentById[n.id]};$H[b.id]=v})),s},zH=(t,e,n)=>{const i={TB:{in:{north:"north"},out:{south:"west",west:"east",east:"south"}},LR:{in:{west:"west"},out:{east:"south",south:"north",north:"east"}},RL:{in:{east:"east"},out:{west:"north",north:"south",south:"west"}},BT:{in:{south:"south"},out:{north:"east",east:"west",west:"north"}}};return i.TD=i.TB,h.info("abc88",n,e,t),i[n][e][t]},HH=(t,e,n)=>{if(h.info("getNextPort abc88",{node:t,edgeDirection:e,graphDirection:n}),!FH[t])switch(n){case"TB":case"TD":FH[t]={inPosition:"north",outPosition:"south"};break;case"BT":FH[t]={inPosition:"south",outPosition:"north"};break;case"RL":FH[t]={inPosition:"east",outPosition:"west"};break;case"LR":FH[t]={inPosition:"west",outPosition:"east"}}const i="in"===e?FH[t].inPosition:FH[t].outPosition;return"in"===e?FH[t].inPosition=zH(FH[t].inPosition,e,n):FH[t].outPosition=zH(FH[t].outPosition,e,n),i},UH=(t,e)=>{let n=t.start,i=t.end;const r=$H[n],o=$H[i];return r&&o?("diamond"===r.type&&(n=`${n}-${HH(n,"out",e)}`),"diamond"===o.type&&(i=`${i}-${HH(i,"in",e)}`),{source:n,target:i}):{source:n,target:i}},qH=function(t,e,n,i){h.info("abc78 edges = ",t);const r=i.insert("g").attr("class","edgeLabels");let o,s,a={},c=e.db.getDirection();if(void 0!==t.defaultStyle){const e=nb(t.defaultStyle);o=e.style,s=e.labelStyle}return t.forEach((function(e){var i="L-"+e.start+"-"+e.end;void 0===a[i]?(a[i]=0,h.info("abc78 new entry",i,a[i])):(a[i]++,h.info("abc78 new entry",i,a[i]));let l=i+"-"+a[i];h.info("abc78 new link id to be used is",i,l,a[i]);var u="LS-"+e.start,d="LE-"+e.end;const f={style:"",labelStyle:""};switch(f.minlen=e.length||1,"arrow_open"===e.type?f.arrowhead="none":f.arrowhead="normal",f.arrowTypeStart="arrow_open",f.arrowTypeEnd="arrow_open",e.type){case"double_arrow_cross":f.arrowTypeStart="arrow_cross";case"arrow_cross":f.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":f.arrowTypeStart="arrow_point";case"arrow_point":f.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":f.arrowTypeStart="arrow_circle";case"arrow_circle":f.arrowTypeEnd="arrow_circle"}let g="",p="";switch(e.stroke){case"normal":g="fill:none;",void 0!==o&&(g=o),void 0!==s&&(p=s),f.thickness="normal",f.pattern="solid";break;case"dotted":f.thickness="normal",f.pattern="dotted",f.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":f.thickness="thick",f.pattern="solid",f.style="stroke-width: 3.5px;fill:none;"}if(void 0!==e.style){const t=nb(e.style);g=t.style,p=t.labelStyle}f.style=f.style+=g,f.labelStyle=f.labelStyle+=p,void 0!==e.interpolate?f.curve=Km(e.interpolate,Bl):void 0!==t.defaultInterpolate?f.curve=Km(t.defaultInterpolate,Bl):f.curve=Km(jH.curve,Bl),void 0===e.text?void 0!==e.style&&(f.arrowheadStyle="fill: #333"):(f.arrowheadStyle="fill: #333",f.labelpos="c"),f.labelType="text",f.label=e.text.replace(Jh.lineBreakRegex,"\n"),void 0===e.style&&(f.style=f.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),f.labelStyle=f.labelStyle.replace("color:","fill:"),f.id=l,f.classes="flowchart-link "+u+" "+d;const m=nD(r,f),{source:b,target:w}=UH(e,c);h.debug("abc78 source and target",b,w),n.edges.push({id:"e"+e.start+e.end,sources:[b],targets:[w],labelEl:m,labels:[{width:f.width,height:f.height,orgWidth:f.width,orgHeight:f.height,text:f.label,layoutOptions:{"edgeLabels.inline":"true","edgeLabels.placement":"CENTER"}}],edgeData:f})})),n},WH=function(t,e,n,i){let r="";switch(i&&(r=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,r=r.replace(/\(/g,"\\("),r=r.replace(/\)/g,"\\)")),e.arrowTypeStart){case"arrow_cross":t.attr("marker-start","url("+r+"#"+n+"-crossStart)");break;case"arrow_point":t.attr("marker-start","url("+r+"#"+n+"-pointStart)");break;case"arrow_barb":t.attr("marker-start","url("+r+"#"+n+"-barbStart)");break;case"arrow_circle":t.attr("marker-start","url("+r+"#"+n+"-circleStart)");break;case"aggregation":t.attr("marker-start","url("+r+"#"+n+"-aggregationStart)");break;case"extension":t.attr("marker-start","url("+r+"#"+n+"-extensionStart)");break;case"composition":t.attr("marker-start","url("+r+"#"+n+"-compositionStart)");break;case"dependency":t.attr("marker-start","url("+r+"#"+n+"-dependencyStart)");break;case"lollipop":t.attr("marker-start","url("+r+"#"+n+"-lollipopStart)")}switch(e.arrowTypeEnd){case"arrow_cross":t.attr("marker-end","url("+r+"#"+n+"-crossEnd)");break;case"arrow_point":t.attr("marker-end","url("+r+"#"+n+"-pointEnd)");break;case"arrow_barb":t.attr("marker-end","url("+r+"#"+n+"-barbEnd)");break;case"arrow_circle":t.attr("marker-end","url("+r+"#"+n+"-circleEnd)");break;case"aggregation":t.attr("marker-end","url("+r+"#"+n+"-aggregationEnd)");break;case"extension":t.attr("marker-end","url("+r+"#"+n+"-extensionEnd)");break;case"composition":t.attr("marker-end","url("+r+"#"+n+"-compositionEnd)");break;case"dependency":t.attr("marker-end","url("+r+"#"+n+"-dependencyEnd)");break;case"lollipop":t.attr("marker-end","url("+r+"#"+n+"-lollipopEnd)")}},GH=function(t){const e={parentById:{},childrenById:{}},n=t.getSubGraphs();return h.info("Subgraphs - ",n),n.forEach((function(t){t.nodes.forEach((function(n){e.parentById[n]=t.id,void 0===e.childrenById[t.id]&&(e.childrenById[t.id]=[]),e.childrenById[t.id].push(n)}))})),n.forEach((function(t){t.id,void 0!==e.parentById[t.id]&&e.parentById[t.id]})),e},KH=function(t,e,n){const i=NH(t,e,n);if(void 0===i||"root"===i)return{x:0,y:0};const r=$H[i].offset;return{x:r.posX,y:r.posY}},YH=function(t,e,n,i,r){const o=KH(e.sources[0],e.targets[0],r),s=e.sections[0].startPoint,a=e.sections[0].endPoint,c=(e.sections[0].bendPoints?e.sections[0].bendPoints:[]).map((t=>[t.x+o.x,t.y+o.y])),l=[[s.x+o.x,s.y+o.y],...c,[a.x+o.x,a.y+o.y]],u=$l().curve(Bl),h=t.insert("path").attr("d",u(l)).attr("class","path").attr("fill","none"),d=t.insert("g").attr("class","edgeLabel"),f=un(d.node().appendChild(e.labelEl)),g=f.node().firstChild.getBoundingClientRect();f.attr("width",g.width),f.attr("height",g.height),d.attr("transform",`translate(${e.labels[0].x+o.x}, ${e.labels[0].y+o.y})`),WH(h,n,i.type,i.arrowMarkerAbsolute)},XH=(t,e)=>{t.forEach((t=>{t.children||(t.children=[]);const n=e.childrenById[t.id];n&&n.forEach((e=>{t.children.push($H[e])})),XH(t.children,e)}))},ZH=async function(t,e,n,i){var r;i.db.clear(),$H={},i.db.setGen("gen-2"),i.parser.parse(t);const o=un("body").append("div").attr("style","height:400px").attr("id","cy");let s={id:"root",layoutOptions:{"elk.hierarchyHandling":"INCLUDE_CHILDREN","org.eclipse.elk.padding":"[top=100, left=100, bottom=110, right=110]","elk.layered.spacing.edgeNodeBetweenLayers":"30","elk.direction":"DOWN"},children:[],edges:[]};switch(h.info("Drawing flowchart using v3 renderer",BH),i.db.getDirection()){case"BT":s.layoutOptions["elk.direction"]="UP";break;case"TB":s.layoutOptions["elk.direction"]="DOWN";break;case"LR":s.layoutOptions["elk.direction"]="RIGHT";break;case"RL":s.layoutOptions["elk.direction"]="LEFT"}const{securityLevel:a,flowchart:c}=xw();let l;"sandbox"===a&&(l=un("#i"+e));const u=un("sandbox"===a?l.nodes()[0].contentDocument.body:"body"),d="sandbox"===a?l.nodes()[0].contentDocument:document,f=u.select(`[id="${e}"]`);hO(f,["point","circle","cross"],i.type,i.arrowMarkerAbsolute);const g=i.db.getVertices();let p;const m=i.db.getSubGraphs();h.info("Subgraphs - ",m);for(let t=m.length-1;t>=0;t--)p=m[t],i.db.addVertex(p.id,p.title,"group",void 0,p.classes,p.dir);const b=f.insert("g").attr("class","subgraphs"),w=GH(i.db);s=VH(g,e,u,d,i,w,s);const y=f.insert("g").attr("class","edges edgePath"),v=i.db.getEdges();s=qH(v,i,s,f),Object.keys($H).forEach((t=>{const e=$H[t];e.parent||s.children.push(e),void 0!==w.childrenById[t]&&(e.labels=[{text:e.labelText,layoutOptions:{"nodeLabels.placement":"[H_CENTER, V_TOP, INSIDE]"},width:e.labelData.width,height:e.labelData.height}],delete e.x,delete e.y,delete e.width,delete e.height)})),XH(s.children,w),h.info("after layout",JSON.stringify(s,null,2));const _=await BH.layout(s);QH(0,0,_.children,f,b,i,0),h.info("after layout",_),null==(r=_.edges)||r.map((t=>{YH(y,t,t.edgeData,i,w)})),Nw({},f,c.diagramPadding,c.useMaxWidth),o.remove()},QH=(t,e,n,i,r,o,s)=>{n.forEach((function(n){if(n)if($H[n.id].offset={posX:n.x+t,posY:n.y+e,x:t,y:e,depth:s,width:n.width,height:n.height},"group"===n.type){const i=r.insert("g").attr("class","subgraph");i.insert("rect").attr("class","subgraph subgraph-lvl-"+s%5+" node").attr("x",n.x+t).attr("y",n.y+e).attr("width",n.width).attr("height",n.height);const o=i.insert("g").attr("class","label");o.attr("transform",`translate(${n.labels[0].x+t+n.x}, ${n.labels[0].y+e+n.y})`),o.node().appendChild(n.labelData.labelNode),h.info("Id (UGH)= ",n.type,n.labels)}else h.info("Id (UGH)= ",n.id),n.el.attr("transform",`translate(${n.x+t+n.width/2}, ${n.y+e+n.height/2})`)})),n.forEach((function(n){n&&"group"===n.type&&QH(t+n.x,e+n.y,n.children,i,r,o,s+1)}))},JH=t=>{let e="";for(let n=0;n<5;n++)e+=`\n      .subgraph-lvl-${n} {\n        fill: ${t[`surface${n}`]};\n        stroke: ${t[`surfacePeer${n}`]};\n      }\n    `;return e},tU={db:aL,renderer:{getClasses:function(t,e){h.info("Extracting classes"),e.db.clear("ver-2");try{return e.parse(t),e.db.getClasses()}catch(t){return{}}},draw:ZH},parser:nN,styles:t=>`.label {\n    font-family: ${t.fontFamily};\n    color: ${t.nodeTextColor||t.textColor};\n  }\n  .cluster-label text {\n    fill: ${t.titleColor};\n  }\n  .cluster-label span {\n    color: ${t.titleColor};\n  }\n\n  .label text,span {\n    fill: ${t.nodeTextColor||t.textColor};\n    color: ${t.nodeTextColor||t.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${t.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${t.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${t.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${t.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n      background-color: ${t.edgeLabelBackground};\n      fill: ${t.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n    fill: ${t.clusterBkg};\n    stroke: ${t.clusterBorder};\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${t.titleColor};\n  }\n\n  .cluster span {\n    color: ${t.titleColor};\n  }\n  /* .cluster div {\n    color: ${t.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${t.fontFamily};\n    font-size: 12px;\n    background: ${t.tertiaryColor};\n    border: 1px solid ${t.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .flowchartTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${t.textColor};\n  }\n  .subgraph {\n    stroke-width:2;\n    rx:3;\n  }\n  // .subgraph-lvl-1 {\n  //   fill:#ccc;\n  //   // stroke:black;\n  // }\n  ${JH(t)}\n`},eU=Object.freeze(Object.defineProperty({__proto__:null,diagram:tU},Symbol.toStringTag,{value:"Module"}));var nU=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[1,2],n=[1,5],i=[6,9,11,17,18,20,22,23,26,27,28],r=[1,15],o=[1,16],s=[1,17],a=[1,18],c=[1,19],l=[1,23],u=[1,24],h=[1,27],d=[4,6,9,11,17,18,20,22,23,26,27,28],f={trace:function(){},yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,period_statement:24,event_statement:25,period:26,event:27,open_directive:28,type_directive:29,arg_directive:30,close_directive:31,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",26:"period",27:"event",28:"open_directive",29:"type_directive",30:"arg_directive",31:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[24,1],[25,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 1:return o[a-1];case 3:case 7:case 8:this.$=[];break;case 4:o[a-1].push(o[a]),this.$=o[a-1];break;case 5:case 6:this.$=o[a];break;case 11:i.getCommonDb().setDiagramTitle(o[a].substr(6)),this.$=o[a].substr(6);break;case 12:this.$=o[a].trim(),i.getCommonDb().setAccTitle(this.$);break;case 13:case 14:this.$=o[a].trim(),i.getCommonDb().setAccDescription(this.$);break;case 15:i.addSection(o[a].substr(8)),this.$=o[a].substr(8);break;case 19:i.addTask(o[a],0,""),this.$=o[a];break;case 20:i.addEvent(o[a].substr(2)),this.$=o[a];break;case 21:i.parseDirective("%%{","open_directive");break;case 22:i.parseDirective(o[a],"type_directive");break;case 23:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 24:i.parseDirective("}%%","close_directive","timeline")}},table:[{3:1,4:e,7:3,12:4,28:n},{1:[3]},t(i,[2,3],{5:6}),{3:7,4:e,7:3,12:4,28:n},{13:8,29:[1,9]},{29:[2,21]},{6:[1,10],7:22,8:11,9:[1,12],10:13,11:[1,14],12:4,17:r,18:o,20:s,22:a,23:c,24:20,25:21,26:l,27:u,28:n},{1:[2,2]},{14:25,15:[1,26],31:h},t([15,31],[2,22]),t(i,[2,8],{1:[2,1]}),t(i,[2,4]),{7:22,10:28,12:4,17:r,18:o,20:s,22:a,23:c,24:20,25:21,26:l,27:u,28:n},t(i,[2,6]),t(i,[2,7]),t(i,[2,11]),{19:[1,29]},{21:[1,30]},t(i,[2,14]),t(i,[2,15]),t(i,[2,16]),t(i,[2,17]),t(i,[2,18]),t(i,[2,19]),t(i,[2,20]),{11:[1,31]},{16:32,30:[1,33]},{11:[2,24]},t(i,[2,5]),t(i,[2,12]),t(i,[2,13]),t(d,[2,9]),{14:34,31:h},{31:[2,23]},{11:[1,35]},t(d,[2,10])],defaultActions:{5:[2,21],7:[2,2],27:[2,24],33:[2,23]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",c=0,l=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),g={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(g.yy[p]=this.yy[p]);f.setInput(t,g.yy),g.yy.lexer=f,g.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var b=f.options&&f.options.ranges;function w(){var t;return"number"!=typeof(t=i.pop()||f.lex()||h)&&(t instanceof Array&&(t=(i=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,v,_,k,x,E,T,C,A={};;){if(v=n[n.length-1],this.defaultActions[v]?_=this.defaultActions[v]:(null==y&&(y=w()),_=s[v]&&s[v][y]),void 0===_||!_.length||!_[0]){var S="";for(x in C=[],s[v])this.terminals_[x]&&x>u&&C.push("'"+this.terminals_[x]+"'");S=f.showPosition?"Parse error on line "+(c+1)+":\n"+f.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(c+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[y]||y,line:f.yylineno,loc:m,expected:C})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+y);switch(_[0]){case 1:n.push(y),r.push(f.yytext),o.push(f.yylloc),n.push(_[1]),y=null,l=f.yyleng,a=f.yytext,c=f.yylineno,m=f.yylloc;break;case 2:if(E=this.productions_[_[1]][1],A.$=r[r.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(A,[a,l,c,g.yy,_[1],r,o].concat(d))))return k;E&&(n=n.slice(0,-1*E*2),r=r.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[_[1]][0]),r.push(A.$),o.push(A._$),T=s[n[n.length-2]][n[n.length-1]],n.push(T);break;case 3:return!0}}return!0}},g={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,i){switch(n){case 0:return this.begin("open_directive"),28;case 1:return this.begin("type_directive"),29;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),31;case 4:return 30;case 5:case 6:case 8:case 9:break;case 7:return 11;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 27;case 21:return 26;case 22:return 6;case 23:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?::\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23],inclusive:!0}}};function p(){this.yy={}}return f.lexer=g,p.prototype=f,f.Parser=p,new p}();nU.parser=nU;const iU=nU;let rU="",oU=0;const sU=[],aU=[],cU=[],lU=()=>cy,uU=(t,e,n)=>{uy(globalThis,t,e,n)},hU=function(){sU.length=0,aU.length=0,rU="",cU.length=0,ty()},dU=function(t){rU=t,sU.push(t)},fU=function(){return sU},gU=function(){let t=wU();const e=100;let n=0;for(;!t&&n<e;)t=wU(),n++;return aU.push(...cU),aU},pU=function(t,e,n){const i={id:oU++,section:rU,type:rU,task:t,score:e||0,events:n?[n]:[]};cU.push(i)},mU=function(t){cU.find((t=>t.id===oU-1)).events.push(t)},bU=function(t){const e={section:rU,type:rU,description:t,task:t,classes:[]};aU.push(e)},wU=function(){const t=function(t){return cU[t].processed};let e=!0;for(const[n,i]of cU.entries())t(n),e=e&&i.processed;return e},yU={clear:hU,getCommonDb:lU,addSection:dU,getSections:fU,getTasks:gU,addTask:pU,addTaskOrg:bU,addEvent:mU,parseDirective:uU},vU=Object.freeze(Object.defineProperty({__proto__:null,addEvent:mU,addSection:dU,addTask:pU,addTaskOrg:bU,clear:hU,default:yU,getCommonDb:lU,getSections:fU,getTasks:gU,parseDirective:uU},Symbol.toStringTag,{value:"Module"})),_U=12,kU=function(t,e){const n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),void 0!==e.class&&n.attr("class",e.class),n},xU=function(t,e){const n=15,i=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",n).attr("stroke-width",2).attr("overflow","visible"),r=t.append("g");function o(t){const i=Nl().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(n/2).outerRadius(n/2.2);t.append("path").attr("class","mouth").attr("d",i).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}function s(t){const i=Nl().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(n/2).outerRadius(n/2.2);t.append("path").attr("class","mouth").attr("d",i).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}function a(t){t.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return r.append("circle").attr("cx",e.cx-n/3).attr("cy",e.cy-n/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),r.append("circle").attr("cx",e.cx+n/3).attr("cy",e.cy-n/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),e.score>3?o(r):e.score<3?s(r):a(r),i},EU=function(t,e){const n=t.append("circle");return n.attr("cx",e.cx),n.attr("cy",e.cy),n.attr("class","actor-"+e.pos),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("r",e.r),void 0!==n.class&&n.attr("class",n.class),void 0!==e.title&&n.append("title").text(e.title),n},TU=function(t,e){const n=e.text.replace(/<br\s*\/?>/gi," "),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.attr("class","legend"),i.style("text-anchor",e.anchor),void 0!==e.class&&i.attr("class",e.class);const r=i.append("tspan");return r.attr("x",e.x+2*e.textMargin),r.text(n),i},CU=function(t,e){function n(t,e,n,i,r){return t+","+e+" "+(t+n)+","+e+" "+(t+n)+","+(e+i-r)+" "+(t+n-1.2*r)+","+(e+i)+" "+t+","+(e+i)}const i=t.append("polygon");i.attr("points",n(e.x,e.y,50,20,7)),i.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,TU(t,e)},AU=function(t,e,n){const i=t.append("g"),r=OU();r.x=e.x,r.y=e.y,r.fill=e.fill,r.width=n.width,r.height=n.height,r.class="journey-section section-type-"+e.num,r.rx=3,r.ry=3,kU(i,r),DU(n)(e.text,i,r.x,r.y,r.width,r.height,{class:"journey-section section-type-"+e.num},n,e.colour)};let SU=-1;const IU=function(t,e,n){const i=e.x+n.width/2,r=t.append("g");SU++;const o=450;r.append("line").attr("id","task"+SU).attr("x1",i).attr("y1",e.y).attr("x2",i).attr("y2",o).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),xU(r,{cx:i,cy:300+30*(5-e.score),score:e.score});const s=OU();s.x=e.x,s.y=e.y,s.fill=e.fill,s.width=n.width,s.height=n.height,s.class="task task-type-"+e.num,s.rx=3,s.ry=3,kU(r,s),e.x,DU(n)(e.task,r,s.x,s.y,s.width,s.height,{class:"task"},n,e.colour)},MU=function(t,e){kU(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},PU=function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},OU=function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},DU=function(){function t(t,e,n,r,o,s,a,c){i(e.append("text").attr("x",n+o/2).attr("y",r+s/2+5).style("font-color",c).style("text-anchor","middle").text(t),a)}function e(t,e,n,r,o,s,a,c,l){const{taskFontSize:u,taskFontFamily:h}=c,d=t.split(/<br\s*\/?>/gi);for(let t=0;t<d.length;t++){const c=t*u-u*(d.length-1)/2,f=e.append("text").attr("x",n+o/2).attr("y",r).attr("fill",l).style("text-anchor","middle").style("font-size",u).style("font-family",h);f.append("tspan").attr("x",n+o/2).attr("dy",c).text(d[t]),f.attr("y",r+s/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(f,a)}}function n(t,n,r,o,s,a,c,l){const u=n.append("switch"),h=u.append("foreignObject").attr("x",r).attr("y",o).attr("width",s).attr("height",a).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,u,r,o,s,a,c,l),i(h,c)}function i(t,e){for(const n in e)n in e&&t.attr(n,e[n])}return function(i){return"fo"===i.textPlacement?n:"old"===i.textPlacement?t:e}}();function NU(t,e){t.each((function(){var t,n=un(this),i=n.text().split(/(\s+|<br>)/).reverse(),r=[],o=1.1,s=n.attr("y"),a=parseFloat(n.attr("dy")),c=n.text(null).append("tspan").attr("x",0).attr("y",s).attr("dy",a+"em");for(let a=0;a<i.length;a++)t=i[i.length-1-a],r.push(t),c.text(r.join(" ").trim()),(c.node().getComputedTextLength()>e||"<br>"===t)&&(r.pop(),c.text(r.join(" ").trim()),r="<br>"===t?[""]:[t],c=n.append("tspan").attr("x",0).attr("y",s).attr("dy",o+"em").text(t))}))}const LU=function(t,e,n,i){const r=n%_U-1,o=t.append("g");e.section=r,o.attr("class",(e.class?e.class+" ":"")+"timeline-node section-"+r);const s=o.append("g"),a=o.append("g"),c=a.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(NU,e.width).node().getBBox(),l=i.fontSize&&i.fontSize.replace?i.fontSize.replace("px",""):i.fontSize;return e.height=c.height+1.1*l*.5+e.padding,e.height=Math.max(e.height,e.maxHeight),e.width=e.width+2*e.padding,a.attr("transform","translate("+e.width/2+", "+e.padding/2+")"),RU(s,e,r),e},RU=function(t,e,n){const i=5;t.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("d",`M0 ${e.height-i} v${-e.height+2*i} q0,-5 5,-5 h${e.width-2*i} q5,0 5,5 v${e.height-i} H0 Z`),t.append("line").attr("class","node-line-"+n).attr("x1",0).attr("y1",e.height).attr("x2",e.width).attr("y2",e.height)},BU={drawRect:kU,drawCircle:EU,drawSection:AU,drawText:TU,drawLabel:CU,drawTask:IU,drawBackgroundRect:MU,getTextObj:PU,getNoteRect:OU,initGraphics:function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},drawNode:LU,getVirtualNodeHeight:function(t,e,n){const i=t.append("g"),r=i.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(NU,e.width).node().getBBox(),o=n.fontSize&&n.fontSize.replace?n.fontSize.replace("px",""):n.fontSize;return i.remove(),r.height+1.1*o*.5+e.padding}},FU=function(t,e,n,i){const r=xw(),o=r.leftMargin?r.leftMargin:50;i.db.clear(),i.parser.parse(t+"\n"),h.debug("timeline",i.db);const s=r.securityLevel;let a;"sandbox"===s&&(a=un("#i"+e));const c=un("sandbox"===s?a.nodes()[0].contentDocument.body:"body").select("#"+e);c.append("g");const l=i.db.getTasks(),u=i.db.getCommonDb().getDiagramTitle();h.debug("task",l),BU.initGraphics(c);const d=i.db.getSections();h.debug("sections",d);let f=0,g=0,p=0,m=0,b=50+o,w=50;m=50;let y=0,v=!0;d.forEach((function(t){const e={number:y,descr:t,section:y,width:150,padding:20,maxHeight:f},n=BU.getVirtualNodeHeight(c,e,r);h.debug("sectionHeight before draw",n),f=Math.max(f,n+20)}));let _=0,k=0;h.debug("tasks.length",l.length);for(const[t,e]of l.entries()){const n={number:t,descr:e,section:e.section,width:150,padding:20,maxHeight:g},i=BU.getVirtualNodeHeight(c,n,r);h.debug("taskHeight before draw",i),g=Math.max(g,i+20),_=Math.max(_,e.events.length);let o=0;for(let t=0;t<e.events.length;t++){const n={descr:e.events[t],section:e.section,number:e.section,width:150,padding:20,maxHeight:50};o+=BU.getVirtualNodeHeight(c,n,r)}k=Math.max(k,o)}h.debug("maxSectionHeight before draw",f),h.debug("maxTaskHeight before draw",g),d&&d.length>0?d.forEach((t=>{const e={number:y,descr:t,section:y,width:150,padding:20,maxHeight:f};h.debug("sectionNode",e);const n=c.append("g"),i=BU.drawNode(n,e,y,r);h.debug("sectionNode output",i),n.attr("transform",`translate(${b}, ${m})`),w+=f+50;const o=l.filter((e=>e.section===t));o.length>0&&jU(c,o,y,b,w,g,r,_,k,f,!1),b+=200*Math.max(o.length,1),w=m,y++})):(v=!1,jU(c,l,y,b,w,g,r,_,k,f,!0));const x=c.node().getBBox();h.debug("bounds",x),u&&c.append("text").text(u).attr("x",x.width/2-o).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),p=v?f+g+150:g+100,c.append("g").attr("class","lineWrapper").append("line").attr("x1",o).attr("y1",p).attr("x2",x.width+3*o).attr("y2",p).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),Nw(void 0,c,r.timeline.padding?r.timeline.padding:50,!!r.timeline.useMaxWidth&&r.timeline.useMaxWidth)},jU=function(t,e,n,i,r,o,s,a,c,l,u){for(const a of e){const e={descr:a.task,section:n,number:n,width:150,padding:20,maxHeight:o};h.debug("taskNode",e);const d=t.append("g").attr("class","taskWrapper"),f=BU.drawNode(d,e,n,s).height;if(h.debug("taskHeight after draw",f),d.attr("transform",`translate(${i}, ${r})`),o=Math.max(o,f),a.events){const e=t.append("g").attr("class","lineWrapper");let h=o;r+=100,h+=$U(t,a.events,n,i,r,s),r-=100,e.append("line").attr("x1",i+95).attr("y1",r+o).attr("x2",i+95).attr("y2",r+o+(u?o:l)+c+120).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}i+=200,u&&!xw().timeline.disableMulticolor&&n++}r-=10},$U=function(t,e,n,i,r,o){let s=0;const a=r;r+=100;for(const a of e){const e={descr:a,section:n,number:n,width:150,padding:20,maxHeight:50};h.debug("eventNode",e);const c=t.append("g").attr("class","eventWrapper"),l=BU.drawNode(c,e,n,o).height;s+=l,c.attr("transform",`translate(${i}, ${r})`),r=r+10+l}return r=a,s},VU=t=>{let e="";for(let e=0;e<t.THEME_COLOR_LIMIT;e++)t["lineColor"+e]=t["lineColor"+e]||t["cScaleInv"+e],_d(t["lineColor"+e])?t["lineColor"+e]=xd(t["lineColor"+e],20):t["lineColor"+e]=Ed(t["lineColor"+e],20);for(let n=0;n<t.THEME_COLOR_LIMIT;n++){const i=""+(17-3*n);e+=`\n    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} path  {\n      fill: ${t["cScale"+n]};\n    }\n    .section-${n-1} text {\n     fill: ${t["cScaleLabel"+n]};\n    }\n    .node-icon-${n-1} {\n      font-size: 40px;\n      color: ${t["cScaleLabel"+n]};\n    }\n    .section-edge-${n-1}{\n      stroke: ${t["cScale"+n]};\n    }\n    .edge-depth-${n-1}{\n      stroke-width: ${i};\n    }\n    .section-${n-1} line {\n      stroke: ${t["cScaleInv"+n]} ;\n      stroke-width: 3;\n    }\n\n    .lineWrapper line{\n      stroke: ${t["cScaleLabel"+n]} ;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n    `}return e},zU={db:vU,renderer:{setConf:function(t){Object.keys(t).forEach((function(e){conf[e]=t[e]}))},draw:FU},parser:iU,styles:t=>`\n  .edge {\n    stroke-width: 3;\n  }\n  ${VU(t)}\n  .section-root rect, .section-root path, .section-root circle  {\n    fill: ${t.git0};\n  }\n  .section-root text {\n    fill: ${t.gitBranchLabel0};\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n  .eventWrapper  {\n   filter: brightness(120%);\n  }\n`},HU=Object.freeze(Object.defineProperty({__proto__:null,diagram:zU},Symbol.toStringTag,{value:"Module"}));var UU=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[1,4],n=[1,13],i=[1,12],r=[1,15],o=[1,16],s=[1,20],a=[1,19],c=[6,7,8],l=[1,26],u=[1,24],h=[1,25],d=[6,7,11],f=[1,6,13,15,16,19,22],g=[1,33],p=[1,34],m=[1,6,7,11,13,15,16,19,22],b={trace:function(){},yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 6:case 7:return i;case 8:i.getLogger().trace("Stop NL ");break;case 9:i.getLogger().trace("Stop EOF ");break;case 11:i.getLogger().trace("Stop NL2 ");break;case 12:i.getLogger().trace("Stop EOF2 ");break;case 15:i.getLogger().info("Node: ",o[a].id),i.addNode(o[a-1].length,o[a].id,o[a].descr,o[a].type);break;case 16:i.getLogger().trace("Icon: ",o[a]),i.decorateNode({icon:o[a]});break;case 17:case 21:i.decorateNode({class:o[a]});break;case 18:i.getLogger().trace("SPACELIST");break;case 19:i.getLogger().trace("Node: ",o[a].id),i.addNode(0,o[a].id,o[a].descr,o[a].type);break;case 20:i.decorateNode({icon:o[a]});break;case 25:i.getLogger().trace("node found ..",o[a-2]),this.$={id:o[a-1],descr:o[a-1],type:i.getType(o[a-2],o[a])};break;case 26:this.$={id:o[a],descr:o[a],type:i.nodeType.DEFAULT};break;case 27:i.getLogger().trace("node found ..",o[a-3]),this.$={id:o[a-3],descr:o[a-1],type:i.getType(o[a-2],o[a])}}},table:[{3:1,4:2,5:3,6:[1,5],8:e},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:e},{6:n,7:[1,10],9:9,12:11,13:i,14:14,15:r,16:o,17:17,18:18,19:s,22:a},t(c,[2,3]),{1:[2,2]},t(c,[2,4]),t(c,[2,5]),{1:[2,6],6:n,12:21,13:i,14:14,15:r,16:o,17:17,18:18,19:s,22:a},{6:n,9:22,12:11,13:i,14:14,15:r,16:o,17:17,18:18,19:s,22:a},{6:l,7:u,10:23,11:h},t(d,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:s,22:a}),t(d,[2,18]),t(d,[2,19]),t(d,[2,20]),t(d,[2,21]),t(d,[2,23]),t(d,[2,24]),t(d,[2,26],{19:[1,30]}),{20:[1,31]},{6:l,7:u,10:32,11:h},{1:[2,7],6:n,12:21,13:i,14:14,15:r,16:o,17:17,18:18,19:s,22:a},t(f,[2,14],{7:g,11:p}),t(m,[2,8]),t(m,[2,9]),t(m,[2,10]),t(d,[2,15]),t(d,[2,16]),t(d,[2,17]),{20:[1,35]},{21:[1,36]},t(f,[2,13],{7:g,11:p}),t(m,[2,11]),t(m,[2,12]),{21:[1,37]},t(d,[2,25]),t(d,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",c=0,l=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),g={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(g.yy[p]=this.yy[p]);f.setInput(t,g.yy),g.yy.lexer=f,g.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var b=f.options&&f.options.ranges;function w(){var t;return"number"!=typeof(t=i.pop()||f.lex()||h)&&(t instanceof Array&&(t=(i=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,v,_,k,x,E,T,C,A={};;){if(v=n[n.length-1],this.defaultActions[v]?_=this.defaultActions[v]:(null==y&&(y=w()),_=s[v]&&s[v][y]),void 0===_||!_.length||!_[0]){var S="";for(x in C=[],s[v])this.terminals_[x]&&x>u&&C.push("'"+this.terminals_[x]+"'");S=f.showPosition?"Parse error on line "+(c+1)+":\n"+f.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(c+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[y]||y,line:f.yylineno,loc:m,expected:C})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+y);switch(_[0]){case 1:n.push(y),r.push(f.yytext),o.push(f.yylloc),n.push(_[1]),y=null,l=f.yyleng,a=f.yytext,c=f.yylineno,m=f.yylloc;break;case 2:if(E=this.productions_[_[1]][1],A.$=r[r.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},b&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(A,[a,l,c,g.yy,_[1],r,o].concat(d))))return k;E&&(n=n.slice(0,-1*E*2),r=r.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[_[1]][0]),r.push(A.$),o.push(A._$),T=s[n[n.length-2]][n[n.length-1]],n.push(T);break;case 3:return!0}}return!0}},w={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,i){switch(n){case 0:t.getLogger().trace("Found comment",e.yytext);break;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:case 23:this.popState();break;case 5:t.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return t.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:t.getLogger().trace("end icon"),this.popState();break;case 10:return t.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return t.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return t.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return t.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:case 15:case 16:case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:t.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 22:return t.getLogger().trace("description:",e.yytext),"NODE_DESCR";case 24:return this.popState(),t.getLogger().trace("node end ))"),"NODE_DEND";case 25:return this.popState(),t.getLogger().trace("node end )"),"NODE_DEND";case 26:return this.popState(),t.getLogger().trace("node end ...",e.yytext),"NODE_DEND";case 27:case 30:case 31:return this.popState(),t.getLogger().trace("node end (("),"NODE_DEND";case 28:case 29:return this.popState(),t.getLogger().trace("node end (-"),"NODE_DEND";case 32:case 33:return t.getLogger().trace("Long description:",e.yytext),20}},rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\-\)\{\}]+)/i,/^(?:$)/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR:{rules:[22,23],inclusive:!1},NODE:{rules:[21,24,25,26,27,28,29,30,31,32,33],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};function y(){this.yy={}}return b.lexer=w,y.prototype=b,b.Parser=y,new y}();UU.parser=UU;const qU=UU,WU=t=>Wh(t,xw());let GU=[],KU=0,YU={};const XU=()=>{GU=[],KU=0,YU={}},ZU=function(t){for(let e=GU.length-1;e>=0;e--)if(GU[e].level<t)return GU[e];return null},QU=()=>GU.length>0?GU[0]:null,JU=(t,e,n,i)=>{h.info("addNode",t,e,n,i);const r=xw(),o={id:KU++,nodeId:WU(e),level:t,descr:WU(n),type:i,children:[],width:xw().mindmap.maxNodeWidth};switch(o.type){case tq.ROUNDED_RECT:case tq.RECT:case tq.HEXAGON:o.padding=2*r.mindmap.padding;break;default:o.padding=r.mindmap.padding}const s=ZU(t);if(s)s.children.push(o),GU.push(o);else{if(0!==GU.length){let t=new Error('There can be only one root. No parent could be found for ("'+o.descr+'")');throw t.hash={text:"branch "+name,token:"branch "+name,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+name+'"']},t}GU.push(o)}},tq={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},eq=(t,e)=>{switch(h.debug("In get type",t,e),t){case"[":return tq.RECT;case"(":return")"===e?tq.ROUNDED_RECT:tq.CLOUD;case"((":return tq.CIRCLE;case")":return tq.CLOUD;case"))":return tq.BANG;case"{{":return tq.HEXAGON;default:return tq.DEFAULT}},nq=(t,e)=>{YU[t]=e},iq=t=>{const e=GU[GU.length-1];t&&t.icon&&(e.icon=WU(t.icon)),t&&t.class&&(e.class=WU(t.class))},rq=t=>{switch(t){case tq.DEFAULT:return"no-border";case tq.RECT:return"rect";case tq.ROUNDED_RECT:return"rounded-rect";case tq.CIRCLE:return"circle";case tq.CLOUD:return"cloud";case tq.BANG:return"bang";case tq.HEXAGON:return"hexgon";default:return"no-border"}};let oq;const sq=t=>{oq=t},aq=()=>h,cq=t=>GU[t],lq=t=>YU[t],uq=Object.freeze(Object.defineProperty({__proto__:null,addNode:JU,clear:XU,decorateNode:iq,getElementById:lq,getLogger:aq,getMindmap:QU,getNodeById:cq,getType:eq,nodeType:tq,get parseError(){return oq},sanitizeText:WU,setElementForId:nq,setErrorHandler:sq,type2Str:rq},Symbol.toStringTag,{value:"Module"})),hq=12;function dq(t,e){t.each((function(){var t,n=un(this),i=n.text().split(/(\s+|<br>)/).reverse(),r=[],o=1.1,s=n.attr("y"),a=parseFloat(n.attr("dy")),c=n.text(null).append("tspan").attr("x",0).attr("y",s).attr("dy",a+"em");for(let a=0;a<i.length;a++)t=i[i.length-1-a],r.push(t),c.text(r.join(" ").trim()),(c.node().getComputedTextLength()>e||"<br>"===t)&&(r.pop(),c.text(r.join(" ").trim()),r="<br>"===t?[""]:[t],c=n.append("tspan").attr("x",0).attr("y",s).attr("dy",o+"em").text(t))}))}const fq=function(t,e,n){const i=5;t.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+rq(e.type)).attr("d",`M0 ${e.height-i} v${-e.height+2*i} q0,-5 5,-5 h${e.width-2*i} q5,0 5,5 v${e.height-i} H0 Z`),t.append("line").attr("class","node-line-"+n).attr("x1",0).attr("y1",e.height).attr("x2",e.width).attr("y2",e.height)},gq=function(t,e){t.append("rect").attr("id","node-"+e.id).attr("class","node-bkg node-"+rq(e.type)).attr("height",e.height).attr("width",e.width)},pq=function(t,e){const n=e.width,i=e.height,r=.15*n,o=.25*n,s=.35*n,a=.2*n;t.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+rq(e.type)).attr("d",`M0 0 a${r},${r} 0 0,1 ${.25*n},${-1*n*.1}\n      a${s},${s} 1 0,1 ${.4*n},${-1*n*.1}\n      a${o},${o} 1 0,1 ${.35*n},${1*n*.2}\n\n      a${r},${r} 1 0,1 ${.15*n},${1*i*.35}\n      a${a},${a} 1 0,1 ${-1*n*.15},${1*i*.65}\n\n      a${o},${r} 1 0,1 ${-1*n*.25},${.15*n}\n      a${s},${s} 1 0,1 ${-1*n*.5},0\n      a${r},${r} 1 0,1 ${-1*n*.25},${-1*n*.15}\n\n      a${r},${r} 1 0,1 ${-1*n*.1},${-1*i*.35}\n      a${a},${a} 1 0,1 ${.1*n},${-1*i*.65}\n\n    H0 V0 Z`)},mq=function(t,e){const n=e.width,i=e.height,r=.15*n;t.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+rq(e.type)).attr("d",`M0 0 a${r},${r} 1 0,0 ${.25*n},${-1*i*.1}\n      a${r},${r} 1 0,0 ${.25*n},0\n      a${r},${r} 1 0,0 ${.25*n},0\n      a${r},${r} 1 0,0 ${.25*n},${1*i*.1}\n\n      a${r},${r} 1 0,0 ${.15*n},${1*i*.33}\n      a${.8*r},${.8*r} 1 0,0 0,${1*i*.34}\n      a${r},${r} 1 0,0 ${-1*n*.15},${1*i*.33}\n\n      a${r},${r} 1 0,0 ${-1*n*.25},${.15*i}\n      a${r},${r} 1 0,0 ${-1*n*.25},0\n      a${r},${r} 1 0,0 ${-1*n*.25},0\n      a${r},${r} 1 0,0 ${-1*n*.25},${-1*i*.15}\n\n      a${r},${r} 1 0,0 ${-1*n*.1},${-1*i*.33}\n      a${.8*r},${.8*r} 1 0,0 0,${-1*i*.34}\n      a${r},${r} 1 0,0 ${.1*n},${-1*i*.33}\n\n    H0 V0 Z`)},bq=function(t,e){t.append("circle").attr("id","node-"+e.id).attr("class","node-bkg node-"+rq(e.type)).attr("r",e.width/2)};function wq(t,e,n,i,r){return t.insert("polygon",":first-child").attr("points",i.map((function(t){return t.x+","+t.y})).join(" ")).attr("transform","translate("+(r.width-e)/2+", "+n+")")}const yq=function(t,e){const n=e.height,i=n/4,r=e.width-e.padding+2*i;wq(t,r,n,[{x:i,y:0},{x:r-i,y:0},{x:r,y:-n/2},{x:r-i,y:-n},{x:i,y:-n},{x:0,y:-n/2}],e)},vq=function(t,e){t.append("rect").attr("id","node-"+e.id).attr("class","node-bkg node-"+rq(e.type)).attr("height",e.height).attr("rx",e.padding).attr("ry",e.padding).attr("width",e.width)},_q={drawNode:function(t,e,n,i){const r=n%(hq-1),o=t.append("g");e.section=r;let s="section-"+r;r<0&&(s+=" section-root"),o.attr("class",(e.class?e.class+" ":"")+"mindmap-node "+s);const a=o.append("g"),c=o.append("g"),l=c.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(dq,e.width).node().getBBox(),u=i.fontSize.replace?i.fontSize.replace("px",""):i.fontSize;if(e.height=l.height+1.1*u*.5+e.padding,e.width=l.width+2*e.padding,e.icon)if(e.type===tq.CIRCLE)e.height+=50,e.width+=50,o.append("foreignObject").attr("height","50px").attr("width",e.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+r+" "+e.icon),c.attr("transform","translate("+e.width/2+", "+(e.height/2-1.5*e.padding)+")");else{e.width+=50;const t=e.height;e.height=Math.max(t,60);const n=Math.abs(e.height-t);o.append("foreignObject").attr("width","60px").attr("height",e.height).attr("style","text-align: center;margin-top:"+n/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+r+" "+e.icon),c.attr("transform","translate("+(25+e.width/2)+", "+(n/2+e.padding/2)+")")}else c.attr("transform","translate("+e.width/2+", "+e.padding/2+")");switch(e.type){case tq.DEFAULT:fq(a,e,r);break;case tq.ROUNDED_RECT:vq(a,e);break;case tq.RECT:gq(a,e);break;case tq.CIRCLE:a.attr("transform","translate("+e.width/2+", "+ +e.height/2+")"),bq(a,e);break;case tq.CLOUD:pq(a,e);break;case tq.BANG:mq(a,e);break;case tq.HEXAGON:yq(a,e)}return nq(e.id,o),e.height},positionNode:function(t){const e=lq(t.id),n=t.x||0,i=t.y||0;e.attr("transform","translate("+n+","+i+")")},drawEdge:function(t,e,n,i,r){const o=r%(hq-1),s=n.x+n.width/2,a=n.y+n.height/2,c=e.x+e.width/2,l=e.y+e.height/2,u=c>s?s+Math.abs(s-c)/2:s-Math.abs(s-c)/2,h=l>a?a+Math.abs(a-l)/2:a-Math.abs(a-l)/2,d=c>s?Math.abs(s-u)/2+s:-Math.abs(s-u)/2+s,f=l>a?Math.abs(a-h)/2+a:-Math.abs(a-h)/2+a;t.append("path").attr("d","TB"===n.direction||"BT"===n.direction?`M${s},${a} Q${s},${f} ${u},${h} T${c},${l}`:`M${s},${a} Q${d},${a} ${u},${h} T${c},${l}`).attr("class","edge section-edge-"+o+" edge-depth-"+i)}};var kq={};!function(t){!function(e,n){t.exports=n()}(0,(function(){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){return a(t)||c(t,e)||l(t,e)||h()}function a(t){if(Array.isArray(t))return t}function c(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);s=!0);}catch(t){a=!0,r=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}function l(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d="undefined"==typeof window?null:window,f=d?d.navigator:null;d&&d.document;var g=t(""),p=t({}),m=t((function(){})),b="undefined"==typeof HTMLElement?"undefined":t(HTMLElement),w=function(t){return t&&t.instanceString&&v(t.instanceString)?t.instanceString():null},y=function(e){return null!=e&&t(e)==g},v=function(e){return null!=e&&t(e)===m},_=function(t){return!A(t)&&(Array.isArray?Array.isArray(t):null!=t&&t instanceof Array)},k=function(e){return null!=e&&t(e)===p&&!_(e)&&e.constructor===Object},x=function(e){return null!=e&&t(e)===p},E=function(e){return null!=e&&t(e)===t(1)&&!isNaN(e)},T=function(t){return E(t)&&Math.floor(t)===t},C=function(t){return"undefined"===b?void 0:null!=t&&t instanceof HTMLElement},A=function(t){return S(t)||I(t)},S=function(t){return"collection"===w(t)&&t._private.single},I=function(t){return"collection"===w(t)&&!t._private.single},M=function(t){return"core"===w(t)},P=function(t){return"stylesheet"===w(t)},O=function(t){return"event"===w(t)},D=function(t){return null==t||!(""!==t&&!t.match(/^\s+$/))},N=function(t){return"undefined"!=typeof HTMLElement&&t instanceof HTMLElement},L=function(t){return k(t)&&E(t.x1)&&E(t.x2)&&E(t.y1)&&E(t.y2)},R=function(t){return x(t)&&v(t.then)},B=function(){return f&&f.userAgent.match(/msie|trident|edge/i)},F=function(t,e){e||(e=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return t.join("$")});var n=function n(){var i,r=this,o=arguments,s=e.apply(r,o),a=n.cache;return(i=a[s])||(i=a[s]=t.apply(r,o)),i};return n.cache={},n},j=F((function(t){return t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))})),$=F((function(t){return t.replace(/(-\w)/g,(function(t){return t[1].toUpperCase()}))})),V=F((function(t,e){return t+e[0].toUpperCase()+e.substring(1)}),(function(t,e){return t+"$"+e})),z=function(t){return D(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},H="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",U="rgb[a]?\\(("+H+"[%]?)\\s*,\\s*("+H+"[%]?)\\s*,\\s*("+H+"[%]?)(?:\\s*,\\s*("+H+"))?\\)",q="rgb[a]?\\((?:"+H+"[%]?)\\s*,\\s*(?:"+H+"[%]?)\\s*,\\s*(?:"+H+"[%]?)(?:\\s*,\\s*(?:"+H+"))?\\)",W="hsl[a]?\\(("+H+")\\s*,\\s*("+H+"[%])\\s*,\\s*("+H+"[%])(?:\\s*,\\s*("+H+"))?\\)",G="hsl[a]?\\((?:"+H+")\\s*,\\s*(?:"+H+"[%])\\s*,\\s*(?:"+H+"[%])(?:\\s*,\\s*(?:"+H+"))?\\)",K="\\#[0-9a-fA-F]{3}",Y="\\#[0-9a-fA-F]{6}",X=function(t,e){return t<e?-1:t>e?1:0},Z=function(t,e){return-1*X(t,e)},Q=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments,n=1;n<e.length;n++){var i=e[n];if(null!=i)for(var r=Object.keys(i),o=0;o<r.length;o++){var s=r[o];t[s]=i[s]}}return t},J=function(t){if((4===t.length||7===t.length)&&"#"===t[0]){var e,n,i,r=16;return 4===t.length?(e=parseInt(t[1]+t[1],r),n=parseInt(t[2]+t[2],r),i=parseInt(t[3]+t[3],r)):(e=parseInt(t[1]+t[2],r),n=parseInt(t[3]+t[4],r),i=parseInt(t[5]+t[6],r)),[e,n,i]}},tt=function(t){var e,n,i,r,o,s,a,c;function l(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var u=new RegExp("^"+W+"$").exec(t);if(u){if((n=parseInt(u[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(i=parseFloat(u[2]))<0||i>100)return;if(i/=100,(r=parseFloat(u[3]))<0||r>100)return;if(r/=100,void 0!==(o=u[4])&&((o=parseFloat(o))<0||o>1))return;if(0===i)s=a=c=Math.round(255*r);else{var h=r<.5?r*(1+i):r+i-r*i,d=2*r-h;s=Math.round(255*l(d,h,n+1/3)),a=Math.round(255*l(d,h,n)),c=Math.round(255*l(d,h,n-1/3))}e=[s,a,c,o]}return e},et=function(t){var e,n=new RegExp("^"+U+"$").exec(t);if(n){e=[];for(var i=[],r=1;r<=3;r++){var o=n[r];if("%"===o[o.length-1]&&(i[r]=!0),o=parseFloat(o),i[r]&&(o=o/100*255),o<0||o>255)return;e.push(Math.floor(o))}var s=i[1]||i[2]||i[3],a=i[1]&&i[2]&&i[3];if(s&&!a)return;var c=n[4];if(void 0!==c){if((c=parseFloat(c))<0||c>1)return;e.push(c)}}return e},nt=function(t){return rt[t.toLowerCase()]},it=function(t){return(_(t)?t:null)||nt(t)||J(t)||et(t)||tt(t)},rt={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ot=function(t){for(var e=t.map,n=t.keys,i=n.length,r=0;r<i;r++){var o=n[r];if(k(o))throw Error("Tried to set map with object key");r<n.length-1?(null==e[o]&&(e[o]={}),e=e[o]):e[o]=t.value}},st=function(t){for(var e=t.map,n=t.keys,i=n.length,r=0;r<i;r++){var o=n[r];if(k(o))throw Error("Tried to get map with object key");if(null==(e=e[o]))return e}return e};function at(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var ct=at,lt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:{};function ut(t,e){return t(e={exports:{}},e.exports),e.exports}var ht="object"==typeof lt&&lt&&lt.Object===Object&&lt,dt="object"==typeof self&&self&&self.Object===Object&&self,ft=ht||dt||Function("return this")(),gt=function(){return ft.Date.now()},pt=/\s/;function mt(t){for(var e=t.length;e--&&pt.test(t.charAt(e)););return e}var bt=mt,wt=/^\s+/;function yt(t){return t?t.slice(0,bt(t)+1).replace(wt,""):t}var vt=yt,_t=ft.Symbol,kt=Object.prototype,xt=kt.hasOwnProperty,Et=kt.toString,Tt=_t?_t.toStringTag:void 0;function Ct(t){var e=xt.call(t,Tt),n=t[Tt];try{t[Tt]=void 0;var i=!0}catch(t){}var r=Et.call(t);return i&&(e?t[Tt]=n:delete t[Tt]),r}var At=Ct,St=Object.prototype.toString;function It(t){return St.call(t)}var Mt=It,Pt="[object Null]",Ot="[object Undefined]",Dt=_t?_t.toStringTag:void 0;function Nt(t){return null==t?void 0===t?Ot:Pt:Dt&&Dt in Object(t)?At(t):Mt(t)}var Lt=Nt;function Rt(t){return null!=t&&"object"==typeof t}var Bt=Rt,Ft="[object Symbol]";function jt(t){return"symbol"==typeof t||Bt(t)&&Lt(t)==Ft}var $t=jt,Vt=NaN,zt=/^[-+]0x[0-9a-f]+$/i,Ht=/^0b[01]+$/i,Ut=/^0o[0-7]+$/i,qt=parseInt;function Wt(t){if("number"==typeof t)return t;if($t(t))return Vt;if(ct(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ct(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=vt(t);var n=Ht.test(t);return n||Ut.test(t)?qt(t.slice(2),n?2:8):zt.test(t)?Vt:+t}var Gt=Wt,Kt="Expected a function",Yt=Math.max,Xt=Math.min;function Zt(t,e,n){var i,r,o,s,a,c,l=0,u=!1,h=!1,d=!0;if("function"!=typeof t)throw new TypeError(Kt);function f(e){var n=i,o=r;return i=r=void 0,l=e,s=t.apply(o,n)}function g(t){return l=t,a=setTimeout(b,e),u?f(t):s}function p(t){var n=e-(t-c);return h?Xt(n,o-(t-l)):n}function m(t){var n=t-c;return void 0===c||n>=e||n<0||h&&t-l>=o}function b(){var t=gt();if(m(t))return w(t);a=setTimeout(b,p(t))}function w(t){return a=void 0,d&&i?f(t):(i=r=void 0,s)}function y(){void 0!==a&&clearTimeout(a),l=0,i=c=r=a=void 0}function v(){return void 0===a?s:w(gt())}function _(){var t=gt(),n=m(t);if(i=arguments,r=this,c=t,n){if(void 0===a)return g(c);if(h)return clearTimeout(a),a=setTimeout(b,e),f(c)}return void 0===a&&(a=setTimeout(b,e)),s}return e=Gt(e)||0,ct(n)&&(u=!!n.leading,o=(h="maxWait"in n)?Yt(Gt(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d),_.cancel=y,_.flush=v,_}var Qt=Zt,Jt=d?d.performance:null,te=Jt&&Jt.now?function(){return Jt.now()}:function(){return Date.now()},ee=function(){if(d){if(d.requestAnimationFrame)return function(t){d.requestAnimationFrame(t)};if(d.mozRequestAnimationFrame)return function(t){d.mozRequestAnimationFrame(t)};if(d.webkitRequestAnimationFrame)return function(t){d.webkitRequestAnimationFrame(t)};if(d.msRequestAnimationFrame)return function(t){d.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout((function(){t(te())}),1e3/60)}}(),ne=function(t){return ee(t)},ie=te,re=9261,oe=65599,se=5381,ae=function(t){for(var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;!(e=t.next()).done;)n=n*oe+e.value|0;return n},ce=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:re)*oe+t|0},le=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se;return(e<<5)+e+t|0},ue=function(t,e){return 2097152*t+e},he=function(t){return 2097152*t[0]+t[1]},de=function(t,e){return[ce(t[0],e[0]),le(t[1],e[1])]},fe=function(t,e){var n={value:0,done:!1},i=0,r=t.length;return ae({next:function(){return i<r?n.value=t[i++]:n.done=!0,n}},e)},ge=function(t,e){var n={value:0,done:!1},i=0,r=t.length;return ae({next:function(){return i<r?n.value=t.charCodeAt(i++):n.done=!0,n}},e)},pe=function(){return me(arguments)},me=function(t){for(var e,n=0;n<t.length;n++){var i=t[n];e=0===n?ge(i):ge(i,e)}return e},be=!0,we=null!=console.warn,ye=null!=console.trace,ve=Number.MAX_SAFE_INTEGER||9007199254740991,_e=function(){return!0},ke=function(){return!1},xe=function(){return 0},Ee=function(){},Te=function(t){throw new Error(t)},Ce=function(t){if(void 0===t)return be;be=!!t},Ae=function(t){Ce()&&(we?console.warn(t):(console.log(t),ye&&console.trace()))},Se=function(t){return Q({},t)},Ie=function(t){return null==t?t:_(t)?t.slice():k(t)?Se(t):t},Me=function(t){return t.slice()},Pe=function(t,e){for(e=t="";t++<36;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e},Oe={},De=function(){return Oe},Ne=function(t){var e=Object.keys(t);return function(n){for(var i={},r=0;r<e.length;r++){var o=e[r],s=null==n?void 0:n[o];i[o]=void 0===s?t[o]:s}return i}},Le=function(t,e,n){for(var i=t.length-1;i>=0&&(t[i]!==e||(t.splice(i,1),!n));i--);},Re=function(t){t.splice(0,t.length)},Be=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];t.push(i)}},Fe=function(t,e,n){return n&&(e=V(n,e)),t[e]},je=function(t,e,n,i){n&&(e=V(n,e)),t[e]=i},$e="undefined"!=typeof Map?Map:function(){function t(){e(this,t),this._obj={}}return i(t,[{key:"set",value:function(t,e){return this._obj[t]=e,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return void 0!==this._obj[t]}},{key:"get",value:function(t){return this._obj[t]}}]),t}(),Ve="undefined",ze=function(){function t(n){if(e(this,t),this._obj=Object.create(null),this.size=0,null!=n){var i;i=null!=n.instanceString&&n.instanceString()===this.instanceString()?n.toArray():n;for(var r=0;r<i.length;r++)this.add(i[r])}}return i(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var e=this._obj;1!==e[t]&&(e[t]=1,this.size++)}},{key:"delete",value:function(t){var e=this._obj;1===e[t]&&(e[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return 1===this._obj[t]}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter((function(e){return t.has(e)}))}},{key:"forEach",value:function(t,e){return this.toArray().forEach(t,e)}}]),t}(),He=("undefined"==typeof Set?"undefined":t(Set))!==Ve?Set:ze,Ue=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==t&&void 0!==e&&M(t)){var i=e.group;if(null==i&&(i=e.data&&null!=e.data.source&&null!=e.data.target?"edges":"nodes"),"nodes"===i||"edges"===i){this.length=1,this[0]=this;var r=this._private={cy:t,single:!0,data:e.data||{},position:e.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!e.selected,selectable:void 0===e.selectable||!!e.selectable,locked:!!e.locked,grabbed:!1,grabbable:void 0===e.grabbable||!!e.grabbable,pannable:void 0===e.pannable?"edges"===i:!!e.pannable,active:!1,classes:new He,animation:{current:[],queue:[]},rscratch:{},scratch:e.scratch||{},edges:[],children:[],parent:e.parent&&e.parent.isNode()?e.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==r.position.x&&(r.position.x=0),null==r.position.y&&(r.position.y=0),e.renderedPosition){var o=e.renderedPosition,s=t.pan(),a=t.zoom();r.position={x:(o.x-s.x)/a,y:(o.y-s.y)/a}}var c=[];_(e.classes)?c=e.classes:y(e.classes)&&(c=e.classes.split(/\s+/));for(var l=0,u=c.length;l<u;l++){var h=c[l];h&&""!==h&&r.classes.add(h)}this.createEmitter();var d=e.style||e.css;d&&(Ae("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d)),(void 0===n||n)&&this.restore()}else Te("An element must be of type `nodes` or `edges`; you specified `"+i+"`")}else Te("An element must have a core reference and parameters set")},qe=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(e,n,i){var r;k(e)&&!A(e)&&(e=(r=e).roots||r.root,n=r.visit,i=r.directed),i=2!==arguments.length||v(n)?i:n,n=v(n)?n:function(){};for(var o,s=this._private.cy,a=e=y(e)?this.filter(e):e,c=[],l=[],u={},h={},d={},f=0,g=this.byGroup(),p=g.nodes,m=g.edges,b=0;b<a.length;b++){var w=a[b],_=w.id();w.isNode()&&(c.unshift(w),t.bfs&&(d[_]=!0,l.push(w)),h[_]=0)}for(var x=function(){var e=t.bfs?c.shift():c.pop(),r=e.id();if(t.dfs){if(d[r])return"continue";d[r]=!0,l.push(e)}var s=h[r],a=u[r],g=null!=a?a.source():null,b=null!=a?a.target():null,w=null==a?void 0:e.same(g)?b[0]:g[0],y=void 0;if(!0===(y=n(e,a,w,f++,s)))return o=e,"break";if(!1===y)return"break";for(var v=e.connectedEdges().filter((function(t){return(!i||t.source().same(e))&&m.has(t)})),_=0;_<v.length;_++){var k=v[_],x=k.connectedNodes().filter((function(t){return!t.same(e)&&p.has(t)})),E=x.id();0===x.length||d[E]||(x=x[0],c.push(x),t.bfs&&(d[E]=!0,l.push(x)),u[E]=k,h[E]=h[r]+1)}};0!==c.length;){var E=x();if("continue"!==E&&"break"===E)break}for(var T=s.collection(),C=0;C<l.length;C++){var S=l[C],I=u[S.id()];null!=I&&T.push(I),T.push(S)}return{path:s.collection(T),found:s.collection(o)}}},We={breadthFirstSearch:qe({bfs:!0}),depthFirstSearch:qe({dfs:!0})};We.bfs=We.breadthFirstSearch,We.dfs=We.depthFirstSearch;var Ge=ut((function(t,e){(function(){var e,n,i,r,o,s,a,c,l,u,h,d,f,g,p;i=Math.floor,u=Math.min,n=function(t,e){return t<e?-1:t>e?1:0},l=function(t,e,r,o,s){var a;if(null==r&&(r=0),null==s&&(s=n),r<0)throw new Error("lo must be non-negative");for(null==o&&(o=t.length);r<o;)s(e,t[a=i((r+o)/2)])<0?o=a:r=a+1;return[].splice.apply(t,[r,r-r].concat(e)),e},s=function(t,e,i){return null==i&&(i=n),t.push(e),g(t,0,t.length-1,i)},o=function(t,e){var i,r;return null==e&&(e=n),i=t.pop(),t.length?(r=t[0],t[0]=i,p(t,0,e)):r=i,r},c=function(t,e,i){var r;return null==i&&(i=n),r=t[0],t[0]=e,p(t,0,i),r},a=function(t,e,i){var r;return null==i&&(i=n),t.length&&i(t[0],e)<0&&(e=(r=[t[0],e])[0],t[0]=r[1],p(t,0,i)),e},r=function(t,e){var r,o,s,a,c,l;for(null==e&&(e=n),c=[],o=0,s=(a=function(){l=[];for(var e=0,n=i(t.length/2);0<=n?e<n:e>n;0<=n?e++:e--)l.push(e);return l}.apply(this).reverse()).length;o<s;o++)r=a[o],c.push(p(t,r,e));return c},f=function(t,e,i){var r;if(null==i&&(i=n),-1!==(r=t.indexOf(e)))return g(t,0,r,i),p(t,r,i)},h=function(t,e,i){var o,s,c,l,u;if(null==i&&(i=n),!(s=t.slice(0,e)).length)return s;for(r(s,i),c=0,l=(u=t.slice(e)).length;c<l;c++)o=u[c],a(s,o,i);return s.sort(i).reverse()},d=function(t,e,i){var s,a,c,h,d,f,g,p,m;if(null==i&&(i=n),10*e<=t.length){if(!(c=t.slice(0,e).sort(i)).length)return c;for(a=c[c.length-1],h=0,f=(g=t.slice(e)).length;h<f;h++)i(s=g[h],a)<0&&(l(c,s,0,null,i),c.pop(),a=c[c.length-1]);return c}for(r(t,i),m=[],d=0,p=u(e,t.length);0<=p?d<p:d>p;0<=p?++d:--d)m.push(o(t,i));return m},g=function(t,e,i,r){var o,s,a;for(null==r&&(r=n),o=t[i];i>e&&r(o,s=t[a=i-1>>1])<0;)t[i]=s,i=a;return t[i]=o},p=function(t,e,i){var r,o,s,a,c;for(null==i&&(i=n),o=t.length,c=e,s=t[e],r=2*e+1;r<o;)(a=r+1)<o&&!(i(t[r],t[a])<0)&&(r=a),t[e]=t[r],r=2*(e=r)+1;return t[e]=s,g(t,c,e,i)},e=function(){function t(t){this.cmp=null!=t?t:n,this.nodes=[]}return t.push=s,t.pop=o,t.replace=c,t.pushpop=a,t.heapify=r,t.updateItem=f,t.nlargest=h,t.nsmallest=d,t.prototype.push=function(t){return s(this.nodes,t,this.cmp)},t.prototype.pop=function(){return o(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return c(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return a(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return r(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return f(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),function(e,n){t.exports=n()}(0,(function(){return e}))}).call(lt)})),Ke=Ge,Ye=Ne({root:null,weight:function(t){return 1},directed:!1}),Xe={dijkstra:function(t){if(!k(t)){var e=arguments;t={root:e[0],weight:e[1],directed:e[2]}}var n=Ye(t),i=n.root,r=n.weight,o=n.directed,s=this,a=r,c=y(i)?this.filter(i)[0]:i[0],l={},u={},h={},d=this.byGroup(),f=d.nodes,g=d.edges;g.unmergeBy((function(t){return t.isLoop()}));for(var p=function(t){return l[t.id()]},m=function(t,e){l[t.id()]=e,b.updateItem(t)},b=new Ke((function(t,e){return p(t)-p(e)})),w=0;w<f.length;w++){var v=f[w];l[v.id()]=v.same(c)?0:1/0,b.push(v)}for(var _=function(t,e){for(var n,i=(o?t.edgesTo(e):t.edgesWith(e)).intersect(g),r=1/0,s=0;s<i.length;s++){var c=i[s],l=a(c);(l<r||!n)&&(r=l,n=c)}return{edge:n,dist:r}};b.size()>0;){var x=b.pop(),E=p(x),T=x.id();if(h[T]=E,E!==1/0)for(var C=x.neighborhood().intersect(f),A=0;A<C.length;A++){var S=C[A],I=S.id(),M=_(x,S),P=E+M.dist;P<p(S)&&(m(S,P),u[I]={node:x,edge:M.edge})}}return{distanceTo:function(t){var e=y(t)?f.filter(t)[0]:t[0];return h[e.id()]},pathTo:function(t){var e=y(t)?f.filter(t)[0]:t[0],n=[],i=e,r=i.id();if(e.length>0)for(n.unshift(e);u[r];){var o=u[r];n.unshift(o.edge),n.unshift(o.node),r=(i=o.node).id()}return s.spawn(n)}}}},Ze={kruskal:function(t){t=t||function(t){return 1};for(var e=this.byGroup(),n=e.nodes,i=e.edges,r=n.length,o=new Array(r),s=n,a=function(t){for(var e=0;e<o.length;e++)if(o[e].has(t))return e},c=0;c<r;c++)o[c]=this.spawn(n[c]);for(var l=i.sort((function(e,n){return t(e)-t(n)})),u=0;u<l.length;u++){var h=l[u],d=h.source()[0],f=h.target()[0],g=a(d),p=a(f),m=o[g],b=o[p];g!==p&&(s.merge(h),m.merge(b),o.splice(p,1))}return s}},Qe=Ne({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),Je={aStar:function(t){var e=this.cy(),n=Qe(t),i=n.root,r=n.goal,o=n.heuristic,s=n.directed,a=n.weight;i=e.collection(i)[0],r=e.collection(r)[0];var c,l,u=i.id(),h=r.id(),d={},f={},g={},p=new Ke((function(t,e){return f[t.id()]-f[e.id()]})),m=new He,b={},w={},y=function(t,e){p.push(t),m.add(e)},v=function(){c=p.pop(),l=c.id(),m.delete(l)},_=function(t){return m.has(t)};y(i,u),d[u]=0,f[u]=o(i);for(var k=0;p.size()>0;){if(v(),k++,l===h){for(var x=[],E=r,T=h,C=w[T];x.unshift(E),null!=C&&x.unshift(C),null!=(E=b[T]);)C=w[T=E.id()];return{found:!0,distance:d[l],path:this.spawn(x),steps:k}}g[l]=!0;for(var A=c._private.edges,S=0;S<A.length;S++){var I=A[S];if(this.hasElementWithId(I.id())&&(!s||I.data("source")===l)){var M=I.source(),P=I.target(),O=M.id()!==l?M:P,D=O.id();if(this.hasElementWithId(D)&&!g[D]){var N=d[l]+a(I);_(D)?N<d[D]&&(d[D]=N,f[D]=N+o(O),b[D]=c,w[D]=I):(d[D]=N,f[D]=N+o(O),y(O,D),b[D]=c,w[D]=I)}}}}return{found:!1,distance:void 0,path:void 0,steps:k}}},tn=Ne({weight:function(t){return 1},directed:!1}),en={floydWarshall:function(t){for(var e=this.cy(),n=tn(t),i=n.weight,r=n.directed,o=i,s=this.byGroup(),a=s.nodes,c=s.edges,l=a.length,u=l*l,h=function(t){return a.indexOf(t)},d=function(t){return a[t]},f=new Array(u),g=0;g<u;g++){var p=g%l,m=(g-p)/l;f[g]=m===p?0:1/0}for(var b=new Array(u),w=new Array(u),v=0;v<c.length;v++){var _=c[v],k=_.source()[0],x=_.target()[0];if(k!==x){var E=h(k),T=h(x),C=E*l+T,A=o(_);if(f[C]>A&&(f[C]=A,b[C]=T,w[C]=_),!r){var S=T*l+E;!r&&f[S]>A&&(f[S]=A,b[S]=E,w[S]=_)}}}for(var I=0;I<l;I++)for(var M=0;M<l;M++)for(var P=M*l+I,O=0;O<l;O++){var D=M*l+O,N=I*l+O;f[P]+f[N]<f[D]&&(f[D]=f[P]+f[N],b[D]=b[P])}var L=function(t){return(y(t)?e.filter(t):t)[0]},R=function(t){return h(L(t))};return{distance:function(t,e){var n=R(t),i=R(e);return f[n*l+i]},path:function(t,n){var i=R(t),r=R(n),o=d(i);if(i===r)return o.collection();if(null==b[i*l+r])return e.collection();var s,a=e.collection(),c=i;for(a.merge(o);i!==r;)c=i,i=b[i*l+r],s=w[c*l+i],a.merge(s),a.merge(d(i));return a}}}},nn=Ne({weight:function(t){return 1},directed:!1,root:null}),rn={bellmanFord:function(t){var e=this,n=nn(t),i=n.weight,r=n.directed,o=n.root,s=i,a=this,c=this.cy(),l=this.byGroup(),u=l.edges,h=l.nodes,d=h.length,f=new $e,g=!1,p=[];o=c.collection(o)[0],u.unmergeBy((function(t){return t.isLoop()}));for(var m=u.length,b=function(t){var e=f.get(t.id());return e||(e={},f.set(t.id(),e)),e},w=function(t){return(y(t)?c.$(t):t)[0]},v=function(t){return b(w(t)).dist},_=function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,i=[],r=w(t);;){if(null==r)return e.spawn();var s=b(r),c=s.edge,l=s.pred;if(i.unshift(r[0]),r.same(n)&&i.length>0)break;null!=c&&i.unshift(c),r=l}return a.spawn(i)},k=0;k<d;k++){var x=h[k],E=b(x);x.same(o)?E.dist=0:E.dist=1/0,E.pred=null,E.edge=null}for(var T=!1,C=function(t,e,n,i,r,o){var s=i.dist+o;s<r.dist&&!n.same(i.edge)&&(r.dist=s,r.pred=t,r.edge=n,T=!0)},A=1;A<d;A++){T=!1;for(var S=0;S<m;S++){var I=u[S],M=I.source(),P=I.target(),O=s(I),D=b(M),N=b(P);C(M,P,I,D,N,O),r||C(P,M,I,N,D,O)}if(!T)break}if(T)for(var L=[],R=0;R<m;R++){var B=u[R],F=B.source(),j=B.target(),$=s(B),V=b(F).dist,z=b(j).dist;if(V+$<z||!r&&z+$<V){if(g||(Ae("Graph contains a negative weight cycle for Bellman-Ford"),g=!0),!1===t.findNegativeWeightCycles)break;var H=[];V+$<z&&H.push(F),!r&&z+$<V&&H.push(j);for(var U=H.length,q=0;q<U;q++){var W=H[q],G=[W];G.push(b(W).edge);for(var K=b(W).pred;-1===G.indexOf(K);)G.push(K),G.push(b(K).edge),K=b(K).pred;for(var Y=(G=G.slice(G.indexOf(K)))[0].id(),X=0,Z=2;Z<G.length;Z+=2)G[Z].id()<Y&&(Y=G[Z].id(),X=Z);(G=G.slice(X).concat(G.slice(0,X))).push(G[0]);var Q=G.map((function(t){return t.id()})).join(",");-1===L.indexOf(Q)&&(p.push(a.spawn(G)),L.push(Q))}}}return{distanceTo:v,pathTo:_,hasNegativeWeightCycle:g,negativeWeightCycles:p}}},on=Math.sqrt(2),sn=function(t,e,n){0===n.length&&Te("Karger-Stein must be run on a connected (sub)graph");for(var i=n[t],r=i[1],o=i[2],s=e[r],a=e[o],c=n,l=c.length-1;l>=0;l--){var u=c[l],h=u[1],d=u[2];(e[h]===s&&e[d]===a||e[h]===a&&e[d]===s)&&c.splice(l,1)}for(var f=0;f<c.length;f++){var g=c[f];g[1]===a?(c[f]=g.slice(),c[f][1]=s):g[2]===a&&(c[f]=g.slice(),c[f][2]=s)}for(var p=0;p<e.length;p++)e[p]===a&&(e[p]=s);return c},an=function(t,e,n,i){for(;n>i;){var r=Math.floor(Math.random()*e.length);e=sn(r,t,e),n--}return e},cn={kargerStein:function(){var t=this,e=this.byGroup(),n=e.nodes,i=e.edges;i.unmergeBy((function(t){return t.isLoop()}));var r=n.length,o=i.length,s=Math.ceil(Math.pow(Math.log(r)/Math.LN2,2)),a=Math.floor(r/on);if(!(r<2)){for(var c=[],l=0;l<o;l++){var u=i[l];c.push([l,n.indexOf(u.source()),n.indexOf(u.target())])}for(var h=1/0,d=[],f=new Array(r),g=new Array(r),p=new Array(r),m=function(t,e){for(var n=0;n<r;n++)e[n]=t[n]},b=0;b<=s;b++){for(var w=0;w<r;w++)g[w]=w;var y=an(g,c.slice(),r,a),v=y.slice();m(g,p);var _=an(g,y,a,2),k=an(p,v,a,2);_.length<=k.length&&_.length<h?(h=_.length,d=_,m(g,f)):k.length<=_.length&&k.length<h&&(h=k.length,d=k,m(p,f))}for(var x=this.spawn(d.map((function(t){return i[t[0]]}))),E=this.spawn(),T=this.spawn(),C=f[0],A=0;A<f.length;A++){var S=f[A],I=n[A];S===C?E.merge(I):T.merge(I)}var M=function(e){var n=t.spawn();return e.forEach((function(e){n.merge(e),e.connectedEdges().forEach((function(e){t.contains(e)&&!x.contains(e)&&n.merge(e)}))})),n},P=[M(E),M(T)];return{cut:x,components:P,partition1:E,partition2:T}}Te("At least 2 nodes are required for Karger-Stein algorithm")}},ln=function(t){return{x:t.x,y:t.y}},un=function(t,e,n){return{x:t.x*e+n.x,y:t.y*e+n.y}},hn=function(t,e,n){return{x:(t.x-n.x)/e,y:(t.y-n.y)/e}},dn=function(t){return{x:t[0],y:t[1]}},fn=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=1/0,r=e;r<n;r++){var o=t[r];isFinite(o)&&(i=Math.min(o,i))}return i},gn=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=-1/0,r=e;r<n;r++){var o=t[r];isFinite(o)&&(i=Math.max(o,i))}return i},pn=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=0,r=0,o=e;o<n;o++){var s=t[o];isFinite(s)&&(i+=s,r++)}return i/r},mn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(n<t.length&&t.splice(n,t.length-n),e>0&&t.splice(0,e)):t=t.slice(e,n);for(var o=0,s=t.length-1;s>=0;s--){var a=t[s];r?isFinite(a)||(t[s]=-1/0,o++):t.splice(s,1)}i&&t.sort((function(t,e){return t-e}));var c=t.length,l=Math.floor(c/2);return c%2!=0?t[l+1+o]:(t[l-1+o]+t[l+o])/2},bn=function(t){return Math.PI*t/180},wn=function(t,e){return Math.atan2(e,t)-Math.PI/2},yn=Math.log2||function(t){return Math.log(t)/Math.log(2)},vn=function(t){return t>0?1:t<0?-1:0},_n=function(t,e){return Math.sqrt(kn(t,e))},kn=function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},xn=function(t){for(var e=t.length,n=0,i=0;i<e;i++)n+=t[i];for(var r=0;r<e;r++)t[r]=t[r]/n;return t},En=function(t,e,n,i){return(1-i)*(1-i)*t+2*(1-i)*i*e+i*i*n},Tn=function(t,e,n,i){return{x:En(t.x,e.x,n.x,i),y:En(t.y,e.y,n.y,i)}},Cn=function(t,e,n,i){var r={x:e.x-t.x,y:e.y-t.y},o=_n(t,e),s={x:r.x/o,y:r.y/o};return n=null==n?0:n,i=null!=i?i:n*o,{x:t.x+s.x*i,y:t.y+s.y*i}},An=function(t,e,n){return Math.max(t,Math.min(n,e))},Sn=function(t){if(null==t)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=t.x1&&null!=t.y1){if(null!=t.x2&&null!=t.y2&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(null!=t.w&&null!=t.h&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},In=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}},Mn=function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0},Pn=function(t,e){t.x1=Math.min(t.x1,e.x1),t.x2=Math.max(t.x2,e.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,e.y1),t.y2=Math.max(t.y2,e.y2),t.h=t.y2-t.y1},On=function(t,e,n){t.x1=Math.min(t.x1,e),t.x2=Math.max(t.x2,e),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n),t.y2=Math.max(t.y2,n),t.h=t.y2-t.y1},Dn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.x1-=e,t.x2+=e,t.y1-=e,t.y2+=e,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},Nn=function(t){var e,n,i,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===o.length)e=n=i=r=o[0];else if(2===o.length)e=i=o[0],r=n=o[1];else if(4===o.length){var a=s(o,4);e=a[0],n=a[1],i=a[2],r=a[3]}return t.x1-=r,t.x2+=n,t.y1-=e,t.y2+=i,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},Ln=function(t,e){t.x1=e.x1,t.y1=e.y1,t.x2=e.x2,t.y2=e.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},Rn=function(t,e){return!(t.x1>e.x2||e.x1>t.x2||t.x2<e.x1||e.x2<t.x1||t.y2<e.y1||e.y2<t.y1||t.y1>e.y2||e.y1>t.y2)},Bn=function(t,e,n){return t.x1<=e&&e<=t.x2&&t.y1<=n&&n<=t.y2},Fn=function(t,e){return Bn(t,e.x,e.y)},jn=function(t,e){return Bn(t,e.x1,e.y1)&&Bn(t,e.x2,e.y2)},$n=function(t,e,n,i,r,o,s){var a,c=li(r,o),l=r/2,u=o/2,h=i-u-s;if((a=ni(t,e,n,i,n-l+c-s,h,n+l-c+s,h,!1)).length>0)return a;var d=n+l+s;if((a=ni(t,e,n,i,d,i-u+c-s,d,i+u-c+s,!1)).length>0)return a;var f=i+u+s;if((a=ni(t,e,n,i,n-l+c-s,f,n+l-c+s,f,!1)).length>0)return a;var g,p=n-l-s;if((a=ni(t,e,n,i,p,i-u+c-s,p,i+u-c+s,!1)).length>0)return a;var m=n-l+c,b=i-u+c;if((g=ti(t,e,n,i,m,b,c+s)).length>0&&g[0]<=m&&g[1]<=b)return[g[0],g[1]];var w=n+l-c,y=i-u+c;if((g=ti(t,e,n,i,w,y,c+s)).length>0&&g[0]>=w&&g[1]<=y)return[g[0],g[1]];var v=n+l-c,_=i+u-c;if((g=ti(t,e,n,i,v,_,c+s)).length>0&&g[0]>=v&&g[1]>=_)return[g[0],g[1]];var k=n-l+c,x=i+u-c;return(g=ti(t,e,n,i,k,x,c+s)).length>0&&g[0]<=k&&g[1]>=x?[g[0],g[1]]:[]},Vn=function(t,e,n,i,r,o,s){var a=s,c=Math.min(n,r),l=Math.max(n,r),u=Math.min(i,o),h=Math.max(i,o);return c-a<=t&&t<=l+a&&u-a<=e&&e<=h+a},zn=function(t,e,n,i,r,o,s,a,c){var l={x1:Math.min(n,s,r)-c,x2:Math.max(n,s,r)+c,y1:Math.min(i,a,o)-c,y2:Math.max(i,a,o)+c};return!(t<l.x1||t>l.x2||e<l.y1||e>l.y2)},Hn=function(t,e,n,i){var r=e*e-4*t*(n-=i);if(r<0)return[];var o=Math.sqrt(r),s=2*t;return[(-e+o)/s,(-e-o)/s]},Un=function(t,e,n,i,r){var o,s,a,c,l,u,h,d;return 0===t&&(t=1e-5),a=-27*(i/=t)+(e/=t)*(9*(n/=t)-e*e*2),o=(s=(3*n-e*e)/9)*s*s+(a/=54)*a,r[1]=0,h=e/3,o>0?(l=(l=a+Math.sqrt(o))<0?-Math.pow(-l,1/3):Math.pow(l,1/3),u=(u=a-Math.sqrt(o))<0?-Math.pow(-u,1/3):Math.pow(u,1/3),r[0]=-h+l+u,h+=(l+u)/2,r[4]=r[2]=-h,h=Math.sqrt(3)*(-u+l)/2,r[3]=h,void(r[5]=-h)):(r[5]=r[3]=0,0===o?(d=a<0?-Math.pow(-a,1/3):Math.pow(a,1/3),r[0]=2*d-h,void(r[4]=r[2]=-(d+h))):(c=(s=-s)*s*s,c=Math.acos(a/Math.sqrt(c)),d=2*Math.sqrt(s),r[0]=-h+d*Math.cos(c/3),r[2]=-h+d*Math.cos((c+2*Math.PI)/3),void(r[4]=-h+d*Math.cos((c+4*Math.PI)/3))))},qn=function(t,e,n,i,r,o,s,a){var c=[];Un(1*n*n-4*n*r+2*n*s+4*r*r-4*r*s+s*s+i*i-4*i*o+2*i*a+4*o*o-4*o*a+a*a,9*n*r-3*n*n-3*n*s-6*r*r+3*r*s+9*i*o-3*i*i-3*i*a-6*o*o+3*o*a,3*n*n-6*n*r+n*s-n*t+2*r*r+2*r*t-s*t+3*i*i-6*i*o+i*a-i*e+2*o*o+2*o*e-a*e,1*n*r-n*n+n*t-r*t+i*o-i*i+i*e-o*e,c);for(var l=1e-7,u=[],h=0;h<6;h+=2)Math.abs(c[h+1])<l&&c[h]>=0&&c[h]<=1&&u.push(c[h]);u.push(1),u.push(0);for(var d,f,g,p=-1,m=0;m<u.length;m++)d=Math.pow(1-u[m],2)*n+2*(1-u[m])*u[m]*r+u[m]*u[m]*s,f=Math.pow(1-u[m],2)*i+2*(1-u[m])*u[m]*o+u[m]*u[m]*a,g=Math.pow(d-t,2)+Math.pow(f-e,2),p>=0?g<p&&(p=g):p=g;return p},Wn=function(t,e,n,i,r,o){var s=[t-n,e-i],a=[r-n,o-i],c=a[0]*a[0]+a[1]*a[1],l=s[0]*s[0]+s[1]*s[1],u=s[0]*a[0]+s[1]*a[1],h=u*u/c;return u<0?l:h>c?(t-r)*(t-r)+(e-o)*(e-o):l-h},Gn=function(t,e,n){for(var i,r,o,s,a=0,c=0;c<n.length/2;c++)if(i=n[2*c],r=n[2*c+1],c+1<n.length/2?(o=n[2*(c+1)],s=n[2*(c+1)+1]):(o=n[2*(c+1-n.length/2)],s=n[2*(c+1-n.length/2)+1]),i==t&&o==t);else{if(!(i>=t&&t>=o||i<=t&&t<=o))continue;(t-i)/(o-i)*(s-r)+r>e&&a++}return a%2!=0},Kn=function(t,e,n,i,r,o,s,a,c){var l,u=new Array(n.length);null!=a[0]?(l=Math.atan(a[1]/a[0]),a[0]<0?l+=Math.PI/2:l=-l-Math.PI/2):l=a;for(var h,d=Math.cos(-l),f=Math.sin(-l),g=0;g<u.length/2;g++)u[2*g]=o/2*(n[2*g]*d-n[2*g+1]*f),u[2*g+1]=s/2*(n[2*g+1]*d+n[2*g]*f),u[2*g]+=i,u[2*g+1]+=r;if(c>0){var p=Zn(u,-c);h=Xn(p)}else h=u;return Gn(t,e,h)},Yn=function(t,e,n,i,r,o,s){for(var a=new Array(n.length),c=o/2,l=s/2,u=ui(o,s),h=u*u,d=0;d<n.length/4;d++){var f=void 0,g=void 0;f=0===d?n.length-2:4*d-2,g=4*d+2;var p=i+c*n[4*d],m=r+l*n[4*d+1],b=-n[f]*n[g]-n[f+1]*n[g+1],w=u/Math.tan(Math.acos(b)/2),y=p-w*n[f],v=m-w*n[f+1],_=p+w*n[g],k=m+w*n[g+1];a[4*d]=y,a[4*d+1]=v,a[4*d+2]=_,a[4*d+3]=k;var x=n[f+1],E=-n[f];x*n[g]+E*n[g+1]<0&&(x*=-1,E*=-1);var T=y+x*u,C=v+E*u;if(Math.pow(T-t,2)+Math.pow(C-e,2)<=h)return!0}return Gn(t,e,a)},Xn=function(t){for(var e,n,i,r,o,s,a,c,l=new Array(t.length/2),u=0;u<t.length/4;u++){e=t[4*u],n=t[4*u+1],i=t[4*u+2],r=t[4*u+3],u<t.length/4-1?(o=t[4*(u+1)],s=t[4*(u+1)+1],a=t[4*(u+1)+2],c=t[4*(u+1)+3]):(o=t[0],s=t[1],a=t[2],c=t[3]);var h=ni(e,n,i,r,o,s,a,c,!0);l[2*u]=h[0],l[2*u+1]=h[1]}return l},Zn=function(t,e){for(var n,i,r,o,s=new Array(2*t.length),a=0;a<t.length/2;a++){n=t[2*a],i=t[2*a+1],a<t.length/2-1?(r=t[2*(a+1)],o=t[2*(a+1)+1]):(r=t[0],o=t[1]);var c=o-i,l=-(r-n),u=Math.sqrt(c*c+l*l),h=c/u,d=l/u;s[4*a]=n+h*e,s[4*a+1]=i+d*e,s[4*a+2]=r+h*e,s[4*a+3]=o+d*e}return s},Qn=function(t,e,n,i,r,o){var s=n-t,a=i-e;s/=r,a/=o;var c=Math.sqrt(s*s+a*a),l=c-1;if(l<0)return[];var u=l/c;return[(n-t)*u+t,(i-e)*u+e]},Jn=function(t,e,n,i,r,o,s){return t-=r,e-=o,(t/=n/2+s)*t+(e/=i/2+s)*e<=1},ti=function(t,e,n,i,r,o,s){var a=[n-t,i-e],c=[t-r,e-o],l=a[0]*a[0]+a[1]*a[1],u=2*(c[0]*a[0]+c[1]*a[1]),h=u*u-4*l*(c[0]*c[0]+c[1]*c[1]-s*s);if(h<0)return[];var d=(-u+Math.sqrt(h))/(2*l),f=(-u-Math.sqrt(h))/(2*l),g=Math.min(d,f),p=Math.max(d,f),m=[];if(g>=0&&g<=1&&m.push(g),p>=0&&p<=1&&m.push(p),0===m.length)return[];var b=m[0]*a[0]+t,w=m[0]*a[1]+e;return m.length>1?m[0]==m[1]?[b,w]:[b,w,m[1]*a[0]+t,m[1]*a[1]+e]:[b,w]},ei=function(t,e,n){return e<=t&&t<=n||n<=t&&t<=e?t:t<=e&&e<=n||n<=e&&e<=t?e:n},ni=function(t,e,n,i,r,o,s,a,c){var l=t-r,u=n-t,h=s-r,d=e-o,f=i-e,g=a-o,p=h*d-g*l,m=u*d-f*l,b=g*u-h*f;if(0!==b){var w=p/b,y=m/b,v=.001,_=0-v,k=1+v;return _<=w&&w<=k&&_<=y&&y<=k||c?[t+w*u,e+w*f]:[]}return 0===p||0===m?ei(t,n,s)===s?[s,a]:ei(t,n,r)===r?[r,o]:ei(r,s,n)===n?[n,i]:[]:[]},ii=function(t,e,n,i,r,o,s,a){var c,l,u,h,d,f,g=[],p=new Array(n.length),m=!0;if(null==o&&(m=!1),m){for(var b=0;b<p.length/2;b++)p[2*b]=n[2*b]*o+i,p[2*b+1]=n[2*b+1]*s+r;if(a>0){var w=Zn(p,-a);l=Xn(w)}else l=p}else l=n;for(var y=0;y<l.length/2;y++)u=l[2*y],h=l[2*y+1],y<l.length/2-1?(d=l[2*(y+1)],f=l[2*(y+1)+1]):(d=l[0],f=l[1]),0!==(c=ni(t,e,i,r,u,h,d,f)).length&&g.push(c[0],c[1]);return g},ri=function(t,e,n,i,r,o,s,a){for(var c,l=[],u=new Array(n.length),h=o/2,d=s/2,f=ui(o,s),g=0;g<n.length/4;g++){var p=void 0,m=void 0;p=0===g?n.length-2:4*g-2,m=4*g+2;var b=i+h*n[4*g],w=r+d*n[4*g+1],y=-n[p]*n[m]-n[p+1]*n[m+1],v=f/Math.tan(Math.acos(y)/2),_=b-v*n[p],k=w-v*n[p+1],x=b+v*n[m],E=w+v*n[m+1];0===g?(u[n.length-2]=_,u[n.length-1]=k):(u[4*g-2]=_,u[4*g-1]=k),u[4*g]=x,u[4*g+1]=E;var T=n[p+1],C=-n[p];T*n[m]+C*n[m+1]<0&&(T*=-1,C*=-1),0!==(c=ti(t,e,i,r,_+T*f,k+C*f,f)).length&&l.push(c[0],c[1])}for(var A=0;A<u.length/4;A++)0!==(c=ni(t,e,i,r,u[4*A],u[4*A+1],u[4*A+2],u[4*A+3],!1)).length&&l.push(c[0],c[1]);if(l.length>2){for(var S=[l[0],l[1]],I=Math.pow(S[0]-t,2)+Math.pow(S[1]-e,2),M=1;M<l.length/2;M++){var P=Math.pow(l[2*M]-t,2)+Math.pow(l[2*M+1]-e,2);P<=I&&(S[0]=l[2*M],S[1]=l[2*M+1],I=P)}return S}return l},oi=function(t,e,n){var i=[t[0]-e[0],t[1]-e[1]],r=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=(r-n)/r;return o<0&&(o=1e-5),[e[0]+o*i[0],e[1]+o*i[1]]},si=function(t,e){var n=ci(t,e);return n=ai(n)},ai=function(t){for(var e,n,i=t.length/2,r=1/0,o=1/0,s=-1/0,a=-1/0,c=0;c<i;c++)e=t[2*c],n=t[2*c+1],r=Math.min(r,e),s=Math.max(s,e),o=Math.min(o,n),a=Math.max(a,n);for(var l=2/(s-r),u=2/(a-o),h=0;h<i;h++)e=t[2*h]=t[2*h]*l,n=t[2*h+1]=t[2*h+1]*u,r=Math.min(r,e),s=Math.max(s,e),o=Math.min(o,n),a=Math.max(a,n);if(o<-1)for(var d=0;d<i;d++)n=t[2*d+1]=t[2*d+1]+(-1-o);return t},ci=function(t,e){var n=1/t*2*Math.PI,i=t%2==0?Math.PI/2+n/2:Math.PI/2;i+=e;for(var r,o=new Array(2*t),s=0;s<t;s++)r=s*n+i,o[2*s]=Math.cos(r),o[2*s+1]=Math.sin(-r);return o},li=function(t,e){return Math.min(t/4,e/4,8)},ui=function(t,e){return Math.min(t/10,e/10,8)},hi=function(){return 8},di=function(t,e,n){return[t-2*e+n,2*(e-t),t]},fi=function(t,e){return{heightOffset:Math.min(15,.05*e),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},gi=Ne({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),pi={pageRank:function(t){for(var e=gi(t),n=e.dampingFactor,i=e.precision,r=e.iterations,o=e.weight,s=this._private.cy,a=this.byGroup(),c=a.nodes,l=a.edges,u=c.length,h=u*u,d=l.length,f=new Array(h),g=new Array(u),p=(1-n)/u,m=0;m<u;m++){for(var b=0;b<u;b++)f[m*u+b]=0;g[m]=0}for(var w=0;w<d;w++){var y=l[w],v=y.data("source"),_=y.data("target");if(v!==_){var k=c.indexOfId(v),x=c.indexOfId(_),E=o(y);f[x*u+k]+=E,g[k]+=E}}for(var T=1/u+p,C=0;C<u;C++)if(0===g[C])for(var A=0;A<u;A++)f[A*u+C]=T;else for(var S=0;S<u;S++){var I=S*u+C;f[I]=f[I]/g[C]+p}for(var M,P=new Array(u),O=new Array(u),D=0;D<u;D++)P[D]=1;for(var N=0;N<r;N++){for(var L=0;L<u;L++)O[L]=0;for(var R=0;R<u;R++)for(var B=0;B<u;B++){var F=R*u+B;O[R]+=f[F]*P[B]}xn(O),M=P,P=O,O=M;for(var j=0,$=0;$<u;$++){var V=M[$]-P[$];j+=V*V}if(j<i)break}return{rank:function(t){return t=s.collection(t)[0],P[c.indexOf(t)]}}}},mi=Ne({root:null,weight:function(t){return 1},directed:!1,alpha:0}),bi={degreeCentralityNormalized:function(t){t=mi(t);var e=this.cy(),n=this.nodes(),i=n.length;if(t.directed){for(var r={},o={},s=0,a=0,c=0;c<i;c++){var l=n[c],u=l.id();t.root=l;var h=this.degreeCentrality(t);s<h.indegree&&(s=h.indegree),a<h.outdegree&&(a=h.outdegree),r[u]=h.indegree,o[u]=h.outdegree}return{indegree:function(t){return 0==s?0:(y(t)&&(t=e.filter(t)),r[t.id()]/s)},outdegree:function(t){return 0===a?0:(y(t)&&(t=e.filter(t)),o[t.id()]/a)}}}for(var d={},f=0,g=0;g<i;g++){var p=n[g];t.root=p;var m=this.degreeCentrality(t);f<m.degree&&(f=m.degree),d[p.id()]=m.degree}return{degree:function(t){return 0===f?0:(y(t)&&(t=e.filter(t)),d[t.id()]/f)}}},degreeCentrality:function(t){t=mi(t);var e=this.cy(),n=this,i=t,r=i.root,o=i.weight,s=i.directed,a=i.alpha;if(r=e.collection(r)[0],s){for(var c=r.connectedEdges(),l=c.filter((function(t){return t.target().same(r)&&n.has(t)})),u=c.filter((function(t){return t.source().same(r)&&n.has(t)})),h=l.length,d=u.length,f=0,g=0,p=0;p<l.length;p++)f+=o(l[p]);for(var m=0;m<u.length;m++)g+=o(u[m]);return{indegree:Math.pow(h,1-a)*Math.pow(f,a),outdegree:Math.pow(d,1-a)*Math.pow(g,a)}}for(var b=r.connectedEdges().intersection(n),w=b.length,y=0,v=0;v<b.length;v++)y+=o(b[v]);return{degree:Math.pow(w,1-a)*Math.pow(y,a)}}};bi.dc=bi.degreeCentrality,bi.dcn=bi.degreeCentralityNormalised=bi.degreeCentralityNormalized;var wi=Ne({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),yi={closenessCentralityNormalized:function(t){for(var e=wi(t),n=e.harmonic,i=e.weight,r=e.directed,o=this.cy(),s={},a=0,c=this.nodes(),l=this.floydWarshall({weight:i,directed:r}),u=0;u<c.length;u++){for(var h=0,d=c[u],f=0;f<c.length;f++)if(u!==f){var g=l.distance(d,c[f]);h+=n?1/g:g}n||(h=1/h),a<h&&(a=h),s[d.id()]=h}return{closeness:function(t){return 0==a?0:(t=y(t)?o.filter(t)[0].id():t.id(),s[t]/a)}}},closenessCentrality:function(t){var e=wi(t),n=e.root,i=e.weight,r=e.directed,o=e.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:i,directed:r}),a=0,c=this.nodes(),l=0;l<c.length;l++){var u=c[l];if(!u.same(n)){var h=s.distanceTo(u);a+=o?1/h:h}}return o?a:1/a}};yi.cc=yi.closenessCentrality,yi.ccn=yi.closenessCentralityNormalised=yi.closenessCentralityNormalized;var vi=Ne({weight:null,directed:!1}),_i={betweennessCentrality:function(t){for(var e=vi(t),n=e.directed,i=e.weight,r=null!=i,o=this.cy(),s=this.nodes(),a={},c={},l=0,u={set:function(t,e){c[t]=e,e>l&&(l=e)},get:function(t){return c[t]}},h=0;h<s.length;h++){var d=s[h],f=d.id();a[f]=n?d.outgoers().nodes():d.openNeighborhood().nodes(),u.set(f,0)}for(var g=function(t){for(var e=s[t].id(),n=[],c={},l={},h={},d=new Ke((function(t,e){return h[t]-h[e]})),f=0;f<s.length;f++){var g=s[f].id();c[g]=[],l[g]=0,h[g]=1/0}for(l[e]=1,h[e]=0,d.push(e);!d.empty();){var p=d.pop();if(n.push(p),r)for(var m=0;m<a[p].length;m++){var b=a[p][m],w=o.getElementById(p),y=void 0;y=w.edgesTo(b).length>0?w.edgesTo(b)[0]:b.edgesTo(w)[0];var v=i(y);b=b.id(),h[b]>h[p]+v&&(h[b]=h[p]+v,d.nodes.indexOf(b)<0?d.push(b):d.updateItem(b),l[b]=0,c[b]=[]),h[b]==h[p]+v&&(l[b]=l[b]+l[p],c[b].push(p))}else for(var _=0;_<a[p].length;_++){var k=a[p][_].id();h[k]==1/0&&(d.push(k),h[k]=h[p]+1),h[k]==h[p]+1&&(l[k]=l[k]+l[p],c[k].push(p))}}for(var x={},E=0;E<s.length;E++)x[s[E].id()]=0;for(;n.length>0;){for(var T=n.pop(),C=0;C<c[T].length;C++){var A=c[T][C];x[A]=x[A]+l[A]/l[T]*(1+x[T])}T!=s[t].id()&&u.set(T,u.get(T)+x[T])}},p=0;p<s.length;p++)g(p);var m={betweenness:function(t){var e=o.collection(t).id();return u.get(e)},betweennessNormalized:function(t){if(0==l)return 0;var e=o.collection(t).id();return u.get(e)/l}};return m.betweennessNormalised=m.betweennessNormalized,m}};_i.bc=_i.betweennessCentrality;var ki=Ne({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),xi=function(t){return ki(t)},Ei=function(t,e){for(var n=0,i=0;i<e.length;i++)n+=e[i](t);return n},Ti=function(t,e,n){for(var i=0;i<e;i++)t[i*e+i]=n},Ci=function(t,e){for(var n,i=0;i<e;i++){n=0;for(var r=0;r<e;r++)n+=t[r*e+i];for(var o=0;o<e;o++)t[o*e+i]=t[o*e+i]/n}},Ai=function(t,e,n){for(var i=new Array(n*n),r=0;r<n;r++){for(var o=0;o<n;o++)i[r*n+o]=0;for(var s=0;s<n;s++)for(var a=0;a<n;a++)i[r*n+a]+=t[r*n+s]*e[s*n+a]}return i},Si=function(t,e,n){for(var i=t.slice(0),r=1;r<n;r++)t=Ai(t,i,e);return t},Ii=function(t,e,n){for(var i=new Array(e*e),r=0;r<e*e;r++)i[r]=Math.pow(t[r],n);return Ci(i,e),i},Mi=function(t,e,n,i){for(var r=0;r<n;r++)if(Math.round(t[r]*Math.pow(10,i))/Math.pow(10,i)!=Math.round(e[r]*Math.pow(10,i))/Math.pow(10,i))return!1;return!0},Pi=function(t,e,n,i){for(var r=[],o=0;o<e;o++){for(var s=[],a=0;a<e;a++)Math.round(1e3*t[o*e+a])/1e3>0&&s.push(n[a]);0!==s.length&&r.push(i.collection(s))}return r},Oi=function(t,e){for(var n=0;n<t.length;n++)if(!e[n]||t[n].id()!==e[n].id())return!1;return!0},Di=function(t){for(var e=0;e<t.length;e++)for(var n=0;n<t.length;n++)e!=n&&Oi(t[e],t[n])&&t.splice(n,1);return t},Ni=function(t){for(var e=this.nodes(),n=this.edges(),i=this.cy(),r=xi(t),o={},s=0;s<e.length;s++)o[e[s].id()]=s;for(var a,c=e.length,l=c*c,u=new Array(l),h=0;h<l;h++)u[h]=0;for(var d=0;d<n.length;d++){var f=n[d],g=o[f.source().id()],p=o[f.target().id()],m=Ei(f,r.attributes);u[g*c+p]+=m,u[p*c+g]+=m}Ti(u,c,r.multFactor),Ci(u,c);for(var b=!0,w=0;b&&w<r.maxIterations;)b=!1,a=Si(u,c,r.expandFactor),u=Ii(a,c,r.inflateFactor),Mi(u,a,l,4)||(b=!0),w++;var y=Pi(u,c,e,i);return y=Di(y)},Li={markovClustering:Ni,mcl:Ni},Ri=function(t){return t},Bi=function(t,e){return Math.abs(e-t)},Fi=function(t,e,n){return t+Bi(e,n)},ji=function(t,e,n){return t+Math.pow(n-e,2)},$i=function(t){return Math.sqrt(t)},Vi=function(t,e,n){return Math.max(t,Bi(e,n))},zi=function(t,e,n,i,r){for(var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ri,s=i,a=0;a<t;a++)s=r(s,e(a),n(a));return o(s)},Hi={euclidean:function(t,e,n){return t>=2?zi(t,e,n,0,ji,$i):zi(t,e,n,0,Fi)},squaredEuclidean:function(t,e,n){return zi(t,e,n,0,ji)},manhattan:function(t,e,n){return zi(t,e,n,0,Fi)},max:function(t,e,n){return zi(t,e,n,-1/0,Vi)}};function Ui(t,e,n,i,r,o){var s;return s=v(t)?t:Hi[t]||Hi.euclidean,0===e&&v(t)?s(r,o):s(e,n,i,r,o)}Hi["squared-euclidean"]=Hi.squaredEuclidean,Hi.squaredeuclidean=Hi.squaredEuclidean;var qi=Ne({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Wi=function(t){return qi(t)},Gi=function(t,e,n,i,r){var o="kMedoids"!==r?function(t){return n[t]}:function(t){return i[t](n)},s=function(t){return i[t](e)},a=n,c=e;return Ui(t,i.length,o,s,a,c)},Ki=function(t,e,n){for(var i=n.length,r=new Array(i),o=new Array(i),s=new Array(e),a=null,c=0;c<i;c++)r[c]=t.min(n[c]).value,o[c]=t.max(n[c]).value;for(var l=0;l<e;l++){a=[];for(var u=0;u<i;u++)a[u]=Math.random()*(o[u]-r[u])+r[u];s[l]=a}return s},Yi=function(t,e,n,i,r){for(var o=1/0,s=0,a=0;a<e.length;a++){var c=Gi(n,t,e[a],i,r);c<o&&(o=c,s=a)}return s},Xi=function(t,e,n){for(var i=[],r=null,o=0;o<e.length;o++)n[(r=e[o]).id()]===t&&i.push(r);return i},Zi=function(t,e,n){return Math.abs(e-t)<=n},Qi=function(t,e,n){for(var i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)if(Math.abs(t[i][r]-e[i][r])>n)return!1;return!0},Ji=function(t,e,n){for(var i=0;i<n;i++)if(t===e[i])return!0;return!1},tr=function(t,e){var n=new Array(e);if(t.length<50)for(var i=0;i<e;i++){for(var r=t[Math.floor(Math.random()*t.length)];Ji(r,n,i);)r=t[Math.floor(Math.random()*t.length)];n[i]=r}else for(var o=0;o<e;o++)n[o]=t[Math.floor(Math.random()*t.length)];return n},er=function(t,e,n){for(var i=0,r=0;r<e.length;r++)i+=Gi("manhattan",e[r],t,n,"kMedoids");return i},nr=function(t,e,n,i,r){for(var o,s,a=0;a<e.length;a++)for(var c=0;c<t.length;c++)i[a][c]=Math.pow(n[a][c],r.m);for(var l=0;l<t.length;l++)for(var u=0;u<r.attributes.length;u++){o=0,s=0;for(var h=0;h<e.length;h++)o+=i[h][l]*r.attributes[u](e[h]),s+=i[h][l];t[l][u]=o/s}},ir=function(t,e,n,i,r){for(var o=0;o<t.length;o++)e[o]=t[o].slice();for(var s,a,c,l=2/(r.m-1),u=0;u<n.length;u++)for(var h=0;h<i.length;h++){s=0;for(var d=0;d<n.length;d++)a=Gi(r.distance,i[h],n[u],r.attributes,"cmeans"),c=Gi(r.distance,i[h],n[d],r.attributes,"cmeans"),s+=Math.pow(a/c,l);t[h][u]=1/s}},rr=function(t,e,n,i){for(var r,o,s=new Array(n.k),a=0;a<s.length;a++)s[a]=[];for(var c=0;c<e.length;c++){r=-1/0,o=-1;for(var l=0;l<e[0].length;l++)e[c][l]>r&&(r=e[c][l],o=l);s[o].push(t[c])}for(var u=0;u<s.length;u++)s[u]=i.collection(s[u]);return s},or=function(t){var e,n,i,r,o=this.cy(),s=this.nodes(),a=Wi(t);i=new Array(s.length);for(var c=0;c<s.length;c++)i[c]=new Array(a.k);n=new Array(s.length);for(var l=0;l<s.length;l++)n[l]=new Array(a.k);for(var u=0;u<s.length;u++){for(var h=0,d=0;d<a.k;d++)n[u][d]=Math.random(),h+=n[u][d];for(var f=0;f<a.k;f++)n[u][f]=n[u][f]/h}e=new Array(a.k);for(var g=0;g<a.k;g++)e[g]=new Array(a.attributes.length);r=new Array(s.length);for(var p=0;p<s.length;p++)r[p]=new Array(a.k);for(var m=!0,b=0;m&&b<a.maxIterations;)m=!1,nr(e,s,n,r,a),ir(n,i,e,s,a),Qi(n,i,a.sensitivityThreshold)||(m=!0),b++;return{clusters:rr(s,n,a,o),degreeOfMembership:n}},sr={kMeans:function(e){var n,i=this.cy(),r=this.nodes(),o=null,s=Wi(e),a=new Array(s.k),c={};s.testMode?"number"==typeof s.testCentroids?(s.testCentroids,n=Ki(r,s.k,s.attributes)):n="object"===t(s.testCentroids)?s.testCentroids:Ki(r,s.k,s.attributes):n=Ki(r,s.k,s.attributes);for(var l=!0,u=0;l&&u<s.maxIterations;){for(var h=0;h<r.length;h++)c[(o=r[h]).id()]=Yi(o,n,s.distance,s.attributes,"kMeans");l=!1;for(var d=0;d<s.k;d++){var f=Xi(d,r,c);if(0!==f.length){for(var g=s.attributes.length,p=n[d],m=new Array(g),b=new Array(g),w=0;w<g;w++){b[w]=0;for(var y=0;y<f.length;y++)o=f[y],b[w]+=s.attributes[w](o);m[w]=b[w]/f.length,Zi(m[w],p[w],s.sensitivityThreshold)||(l=!0)}n[d]=m,a[d]=i.collection(f)}}u++}return a},kMedoids:function(e){var n,i,r=this.cy(),o=this.nodes(),s=null,a=Wi(e),c=new Array(a.k),l={},u=new Array(a.k);a.testMode?"number"==typeof a.testCentroids||(n="object"===t(a.testCentroids)?a.testCentroids:tr(o,a.k)):n=tr(o,a.k);for(var h=!0,d=0;h&&d<a.maxIterations;){for(var f=0;f<o.length;f++)l[(s=o[f]).id()]=Yi(s,n,a.distance,a.attributes,"kMedoids");h=!1;for(var g=0;g<n.length;g++){var p=Xi(g,o,l);if(0!==p.length){u[g]=er(n[g],p,a.attributes);for(var m=0;m<p.length;m++)(i=er(p[m],p,a.attributes))<u[g]&&(u[g]=i,n[g]=p[m],h=!0);c[g]=r.collection(p)}}d++}return c},fuzzyCMeans:or,fcm:or},ar=Ne({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),cr={single:"min",complete:"max"},lr=function(t){var e=ar(t),n=cr[e.linkage];return null!=n&&(e.linkage=n),e},ur=function(t,e,n,i,r){for(var o,s=0,a=1/0,c=r.attributes,l=function(t,e){return Ui(r.distance,c.length,(function(e){return c[e](t)}),(function(t){return c[t](e)}),t,e)},u=0;u<t.length;u++){var h=t[u].key,d=n[h][i[h]];d<a&&(s=h,a=d)}if("threshold"===r.mode&&a>=r.threshold||"dendrogram"===r.mode&&1===t.length)return!1;var f,g=e[s],p=e[i[s]];f="dendrogram"===r.mode?{left:g,right:p,key:g.key}:{value:g.value.concat(p.value),key:g.key},t[g.index]=f,t.splice(p.index,1),e[g.key]=f;for(var m=0;m<t.length;m++){var b=t[m];g.key===b.key?o=1/0:"min"===r.linkage?(o=n[g.key][b.key],n[g.key][b.key]>n[p.key][b.key]&&(o=n[p.key][b.key])):"max"===r.linkage?(o=n[g.key][b.key],n[g.key][b.key]<n[p.key][b.key]&&(o=n[p.key][b.key])):o="mean"===r.linkage?(n[g.key][b.key]*g.size+n[p.key][b.key]*p.size)/(g.size+p.size):"dendrogram"===r.mode?l(b.value,g.value):l(b.value[0],g.value[0]),n[g.key][b.key]=n[b.key][g.key]=o}for(var w=0;w<t.length;w++){var y=t[w].key;if(i[y]===g.key||i[y]===p.key){for(var v=y,_=0;_<t.length;_++){var k=t[_].key;n[y][k]<n[y][v]&&(v=k)}i[y]=v}t[w].index=w}return g.key=p.key=g.index=p.index=null,!0},hr=function t(e,n,i){e&&(e.value?n.push(e.value):(e.left&&t(e.left,n),e.right&&t(e.right,n)))},dr=function t(e,n){if(!e)return"";if(e.left&&e.right){var i=t(e.left,n),r=t(e.right,n),o=n.add({group:"nodes",data:{id:i+","+r}});return n.add({group:"edges",data:{source:i,target:o.id()}}),n.add({group:"edges",data:{source:r,target:o.id()}}),o.id()}return e.value?e.value.id():void 0},fr=function t(e,n,i){if(!e)return[];var r=[],o=[],s=[];return 0===n?(e.left&&hr(e.left,r),e.right&&hr(e.right,o),s=r.concat(o),[i.collection(s)]):1===n?e.value?[i.collection(e.value)]:(e.left&&hr(e.left,r),e.right&&hr(e.right,o),[i.collection(r),i.collection(o)]):e.value?[i.collection(e.value)]:(e.left&&(r=t(e.left,n-1,i)),e.right&&(o=t(e.right,n-1,i)),r.concat(o))},gr=function(t){for(var e=this.cy(),n=this.nodes(),i=lr(t),r=i.attributes,o=function(t,e){return Ui(i.distance,r.length,(function(e){return r[e](t)}),(function(t){return r[t](e)}),t,e)},s=[],a=[],c=[],l=[],u=0;u<n.length;u++){var h={value:"dendrogram"===i.mode?n[u]:[n[u]],key:u,index:u};s[u]=h,l[u]=h,a[u]=[],c[u]=0}for(var d=0;d<s.length;d++)for(var f=0;f<=d;f++){var g=void 0;g="dendrogram"===i.mode?d===f?1/0:o(s[d].value,s[f].value):d===f?1/0:o(s[d].value[0],s[f].value[0]),a[d][f]=g,a[f][d]=g,g<a[d][c[d]]&&(c[d]=f)}for(var p,m=ur(s,l,a,c,i);m;)m=ur(s,l,a,c,i);return"dendrogram"===i.mode?(p=fr(s[0],i.dendrogramDepth,e),i.addDendrogram&&dr(s[0],e)):(p=new Array(s.length),s.forEach((function(t,n){t.key=t.index=null,p[n]=e.collection(t.value)}))),p},pr={hierarchicalClustering:gr,hca:gr},mr=Ne({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),br=function(t){var e=t.damping,n=t.preference;.5<=e&&e<1||Te("Damping must range on [0.5, 1).  Got: ".concat(e));var i=["median","mean","min","max"];return i.some((function(t){return t===n}))||E(n)||Te("Preference must be one of [".concat(i.map((function(t){return"'".concat(t,"'")})).join(", "),"] or a number.  Got: ").concat(n)),mr(t)},wr=function(t,e,n,i){var r=function(t,e){return i[e](t)};return-Ui(t,i.length,(function(t){return r(e,t)}),(function(t){return r(n,t)}),e,n)},yr=function(t,e){return"median"===e?mn(t):"mean"===e?pn(t):"min"===e?fn(t):"max"===e?gn(t):e},vr=function(t,e,n){for(var i=[],r=0;r<t;r++)e[r*t+r]+n[r*t+r]>0&&i.push(r);return i},_r=function(t,e,n){for(var i=[],r=0;r<t;r++){for(var o=-1,s=-1/0,a=0;a<n.length;a++){var c=n[a];e[r*t+c]>s&&(o=c,s=e[r*t+c])}o>0&&i.push(o)}for(var l=0;l<n.length;l++)i[n[l]]=n[l];return i},kr=function(t,e,n){for(var i=_r(t,e,n),r=0;r<n.length;r++){for(var o=[],s=0;s<i.length;s++)i[s]===n[r]&&o.push(s);for(var a=-1,c=-1/0,l=0;l<o.length;l++){for(var u=0,h=0;h<o.length;h++)u+=e[o[h]*t+o[l]];u>c&&(a=l,c=u)}n[r]=o[a]}return i=_r(t,e,n)},xr=function(t){for(var e,n,i,r,o,s,a=this.cy(),c=this.nodes(),l=br(t),u={},h=0;h<c.length;h++)u[c[h].id()]=h;n=(e=c.length)*e,i=new Array(n);for(var d=0;d<n;d++)i[d]=-1/0;for(var f=0;f<e;f++)for(var g=0;g<e;g++)f!==g&&(i[f*e+g]=wr(l.distance,c[f],c[g],l.attributes));r=yr(i,l.preference);for(var p=0;p<e;p++)i[p*e+p]=r;o=new Array(n);for(var m=0;m<n;m++)o[m]=0;s=new Array(n);for(var b=0;b<n;b++)s[b]=0;for(var w=new Array(e),y=new Array(e),v=new Array(e),_=0;_<e;_++)w[_]=0,y[_]=0,v[_]=0;for(var k,x=new Array(e*l.minIterations),E=0;E<x.length;E++)x[E]=0;for(k=0;k<l.maxIterations;k++){for(var T=0;T<e;T++){for(var C=-1/0,A=-1/0,S=-1,I=0,M=0;M<e;M++)w[M]=o[T*e+M],(I=s[T*e+M]+i[T*e+M])>=C?(A=C,C=I,S=M):I>A&&(A=I);for(var P=0;P<e;P++)o[T*e+P]=(1-l.damping)*(i[T*e+P]-C)+l.damping*w[P];o[T*e+S]=(1-l.damping)*(i[T*e+S]-A)+l.damping*w[S]}for(var O=0;O<e;O++){for(var D=0,N=0;N<e;N++)w[N]=s[N*e+O],y[N]=Math.max(0,o[N*e+O]),D+=y[N];D-=y[O],y[O]=o[O*e+O],D+=y[O];for(var L=0;L<e;L++)s[L*e+O]=(1-l.damping)*Math.min(0,D-y[L])+l.damping*w[L];s[O*e+O]=(1-l.damping)*(D-y[O])+l.damping*w[O]}for(var R=0,B=0;B<e;B++){var F=s[B*e+B]+o[B*e+B]>0?1:0;x[k%l.minIterations*e+B]=F,R+=F}if(R>0&&(k>=l.minIterations-1||k==l.maxIterations-1)){for(var j=0,$=0;$<e;$++){v[$]=0;for(var V=0;V<l.minIterations;V++)v[$]+=x[V*e+$];0!==v[$]&&v[$]!==l.minIterations||j++}if(j===e)break}}for(var z=vr(e,o,s),H=kr(e,i,z),U={},q=0;q<z.length;q++)U[z[q]]=[];for(var W=0;W<c.length;W++){var G=H[u[c[W].id()]];null!=G&&U[G].push(c[W])}for(var K=new Array(z.length),Y=0;Y<z.length;Y++)K[Y]=a.collection(U[z[Y]]);return K},Er={affinityPropagation:xr,ap:xr},Tr=Ne({root:void 0,directed:!1}),Cr={hierholzer:function(t){if(!k(t)){var e=arguments;t={root:e[0],directed:e[1]}}var n,i,r,o=Tr(t),s=o.root,a=o.directed,c=this,l=!1;s&&(r=y(s)?this.filter(s)[0].id():s[0].id());var u={},h={};a?c.forEach((function(t){var e=t.id();if(t.isNode()){var r=t.indegree(!0),o=t.outdegree(!0),s=r-o,a=o-r;1==s?n?l=!0:n=e:1==a?i?l=!0:i=e:(a>1||s>1)&&(l=!0),u[e]=[],t.outgoers().forEach((function(t){t.isEdge()&&u[e].push(t.id())}))}else h[e]=[void 0,t.target().id()]})):c.forEach((function(t){var e=t.id();t.isNode()?(t.degree(!0)%2&&(n?i?l=!0:i=e:n=e),u[e]=[],t.connectedEdges().forEach((function(t){return u[e].push(t.id())}))):h[e]=[t.source().id(),t.target().id()]}));var d={found:!1,trail:void 0};if(l)return d;if(i&&n)if(a){if(r&&i!=r)return d;r=i}else{if(r&&i!=r&&n!=r)return d;r||(r=i)}else r||(r=c[0].id());var f=function(t){for(var e,n,i,r=t,o=[t];u[r].length;)e=u[r].shift(),n=h[e][0],r!=(i=h[e][1])?(u[i]=u[i].filter((function(t){return t!=e})),r=i):a||r==n||(u[n]=u[n].filter((function(t){return t!=e})),r=n),o.unshift(e),o.unshift(r);return o},g=[],p=[];for(p=f(r);1!=p.length;)0==u[p[0]].length?(g.unshift(c.getElementById(p.shift())),g.unshift(c.getElementById(p.shift()))):p=f(p.shift()).concat(p);for(var m in g.unshift(c.getElementById(p.shift())),u)if(u[m].length)return d;return d.found=!0,d.trail=this.spawn(g,!0),d}},Ar=function(){var t=this,e={},n=0,i=0,r=[],o=[],s={},a=function(n,i){for(var s=o.length-1,a=[],c=t.spawn();o[s].x!=n||o[s].y!=i;)a.push(o.pop().edge),s--;a.push(o.pop().edge),a.forEach((function(n){var i=n.connectedNodes().intersection(t);c.merge(n),i.forEach((function(n){var i=n.id(),r=n.connectedEdges().intersection(t);c.merge(n),e[i].cutVertex?c.merge(r.filter((function(t){return t.isLoop()}))):c.merge(r)}))})),r.push(c)},c=function c(l,u,h){l===h&&(i+=1),e[u]={id:n,low:n++,cutVertex:!1};var d,f,g,p,m=t.getElementById(u).connectedEdges().intersection(t);0===m.size()?r.push(t.spawn(t.getElementById(u))):m.forEach((function(t){d=t.source().id(),f=t.target().id(),(g=d===u?f:d)!==h&&(p=t.id(),s[p]||(s[p]=!0,o.push({x:u,y:g,edge:t})),g in e?e[u].low=Math.min(e[u].low,e[g].id):(c(l,g,u),e[u].low=Math.min(e[u].low,e[g].low),e[u].id<=e[g].low&&(e[u].cutVertex=!0,a(u,g))))}))};t.forEach((function(t){if(t.isNode()){var n=t.id();n in e||(i=0,c(n,n),e[n].cutVertex=i>1)}}));var l=Object.keys(e).filter((function(t){return e[t].cutVertex})).map((function(e){return t.getElementById(e)}));return{cut:t.spawn(l),components:r}},Sr=function(){var t=this,e={},n=0,i=[],r=[],o=t.spawn(t),s=function s(a){if(r.push(a),e[a]={index:n,low:n++,explored:!1},t.getElementById(a).connectedEdges().intersection(t).forEach((function(t){var n=t.target().id();n!==a&&(n in e||s(n),e[n].explored||(e[a].low=Math.min(e[a].low,e[n].low)))})),e[a].index===e[a].low){for(var c=t.spawn();;){var l=r.pop();if(c.merge(t.getElementById(l)),e[l].low=e[a].index,e[l].explored=!0,l===a)break}var u=c.edgesWith(c),h=c.merge(u);i.push(h),o=o.difference(h)}};return t.forEach((function(t){if(t.isNode()){var n=t.id();n in e||s(n)}})),{cut:o,components:i}},Ir={};[We,Xe,Ze,Je,en,rn,cn,pi,bi,yi,_i,Li,sr,pr,Er,Cr,{hopcroftTarjanBiconnected:Ar,htbc:Ar,htb:Ar,hopcroftTarjanBiconnectedComponents:Ar},{tarjanStronglyConnected:Sr,tsc:Sr,tscc:Sr,tarjanStronglyConnectedComponents:Sr}].forEach((function(t){Q(Ir,t)}));
/*!
      Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
      Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
      Licensed under The MIT License (http://opensource.org/licenses/MIT)
      */
var Mr=0,Pr=1,Or=2,Dr=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=Mr,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Dr.prototype={fulfill:function(t){return Nr(this,Pr,"fulfillValue",t)},reject:function(t){return Nr(this,Or,"rejectReason",t)},then:function(t,e){var n=this,i=new Dr;return n.onFulfilled.push(Br(t,i,"fulfill")),n.onRejected.push(Br(e,i,"reject")),Lr(n),i.proxy}};var Nr=function(t,e,n,i){return t.state===Mr&&(t.state=e,t[n]=i,Lr(t)),t},Lr=function(t){t.state===Pr?Rr(t,"onFulfilled",t.fulfillValue):t.state===Or&&Rr(t,"onRejected",t.rejectReason)},Rr=function(t,e,n){if(0!==t[e].length){var i=t[e];t[e]=[];var r=function(){for(var t=0;t<i.length;t++)i[t](n)};"function"==typeof setImmediate?setImmediate(r):setTimeout(r,0)}},Br=function(t,e,n){return function(i){if("function"!=typeof t)e[n].call(e,i);else{var r;try{r=t(i)}catch(t){return void e.reject(t)}Fr(e,r)}}},Fr=function e(n,i){if(n!==i&&n.proxy!==i){var r;if("object"===t(i)&&null!==i||"function"==typeof i)try{r=i.then}catch(t){return void n.reject(t)}if("function"!=typeof r)n.fulfill(i);else{var o=!1;try{r.call(i,(function(t){o||(o=!0,t===i?n.reject(new TypeError("circular thenable chain")):e(n,t))}),(function(t){o||(o=!0,n.reject(t))}))}catch(t){o||n.reject(t)}}}else n.reject(new TypeError("cannot resolve promise with itself"))};Dr.all=function(t){return new Dr((function(e,n){for(var i=new Array(t.length),r=0,o=function(n,o){i[n]=o,++r===t.length&&e(i)},s=0;s<t.length;s++)!function(e){var i=t[e];null!=i&&null!=i.then?i.then((function(t){o(e,t)}),(function(t){n(t)})):o(e,i)}(s)}))},Dr.resolve=function(t){return new Dr((function(e,n){e(t)}))},Dr.reject=function(t){return new Dr((function(e,n){n(t)}))};var jr="undefined"!=typeof Promise?Promise:Dr,$r=function(t,e,n){var i=M(t),r=!i,o=this._private=Q({duration:1e3},e,n);if(o.target=t,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&v(o.complete)&&o.completes.push(o.complete),r){var s=t.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||t.cy().style().getAnimationStartStyle(t,o.style)}if(i){var a=t.pan();o.startPan={x:a.x,y:a.y},o.startZoom=t.zoom()}this.length=1,this[0]=this},Vr=$r.prototype;Q(Vr,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var e=t.target._private.animation;(t.queue?e.queue:e.current).push(this),A(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return 1===t.progress&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var e=this._private;return void 0===t?e.progress*e.duration:this.progress(t/e.duration)},progress:function(t){var e=this._private,n=e.playing;return void 0===t?e.progress:(n&&this.pause(),e.progress=t,e.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var t=this._private,e=t.playing;e&&this.pause(),t.progress=1-t.progress,t.started=!1;var n=function(e,n){var i=t[e];null!=i&&(t[e]=t[n],t[n]=i)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),t.style)for(var i=0;i<t.style.length;i++){var r=t.style[i],o=r.name,s=t.startStyle[o];t.startStyle[o]=r,t.style[i]=s}return e&&this.play(),this},promise:function(t){var e,n=this._private;return e="frame"===t?n.frames:n.completes,new jr((function(t,n){e.push((function(){t()}))}))}}),Vr.complete=Vr.completed,Vr.run=Vr.play,Vr.running=Vr.playing;var zr={animated:function(){return function(){var t=this,e=void 0!==t.length?t:[t];if(!(this._private.cy||this).styleEnabled())return!1;var n=e[0];return n?n._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var t=this,e=void 0!==t.length?t:[t];if(!(this._private.cy||this).styleEnabled())return this;for(var n=0;n<e.length;n++)e[n]._private.animation.queue=[];return this}},delay:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animate({delay:t,duration:t,complete:e}):this}},delayAnimation:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animation({delay:t,duration:t,complete:e}):this}},animation:function(){return function(t,e){var n=this,i=void 0!==n.length,r=i?n:[n],o=this._private.cy||this,s=!i,a=!s;if(!o.styleEnabled())return this;var c=o.style();if(t=Q({},t,e),0===Object.keys(t).length)return new $r(r[0],t);switch(void 0===t.duration&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200}if(a&&(t.style=c.getPropsList(t.style||t.css),t.css=void 0),a&&null!=t.renderedPosition){var l=t.renderedPosition,u=o.pan(),h=o.zoom();t.position=hn(l,h,u)}if(s&&null!=t.panBy){var d=t.panBy,f=o.pan();t.pan={x:f.x+d.x,y:f.y+d.y}}var g=t.center||t.centre;if(s&&null!=g){var p=o.getCenterPan(g.eles,t.zoom);null!=p&&(t.pan=p)}if(s&&null!=t.fit){var m=t.fit,b=o.getFitViewport(m.eles||m.boundingBox,m.padding);null!=b&&(t.pan=b.pan,t.zoom=b.zoom)}if(s&&k(t.zoom)){var w=o.getZoomedViewport(t.zoom);null!=w?(w.zoomed&&(t.zoom=w.zoom),w.panned&&(t.pan=w.pan)):t.zoom=null}return new $r(r[0],t)}},animate:function(){return function(t,e){var n=this,i=void 0!==n.length?n:[n];if(!(this._private.cy||this).styleEnabled())return this;e&&(t=Q({},t,e));for(var r=0;r<i.length;r++){var o=i[r],s=o.animated()&&(void 0===t.queue||t.queue);o.animation(t,s?{queue:!0}:void 0).play()}return this}},stop:function(){return function(t,e){var n=this,i=void 0!==n.length?n:[n],r=this._private.cy||this;if(!r.styleEnabled())return this;for(var o=0;o<i.length;o++){for(var s=i[o]._private,a=s.animation.current,c=0;c<a.length;c++){var l=a[c]._private;e&&(l.duration=0)}t&&(s.animation.queue=[]),e||(s.animation.current=[])}return r.notify("draw"),this}}},Hr=Array.isArray,Ur=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qr=/^\w*$/;function Wr(t,e){if(Hr(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!$t(t))||qr.test(t)||!Ur.test(t)||null!=e&&t in Object(e)}var Gr=Wr,Kr="[object AsyncFunction]",Yr="[object Function]",Xr="[object GeneratorFunction]",Zr="[object Proxy]";function Qr(t){if(!ct(t))return!1;var e=Lt(t);return e==Yr||e==Xr||e==Kr||e==Zr}var Jr=Qr,to=ft["__core-js_shared__"],eo=function(){var t=/[^.]+$/.exec(to&&to.keys&&to.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function no(t){return!!eo&&eo in t}var io=no,ro=Function.prototype.toString;function oo(t){if(null!=t){try{return ro.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var so=oo,ao=/[\\^$.*+?()[\]{}|]/g,co=/^\[object .+?Constructor\]$/,lo=Function.prototype,uo=Object.prototype,ho=lo.toString,fo=uo.hasOwnProperty,go=RegExp("^"+ho.call(fo).replace(ao,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function po(t){return!(!ct(t)||io(t))&&(Jr(t)?go:co).test(so(t))}var mo=po;function bo(t,e){return null==t?void 0:t[e]}var wo=bo;function yo(t,e){var n=wo(t,e);return mo(n)?n:void 0}var vo=yo,_o=vo(Object,"create");function ko(){this.__data__=_o?_o(null):{},this.size=0}var xo=ko;function Eo(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var To=Eo,Co="__lodash_hash_undefined__",Ao=Object.prototype.hasOwnProperty;function So(t){var e=this.__data__;if(_o){var n=e[t];return n===Co?void 0:n}return Ao.call(e,t)?e[t]:void 0}var Io=So,Mo=Object.prototype.hasOwnProperty;function Po(t){var e=this.__data__;return _o?void 0!==e[t]:Mo.call(e,t)}var Oo=Po,Do="__lodash_hash_undefined__";function No(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_o&&void 0===e?Do:e,this}var Lo=No;function Ro(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ro.prototype.clear=xo,Ro.prototype.delete=To,Ro.prototype.get=Io,Ro.prototype.has=Oo,Ro.prototype.set=Lo;var Bo=Ro;function Fo(){this.__data__=[],this.size=0}var jo=Fo;function $o(t,e){return t===e||t!=t&&e!=e}var Vo=$o;function zo(t,e){for(var n=t.length;n--;)if(Vo(t[n][0],e))return n;return-1}var Ho=zo,Uo=Array.prototype.splice;function qo(t){var e=this.__data__,n=Ho(e,t);return!(n<0||(n==e.length-1?e.pop():Uo.call(e,n,1),--this.size,0))}var Wo=qo;function Go(t){var e=this.__data__,n=Ho(e,t);return n<0?void 0:e[n][1]}var Ko=Go;function Yo(t){return Ho(this.__data__,t)>-1}var Xo=Yo;function Zo(t,e){var n=this.__data__,i=Ho(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var Qo=Zo;function Jo(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Jo.prototype.clear=jo,Jo.prototype.delete=Wo,Jo.prototype.get=Ko,Jo.prototype.has=Xo,Jo.prototype.set=Qo;var ts=Jo,es=vo(ft,"Map");function ns(){this.size=0,this.__data__={hash:new Bo,map:new(es||ts),string:new Bo}}var is=ns;function rs(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}var os=rs;function ss(t,e){var n=t.__data__;return os(e)?n["string"==typeof e?"string":"hash"]:n.map}var as=ss;function cs(t){var e=as(this,t).delete(t);return this.size-=e?1:0,e}var ls=cs;function us(t){return as(this,t).get(t)}var hs=us;function ds(t){return as(this,t).has(t)}var fs=ds;function gs(t,e){var n=as(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}var ps=gs;function ms(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}ms.prototype.clear=is,ms.prototype.delete=ls,ms.prototype.get=hs,ms.prototype.has=fs,ms.prototype.set=ps;var bs=ms,ws="Expected a function";function ys(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(ws);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(ys.Cache||bs),n}ys.Cache=bs;var vs=ys,_s=500;function ks(t){var e=vs(t,(function(t){return n.size===_s&&n.clear(),t})),n=e.cache;return e}var xs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Es=/\\(\\)?/g,Ts=ks((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(xs,(function(t,n,i,r){e.push(i?r.replace(Es,"$1"):n||t)})),e}));function Cs(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}var As=Cs,Ss=1/0,Is=_t?_t.prototype:void 0,Ms=Is?Is.toString:void 0;function Ps(t){if("string"==typeof t)return t;if(Hr(t))return As(t,Ps)+"";if($t(t))return Ms?Ms.call(t):"";var e=t+"";return"0"==e&&1/t==-Ss?"-0":e}var Os=Ps;function Ds(t){return null==t?"":Os(t)}var Ns=Ds;function Ls(t,e){return Hr(t)?t:Gr(t,e)?[t]:Ts(Ns(t))}var Rs=Ls,Bs=1/0;function Fs(t){if("string"==typeof t||$t(t))return t;var e=t+"";return"0"==e&&1/t==-Bs?"-0":e}var js=Fs;function $s(t,e){for(var n=0,i=(e=Rs(e,t)).length;null!=t&&n<i;)t=t[js(e[n++])];return n&&n==i?t:void 0}var Vs=$s;function zs(t,e,n){var i=null==t?void 0:Vs(t,e);return void 0===i?n:i}var Hs=zs,Us=function(){try{var t=vo(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function qs(t,e,n){"__proto__"==e&&Us?Us(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Ws=qs,Gs=Object.prototype.hasOwnProperty;function Ks(t,e,n){var i=t[e];Gs.call(t,e)&&Vo(i,n)&&(void 0!==n||e in t)||Ws(t,e,n)}var Ys=Ks,Xs=9007199254740991,Zs=/^(?:0|[1-9]\d*)$/;function Qs(t,e){var n=typeof t;return!!(e=null==e?Xs:e)&&("number"==n||"symbol"!=n&&Zs.test(t))&&t>-1&&t%1==0&&t<e}var Js=Qs;function ta(t,e,n,i){if(!ct(t))return t;for(var r=-1,o=(e=Rs(e,t)).length,s=o-1,a=t;null!=a&&++r<o;){var c=js(e[r]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(r!=s){var u=a[c];void 0===(l=i?i(u,c,a):void 0)&&(l=ct(u)?u:Js(e[r+1])?[]:{})}Ys(a,c,l),a=a[c]}return t}var ea=ta;function na(t,e,n){return null==t?t:ea(t,e,n)}var ia=na;function ra(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var oa=ra;function sa(t){return Hr(t)?As(t,js):$t(t)?[t]:oa(Ts(Ns(t)))}var aa=sa,ca={eventAliasesOn:function(t){var e=t;e.addListener=e.listen=e.bind=e.on,e.unlisten=e.unbind=e.off=e.removeListener,e.trigger=e.emit,e.pon=e.promiseOn=function(t,e){var n=this,i=Array.prototype.slice.call(arguments,0);return new jr((function(t,e){var r=function(e){n.off.apply(n,s),t(e)},o=i.concat([r]),s=o.concat([]);n.on.apply(n,o)}))}}},la={};[zr,{data:function(t){return t=Q({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(t){},beforeSet:function(t,e){},onSet:function(t){},canSet:function(t){return!0}},t),function(e,n){var i=t,r=this,s=void 0!==r.length,a=s?r:[r],c=s?r[0]:r;if(y(e)){var l,u=-1!==e.indexOf(".")&&aa(e);if(i.allowGetting&&void 0===n)return c&&(i.beforeGet(c),l=u&&void 0===c._private[i.field][e]?Hs(c._private[i.field],u):c._private[i.field][e]),l;if(i.allowSetting&&void 0!==n&&!i.immutableKeys[e]){var h=o({},e,n);i.beforeSet(r,h);for(var d=0,f=a.length;d<f;d++){var g=a[d];i.canSet(g)&&(u&&void 0===c._private[i.field][e]?ia(g._private[i.field],u,n):g._private[i.field][e]=n)}i.updateStyle&&r.updateStyle(),i.onSet(r),i.settingTriggersEvent&&r[i.triggerFnName](i.settingEvent)}}else if(i.allowSetting&&k(e)){var p,m,b=e,w=Object.keys(b);i.beforeSet(r,b);for(var _=0;_<w.length;_++)if(m=b[p=w[_]],!i.immutableKeys[p])for(var x=0;x<a.length;x++){var E=a[x];i.canSet(E)&&(E._private[i.field][p]=m)}i.updateStyle&&r.updateStyle(),i.onSet(r),i.settingTriggersEvent&&r[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&v(e)){var T=e;r.on(i.bindingEvent,T)}else if(i.allowGetting&&void 0===e){var C;return c&&(i.beforeGet(c),C=c._private[i.field]),C}return r}},removeData:function(t){return t=Q({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},t),function(e){var n=t,i=this,r=void 0!==i.length?i:[i];if(y(e)){for(var o=e.split(/\s+/),s=o.length,a=0;a<s;a++){var c=o[a];if(!D(c)&&!n.immutableKeys[c])for(var l=0,u=r.length;l<u;l++)r[l]._private[n.field][c]=void 0}n.triggerEvent&&i[n.triggerFnName](n.event)}else if(void 0===e){for(var h=0,d=r.length;h<d;h++)for(var f=r[h]._private[n.field],g=Object.keys(f),p=0;p<g.length;p++){var m=g[p];!n.immutableKeys[m]&&(f[m]=void 0)}n.triggerEvent&&i[n.triggerFnName](n.event)}return i}}},ca].forEach((function(t){Q(la,t)}));var ua={animate:la.animate(),animation:la.animation(),animated:la.animated(),clearQueue:la.clearQueue(),delay:la.delay(),delayAnimation:la.delayAnimation(),stop:la.stop()},ha={classes:function(t){var e=this;if(void 0===t){var n=[];return e[0]._private.classes.forEach((function(t){return n.push(t)})),n}_(t)||(t=(t||"").match(/\S+/g)||[]);for(var i=[],r=new He(t),o=0;o<e.length;o++){for(var s=e[o],a=s._private,c=a.classes,l=!1,u=0;u<t.length;u++){var h=t[u];if(!c.has(h)){l=!0;break}}l||(l=c.size!==t.length),l&&(a.classes=r,i.push(s))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),e},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var e=this[0];return null!=e&&e._private.classes.has(t)},toggleClass:function(t,e){_(t)||(t=t.match(/\S+/g)||[]);for(var n=this,i=void 0===e,r=[],o=0,s=n.length;o<s;o++)for(var a=n[o],c=a._private.classes,l=!1,u=0;u<t.length;u++){var h=t[u],d=c.has(h),f=!1;e||i&&!d?(c.add(h),f=!0):(!e||i&&d)&&(c.delete(h),f=!0),!l&&f&&(r.push(a),l=!0)}return r.length>0&&this.spawn(r).updateStyle().emit("class"),n},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,e){var n=this;if(null==e)e=250;else if(0===e)return n;return n.addClass(t),setTimeout((function(){n.removeClass(t)}),e),n}};ha.className=ha.classNames=ha.classes;var da={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:H,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};da.variable="(?:[\\w-.]|(?:\\\\"+da.metaChar+"))+",da.className="(?:[\\w-]|(?:\\\\"+da.metaChar+"))+",da.value=da.string+"|"+da.number,da.id=da.variable,function(){var t,e,n;for(t=da.comparatorOp.split("|"),n=0;n<t.length;n++)e=t[n],da.comparatorOp+="|@"+e;for(t=da.comparatorOp.split("|"),n=0;n<t.length;n++)(e=t[n]).indexOf("!")>=0||"="!==e&&(da.comparatorOp+="|\\!"+e)}();var fa=function(){return{checks:[]}},ga={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},pa=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort((function(t,e){return Z(t.selector,e.selector)})),ma=function(){for(var t,e={},n=0;n<pa.length;n++)e[(t=pa[n]).selector]=t.matches;return e}(),ba=function(t,e){return ma[t](e)},wa="("+pa.map((function(t){return t.selector})).join("|")+")",ya=function(t){return t.replace(new RegExp("\\\\("+da.metaChar+")","g"),(function(t,e){return e}))},va=function(t,e,n){t[t.length-1]=n},_a=[{name:"group",query:!0,regex:"("+da.group+")",populate:function(t,e,n){var i=s(n,1)[0];e.checks.push({type:ga.GROUP,value:"*"===i?i:i+"s"})}},{name:"state",query:!0,regex:wa,populate:function(t,e,n){var i=s(n,1)[0];e.checks.push({type:ga.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+da.id+")",populate:function(t,e,n){var i=s(n,1)[0];e.checks.push({type:ga.ID,value:ya(i)})}},{name:"className",query:!0,regex:"\\.("+da.className+")",populate:function(t,e,n){var i=s(n,1)[0];e.checks.push({type:ga.CLASS,value:ya(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+da.variable+")\\s*\\]",populate:function(t,e,n){var i=s(n,1)[0];e.checks.push({type:ga.DATA_EXIST,field:ya(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+da.variable+")\\s*("+da.comparatorOp+")\\s*("+da.value+")\\s*\\]",populate:function(t,e,n){var i=s(n,3),r=i[0],o=i[1],a=i[2];a=null!=new RegExp("^"+da.string+"$").exec(a)?a.substring(1,a.length-1):parseFloat(a),e.checks.push({type:ga.DATA_COMPARE,field:ya(r),operator:o,value:a})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+da.boolOp+")\\s*("+da.variable+")\\s*\\]",populate:function(t,e,n){var i=s(n,2),r=i[0],o=i[1];e.checks.push({type:ga.DATA_BOOL,field:ya(o),operator:r})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+da.meta+")\\s*("+da.comparatorOp+")\\s*("+da.number+")\\s*\\]\\]",populate:function(t,e,n){var i=s(n,3),r=i[0],o=i[1],a=i[2];e.checks.push({type:ga.META_COMPARE,field:ya(r),operator:o,value:parseFloat(a)})}},{name:"nextQuery",separator:!0,regex:da.separator,populate:function(t,e){var n=t.currentSubject,i=t.edgeCount,r=t.compoundCount,o=t[t.length-1];return null!=n&&(o.subject=n,t.currentSubject=null),o.edgeCount=i,o.compoundCount=r,t.edgeCount=0,t.compoundCount=0,t[t.length++]=fa()}},{name:"directedEdge",separator:!0,regex:da.directedEdge,populate:function(t,e){if(null==t.currentSubject){var n=fa(),i=e,r=fa();return n.checks.push({type:ga.DIRECTED_EDGE,source:i,target:r}),va(t,e,n),t.edgeCount++,r}var o=fa(),s=e,a=fa();return o.checks.push({type:ga.NODE_SOURCE,source:s,target:a}),va(t,e,o),t.edgeCount++,a}},{name:"undirectedEdge",separator:!0,regex:da.undirectedEdge,populate:function(t,e){if(null==t.currentSubject){var n=fa(),i=e,r=fa();return n.checks.push({type:ga.UNDIRECTED_EDGE,nodes:[i,r]}),va(t,e,n),t.edgeCount++,r}var o=fa(),s=e,a=fa();return o.checks.push({type:ga.NODE_NEIGHBOR,node:s,neighbor:a}),va(t,e,o),a}},{name:"child",separator:!0,regex:da.child,populate:function(t,e){if(null==t.currentSubject){var n=fa(),i=fa(),r=t[t.length-1];return n.checks.push({type:ga.CHILD,parent:r,child:i}),va(t,e,n),t.compoundCount++,i}if(t.currentSubject===e){var o=fa(),s=t[t.length-1],a=fa(),c=fa(),l=fa(),u=fa();return o.checks.push({type:ga.COMPOUND_SPLIT,left:s,right:a,subject:c}),c.checks=e.checks,e.checks=[{type:ga.TRUE}],u.checks.push({type:ga.TRUE}),a.checks.push({type:ga.PARENT,parent:u,child:l}),va(t,s,o),t.currentSubject=c,t.compoundCount++,l}var h=fa(),d=fa(),f=[{type:ga.PARENT,parent:h,child:d}];return h.checks=e.checks,e.checks=f,t.compoundCount++,d}},{name:"descendant",separator:!0,regex:da.descendant,populate:function(t,e){if(null==t.currentSubject){var n=fa(),i=fa(),r=t[t.length-1];return n.checks.push({type:ga.DESCENDANT,ancestor:r,descendant:i}),va(t,e,n),t.compoundCount++,i}if(t.currentSubject===e){var o=fa(),s=t[t.length-1],a=fa(),c=fa(),l=fa(),u=fa();return o.checks.push({type:ga.COMPOUND_SPLIT,left:s,right:a,subject:c}),c.checks=e.checks,e.checks=[{type:ga.TRUE}],u.checks.push({type:ga.TRUE}),a.checks.push({type:ga.ANCESTOR,ancestor:u,descendant:l}),va(t,s,o),t.currentSubject=c,t.compoundCount++,l}var h=fa(),d=fa(),f=[{type:ga.ANCESTOR,ancestor:h,descendant:d}];return h.checks=e.checks,e.checks=f,t.compoundCount++,d}},{name:"subject",modifier:!0,regex:da.subject,populate:function(t,e){if(null!=t.currentSubject&&t.currentSubject!==e)return Ae("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=e;var n=t[t.length-1].checks[0],i=null==n?null:n.type;i===ga.DIRECTED_EDGE?n.type=ga.NODE_TARGET:i===ga.UNDIRECTED_EDGE&&(n.type=ga.NODE_NEIGHBOR,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];_a.forEach((function(t){return t.regexObj=new RegExp("^"+t.regex)}));var ka=function(t){for(var e,n,i,r=0;r<_a.length;r++){var o=_a[r],s=o.name,a=t.match(o.regexObj);if(null!=a){n=a,e=o,i=s;var c=a[0];t=t.substring(c.length);break}}return{expr:e,match:n,name:i,remaining:t}},xa=function(t){var e=t.match(/^\s+/);if(e){var n=e[0];t=t.substring(n.length)}return t},Ea={parse:function(t){var e=this,n=e.inputText=t,i=e[0]=fa();for(e.length=1,n=xa(n);;){var r=ka(n);if(null==r.expr)return Ae("The selector `"+t+"`is invalid"),!1;var o=r.match.slice(1),s=r.expr.populate(e,i,o);if(!1===s)return!1;if(null!=s&&(i=s),(n=r.remaining).match(/^\s*$/))break}var a=e[e.length-1];null!=e.currentSubject&&(a.subject=e.currentSubject),a.edgeCount=e.edgeCount,a.compoundCount=e.compoundCount;for(var c=0;c<e.length;c++){var l=e[c];if(l.compoundCount>0&&l.edgeCount>0)return Ae("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(l.edgeCount>1)return Ae("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;1===l.edgeCount&&Ae("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var t=function(t){return null==t?"":t},e=function(e){return y(e)?'"'+e+'"':t(e)},n=function(t){return" "+t+" "},i=function(i,o){var s=i.type,a=i.value;switch(s){case ga.GROUP:var c=t(a);return c.substring(0,c.length-1);case ga.DATA_COMPARE:var l=i.field,u=i.operator;return"["+l+n(t(u))+e(a)+"]";case ga.DATA_BOOL:var h=i.operator,d=i.field;return"["+t(h)+d+"]";case ga.DATA_EXIST:return"["+i.field+"]";case ga.META_COMPARE:var f=i.operator;return"[["+i.field+n(t(f))+e(a)+"]]";case ga.STATE:return a;case ga.ID:return"#"+a;case ga.CLASS:return"."+a;case ga.PARENT:case ga.CHILD:return r(i.parent,o)+n(">")+r(i.child,o);case ga.ANCESTOR:case ga.DESCENDANT:return r(i.ancestor,o)+" "+r(i.descendant,o);case ga.COMPOUND_SPLIT:var g=r(i.left,o),p=r(i.subject,o),m=r(i.right,o);return g+(g.length>0?" ":"")+p+m;case ga.TRUE:return""}},r=function(t,e){return t.checks.reduce((function(n,r,o){return n+(e===t&&0===o?"$":"")+i(r,e)}),"")},o="",s=0;s<this.length;s++){var a=this[s];o+=r(a,a.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o}},Ta=function(t,e,n){var i,r,o,s=y(t),a=E(t),c=y(n),l=!1,u=!1,h=!1;switch(e.indexOf("!")>=0&&(e=e.replace("!",""),u=!0),e.indexOf("@")>=0&&(e=e.replace("@",""),l=!0),(s||c||l)&&(r=s||a?""+t:"",o=""+n),l&&(t=r=r.toLowerCase(),n=o=o.toLowerCase()),e){case"*=":i=r.indexOf(o)>=0;break;case"$=":i=r.indexOf(o,r.length-o.length)>=0;break;case"^=":i=0===r.indexOf(o);break;case"=":i=t===n;break;case">":h=!0,i=t>n;break;case">=":h=!0,i=t>=n;break;case"<":h=!0,i=t<n;break;case"<=":h=!0,i=t<=n;break;default:i=!1}return!u||null==t&&h||(i=!i),i},Ca=function(t,e){switch(e){case"?":return!!t;case"!":return!t;case"^":return void 0===t}},Aa=function(t){return void 0!==t},Sa=function(t,e){return t.data(e)},Ia=function(t,e){return t[e]()},Ma=[],Pa=function(t,e){return t.checks.every((function(t){return Ma[t.type](t,e)}))};Ma[ga.GROUP]=function(t,e){var n=t.value;return"*"===n||n===e.group()},Ma[ga.STATE]=function(t,e){var n=t.value;return ba(n,e)},Ma[ga.ID]=function(t,e){var n=t.value;return e.id()===n},Ma[ga.CLASS]=function(t,e){var n=t.value;return e.hasClass(n)},Ma[ga.META_COMPARE]=function(t,e){var n=t.field,i=t.operator,r=t.value;return Ta(Ia(e,n),i,r)},Ma[ga.DATA_COMPARE]=function(t,e){var n=t.field,i=t.operator,r=t.value;return Ta(Sa(e,n),i,r)},Ma[ga.DATA_BOOL]=function(t,e){var n=t.field,i=t.operator;return Ca(Sa(e,n),i)},Ma[ga.DATA_EXIST]=function(t,e){var n=t.field;return t.operator,Aa(Sa(e,n))},Ma[ga.UNDIRECTED_EDGE]=function(t,e){var n=t.nodes[0],i=t.nodes[1],r=e.source(),o=e.target();return Pa(n,r)&&Pa(i,o)||Pa(i,r)&&Pa(n,o)},Ma[ga.NODE_NEIGHBOR]=function(t,e){return Pa(t.node,e)&&e.neighborhood().some((function(e){return e.isNode()&&Pa(t.neighbor,e)}))},Ma[ga.DIRECTED_EDGE]=function(t,e){return Pa(t.source,e.source())&&Pa(t.target,e.target())},Ma[ga.NODE_SOURCE]=function(t,e){return Pa(t.source,e)&&e.outgoers().some((function(e){return e.isNode()&&Pa(t.target,e)}))},Ma[ga.NODE_TARGET]=function(t,e){return Pa(t.target,e)&&e.incomers().some((function(e){return e.isNode()&&Pa(t.source,e)}))},Ma[ga.CHILD]=function(t,e){return Pa(t.child,e)&&Pa(t.parent,e.parent())},Ma[ga.PARENT]=function(t,e){return Pa(t.parent,e)&&e.children().some((function(e){return Pa(t.child,e)}))},Ma[ga.DESCENDANT]=function(t,e){return Pa(t.descendant,e)&&e.ancestors().some((function(e){return Pa(t.ancestor,e)}))},Ma[ga.ANCESTOR]=function(t,e){return Pa(t.ancestor,e)&&e.descendants().some((function(e){return Pa(t.descendant,e)}))},Ma[ga.COMPOUND_SPLIT]=function(t,e){return Pa(t.subject,e)&&Pa(t.left,e)&&Pa(t.right,e)},Ma[ga.TRUE]=function(){return!0},Ma[ga.COLLECTION]=function(t,e){return t.value.has(e)},Ma[ga.FILTER]=function(t,e){return(0,t.value)(e)};var Oa={matches:function(t){for(var e=this,n=0;n<e.length;n++){var i=e[n];if(Pa(i,t))return!0}return!1},filter:function(t){var e=this;if(1===e.length&&1===e[0].checks.length&&e[0].checks[0].type===ga.ID)return t.getElementById(e[0].checks[0].value).collection();var n=function(t){for(var n=0;n<e.length;n++){var i=e[n];if(Pa(i,t))return!0}return!1};return null==e.text()&&(n=function(){return!0}),t.filter(n)}},Da=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==t||y(t)&&t.match(/^\s*$/)||(A(t)?this.addQuery({checks:[{type:ga.COLLECTION,value:t.collection()}]}):v(t)?this.addQuery({checks:[{type:ga.FILTER,value:t}]}):y(t)?this.parse(t)||(this.invalid=!0):Te("A selector must be created from a string; found "))},Na=Da.prototype;[Ea,Oa].forEach((function(t){return Q(Na,t)})),Na.text=function(){return this.inputText},Na.size=function(){return this.length},Na.eq=function(t){return this[t]},Na.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()},Na.addQuery=function(t){this[this.length++]=t},Na.selector=Na.toString;var La={allAre:function(t){var e=new Da(t);return this.every((function(t){return e.matches(t)}))},is:function(t){var e=new Da(t);return this.some((function(t){return e.matches(t)}))},some:function(t,e){for(var n=0;n<this.length;n++)if(e?t.apply(e,[this[n],n,this]):t(this[n],n,this))return!0;return!1},every:function(t,e){for(var n=0;n<this.length;n++)if(!(e?t.apply(e,[this[n],n,this]):t(this[n],n,this)))return!1;return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var e=this.length;return e===t.length&&(1===e?this[0]===t[0]:this.every((function(e){return t.hasElementWithId(e.id())})))},anySame:function(t){return t=this.cy().collection(t),this.some((function(e){return t.hasElementWithId(e.id())}))},allAreNeighbors:function(t){t=this.cy().collection(t);var e=this.neighborhood();return t.every((function(t){return e.hasElementWithId(t.id())}))},contains:function(t){t=this.cy().collection(t);var e=this;return t.every((function(t){return e.hasElementWithId(t.id())}))}};La.allAreNeighbours=La.allAreNeighbors,La.has=La.contains,La.equal=La.equals=La.same;var Ra,Ba,Fa=function(t,e){return function(n,i,r,o){var s,a=n,c=this;if(null==a?s="":A(a)&&1===a.length&&(s=a.id()),1===c.length&&s){var l=c[0]._private,u=l.traversalCache=l.traversalCache||{},h=u[e]=u[e]||[],d=ge(s),f=h[d];return f||(h[d]=t.call(c,n,i,r,o))}return t.call(c,n,i,r,o)}},ja={parent:function(t){var e=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var r=this[i]._private.parent;r&&e.push(r)}return this.spawn(e,!0).filter(t)},parents:function(t){for(var e=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var r=n[i];e.push(r)}n=n.parent()}return this.spawn(e,!0).filter(t)},commonAncestors:function(t){for(var e,n=0;n<this.length;n++){var i=this[n].parents();e=(e=e||i).intersect(i)}return e.filter(t)},orphans:function(t){return this.stdFilter((function(t){return t.isOrphan()})).filter(t)},nonorphans:function(t){return this.stdFilter((function(t){return t.isChild()})).filter(t)},children:Fa((function(t){for(var e=[],n=0;n<this.length;n++)for(var i=this[n]._private.children,r=0;r<i.length;r++)e.push(i[r]);return this.spawn(e,!0).filter(t)}),"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&0!==t._private.children.length},isChildless:function(){var t=this[0];if(t)return t.isNode()&&0===t._private.children.length},isChild:function(){var t=this[0];if(t)return t.isNode()&&null!=t._private.parent},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&null==t._private.parent},descendants:function(t){var e=[];function n(t){for(var i=0;i<t.length;i++){var r=t[i];e.push(r),r.children().nonempty()&&n(r.children())}}return n(this.children()),this.spawn(e,!0).filter(t)}};function $a(t,e,n,i){for(var r=[],o=new He,s=t.cy().hasCompoundNodes(),a=0;a<t.length;a++){var c=t[a];n?r.push(c):s&&i(r,o,c)}for(;r.length>0;){var l=r.shift();e(l),o.add(l.id()),s&&i(r,o,l)}return t}function Va(t,e,n){if(n.isParent())for(var i=n._private.children,r=0;r<i.length;r++){var o=i[r];e.has(o.id())||t.push(o)}}function za(t,e,n){if(n.isChild()){var i=n._private.parent;e.has(i.id())||t.push(i)}}function Ha(t,e,n){za(t,e,n),Va(t,e,n)}ja.forEachDown=function(t){return $a(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Va)},ja.forEachUp=function(t){return $a(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],za)},ja.forEachUpAndDown=function(t){return $a(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Ha)},ja.ancestors=ja.parents,(Ra=Ba={data:la.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:la.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:la.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:la.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:la.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:la.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}}).attr=Ra.data,Ra.removeAttr=Ra.removeData;var Ua,qa,Wa=Ba,Ga={};function Ka(t){return function(e){var n=this;if(void 0===e&&(e=!0),0!==n.length&&n.isNode()&&!n.removed()){for(var i=0,r=n[0],o=r._private.edges,s=0;s<o.length;s++){var a=o[s];!e&&a.isLoop()||(i+=t(r,a))}return i}}}function Ya(t,e){return function(n){for(var i,r=this.nodes(),o=0;o<r.length;o++){var s=r[o][t](n);void 0===s||void 0!==i&&!e(s,i)||(i=s)}return i}}Q(Ga,{degree:Ka((function(t,e){return e.source().same(e.target())?2:1})),indegree:Ka((function(t,e){return e.target().same(t)?1:0})),outdegree:Ka((function(t,e){return e.source().same(t)?1:0}))}),Q(Ga,{minDegree:Ya("degree",(function(t,e){return t<e})),maxDegree:Ya("degree",(function(t,e){return t>e})),minIndegree:Ya("indegree",(function(t,e){return t<e})),maxIndegree:Ya("indegree",(function(t,e){return t>e})),minOutdegree:Ya("outdegree",(function(t,e){return t<e})),maxOutdegree:Ya("outdegree",(function(t,e){return t>e}))}),Q(Ga,{totalDegree:function(t){for(var e=0,n=this.nodes(),i=0;i<n.length;i++)e+=n[i].degree(t);return e}});var Xa=function(t,e,n){for(var i=0;i<t.length;i++){var r=t[i];if(!r.locked()){var o=r._private.position,s={x:null!=e.x?e.x-o.x:0,y:null!=e.y?e.y-o.y:0};!r.isParent()||0===s.x&&0===s.y||r.children().shift(s,n),r.dirtyBoundingBoxCache()}}},Za={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,e){Xa(t,e,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};(Ua=qa={position:la.data(Za),silentPosition:la.data(Q({},Za,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,e){Xa(t,e,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,e){if(k(t))e?this.silentPosition(t):this.position(t);else if(v(t)){var n=t,i=this.cy();i.startBatch();for(var r=0;r<this.length;r++){var o=this[r],s=void 0;(s=n(o,r))&&(e?o.silentPosition(s):o.position(s))}i.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,e,n){var i;if(k(t)?(i={x:E(t.x)?t.x:0,y:E(t.y)?t.y:0},n=e):y(t)&&E(e)&&((i={x:0,y:0})[t]=e),null!=i){var r=this.cy();r.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(r.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var a=s.position(),c={x:a.x+i.x,y:a.y+i.y};n?s.silentPosition(c):s.position(c)}}r.endBatch()}return this},silentShift:function(t,e){return k(t)?this.shift(t,!0):y(t)&&E(e)&&this.shift(t,e,!0),this},renderedPosition:function(t,e){var n=this[0],i=this.cy(),r=i.zoom(),o=i.pan(),s=k(t)?t:void 0,a=void 0!==s||void 0!==e&&y(t);if(n&&n.isNode()){if(!a){var c=n.position();return s=un(c,r,o),void 0===t?s:s[t]}for(var l=0;l<this.length;l++){var u=this[l];void 0!==e?u.position(t,(e-o[t])/r):void 0!==s&&u.position(hn(s,r,o))}}else if(!a)return;return this},relativePosition:function(t,e){var n=this[0],i=this.cy(),r=k(t)?t:void 0,o=void 0!==r||void 0!==e&&y(t),s=i.hasCompoundNodes();if(n&&n.isNode()){if(!o){var a=n.position(),c=s?n.parent():null,l=c&&c.length>0,u=l;l&&(c=c[0]);var h=u?c.position():{x:0,y:0};return r={x:a.x-h.x,y:a.y-h.y},void 0===t?r:r[t]}for(var d=0;d<this.length;d++){var f=this[d],g=s?f.parent():null,p=g&&g.length>0,m=p;p&&(g=g[0]);var b=m?g.position():{x:0,y:0};void 0!==e?f.position(t,e+b[t]):void 0!==r&&f.position({x:r.x+b.x,y:r.y+b.y})}}else if(!o)return;return this}}).modelPosition=Ua.point=Ua.position,Ua.modelPositions=Ua.points=Ua.positions,Ua.renderedPoint=Ua.renderedPosition,Ua.relativePoint=Ua.relativePosition;var Qa,Ja,tc=qa;Qa=Ja={},Ja.renderedBoundingBox=function(t){var e=this.boundingBox(t),n=this.cy(),i=n.zoom(),r=n.pan(),o=e.x1*i+r.x,s=e.x2*i+r.x,a=e.y1*i+r.y,c=e.y2*i+r.y;return{x1:o,x2:s,y1:a,y2:c,w:s-o,h:c-a}},Ja.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.cy();return e.styleEnabled()&&e.hasCompoundNodes()?(this.forEachUp((function(e){if(e.isParent()){var n=e._private;n.compoundBoundsClean=!1,n.bbCache=null,t||e.emitAndNotify("bounds")}})),this):this},Ja.updateCompoundBounds=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function n(t){if(t.isParent()){var e=t._private,n=t.children(),i="include"===t.pstyle("compound-sizing-wrt-labels").value,r={width:{val:t.pstyle("min-width").pfValue,left:t.pstyle("min-width-bias-left"),right:t.pstyle("min-width-bias-right")},height:{val:t.pstyle("min-height").pfValue,top:t.pstyle("min-height-bias-top"),bottom:t.pstyle("min-height-bias-bottom")}},o=n.boundingBox({includeLabels:i,includeOverlays:!1,useCache:!1}),s=e.position;0!==o.w&&0!==o.h||((o={w:t.pstyle("width").pfValue,h:t.pstyle("height").pfValue}).x1=s.x-o.w/2,o.x2=s.x+o.w/2,o.y1=s.y-o.h/2,o.y2=s.y+o.h/2);var a=r.width.left.value;"px"===r.width.left.units&&r.width.val>0&&(a=100*a/r.width.val);var c=r.width.right.value;"px"===r.width.right.units&&r.width.val>0&&(c=100*c/r.width.val);var l=r.height.top.value;"px"===r.height.top.units&&r.height.val>0&&(l=100*l/r.height.val);var u=r.height.bottom.value;"px"===r.height.bottom.units&&r.height.val>0&&(u=100*u/r.height.val);var h=b(r.width.val-o.w,a,c),d=h.biasDiff,f=h.biasComplementDiff,g=b(r.height.val-o.h,l,u),p=g.biasDiff,m=g.biasComplementDiff;e.autoPadding=w(o.w,o.h,t.pstyle("padding"),t.pstyle("padding-relative-to").value),e.autoWidth=Math.max(o.w,r.width.val),s.x=(-d+o.x1+o.x2+f)/2,e.autoHeight=Math.max(o.h,r.height.val),s.y=(-p+o.y1+o.y2+m)/2}function b(t,e,n){var i=0,r=0,o=e+n;return t>0&&o>0&&(i=e/o*t,r=n/o*t),{biasDiff:i,biasComplementDiff:r}}function w(t,e,n,i){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(i){case"width":return t>0?n.pfValue*t:0;case"height":return e>0?n.pfValue*e:0;case"average":return t>0&&e>0?n.pfValue*(t+e)/2:0;case"min":return t>0&&e>0?t>e?n.pfValue*e:n.pfValue*t:0;case"max":return t>0&&e>0?t>e?n.pfValue*t:n.pfValue*e:0;default:return 0}}}for(var i=0;i<this.length;i++){var r=this[i],o=r._private;o.compoundBoundsClean&&!t||(n(r),e.batching()||(o.compoundBoundsClean=!0))}return this};var ec=function(t){return t===1/0||t===-1/0?0:t},nc=function(t,e,n,i,r){i-e!=0&&r-n!=0&&null!=e&&null!=n&&null!=i&&null!=r&&(t.x1=e<t.x1?e:t.x1,t.x2=i>t.x2?i:t.x2,t.y1=n<t.y1?n:t.y1,t.y2=r>t.y2?r:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},ic=function(t,e){return null==e?t:nc(t,e.x1,e.y1,e.x2,e.y2)},rc=function(t,e,n){return Fe(t,e,n)},oc=function(t,e,n){if(!e.cy().headless()){var i,r,o=e._private,s=o.rstyle,a=s.arrowWidth/2;if("none"!==e.pstyle(n+"-arrow-shape").value){"source"===n?(i=s.srcX,r=s.srcY):"target"===n?(i=s.tgtX,r=s.tgtY):(i=s.midX,r=s.midY);var c=o.arrowBounds=o.arrowBounds||{},l=c[n]=c[n]||{};l.x1=i-a,l.y1=r-a,l.x2=i+a,l.y2=r+a,l.w=l.x2-l.x1,l.h=l.y2-l.y1,Dn(l,1),nc(t,l.x1,l.y1,l.x2,l.y2)}}},sc=function(t,e,n){if(!e.cy().headless()){var i;i=n?n+"-":"";var r=e._private,o=r.rstyle;if(e.pstyle(i+"label").strValue){var s,a,c,l,u=e.pstyle("text-halign"),h=e.pstyle("text-valign"),d=rc(o,"labelWidth",n),f=rc(o,"labelHeight",n),g=rc(o,"labelX",n),p=rc(o,"labelY",n),m=e.pstyle(i+"text-margin-x").pfValue,b=e.pstyle(i+"text-margin-y").pfValue,w=e.isEdge(),y=e.pstyle(i+"text-rotation"),v=e.pstyle("text-outline-width").pfValue,_=e.pstyle("text-border-width").pfValue/2,k=e.pstyle("text-background-padding").pfValue,x=2,E=f,T=d,C=T/2,A=E/2;if(w)s=g-C,a=g+C,c=p-A,l=p+A;else{switch(u.value){case"left":s=g-T,a=g;break;case"center":s=g-C,a=g+C;break;case"right":s=g,a=g+T}switch(h.value){case"top":c=p-E,l=p;break;case"center":c=p-A,l=p+A;break;case"bottom":c=p,l=p+E}}s+=m-Math.max(v,_)-k-x,a+=m+Math.max(v,_)+k+x,c+=b-Math.max(v,_)-k-x,l+=b+Math.max(v,_)+k+x;var S=n||"main",I=r.labelBounds,M=I[S]=I[S]||{};M.x1=s,M.y1=c,M.x2=a,M.y2=l,M.w=a-s,M.h=l-c;var P=w&&"autorotate"===y.strValue,O=null!=y.pfValue&&0!==y.pfValue;if(P||O){var D=P?rc(r.rstyle,"labelAngle",n):y.pfValue,N=Math.cos(D),L=Math.sin(D),R=(s+a)/2,B=(c+l)/2;if(!w){switch(u.value){case"left":R=a;break;case"right":R=s}switch(h.value){case"top":B=l;break;case"bottom":B=c}}var F=function(t,e){return{x:(t-=R)*N-(e-=B)*L+R,y:t*L+e*N+B}},j=F(s,c),$=F(s,l),V=F(a,c),z=F(a,l);s=Math.min(j.x,$.x,V.x,z.x),a=Math.max(j.x,$.x,V.x,z.x),c=Math.min(j.y,$.y,V.y,z.y),l=Math.max(j.y,$.y,V.y,z.y)}var H=S+"Rot",U=I[H]=I[H]||{};U.x1=s,U.y1=c,U.x2=a,U.y2=l,U.w=a-s,U.h=l-c,nc(t,s,c,a,l),nc(r.labelBounds.all,s,c,a,l)}return t}},ac=function(t,e){var n,i,r,o,s,a,c=t._private.cy,l=c.styleEnabled(),u=c.headless(),h=Sn(),d=t._private,f=t.isNode(),g=t.isEdge(),p=d.rstyle,m=f&&l?t.pstyle("bounds-expansion").pfValue:[0],b=function(t){return"none"!==t.pstyle("display").value},w=!l||b(t)&&(!g||b(t.source())&&b(t.target()));if(w){var y=0;l&&e.includeOverlays&&0!==t.pstyle("overlay-opacity").value&&(y=t.pstyle("overlay-padding").value);var v=0;l&&e.includeUnderlays&&0!==t.pstyle("underlay-opacity").value&&(v=t.pstyle("underlay-padding").value);var _=Math.max(y,v),k=0;if(l&&(k=t.pstyle("width").pfValue/2),f&&e.includeNodes){var x=t.position();s=x.x,a=x.y;var E=t.outerWidth()/2,T=t.outerHeight()/2;nc(h,n=s-E,r=a-T,i=s+E,o=a+T)}else if(g&&e.includeEdges)if(l&&!u){var C=t.pstyle("curve-style").strValue;if(n=Math.min(p.srcX,p.midX,p.tgtX),i=Math.max(p.srcX,p.midX,p.tgtX),r=Math.min(p.srcY,p.midY,p.tgtY),o=Math.max(p.srcY,p.midY,p.tgtY),nc(h,n-=k,r-=k,i+=k,o+=k),"haystack"===C){var A=p.haystackPts;if(A&&2===A.length){if(n=A[0].x,r=A[0].y,n>(i=A[1].x)){var S=n;n=i,i=S}if(r>(o=A[1].y)){var I=r;r=o,o=I}nc(h,n-k,r-k,i+k,o+k)}}else if("bezier"===C||"unbundled-bezier"===C||"segments"===C||"taxi"===C){var M;switch(C){case"bezier":case"unbundled-bezier":M=p.bezierPts;break;case"segments":case"taxi":M=p.linePts}if(null!=M)for(var P=0;P<M.length;P++){var O=M[P];n=O.x-k,i=O.x+k,r=O.y-k,o=O.y+k,nc(h,n,r,i,o)}}}else{var D=t.source().position(),N=t.target().position();if((n=D.x)>(i=N.x)){var L=n;n=i,i=L}if((r=D.y)>(o=N.y)){var R=r;r=o,o=R}nc(h,n-=k,r-=k,i+=k,o+=k)}if(l&&e.includeEdges&&g&&(oc(h,t,"mid-source"),oc(h,t,"mid-target"),oc(h,t,"source"),oc(h,t,"target")),l&&"yes"===t.pstyle("ghost").value){var B=t.pstyle("ghost-offset-x").pfValue,F=t.pstyle("ghost-offset-y").pfValue;nc(h,h.x1+B,h.y1+F,h.x2+B,h.y2+F)}var j=d.bodyBounds=d.bodyBounds||{};Ln(j,h),Nn(j,m),Dn(j,1),l&&(n=h.x1,i=h.x2,r=h.y1,o=h.y2,nc(h,n-_,r-_,i+_,o+_));var $=d.overlayBounds=d.overlayBounds||{};Ln($,h),Nn($,m),Dn($,1);var V=d.labelBounds=d.labelBounds||{};null!=V.all?Mn(V.all):V.all=Sn(),l&&e.includeLabels&&(e.includeMainLabels&&sc(h,t,null),g&&(e.includeSourceLabels&&sc(h,t,"source"),e.includeTargetLabels&&sc(h,t,"target")))}return h.x1=ec(h.x1),h.y1=ec(h.y1),h.x2=ec(h.x2),h.y2=ec(h.y2),h.w=ec(h.x2-h.x1),h.h=ec(h.y2-h.y1),h.w>0&&h.h>0&&w&&(Nn(h,m),Dn(h,1)),h},cc=function(t){var e=0,n=function(t){return(t?1:0)<<e++},i=0;return i+=n(t.incudeNodes),i+=n(t.includeEdges),i+=n(t.includeLabels),i+=n(t.includeMainLabels),i+=n(t.includeSourceLabels),i+=n(t.includeTargetLabels),i+=n(t.includeOverlays)},lc=function(t){if(t.isEdge()){var e=t.source().position(),n=t.target().position(),i=function(t){return Math.round(t)};return fe([i(e.x),i(e.y),i(n.x),i(n.y)])}return 0},uc=function(t,e){var n,i=t._private,r=t.isEdge(),o=(null==e?dc:cc(e))===dc,s=lc(t),a=i.bbCachePosKey===s,c=e.useCache&&a,l=function(t){return null==t._private.bbCache||t._private.styleDirty};if(!c||l(t)||r&&l(t.source())||l(t.target())?(a||t.recalculateRenderedStyle(c),n=ac(t,hc),i.bbCache=n,i.bbCachePosKey=s):n=i.bbCache,!o){var u=t.isNode();n=Sn(),(e.includeNodes&&u||e.includeEdges&&!u)&&(e.includeOverlays?ic(n,i.overlayBounds):ic(n,i.bodyBounds)),e.includeLabels&&(e.includeMainLabels&&(!r||e.includeSourceLabels&&e.includeTargetLabels)?ic(n,i.labelBounds.all):(e.includeMainLabels&&ic(n,i.labelBounds.mainRot),e.includeSourceLabels&&ic(n,i.labelBounds.sourceRot),e.includeTargetLabels&&ic(n,i.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},hc={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},dc=cc(hc),fc=Ne(hc);Ja.boundingBox=function(t){var e;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==t&&void 0!==t.useCache&&!0!==t.useCache){e=Sn();var n=fc(t=t||hc),i=this;if(i.cy().styleEnabled())for(var r=0;r<i.length;r++){var o=i[r],s=o._private,a=lc(o),c=s.bbCachePosKey===a,l=n.useCache&&c&&!s.styleDirty;o.recalculateRenderedStyle(l)}this.updateCompoundBounds(!t.useCache);for(var u=0;u<i.length;u++){var h=i[u];ic(e,uc(h,n))}}else t=void 0===t?hc:fc(t),e=uc(this[0],t);return e.x1=ec(e.x1),e.y1=ec(e.y1),e.x2=ec(e.x2),e.y2=ec(e.y2),e.w=ec(e.x2-e.x1),e.h=ec(e.y2-e.y1),e},Ja.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Ja.boundingBoxAt=function(t){var e=this.nodes(),n=this.cy(),i=n.hasCompoundNodes(),r=n.collection();if(i&&(r=e.filter((function(t){return t.isParent()})),e=e.not(r)),k(t)){var o=t;t=function(){return o}}var s=function(e,n){return e._private.bbAtOldPos=t(e,n)},a=function(t){return t._private.bbAtOldPos};n.startBatch(),e.forEach(s).silentPositions(t),i&&(r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),r.updateCompoundBounds(!0));var c=In(this.boundingBox({useCache:!1}));return e.silentPositions(a),i&&(r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),r.updateCompoundBounds(!0)),n.endBatch(),c},Qa.boundingbox=Qa.bb=Qa.boundingBox,Qa.renderedBoundingbox=Qa.renderedBoundingBox;var gc,pc,mc=Ja;gc=pc={};var bc=function(t){t.uppercaseName=z(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=z(t.outerName),gc[t.name]=function(){var e=this[0],n=e._private,i=n.cy._private.styleEnabled;if(e){if(i){if(e.isParent())return e.updateCompoundBounds(),n[t.autoName]||0;var r=e.pstyle(t.name);return"label"===r.strValue?(e.recalculateRenderedStyle(),n.rstyle[t.labelName]||0):r.pfValue}return 1}},gc["outer"+t.uppercaseName]=function(){var e=this[0],n=e._private.cy._private.styleEnabled;if(e)return n?e[t.name]()+e.pstyle("border-width").pfValue+2*e.padding():1},gc["rendered"+t.uppercaseName]=function(){var e=this[0];if(e)return e[t.name]()*this.cy().zoom()},gc["rendered"+t.uppercaseOuterName]=function(){var e=this[0];if(e)return e[t.outerName]()*this.cy().zoom()}};bc({name:"width"}),bc({name:"height"}),pc.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),void 0!==e.autoPadding?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue},pc.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()},pc.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var wc=pc,yc=function(t,e){if(t.isEdge())return e(t)},vc=function(t,e){if(t.isEdge()){var n=t.cy();return un(e(t),n.zoom(),n.pan())}},_c=function(t,e){if(t.isEdge()){var n=t.cy(),i=n.pan(),r=n.zoom();return e(t).map((function(t){return un(t,r,i)}))}},kc={controlPoints:{get:function(t){return t.renderer().getControlPoints(t)},mult:!0},segmentPoints:{get:function(t){return t.renderer().getSegmentPoints(t)},mult:!0},sourceEndpoint:{get:function(t){return t.renderer().getSourceEndpoint(t)}},targetEndpoint:{get:function(t){return t.renderer().getTargetEndpoint(t)}},midpoint:{get:function(t){return t.renderer().getEdgeMidpoint(t)}}},xc=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)},Ec=Object.keys(kc).reduce((function(t,e){var n=kc[e],i=xc(e);return t[e]=function(){return yc(this,n.get)},n.mult?t[i]=function(){return _c(this,n.get)}:t[i]=function(){return vc(this,n.get)},t}),{}),Tc=Q({},tc,mc,wc,Ec),Cc=function(t,e){this.recycle(t,e)};function Ac(){return!1}function Sc(){return!0}Cc.prototype={instanceString:function(){return"event"},recycle:function(t,e){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Ac,null!=t&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?Sc:Ac):null!=t&&t.type?e=t:this.type=t,null!=e&&(this.originalEvent=e.originalEvent,this.type=null!=e.type?e.type:this.type,this.cy=e.cy,this.target=e.target,this.position=e.position,this.renderedPosition=e.renderedPosition,this.namespace=e.namespace,this.layout=e.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,i=this.cy.zoom(),r=this.cy.pan();this.renderedPosition={x:n.x*i+r.x,y:n.y*i+r.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Sc;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Sc;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Sc,this.stopPropagation()},isDefaultPrevented:Ac,isPropagationStopped:Ac,isImmediatePropagationStopped:Ac};var Ic=/^([^.]+)(\.(?:[^.]+))?$/,Mc=".*",Pc={qualifierCompare:function(t,e){return t===e},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Oc=Object.keys(Pc),Dc={};function Nc(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dc,e=arguments.length>1?arguments[1]:void 0,n=0;n<Oc.length;n++){var i=Oc[n];this[i]=t[i]||Pc[i]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Lc=Nc.prototype,Rc=function(t,e,n,i,r,o,s){v(i)&&(r=i,i=null),s&&(o=null==o?s:Q({},o,s));for(var a=_(n)?n:n.split(/\s+/),c=0;c<a.length;c++){var l=a[c];if(!D(l)){var u=l.match(Ic);if(u&&!1===e(t,l,u[1],u[2]?u[2]:null,i,r,o))break}}},Bc=function(t,e){return t.addEventFields(t.context,e),new Cc(e.type,e)},Fc=function(t,e,n){if(O(n))e(t,n);else if(k(n))e(t,Bc(t,n));else for(var i=_(n)?n:n.split(/\s+/),r=0;r<i.length;r++){var o=i[r];if(!D(o)){var s=o.match(Ic);if(s){var a=s[1],c=s[2]?s[2]:null;e(t,Bc(t,{type:a,namespace:c,target:t.context}))}}}};Lc.on=Lc.addListener=function(t,e,n,i,r){return Rc(this,(function(t,e,n,i,r,o,s){v(o)&&t.listeners.push({event:e,callback:o,type:n,namespace:i,qualifier:r,conf:s})}),t,e,n,i,r),this},Lc.one=function(t,e,n,i){return this.on(t,e,n,i,{one:!0})},Lc.removeListener=Lc.off=function(t,e,n,i){var r=this;0!==this.emitting&&(this.listeners=Me(this.listeners));for(var o=this.listeners,s=function(s){var a=o[s];Rc(r,(function(e,n,i,r,c,l){if((a.type===i||"*"===t)&&(!r&&".*"!==a.namespace||a.namespace===r)&&(!c||e.qualifierCompare(a.qualifier,c))&&(!l||a.callback===l))return o.splice(s,1),!1}),t,e,n,i)},a=o.length-1;a>=0;a--)s(a);return this},Lc.removeAllListeners=function(){return this.removeListener("*")},Lc.emit=Lc.trigger=function(t,e,n){var i=this.listeners,r=i.length;return this.emitting++,_(e)||(e=[e]),Fc(this,(function(t,o){null!=n&&(i=[{event:o.event,type:o.type,namespace:o.namespace,callback:n}],r=i.length);for(var s=function(n){var r=i[n];if(r.type===o.type&&(!r.namespace||r.namespace===o.namespace||r.namespace===Mc)&&t.eventMatches(t.context,r,o)){var s=[o];null!=e&&Be(s,e),t.beforeEmit(t.context,r,o),r.conf&&r.conf.one&&(t.listeners=t.listeners.filter((function(t){return t!==r})));var a=t.callbackContext(t.context,r,o),c=r.callback.apply(a,s);t.afterEmit(t.context,r,o),!1===c&&(o.stopPropagation(),o.preventDefault())}},a=0;a<r;a++)s(a);t.bubble(t.context)&&!o.isPropagationStopped()&&t.parent(t.context).emit(o,e)}),t),this.emitting--,this};var jc={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,n){var i=e.qualifier;return null==i||t!==n.target&&S(n.target)&&i.matches(n.target)},addEventFields:function(t,e){e.cy=t.cy(),e.target=t},callbackContext:function(t,e,n){return null!=e.qualifier?n.target:t},beforeEmit:function(t,e){e.conf&&e.conf.once&&e.conf.onceCollection.removeListener(e.event,e.qualifier,e.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},$c=function(t){return y(t)?new Da(t):t},Vc={createEmitter:function(){for(var t=0;t<this.length;t++){var e=this[t],n=e._private;n.emitter||(n.emitter=new Nc(jc,e))}return this},emitter:function(){return this._private.emitter},on:function(t,e,n){for(var i=$c(e),r=0;r<this.length;r++)this[r].emitter().on(t,i,n);return this},removeListener:function(t,e,n){for(var i=$c(e),r=0;r<this.length;r++)this[r].emitter().removeListener(t,i,n);return this},removeAllListeners:function(){for(var t=0;t<this.length;t++)this[t].emitter().removeAllListeners();return this},one:function(t,e,n){for(var i=$c(e),r=0;r<this.length;r++)this[r].emitter().one(t,i,n);return this},once:function(t,e,n){for(var i=$c(e),r=0;r<this.length;r++)this[r].emitter().on(t,i,n,{once:!0,onceCollection:this})},emit:function(t,e){for(var n=0;n<this.length;n++)this[n].emitter().emit(t,e);return this},emitAndNotify:function(t,e){if(0!==this.length)return this.cy().notify(t,this),this.emit(t,e),this}};la.eventAliasesOn(Vc);var zc={nodes:function(t){return this.filter((function(t){return t.isNode()})).filter(t)},edges:function(t){return this.filter((function(t){return t.isEdge()})).filter(t)},byGroup:function(){for(var t=this.spawn(),e=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?t.push(i):e.push(i)}return{nodes:t,edges:e}},filter:function(t,e){if(void 0===t)return this;if(y(t)||A(t))return new Da(t).filter(this);if(v(t)){for(var n=this.spawn(),i=this,r=0;r<i.length;r++){var o=i[r];(e?t.apply(e,[o,r,i]):t(o,r,i))&&n.push(o)}return n}return this.spawn()},not:function(t){if(t){y(t)&&(t=this.filter(t));for(var e=this.spawn(),n=0;n<this.length;n++){var i=this[n];t.has(i)||e.push(i)}return e}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(t){if(y(t)){var e=t;return this.filter(e)}for(var n=this.spawn(),i=this,r=t,o=this.length<t.length,s=o?i:r,a=o?r:i,c=0;c<s.length;c++){var l=s[c];a.has(l)&&n.push(l)}return n},xor:function(t){var e=this._private.cy;y(t)&&(t=e.$(t));var n=this.spawn(),i=this,r=t,o=function(t,e){for(var i=0;i<t.length;i++){var r=t[i],o=r._private.data.id;e.hasElementWithId(o)||n.push(r)}};return o(i,r),o(r,i),n},diff:function(t){var e=this._private.cy;y(t)&&(t=e.$(t));var n=this.spawn(),i=this.spawn(),r=this.spawn(),o=this,s=t,a=function(t,e,n){for(var i=0;i<t.length;i++){var o=t[i],s=o._private.data.id;e.hasElementWithId(s)?r.merge(o):n.push(o)}};return a(o,s,n),a(s,o,i),{left:n,right:i,both:r}},add:function(t){var e=this._private.cy;if(!t)return this;if(y(t)){var n=t;t=e.mutableElements().filter(n)}for(var i=this.spawnSelf(),r=0;r<t.length;r++){var o=t[r];!this.has(o)&&i.push(o)}return i},merge:function(t){var e=this._private,n=e.cy;if(!t)return this;if(t&&y(t)){var i=t;t=n.mutableElements().filter(i)}for(var r=e.map,o=0;o<t.length;o++){var s=t[o],a=s._private.data.id;if(!r.has(a)){var c=this.length++;this[c]=s,r.set(a,{ele:s,index:c})}}return this},unmergeAt:function(t){var e=this[t].id(),n=this._private.map;this[t]=void 0,n.delete(e);var i=t===this.length-1;if(this.length>1&&!i){var r=this.length-1,o=this[r],s=o._private.data.id;this[r]=void 0,this[t]=o,n.set(s,{ele:o,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var e=this._private,n=t._private.data.id,i=e.map.get(n);if(!i)return this;var r=i.index;return this.unmergeAt(r),this},unmerge:function(t){var e=this._private.cy;if(!t)return this;if(t&&y(t)){var n=t;t=e.mutableElements().filter(n)}for(var i=0;i<t.length;i++)this.unmergeOne(t[i]);return this},unmergeBy:function(t){for(var e=this.length-1;e>=0;e--)t(this[e])&&this.unmergeAt(e);return this},map:function(t,e){for(var n=[],i=this,r=0;r<i.length;r++){var o=i[r],s=e?t.apply(e,[o,r,i]):t(o,r,i);n.push(s)}return n},reduce:function(t,e){for(var n=e,i=this,r=0;r<i.length;r++)n=t(n,i[r],r,i);return n},max:function(t,e){for(var n,i=-1/0,r=this,o=0;o<r.length;o++){var s=r[o],a=e?t.apply(e,[s,o,r]):t(s,o,r);a>i&&(i=a,n=s)}return{value:i,ele:n}},min:function(t,e){for(var n,i=1/0,r=this,o=0;o<r.length;o++){var s=r[o],a=e?t.apply(e,[s,o,r]):t(s,o,r);a<i&&(i=a,n=s)}return{value:i,ele:n}}},Hc=zc;Hc.u=Hc["|"]=Hc["+"]=Hc.union=Hc.or=Hc.add,Hc["\\"]=Hc["!"]=Hc["-"]=Hc.difference=Hc.relativeComplement=Hc.subtract=Hc.not,Hc.n=Hc["&"]=Hc["."]=Hc.and=Hc.intersection=Hc.intersect,Hc["^"]=Hc["(+)"]=Hc["(-)"]=Hc.symmetricDifference=Hc.symdiff=Hc.xor,Hc.fnFilter=Hc.filterFn=Hc.stdFilter=Hc.filter,Hc.complement=Hc.abscomp=Hc.absoluteComplement;var Uc,qc={isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},Wc=function(t,e){var n=t.cy().hasCompoundNodes();function i(t){var e=t.pstyle("z-compound-depth");return"auto"===e.value?n?t.zDepth():0:"bottom"===e.value?-1:"top"===e.value?ve:0}var r=i(t)-i(e);if(0!==r)return r;function o(t){return"auto"===t.pstyle("z-index-compare").value&&t.isNode()?1:0}var s=o(t)-o(e);if(0!==s)return s;var a=t.pstyle("z-index").value-e.pstyle("z-index").value;return 0!==a?a:t.poolIndex()-e.poolIndex()},Gc={forEach:function(t,e){if(v(t))for(var n=this.length,i=0;i<n;i++){var r=this[i];if(!1===(e?t.apply(e,[r,i,this]):t(r,i,this)))break}return this},toArray:function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},slice:function(t,e){var n=[],i=this.length;null==e&&(e=i),null==t&&(t=0),t<0&&(t=i+t),e<0&&(e=i+e);for(var r=t;r>=0&&r<e&&r<i;r++)n.push(this[r]);return this.spawn(n)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(t){if(!v(t))return this;var e=this.toArray().sort(t);return this.spawn(e)},sortByZIndex:function(){return this.sort(Wc)},zDepth:function(){var t=this[0];if(t){var e=t._private;if("nodes"===e.group){var n=e.data.parent?t.parents().size():0;return t.isParent()?n:ve-1}var i=e.source,r=e.target,o=i.zDepth(),s=r.zDepth();return Math.max(o,s,0)}}};Gc.each=Gc.forEach,Uc="undefined",("undefined"==typeof Symbol?"undefined":t(Symbol))!=Uc&&t(Symbol.iterator)!=Uc&&(Gc[Symbol.iterator]=function(){var t=this,e={value:void 0,done:!1},n=0,i=this.length;return o({next:function(){return n<i?e.value=t[n++]:(e.value=void 0,e.done=!0),e}},Symbol.iterator,(function(){return this}))});var Kc=Ne({nodeDimensionsIncludeLabels:!1}),Yc={layoutDimensions:function(t){var e;if(t=Kc(t),this.takesUpSpace())if(t.nodeDimensionsIncludeLabels){var n=this.boundingBox();e={w:n.w,h:n.h}}else e={w:this.outerWidth(),h:this.outerHeight()};else e={w:0,h:0};return 0!==e.w&&0!==e.h||(e.w=e.h=1),e},layoutPositions:function(t,e,n){var i=this.nodes().filter((function(t){return!t.isParent()})),r=this.cy(),o=e.eles,s=function(t){return t.id()},a=F(n,s);t.emit({type:"layoutstart",layout:t}),t.animations=[];var c=function(t,e,n){var i={x:e.x1+e.w/2,y:e.y1+e.h/2},r={x:(n.x-i.x)*t,y:(n.y-i.y)*t};return{x:i.x+r.x,y:i.y+r.y}},l=e.spacingFactor&&1!==e.spacingFactor,u=function(){if(!l)return null;for(var t=Sn(),e=0;e<i.length;e++){var n=i[e],r=a(n,e);On(t,r.x,r.y)}return t}(),h=F((function(t,n){var i=a(t,n);if(l){var r=Math.abs(e.spacingFactor);i=c(r,u,i)}return null!=e.transform&&(i=e.transform(t,i)),i}),s);if(e.animate){for(var d=0;d<i.length;d++){var f=i[d],g=h(f,d);if(null==e.animateFilter||e.animateFilter(f,d)){var p=f.animation({position:g,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(p)}else f.position(g)}if(e.fit){var m=r.animation({fit:{boundingBox:o.boundingBoxAt(h),padding:e.padding},duration:e.animationDuration,easing:e.animationEasing});t.animations.push(m)}else if(void 0!==e.zoom&&void 0!==e.pan){var b=r.animation({zoom:e.zoom,pan:e.pan,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(b)}t.animations.forEach((function(t){return t.play()})),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),jr.all(t.animations.map((function(t){return t.promise()}))).then((function(){t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t})}))}else i.positions(h),e.fit&&r.fit(e.eles,e.padding),null!=e.zoom&&r.zoom(e.zoom),e.pan&&r.pan(e.pan),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){return this.cy().makeLayout(Q({},t,{eles:this}))}};function Xc(t,e,n){var i,r=n._private,o=r.styleCache=r.styleCache||[];return null!=(i=o[t])?i:i=o[t]=e(n)}function Zc(t,e){return t=ge(t),function(n){return Xc(t,e,n)}}function Qc(t,e){t=ge(t);var n=function(t){return e.call(t)};return function(){var e=this[0];if(e)return Xc(t,n,e)}}Yc.createLayout=Yc.makeLayout=Yc.layout;var Jc={recalculateRenderedStyle:function(t){var e=this.cy(),n=e.renderer(),i=e.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t,e=this.cy(),n=function(t){return t._private.styleCache=null};return e.hasCompoundNodes()?((t=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(t.connectedEdges()),t.forEach(n)):this.forEach((function(t){n(t),t.connectedEdges().forEach(n)})),this},updateStyle:function(t){var e=this._private.cy;if(!e.styleEnabled())return this;if(e.batching())return e._private.batchStyleEles.merge(this),this;var n=this;t=!(!t&&void 0!==t),e.hasCompoundNodes()&&(n=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var i=n;return t?i.emitAndNotify("style"):i.emit("style"),n.forEach((function(t){return t._private.styleDirty=!0})),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var e=0;e<this.length;e++){var n=this[e];n._private.styleDirty&&(n._private.styleDirty=!1,t.style().apply(n))}},parsedStyle:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],i=n.cy();if(i.styleEnabled()&&n){this.cleanStyle();var r=n._private.style[t];return null!=r?r:e?i.style().getDefaultProperty(t):null}},numericStyle:function(t){var e=this[0];if(e.cy().styleEnabled()&&e){var n=e.pstyle(t);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(t){var e=this[0];if(e.cy().styleEnabled())return e?e.pstyle(t).units:void 0},renderedStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var n=this[0];return n?e.style().getRenderedStyle(n,t):void 0},style:function(t,e){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,r=n.style();if(k(t)){var o=t;r.applyBypass(this,o,i),this.emitAndNotify("style")}else if(y(t)){if(void 0===e){var s=this[0];return s?r.getStylePropertyValue(s,t):void 0}r.applyBypass(this,t,e,i),this.emitAndNotify("style")}else if(void 0===t){var a=this[0];return a?r.getRawStyle(a):void 0}return this},removeStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var n=!1,i=e.style(),r=this;if(void 0===t)for(var o=0;o<r.length;o++){var s=r[o];i.removeAllBypasses(s,n)}else{t=t.split(/\s+/);for(var a=0;a<r.length;a++){var c=r[a];i.removeBypasses(c,t,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var e=t.hasCompoundNodes(),n=this[0];if(n){var i=n._private,r=n.pstyle("opacity").value;if(!e)return r;var o=i.data.parent?n.parents():null;if(o)for(var s=0;s<o.length;s++)r*=o[s].pstyle("opacity").value;return r}},transparent:function(){if(!this.cy().styleEnabled())return!1;var t=this[0],e=t.cy().hasCompoundNodes();return t?e?0===t.effectiveOpacity():0===t.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function tl(t,e){var n=t._private.data.parent?t.parents():null;if(n)for(var i=0;i<n.length;i++)if(!e(n[i]))return!1;return!0}function el(t){var e=t.ok,n=t.edgeOkViaNode||t.ok,i=t.parentOk||t.ok;return function(){var t=this.cy();if(!t.styleEnabled())return!0;var r=this[0],o=t.hasCompoundNodes();if(r){var s=r._private;if(!e(r))return!1;if(r.isNode())return!o||tl(r,i);var a=s.source,c=s.target;return n(a)&&(!o||tl(a,n))&&(a===c||n(c)&&(!o||tl(c,n)))}}}var nl=Zc("eleTakesUpSpace",(function(t){return"element"===t.pstyle("display").value&&0!==t.width()&&(!t.isNode()||0!==t.height())}));Jc.takesUpSpace=Qc("takesUpSpace",el({ok:nl}));var il=Zc("eleInteractive",(function(t){return"yes"===t.pstyle("events").value&&"visible"===t.pstyle("visibility").value&&nl(t)})),rl=Zc("parentInteractive",(function(t){return"visible"===t.pstyle("visibility").value&&nl(t)}));Jc.interactive=Qc("interactive",el({ok:il,parentOk:rl,edgeOkViaNode:nl})),Jc.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var ol=Zc("eleVisible",(function(t){return"visible"===t.pstyle("visibility").value&&0!==t.pstyle("opacity").pfValue&&nl(t)})),sl=nl;Jc.visible=Qc("visible",el({ok:ol,edgeOkViaNode:sl})),Jc.hidden=function(){var t=this[0];if(t)return!t.visible()},Jc.isBundledBezier=Qc("isBundledBezier",(function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()})),Jc.bypass=Jc.css=Jc.style,Jc.renderedCss=Jc.renderedStyle,Jc.removeBypass=Jc.removeCss=Jc.removeStyle,Jc.pstyle=Jc.parsedStyle;var al={};function cl(t){return function(){var e=arguments,n=[];if(2===e.length){var i=e[0],r=e[1];this.on(t.event,i,r)}else if(1===e.length&&v(e[0])){var o=e[0];this.on(t.event,o)}else if(0===e.length||1===e.length&&_(e[0])){for(var s=1===e.length?e[0]:null,a=0;a<this.length;a++){var c=this[a],l=!t.ableField||c._private[t.ableField],u=c._private[t.field]!=t.value;if(t.overrideAble){var h=t.overrideAble(c);if(void 0!==h&&(l=h,!h))return this}l&&(c._private[t.field]=t.value,u&&n.push(c))}var d=this.spawn(n);d.updateStyle(),d.emit(t.event),s&&d.emit(s)}return this}}function ll(t){al[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var n=t.overrideField(e);if(void 0!==n)return n}return e._private[t.field]}},al[t.on]=cl({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),al[t.off]=cl({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}ll({field:"locked",overrideField:function(t){return!!t.cy().autolock()||void 0},on:"lock",off:"unlock"}),ll({field:"grabbable",overrideField:function(t){return!t.cy().autoungrabify()&&!t.pannable()&&void 0},on:"grabify",off:"ungrabify"}),ll({field:"selected",ableField:"selectable",overrideAble:function(t){return!t.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),ll({field:"selectable",overrideField:function(t){return!t.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),al.deselect=al.unselect,al.grabbed=function(){var t=this[0];if(t)return t._private.grabbed},ll({field:"active",on:"activate",off:"unactivate"}),ll({field:"pannable",on:"panify",off:"unpanify"}),al.inactive=function(){var t=this[0];if(t)return!t._private.active};var ul={},hl=function(t){return function(e){for(var n=this,i=[],r=0;r<n.length;r++){var o=n[r];if(o.isNode()){for(var s=!1,a=o.connectedEdges(),c=0;c<a.length;c++){var l=a[c],u=l.source(),h=l.target();if(t.noIncomingEdges&&h===o&&u!==o||t.noOutgoingEdges&&u===o&&h!==o){s=!0;break}}s||i.push(o)}}return this.spawn(i,!0).filter(e)}},dl=function(t){return function(e){for(var n=this,i=[],r=0;r<n.length;r++){var o=n[r];if(o.isNode())for(var s=o.connectedEdges(),a=0;a<s.length;a++){var c=s[a],l=c.source(),u=c.target();t.outgoing&&l===o?(i.push(c),i.push(u)):t.incoming&&u===o&&(i.push(c),i.push(l))}}return this.spawn(i,!0).filter(e)}},fl=function(t){return function(e){for(var n=this,i=[],r={};;){var o=t.outgoing?n.outgoers():n.incomers();if(0===o.length)break;for(var s=!1,a=0;a<o.length;a++){var c=o[a],l=c.id();r[l]||(r[l]=!0,i.push(c),s=!0)}if(!s)break;n=o}return this.spawn(i,!0).filter(e)}};function gl(t){return function(e){for(var n=[],i=0;i<this.length;i++){var r=this[i]._private[t.attr];r&&n.push(r)}return this.spawn(n,!0).filter(e)}}function pl(t){return function(e){var n=[],i=this._private.cy,r=t||{};y(e)&&(e=i.$(e));for(var o=0;o<e.length;o++)for(var s=e[o]._private.edges,a=0;a<s.length;a++){var c=s[a],l=c._private.data,u=this.hasElementWithId(l.source)&&e.hasElementWithId(l.target),h=e.hasElementWithId(l.source)&&this.hasElementWithId(l.target);if(u||h){if(r.thisIsSrc||r.thisIsTgt){if(r.thisIsSrc&&!u)continue;if(r.thisIsTgt&&!h)continue}n.push(c)}}return this.spawn(n,!0)}}function ml(t){return t=Q({},{codirected:!1},t),function(e){for(var n=[],i=this.edges(),r=t,o=0;o<i.length;o++)for(var s=i[o]._private,a=s.source,c=a._private.data.id,l=s.data.target,u=a._private.edges,h=0;h<u.length;h++){var d=u[h],f=d._private.data,g=f.target,p=f.source,m=g===l&&p===c,b=c===g&&l===p;(r.codirected&&m||!r.codirected&&(m||b))&&n.push(d)}return this.spawn(n,!0).filter(e)}}ul.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null},Q(ul,{roots:hl({noIncomingEdges:!0}),leaves:hl({noOutgoingEdges:!0}),outgoers:Fa(dl({outgoing:!0}),"outgoers"),successors:fl({outgoing:!0}),incomers:Fa(dl({incoming:!0}),"incomers"),predecessors:fl({incoming:!0})}),Q(ul,{neighborhood:Fa((function(t){for(var e=[],n=this.nodes(),i=0;i<n.length;i++)for(var r=n[i],o=r.connectedEdges(),s=0;s<o.length;s++){var a=o[s],c=a.source(),l=a.target(),u=r===c?l:c;u.length>0&&e.push(u[0]),e.push(a[0])}return this.spawn(e,!0).filter(t)}),"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}}),ul.neighbourhood=ul.neighborhood,ul.closedNeighbourhood=ul.closedNeighborhood,ul.openNeighbourhood=ul.openNeighborhood,Q(ul,{source:Fa((function(t){var e,n=this[0];return n&&(e=n._private.source||n.cy().collection()),e&&t?e.filter(t):e}),"source"),target:Fa((function(t){var e,n=this[0];return n&&(e=n._private.target||n.cy().collection()),e&&t?e.filter(t):e}),"target"),sources:gl({attr:"source"}),targets:gl({attr:"target"})}),Q(ul,{edgesWith:Fa(pl(),"edgesWith"),edgesTo:Fa(pl({thisIsSrc:!0}),"edgesTo")}),Q(ul,{connectedEdges:Fa((function(t){for(var e=[],n=this,i=0;i<n.length;i++){var r=n[i];if(r.isNode())for(var o=r._private.edges,s=0;s<o.length;s++){var a=o[s];e.push(a)}}return this.spawn(e,!0).filter(t)}),"connectedEdges"),connectedNodes:Fa((function(t){for(var e=[],n=this,i=0;i<n.length;i++){var r=n[i];r.isEdge()&&(e.push(r.source()[0]),e.push(r.target()[0]))}return this.spawn(e,!0).filter(t)}),"connectedNodes"),parallelEdges:Fa(ml(),"parallelEdges"),codirectedEdges:Fa(ml({codirected:!0}),"codirectedEdges")}),Q(ul,{components:function(t){var e=this,n=e.cy(),i=n.collection(),r=null==t?e.nodes():t.nodes(),o=[];null!=t&&r.empty()&&(r=t.sources());var s=function(t,e){i.merge(t),r.unmerge(t),e.merge(t)};if(r.empty())return e.spawn();var a=function(){var t=n.collection();o.push(t);var i=r[0];s(i,t),e.bfs({directed:!1,roots:i,visit:function(e){return s(e,t)}}),t.forEach((function(n){n.connectedEdges().forEach((function(n){e.has(n)&&t.has(n.source())&&t.has(n.target())&&t.merge(n)}))}))};do{a()}while(r.length>0);return o},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}}),ul.componentsOf=ul.components;var bl=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==t){var r=new $e,o=!1;if(e){if(e.length>0&&k(e[0])&&!S(e[0])){o=!0;for(var s=[],a=new He,c=0,l=e.length;c<l;c++){var u=e[c];null==u.data&&(u.data={});var h=u.data;if(null==h.id)h.id=Pe();else if(t.hasElementWithId(h.id)||a.has(h.id))continue;var d=new Ue(t,u,!1);s.push(d),a.add(h.id)}e=s}}else e=[];this.length=0;for(var f=0,g=e.length;f<g;f++){var p=e[f][0];if(null!=p){var m=p._private.data.id;n&&r.has(m)||(n&&r.set(m,{index:this.length,ele:p}),this[this.length]=p,this.length++)}}this._private={eles:this,cy:t,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(t){this.lazyMap=t},rebuildMap:function(){for(var t=this.lazyMap=new $e,e=this.eles,n=0;n<e.length;n++){var i=e[n];t.set(i.id(),{index:n,ele:i})}}},n&&(this._private.map=r),o&&!i&&this.restore()}else Te("A collection must have a reference to the core")},wl=Ue.prototype=bl.prototype=Object.create(Array.prototype);wl.instanceString=function(){return"collection"},wl.spawn=function(t,e){return new bl(this.cy(),t,e)},wl.spawnSelf=function(){return this.spawn(this)},wl.cy=function(){return this._private.cy},wl.renderer=function(){return this._private.cy.renderer()},wl.element=function(){return this[0]},wl.collection=function(){return I(this)?this:new bl(this._private.cy,[this])},wl.unique=function(){return new bl(this._private.cy,this,!0)},wl.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)},wl.getElementById=function(t){t=""+t;var e=this._private.cy,n=this._private.map.get(t);return n?n.ele:new bl(e)},wl.$id=wl.getElementById,wl.poolIndex=function(){var t=this._private.cy._private.elements,e=this[0]._private.data.id;return t._private.map.get(e).index},wl.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index},wl.indexOfId=function(t){return t=""+t,this._private.map.get(t).index},wl.json=function(t){var e=this.element(),n=this.cy();if(null==e&&t)return this;if(null!=e){var i=e._private;if(k(t)){if(n.startBatch(),t.data){e.data(t.data);var r=i.data;if(e.isEdge()){var o=!1,s={},a=t.data.source,c=t.data.target;null!=a&&a!=r.source&&(s.source=""+a,o=!0),null!=c&&c!=r.target&&(s.target=""+c,o=!0),o&&(e=e.move(s))}else{var l="parent"in t.data,u=t.data.parent;!l||null==u&&null==r.parent||u==r.parent||(void 0===u&&(u=null),null!=u&&(u=""+u),e=e.move({parent:u}))}}t.position&&e.position(t.position);var h=function(n,r,o){var s=t[n];null!=s&&s!==i[n]&&(s?e[r]():e[o]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),null!=t.classes&&e.classes(t.classes),n.endBatch(),this}if(void 0===t){var d={data:Ie(i.data),position:Ie(i.position),group:i.group,removed:i.removed,selected:i.selected,selectable:i.selectable,locked:i.locked,grabbable:i.grabbable,pannable:i.pannable,classes:""},f=0;return i.classes.forEach((function(t){return d.classes+=0==f++?t:" "+t})),d}}},wl.jsons=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e].json();t.push(n)}return t},wl.clone=function(){for(var t=this.cy(),e=[],n=0;n<this.length;n++){var i=this[n].json(),r=new Ue(t,i,!1);e.push(r)}return new bl(t,e)},wl.copy=wl.clone,wl.restore=function(){for(var t,e,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this,o=r.cy(),s=o._private,a=[],c=[],l=0,u=r.length;l<u;l++){var h=r[l];i&&!h.removed()||(h.isNode()?a.push(h):c.push(h))}t=a.concat(c);var d=function(){t.splice(e,1),e--};for(e=0;e<t.length;e++){var f=t[e],g=f._private,p=g.data;if(f.clearTraversalCache(),i||g.removed)if(void 0===p.id)p.id=Pe();else if(E(p.id))p.id=""+p.id;else{if(D(p.id)||!y(p.id)){Te("Can not create element with invalid string ID `"+p.id+"`"),d();continue}if(o.hasElementWithId(p.id)){Te("Can not create second element with ID `"+p.id+"`"),d();continue}}var m=p.id;if(f.isNode()){var b=g.position;null==b.x&&(b.x=0),null==b.y&&(b.y=0)}if(f.isEdge()){for(var w=f,v=["source","target"],_=v.length,k=!1,x=0;x<_;x++){var T=v[x],C=p[T];E(C)&&(C=p[T]=""+p[T]),null==C||""===C?(Te("Can not create edge `"+m+"` with unspecified "+T),k=!0):o.hasElementWithId(C)||(Te("Can not create edge `"+m+"` with nonexistant "+T+" `"+C+"`"),k=!0)}if(k){d();continue}var A=o.getElementById(p.source),S=o.getElementById(p.target);A.same(S)?A._private.edges.push(w):(A._private.edges.push(w),S._private.edges.push(w)),w._private.source=A,w._private.target=S}g.map=new $e,g.map.set(m,{ele:f,index:0}),g.removed=!1,i&&o.addToPool(f)}for(var I=0;I<a.length;I++){var M=a[I],P=M._private.data;E(P.parent)&&(P.parent=""+P.parent);var O=P.parent;if(null!=O||M._private.parent){var N=M._private.parent?o.collection().merge(M._private.parent):o.getElementById(O);if(N.empty())P.parent=void 0;else if(N[0].removed())Ae("Node added with missing parent, reference to parent removed"),P.parent=void 0,M._private.parent=null;else{for(var L=!1,R=N;!R.empty();){if(M.same(R)){L=!0,P.parent=void 0;break}R=R.parent()}L||(N[0]._private.children.push(M),M._private.parent=N[0],s.hasCompoundNodes=!0)}}}if(t.length>0){for(var B=t.length===r.length?r:new bl(o,t),F=0;F<B.length;F++){var j=B[F];j.isNode()||(j.parallelEdges().clearTraversalCache(),j.source().clearTraversalCache(),j.target().clearTraversalCache())}(s.hasCompoundNodes?o.collection().merge(B).merge(B.connectedNodes()).merge(B.parent()):B).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?B.emitAndNotify("add"):i&&B.emit("add")}return r},wl.removed=function(){var t=this[0];return t&&t._private.removed},wl.inside=function(){var t=this[0];return t&&!t._private.removed},wl.remove=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,i=[],r={},o=n._private.cy;function s(t){for(var e=t._private.edges,n=0;n<e.length;n++)c(e[n])}function a(t){for(var e=t._private.children,n=0;n<e.length;n++)c(e[n])}function c(t){var n=r[t.id()];e&&t.removed()||n||(r[t.id()]=!0,t.isNode()?(i.push(t),s(t),a(t)):i.unshift(t))}for(var l=0,u=n.length;l<u;l++)c(n[l]);function h(t,e){var n=t._private.edges;Le(n,e),t.clearTraversalCache()}function d(t){t.clearTraversalCache()}var f=[];function g(t,e){e=e[0];var n=(t=t[0])._private.children,i=t.id();Le(n,e),e._private.parent=null,f.ids[i]||(f.ids[i]=!0,f.push(t))}f.ids={},n.dirtyCompoundBoundsCache(),e&&o.removeFromPool(i);for(var p=0;p<i.length;p++){var m=i[p];if(m.isEdge()){var b=m.source()[0],w=m.target()[0];h(b,m),h(w,m);for(var y=m.parallelEdges(),v=0;v<y.length;v++){var _=y[v];d(_),_.isBundledBezier()&&_.dirtyBoundingBoxCache()}}else{var k=m.parent();0!==k.length&&g(k,m)}e&&(m._private.removed=!0)}var x=o._private.elements;o._private.hasCompoundNodes=!1;for(var E=0;E<x.length;E++)if(x[E].isParent()){o._private.hasCompoundNodes=!0;break}var T=new bl(this.cy(),i);T.size()>0&&(t?T.emitAndNotify("remove"):e&&T.emit("remove"));for(var C=0;C<f.length;C++){var A=f[C];e&&A.removed()||A.updateStyle()}return T},wl.move=function(t){var e=this._private.cy,n=this,i=!1,r=!1,o=function(t){return null==t?t:""+t};if(void 0!==t.source||void 0!==t.target){var s=o(t.source),a=o(t.target),c=null!=s&&e.hasElementWithId(s),l=null!=a&&e.hasElementWithId(a);(c||l)&&(e.batch((function(){n.remove(i,r),n.emitAndNotify("moveout");for(var t=0;t<n.length;t++){var e=n[t],o=e._private.data;e.isEdge()&&(c&&(o.source=s),l&&(o.target=a))}n.restore(i,r)})),n.emitAndNotify("move"))}else if(void 0!==t.parent){var u=o(t.parent);if(null===u||e.hasElementWithId(u)){var h=null===u?void 0:u;e.batch((function(){var t=n.remove(i,r);t.emitAndNotify("moveout");for(var e=0;e<n.length;e++){var o=n[e],s=o._private.data;o.isNode()&&(s.parent=h)}t.restore(i,r)})),n.emitAndNotify("move")}}return this},[Ir,ua,ha,La,ja,Wa,Ga,Tc,Vc,zc,qc,Gc,Yc,Jc,al,ul].forEach((function(t){Q(wl,t)}));var yl={add:function(t){var e,n=this;if(A(t)){var i=t;if(i._private.cy===n)e=i.restore();else{for(var r=[],o=0;o<i.length;o++){var s=i[o];r.push(s.json())}e=new bl(n,r)}}else if(_(t))e=new bl(n,t);else if(k(t)&&(_(t.nodes)||_(t.edges))){for(var a=t,c=[],l=["nodes","edges"],u=0,h=l.length;u<h;u++){var d=l[u],f=a[d];if(_(f))for(var g=0,p=f.length;g<p;g++){var m=Q({group:d},f[g]);c.push(m)}}e=new bl(n,c)}else e=new Ue(n,t).collection();return e},remove:function(t){if(A(t));else if(y(t)){var e=t;t=this.$(e)}return t.remove()}};
/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function vl(t,e,n,i){var r=4,o=.001,s=1e-7,a=10,c=11,l=1/(c-1),u="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var h=0;h<4;++h)if("number"!=typeof arguments[h]||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;t=Math.min(t,1),n=Math.min(n,1),t=Math.max(t,0),n=Math.max(n,0);var d=u?new Float32Array(c):new Array(c);function f(t,e){return 1-3*e+3*t}function g(t,e){return 3*e-6*t}function p(t){return 3*t}function m(t,e,n){return((f(e,n)*t+g(e,n))*t+p(e))*t}function b(t,e,n){return 3*f(e,n)*t*t+2*g(e,n)*t+p(e)}function w(e,i){for(var o=0;o<r;++o){var s=b(i,t,n);if(0===s)return i;i-=(m(i,t,n)-e)/s}return i}function y(){for(var e=0;e<c;++e)d[e]=m(e*l,t,n)}function v(e,i,r){var o,c,l=0;do{(o=m(c=i+(r-i)/2,t,n)-e)>0?r=c:i=c}while(Math.abs(o)>s&&++l<a);return c}function _(e){for(var i=0,r=1,s=c-1;r!==s&&d[r]<=e;++r)i+=l;--r;var a=i+(e-d[r])/(d[r+1]-d[r])*l,u=b(a,t,n);return u>=o?w(e,a):0===u?a:v(e,i,i+l)}var k=!1;function x(){k=!0,t===e&&n===i||y()}var E=function(r){return k||x(),t===e&&n===i?r:0===r?0:1===r?1:m(_(r),e,i)};E.getControlPoints=function(){return[{x:t,y:e},{x:n,y:i}]};var T="generateBezier("+[t,e,n,i]+")";return E.toString=function(){return T},E}
/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var _l=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,n,i){var r={x:e.x+i.dx*n,v:e.v+i.dv*n,tension:e.tension,friction:e.friction};return{dx:r.v,dv:t(r)}}function n(n,i){var r={dx:n.v,dv:t(n)},o=e(n,.5*i,r),s=e(n,.5*i,o),a=e(n,i,s),c=1/6*(r.dx+2*(o.dx+s.dx)+a.dx),l=1/6*(r.dv+2*(o.dv+s.dv)+a.dv);return n.x=n.x+c*i,n.v=n.v+l*i,n}return function t(e,i,r){var o,s,a,c={x:-1,v:0,tension:null,friction:null},l=[0],u=0,h=1e-4,d=.016;for(e=parseFloat(e)||500,i=parseFloat(i)||20,r=r||null,c.tension=e,c.friction=i,s=(o=null!==r)?(u=t(e,i))/r*d:d;a=n(a||c,s),l.push(1+a.x),u+=16,Math.abs(a.x)>h&&Math.abs(a.v)>h;);return o?function(t){return l[t*(l.length-1)|0]}:u}}(),kl=function(t,e,n,i){var r=vl(t,e,n,i);return function(t,e,n){return t+(e-t)*r(n)}},xl={linear:function(t,e,n){return t+(e-t)*n},ease:kl(.25,.1,.25,1),"ease-in":kl(.42,0,1,1),"ease-out":kl(0,0,.58,1),"ease-in-out":kl(.42,0,.58,1),"ease-in-sine":kl(.47,0,.745,.715),"ease-out-sine":kl(.39,.575,.565,1),"ease-in-out-sine":kl(.445,.05,.55,.95),"ease-in-quad":kl(.55,.085,.68,.53),"ease-out-quad":kl(.25,.46,.45,.94),"ease-in-out-quad":kl(.455,.03,.515,.955),"ease-in-cubic":kl(.55,.055,.675,.19),"ease-out-cubic":kl(.215,.61,.355,1),"ease-in-out-cubic":kl(.645,.045,.355,1),"ease-in-quart":kl(.895,.03,.685,.22),"ease-out-quart":kl(.165,.84,.44,1),"ease-in-out-quart":kl(.77,0,.175,1),"ease-in-quint":kl(.755,.05,.855,.06),"ease-out-quint":kl(.23,1,.32,1),"ease-in-out-quint":kl(.86,0,.07,1),"ease-in-expo":kl(.95,.05,.795,.035),"ease-out-expo":kl(.19,1,.22,1),"ease-in-out-expo":kl(1,0,0,1),"ease-in-circ":kl(.6,.04,.98,.335),"ease-out-circ":kl(.075,.82,.165,1),"ease-in-out-circ":kl(.785,.135,.15,.86),spring:function(t,e,n){if(0===n)return xl.linear;var i=_l(t,e,n);return function(t,e,n){return t+(e-t)*i(n)}},"cubic-bezier":kl};function El(t,e,n,i,r){if(1===i)return n;if(e===n)return n;var o=r(e,n,i);return null==t||((t.roundValue||t.color)&&(o=Math.round(o)),void 0!==t.min&&(o=Math.max(o,t.min)),void 0!==t.max&&(o=Math.min(o,t.max))),o}function Tl(t,e){return null!=t.pfValue||null!=t.value?null==t.pfValue||null!=e&&"%"===e.type.units?t.value:t.pfValue:t}function Cl(t,e,n,i,r){var o=null!=r?r.type:null;n<0?n=0:n>1&&(n=1);var s=Tl(t,r),a=Tl(e,r);if(E(s)&&E(a))return El(o,s,a,n,i);if(_(s)&&_(a)){for(var c=[],l=0;l<a.length;l++){var u=s[l],h=a[l];if(null!=u&&null!=h){var d=El(o,u,h,n,i);c.push(d)}else c.push(h)}return c}}function Al(t,e,n,i){var r=!i,o=t._private,s=e._private,a=s.easing,c=s.startTime,l=(i?t:t.cy()).style();if(!s.easingImpl)if(null==a)s.easingImpl=xl.linear;else{var u,h,d;u=y(a)?l.parse("transition-timing-function",a).value:a,y(u)?(h=u,d=[]):(h=u[1],d=u.slice(2).map((function(t){return+t}))),d.length>0?("spring"===h&&d.push(s.duration),s.easingImpl=xl[h].apply(null,d)):s.easingImpl=xl[h]}var f,g=s.easingImpl;if(f=0===s.duration?1:(n-c)/s.duration,s.applying&&(f=s.progress),f<0?f=0:f>1&&(f=1),null==s.delay){var p=s.startPosition,m=s.position;if(m&&r&&!t.locked()){var b={};Sl(p.x,m.x)&&(b.x=Cl(p.x,m.x,f,g)),Sl(p.y,m.y)&&(b.y=Cl(p.y,m.y,f,g)),t.position(b)}var w=s.startPan,v=s.pan,_=o.pan,k=null!=v&&i;k&&(Sl(w.x,v.x)&&(_.x=Cl(w.x,v.x,f,g)),Sl(w.y,v.y)&&(_.y=Cl(w.y,v.y,f,g)),t.emit("pan"));var x=s.startZoom,E=s.zoom,T=null!=E&&i;T&&(Sl(x,E)&&(o.zoom=An(o.minZoom,Cl(x,E,f,g),o.maxZoom)),t.emit("zoom")),(k||T)&&t.emit("viewport");var C=s.style;if(C&&C.length>0&&r){for(var A=0;A<C.length;A++){var S=C[A],I=S.name,M=S,P=s.startStyle[I],O=Cl(P,M,f,g,l.properties[P.name]);l.overrideBypass(t,I,O)}t.emit("style")}}return s.progress=f,f}function Sl(t,e){return!!(null!=t&&null!=e&&(E(t)&&E(e)||t&&e))}function Il(t,e,n,i){var r=e._private;r.started=!0,r.startTime=n-r.progress*r.duration}function Ml(t,e){var n=e._private.aniEles,i=[];function r(e,n){var r=e._private,o=r.animation.current,s=r.animation.queue,a=!1;if(0===o.length){var c=s.shift();c&&o.push(c)}for(var l=function(t){for(var e=t.length-1;e>=0;e--)(0,t[e])();t.splice(0,t.length)},u=o.length-1;u>=0;u--){var h=o[u],d=h._private;d.stopped?(o.splice(u,1),d.hooked=!1,d.playing=!1,d.started=!1,l(d.frames)):(d.playing||d.applying)&&(d.playing&&d.applying&&(d.applying=!1),d.started||Il(e,h,t),Al(e,h,t,n),d.applying&&(d.applying=!1),l(d.frames),null!=d.step&&d.step(t),h.completed()&&(o.splice(u,1),d.hooked=!1,d.playing=!1,d.started=!1,l(d.completes)),a=!0)}return n||0!==o.length||0!==s.length||i.push(e),a}for(var o=!1,s=0;s<n.length;s++){var a=r(n[s]);o=o||a}var c=r(e,!0);(o||c)&&(n.length>0?e.notify("draw",n):e.notify("draw")),n.unmerge(i),e.emit("step")}var Pl={animate:la.animate(),animation:la.animation(),animated:la.animated(),clearQueue:la.clearQueue(),delay:la.delay(),delayAnimation:la.delayAnimation(),stop:la.stop(),addToAnimationPool:function(t){var e=this;e.styleEnabled()&&e._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,t.styleEnabled()){var e=t.renderer();e&&e.beforeRender?e.beforeRender((function(e,n){Ml(n,t)}),e.beforeRenderPriorities.animations):n()}function n(){t._private.animationsRunning&&ne((function(e){Ml(e,t),n()}))}}},Ol={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,n){var i=e.qualifier;return null==i||t!==n.target&&S(n.target)&&i.matches(n.target)},addEventFields:function(t,e){e.cy=t,e.target=t},callbackContext:function(t,e,n){return null!=e.qualifier?n.target:t}},Dl=function(t){return y(t)?new Da(t):t},Nl={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new Nc(Ol,this)),this},emitter:function(){return this._private.emitter},on:function(t,e,n){return this.emitter().on(t,Dl(e),n),this},removeListener:function(t,e,n){return this.emitter().removeListener(t,Dl(e),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,e,n){return this.emitter().one(t,Dl(e),n),this},once:function(t,e,n){return this.emitter().one(t,Dl(e),n),this},emit:function(t,e){return this.emitter().emit(t,e),this},emitAndNotify:function(t,e){return this.emit(t),this.notify(t,e),this}};la.eventAliasesOn(Nl);var Ll={png:function(t){return t=t||{},this._private.renderer.png(t)},jpg:function(t){var e=this._private.renderer;return(t=t||{}).bg=t.bg||"#fff",e.jpg(t)}};Ll.jpeg=Ll.jpg;var Rl={layout:function(t){var e=this;if(null!=t)if(null!=t.name){var n,i=t.name,r=e.extension("layout",i);if(null!=r)return n=y(t.eles)?e.$(t.eles):null!=t.eles?t.eles:e.$(),new r(Q({},t,{cy:e,eles:n}));Te("No such layout `"+i+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Te("A `name` must be specified to make a layout");else Te("Layout options must be specified to make a layout")}};Rl.createLayout=Rl.makeLayout=Rl.layout;var Bl={notify:function(t,e){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[t]=n.batchNotifications[t]||this.collection();null!=e&&i.merge(e)}else if(n.notificationsEnabled){var r=this.renderer();!this.destroyed()&&r&&r.notify(t,e)}},notifications:function(t){var e=this._private;return void 0===t?e.notificationsEnabled:(e.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return null==t.batchCount&&(t.batchCount=0),0===t.batchCount&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(0===t.batchCount)return this;if(t.batchCount--,0===t.batchCount){t.batchStyleEles.updateStyle();var e=this.renderer();Object.keys(t.batchNotifications).forEach((function(n){var i=t.batchNotifications[n];i.empty()?e.notify(n):e.notify(n,i)}))}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var e=this;return this.batch((function(){for(var n=Object.keys(t),i=0;i<n.length;i++){var r=n[i],o=t[r];e.getElementById(r).data(o)}}))}},Fl=Ne({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),jl={renderTo:function(t,e,n,i){return this._private.renderer.renderTo(t,e,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var e=this,n=e.extension("renderer",t.name);if(null!=n){void 0!==t.wheelSensitivity&&Ae("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=Fl(t);i.cy=e,e._private.renderer=new n(i),this.notify("init")}else Te("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var t=this;t.notify("destroy");var e=t.container();if(e)for(e._cyreg=null;e.childNodes.length>0;)e.removeChild(e.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach((function(t){var e=t._private;e.rscratch={},e.rstyle={},e.animation.current=[],e.animation.queue=[]}))},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};jl.invalidateDimensions=jl.resize;var $l={collection:function(t,e){return y(t)?this.$(t):A(t)?t.collection():_(t)?(e||(e={}),new bl(this,t,e.unique,e.removed)):new bl(this)},nodes:function(t){var e=this.$((function(t){return t.isNode()}));return t?e.filter(t):e},edges:function(t){var e=this.$((function(t){return t.isEdge()}));return t?e.filter(t):e},$:function(t){var e=this._private.elements;return t?e.filter(t):e.spawnSelf()},mutableElements:function(){return this._private.elements}};$l.elements=$l.filter=$l.$;var Vl={},zl="t",Hl="f";Vl.apply=function(t){for(var e=this,n=e._private.cy.collection(),i=0;i<t.length;i++){var r=t[i],o=e.getContextMeta(r);if(!o.empty){var s=e.getContextStyle(o),a=e.applyContextStyle(o,s,r);r._private.appliedInitStyle?e.updateTransitions(r,a.diffProps):r._private.appliedInitStyle=!0,e.updateStyleHints(r)&&n.push(r)}}return n},Vl.getPropertiesDiff=function(t,e){var n=this,i=n._private.propDiffs=n._private.propDiffs||{},r=t+"-"+e,o=i[r];if(o)return o;for(var s=[],a={},c=0;c<n.length;c++){var l=n[c],u=t[c]===zl,h=e[c]===zl,d=u!==h,f=l.mappedProperties.length>0;if(d||h&&f){var g=void 0;d&&f||d?g=l.properties:f&&(g=l.mappedProperties);for(var p=0;p<g.length;p++){for(var m=g[p],b=m.name,w=!1,y=c+1;y<n.length;y++){var v=n[y];if(e[y]===zl&&(w=null!=v.properties[m.name]))break}a[b]||w||(a[b]=!0,s.push(b))}}}return i[r]=s,s},Vl.getContextMeta=function(t){for(var e,n=this,i="",r=t._private.styleCxtKey||"",o=0;o<n.length;o++){var s=n[o];i+=s.selector&&s.selector.matches(t)?zl:Hl}return e=n.getPropertiesDiff(r,i),t._private.styleCxtKey=i,{key:i,diffPropNames:e,empty:0===e.length}},Vl.getContextStyle=function(t){var e=t.key,n=this,i=this._private.contextStyles=this._private.contextStyles||{};if(i[e])return i[e];for(var r={_private:{key:e}},o=0;o<n.length;o++){var s=n[o];if(e[o]===zl)for(var a=0;a<s.properties.length;a++){var c=s.properties[a];r[c.name]=c}}return i[e]=r,r},Vl.applyContextStyle=function(t,e,n){for(var i=this,r=t.diffPropNames,o={},s=i.types,a=0;a<r.length;a++){var c=r[a],l=e[c],u=n.pstyle(c);if(!l){if(!u)continue;l=u.bypass?{name:c,deleteBypassed:!0}:{name:c,delete:!0}}if(u!==l){if(l.mapped===s.fn&&null!=u&&null!=u.mapping&&u.mapping.value===l.value){var h=u.mapping;if((h.fnValue=l.value(n))===h.prevFnValue)continue}var d=o[c]={prev:u};i.applyParsedProperty(n,l),d.next=n.pstyle(c),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:o}},Vl.updateStyleHints=function(t){var e=t._private,n=this,i=n.propertyGroupNames,r=n.propertyGroupKeys,o=function(t,e,i){return n.getPropertiesHash(t,e,i)},s=e.styleKey;if(t.removed())return!1;var a="nodes"===e.group,c=t._private.style;i=Object.keys(c);for(var l=0;l<r.length;l++){var u=r[l];e.styleKeys[u]=[re,se]}for(var h=function(t,n){return e.styleKeys[n][0]=ce(t,e.styleKeys[n][0])},d=function(t,n){return e.styleKeys[n][1]=le(t,e.styleKeys[n][1])},f=function(t,e){h(t,e),d(t,e)},g=function(t,e){for(var n=0;n<t.length;n++){var i=t.charCodeAt(n);h(i,e),d(i,e)}},p=2e9,m=function(t){return-128<t&&t<128&&Math.floor(t)!==t?p-(1024*t|0):t},b=0;b<i.length;b++){var w=i[b],y=c[w];if(null!=y){var v=this.properties[w],_=v.type,k=v.groupKey,x=void 0;null!=v.hashOverride?x=v.hashOverride(t,y):null!=y.pfValue&&(x=y.pfValue);var E=null==v.enums?y.value:null,T=null!=x,C=T||null!=E,A=y.units;_.number&&C&&!_.multiple?(f(m(T?x:E),k),T||null==A||g(A,k)):g(y.strValue,k)}}for(var S=[re,se],I=0;I<r.length;I++){var M=r[I],P=e.styleKeys[M];S[0]=ce(P[0],S[0]),S[1]=le(P[1],S[1])}e.styleKey=ue(S[0],S[1]);var O=e.styleKeys;e.labelDimsKey=he(O.labelDimensions);var D=o(t,["label"],O.labelDimensions);if(e.labelKey=he(D),e.labelStyleKey=he(de(O.commonLabel,D)),!a){var N=o(t,["source-label"],O.labelDimensions);e.sourceLabelKey=he(N),e.sourceLabelStyleKey=he(de(O.commonLabel,N));var L=o(t,["target-label"],O.labelDimensions);e.targetLabelKey=he(L),e.targetLabelStyleKey=he(de(O.commonLabel,L))}if(a){var R=e.styleKeys,B=R.nodeBody,F=R.nodeBorder,j=R.backgroundImage,$=R.compound,V=R.pie,z=[B,F,j,$,V].filter((function(t){return null!=t})).reduce(de,[re,se]);e.nodeKey=he(z),e.hasPie=null!=V&&V[0]!==re&&V[1]!==se}return s!==e.styleKey},Vl.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null},Vl.applyParsedProperty=function(t,e){var n,i=this,r=e,o=t._private.style,s=i.types,a=i.properties[r.name].type,c=r.bypass,l=o[r.name],u=l&&l.bypass,h=t._private,d="mapping",f=function(t){return null==t?null:null!=t.pfValue?t.pfValue:t.value},g=function(){var e=f(l),n=f(r);i.checkTriggers(t,r.name,e,n)};if(r&&"pie"===r.name.substr(0,3)&&Ae("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===e.name&&t.isEdge()&&("bezier"!==e.value&&t.isLoop()||"haystack"===e.value&&(t.source().isParent()||t.target().isParent()))&&(r=e=this.parse(e.name,"bezier",c)),r.delete)return o[r.name]=void 0,g(),!0;if(r.deleteBypassed)return l?!!l.bypass&&(l.bypassed=void 0,g(),!0):(g(),!0);if(r.deleteBypass)return l?!!l.bypass&&(o[r.name]=l.bypassed,g(),!0):(g(),!0);var p=function(){Ae("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+r.name+"` with data field `"+r.field+"`); try a `["+r.field+"]` selector to limit scope to elements with `"+r.field+"` defined")};switch(r.mapped){case s.mapData:for(var m,b=r.field.split("."),w=h.data,y=0;y<b.length&&w;y++)w=w[b[y]];if(null==w)return p(),!1;if(!E(w))return Ae("Do not use continuous mappers without specifying numeric data (i.e. `"+r.field+": "+w+"` for `"+t.id()+"` is non-numeric)"),!1;var v=r.fieldMax-r.fieldMin;if((m=0===v?0:(w-r.fieldMin)/v)<0?m=0:m>1&&(m=1),a.color){var _=r.valueMin[0],k=r.valueMax[0],x=r.valueMin[1],T=r.valueMax[1],C=r.valueMin[2],A=r.valueMax[2],S=null==r.valueMin[3]?1:r.valueMin[3],I=null==r.valueMax[3]?1:r.valueMax[3],M=[Math.round(_+(k-_)*m),Math.round(x+(T-x)*m),Math.round(C+(A-C)*m),Math.round(S+(I-S)*m)];n={bypass:r.bypass,name:r.name,value:M,strValue:"rgb("+M[0]+", "+M[1]+", "+M[2]+")"}}else{if(!a.number)return!1;var P=r.valueMin+(r.valueMax-r.valueMin)*m;n=this.parse(r.name,P,r.bypass,d)}if(!n)return p(),!1;n.mapping=r,r=n;break;case s.data:for(var O=r.field.split("."),D=h.data,N=0;N<O.length&&D;N++)D=D[O[N]];if(null!=D&&(n=this.parse(r.name,D,r.bypass,d)),!n)return p(),!1;n.mapping=r,r=n;break;case s.fn:var L=r.value,R=null!=r.fnValue?r.fnValue:L(t);if(r.prevFnValue=R,null==R)return Ae("Custom function mappers may not return null (i.e. `"+r.name+"` for ele `"+t.id()+"` is null)"),!1;if(!(n=this.parse(r.name,R,r.bypass,d)))return Ae("Custom function mappers may not return invalid values for the property type (i.e. `"+r.name+"` for ele `"+t.id()+"` is invalid)"),!1;n.mapping=Ie(r),r=n;break;case void 0:break;default:return!1}return c?(r.bypassed=u?l.bypassed:l,o[r.name]=r):u?l.bypassed=r:o[r.name]=r,g(),!0},Vl.cleanElements=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(this.clearStyleHints(i),i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),e)for(var r=i._private.style,o=Object.keys(r),s=0;s<o.length;s++){var a=o[s],c=r[a];null!=c&&(c.bypass?c.bypassed=null:r[a]=null)}else i._private.style={}}},Vl.update=function(){this._private.cy.mutableElements().updateStyle()},Vl.updateTransitions=function(t,e){var n=this,i=t._private,r=t.pstyle("transition-property").value,o=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(r.length>0&&o>0){for(var a={},c=!1,l=0;l<r.length;l++){var u=r[l],h=t.pstyle(u),d=e[u];if(d){var f=d.prev,g=null!=d.next?d.next:h,p=!1,m=void 0,b=1e-6;f&&(E(f.pfValue)&&E(g.pfValue)?(p=g.pfValue-f.pfValue,m=f.pfValue+b*p):E(f.value)&&E(g.value)?(p=g.value-f.value,m=f.value+b*p):_(f.value)&&_(g.value)&&(p=f.value[0]!==g.value[0]||f.value[1]!==g.value[1]||f.value[2]!==g.value[2],m=f.strValue),p&&(a[u]=g.strValue,this.applyBypass(t,u,m),c=!0))}}if(!c)return;i.transitioning=!0,new jr((function(e){s>0?t.delayAnimation(s).play().promise().then(e):e()})).then((function(){return t.animation({style:a,duration:o,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()})).then((function(){n.removeBypasses(t,r),t.emitAndNotify("style"),i.transitioning=!1}))}else i.transitioning&&(this.removeBypasses(t,r),t.emitAndNotify("style"),i.transitioning=!1)},Vl.checkTrigger=function(t,e,n,i,r,o){var s=this.properties[e],a=r(s);null!=a&&a(n,i)&&o(s)},Vl.checkZOrderTrigger=function(t,e,n,i){var r=this;this.checkTrigger(t,e,n,i,(function(t){return t.triggersZOrder}),(function(){r._private.cy.notify("zorder",t)}))},Vl.checkBoundsTrigger=function(t,e,n,i){this.checkTrigger(t,e,n,i,(function(t){return t.triggersBounds}),(function(r){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),!r.triggersBoundsOfParallelBeziers||("curve-style"!==e||"bezier"!==n&&"bezier"!==i)&&("display"!==e||"none"!==n&&"none"!==i)||t.parallelEdges().forEach((function(t){t.isBundledBezier()&&t.dirtyBoundingBoxCache()}))}))},Vl.checkTriggers=function(t,e,n,i){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,n,i),this.checkBoundsTrigger(t,e,n,i)};var Ul={applyBypass:function(t,e,n,i){var r=this,o=[],s=!0;if("*"===e||"**"===e){if(void 0!==n)for(var a=0;a<r.properties.length;a++){var c=r.properties[a].name,l=this.parse(c,n,!0);l&&o.push(l)}}else if(y(e)){var u=this.parse(e,n,!0);u&&o.push(u)}else{if(!k(e))return!1;var h=e;i=n;for(var d=Object.keys(h),f=0;f<d.length;f++){var g=d[f],p=h[g];if(void 0===p&&(p=h[$(g)]),void 0!==p){var m=this.parse(g,p,!0);m&&o.push(m)}}}if(0===o.length)return!1;for(var b=!1,w=0;w<t.length;w++){for(var v=t[w],_={},x=void 0,E=0;E<o.length;E++){var T=o[E];if(i){var C=v.pstyle(T.name);x=_[T.name]={prev:C}}b=this.applyParsedProperty(v,Ie(T))||b,i&&(x.next=v.pstyle(T.name))}b&&this.updateStyleHints(v),i&&this.updateTransitions(v,_,s)}return b},overrideBypass:function(t,e,n){e=j(e);for(var i=0;i<t.length;i++){var r=t[i],o=r._private.style[e],s=this.properties[e].type,a=s.color,c=s.mutiple,l=o?null!=o.pfValue?o.pfValue:o.value:null;o&&o.bypass?(o.value=n,null!=o.pfValue&&(o.pfValue=n),o.strValue=a?"rgb("+n.join(",")+")":c?n.join(" "):""+n,this.updateStyleHints(r)):this.applyBypass(r,e,n),this.checkTriggers(r,e,l,n)}},removeAllBypasses:function(t,e){return this.removeBypasses(t,this.propertyNames,e)},removeBypasses:function(t,e,n){for(var i=!0,r=0;r<t.length;r++){for(var o=t[r],s={},a=0;a<e.length;a++){var c=e[a],l=this.properties[c],u=o.pstyle(l.name);if(u&&u.bypass){var h="",d=this.parse(c,h,!0),f=s[l.name]={prev:u};this.applyParsedProperty(o,d),f.next=o.pstyle(l.name)}}this.updateStyleHints(o),n&&this.updateTransitions(o,s,i)}}},ql={getEmSizeInPixels:function(){var t=this.containerCss("font-size");return null!=t?parseFloat(t):1},containerCss:function(t){var e=this._private.cy.container();if(d&&e&&d.getComputedStyle)return d.getComputedStyle(e).getPropertyValue(t)}},Wl={getRenderedStyle:function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)},getRawStyle:function(t,e){var n=this;if(t=t[0]){for(var i={},r=0;r<n.properties.length;r++){var o=n.properties[r],s=n.getStylePropertyValue(t,o.name,e);null!=s&&(i[o.name]=s,i[$(o.name)]=s)}return i}},getIndexedStyle:function(t,e,n,i){var r=t.pstyle(e)[n][i];return null!=r?r:t.cy().style().getDefaultProperty(e)[n][0]},getStylePropertyValue:function(t,e,n){var i=this;if(t=t[0]){var r=i.properties[e];r.alias&&(r=r.pointsTo);var o=r.type,s=t.pstyle(r.name);if(s){var a=s.value,c=s.units,l=s.strValue;if(n&&o.number&&null!=a&&E(a)){var u=t.cy().zoom(),h=function(t){return t*u},d=function(t,e){return h(t)+e},f=_(a);return(f?c.every((function(t){return null!=t})):null!=c)?f?a.map((function(t,e){return d(t,c[e])})).join(" "):d(a,c):f?a.map((function(t){return y(t)?t:""+h(t)})).join(" "):""+h(a)}if(null!=l)return l}return null}},getAnimationStartStyle:function(t,e){for(var n={},i=0;i<e.length;i++){var r=e[i].name,o=t.pstyle(r);void 0!==o&&(o=k(o)?this.parse(r,o.strValue):this.parse(r,o)),o&&(n[r]=o)}return n},getPropsList:function(t){var e=[],n=t,i=this.properties;if(n)for(var r=Object.keys(n),o=0;o<r.length;o++){var s=r[o],a=n[s],c=i[s]||i[j(s)],l=this.parse(c.name,a);l&&e.push(l)}return e},getNonDefaultPropertiesHash:function(t,e,n){var i,r,o,s,a,c,l=n.slice();for(a=0;a<e.length;a++)if(i=e[a],null!=(r=t.pstyle(i,!1)))if(null!=r.pfValue)l[0]=ce(s,l[0]),l[1]=le(s,l[1]);else for(o=r.strValue,c=0;c<o.length;c++)s=o.charCodeAt(c),l[0]=ce(s,l[0]),l[1]=le(s,l[1]);return l}};Wl.getPropertiesHash=Wl.getNonDefaultPropertiesHash;var Gl={appendFromJson:function(t){for(var e=this,n=0;n<t.length;n++){var i=t[n],r=i.selector,o=i.style||i.css,s=Object.keys(o);e.selector(r);for(var a=0;a<s.length;a++){var c=s[a],l=o[c];e.css(c,l)}}return e},fromJson:function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e},json:function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var n=this[e],i=n.selector,r=n.properties,o={},s=0;s<r.length;s++){var a=r[s];o[a.name]=a.strValue}t.push({selector:i?i.toString():"core",style:o})}return t}},Kl={appendFromString:function(t){var e,n,i,r=this,o=this,s=""+t;function a(){s=s.length>e.length?s.substr(e.length):""}function c(){n=n.length>i.length?n.substr(i.length):""}for(s=s.replace(/[/][*](\s|.)+?[*][/]/g,"");!s.match(/^\s*$/);){var l=s.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!l){Ae("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+s);break}e=l[0];var u=l[1];if("core"!==u&&new Da(u).invalid)Ae("Skipping parsing of block: Invalid selector found in string stylesheet: "+u),a();else{var h=l[2],d=!1;n=h;for(var f=[];!n.match(/^\s*$/);){var g=n.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!g){Ae("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+h),d=!0;break}i=g[0];var p=g[1],m=g[2];r.properties[p]?o.parse(p,m)?(f.push({name:p,val:m}),c()):(Ae("Skipping property: Invalid property definition in: "+i),c()):(Ae("Skipping property: Invalid property name in: "+i),c())}if(d){a();break}o.selector(u);for(var b=0;b<f.length;b++){var w=f[b];o.css(w.name,w.val)}a()}}return o},fromString:function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e}},Yl={};!function(){var t=H,e=q,n=G,i=K,r=Y,o=function(t){return"^"+t+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(o){var s=t+"|\\w+|"+e+"|"+n+"|"+i+"|"+r;return"^"+o+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+s+")\\s*\\,\\s*("+s+")\\)$"},a=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];Yl.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},scratch:{mapping:!0,regex:o("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:a,singleRegexMatchValue:!0},urls:{regexes:a,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(t,e){switch(t.length){case 2:return"deg"!==e[0]&&"rad"!==e[0]&&"deg"!==e[1]&&"rad"!==e[1];case 1:return y(t[0])||"deg"===e[0]||"rad"===e[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(t){var e=t.length;return 1===e||2===e||4===e}}};var c={zeroNonZero:function(t,e){return(null==t||null==e)&&t!==e||0==t&&0!=e||0!=t&&0==e},any:function(t,e){return t!=e},emptyNonEmpty:function(t,e){var n=D(t),i=D(e);return n&&!i||!n&&i}},l=Yl.types,u=[{name:"label",type:l.text,triggersBounds:c.any,triggersZOrder:c.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:c.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:c.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:c.any}],h=[{name:"source-label",type:l.text,triggersBounds:c.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:c.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:c.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:c.any},{name:"source-text-offset",type:l.size,triggersBounds:c.any}],d=[{name:"target-label",type:l.text,triggersBounds:c.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:c.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:c.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:c.any},{name:"target-text-offset",type:l.size,triggersBounds:c.any}],f=[{name:"font-family",type:l.fontFamily,triggersBounds:c.any},{name:"font-style",type:l.fontStyle,triggersBounds:c.any},{name:"font-weight",type:l.fontWeight,triggersBounds:c.any},{name:"font-size",type:l.size,triggersBounds:c.any},{name:"text-transform",type:l.textTransform,triggersBounds:c.any},{name:"text-wrap",type:l.textWrap,triggersBounds:c.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:c.any},{name:"text-max-width",type:l.size,triggersBounds:c.any},{name:"text-outline-width",type:l.size,triggersBounds:c.any},{name:"line-height",type:l.positiveNumber,triggersBounds:c.any}],g=[{name:"text-valign",type:l.valign,triggersBounds:c.any},{name:"text-halign",type:l.halign,triggersBounds:c.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:c.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:c.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:c.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:c.any},{name:"text-justification",type:l.justification}],p=[{name:"events",type:l.bool},{name:"text-events",type:l.bool}],m=[{name:"display",type:l.display,triggersZOrder:c.any,triggersBounds:c.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:l.visibility,triggersZOrder:c.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:c.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:c.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:c.any},{name:"z-index",type:l.nonNegativeInt,triggersZOrder:c.any}],b=[{name:"overlay-padding",type:l.size,triggersBounds:c.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:c.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:c.any}],w=[{name:"underlay-padding",type:l.size,triggersBounds:c.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:c.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:c.any}],v=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],_=function(t,e){return"label"===e.value?-t.poolIndex():e.pfValue},k=[{name:"height",type:l.nodeSize,triggersBounds:c.any,hashOverride:_},{name:"width",type:l.nodeSize,triggersBounds:c.any,hashOverride:_},{name:"shape",type:l.nodeShape,triggersBounds:c.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:c.any},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:c.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:c.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:c.any}],x=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:c.any},{name:"border-style",type:l.borderStyle}],E=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],T=[{name:"position",type:l.position,triggersBounds:c.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:c.any},{name:"min-width",type:l.size,triggersBounds:c.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:c.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:c.any},{name:"min-height",type:l.size,triggersBounds:c.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:c.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:c.any}],C=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:c.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:c.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:c.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:c.any},{name:"control-point-step-size",type:l.size,triggersBounds:c.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:c.any},{name:"control-point-weights",type:l.numbers,triggersBounds:c.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:c.any},{name:"segment-weights",type:l.numbers,triggersBounds:c.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:c.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:c.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:c.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:c.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:c.any},{name:"loop-direction",type:l.angle,triggersBounds:c.any},{name:"loop-sweep",type:l.angle,triggersBounds:c.any},{name:"source-distance-from-node",type:l.size,triggersBounds:c.any},{name:"target-distance-from-node",type:l.size,triggersBounds:c.any}],A=[{name:"ghost",type:l.bool,triggersBounds:c.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:c.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:c.any},{name:"ghost-opacity",type:l.zeroOneNumber}],S=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],I=[];Yl.pieBackgroundN=16,I.push({name:"pie-size",type:l.sizeMaybePercent});for(var M=1;M<=Yl.pieBackgroundN;M++)I.push({name:"pie-"+M+"-background-color",type:l.color}),I.push({name:"pie-"+M+"-background-size",type:l.percent}),I.push({name:"pie-"+M+"-background-opacity",type:l.zeroOneNumber});var P=[],O=Yl.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:c.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill}].forEach((function(t){O.forEach((function(e){var n=e+"-"+t.name,i=t.type,r=t.triggersBounds;P.push({name:n,type:i,triggersBounds:r})}))}),{});var N=Yl.properties=[].concat(p,v,m,b,w,A,g,f,u,h,d,k,x,E,I,T,C,P,S),L=Yl.propertyGroups={behavior:p,transition:v,visibility:m,overlay:b,underlay:w,ghost:A,commonLabel:g,labelDimensions:f,mainLabel:u,sourceLabel:h,targetLabel:d,nodeBody:k,nodeBorder:x,backgroundImage:E,pie:I,compound:T,edgeLine:C,edgeArrow:P,core:S},R=Yl.propertyGroupNames={};(Yl.propertyGroupKeys=Object.keys(L)).forEach((function(t){R[t]=L[t].map((function(t){return t.name})),L[t].forEach((function(e){return e.groupKey=t}))}));var B=Yl.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Yl.propertyNames=N.map((function(t){return t.name}));for(var F=0;F<N.length;F++){var j=N[F];N[j.name]=j}for(var $=0;$<B.length;$++){var V=B[$],z=N[V.pointsTo],U={name:V.name,alias:!0,pointsTo:z};N.push(U),N[V.name]=U}}(),Yl.getDefaultProperty=function(t){return this.getDefaultProperties()[t]},Yl.getDefaultProperties=function(){var t=this._private;if(null!=t.defaultProperties)return t.defaultProperties;for(var e=Q({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce((function(t,e){for(var n=1;n<=Yl.pieBackgroundN;n++){var i=e.name.replace("{{i}}",n),r=e.value;t[i]=r}return t}),{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce((function(t,e){return Yl.arrowPrefixes.forEach((function(n){var i=n+"-"+e.name,r=e.value;t[i]=r})),t}),{})),n={},i=0;i<this.properties.length;i++){var r=this.properties[i];if(!r.pointsTo){var o=r.name,s=e[o],a=this.parse(o,s);n[o]=a}}return t.defaultProperties=n,t.defaultProperties},Yl.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Xl={parse:function(t,e,n,i){var r=this;if(v(e))return r.parseImplWarn(t,e,n,i);var o,s=pe(t,""+e,n?"t":"f","mapping"===i||!0===i||!1===i||null==i?"dontcare":i),a=r.propCache=r.propCache||[];return(o=a[s])||(o=a[s]=r.parseImplWarn(t,e,n,i)),(n||"mapping"===i)&&(o=Ie(o))&&(o.value=Ie(o.value)),o},parseImplWarn:function(t,e,n,i){var r=this.parseImpl(t,e,n,i);return r||null==e||Ae("The style property `".concat(t,": ").concat(e,"` is invalid")),!r||"width"!==r.name&&"height"!==r.name||"label"!==e||Ae("The style value of `label` is deprecated for `"+r.name+"`"),r},parseImpl:function(t,e,n,i){var r=this;t=j(t);var o=r.properties[t],s=e,a=r.types;if(!o)return null;if(void 0===e)return null;o.alias&&(o=o.pointsTo,t=o.name);var c=y(e);c&&(e=e.trim());var l,u,h=o.type;if(!h)return null;if(n&&(""===e||null===e))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(v(e))return{name:t,value:e,strValue:"fn",mapped:a.fn,bypass:n};if(!c||i||e.length<7||"a"!==e[1]);else{if(e.length>=7&&"d"===e[0]&&(l=new RegExp(a.data.regex).exec(e))){if(n)return!1;var d=a.data;return{name:t,value:l,strValue:""+e,mapped:d,field:l[1],bypass:n}}if(e.length>=10&&"m"===e[0]&&(u=new RegExp(a.mapData.regex).exec(e))){if(n)return!1;if(h.multiple)return!1;var f=a.mapData;if(!h.color&&!h.number)return!1;var g=this.parse(t,u[4]);if(!g||g.mapped)return!1;var p=this.parse(t,u[5]);if(!p||p.mapped)return!1;if(g.pfValue===p.pfValue||g.strValue===p.strValue)return Ae("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+g.strValue+"`"),this.parse(t,g.strValue);if(h.color){var m=g.value,b=p.value;if(!(m[0]!==b[0]||m[1]!==b[1]||m[2]!==b[2]||m[3]!==b[3]&&(null!=m[3]&&1!==m[3]||null!=b[3]&&1!==b[3])))return!1}return{name:t,value:u,strValue:""+e,mapped:f,field:u[1],fieldMin:parseFloat(u[2]),fieldMax:parseFloat(u[3]),valueMin:g.value,valueMax:p.value,bypass:n}}}if(h.multiple&&"multiple"!==i){var w;if(w=c?e.split(/\s+/):_(e)?e:[e],h.evenMultiple&&w.length%2!=0)return null;for(var k=[],x=[],E=[],C="",A=!1,S=0;S<w.length;S++){var I=r.parse(t,w[S],n,"multiple");A=A||y(I.value),k.push(I.value),E.push(null!=I.pfValue?I.pfValue:I.value),x.push(I.units),C+=(S>0?" ":"")+I.strValue}return h.validate&&!h.validate(k,x)?null:h.singleEnum&&A?1===k.length&&y(k[0])?{name:t,value:k[0],strValue:k[0],bypass:n}:null:{name:t,value:k,pfValue:E,strValue:C,bypass:n,units:x}}var M=function(){for(var i=0;i<h.enums.length;i++)if(h.enums[i]===e)return{name:t,value:e,strValue:""+e,bypass:n};return null};if(h.number){var P,O="px";if(h.units&&(P=h.units),h.implicitUnits&&(O=h.implicitUnits),!h.unitless)if(c){var D="px|em"+(h.allowPercent?"|\\%":"");P&&(D=P);var N=e.match("^("+H+")("+D+")?$");N&&(e=N[1],P=N[2]||O)}else P&&!h.implicitUnits||(P=O);if(e=parseFloat(e),isNaN(e)&&void 0===h.enums)return null;if(isNaN(e)&&void 0!==h.enums)return e=s,M();if(h.integer&&!T(e))return null;if(void 0!==h.min&&(e<h.min||h.strictMin&&e===h.min)||void 0!==h.max&&(e>h.max||h.strictMax&&e===h.max))return null;var L={name:t,value:e,strValue:""+e+(P||""),units:P,bypass:n};return h.unitless||"px"!==P&&"em"!==P?L.pfValue=e:L.pfValue="px"!==P&&P?this.getEmSizeInPixels()*e:e,"ms"!==P&&"s"!==P||(L.pfValue="ms"===P?e:1e3*e),"deg"!==P&&"rad"!==P||(L.pfValue="rad"===P?e:bn(e)),"%"===P&&(L.pfValue=e/100),L}if(h.propList){var R=[],B=""+e;if("none"===B);else{for(var F=B.split(/\s*,\s*|\s+/),$=0;$<F.length;$++){var V=F[$].trim();r.properties[V]?R.push(V):Ae("`"+V+"` is not a valid property name")}if(0===R.length)return null}return{name:t,value:R,strValue:0===R.length?"none":R.join(" "),bypass:n}}if(h.color){var z=it(e);return z?{name:t,value:z,pfValue:z,strValue:"rgb("+z[0]+","+z[1]+","+z[2]+")",bypass:n}:null}if(h.regex||h.regexes){if(h.enums){var U=M();if(U)return U}for(var q=h.regexes?h.regexes:[h.regex],W=0;W<q.length;W++){var G=new RegExp(q[W]).exec(e);if(G)return{name:t,value:h.singleRegexMatchValue?G[1]:G,strValue:""+e,bypass:n}}return null}return h.string?{name:t,value:""+e,strValue:""+e,bypass:n}:h.enums?M():null}},Zl=function t(e){if(!(this instanceof t))return new t(e);M(e)?(this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()):Te("A style must have a core reference")},Ql=Zl.prototype;Ql.instanceString=function(){return"style"},Ql.clear=function(){for(var t=this._private,e=t.cy.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(e,!0),e.forEach((function(t){var e=t[0]._private;e.styleDirty=!0,e.appliedInitStyle=!1})),this},Ql.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Ql.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)},Ql.selector=function(t){var e="core"===t?null:new Da(t),n=this.length++;return this[n]={selector:e,properties:[],mappedProperties:[],index:n},this},Ql.css=function(){var t=this,e=arguments;if(1===e.length)for(var n=e[0],i=0;i<t.properties.length;i++){var r=t.properties[i],o=n[r.name];void 0===o&&(o=n[$(r.name)]),void 0!==o&&this.cssRule(r.name,o)}else 2===e.length&&this.cssRule(e[0],e[1]);return this},Ql.style=Ql.css,Ql.cssRule=function(t,e){var n=this.parse(t,e);if(n){var i=this.length-1;this[i].properties.push(n),this[i].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[i].mappedProperties.push(n),!this[i].selector&&(this._private.coreStyle[n.name]=n)}return this},Ql.append=function(t){return P(t)?t.appendToStyle(this):_(t)?this.appendFromJson(t):y(t)&&this.appendFromString(t),this},Zl.fromJson=function(t,e){var n=new Zl(t);return n.fromJson(e),n},Zl.fromString=function(t,e){return new Zl(t).fromString(e)},[Vl,Ul,ql,Wl,Gl,Kl,Yl,Xl].forEach((function(t){Q(Ql,t)})),Zl.types=Ql.types,Zl.properties=Ql.properties,Zl.propertyGroups=Ql.propertyGroups,Zl.propertyGroupNames=Ql.propertyGroupNames,Zl.propertyGroupKeys=Ql.propertyGroupKeys;var Jl={style:function(t){return t&&this.setStyle(t).update(),this._private.style},setStyle:function(t){var e=this._private;return P(t)?e.style=t.generateStyle(this):_(t)?e.style=Zl.fromJson(this,t):y(t)?e.style=Zl.fromString(this,t):e.style=Zl(this),e.style},updateStyle:function(){this.mutableElements().updateStyle()}},tu="single",eu={autolock:function(t){return void 0===t?this._private.autolock:(this._private.autolock=!!t,this)},autoungrabify:function(t){return void 0===t?this._private.autoungrabify:(this._private.autoungrabify=!!t,this)},autounselectify:function(t){return void 0===t?this._private.autounselectify:(this._private.autounselectify=!!t,this)},selectionType:function(t){var e=this._private;return null==e.selectionType&&(e.selectionType=tu),void 0===t?e.selectionType:("additive"!==t&&"single"!==t||(e.selectionType=t),this)},panningEnabled:function(t){return void 0===t?this._private.panningEnabled:(this._private.panningEnabled=!!t,this)},userPanningEnabled:function(t){return void 0===t?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!t,this)},zoomingEnabled:function(t){return void 0===t?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!t,this)},userZoomingEnabled:function(t){return void 0===t?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!t,this)},boxSelectionEnabled:function(t){return void 0===t?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!t,this)},pan:function(){var t,e,n,i,r,o=arguments,s=this._private.pan;switch(o.length){case 0:return s;case 1:if(y(o[0]))return s[t=o[0]];if(k(o[0])){if(!this._private.panningEnabled)return this;i=(n=o[0]).x,r=n.y,E(i)&&(s.x=i),E(r)&&(s.y=r),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=o[0],e=o[1],"x"!==t&&"y"!==t||!E(e)||(s[t]=e),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(t,e){var n,i,r,o,s,a=arguments,c=this._private.pan;if(!this._private.panningEnabled)return this;switch(a.length){case 1:k(t)&&(o=(r=a[0]).x,s=r.y,E(o)&&(c.x+=o),E(s)&&(c.y+=s),this.emit("pan viewport"));break;case 2:i=e,"x"!==(n=t)&&"y"!==n||!E(i)||(c[n]+=i),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(t,e){var n=this.getFitViewport(t,e);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,e){if(E(t)&&void 0===e&&(e=t,t=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n;if(y(t)){var i=t;t=this.$(i)}else if(L(t)){var r=t;(n={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else A(t)||(t=this.mutableElements());if(!A(t)||!t.empty()){n=n||t.boundingBox();var o,s=this.width(),a=this.height();if(e=E(e)?e:0,!isNaN(s)&&!isNaN(a)&&s>0&&a>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:o=(o=(o=Math.min((s-2*e)/n.w,(a-2*e)/n.h))>this._private.maxZoom?this._private.maxZoom:o)<this._private.minZoom?this._private.minZoom:o,pan:{x:(s-o*(n.x1+n.x2))/2,y:(a-o*(n.y1+n.y2))/2}}}}},zoomRange:function(t,e){var n=this._private;if(null==e){var i=t;t=i.min,e=i.max}return E(t)&&E(e)&&t<=e?(n.minZoom=t,n.maxZoom=e):E(t)&&void 0===e&&t<=n.maxZoom?n.minZoom=t:E(e)&&void 0===t&&e>=n.minZoom&&(n.maxZoom=e),this},minZoom:function(t){return void 0===t?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return void 0===t?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var e,n,i=this._private,r=i.pan,o=i.zoom,s=!1;if(i.zoomingEnabled||(s=!0),E(t)?n=t:k(t)&&(n=t.level,null!=t.position?e=un(t.position,o,r):null!=t.renderedPosition&&(e=t.renderedPosition),null==e||i.panningEnabled||(s=!0)),n=(n=n>i.maxZoom?i.maxZoom:n)<i.minZoom?i.minZoom:n,s||!E(n)||n===o||null!=e&&(!E(e.x)||!E(e.y)))return null;if(null!=e){var a=r,c=o,l=n;return{zoomed:!0,panned:!0,zoom:l,pan:{x:-l/c*(e.x-a.x)+e.x,y:-l/c*(e.y-a.y)+e.y}}}return{zoomed:!0,panned:!1,zoom:n,pan:r}},zoom:function(t){if(void 0===t)return this._private.zoom;var e=this.getZoomedViewport(t),n=this._private;return null!=e&&e.zoomed?(n.zoom=e.zoom,e.panned&&(n.pan.x=e.pan.x,n.pan.y=e.pan.y),this.emit("zoom"+(e.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(t){var e=this._private,n=!0,i=!0,r=[],o=!1,s=!1;if(!t)return this;if(E(t.zoom)||(n=!1),k(t.pan)||(i=!1),!n&&!i)return this;if(n){var a=t.zoom;a<e.minZoom||a>e.maxZoom||!e.zoomingEnabled?o=!0:(e.zoom=a,r.push("zoom"))}if(i&&(!o||!t.cancelOnFailedZoom)&&e.panningEnabled){var c=t.pan;E(c.x)&&(e.pan.x=c.x,s=!1),E(c.y)&&(e.pan.y=c.y,s=!1),s||r.push("pan")}return r.length>0&&(r.push("viewport"),this.emit(r.join(" ")),this.notify("viewport")),this},center:function(t){var e=this.getCenterPan(t);return e&&(this._private.pan=e,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,e){if(this._private.panningEnabled){if(y(t)){var n=t;t=this.mutableElements().filter(n)}else A(t)||(t=this.mutableElements());if(0!==t.length){var i=t.boundingBox(),r=this.width(),o=this.height();return{x:(r-(e=void 0===e?this._private.zoom:e)*(i.x1+i.x2))/2,y:(o-e*(i.y1+i.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t,e,n=this._private,i=n.container;return n.sizeCache=n.sizeCache||(i?(t=d.getComputedStyle(i),e=function(e){return parseFloat(t.getPropertyValue(e))},{width:i.clientWidth-e("padding-left")-e("padding-right"),height:i.clientHeight-e("padding-top")-e("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,e=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-t.x)/e,x2:(n.x2-t.x)/e,y1:(n.y1-t.y)/e,y2:(n.y2-t.y)/e};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var t=this.width(),e=this.height();return{x1:0,y1:0,x2:t,y2:e,w:t,h:e}},multiClickDebounceTime:function(t){return t?(this._private.multiClickDebounceTime=t,this):this._private.multiClickDebounceTime}};eu.centre=eu.center,eu.autolockNodes=eu.autolock,eu.autoungrabifyNodes=eu.autoungrabify;var nu={data:la.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:la.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:la.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:la.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};nu.attr=nu.data,nu.removeAttr=nu.removeData;var iu=function(t){var e=this,n=(t=Q({},t)).container;n&&!C(n)&&C(n[0])&&(n=n[0]);var i=n?n._cyreg:null;(i=i||{})&&i.cy&&(i.cy.destroy(),i={});var r=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=e;var o=void 0!==d&&void 0!==n&&!t.headless,s=t;s.layout=Q({name:o?"grid":"null"},s.layout),s.renderer=Q({name:o?"canvas":"null"},s.renderer);var a=function(t,e,n){return void 0!==e?e:void 0!==n?n:t},c=this._private={container:n,ready:!1,options:s,elements:new bl(this),listeners:[],aniEles:new bl(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:a(!0,s.zoomingEnabled),userZoomingEnabled:a(!0,s.userZoomingEnabled),panningEnabled:a(!0,s.panningEnabled),userPanningEnabled:a(!0,s.userPanningEnabled),boxSelectionEnabled:a(!0,s.boxSelectionEnabled),autolock:a(!1,s.autolock,s.autolockNodes),autoungrabify:a(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:a(!1,s.autounselectify),styleEnabled:void 0===s.styleEnabled?o:s.styleEnabled,zoom:E(s.zoom)?s.zoom:1,pan:{x:k(s.pan)&&E(s.pan.x)?s.pan.x:0,y:k(s.pan)&&E(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:a(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var l=function(t,e){if(t.some(R))return jr.all(t).then(e);e(t)};c.styleEnabled&&e.setStyle([]);var u=Q({},s,s.renderer);e.initRenderer(u);var h=function(t,n,i){e.notifications(!1);var r=e.mutableElements();r.length>0&&r.remove(),null!=t&&(k(t)||_(t))&&e.add(t),e.one("layoutready",(function(t){e.notifications(!0),e.emit(t),e.one("load",n),e.emitAndNotify("load")})).one("layoutstop",(function(){e.one("done",i),e.emit("done")}));var o=Q({},e._private.options.layout);o.eles=e.elements(),e.layout(o).run()};l([s.style,s.elements],(function(t){var n=t[0],o=t[1];c.styleEnabled&&e.style().append(n),h(o,(function(){e.startAnimationLoop(),c.ready=!0,v(s.ready)&&e.on("ready",s.ready);for(var t=0;t<r.length;t++){var n=r[t];e.on("ready",n)}i&&(i.readies=[]),e.emit("ready")}),s.done)}))},ru=iu.prototype;Q(ru,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},mount:function(t){if(null!=t){var e=this,n=e._private,i=n.options;return!C(t)&&C(t[0])&&(t=t[0]),e.stopAnimationLoop(),e.destroyRenderer(),n.container=t,n.styleEnabled=!0,e.invalidateSize(),e.initRenderer(Q({},i,i.renderer,{name:"null"===i.renderer.name?"canvas":i.renderer.name})),e.startAnimationLoop(),e.style(i.style),e.emit("mount"),e}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return Ie(this._private.options)},json:function(t){var e=this,n=e._private,i=e.mutableElements(),r=function(t){return e.getElementById(t.id())};if(k(t)){if(e.startBatch(),t.elements){var o={},s=function(t,n){for(var i=[],r=[],s=0;s<t.length;s++){var a=t[s];if(a.data.id){var c=""+a.data.id,l=e.getElementById(c);o[c]=!0,0!==l.length?r.push({ele:l,json:a}):n?(a.group=n,i.push(a)):i.push(a)}else Ae("cy.json() cannot handle elements without an ID attribute")}e.add(i);for(var u=0;u<r.length;u++){var h=r[u],d=h.ele,f=h.json;d.json(f)}};if(_(t.elements))s(t.elements);else for(var a=["nodes","edges"],c=0;c<a.length;c++){var l=a[c],u=t.elements[l];_(u)&&s(u,l)}var h=e.collection();i.filter((function(t){return!o[t.id()]})).forEach((function(t){t.isParent()?h.merge(t):t.remove()})),h.forEach((function(t){return t.children().move({parent:null})})),h.forEach((function(t){return r(t).remove()}))}t.style&&e.style(t.style),null!=t.zoom&&t.zoom!==n.zoom&&e.zoom(t.zoom),t.pan&&(t.pan.x===n.pan.x&&t.pan.y===n.pan.y||e.pan(t.pan)),t.data&&e.data(t.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],f=0;f<d.length;f++){var g=d[f];null!=t[g]&&e[g](t[g])}return e.endBatch(),this}var p={};t?p.elements=this.elements().map((function(t){return t.json()})):(p.elements={},i.forEach((function(t){var e=t.group();p.elements[e]||(p.elements[e]=[]),p.elements[e].push(t.json())}))),this._private.styleEnabled&&(p.style=e.style().json()),p.data=Ie(e.data());var m=n.options;return p.zoomingEnabled=n.zoomingEnabled,p.userZoomingEnabled=n.userZoomingEnabled,p.zoom=n.zoom,p.minZoom=n.minZoom,p.maxZoom=n.maxZoom,p.panningEnabled=n.panningEnabled,p.userPanningEnabled=n.userPanningEnabled,p.pan=Ie(n.pan),p.boxSelectionEnabled=n.boxSelectionEnabled,p.renderer=Ie(m.renderer),p.hideEdgesOnViewport=m.hideEdgesOnViewport,p.textureOnViewport=m.textureOnViewport,p.wheelSensitivity=m.wheelSensitivity,p.motionBlur=m.motionBlur,p.multiClickDebounceTime=m.multiClickDebounceTime,p}}),ru.$id=ru.getElementById,[yl,Pl,Nl,Ll,Rl,Bl,jl,$l,Jl,eu,nu].forEach((function(t){Q(ru,t)}));var ou={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}},su=function(t){return t.scratch("breadthfirst")},au=function(t,e){return t.scratch("breadthfirst",e)};function cu(t){this.options=Q({},ou,t)}cu.prototype.run=function(){var t,e=this.options,n=e,i=e.cy,r=n.eles,o=r.nodes().filter((function(t){return!t.isParent()})),s=r,a=n.directed,c=n.maximal||n.maximalAdjustments>0,l=Sn(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});if(A(n.roots))t=n.roots;else if(_(n.roots)){for(var u=[],h=0;h<n.roots.length;h++){var d=n.roots[h],f=i.getElementById(d);u.push(f)}t=i.collection(u)}else if(y(n.roots))t=i.$(n.roots);else if(a)t=o.roots();else{var g=r.components();t=i.collection();for(var p=function(e){var n=g[e],i=n.maxDegree(!1),r=n.filter((function(t){return t.degree(!1)===i}));t=t.add(r)},m=0;m<g.length;m++)p(m)}var b=[],w={},v=function(t,e){null==b[e]&&(b[e]=[]);var n=b[e].length;b[e].push(t),au(t,{index:n,depth:e})},k=function(t,e){var n=su(t),i=n.depth,r=n.index;b[i][r]=null,v(t,e)};s.bfs({roots:t,directed:n.directed,visit:function(t,e,n,i,r){var o=t[0],s=o.id();v(o,r),w[s]=!0}});for(var x=[],E=0;E<o.length;E++){var T=o[E];w[T.id()]||x.push(T)}var C=function(t){for(var e=b[t],n=0;n<e.length;n++){var i=e[n];null!=i?au(i,{depth:t,index:n}):(e.splice(n,1),n--)}},S=function(){for(var t=0;t<b.length;t++)C(t)},I=function(t,e){for(var n=su(t),i=t.incomers().filter((function(t){return t.isNode()&&r.has(t)})),o=-1,s=t.id(),a=0;a<i.length;a++){var c=i[a],l=su(c);o=Math.max(o,l.depth)}return n.depth<=o&&(e[s]?null:(k(t,o+1),e[s]=!0,!0))};if(a&&c){var M=[],P={},O=function(t){return M.push(t)},D=function(){return M.shift()};for(o.forEach((function(t){return M.push(t)}));M.length>0;){var N=D(),L=I(N,P);if(L)N.outgoers().filter((function(t){return t.isNode()&&r.has(t)})).forEach(O);else if(null===L){Ae("Detected double maximal shift for node `"+N.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}S();var R=0;if(n.avoidOverlap)for(var B=0;B<o.length;B++){var F=o[B].layoutDimensions(n),j=F.w,$=F.h;R=Math.max(R,j,$)}var V={},z=function(t){if(V[t.id()])return V[t.id()];for(var e=su(t).depth,n=t.neighborhood(),i=0,r=0,s=0;s<n.length;s++){var a=n[s];if(!a.isEdge()&&!a.isParent()&&o.has(a)){var c=su(a);if(null!=c){var l=c.index,u=c.depth;if(null!=l&&null!=u){var h=b[u].length;u<e&&(i+=l/h,r++)}}}}return i/=r=Math.max(1,r),0===r&&(i=0),V[t.id()]=i,i},H=function(t,e){var n=z(t)-z(e);return 0===n?X(t.id(),e.id()):n};void 0!==n.depthSort&&(H=n.depthSort);for(var U=0;U<b.length;U++)b[U].sort(H),C(U);for(var q=[],W=0;W<x.length;W++)q.push(x[W]);b.unshift(q),S();for(var G=0,K=0;K<b.length;K++)G=Math.max(b[K].length,G);var Y={x:l.x1+l.w/2,y:l.x1+l.h/2},Z=b.reduce((function(t,e){return Math.max(t,e.length)}),0),Q=function(t){var e=su(t),i=e.depth,r=e.index,o=b[i].length,s=Math.max(l.w/((n.grid?Z:o)+1),R),a=Math.max(l.h/(b.length+1),R),c=Math.min(l.w/2/b.length,l.h/2/b.length);if(c=Math.max(c,R),n.circle){var u=c*i+c-(b.length>0&&b[0].length<=3?c/2:0),h=2*Math.PI/b[i].length*r;return 0===i&&1===b[0].length&&(u=1),{x:Y.x+u*Math.cos(h),y:Y.y+u*Math.sin(h)}}return{x:Y.x+(r+1-(o+1)/2)*s,y:(i+1)*a}};return r.nodes().layoutPositions(this,n,Q),this};var lu={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function uu(t){this.options=Q({},lu,t)}uu.prototype.run=function(){var t=this.options,e=t,n=t.cy,i=e.eles,r=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,o=i.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));for(var s,a=Sn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),c={x:a.x1+a.w/2,y:a.y1+a.h/2},l=(void 0===e.sweep?2*Math.PI-2*Math.PI/o.length:e.sweep)/Math.max(1,o.length-1),u=0,h=0;h<o.length;h++){var d=o[h].layoutDimensions(e),f=d.w,g=d.h;u=Math.max(u,f,g)}if(s=E(e.radius)?e.radius:o.length<=1?0:Math.min(a.h,a.w)/2-u,o.length>1&&e.avoidOverlap){u*=1.75;var p=Math.cos(l)-Math.cos(0),m=Math.sin(l)-Math.sin(0),b=Math.sqrt(u*u/(p*p+m*m));s=Math.max(b,s)}var w=function(t,n){var i=e.startAngle+n*l*(r?1:-1),o=s*Math.cos(i),a=s*Math.sin(i);return{x:c.x+o,y:c.y+a}};return i.nodes().layoutPositions(this,e,w),this};var hu,du={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function fu(t){this.options=Q({},du,t)}fu.prototype.run=function(){for(var t=this.options,e=t,n=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,i=t.cy,r=e.eles,o=r.nodes().not(":parent"),s=Sn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),a={x:s.x1+s.w/2,y:s.y1+s.h/2},c=[],l=0,u=0;u<o.length;u++){var h=o[u],d=void 0;d=e.concentric(h),c.push({value:d,node:h}),h._private.scratch.concentric=d}o.updateStyle();for(var f=0;f<o.length;f++){var g=o[f].layoutDimensions(e);l=Math.max(l,g.w,g.h)}c.sort((function(t,e){return e.value-t.value}));for(var p=e.levelWidth(o),m=[[]],b=m[0],w=0;w<c.length;w++){var y=c[w];b.length>0&&Math.abs(b[0].value-y.value)>=p&&(b=[],m.push(b)),b.push(y)}var v=l+e.minNodeSpacing;if(!e.avoidOverlap){var _=m.length>0&&m[0].length>1,k=(Math.min(s.w,s.h)/2-v)/(m.length+_?1:0);v=Math.min(v,k)}for(var x=0,E=0;E<m.length;E++){var T=m[E],C=void 0===e.sweep?2*Math.PI-2*Math.PI/T.length:e.sweep,A=T.dTheta=C/Math.max(1,T.length-1);if(T.length>1&&e.avoidOverlap){var S=Math.cos(A)-Math.cos(0),I=Math.sin(A)-Math.sin(0),M=Math.sqrt(v*v/(S*S+I*I));x=Math.max(M,x)}T.r=x,x+=v}if(e.equidistant){for(var P=0,O=0,D=0;D<m.length;D++){var N=m[D].r-O;P=Math.max(P,N)}O=0;for(var L=0;L<m.length;L++){var R=m[L];0===L&&(O=R.r),R.r=O,O+=P}}for(var B={},F=0;F<m.length;F++)for(var j=m[F],$=j.dTheta,V=j.r,z=0;z<j.length;z++){var H=j[z],U=e.startAngle+(n?1:-1)*$*z,q={x:a.x+V*Math.cos(U),y:a.y+V*Math.sin(U)};B[H.node.id()]=q}return r.nodes().layoutPositions(this,e,(function(t){var e=t.id();return B[e]})),this};var gu={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,e){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function pu(t){this.options=Q({},gu,t),this.options.layout=this}pu.prototype.run=function(){var t=this.options,e=t.cy,n=this;n.stopped=!1,!0!==t.animate&&!1!==t.animate||n.emit({type:"layoutstart",layout:n}),hu=!0===t.debug;var i=bu(e,n,t);hu&&mu(i),t.randomize&&vu(i);var r=ie(),o=function(){ku(i,e,t),!0===t.fit&&e.fit(t.padding)},s=function(e){return!(n.stopped||e>=t.numIter||(xu(i,t),i.temperature=i.temperature*t.coolingFactor,i.temperature<t.minTemp))},a=function(){if(!0===t.animate||!1===t.animate)o(),n.one("layoutstop",t.stop),n.emit({type:"layoutstop",layout:n});else{var e=t.eles.nodes(),r=_u(i,t,e);e.layoutPositions(n,t,r)}},c=0,l=!0;if(!0===t.animate)!function e(){for(var n=0;l&&n<t.refresh;)l=s(c),c++,n++;l?(ie()-r>=t.animationThreshold&&o(),ne(e)):(Lu(i,t),a())}();else{for(;l;)l=s(c),c++;Lu(i,t),a()}return this},pu.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},pu.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var mu,bu=function(t,e,n){for(var i=n.eles.edges(),r=n.eles.nodes(),o={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:r.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:t.width(),clientHeight:t.width(),boundingBox:Sn(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()})},s=n.eles.components(),a={},c=0;c<s.length;c++)for(var l=s[c],u=0;u<l.length;u++)a[l[u].id()]=c;for(c=0;c<o.nodeSize;c++){var h=(m=r[c]).layoutDimensions(n);(D={}).isLocked=m.locked(),D.id=m.data("id"),D.parentId=m.data("parent"),D.cmptId=a[m.id()],D.children=[],D.positionX=m.position("x"),D.positionY=m.position("y"),D.offsetX=0,D.offsetY=0,D.height=h.w,D.width=h.h,D.maxX=D.positionX+D.width/2,D.minX=D.positionX-D.width/2,D.maxY=D.positionY+D.height/2,D.minY=D.positionY-D.height/2,D.padLeft=parseFloat(m.style("padding")),D.padRight=parseFloat(m.style("padding")),D.padTop=parseFloat(m.style("padding")),D.padBottom=parseFloat(m.style("padding")),D.nodeRepulsion=v(n.nodeRepulsion)?n.nodeRepulsion(m):n.nodeRepulsion,o.layoutNodes.push(D),o.idToIndex[D.id]=c}var d=[],f=0,g=-1,p=[];for(c=0;c<o.nodeSize;c++){var m,b=(m=o.layoutNodes[c]).parentId;null!=b?o.layoutNodes[o.idToIndex[b]].children.push(m.id):(d[++g]=m.id,p.push(m.id))}for(o.graphSet.push(p);f<=g;){var w=d[f++],y=o.idToIndex[w],_=o.layoutNodes[y].children;if(_.length>0)for(o.graphSet.push(_),c=0;c<_.length;c++)d[++g]=_[c]}for(c=0;c<o.graphSet.length;c++){var k=o.graphSet[c];for(u=0;u<k.length;u++){var x=o.idToIndex[k[u]];o.indexToGraph[x]=c}}for(c=0;c<o.edgeSize;c++){var E=i[c],T={};T.id=E.data("id"),T.sourceId=E.data("source"),T.targetId=E.data("target");var C=v(n.idealEdgeLength)?n.idealEdgeLength(E):n.idealEdgeLength,A=v(n.edgeElasticity)?n.edgeElasticity(E):n.edgeElasticity,S=o.idToIndex[T.sourceId],I=o.idToIndex[T.targetId];if(o.indexToGraph[S]!=o.indexToGraph[I]){for(var M=wu(T.sourceId,T.targetId,o),P=o.graphSet[M],O=0,D=o.layoutNodes[S];-1===P.indexOf(D.id);)D=o.layoutNodes[o.idToIndex[D.parentId]],O++;for(D=o.layoutNodes[I];-1===P.indexOf(D.id);)D=o.layoutNodes[o.idToIndex[D.parentId]],O++;C*=O*n.nestingFactor}T.idealLength=C,T.elasticity=A,o.layoutEdges.push(T)}return o},wu=function(t,e,n){var i=yu(t,e,0,n);return 2>i.count?0:i.graph},yu=function t(e,n,i,r){var o=r.graphSet[i];if(-1<o.indexOf(e)&&-1<o.indexOf(n))return{count:2,graph:i};for(var s=0,a=0;a<o.length;a++){var c=o[a],l=r.idToIndex[c],u=r.layoutNodes[l].children;if(0!==u.length){var h=t(e,n,r.indexToGraph[r.idToIndex[u[0]]],r);if(0!==h.count){if(1!==h.count)return h;if(2==++s)break}}}return{count:s,graph:i}},vu=function(t,e){for(var n=t.clientWidth,i=t.clientHeight,r=0;r<t.nodeSize;r++){var o=t.layoutNodes[r];0!==o.children.length||o.isLocked||(o.positionX=Math.random()*n,o.positionY=Math.random()*i)}},_u=function(t,e,n){var i=t.boundingBox,r={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return e.boundingBox&&(n.forEach((function(e){var n=t.layoutNodes[t.idToIndex[e.data("id")]];r.x1=Math.min(r.x1,n.positionX),r.x2=Math.max(r.x2,n.positionX),r.y1=Math.min(r.y1,n.positionY),r.y2=Math.max(r.y2,n.positionY)})),r.w=r.x2-r.x1,r.h=r.y2-r.y1),function(n,o){var s=t.layoutNodes[t.idToIndex[n.data("id")]];if(e.boundingBox){var a=(s.positionX-r.x1)/r.w,c=(s.positionY-r.y1)/r.h;return{x:i.x1+a*i.w,y:i.y1+c*i.h}}return{x:s.positionX,y:s.positionY}}},ku=function(t,e,n){var i=n.layout,r=n.eles.nodes(),o=_u(t,n,r);r.positions(o),!0!==t.ready&&(t.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},xu=function(t,e,n){Eu(t,e),Iu(t),Mu(t,e),Pu(t),Ou(t)},Eu=function(t,e){for(var n=0;n<t.graphSet.length;n++)for(var i=t.graphSet[n],r=i.length,o=0;o<r;o++)for(var s=t.layoutNodes[t.idToIndex[i[o]]],a=o+1;a<r;a++){var c=t.layoutNodes[t.idToIndex[i[a]]];Cu(s,c,t,e)}},Tu=function(t){return-t+2*t*Math.random()},Cu=function(t,e,n,i){if(t.cmptId===e.cmptId||n.isCompound){var r=e.positionX-t.positionX,o=e.positionY-t.positionY,s=1;0===r&&0===o&&(r=Tu(s),o=Tu(s));var a=Au(t,e,r,o);if(a>0)var c=(u=i.nodeOverlap*a)*r/(m=Math.sqrt(r*r+o*o)),l=u*o/m;else{var u,h=Su(t,r,o),d=Su(e,-1*r,-1*o),f=d.x-h.x,g=d.y-h.y,p=f*f+g*g,m=Math.sqrt(p);c=(u=(t.nodeRepulsion+e.nodeRepulsion)/p)*f/m,l=u*g/m}t.isLocked||(t.offsetX-=c,t.offsetY-=l),e.isLocked||(e.offsetX+=c,e.offsetY+=l)}},Au=function(t,e,n,i){if(n>0)var r=t.maxX-e.minX;else r=e.maxX-t.minX;if(i>0)var o=t.maxY-e.minY;else o=e.maxY-t.minY;return r>=0&&o>=0?Math.sqrt(r*r+o*o):0},Su=function(t,e,n){var i=t.positionX,r=t.positionY,o=t.height||1,s=t.width||1,a=n/e,c=o/s,l={};return 0===e&&0<n||0===e&&0>n?(l.x=i,l.y=r+o/2,l):0<e&&-1*c<=a&&a<=c?(l.x=i+s/2,l.y=r+s*n/2/e,l):0>e&&-1*c<=a&&a<=c?(l.x=i-s/2,l.y=r-s*n/2/e,l):0<n&&(a<=-1*c||a>=c)?(l.x=i+o*e/2/n,l.y=r+o/2,l):0>n&&(a<=-1*c||a>=c)?(l.x=i-o*e/2/n,l.y=r-o/2,l):l},Iu=function(t,e){for(var n=0;n<t.edgeSize;n++){var i=t.layoutEdges[n],r=t.idToIndex[i.sourceId],o=t.layoutNodes[r],s=t.idToIndex[i.targetId],a=t.layoutNodes[s],c=a.positionX-o.positionX,l=a.positionY-o.positionY;if(0!==c||0!==l){var u=Su(o,c,l),h=Su(a,-1*c,-1*l),d=h.x-u.x,f=h.y-u.y,g=Math.sqrt(d*d+f*f),p=Math.pow(i.idealLength-g,2)/i.elasticity;if(0!==g)var m=p*d/g,b=p*f/g;else m=0,b=0;o.isLocked||(o.offsetX+=m,o.offsetY+=b),a.isLocked||(a.offsetX-=m,a.offsetY-=b)}}},Mu=function(t,e){if(0!==e.gravity)for(var n=1,i=0;i<t.graphSet.length;i++){var r=t.graphSet[i],o=r.length;if(0===i)var s=t.clientHeight/2,a=t.clientWidth/2;else{var c=t.layoutNodes[t.idToIndex[r[0]]],l=t.layoutNodes[t.idToIndex[c.parentId]];s=l.positionX,a=l.positionY}for(var u=0;u<o;u++){var h=t.layoutNodes[t.idToIndex[r[u]]];if(!h.isLocked){var d=s-h.positionX,f=a-h.positionY,g=Math.sqrt(d*d+f*f);if(g>n){var p=e.gravity*d/g,m=e.gravity*f/g;h.offsetX+=p,h.offsetY+=m}}}}},Pu=function(t,e){var n=[],i=0,r=-1;for(n.push.apply(n,t.graphSet[0]),r+=t.graphSet[0].length;i<=r;){var o=n[i++],s=t.idToIndex[o],a=t.layoutNodes[s],c=a.children;if(0<c.length&&!a.isLocked){for(var l=a.offsetX,u=a.offsetY,h=0;h<c.length;h++){var d=t.layoutNodes[t.idToIndex[c[h]]];d.offsetX+=l,d.offsetY+=u,n[++r]=c[h]}a.offsetX=0,a.offsetY=0}}},Ou=function(t,e){for(var n=0;n<t.nodeSize;n++)0<(r=t.layoutNodes[n]).children.length&&(r.maxX=void 0,r.minX=void 0,r.maxY=void 0,r.minY=void 0);for(n=0;n<t.nodeSize;n++)if(!(0<(r=t.layoutNodes[n]).children.length||r.isLocked)){var i=Du(r.offsetX,r.offsetY,t.temperature);r.positionX+=i.x,r.positionY+=i.y,r.offsetX=0,r.offsetY=0,r.minX=r.positionX-r.width,r.maxX=r.positionX+r.width,r.minY=r.positionY-r.height,r.maxY=r.positionY+r.height,Nu(r,t)}for(n=0;n<t.nodeSize;n++){var r;0<(r=t.layoutNodes[n]).children.length&&!r.isLocked&&(r.positionX=(r.maxX+r.minX)/2,r.positionY=(r.maxY+r.minY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY)}},Du=function(t,e,n){var i=Math.sqrt(t*t+e*e);if(i>n)var r={x:n*t/i,y:n*e/i};else r={x:t,y:e};return r},Nu=function t(e,n){var i=e.parentId;if(null!=i){var r=n.layoutNodes[n.idToIndex[i]],o=!1;return(null==r.maxX||e.maxX+r.padRight>r.maxX)&&(r.maxX=e.maxX+r.padRight,o=!0),(null==r.minX||e.minX-r.padLeft<r.minX)&&(r.minX=e.minX-r.padLeft,o=!0),(null==r.maxY||e.maxY+r.padBottom>r.maxY)&&(r.maxY=e.maxY+r.padBottom,o=!0),(null==r.minY||e.minY-r.padTop<r.minY)&&(r.minY=e.minY-r.padTop,o=!0),o?t(r,n):void 0}},Lu=function(t,e){for(var n=t.layoutNodes,i=[],r=0;r<n.length;r++){var o=n[r],s=o.cmptId;(i[s]=i[s]||[]).push(o)}var a=0;for(r=0;r<i.length;r++)if(p=i[r]){p.x1=1/0,p.x2=-1/0,p.y1=1/0,p.y2=-1/0;for(var c=0;c<p.length;c++){var l=p[c];p.x1=Math.min(p.x1,l.positionX-l.width/2),p.x2=Math.max(p.x2,l.positionX+l.width/2),p.y1=Math.min(p.y1,l.positionY-l.height/2),p.y2=Math.max(p.y2,l.positionY+l.height/2)}p.w=p.x2-p.x1,p.h=p.y2-p.y1,a+=p.w*p.h}i.sort((function(t,e){return e.w*e.h-t.w*t.h}));var u=0,h=0,d=0,f=0,g=Math.sqrt(a)*t.clientWidth/t.clientHeight;for(r=0;r<i.length;r++){var p;if(p=i[r]){for(c=0;c<p.length;c++)(l=p[c]).isLocked||(l.positionX+=u-p.x1,l.positionY+=h-p.y1);u+=p.w+e.componentSpacing,d+=p.w+e.componentSpacing,f=Math.max(f,p.h),d>g&&(h+=f+e.componentSpacing,u=0,d=0,f=0)}}},Ru={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Bu(t){this.options=Q({},Ru,t)}Bu.prototype.run=function(){var t=this.options,e=t,n=t.cy,i=e.eles,r=i.nodes().not(":parent");e.sort&&(r=r.sort(e.sort));var o=Sn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===o.h||0===o.w)i.nodes().layoutPositions(this,e,(function(t){return{x:o.x1,y:o.y1}}));else{var s=r.size(),a=Math.sqrt(s*o.h/o.w),c=Math.round(a),l=Math.round(o.w/o.h*a),u=function(t){if(null==t)return Math.min(c,l);Math.min(c,l)==c?c=t:l=t},h=function(t){if(null==t)return Math.max(c,l);Math.max(c,l)==c?c=t:l=t},d=e.rows,f=null!=e.cols?e.cols:e.columns;if(null!=d&&null!=f)c=d,l=f;else if(null!=d&&null==f)c=d,l=Math.ceil(s/c);else if(null==d&&null!=f)l=f,c=Math.ceil(s/l);else if(l*c>s){var g=u(),p=h();(g-1)*p>=s?u(g-1):(p-1)*g>=s&&h(p-1)}else for(;l*c<s;){var m=u(),b=h();(b+1)*m>=s?h(b+1):u(m+1)}var w=o.w/l,y=o.h/c;if(e.condense&&(w=0,y=0),e.avoidOverlap)for(var v=0;v<r.length;v++){var _=r[v],k=_._private.position;null!=k.x&&null!=k.y||(k.x=0,k.y=0);var x=_.layoutDimensions(e),E=e.avoidOverlapPadding,T=x.w+E,C=x.h+E;w=Math.max(w,T),y=Math.max(y,C)}for(var A={},S=function(t,e){return!!A["c-"+t+"-"+e]},I=function(t,e){A["c-"+t+"-"+e]=!0},M=0,P=0,O=function(){++P>=l&&(P=0,M++)},D={},N=0;N<r.length;N++){var L=r[N],R=e.position(L);if(R&&(void 0!==R.row||void 0!==R.col)){var B={row:R.row,col:R.col};if(void 0===B.col)for(B.col=0;S(B.row,B.col);)B.col++;else if(void 0===B.row)for(B.row=0;S(B.row,B.col);)B.row++;D[L.id()]=B,I(B.row,B.col)}}var F=function(t,e){var n,i;if(t.locked()||t.isParent())return!1;var r=D[t.id()];if(r)n=r.col*w+w/2+o.x1,i=r.row*y+y/2+o.y1;else{for(;S(M,P);)O();n=P*w+w/2+o.x1,i=M*y+y/2+o.y1,I(M,P),O()}return{x:n,y:i}};r.layoutPositions(this,e,F)}return this};var Fu={ready:function(){},stop:function(){}};function ju(t){this.options=Q({},Fu,t)}ju.prototype.run=function(){var t=this.options,e=t.eles,n=this;return t.cy,n.emit("layoutstart"),e.nodes().positions((function(){return{x:0,y:0}})),n.one("layoutready",t.ready),n.emit("layoutready"),n.one("layoutstop",t.stop),n.emit("layoutstop"),this},ju.prototype.stop=function(){return this};var $u={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Vu(t){this.options=Q({},$u,t)}Vu.prototype.run=function(){var t=this.options,e=t.eles.nodes(),n=v(t.positions);function i(e){if(null==t.positions)return ln(e.position());if(n)return t.positions(e);var i=t.positions[e._private.data.id];return null==i?null:i}return e.layoutPositions(this,t,(function(t,e){var n=i(t);return!t.locked()&&null!=n&&n})),this};var zu={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Hu(t){this.options=Q({},zu,t)}Hu.prototype.run=function(){var t=this.options,e=t.cy,n=t.eles,i=Sn(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),r=function(t,e){return{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}};return n.nodes().layoutPositions(this,t,r),this};var Uu=[{name:"breadthfirst",impl:cu},{name:"circle",impl:uu},{name:"concentric",impl:fu},{name:"cose",impl:pu},{name:"grid",impl:Bu},{name:"null",impl:ju},{name:"preset",impl:Vu},{name:"random",impl:Hu}];function qu(t){this.options=t,this.notifications=0}var Wu=function(){},Gu=function(){throw new Error("A headless instance can not render images")};qu.prototype={recalculateRenderedStyle:Wu,notify:function(){this.notifications++},init:Wu,isHeadless:function(){return!0},png:Gu,jpg:Gu};var Ku={arrowShapeWidth:.3,registerArrowShapes:function(){var t=this.arrowShapes={},e=this,n=function(t,e,n,i,r,o,s){var a=r.x-n/2-s,c=r.x+n/2+s,l=r.y-n/2-s,u=r.y+n/2+s;return a<=t&&t<=c&&l<=e&&e<=u},i=function(t,e,n,i,r){var o=t*Math.cos(i)-e*Math.sin(i),s=(t*Math.sin(i)+e*Math.cos(i))*n;return{x:o*n+r.x,y:s+r.y}},r=function(t,e,n,r){for(var o=[],s=0;s<t.length;s+=2){var a=t[s],c=t[s+1];o.push(i(a,c,e,n,r))}return o},o=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];e.push(i.x,i.y)}return e},s=function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").pfValue*2},a=function(i,a){y(a)&&(a=t[a]),t[i]=Q({name:i,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(t,e,n,i,s,a){var c=o(r(this.points,n+2*a,i,s));return Gn(t,e,c)},roughCollide:n,draw:function(t,n,i,o){var s=r(this.points,n,i,o);e.arrowShapeImpl("polygon")(t,s)},spacing:function(t){return 0},gap:s},a)};a("none",{collide:ke,roughCollide:ke,draw:Ee,spacing:xe,gap:xe}),a("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),a("arrow","triangle"),a("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(t,n,o,s,a){var c=r(this.points,n,o,s),l=this.controlPoint,u=i(l[0],l[1],n,o,s);e.arrowShapeImpl(this.name)(t,c,u)},gap:function(t){return.8*s(t)}}),a("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(t,e,n,i,s,a,c){var l=o(r(this.points,n+2*c,i,s)),u=o(r(this.pointsTee,n+2*c,i,s));return Gn(t,e,l)||Gn(t,e,u)},draw:function(t,n,i,o,s){var a=r(this.points,n,i,o),c=r(this.pointsTee,n,i,o);e.arrowShapeImpl(this.name)(t,a,c)}}),a("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(t,e,n,i,s,a,c){var l=s,u=Math.pow(l.x-t,2)+Math.pow(l.y-e,2)<=Math.pow((n+2*c)*this.radius,2),h=o(r(this.points,n+2*c,i,s));return Gn(t,e,h)||u},draw:function(t,n,i,o,s){var a=r(this.pointsTr,n,i,o);e.arrowShapeImpl(this.name)(t,a,o.x,o.y,this.radius*n)},spacing:function(t){return e.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.radius}}),a("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(t,e){var n=this.baseCrossLinePts.slice(),i=e/t,r=3,o=5;return n[r]=n[r]-i,n[o]=n[o]-i,n},collide:function(t,e,n,i,s,a,c){var l=o(r(this.points,n+2*c,i,s)),u=o(r(this.crossLinePts(n,a),n+2*c,i,s));return Gn(t,e,l)||Gn(t,e,u)},draw:function(t,n,i,o,s){var a=r(this.points,n,i,o),c=r(this.crossLinePts(n,s),n,i,o);e.arrowShapeImpl(this.name)(t,a,c)}}),a("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(t){return.525*s(t)}}),a("circle",{radius:.15,collide:function(t,e,n,i,r,o,s){var a=r;return Math.pow(a.x-t,2)+Math.pow(a.y-e,2)<=Math.pow((n+2*s)*this.radius,2)},draw:function(t,n,i,r,o){e.arrowShapeImpl(this.name)(t,r.x,r.y,this.radius*n)},spacing:function(t){return e.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.radius}}),a("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(t){return 1},gap:function(t){return 1}}),a("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),a("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}}),a("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(t){return.95*t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}})}},Yu={projectIntoViewport:function(t,e){var n=this.cy,i=this.findContainerClientCoords(),r=i[0],o=i[1],s=i[4],a=n.pan(),c=n.zoom();return[((t-r)/s-a.x)/c,((e-o)/s-a.y)/c]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),n=d.getComputedStyle(t),i=function(t){return parseFloat(n.getPropertyValue(t))},r={left:i("padding-left"),right:i("padding-right"),top:i("padding-top"),bottom:i("padding-bottom")},o={left:i("border-left-width"),right:i("border-right-width"),top:i("border-top-width"),bottom:i("border-bottom-width")},s=t.clientWidth,a=t.clientHeight,c=r.left+r.right,l=r.top+r.bottom,u=o.left+o.right,h=e.width/(s+u),f=s-c,g=a-l,p=e.left+r.left+o.left,m=e.top+r.top+o.top;return this.containerBB=[p,m,f,g,h]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(t,e,n,i){return this.findNearestElements(t,e,n,i)[0]},findNearestElements:function(t,e,n,i){var r,o,s=this,a=this,c=a.getCachedZSortedEles(),l=[],u=a.cy.zoom(),h=a.cy.hasCompoundNodes(),d=(i?24:8)/u,f=(i?8:2)/u,g=(i?8:2)/u,p=1/0;function m(t,e){if(t.isNode()){if(o)return;o=t,l.push(t)}if(t.isEdge()&&(null==e||e<p))if(r){if(r.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value&&r.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value)for(var n=0;n<l.length;n++)if(l[n].isEdge()){l[n]=t,r=t,p=null!=e?e:p;break}}else l.push(t),r=t,p=null!=e?e:p}function b(n){var i=n.outerWidth()+2*f,r=n.outerHeight()+2*f,o=i/2,c=r/2,l=n.position();if(l.x-o<=t&&t<=l.x+o&&l.y-c<=e&&e<=l.y+c&&a.nodeShapes[s.getNodeShape(n)].checkPoint(t,e,0,i,r,l.x,l.y))return m(n,0),!0}function w(n){var i,r=n._private,o=r.rscratch,c=n.pstyle("width").pfValue,u=n.pstyle("arrow-scale").value,f=c/2+d,g=f*f,p=2*f,w=r.source,y=r.target;if("segments"===o.edgeType||"straight"===o.edgeType||"haystack"===o.edgeType){for(var v=o.allpts,_=0;_+3<v.length;_+=2)if(Vn(t,e,v[_],v[_+1],v[_+2],v[_+3],p)&&g>(i=Wn(t,e,v[_],v[_+1],v[_+2],v[_+3])))return m(n,i),!0}else if("bezier"===o.edgeType||"multibezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType)for(v=o.allpts,_=0;_+5<o.allpts.length;_+=4)if(zn(t,e,v[_],v[_+1],v[_+2],v[_+3],v[_+4],v[_+5],p)&&g>(i=qn(t,e,v[_],v[_+1],v[_+2],v[_+3],v[_+4],v[_+5])))return m(n,i),!0;w=w||r.source,y=y||r.target;var k=s.getArrowWidth(c,u),x=[{name:"source",x:o.arrowStartX,y:o.arrowStartY,angle:o.srcArrowAngle},{name:"target",x:o.arrowEndX,y:o.arrowEndY,angle:o.tgtArrowAngle},{name:"mid-source",x:o.midX,y:o.midY,angle:o.midsrcArrowAngle},{name:"mid-target",x:o.midX,y:o.midY,angle:o.midtgtArrowAngle}];for(_=0;_<x.length;_++){var E=x[_],T=a.arrowShapes[n.pstyle(E.name+"-arrow-shape").value],C=n.pstyle("width").pfValue;if(T.roughCollide(t,e,k,E.angle,{x:E.x,y:E.y},C,d)&&T.collide(t,e,k,E.angle,{x:E.x,y:E.y},C,d))return m(n),!0}h&&l.length>0&&(b(w),b(y))}function y(t,e,n){return Fe(t,e,n)}function v(n,i){var r,o=n._private,s=g;r=i?i+"-":"",n.boundingBox();var a=o.labelBounds[i||"main"],c=n.pstyle(r+"label").value;if("yes"===n.pstyle("text-events").strValue&&c){var l=y(o.rscratch,"labelX",i),u=y(o.rscratch,"labelY",i),h=y(o.rscratch,"labelAngle",i),d=n.pstyle(r+"text-margin-x").pfValue,f=n.pstyle(r+"text-margin-y").pfValue,p=a.x1-s-d,b=a.x2+s-d,w=a.y1-s-f,v=a.y2+s-f;if(h){var _=Math.cos(h),k=Math.sin(h),x=function(t,e){return{x:(t-=l)*_-(e-=u)*k+l,y:t*k+e*_+u}},E=x(p,w),T=x(p,v),C=x(b,w),A=x(b,v),S=[E.x+d,E.y+f,C.x+d,C.y+f,A.x+d,A.y+f,T.x+d,T.y+f];if(Gn(t,e,S))return m(n),!0}else if(Bn(a,t,e))return m(n),!0}}n&&(c=c.interactive);for(var _=c.length-1;_>=0;_--){var k=c[_];k.isNode()?b(k)||v(k):w(k)||v(k)||v(k,"source")||v(k,"target")}return l},getAllInBox:function(t,e,n,i){for(var r=this.getCachedZSortedEles().interactive,o=[],s=Math.min(t,n),a=Math.max(t,n),c=Math.min(e,i),l=Math.max(e,i),u=Sn({x1:t=s,y1:e=c,x2:n=a,y2:i=l}),h=0;h<r.length;h++){var d=r[h];if(d.isNode()){var f=d,g=f.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Rn(u,g)&&!jn(g,u)&&o.push(f)}else{var p=d,m=p._private,b=m.rscratch;if(null!=b.startX&&null!=b.startY&&!Bn(u,b.startX,b.startY))continue;if(null!=b.endX&&null!=b.endY&&!Bn(u,b.endX,b.endY))continue;if("bezier"===b.edgeType||"multibezier"===b.edgeType||"self"===b.edgeType||"compound"===b.edgeType||"segments"===b.edgeType||"haystack"===b.edgeType){for(var w=m.rstyle.bezierPts||m.rstyle.linePts||m.rstyle.haystackPts,y=!0,v=0;v<w.length;v++)if(!Fn(u,w[v])){y=!1;break}y&&o.push(p)}else"haystack"!==b.edgeType&&"straight"!==b.edgeType||o.push(p)}}return o}},Xu={calculateArrowAngles:function(t){var e,n,i,r,o,s,a=t._private.rscratch,c="haystack"===a.edgeType,l="bezier"===a.edgeType,u="multibezier"===a.edgeType,h="segments"===a.edgeType,d="compound"===a.edgeType,f="self"===a.edgeType;if(c?(i=a.haystackPts[0],r=a.haystackPts[1],o=a.haystackPts[2],s=a.haystackPts[3]):(i=a.arrowStartX,r=a.arrowStartY,o=a.arrowEndX,s=a.arrowEndY),p=a.midX,m=a.midY,h)e=i-a.segpts[0],n=r-a.segpts[1];else if(u||d||f||l){var g=a.allpts;e=i-En(g[0],g[2],g[4],.1),n=r-En(g[1],g[3],g[5],.1)}else e=i-p,n=r-m;a.srcArrowAngle=wn(e,n);var p=a.midX,m=a.midY;if(c&&(p=(i+o)/2,m=(r+s)/2),e=o-i,n=s-r,h)if((g=a.allpts).length/2%2==0){var b=(w=g.length/2)-2;e=g[w]-g[b],n=g[w+1]-g[b+1]}else{b=(w=g.length/2-1)-2;var w,y=w+2;e=g[w]-g[b],n=g[w+1]-g[b+1]}else if(u||d||f){var v,_,k,x,g=a.allpts;if(a.ctrlpts.length/2%2==0){var E=2+(T=2+(C=g.length/2-1));v=En(g[C],g[T],g[E],0),_=En(g[C+1],g[T+1],g[E+1],0),k=En(g[C],g[T],g[E],1e-4),x=En(g[C+1],g[T+1],g[E+1],1e-4)}else{var T,C;E=2+(T=g.length/2-1),v=En(g[C=T-2],g[T],g[E],.4999),_=En(g[C+1],g[T+1],g[E+1],.4999),k=En(g[C],g[T],g[E],.5),x=En(g[C+1],g[T+1],g[E+1],.5)}e=k-v,n=x-_}if(a.midtgtArrowAngle=wn(e,n),a.midDispX=e,a.midDispY=n,e*=-1,n*=-1,h&&((g=a.allpts).length/2%2==0||(e=-(g[y=2+(w=g.length/2-1)]-g[w]),n=-(g[y+1]-g[w+1]))),a.midsrcArrowAngle=wn(e,n),h)e=o-a.segpts[a.segpts.length-2],n=s-a.segpts[a.segpts.length-1];else if(u||d||f||l){var A=(g=a.allpts).length;e=o-En(g[A-6],g[A-4],g[A-2],.9),n=s-En(g[A-5],g[A-3],g[A-1],.9)}else e=o-p,n=s-m;a.tgtArrowAngle=wn(e,n)}};Xu.getArrowWidth=Xu.getArrowHeight=function(t,e){var n=this.arrowWidthCache=this.arrowWidthCache||{},i=n[t+", "+e];return i||(i=Math.max(Math.pow(13.37*t,.9),29)*e,n[t+", "+e]=i,i)};var Zu={};function Qu(t){var e=[];if(null!=t){for(var n=0;n<t.length;n+=2){var i=t[n],r=t[n+1];e.push({x:i,y:r})}return e}}Zu.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var n=t[e],i=n._private,r=i.rscratch;if(!r.haystack){var o=2*Math.random()*Math.PI;r.source={x:Math.cos(o),y:Math.sin(o)},o=2*Math.random()*Math.PI,r.target={x:Math.cos(o),y:Math.sin(o)}}var s=i.source,a=i.target,c=s.position(),l=a.position(),u=s.width(),h=a.width(),d=s.height(),f=a.height(),g=n.pstyle("haystack-radius").value/2;r.haystackPts=r.allpts=[r.source.x*u*g+c.x,r.source.y*d*g+c.y,r.target.x*h*g+l.x,r.target.y*f*g+l.y],r.midX=(r.allpts[0]+r.allpts[2])/2,r.midY=(r.allpts[1]+r.allpts[3])/2,r.edgeType="haystack",r.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},Zu.findSegmentsPoints=function(t,e){var n=t._private.rscratch,i=e.posPts,r=e.intersectionPts,o=e.vectorNormInverse,s=t.pstyle("edge-distances").value,a=t.pstyle("segment-weights"),c=t.pstyle("segment-distances"),l=Math.min(a.pfValue.length,c.pfValue.length);n.edgeType="segments",n.segpts=[];for(var u=0;u<l;u++){var h=a.pfValue[u],d=c.pfValue[u],f=1-h,g=h,p="node-position"===s?i:r,m={x:p.x1*f+p.x2*g,y:p.y1*f+p.y2*g};n.segpts.push(m.x+o.x*d,m.y+o.y*d)}},Zu.findLoopPoints=function(t,e,n,i){var r=t._private.rscratch,o=e.dirCounts,s=e.srcPos,a=t.pstyle("control-point-distances"),c=a?a.pfValue[0]:void 0,l=t.pstyle("loop-direction").pfValue,u=t.pstyle("loop-sweep").pfValue,h=t.pstyle("control-point-step-size").pfValue;r.edgeType="self";var d=n,f=h;i&&(d=0,f=c);var g=l-Math.PI/2,p=g-u/2,m=g+u/2,b=String(l+"_"+u);d=void 0===o[b]?o[b]=0:++o[b],r.ctrlpts=[s.x+1.4*Math.cos(p)*f*(d/3+1),s.y+1.4*Math.sin(p)*f*(d/3+1),s.x+1.4*Math.cos(m)*f*(d/3+1),s.y+1.4*Math.sin(m)*f*(d/3+1)]},Zu.findCompoundLoopPoints=function(t,e,n,i){var r=t._private.rscratch;r.edgeType="compound";var o=e.srcPos,s=e.tgtPos,a=e.srcW,c=e.srcH,l=e.tgtW,u=e.tgtH,h=t.pstyle("control-point-step-size").pfValue,d=t.pstyle("control-point-distances"),f=d?d.pfValue[0]:void 0,g=n,p=h;i&&(g=0,p=f);var m=50,b={x:o.x-a/2,y:o.y-c/2},w={x:s.x-l/2,y:s.y-u/2},y={x:Math.min(b.x,w.x),y:Math.min(b.y,w.y)},v=.5,_=Math.max(v,Math.log(.01*a)),k=Math.max(v,Math.log(.01*l));r.ctrlpts=[y.x,y.y-(1+Math.pow(m,1.12)/100)*p*(g/3+1)*_,y.x-(1+Math.pow(m,1.12)/100)*p*(g/3+1)*k,y.y]},Zu.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"},Zu.findBezierPoints=function(t,e,n,i,r){var o=t._private.rscratch,s=e.vectorNormInverse,a=e.posPts,c=e.intersectionPts,l=t.pstyle("edge-distances").value,u=t.pstyle("control-point-step-size").pfValue,h=t.pstyle("control-point-distances"),d=t.pstyle("control-point-weights"),f=h&&d?Math.min(h.value.length,d.value.length):1,g=h?h.pfValue[0]:void 0,p=d.value[0],m=i;o.edgeType=m?"multibezier":"bezier",o.ctrlpts=[];for(var b=0;b<f;b++){var w=(.5-e.eles.length/2+n)*u*(r?-1:1),y=void 0,v=vn(w);m&&(g=h?h.pfValue[b]:u,p=d.value[b]);var _=void 0!==(y=i?g:void 0!==g?v*g:void 0)?y:w,k=1-p,x=p,E="node-position"===l?a:c,T={x:E.x1*k+E.x2*x,y:E.y1*k+E.y2*x};o.ctrlpts.push(T.x+s.x*_,T.y+s.y*_)}},Zu.findTaxiPoints=function(t,e){var n=t._private.rscratch;n.edgeType="segments";var i="vertical",r="horizontal",o="leftward",s="rightward",a="downward",c="upward",l="auto",u=e.posPts,h=e.srcW,d=e.srcH,f=e.tgtW,g=e.tgtH,p="node-position"!==t.pstyle("edge-distances").value,m=t.pstyle("taxi-direction").value,b=m,w=t.pstyle("taxi-turn"),y="%"===w.units,v=w.pfValue,_=v<0,k=t.pstyle("taxi-turn-min-distance").pfValue,x=p?(h+f)/2:0,E=p?(d+g)/2:0,T=u.x2-u.x1,C=u.y2-u.y1,A=function(t,e){return t>0?Math.max(t-e,0):Math.min(t+e,0)},S=A(T,x),I=A(C,E),M=!1;b===l?m=Math.abs(S)>Math.abs(I)?r:i:b===c||b===a?(m=i,M=!0):b!==o&&b!==s||(m=r,M=!0);var P,O=m===i,D=O?I:S,N=O?C:T,L=vn(N),R=!1;M&&(y||_)||!(b===a&&N<0||b===c&&N>0||b===o&&N>0||b===s&&N<0)||(D=(L*=-1)*Math.abs(D),R=!0);var B=function(t){return Math.abs(t)<k||Math.abs(t)>=Math.abs(D)},F=B(P=y?(v<0?1+v:v)*D:(v<0?D:0)+v*L),j=B(Math.abs(D)-Math.abs(P));if(!F&&!j||R)if(O){var $=u.y1+P+(p?d/2*L:0),V=u.x1,z=u.x2;n.segpts=[V,$,z,$]}else{var H=u.x1+P+(p?h/2*L:0),U=u.y1,q=u.y2;n.segpts=[H,U,H,q]}else if(O){var W=Math.abs(N)<=d/2,G=Math.abs(T)<=f/2;if(W){var K=(u.x1+u.x2)/2,Y=u.y1,X=u.y2;n.segpts=[K,Y,K,X]}else if(G){var Z=(u.y1+u.y2)/2,Q=u.x1,J=u.x2;n.segpts=[Q,Z,J,Z]}else n.segpts=[u.x1,u.y2]}else{var tt=Math.abs(N)<=h/2,et=Math.abs(C)<=g/2;if(tt){var nt=(u.y1+u.y2)/2,it=u.x1,rt=u.x2;n.segpts=[it,nt,rt,nt]}else if(et){var ot=(u.x1+u.x2)/2,st=u.y1,at=u.y2;n.segpts=[ot,st,ot,at]}else n.segpts=[u.x2,u.y1]}},Zu.tryToCorrectInvalidPoints=function(t,e){var n=t._private.rscratch;if("bezier"===n.edgeType){var i=e.srcPos,r=e.tgtPos,o=e.srcW,s=e.srcH,a=e.tgtW,c=e.tgtH,l=e.srcShape,u=e.tgtShape,h=!E(n.startX)||!E(n.startY),d=!E(n.arrowStartX)||!E(n.arrowStartY),f=!E(n.endX)||!E(n.endY),g=!E(n.arrowEndX)||!E(n.arrowEndY),p=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,m=_n({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),b=m<p,w=_n({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),y=w<p,v=!1;if(h||d||b){v=!0;var _={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},k=Math.sqrt(_.x*_.x+_.y*_.y),x={x:_.x/k,y:_.y/k},T=Math.max(o,s),C={x:n.ctrlpts[0]+2*x.x*T,y:n.ctrlpts[1]+2*x.y*T},A=l.intersectLine(i.x,i.y,o,s,C.x,C.y,0);b?(n.ctrlpts[0]=n.ctrlpts[0]+x.x*(p-m),n.ctrlpts[1]=n.ctrlpts[1]+x.y*(p-m)):(n.ctrlpts[0]=A[0]+x.x*p,n.ctrlpts[1]=A[1]+x.y*p)}if(f||g||y){v=!0;var S={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},I=Math.sqrt(S.x*S.x+S.y*S.y),M={x:S.x/I,y:S.y/I},P=Math.max(o,s),O={x:n.ctrlpts[0]+2*M.x*P,y:n.ctrlpts[1]+2*M.y*P},D=u.intersectLine(r.x,r.y,a,c,O.x,O.y,0);y?(n.ctrlpts[0]=n.ctrlpts[0]+M.x*(p-w),n.ctrlpts[1]=n.ctrlpts[1]+M.y*(p-w)):(n.ctrlpts[0]=D[0]+M.x*p,n.ctrlpts[1]=D[1]+M.y*p)}v&&this.findEndpoints(t)}},Zu.storeAllpts=function(t){var e=t._private.rscratch;if("multibezier"===e.edgeType||"bezier"===e.edgeType||"self"===e.edgeType||"compound"===e.edgeType){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var n=0;n+1<e.ctrlpts.length;n+=2)e.allpts.push(e.ctrlpts[n],e.ctrlpts[n+1]),n+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[n]+e.ctrlpts[n+2])/2,(e.ctrlpts[n+1]+e.ctrlpts[n+3])/2);var i,r;e.allpts.push(e.endX,e.endY),e.ctrlpts.length/2%2==0?(i=e.allpts.length/2-1,e.midX=e.allpts[i],e.midY=e.allpts[i+1]):(i=e.allpts.length/2-3,r=.5,e.midX=En(e.allpts[i],e.allpts[i+2],e.allpts[i+4],r),e.midY=En(e.allpts[i+1],e.allpts[i+3],e.allpts[i+5],r))}else if("straight"===e.edgeType)e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if("segments"===e.edgeType)if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.segpts.length%4==0){var o=e.segpts.length/2,s=o-2;e.midX=(e.segpts[s]+e.segpts[o])/2,e.midY=(e.segpts[s+1]+e.segpts[o+1])/2}else{var a=e.segpts.length/2-1;e.midX=e.segpts[a],e.midY=e.segpts[a+1]}},Zu.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||E(e.startX)&&E(e.startY)&&E(e.endX)&&E(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Ae("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},Zu.findEdgeControlPoints=function(t){var e=this;if(t&&0!==t.length){for(var n=this,i=n.cy.hasCompoundNodes(),r={map:new $e,get:function(t){var e=this.map.get(t[0]);return null!=e?e.get(t[1]):null},set:function(t,e){var n=this.map.get(t[0]);null==n&&(n=new $e,this.map.set(t[0],n)),n.set(t[1],e)}},o=[],s=[],a=0;a<t.length;a++){var c=t[a],l=c._private,u=c.pstyle("curve-style").value;if(!c.removed()&&c.takesUpSpace())if("haystack"!==u){var h="unbundled-bezier"===u||"segments"===u||"straight"===u||"straight-triangle"===u||"taxi"===u,d="unbundled-bezier"===u||"bezier"===u,f=l.source,g=l.target,p=[f.poolIndex(),g.poolIndex()].sort(),m=r.get(p);null==m&&(m={eles:[]},r.set(p,m),o.push(p)),m.eles.push(c),h&&(m.hasUnbundled=!0),d&&(m.hasBezier=!0)}else s.push(c)}for(var b=function(t){var s=o[t],a=r.get(s),c=void 0;if(!a.hasUnbundled){var l=a.eles[0].parallelEdges().filter((function(t){return t.isBundledBezier()}));Re(a.eles),l.forEach((function(t){return a.eles.push(t)})),a.eles.sort((function(t,e){return t.poolIndex()-e.poolIndex()}))}var u=a.eles[0],h=u.source(),d=u.target();if(h.poolIndex()>d.poolIndex()){var f=h;h=d,d=f}var g=a.srcPos=h.position(),p=a.tgtPos=d.position(),m=a.srcW=h.outerWidth(),b=a.srcH=h.outerHeight(),w=a.tgtW=d.outerWidth(),y=a.tgtH=d.outerHeight(),v=a.srcShape=n.nodeShapes[e.getNodeShape(h)],_=a.tgtShape=n.nodeShapes[e.getNodeShape(d)];a.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var k=0;k<a.eles.length;k++){var x=a.eles[k],T=x[0]._private.rscratch,C=x.pstyle("curve-style").value,A="unbundled-bezier"===C||"segments"===C||"taxi"===C,S=!h.same(x.source());if(!a.calculatedIntersection&&h!==d&&(a.hasBezier||a.hasUnbundled)){a.calculatedIntersection=!0;var I=v.intersectLine(g.x,g.y,m,b,p.x,p.y,0),M=a.srcIntn=I,P=_.intersectLine(p.x,p.y,w,y,g.x,g.y,0),O=a.tgtIntn=P,D=a.intersectionPts={x1:I[0],x2:P[0],y1:I[1],y2:P[1]},N=a.posPts={x1:g.x,x2:p.x,y1:g.y,y2:p.y},L=P[1]-I[1],R=P[0]-I[0],B=Math.sqrt(R*R+L*L),F=a.vector={x:R,y:L},j=a.vectorNorm={x:F.x/B,y:F.y/B},$={x:-j.y,y:j.x};a.nodesOverlap=!E(B)||_.checkPoint(I[0],I[1],0,w,y,p.x,p.y)||v.checkPoint(P[0],P[1],0,m,b,g.x,g.y),a.vectorNormInverse=$,c={nodesOverlap:a.nodesOverlap,dirCounts:a.dirCounts,calculatedIntersection:!0,hasBezier:a.hasBezier,hasUnbundled:a.hasUnbundled,eles:a.eles,srcPos:p,tgtPos:g,srcW:w,srcH:y,tgtW:m,tgtH:b,srcIntn:O,tgtIntn:M,srcShape:_,tgtShape:v,posPts:{x1:N.x2,y1:N.y2,x2:N.x1,y2:N.y1},intersectionPts:{x1:D.x2,y1:D.y2,x2:D.x1,y2:D.y1},vector:{x:-F.x,y:-F.y},vectorNorm:{x:-j.x,y:-j.y},vectorNormInverse:{x:-$.x,y:-$.y}}}var V=S?c:a;T.nodesOverlap=V.nodesOverlap,T.srcIntn=V.srcIntn,T.tgtIntn=V.tgtIntn,i&&(h.isParent()||h.isChild()||d.isParent()||d.isChild())&&(h.parents().anySame(d)||d.parents().anySame(h)||h.same(d)&&h.isParent())?e.findCompoundLoopPoints(x,V,k,A):h===d?e.findLoopPoints(x,V,k,A):"segments"===C?e.findSegmentsPoints(x,V):"taxi"===C?e.findTaxiPoints(x,V):"straight"===C||!A&&a.eles.length%2==1&&k===Math.floor(a.eles.length/2)?e.findStraightEdgePoints(x):e.findBezierPoints(x,V,k,A,S),e.findEndpoints(x),e.tryToCorrectInvalidPoints(x,V),e.checkForInvalidEdgeWarning(x),e.storeAllpts(x),e.storeEdgeProjections(x),e.calculateArrowAngles(x),e.recalculateEdgeLabelProjections(x),e.calculateLabelAngles(x)}},w=0;w<o.length;w++)b(w);this.findHaystackPoints(s)}},Zu.getSegmentPoints=function(t){var e=t[0]._private.rscratch;if("segments"===e.edgeType)return this.recalculateRenderedStyle(t),Qu(e.segpts)},Zu.getControlPoints=function(t){var e=t[0]._private.rscratch,n=e.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return this.recalculateRenderedStyle(t),Qu(e.ctrlpts)},Zu.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var Ju={manualEndptToPx:function(t,e){var n=this,i=t.position(),r=t.outerWidth(),o=t.outerHeight();if(2===e.value.length){var s=[e.pfValue[0],e.pfValue[1]];return"%"===e.units[0]&&(s[0]=s[0]*r),"%"===e.units[1]&&(s[1]=s[1]*o),s[0]+=i.x,s[1]+=i.y,s}var a=e.pfValue[0];a=-Math.PI/2+a;var c=2*Math.max(r,o),l=[i.x+Math.cos(a)*c,i.y+Math.sin(a)*c];return n.nodeShapes[this.getNodeShape(t)].intersectLine(i.x,i.y,r,o,l[0],l[1],0)},findEndpoints:function(t){var e,n,i,r,o,s=this,a=t.source()[0],c=t.target()[0],l=a.position(),u=c.position(),h=t.pstyle("target-arrow-shape").value,d=t.pstyle("source-arrow-shape").value,f=t.pstyle("target-distance-from-node").pfValue,g=t.pstyle("source-distance-from-node").pfValue,p=t.pstyle("curve-style").value,m=t._private.rscratch,b=m.edgeType,w="self"===b||"compound"===b,y="bezier"===b||"multibezier"===b||w,v="bezier"!==b,_="straight"===b||"segments"===b,k="segments"===b,x=y||v||_,T=w||"taxi"===p,C=t.pstyle("source-endpoint"),A=T?"outside-to-node":C.value,S=t.pstyle("target-endpoint"),I=T?"outside-to-node":S.value;if(m.srcManEndpt=C,m.tgtManEndpt=S,y){var M=[m.ctrlpts[0],m.ctrlpts[1]];n=v?[m.ctrlpts[m.ctrlpts.length-2],m.ctrlpts[m.ctrlpts.length-1]]:M,i=M}else if(_){var P=k?m.segpts.slice(0,2):[u.x,u.y];n=k?m.segpts.slice(m.segpts.length-2):[l.x,l.y],i=P}if("inside-to-node"===I)e=[u.x,u.y];else if(S.units)e=this.manualEndptToPx(c,S);else if("outside-to-line"===I)e=m.tgtIntn;else if("outside-to-node"===I||"outside-to-node-or-label"===I?r=n:"outside-to-line"!==I&&"outside-to-line-or-label"!==I||(r=[l.x,l.y]),e=s.nodeShapes[this.getNodeShape(c)].intersectLine(u.x,u.y,c.outerWidth(),c.outerHeight(),r[0],r[1],0),"outside-to-node-or-label"===I||"outside-to-line-or-label"===I){var O=c._private.rscratch,D=O.labelWidth,N=O.labelHeight,L=O.labelX,R=O.labelY,B=D/2,F=N/2,j=c.pstyle("text-valign").value;"top"===j?R-=F:"bottom"===j&&(R+=F);var $=c.pstyle("text-halign").value;"left"===$?L-=B:"right"===$&&(L+=B);var V=ii(r[0],r[1],[L-B,R-F,L+B,R-F,L+B,R+F,L-B,R+F],u.x,u.y);if(V.length>0){var z=l,H=kn(z,dn(e)),U=kn(z,dn(V)),q=H;U<H&&(e=V,q=U),V.length>2&&kn(z,{x:V[2],y:V[3]})<q&&(e=[V[2],V[3]])}}var W=oi(e,n,s.arrowShapes[h].spacing(t)+f),G=oi(e,n,s.arrowShapes[h].gap(t)+f);if(m.endX=G[0],m.endY=G[1],m.arrowEndX=W[0],m.arrowEndY=W[1],"inside-to-node"===A)e=[l.x,l.y];else if(C.units)e=this.manualEndptToPx(a,C);else if("outside-to-line"===A)e=m.srcIntn;else if("outside-to-node"===A||"outside-to-node-or-label"===A?o=i:"outside-to-line"!==A&&"outside-to-line-or-label"!==A||(o=[u.x,u.y]),e=s.nodeShapes[this.getNodeShape(a)].intersectLine(l.x,l.y,a.outerWidth(),a.outerHeight(),o[0],o[1],0),"outside-to-node-or-label"===A||"outside-to-line-or-label"===A){var K=a._private.rscratch,Y=K.labelWidth,X=K.labelHeight,Z=K.labelX,Q=K.labelY,J=Y/2,tt=X/2,et=a.pstyle("text-valign").value;"top"===et?Q-=tt:"bottom"===et&&(Q+=tt);var nt=a.pstyle("text-halign").value;"left"===nt?Z-=J:"right"===nt&&(Z+=J);var it=ii(o[0],o[1],[Z-J,Q-tt,Z+J,Q-tt,Z+J,Q+tt,Z-J,Q+tt],l.x,l.y);if(it.length>0){var rt=u,ot=kn(rt,dn(e)),st=kn(rt,dn(it)),at=ot;st<ot&&(e=[it[0],it[1]],at=st),it.length>2&&kn(rt,{x:it[2],y:it[3]})<at&&(e=[it[2],it[3]])}}var ct=oi(e,i,s.arrowShapes[d].spacing(t)+g),lt=oi(e,i,s.arrowShapes[d].gap(t)+g);m.startX=lt[0],m.startY=lt[1],m.arrowStartX=ct[0],m.arrowStartY=ct[1],x&&(E(m.startX)&&E(m.startY)&&E(m.endX)&&E(m.endY)?m.badLine=!1:m.badLine=!0)},getSourceEndpoint:function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),"haystack"===e.edgeType?{x:e.haystackPts[0],y:e.haystackPts[1]}:{x:e.arrowStartX,y:e.arrowStartY}},getTargetEndpoint:function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),"haystack"===e.edgeType?{x:e.haystackPts[2],y:e.haystackPts[3]}:{x:e.arrowEndX,y:e.arrowEndY}}},th={};function eh(t,e,n){for(var i=function(t,e,n,i){return En(t,e,n,i)},r=e._private.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++){var s=t.bezierProjPcts[o];r.push({x:i(n[0],n[2],n[4],s),y:i(n[1],n[3],n[5],s)})}}th.storeEdgeProjections=function(t){var e=t._private,n=e.rscratch,i=n.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,"multibezier"===i||"bezier"===i||"self"===i||"compound"===i){e.rstyle.bezierPts=[];for(var r=0;r+5<n.allpts.length;r+=4)eh(this,t,n.allpts.slice(r,r+6))}else if("segments"===i){var o=e.rstyle.linePts=[];for(r=0;r+1<n.allpts.length;r+=2)o.push({x:n.allpts[r],y:n.allpts[r+1]})}else if("haystack"===i){var s=n.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth},th.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var nh={recalculateNodeLabelProjection:function(t){var e=t.pstyle("label").strValue;if(!D(e)){var n,i,r=t._private,o=t.width(),s=t.height(),a=t.padding(),c=t.position(),l=t.pstyle("text-halign").strValue,u=t.pstyle("text-valign").strValue,h=r.rscratch,d=r.rstyle;switch(l){case"left":n=c.x-o/2-a;break;case"right":n=c.x+o/2+a;break;default:n=c.x}switch(u){case"top":i=c.y-s/2-a;break;case"bottom":i=c.y+s/2+a;break;default:i=c.y}h.labelX=n,h.labelY=i,d.labelX=n,d.labelY=i,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}}},ih=function(t,e){var n=Math.atan(e/t);return 0===t&&n<0&&(n*=-1),n},rh=function(t,e){var n=e.x-t.x,i=e.y-t.y;return ih(n,i)},oh=function(t,e,n,i){var r=An(0,i-.001,1),o=An(0,i+.001,1),s=Tn(t,e,n,r),a=Tn(t,e,n,o);return rh(s,a)};nh.recalculateEdgeLabelProjections=function(t){var e,n=t._private,i=n.rscratch,r=this,o={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(o.mid||o.source||o.target){e={x:i.midX,y:i.midY};var s=function(t,e,i){je(n.rscratch,t,e,i),je(n.rstyle,t,e,i)};s("labelX",null,e.x),s("labelY",null,e.y);var a=ih(i.midDispX,i.midDispY);s("labelAutoAngle",null,a);var c=function t(){if(t.cache)return t.cache;for(var e=[],o=0;o+5<i.allpts.length;o+=4){var s={x:i.allpts[o],y:i.allpts[o+1]},a={x:i.allpts[o+2],y:i.allpts[o+3]},c={x:i.allpts[o+4],y:i.allpts[o+5]};e.push({p0:s,p1:a,p2:c,startDist:0,length:0,segments:[]})}var l=n.rstyle.bezierPts,u=r.bezierProjPcts.length;function h(t,e,n,i,r){var o=_n(e,n),s=t.segments[t.segments.length-1],a={p0:e,p1:n,t0:i,t1:r,startDist:s?s.startDist+s.length:0,length:o};t.segments.push(a),t.length+=o}for(var d=0;d<e.length;d++){var f=e[d],g=e[d-1];g&&(f.startDist=g.startDist+g.length),h(f,f.p0,l[d*u],0,r.bezierProjPcts[0]);for(var p=0;p<u-1;p++)h(f,l[d*u+p],l[d*u+p+1],r.bezierProjPcts[p],r.bezierProjPcts[p+1]);h(f,l[d*u+u-1],f.p2,r.bezierProjPcts[u-1],1)}return t.cache=e},l=function(n){var r,a="source"===n;if(o[n]){var l=t.pstyle(n+"-text-offset").pfValue;switch(i.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var u,h=c(),d=0,f=0,g=0;g<h.length;g++){for(var p=h[a?g:h.length-1-g],m=0;m<p.segments.length;m++){var b=p.segments[a?m:p.segments.length-1-m],w=g===h.length-1&&m===p.segments.length-1;if(d=f,(f+=b.length)>=l||w){u={cp:p,segment:b};break}}if(u)break}var y=u.cp,v=u.segment,_=(l-d)/v.length,k=v.t1-v.t0,x=a?v.t0+k*_:v.t1-k*_;x=An(0,x,1),e=Tn(y.p0,y.p1,y.p2,x),r=oh(y.p0,y.p1,y.p2,x);break;case"straight":case"segments":case"haystack":for(var E,T,C,A,S=0,I=i.allpts.length,M=0;M+3<I&&(a?(C={x:i.allpts[M],y:i.allpts[M+1]},A={x:i.allpts[M+2],y:i.allpts[M+3]}):(C={x:i.allpts[I-2-M],y:i.allpts[I-1-M]},A={x:i.allpts[I-4-M],y:i.allpts[I-3-M]}),T=S,!((S+=E=_n(C,A))>=l));M+=2);var P=(l-T)/E;P=An(0,P,1),e=Cn(C,A,P),r=rh(C,A)}s("labelX",n,e.x),s("labelY",n,e.y),s("labelAutoAngle",n,r)}};l("source"),l("target"),this.applyLabelDimensions(t)}},nh.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))},nh.applyPrefixedLabelDimensions=function(t,e){var n=t._private,i=this.getLabelText(t,e),r=this.calculateLabelDimensions(t,i),o=t.pstyle("line-height").pfValue,s=t.pstyle("text-wrap").strValue,a=Fe(n.rscratch,"labelWrapCachedLines",e)||[],c="wrap"!==s?1:Math.max(a.length,1),l=r.height/c,u=l*o,h=r.width,d=r.height+(c-1)*(o-1)*l;je(n.rstyle,"labelWidth",e,h),je(n.rscratch,"labelWidth",e,h),je(n.rstyle,"labelHeight",e,d),je(n.rscratch,"labelHeight",e,d),je(n.rscratch,"labelLineHeight",e,u)},nh.getLabelText=function(t,e){var n=t._private,i=e?e+"-":"",r=t.pstyle(i+"label").strValue,o=t.pstyle("text-transform").value,s=function(t,i){return i?(je(n.rscratch,t,e,i),i):Fe(n.rscratch,t,e)};if(!r)return"";"none"==o||("uppercase"==o?r=r.toUpperCase():"lowercase"==o&&(r=r.toLowerCase()));var a=t.pstyle("text-wrap").value;if("wrap"===a){var c=s("labelKey");if(null!=c&&s("labelWrapKey")===c)return s("labelWrapCachedText");for(var l="​",u=r.split("\n"),h=t.pstyle("text-max-width").pfValue,d="anywhere"===t.pstyle("text-overflow-wrap").value,f=[],g=/[\s\u200b]+/,p=d?"":" ",m=0;m<u.length;m++){var b=u[m],w=this.calculateLabelDimensions(t,b).width;if(d){var y=b.split("").join(l);b=y}if(w>h){for(var v=b.split(g),_="",k=0;k<v.length;k++){var x=v[k],E=0===_.length?x:_+p+x;this.calculateLabelDimensions(t,E).width<=h?_+=x+p:(_&&f.push(_),_=x+p)}_.match(/^[\s\u200b]+$/)||f.push(_)}else f.push(b)}s("labelWrapCachedLines",f),r=s("labelWrapCachedText",f.join("\n")),s("labelWrapKey",c)}else if("ellipsis"===a){var T=t.pstyle("text-max-width").pfValue,C="",A="…",S=!1;if(this.calculateLabelDimensions(t,r).width<T)return r;for(var I=0;I<r.length&&!(this.calculateLabelDimensions(t,C+r[I]+A).width>T);I++)C+=r[I],I===r.length-1&&(S=!0);return S||(C+=A),C}return r},nh.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,n=t.pstyle("text-halign").strValue;if("auto"!==e)return e;if(!t.isNode())return"center";switch(n){case"left":return"right";case"right":return"left";default:return"center"}},nh.calculateLabelDimensions=function(t,e){var n=this,i=ge(e,t._private.labelDimsKey),r=n.labelDimCache||(n.labelDimCache=[]),o=r[i];if(null!=o)return o;var s=0,a=t.pstyle("font-style").strValue,c=t.pstyle("font-size").pfValue,l=t.pstyle("font-family").strValue,u=t.pstyle("font-weight").strValue,h=this.labelCalcCanvas,d=this.labelCalcCanvasContext;if(!h){h=this.labelCalcCanvas=document.createElement("canvas"),d=this.labelCalcCanvasContext=h.getContext("2d");var f=h.style;f.position="absolute",f.left="-9999px",f.top="-9999px",f.zIndex="-1",f.visibility="hidden",f.pointerEvents="none"}d.font="".concat(a," ").concat(u," ").concat(c,"px ").concat(l);for(var g=0,p=0,m=e.split("\n"),b=0;b<m.length;b++){var w=m[b],y=d.measureText(w),v=Math.ceil(y.width),_=c;g=Math.max(v,g),p+=_}return g+=s,p+=s,r[i]={width:g,height:p}},nh.calculateLabelAngle=function(t,e){var n=t._private.rscratch,i=t.isEdge(),r=e?e+"-":"",o=t.pstyle(r+"text-rotation"),s=o.strValue;return"none"===s?0:i&&"autorotate"===s?n.labelAutoAngle:"autorotate"===s?0:o.pfValue},nh.calculateLabelAngles=function(t){var e=this,n=t.isEdge(),i=t._private.rscratch;i.labelAngle=e.calculateLabelAngle(t),n&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var sh={},ah=28,ch=!1;sh.getNodeShape=function(t){var e=this,n=t.pstyle("shape").value;if("cutrectangle"===n&&(t.width()<ah||t.height()<ah))return ch||(Ae("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),ch=!0),"rectangle";if(t.isParent())return"rectangle"===n||"roundrectangle"===n||"round-rectangle"===n||"cutrectangle"===n||"cut-rectangle"===n||"barrel"===n?n:"rectangle";if("polygon"===n){var i=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(i).name}return n};var lh={registerCalculationListeners:function(){var t=this.cy,e=t.collection(),n=this,i=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.merge(t),n)for(var i=0;i<t.length;i++){var r=t[i]._private.rstyle;r.clean=!1,r.cleanConnected=!1}};n.binder(t).on("bounds.* dirty.*",(function(t){var e=t.target;i(e)})).on("style.* background.*",(function(t){var e=t.target;i(e,!1)}));var r=function(r){if(r){var o=n.onUpdateEleCalcsFns;e.cleanStyle();for(var s=0;s<e.length;s++){var a=e[s],c=a._private.rstyle;a.isNode()&&!c.cleanConnected&&(i(a.connectedEdges()),c.cleanConnected=!0)}if(o)for(var l=0;l<o.length;l++)(0,o[l])(r,e);n.recalculateRenderedStyle(e),e=t.collection()}};n.flushRenderedStyleQueue=function(){r(!0)},n.beforeRender(r,n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(t){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(t)},recalculateRenderedStyle:function(t,e){var n=function(t){return t._private.rstyle.cleanConnected},i=[],r=[];if(!this.destroyed){void 0===e&&(e=!0);for(var o=0;o<t.length;o++){var s=t[o],a=s._private,c=a.rstyle;!s.isEdge()||n(s.source())&&n(s.target())||(c.clean=!1),e&&c.clean||s.removed()||"none"!==s.pstyle("display").value&&("nodes"===a.group?r.push(s):i.push(s),c.clean=!0)}for(var l=0;l<r.length;l++){var u=r[l],h=u._private.rstyle,d=u.position();this.recalculateNodeLabelProjection(u),h.nodeX=d.x,h.nodeY=d.y,h.nodeW=u.pstyle("width").pfValue,h.nodeH=u.pstyle("height").pfValue}this.recalculateEdgeProjections(i);for(var f=0;f<i.length;f++){var g=i[f]._private,p=g.rstyle,m=g.rscratch;p.srcX=m.arrowStartX,p.srcY=m.arrowStartY,p.tgtX=m.arrowEndX,p.tgtY=m.arrowEndY,p.midX=m.midX,p.midY=m.midY,p.labelAngle=m.labelAngle,p.sourceLabelAngle=m.sourceLabelAngle,p.targetLabelAngle=m.targetLabelAngle}}}},uh={updateCachedGrabbedEles:function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],n=0;n<t.length;n++){var i=(r=t[n])._private.rscratch;r.grabbed()&&!r.isParent()?e.push(r):i.inDragLayer?t.drag.push(r):t.nondrag.push(r)}for(n=0;n<e.length;n++){var r=e[n];t.drag.push(r)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(Wc),e.interactive=e.filter((function(t){return t.interactive()})),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e}},hh={};[Yu,Xu,Zu,Ju,th,nh,sh,lh,uh].forEach((function(t){Q(hh,t)}));var dh={getCachedImage:function(t,e,n){var i=this,r=i.imageCache=i.imageCache||{},o=r[t];if(o)return o.image.complete||o.image.addEventListener("load",n),o.image;var s=(o=r[t]=r[t]||{}).image=new Image;s.addEventListener("load",n),s.addEventListener("error",(function(){s.error=!0}));var a="data:";return t.substring(0,a.length).toLowerCase()===a||(s.crossOrigin=e),s.src=t,s}},fh={registerBinding:function(t,e,n,i){var r=Array.prototype.slice.apply(arguments,[1]),o=this.binder(t);return o.on.apply(o,r)},binder:function(t){var e=this,n=t===window||t===document||t===document.body||N(t);if(null==e.supportsPassiveEvents){var i=!1;try{var r=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});window.addEventListener("test",null,r)}catch(t){}e.supportsPassiveEvents=i}var o=function(i,r,o){var s=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(s[2]={capture:null!=o&&o,passive:!1,once:!1}),e.bindings.push({target:t,args:s}),(t.addEventListener||t.on).apply(t,s),this};return{on:o,addEventListener:o,addListener:o,bind:o}},nodeIsDraggable:function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()},nodeIsGrabbable:function(t){return this.nodeIsDraggable(t)&&t.interactive()},load:function(){var t=this,e=function(t){return t.selected()},n=function(e,n,i,r){null==e&&(e=t.cy);for(var o=0;o<n.length;o++){var s=n[o];e.emit({originalEvent:i,type:s,position:r})}},i=function(t){return t.shiftKey||t.metaKey||t.ctrlKey},r=function(e,n){var i=!0;if(t.cy.hasCompoundNodes()&&e&&e.pannable()){for(var r=0;n&&r<n.length;r++)if((e=n[r]).isNode()&&e.isParent()&&!e.pannable()){i=!1;break}}else i=!0;return i},o=function(t){t[0]._private.grabbed=!0},s=function(t){t[0]._private.grabbed=!1},a=function(t){t[0]._private.rscratch.inDragLayer=!0},c=function(t){t[0]._private.rscratch.inDragLayer=!1},l=function(t){t[0]._private.rscratch.isGrabTarget=!0},u=function(t){t[0]._private.rscratch.isGrabTarget=!1},h=function(t,e){var n=e.addToList;n.has(t)||!t.grabbable()||t.locked()||(n.merge(t),o(t))},d=function(t,e){if(t.cy().hasCompoundNodes()&&(null!=e.inDragLayer||null!=e.addToList)){var n=t.descendants();e.inDragLayer&&(n.forEach(a),n.connectedEdges().forEach(a)),e.addToList&&h(n,e)}},f=function(e,n){n=n||{};var i=e.cy().hasCompoundNodes();n.inDragLayer&&(e.forEach(a),e.neighborhood().stdFilter((function(t){return!i||t.isEdge()})).forEach(a)),n.addToList&&e.forEach((function(t){h(t,n)})),d(e,n),m(e,{inDragLayer:n.inDragLayer}),t.updateCachedGrabbedEles()},g=f,p=function(e){e&&(t.getCachedZSortedEles().forEach((function(t){s(t),c(t),u(t)})),t.updateCachedGrabbedEles())},m=function(t,e){if((null!=e.inDragLayer||null!=e.addToList)&&t.cy().hasCompoundNodes()){var n=t.ancestors().orphans();if(!n.same(t)){var i=n.descendants().spawnSelf().merge(n).unmerge(t).unmerge(t.descendants()),r=i.connectedEdges();e.inDragLayer&&(r.forEach(a),i.forEach(a)),e.addToList&&i.forEach((function(t){h(t,e)}))}}},b=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},w="undefined"!=typeof MutationObserver,y="undefined"!=typeof ResizeObserver;w?(t.removeObserver=new MutationObserver((function(e){for(var n=0;n<e.length;n++){var i=e[n].removedNodes;if(i)for(var r=0;r<i.length;r++)if(i[r]===t.container){t.destroy();break}}})),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",(function(e){t.destroy()}));var v=Qt((function(){t.cy.resize()}),100);w&&(t.styleObserver=new MutationObserver(v),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(window,"resize",v),y&&(t.resizeObserver=new ResizeObserver(v),t.resizeObserver.observe(t.container));var _=function(){t.invalidateContainerClientCoordsCache()};(function(t,e){for(;null!=t;)e(t),t=t.parentNode})(t.container,(function(e){t.registerBinding(e,"transitionend",_),t.registerBinding(e,"animationend",_),t.registerBinding(e,"scroll",_)})),t.registerBinding(t.container,"contextmenu",(function(t){t.preventDefault()}));var k,x,T,C=function(){return 0!==t.selection[4]},A=function(e){for(var n=t.findContainerClientCoords(),i=n[0],r=n[1],o=n[2],s=n[3],a=e.touches?e.touches:[e],c=!1,l=0;l<a.length;l++){var u=a[l];if(i<=u.clientX&&u.clientX<=i+o&&r<=u.clientY&&u.clientY<=r+s){c=!0;break}}if(!c)return!1;for(var h=t.container,d=e.target.parentNode,f=!1;d;){if(d===h){f=!0;break}d=d.parentNode}return!!f};t.registerBinding(t.container,"mousedown",(function(e){if(A(e)){e.preventDefault(),b(),t.hoverData.capture=!0,t.hoverData.which=e.which;var i=t.cy,r=[e.clientX,e.clientY],o=t.projectIntoViewport(r[0],r[1]),s=t.selection,a=t.findNearestElements(o[0],o[1],!0,!1),c=a[0],u=t.dragData.possibleDragElements;t.hoverData.mdownPos=o,t.hoverData.mdownGPos=r;var h=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout((function(){if(!t.hoverData.tapholdCancelled){var n=t.hoverData.down;n?n.emit({originalEvent:e,type:"taphold",position:{x:o[0],y:o[1]}}):i.emit({originalEvent:e,type:"taphold",position:{x:o[0],y:o[1]}})}}),t.tapholdDuration)};if(3==e.which){t.hoverData.cxtStarted=!0;var d={originalEvent:e,type:"cxttapstart",position:{x:o[0],y:o[1]}};c?(c.activate(),c.emit(d),t.hoverData.down=c):i.emit(d),t.hoverData.downTime=(new Date).getTime(),t.hoverData.cxtDragged=!1}else if(1==e.which){if(c&&c.activate(),null!=c&&t.nodeIsGrabbable(c)){var p=function(t){return{originalEvent:e,type:t,position:{x:o[0],y:o[1]}}},m=function(t){t.emit(p("grab"))};if(l(c),c.selected()){u=t.dragData.possibleDragElements=i.collection();var w=i.$((function(e){return e.isNode()&&e.selected()&&t.nodeIsGrabbable(e)}));f(w,{addToList:u}),c.emit(p("grabon")),w.forEach(m)}else u=t.dragData.possibleDragElements=i.collection(),g(c,{addToList:u}),c.emit(p("grabon")).emit(p("grab"));t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=c,t.hoverData.downs=a,t.hoverData.downTime=(new Date).getTime(),n(c,["mousedown","tapstart","vmousedown"],e,{x:o[0],y:o[1]}),null==c?(s[4]=1,t.data.bgActivePosistion={x:o[0],y:o[1]},t.redrawHint("select",!0),t.redraw()):c.pannable()&&(s[4]=1),h()}s[0]=s[2]=o[0],s[1]=s[3]=o[1]}}),!1),t.registerBinding(window,"mousemove",(function(e){if(t.hoverData.capture||A(e)){var o=!1,s=t.cy,a=s.zoom(),c=[e.clientX,e.clientY],l=t.projectIntoViewport(c[0],c[1]),u=t.hoverData.mdownPos,h=t.hoverData.mdownGPos,d=t.selection,g=null;t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.selecting||(g=t.findNearestElement(l[0],l[1],!0,!1));var m,b=t.hoverData.last,w=t.hoverData.down,y=[l[0]-d[2],l[1]-d[3]],v=t.dragData.possibleDragElements;if(h){var _=c[0]-h[0],k=_*_,x=c[1]-h[1],T=k+x*x;t.hoverData.isOverThresholdDrag=m=T>=t.desktopTapThreshold2}var C=i(e);m&&(t.hoverData.tapholdCancelled=!0);var S=function(){var e=t.hoverData.dragDelta=t.hoverData.dragDelta||[];0===e.length?(e.push(y[0]),e.push(y[1])):(e[0]+=y[0],e[1]+=y[1])};o=!0,n(g,["mousemove","vmousemove","tapdrag"],e,{x:l[0],y:l[1]});var I=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||s.emit({originalEvent:e,type:"boxstart",position:{x:l[0],y:l[1]}}),d[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(3===t.hoverData.which){if(m){var M={originalEvent:e,type:"cxtdrag",position:{x:l[0],y:l[1]}};w?w.emit(M):s.emit(M),t.hoverData.cxtDragged=!0,t.hoverData.cxtOver&&g===t.hoverData.cxtOver||(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:l[0],y:l[1]}}),t.hoverData.cxtOver=g,g&&g.emit({originalEvent:e,type:"cxtdragover",position:{x:l[0],y:l[1]}}))}}else if(t.hoverData.dragging){if(o=!0,s.panningEnabled()&&s.userPanningEnabled()){var P;if(t.hoverData.justStartedPan){var O=t.hoverData.mdownPos;P={x:(l[0]-O[0])*a,y:(l[1]-O[1])*a},t.hoverData.justStartedPan=!1}else P={x:y[0]*a,y:y[1]*a};s.panBy(P),s.emit("dragpan"),t.hoverData.dragged=!0}l=t.projectIntoViewport(e.clientX,e.clientY)}else if(1!=d[4]||null!=w&&!w.pannable()){if(w&&w.pannable()&&w.active()&&w.unactivate(),w&&w.grabbed()||g==b||(b&&n(b,["mouseout","tapdragout"],e,{x:l[0],y:l[1]}),g&&n(g,["mouseover","tapdragover"],e,{x:l[0],y:l[1]}),t.hoverData.last=g),w)if(m){if(s.boxSelectionEnabled()&&C)w&&w.grabbed()&&(p(v),w.emit("freeon"),v.emit("free"),t.dragData.didDrag&&(w.emit("dragfreeon"),v.emit("dragfree"))),I();else if(w&&w.grabbed()&&t.nodeIsDraggable(w)){var D=!t.dragData.didDrag;D&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||f(v,{inDragLayer:!0});var N={x:0,y:0};if(E(y[0])&&E(y[1])&&(N.x+=y[0],N.y+=y[1],D)){var L=t.hoverData.dragDelta;L&&E(L[0])&&E(L[1])&&(N.x+=L[0],N.y+=L[1])}t.hoverData.draggingEles=!0,v.silentShift(N).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else S();o=!0}else m&&(t.hoverData.dragging||!s.boxSelectionEnabled()||!C&&s.panningEnabled()&&s.userPanningEnabled()?!t.hoverData.selecting&&s.panningEnabled()&&s.userPanningEnabled()&&r(w,t.hoverData.downs)&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,d[4]=0,t.data.bgActivePosistion=dn(u),t.redrawHint("select",!0),t.redraw()):I(),w&&w.pannable()&&w.active()&&w.unactivate());return d[2]=l[0],d[3]=l[1],o?(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1):void 0}}),!1),t.registerBinding(window,"mouseup",(function(r){if(t.hoverData.capture){t.hoverData.capture=!1;var o=t.cy,s=t.projectIntoViewport(r.clientX,r.clientY),a=t.selection,c=t.findNearestElement(s[0],s[1],!0,!1),l=t.dragData.possibleDragElements,u=t.hoverData.down,h=i(r);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,u&&u.unactivate(),3===t.hoverData.which){var d={originalEvent:r,type:"cxttapend",position:{x:s[0],y:s[1]}};if(u?u.emit(d):o.emit(d),!t.hoverData.cxtDragged){var f={originalEvent:r,type:"cxttap",position:{x:s[0],y:s[1]}};u?u.emit(f):o.emit(f)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(1===t.hoverData.which){if(n(c,["mouseup","tapend","vmouseup"],r,{x:s[0],y:s[1]}),t.dragData.didDrag||t.hoverData.dragged||t.hoverData.selecting||t.hoverData.isOverThresholdDrag||(n(u,["click","tap","vclick"],r,{x:s[0],y:s[1]}),x=!1,r.timeStamp-T<=o.multiClickDebounceTime()?(k&&clearTimeout(k),x=!0,T=null,n(u,["dblclick","dbltap","vdblclick"],r,{x:s[0],y:s[1]})):(k=setTimeout((function(){x||n(u,["oneclick","onetap","voneclick"],r,{x:s[0],y:s[1]})}),o.multiClickDebounceTime()),T=r.timeStamp)),null!=u||t.dragData.didDrag||t.hoverData.selecting||t.hoverData.dragged||i(r)||(o.$(e).unselect(["tapunselect"]),l.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=l=o.collection()),c!=u||t.dragData.didDrag||t.hoverData.selecting||null!=c&&c._private.selectable&&(t.hoverData.dragging||("additive"===o.selectionType()||h?c.selected()?c.unselect(["tapunselect"]):c.select(["tapselect"]):h||(o.$(e).unmerge(c).unselect(["tapunselect"]),c.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var g=o.collection(t.getAllInBox(a[0],a[1],a[2],a[3]));t.redrawHint("select",!0),g.length>0&&t.redrawHint("eles",!0),o.emit({type:"boxend",originalEvent:r,position:{x:s[0],y:s[1]}});var m=function(t){return t.selectable()&&!t.selected()};"additive"===o.selectionType()||h||o.$(e).unmerge(g).unselect(),g.emit("box").stdFilter(m).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!a[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var b=u&&u.grabbed();p(l),b&&(u.emit("freeon"),l.emit("free"),t.dragData.didDrag&&(u.emit("dragfreeon"),l.emit("dragfree")))}}a[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}}),!1);var S,I,M,P,O,D,N,L,R,B,F,j,$,V=function(e){if(!t.scrollingPage){var n=t.cy,i=n.zoom(),r=n.pan(),o=t.projectIntoViewport(e.clientX,e.clientY),s=[o[0]*i+r.x,o[1]*i+r.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||C())e.preventDefault();else if(n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()){var a;e.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout((function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()}),150),a=null!=e.deltaY?e.deltaY/-250:null!=e.wheelDeltaY?e.wheelDeltaY/1e3:e.wheelDelta/1e3,a*=t.wheelSensitivity,1===e.deltaMode&&(a*=33);var c=n.zoom()*Math.pow(10,a);"gesturechange"===e.type&&(c=t.gestureStartZoom*e.scale),n.zoom({level:c,renderedPosition:{x:s[0],y:s[1]}}),n.emit("gesturechange"===e.type?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",V,!0),t.registerBinding(window,"scroll",(function(e){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout((function(){t.scrollingPage=!1}),250)}),!0),t.registerBinding(t.container,"gesturestart",(function(e){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||e.preventDefault()}),!0),t.registerBinding(t.container,"gesturechange",(function(e){t.hasTouchStarted||V(e)}),!0),t.registerBinding(t.container,"mouseout",(function(e){var n=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseout",position:{x:n[0],y:n[1]}})}),!1),t.registerBinding(t.container,"mouseover",(function(e){var n=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseover",position:{x:n[0],y:n[1]}})}),!1);var z,H,U,q,W,G,K,Y=function(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))},X=function(t,e,n,i){return(n-t)*(n-t)+(i-e)*(i-e)};if(t.registerBinding(t.container,"touchstart",z=function(e){if(t.hasTouchStarted=!0,A(e)){b(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var i=t.cy,r=t.touchData.now,o=t.touchData.earlier;if(e.touches[0]){var s=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);r[0]=s[0],r[1]=s[1]}if(e.touches[1]&&(s=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),r[2]=s[0],r[3]=s[1]),e.touches[2]&&(s=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),r[4]=s[0],r[5]=s[1]),e.touches[1]){t.touchData.singleTouchMoved=!0,p(t.dragData.touchDragEles);var a=t.findContainerClientCoords();R=a[0],B=a[1],F=a[2],j=a[3],S=e.touches[0].clientX-R,I=e.touches[0].clientY-B,M=e.touches[1].clientX-R,P=e.touches[1].clientY-B,$=0<=S&&S<=F&&0<=M&&M<=F&&0<=I&&I<=j&&0<=P&&P<=j;var c=i.pan(),u=i.zoom();O=Y(S,I,M,P),D=X(S,I,M,P),L=[((N=[(S+M)/2,(I+P)/2])[0]-c.x)/u,(N[1]-c.y)/u];var h=200;if(D<h*h&&!e.touches[2]){var d=t.findNearestElement(r[0],r[1],!0,!0),m=t.findNearestElement(r[2],r[3],!0,!0);return d&&d.isNode()?(d.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:r[0],y:r[1]}}),t.touchData.start=d):m&&m.isNode()?(m.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:r[0],y:r[1]}}),t.touchData.start=m):i.emit({originalEvent:e,type:"cxttapstart",position:{x:r[0],y:r[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,void t.redraw()}}if(e.touches[2])i.boxSelectionEnabled()&&e.preventDefault();else if(e.touches[1]);else if(e.touches[0]){var w=t.findNearestElements(r[0],r[1],!0,!0),y=w[0];if(null!=y&&(y.activate(),t.touchData.start=y,t.touchData.starts=w,t.nodeIsGrabbable(y))){var v=t.dragData.touchDragEles=i.collection(),_=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),y.selected()?(_=i.$((function(e){return e.selected()&&t.nodeIsGrabbable(e)})),f(_,{addToList:v})):g(y,{addToList:v}),l(y);var k=function(t){return{originalEvent:e,type:t,position:{x:r[0],y:r[1]}}};y.emit(k("grabon")),_?_.forEach((function(t){t.emit(k("grab"))})):y.emit(k("grab"))}n(y,["touchstart","tapstart","vmousedown"],e,{x:r[0],y:r[1]}),null==y&&(t.data.bgActivePosistion={x:s[0],y:s[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout((function(){!1!==t.touchData.singleTouchMoved||t.pinching||t.touchData.selecting||n(t.touchData.start,["taphold"],e,{x:r[0],y:r[1]})}),t.tapholdDuration)}if(e.touches.length>=1){for(var x=t.touchData.startPosition=[],E=0;E<r.length;E++)x[E]=o[E]=r[E];var T=e.touches[0];t.touchData.startGPosition=[T.clientX,T.clientY]}}},!1),t.registerBinding(window,"touchmove",H=function(e){var i=t.touchData.capture;if(i||A(e)){var o=t.selection,s=t.cy,a=t.touchData.now,c=t.touchData.earlier,l=s.zoom();if(e.touches[0]){var u=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);a[0]=u[0],a[1]=u[1]}e.touches[1]&&(u=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),a[2]=u[0],a[3]=u[1]),e.touches[2]&&(u=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),a[4]=u[0],a[5]=u[1]);var h,d=t.touchData.startGPosition;if(i&&e.touches[0]&&d){for(var g=[],m=0;m<a.length;m++)g[m]=a[m]-c[m];var b=e.touches[0].clientX-d[0],w=b*b,y=e.touches[0].clientY-d[1];h=w+y*y>=t.touchTapThreshold2}if(i&&t.touchData.cxt){e.preventDefault();var v=e.touches[0].clientX-R,_=e.touches[0].clientY-B,k=e.touches[1].clientX-R,x=e.touches[1].clientY-B,T=X(v,_,k,x),C=150,N=1.5;if(T/D>=N*N||T>=C*C){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var F={originalEvent:e,type:"cxttapend",position:{x:a[0],y:a[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(F),t.touchData.start=null):s.emit(F)}}if(i&&t.touchData.cxt){F={originalEvent:e,type:"cxtdrag",position:{x:a[0],y:a[1]}},t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(F):s.emit(F),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var j=t.findNearestElement(a[0],a[1],!0,!0);t.touchData.cxtOver&&j===t.touchData.cxtOver||(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:a[0],y:a[1]}}),t.touchData.cxtOver=j,j&&j.emit({originalEvent:e,type:"cxtdragover",position:{x:a[0],y:a[1]}}))}else if(i&&e.touches[2]&&s.boxSelectionEnabled())e.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||s.emit({originalEvent:e,type:"boxstart",position:{x:a[0],y:a[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,o[4]=1,o&&0!==o.length&&void 0!==o[0]?(o[2]=(a[0]+a[2]+a[4])/3,o[3]=(a[1]+a[3]+a[5])/3):(o[0]=(a[0]+a[2]+a[4])/3,o[1]=(a[1]+a[3]+a[5])/3,o[2]=(a[0]+a[2]+a[4])/3+1,o[3]=(a[1]+a[3]+a[5])/3+1),t.redrawHint("select",!0),t.redraw();else if(i&&e.touches[1]&&!t.touchData.didSelect&&s.zoomingEnabled()&&s.panningEnabled()&&s.userZoomingEnabled()&&s.userPanningEnabled()){if(e.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),nt=t.dragData.touchDragEles){t.redrawHint("drag",!0);for(var V=0;V<nt.length;V++){var z=nt[V]._private;z.grabbed=!1,z.rscratch.inDragLayer=!1}}var H=t.touchData.start,U=(v=e.touches[0].clientX-R,_=e.touches[0].clientY-B,k=e.touches[1].clientX-R,x=e.touches[1].clientY-B,Y(v,_,k,x)),q=U/O;if($){var W=(v-S+(k-M))/2,G=(_-I+(x-P))/2,K=s.zoom(),Z=K*q,Q=s.pan(),J=L[0]*K+Q.x,tt=L[1]*K+Q.y,et={x:-Z/K*(J-Q.x-W)+J,y:-Z/K*(tt-Q.y-G)+tt};if(H&&H.active()){var nt=t.dragData.touchDragEles;p(nt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),H.unactivate().emit("freeon"),nt.emit("free"),t.dragData.didDrag&&(H.emit("dragfreeon"),nt.emit("dragfree"))}s.viewport({zoom:Z,pan:et,cancelOnFailedZoom:!0}),s.emit("pinchzoom"),O=U,S=v,I=_,M=k,P=x,t.pinching=!0}e.touches[0]&&(u=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY),a[0]=u[0],a[1]=u[1]),e.touches[1]&&(u=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),a[2]=u[0],a[3]=u[1]),e.touches[2]&&(u=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),a[4]=u[0],a[5]=u[1])}else if(e.touches[0]&&!t.touchData.didSelect){var it=t.touchData.start,rt=t.touchData.last;if(t.hoverData.draggingEles||t.swipePanning||(j=t.findNearestElement(a[0],a[1],!0,!0)),i&&null!=it&&e.preventDefault(),i&&null!=it&&t.nodeIsDraggable(it))if(h){nt=t.dragData.touchDragEles;var ot=!t.dragData.didDrag;ot&&f(nt,{inDragLayer:!0}),t.dragData.didDrag=!0;var st={x:0,y:0};E(g[0])&&E(g[1])&&(st.x+=g[0],st.y+=g[1],ot&&(t.redrawHint("eles",!0),(at=t.touchData.dragDelta)&&E(at[0])&&E(at[1])&&(st.x+=at[0],st.y+=at[1]))),t.hoverData.draggingEles=!0,nt.silentShift(st).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==c[0]&&t.touchData.startPosition[1]==c[1]&&t.redrawHint("eles",!0),t.redraw()}else{var at;0===(at=t.touchData.dragDelta=t.touchData.dragDelta||[]).length?(at.push(g[0]),at.push(g[1])):(at[0]+=g[0],at[1]+=g[1])}if(n(it||j,["touchmove","tapdrag","vmousemove"],e,{x:a[0],y:a[1]}),it&&it.grabbed()||j==rt||(rt&&rt.emit({originalEvent:e,type:"tapdragout",position:{x:a[0],y:a[1]}}),j&&j.emit({originalEvent:e,type:"tapdragover",position:{x:a[0],y:a[1]}})),t.touchData.last=j,i)for(V=0;V<a.length;V++)a[V]&&t.touchData.startPosition[V]&&h&&(t.touchData.singleTouchMoved=!0);i&&(null==it||it.pannable())&&s.panningEnabled()&&s.userPanningEnabled()&&(r(it,t.touchData.starts)&&(e.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=dn(t.touchData.startPosition)),t.swipePanning?(s.panBy({x:g[0]*l,y:g[1]*l}),s.emit("dragpan")):h&&(t.swipePanning=!0,s.panBy({x:b*l,y:y*l}),s.emit("dragpan"),it&&(it.unactivate(),t.redrawHint("select",!0),t.touchData.start=null))),u=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY),a[0]=u[0],a[1]=u[1])}for(m=0;m<a.length;m++)c[m]=a[m];i&&e.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&null!=t.data.bgActivePosistion&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1),t.registerBinding(window,"touchcancel",U=function(e){var n=t.touchData.start;t.touchData.capture=!1,n&&n.unactivate()}),t.registerBinding(window,"touchend",q=function(i){var r=t.touchData.start;if(t.touchData.capture){0===i.touches.length&&(t.touchData.capture=!1),i.preventDefault();var o=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var s,a=t.cy,c=a.zoom(),l=t.touchData.now,u=t.touchData.earlier;if(i.touches[0]){var h=t.projectIntoViewport(i.touches[0].clientX,i.touches[0].clientY);l[0]=h[0],l[1]=h[1]}if(i.touches[1]&&(h=t.projectIntoViewport(i.touches[1].clientX,i.touches[1].clientY),l[2]=h[0],l[3]=h[1]),i.touches[2]&&(h=t.projectIntoViewport(i.touches[2].clientX,i.touches[2].clientY),l[4]=h[0],l[5]=h[1]),r&&r.unactivate(),t.touchData.cxt){if(s={originalEvent:i,type:"cxttapend",position:{x:l[0],y:l[1]}},r?r.emit(s):a.emit(s),!t.touchData.cxtDragged){var d={originalEvent:i,type:"cxttap",position:{x:l[0],y:l[1]}};r?r.emit(d):a.emit(d)}return t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,void t.redraw()}if(!i.touches[2]&&a.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var f=a.collection(t.getAllInBox(o[0],o[1],o[2],o[3]));o[0]=void 0,o[1]=void 0,o[2]=void 0,o[3]=void 0,o[4]=0,t.redrawHint("select",!0),a.emit({type:"boxend",originalEvent:i,position:{x:l[0],y:l[1]}});var g=function(t){return t.selectable()&&!t.selected()};f.emit("box").stdFilter(g).select().emit("boxselect"),f.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(null!=r&&r.unactivate(),i.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(i.touches[1]);else if(i.touches[0]);else if(!i.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var m=t.dragData.touchDragEles;if(null!=r){var b=r._private.grabbed;p(m),t.redrawHint("drag",!0),t.redrawHint("eles",!0),b&&(r.emit("freeon"),m.emit("free"),t.dragData.didDrag&&(r.emit("dragfreeon"),m.emit("dragfree"))),n(r,["touchend","tapend","vmouseup","tapdragout"],i,{x:l[0],y:l[1]}),r.unactivate(),t.touchData.start=null}else{var w=t.findNearestElement(l[0],l[1],!0,!0);n(w,["touchend","tapend","vmouseup","tapdragout"],i,{x:l[0],y:l[1]})}var y=t.touchData.startPosition[0]-l[0],v=y*y,_=t.touchData.startPosition[1]-l[1],k=(v+_*_)*c*c;t.touchData.singleTouchMoved||(r||a.$(":selected").unselect(["tapunselect"]),n(r,["tap","vclick"],i,{x:l[0],y:l[1]}),W=!1,i.timeStamp-K<=a.multiClickDebounceTime()?(G&&clearTimeout(G),W=!0,K=null,n(r,["dbltap","vdblclick"],i,{x:l[0],y:l[1]})):(G=setTimeout((function(){W||n(r,["onetap","voneclick"],i,{x:l[0],y:l[1]})}),a.multiClickDebounceTime()),K=i.timeStamp)),null!=r&&!t.dragData.didDrag&&r._private.selectable&&k<t.touchTapThreshold2&&!t.pinching&&("single"===a.selectionType()?(a.$(e).unmerge(r).unselect(["tapunselect"]),r.select(["tapselect"])):r.selected()?r.unselect(["tapunselect"]):r.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}for(var x=0;x<l.length;x++)u[x]=l[x];t.dragData.didDrag=!1,0===i.touches.length&&(t.touchData.dragDelta=[],t.touchData.startPosition=null,t.touchData.startGPosition=null,t.touchData.didSelect=!1),i.touches.length<2&&(1===i.touches.length&&(t.touchData.startGPosition=[i.touches[0].clientX,i.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())}},!1),"undefined"==typeof TouchEvent){var Z=[],Q=function(t){return{clientX:t.clientX,clientY:t.clientY,force:1,identifier:t.pointerId,pageX:t.pageX,pageY:t.pageY,radiusX:t.width/2,radiusY:t.height/2,screenX:t.screenX,screenY:t.screenY,target:t.target}},J=function(t){return{event:t,touch:Q(t)}},tt=function(t){Z.push(J(t))},et=function(t){for(var e=0;e<Z.length;e++)if(Z[e].event.pointerId===t.pointerId)return void Z.splice(e,1)},nt=function(t){var e=Z.filter((function(e){return e.event.pointerId===t.pointerId}))[0];e.event=t,e.touch=Q(t)},it=function(t){t.touches=Z.map((function(t){return t.touch}))},rt=function(t){return"mouse"===t.pointerType||4===t.pointerType};t.registerBinding(t.container,"pointerdown",(function(t){rt(t)||(t.preventDefault(),tt(t),it(t),z(t))})),t.registerBinding(t.container,"pointerup",(function(t){rt(t)||(et(t),it(t),q(t))})),t.registerBinding(t.container,"pointercancel",(function(t){rt(t)||(et(t),it(t),U(t))})),t.registerBinding(t.container,"pointermove",(function(t){rt(t)||(t.preventDefault(),nt(t),it(t),H(t))}))}}},gh={generatePolygon:function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(t,e,n,i,r){this.renderer.nodeShapeImpl("polygon",t,e,n,i,r,this.points)},intersectLine:function(t,e,n,i,r,o,s){return ii(r,o,this.points,t,e,n/2,i/2,s)},checkPoint:function(t,e,n,i,r,o,s){return Kn(t,e,this.points,o,s,i,r,[0,-1],n)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,e,n,i,r){this.renderer.nodeShapeImpl(this.name,t,e,n,i,r)},intersectLine:function(t,e,n,i,r,o,s){return Qn(r,o,t,e,n/2+s,i/2+s)},checkPoint:function(t,e,n,i,r,o,s){return Jn(t,e,i,r,o,s,n)}}},generateRoundPolygon:function(t,e){for(var n=new Array(2*e.length),i=0;i<e.length/2;i++){var r=2*i,o=void 0;o=i<e.length/2-1?2*(i+1):0,n[4*i]=e[r],n[4*i+1]=e[r+1];var s=e[o]-e[r],a=e[o+1]-e[r+1],c=Math.sqrt(s*s+a*a);n[4*i+2]=s/c,n[4*i+3]=a/c}return this.nodeShapes[t]={renderer:this,name:t,points:n,draw:function(t,e,n,i,r){this.renderer.nodeShapeImpl("round-polygon",t,e,n,i,r,this.points)},intersectLine:function(t,e,n,i,r,o,s){return ri(r,o,this.points,t,e,n,i)},checkPoint:function(t,e,n,i,r,o,s){return Yn(t,e,this.points,o,s,i,r)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:si(4,0),draw:function(t,e,n,i,r){this.renderer.nodeShapeImpl(this.name,t,e,n,i,r)},intersectLine:function(t,e,n,i,r,o,s){return $n(r,o,t,e,n,i,s)},checkPoint:function(t,e,n,i,r,o,s){var a=li(i,r),c=2*a;return!!(Kn(t,e,this.points,o,s,i,r-c,[0,-1],n)||Kn(t,e,this.points,o,s,i-c,r,[0,-1],n)||Jn(t,e,c,c,o-i/2+a,s-r/2+a,n)||Jn(t,e,c,c,o+i/2-a,s-r/2+a,n)||Jn(t,e,c,c,o+i/2-a,s+r/2-a,n)||Jn(t,e,c,c,o-i/2+a,s+r/2-a,n))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:hi(),points:si(4,0),draw:function(t,e,n,i,r){this.renderer.nodeShapeImpl(this.name,t,e,n,i,r)},generateCutTrianglePts:function(t,e,n,i){var r=this.cornerLength,o=e/2,s=t/2,a=n-s,c=n+s,l=i-o,u=i+o;return{topLeft:[a,l+r,a+r,l,a+r,l+r],topRight:[c-r,l,c,l+r,c-r,l+r],bottomRight:[c,u-r,c-r,u,c-r,u-r],bottomLeft:[a+r,u,a,u-r,a+r,u-r]}},intersectLine:function(t,e,n,i,r,o,s){var a=this.generateCutTrianglePts(n+2*s,i+2*s,t,e),c=[].concat.apply([],[a.topLeft.splice(0,4),a.topRight.splice(0,4),a.bottomRight.splice(0,4),a.bottomLeft.splice(0,4)]);return ii(r,o,c,t,e)},checkPoint:function(t,e,n,i,r,o,s){if(Kn(t,e,this.points,o,s,i,r-2*this.cornerLength,[0,-1],n))return!0;if(Kn(t,e,this.points,o,s,i-2*this.cornerLength,r,[0,-1],n))return!0;var a=this.generateCutTrianglePts(i,r,o,s);return Gn(t,e,a.topLeft)||Gn(t,e,a.topRight)||Gn(t,e,a.bottomRight)||Gn(t,e,a.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:si(4,0),draw:function(t,e,n,i,r){this.renderer.nodeShapeImpl(this.name,t,e,n,i,r)},intersectLine:function(t,e,n,i,r,o,s){var a=.15,c=.5,l=.85,u=this.generateBarrelBezierPts(n+2*s,i+2*s,t,e),h=function(t){var e=Tn({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},a),n=Tn({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},c),i=Tn({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},l);return[t[0],t[1],e.x,e.y,n.x,n.y,i.x,i.y,t[4],t[5]]},d=[].concat(h(u.topLeft),h(u.topRight),h(u.bottomRight),h(u.bottomLeft));return ii(r,o,d,t,e)},generateBarrelBezierPts:function(t,e,n,i){var r=e/2,o=t/2,s=n-o,a=n+o,c=i-r,l=i+r,u=fi(t,e),h=u.heightOffset,d=u.widthOffset,f=u.ctrlPtOffsetPct*t,g={topLeft:[s,c+h,s+f,c,s+d,c],topRight:[a-d,c,a-f,c,a,c+h],bottomRight:[a,l-h,a-f,l,a-d,l],bottomLeft:[s+d,l,s+f,l,s,l-h]};return g.topLeft.isTop=!0,g.topRight.isTop=!0,g.bottomLeft.isBottom=!0,g.bottomRight.isBottom=!0,g},checkPoint:function(t,e,n,i,r,o,s){var a=fi(i,r),c=a.heightOffset,l=a.widthOffset;if(Kn(t,e,this.points,o,s,i,r-2*c,[0,-1],n))return!0;if(Kn(t,e,this.points,o,s,i-2*l,r,[0,-1],n))return!0;for(var u=this.generateBarrelBezierPts(i,r,o,s),h=function(t,e,n){var i=n[4],r=n[2],o=n[0],s=n[5],a=n[1],c=Math.min(i,o),l=Math.max(i,o),u=Math.min(s,a),h=Math.max(s,a);if(c<=t&&t<=l&&u<=e&&e<=h){var d=di(i,r,o),f=Hn(d[0],d[1],d[2],t).filter((function(t){return 0<=t&&t<=1}));if(f.length>0)return f[0]}return null},d=Object.keys(u),f=0;f<d.length;f++){var g=u[d[f]],p=h(t,e,g);if(null!=p){var m=g[5],b=g[3],w=g[1],y=En(m,b,w,p);if(g.isTop&&y<=e)return!0;if(g.isBottom&&e<=y)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:si(4,0),draw:function(t,e,n,i,r){this.renderer.nodeShapeImpl(this.name,t,e,n,i,r)},intersectLine:function(t,e,n,i,r,o,s){var a=e-(i/2+s),c=ni(r,o,t,e,t-(n/2+s),a,t+(n/2+s),a,!1);return c.length>0?c:$n(r,o,t,e,n,i,s)},checkPoint:function(t,e,n,i,r,o,s){var a=li(i,r),c=2*a;if(Kn(t,e,this.points,o,s,i,r-c,[0,-1],n))return!0;if(Kn(t,e,this.points,o,s,i-c,r,[0,-1],n))return!0;var l=i/2+2*n,u=r/2+2*n;return!!Gn(t,e,[o-l,s-u,o-l,s,o+l,s,o+l,s-u])||!!Jn(t,e,c,c,o+i/2-a,s+r/2-a,n)||!!Jn(t,e,c,c,o-i/2+a,s+r/2-a,n)}}},registerNodeShapes:function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",si(3,0)),this.generateRoundPolygon("round-triangle",si(3,0)),this.generatePolygon("rectangle",si(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n),this.generatePolygon("pentagon",si(5,0)),this.generateRoundPolygon("round-pentagon",si(5,0)),this.generatePolygon("hexagon",si(6,0)),this.generateRoundPolygon("round-hexagon",si(6,0)),this.generatePolygon("heptagon",si(7,0)),this.generateRoundPolygon("round-heptagon",si(7,0)),this.generatePolygon("octagon",si(8,0)),this.generateRoundPolygon("round-octagon",si(8,0));var i=new Array(20),r=ci(5,0),o=ci(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var a=0;a<o.length/2;a++)o[2*a]*=s,o[2*a+1]*=s;for(a=0;a<5;a++)i[4*a]=r[2*a],i[4*a+1]=r[2*a+1],i[4*a+2]=o[2*a],i[4*a+3]=o[2*a+1];i=ai(i),this.generatePolygon("star",i),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var c=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",c),this.generateRoundPolygon("round-tag",c),t.makePolygon=function(t){var n,i="polygon-"+t.join("$");return(n=this[i])?n:e.generatePolygon(i,t)}}},ph={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(t){t=t||De();var e=this;void 0===e.averageRedrawTime&&(e.averageRedrawTime=0),void 0===e.lastRedrawTime&&(e.lastRedrawTime=0),void 0===e.lastDrawTime&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t},beforeRender:function(t,e){if(!this.destroyed){null==e&&Te("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:t,priority:e}),n.sort((function(t,e){return e.priority-t.priority}))}}},mh=function(t,e,n){for(var i=t.beforeRenderCallbacks,r=0;r<i.length;r++)i[r].fn(e,n)};ph.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var n=function n(i){if(!t.destroyed){if(e.batching());else if(t.requestedFrame&&!t.skipFrame){mh(t,!0,i);var r=ie();t.render(t.renderOptions);var o=t.lastDrawTime=ie();void 0===t.averageRedrawTime&&(t.averageRedrawTime=o-r),void 0===t.redrawCount&&(t.redrawCount=0),t.redrawCount++,void 0===t.redrawTotalTime&&(t.redrawTotalTime=0);var s=o-r;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else mh(t,!1,i);t.skipFrame=!1,ne(n)}};ne(n)}};var bh=function(t){this.init(t)},wh=bh.prototype;wh.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],wh.init=function(t){var e=this;e.options=t,e.cy=t.cy;var n=e.container=t.cy.container();if(d){var i=d.document,r=i.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",a=null!=i.getElementById(o);if(n.className.indexOf(s)<0&&(n.className=(n.className||"")+" "+s),!a){var c=i.createElement("style");c.id=o,c.innerHTML="."+s+" { position: relative; }",r.insertBefore(c,r.children[0])}"static"===d.getComputedStyle(n).getPropertyValue("position")&&Ae("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=E(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()},wh.notify=function(t,e){var n=this,i=n.cy;this.destroyed||("init"!==t?"destroy"!==t?(("add"===t||"remove"===t||"move"===t&&i.hasCompoundNodes()||"load"===t||"zorder"===t||"mount"===t)&&n.invalidateCachedZSortedEles(),"viewport"===t&&n.redrawHint("select",!0),"load"!==t&&"resize"!==t&&"mount"!==t||(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):n.destroy():n.load())},wh.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var n=t.bindings[e],i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch(t){}},wh.isHeadless=function(){return!1},[Ku,hh,dh,fh,gh,ph].forEach((function(t){Q(wh,t)}));var yh=1e3/60,vh={setupDequeueing:function(t){return function(){var e=this,n=this.renderer;if(!e.dequeueingSetup){e.dequeueingSetup=!0;var i=Qt((function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()}),t.deqRedrawThreshold),r=function(r,o){var s=ie(),a=n.averageRedrawTime,c=n.lastRedrawTime,l=[],u=n.cy.extent(),h=n.getPixelRatio();for(r||n.flushRenderedStyleQueue();;){var d=ie(),f=d-s,g=d-o;if(c<yh){var p=yh-(r?a:0);if(g>=t.deqFastCost*p)break}else if(r){if(f>=t.deqCost*c||f>=t.deqAvgCost*a)break}else if(g>=t.deqNoDrawCost*yh)break;var m=t.deq(e,h,u);if(!(m.length>0))break;for(var b=0;b<m.length;b++)l.push(m[b])}l.length>0&&(t.onDeqd(e,l),!r&&t.shouldRedraw(e,l,h,u)&&i())},o=t.priority||Ee;n.beforeRender(r,o(e))}}}},_h=function(){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ke;e(this,t),this.idsByKey=new $e,this.keyForId=new $e,this.cachesByLvl=new $e,this.lvls=[],this.getKey=n,this.doesEleInvalidateKey=i}return i(t,[{key:"getIdsFor",value:function(t){null==t&&Te("Can not get id list for null key");var e=this.idsByKey,n=this.idsByKey.get(t);return n||(n=new He,e.set(t,n)),n}},{key:"addIdForKey",value:function(t,e){null!=t&&this.getIdsFor(t).add(e)}},{key:"deleteIdForKey",value:function(t,e){null!=t&&this.getIdsFor(t).delete(e)}},{key:"getNumberOfIdsForKey",value:function(t){return null==t?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var e=t.id(),n=this.keyForId.get(e),i=this.getKey(t);this.deleteIdForKey(n,e),this.addIdForKey(i,e),this.keyForId.set(e,i)}},{key:"deleteKeyMappingFor",value:function(t){var e=t.id(),n=this.keyForId.get(e);this.deleteIdForKey(n,e),this.keyForId.delete(e)}},{key:"keyHasChangedFor",value:function(t){var e=t.id();return this.keyForId.get(e)!==this.getKey(t)}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var e=this.cachesByLvl,n=this.lvls,i=e.get(t);return i||(i=new $e,e.set(t,i),n.push(t)),i}},{key:"getCache",value:function(t,e){return this.getCachesAt(e).get(t)}},{key:"get",value:function(t,e){var n=this.getKey(t),i=this.getCache(n,e);return null!=i&&this.updateKeyMappingFor(t),i}},{key:"getForCachedKey",value:function(t,e){var n=this.keyForId.get(t.id());return this.getCache(n,e)}},{key:"hasCache",value:function(t,e){return this.getCachesAt(e).has(t)}},{key:"has",value:function(t,e){var n=this.getKey(t);return this.hasCache(n,e)}},{key:"setCache",value:function(t,e,n){n.key=t,this.getCachesAt(e).set(t,n)}},{key:"set",value:function(t,e,n){var i=this.getKey(t);this.setCache(i,e,n),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,e){this.getCachesAt(e).delete(t)}},{key:"delete",value:function(t,e){var n=this.getKey(t);this.deleteCache(n,e)}},{key:"invalidateKey",value:function(t){var e=this;this.lvls.forEach((function(n){return e.deleteCache(t,n)}))}},{key:"invalidate",value:function(t){var e=t.id(),n=this.keyForId.get(e);this.deleteKeyMappingFor(t);var i=this.doesEleInvalidateKey(t);return i&&this.invalidateKey(n),i||0===this.getNumberOfIdsForKey(n)}}]),t}(),kh=25,xh=50,Eh=-4,Th=3,Ch=7.99,Ah=8,Sh=1024,Ih=1024,Mh=1024,Ph=.2,Oh=.8,Dh=10,Nh=.15,Lh=.1,Rh=.9,Bh=.9,Fh=100,jh=1,$h={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Vh=Ne({getKey:null,doesEleInvalidateKey:ke,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:_e,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),zh=function(t,e){var n=this;n.renderer=t,n.onDequeues=[];var i=Vh(e);Q(n,i),n.lookup=new _h(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},Hh=zh.prototype;Hh.reasons=$h,Hh.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]},Hh.getRetiredTextureQueue=function(t){var e=this,n=e.eleImgCaches.retired=e.eleImgCaches.retired||{};return n[t]=n[t]||[]},Hh.getElementQueue=function(){var t=this;return t.eleCacheQueue=t.eleCacheQueue||new Ke((function(t,e){return e.reqs-t.reqs}))},Hh.getElementKeyToQueue=function(){var t=this;return t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{}},Hh.getElement=function(t,e,n,i,r){var o=this,s=this.renderer,a=s.cy.zoom(),c=this.lookup;if(!e||0===e.w||0===e.h||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed())return null;if(!o.allowEdgeTxrCaching&&t.isEdge()||!o.allowParentTxrCaching&&t.isParent())return null;if(null==i&&(i=Math.ceil(yn(a*n))),i<Eh)i=Eh;else if(a>=Ch||i>Th)return null;var l=Math.pow(2,i),u=e.h*l,h=e.w*l,d=s.eleTextBiggerThanMin(t,l);if(!this.isVisible(t,d))return null;var f,g=c.get(t,i);if(g&&g.invalidated&&(g.invalidated=!1,g.texture.invalidatedWidth-=g.width),g)return g;if(f=u<=kh?kh:u<=xh?xh:Math.ceil(u/xh)*xh,u>Mh||h>Ih)return null;var p=o.getTextureQueue(f),m=p[p.length-2],b=function(){return o.recycleTexture(f,h)||o.addTexture(f,h)};m||(m=p[p.length-1]),m||(m=b()),m.width-m.usedWidth<h&&(m=b());for(var w,y=function(t){return t&&t.scaledLabelShown===d},v=r&&r===$h.dequeue,_=r&&r===$h.highQuality,k=r&&r===$h.downscale,x=i+1;x<=Th;x++){var E=c.get(t,x);if(E){w=E;break}}var T=w&&w.level===i+1?w:null,C=function(){m.context.drawImage(T.texture.canvas,T.x,0,T.width,T.height,m.usedWidth,0,h,u)};if(m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(m.usedWidth,0,h,f),y(T))C();else if(y(w)){if(!_)return o.queueElement(t,w.level-1),w;for(var A=w.level;A>i;A--)T=o.getElement(t,e,n,A,$h.downscale);C()}else{var S;if(!v&&!_&&!k)for(var I=i-1;I>=Eh;I--){var M=c.get(t,I);if(M){S=M;break}}if(y(S))return o.queueElement(t,i),S;m.context.translate(m.usedWidth,0),m.context.scale(l,l),this.drawElement(m.context,t,e,d,!1),m.context.scale(1/l,1/l),m.context.translate(-m.usedWidth,0)}return g={x:m.usedWidth,texture:m,level:i,scale:l,width:h,height:u,scaledLabelShown:d},m.usedWidth+=Math.ceil(h+Ah),m.eleCaches.push(g),c.set(t,i,g),o.checkTextureFullness(m),g},Hh.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])},Hh.invalidateElement=function(t){var e=this,n=e.lookup,i=[];if(n.isInvalid(t)){for(var r=Eh;r<=Th;r++){var o=n.getForCachedKey(t,r);o&&i.push(o)}if(n.invalidate(t))for(var s=0;s<i.length;s++){var a=i[s],c=a.texture;c.invalidatedWidth+=a.width,a.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(t)}},Hh.checkTextureUtility=function(t){t.invalidatedWidth>=Ph*t.width&&this.retireTexture(t)},Hh.checkTextureFullness=function(t){var e=this.getTextureQueue(t.height);t.usedWidth/t.width>Oh&&t.fullnessChecks>=Dh?Le(e,t):t.fullnessChecks++},Hh.retireTexture=function(t){var e=this,n=t.height,i=e.getTextureQueue(n),r=this.lookup;Le(i,t),t.retired=!0;for(var o=t.eleCaches,s=0;s<o.length;s++){var a=o[s];r.deleteCache(a.key,a.level)}Re(o),e.getRetiredTextureQueue(n).push(t)},Hh.addTexture=function(t,e){var n=this,i={};return n.getTextureQueue(t).push(i),i.eleCaches=[],i.height=t,i.width=Math.max(Sh,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=n.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i},Hh.recycleTexture=function(t,e){for(var n=this,i=n.getTextureQueue(t),r=n.getRetiredTextureQueue(t),o=0;o<r.length;o++){var s=r[o];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,Re(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),Le(r,s),i.push(s),s}},Hh.queueElement=function(t,e){var n=this,i=n.getElementQueue(),r=n.getElementKeyToQueue(),o=this.getKey(t),s=r[o];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,i.updateItem(s);else{var a={eles:t.spawn().merge(t),level:e,reqs:1,key:o};i.push(a),r[o]=a}},Hh.dequeue=function(t){for(var e=this,n=e.getElementQueue(),i=e.getElementKeyToQueue(),r=[],o=e.lookup,s=0;s<jh&&n.size()>0;s++){var a=n.pop(),c=a.key,l=a.eles[0],u=o.hasCache(l,a.level);if(i[c]=null,!u){r.push(a);var h=e.getBoundingBox(l);e.getElement(l,h,t,a.level,$h.dequeue)}}return r},Hh.removeFromQueue=function(t){var e=this,n=e.getElementQueue(),i=e.getElementKeyToQueue(),r=this.getKey(t),o=i[r];null!=o&&(1===o.eles.length?(o.reqs=ve,n.updateItem(o),n.pop(),i[r]=null):o.eles.unmerge(t))},Hh.onDequeue=function(t){this.onDequeues.push(t)},Hh.offDequeue=function(t){Le(this.onDequeues,t)},Hh.setupDequeueing=vh.setupDequeueing({deqRedrawThreshold:Fh,deqCost:Nh,deqAvgCost:Lh,deqNoDrawCost:Rh,deqFastCost:Bh,deq:function(t,e,n){return t.dequeue(e,n)},onDeqd:function(t,e){for(var n=0;n<t.onDequeues.length;n++)(0,t.onDequeues[n])(e)},shouldRedraw:function(t,e,n,i){for(var r=0;r<e.length;r++)for(var o=e[r].eles,s=0;s<o.length;s++){var a=o[s].boundingBox();if(Rn(a,i))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var Uh=1,qh=-4,Wh=2,Gh=3.99,Kh=50,Yh=50,Xh=.15,Zh=.1,Qh=.9,Jh=.9,td=1,ed=250,nd=16e6,id=!0,rd=function(t){var e=this,n=e.renderer=t,i=n.cy;e.layersByLevel={},e.firstGet=!0,e.lastInvalidationTime=ie()-2*ed,e.skipping=!1,e.eleTxrDeqs=i.collection(),e.scheduleElementRefinement=Qt((function(){e.refineElementTextures(e.eleTxrDeqs),e.eleTxrDeqs.unmerge(e.eleTxrDeqs)}),Yh),n.beforeRender((function(t,n){n-e.lastInvalidationTime<=ed?e.skipping=!0:e.skipping=!1}),n.beforeRenderPriorities.lyrTxrSkip);var r=function(t,e){return e.reqs-t.reqs};e.layersQueue=new Ke(r),e.setupDequeueing()},od=rd.prototype,sd=0,ad=Math.pow(2,53)-1;od.makeLayer=function(t,e){var n=Math.pow(2,e),i=Math.ceil(t.w*n),r=Math.ceil(t.h*n),o=this.renderer.makeOffscreenCanvas(i,r),s={id:sd=++sd%ad,bb:t,level:e,width:i,height:r,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},a=s.context,c=-s.bb.x1,l=-s.bb.y1;return a.scale(n,n),a.translate(c,l),s},od.getLayers=function(t,e,n){var i=this,r=i.renderer.cy.zoom(),o=i.firstGet;if(i.firstGet=!1,null==n)if((n=Math.ceil(yn(r*e)))<qh)n=qh;else if(r>=Gh||n>Wh)return null;i.validateLayersElesOrdering(n,t);var s,a,c=i.layersByLevel,l=Math.pow(2,n),u=c[n]=c[n]||[];if(i.levelIsComplete(n,t))return u;!function(){var e=function(e){if(i.validateLayersElesOrdering(e,t),i.levelIsComplete(e,t))return a=c[e],!0},r=function(t){if(!a)for(var i=n+t;qh<=i&&i<=Wh&&!e(i);i+=t);};r(1),r(-1);for(var o=u.length-1;o>=0;o--){var s=u[o];s.invalid&&Le(u,s)}}();var h=function(){if(!s){s=Sn();for(var e=0;e<t.length;e++)Pn(s,t[e].boundingBox())}return s},d=function(t){var e=(t=t||{}).after;if(h(),s.w*l*(s.h*l)>nd)return null;var r=i.makeLayer(s,n);if(null!=e){var o=u.indexOf(e)+1;u.splice(o,0,r)}else(void 0===t.insert||t.insert)&&u.unshift(r);return r};if(i.skipping&&!o)return null;for(var f=null,g=t.length/Uh,p=!o,m=0;m<t.length;m++){var b=t[m],w=b._private.rscratch,y=w.imgLayerCaches=w.imgLayerCaches||{},v=y[n];if(v)f=v;else{if((!f||f.eles.length>=g||!jn(f.bb,b.boundingBox()))&&!(f=d({insert:!0,after:f})))return null;a||p?i.queueLayer(f,b):i.drawEleInLayer(f,b,n,e),f.eles.push(b),y[n]=f}}return a||(p?null:u)},od.getEleLevelForLayerLevel=function(t,e){return t},od.drawEleInLayer=function(t,e,n,i){var r=this,o=this.renderer,s=t.context,a=e.boundingBox();0!==a.w&&0!==a.h&&e.visible()&&(n=r.getEleLevelForLayerLevel(n,i),o.setImgSmoothing(s,!1),o.drawCachedElement(s,e,null,null,n,id),o.setImgSmoothing(s,!0))},od.levelIsComplete=function(t,e){var n=this.layersByLevel[t];if(!n||0===n.length)return!1;for(var i=0,r=0;r<n.length;r++){var o=n[r];if(o.reqs>0)return!1;if(o.invalid)return!1;i+=o.eles.length}return i===e.length},od.validateLayersElesOrdering=function(t,e){var n=this.layersByLevel[t];if(n)for(var i=0;i<n.length;i++){for(var r=n[i],o=-1,s=0;s<e.length;s++)if(r.eles[0]===e[s]){o=s;break}if(o<0)this.invalidateLayer(r);else{var a=o;for(s=0;s<r.eles.length;s++)if(r.eles[s]!==e[a+s]){this.invalidateLayer(r);break}}}},od.updateElementsInLayers=function(t,e){for(var n=this,i=S(t[0]),r=0;r<t.length;r++)for(var o=i?null:t[r],s=i?t[r]:t[r].ele,a=s._private.rscratch,c=a.imgLayerCaches=a.imgLayerCaches||{},l=qh;l<=Wh;l++){var u=c[l];u&&(o&&n.getEleLevelForLayerLevel(u.level)!==o.level||e(u,s,o))}},od.haveLayers=function(){for(var t=this,e=!1,n=qh;n<=Wh;n++){var i=t.layersByLevel[n];if(i&&i.length>0){e=!0;break}}return e},od.invalidateElements=function(t){var e=this;0!==t.length&&(e.lastInvalidationTime=ie(),0!==t.length&&e.haveLayers()&&e.updateElementsInLayers(t,(function(t,n,i){e.invalidateLayer(t)})))},od.invalidateLayer=function(t){if(this.lastInvalidationTime=ie(),!t.invalid){var e=t.level,n=t.eles,i=this.layersByLevel[e];Le(i,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var r=0;r<n.length;r++){var o=n[r]._private.rscratch.imgLayerCaches;o&&(o[e]=null)}}},od.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,(function(t,n,i){var r=t.replacement;if(r||((r=t.replacement=e.makeLayer(t.bb,t.level)).replaces=t,r.eles=t.eles),!r.reqs)for(var o=0;o<r.eles.length;o++)e.queueLayer(r,r.eles[o])}))},od.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()},od.queueLayer=function(t,e){var n=this.layersQueue,i=t.elesQueue,r=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(r[e.id()])return;i.push(e),r[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}},od.dequeue=function(t){for(var e=this,n=e.layersQueue,i=[],r=0;r<td&&0!==n.size();){var o=n.peek();if(o.replacement)n.pop();else if(o.replaces&&o!==o.replaces.replacement)n.pop();else if(o.invalid)n.pop();else{var s=o.elesQueue.shift();s&&(e.drawEleInLayer(o,s,o.level,t),r++),0===i.length&&i.push(!0),0===o.elesQueue.length&&(n.pop(),o.reqs=0,o.replaces&&e.applyLayerReplacement(o),e.requestRedraw())}}return i},od.applyLayerReplacement=function(t){var e=this,n=e.layersByLevel[t.level],i=t.replaces,r=n.indexOf(i);if(!(r<0||i.invalid)){n[r]=t;for(var o=0;o<t.eles.length;o++){var s=t.eles[o]._private,a=s.imgLayerCaches=s.imgLayerCaches||{};a&&(a[t.level]=t)}e.requestRedraw()}},od.requestRedraw=Qt((function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()}),100),od.setupDequeueing=vh.setupDequeueing({deqRedrawThreshold:Kh,deqCost:Xh,deqAvgCost:Zh,deqNoDrawCost:Qh,deqFastCost:Jh,deq:function(t,e){return t.dequeue(e)},onDeqd:Ee,shouldRedraw:_e,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var cd,ld={};function ud(t,e){for(var n=0;n<e.length;n++){var i=e[n];t.lineTo(i.x,i.y)}}function hd(t,e,n){for(var i,r=0;r<e.length;r++){var o=e[r];0===r&&(i=o),t.lineTo(o.x,o.y)}t.quadraticCurveTo(n.x,n.y,i.x,i.y)}function dd(t,e,n){t.beginPath&&t.beginPath();for(var i=e,r=0;r<i.length;r++){var o=i[r];t.lineTo(o.x,o.y)}var s=n,a=n[0];for(t.moveTo(a.x,a.y),r=1;r<s.length;r++)o=s[r],t.lineTo(o.x,o.y);t.closePath&&t.closePath()}function fd(t,e,n,i,r){t.beginPath&&t.beginPath(),t.arc(n,i,r,0,2*Math.PI,!1);var o=e,s=o[0];t.moveTo(s.x,s.y);for(var a=0;a<o.length;a++){var c=o[a];t.lineTo(c.x,c.y)}t.closePath&&t.closePath()}function gd(t,e,n,i){t.arc(e,n,i,0,2*Math.PI,!1)}ld.arrowShapeImpl=function(t){return(cd||(cd={polygon:ud,"triangle-backcurve":hd,"triangle-tee":dd,"circle-triangle":fd,"triangle-cross":dd,circle:gd}))[t]};var pd={drawElement:function(t,e,n,i,r,o){var s=this;e.isNode()?s.drawNode(t,e,n,i,r,o):s.drawEdge(t,e,n,i,r,o)},drawElementOverlay:function(t,e){var n=this;e.isNode()?n.drawNodeOverlay(t,e):n.drawEdgeOverlay(t,e)},drawElementUnderlay:function(t,e){var n=this;e.isNode()?n.drawNodeUnderlay(t,e):n.drawEdgeUnderlay(t,e)},drawCachedElementPortion:function(t,e,n,i,r,o,s,a){var c=this,l=n.getBoundingBox(e);if(0!==l.w&&0!==l.h){var u=n.getElement(e,l,i,r,o);if(null!=u){var h=a(c,e);if(0===h)return;var d,f,g,p,m,b,w=s(c,e),y=l.x1,v=l.y1,_=l.w,k=l.h;if(0!==w){var x=n.getRotationPoint(e);g=x.x,p=x.y,t.translate(g,p),t.rotate(w),(m=c.getImgSmoothing(t))||c.setImgSmoothing(t,!0);var E=n.getRotationOffset(e);d=E.x,f=E.y}else d=y,f=v;1!==h&&(b=t.globalAlpha,t.globalAlpha=b*h),t.drawImage(u.texture.canvas,u.x,0,u.width,u.height,d,f,_,k),1!==h&&(t.globalAlpha=b),0!==w&&(t.rotate(-w),t.translate(-g,-p),m||c.setImgSmoothing(t,!1))}else n.drawElement(t,e)}}},md=function(){return 0},bd=function(t,e){return t.getTextAngle(e,null)},wd=function(t,e){return t.getTextAngle(e,"source")},yd=function(t,e){return t.getTextAngle(e,"target")},vd=function(t,e){return e.effectiveOpacity()},_d=function(t,e){return e.pstyle("text-opacity").pfValue*e.effectiveOpacity()};pd.drawCachedElement=function(t,e,n,i,r,o){var s=this,a=s.data,c=a.eleTxrCache,l=a.lblTxrCache,u=a.slbTxrCache,h=a.tlbTxrCache,d=e.boundingBox(),f=!0===o?c.reasons.highQuality:null;if(0!==d.w&&0!==d.h&&e.visible()&&(!i||Rn(d,i))){var g=e.isEdge(),p=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,c,n,r,f,md,vd),g&&p||s.drawCachedElementPortion(t,e,l,n,r,f,bd,_d),g&&!p&&(s.drawCachedElementPortion(t,e,u,n,r,f,wd,_d),s.drawCachedElementPortion(t,e,h,n,r,f,yd,_d)),s.drawElementOverlay(t,e)}},pd.drawElements=function(t,e){for(var n=this,i=0;i<e.length;i++){var r=e[i];n.drawElement(t,r)}},pd.drawCachedElements=function(t,e,n,i){for(var r=this,o=0;o<e.length;o++){var s=e[o];r.drawCachedElement(t,s,n,i)}},pd.drawCachedNodes=function(t,e,n,i){for(var r=this,o=0;o<e.length;o++){var s=e[o];s.isNode()&&r.drawCachedElement(t,s,n,i)}},pd.drawLayeredElements=function(t,e,n,i){var r=this,o=r.data.lyrTxrCache.getLayers(e,n);if(o)for(var s=0;s<o.length;s++){var a=o[s],c=a.bb;0!==c.w&&0!==c.h&&t.drawImage(a.canvas,c.x1,c.y1,c.w,c.h)}else r.drawCachedElements(t,e,n,i)};var kd={drawEdge:function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=this,a=e._private.rscratch;if((!o||e.visible())&&!a.badLine&&null!=a.allpts&&!isNaN(a.allpts[0])){var c;n&&(c=n,t.translate(-c.x1,-c.y1));var l=o?e.pstyle("opacity").value:1,u=o?e.pstyle("line-opacity").value:1,h=e.pstyle("curve-style").value,d=e.pstyle("line-style").value,f=e.pstyle("width").pfValue,g=e.pstyle("line-cap").value,p=l*u,m=l*u,b=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;"straight-triangle"===h?(s.eleStrokeStyle(t,e,n),s.drawEdgeTrianglePath(e,t,a.allpts)):(t.lineWidth=f,t.lineCap=g,s.eleStrokeStyle(t,e,n),s.drawEdgePath(e,t,a.allpts,d),t.lineCap="butt")},w=function(){r&&s.drawEdgeOverlay(t,e)},y=function(){r&&s.drawEdgeUnderlay(t,e)},v=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;s.drawArrowheads(t,e,n)},_=function(){s.drawElementText(t,e,null,i)};if(t.lineJoin="round","yes"===e.pstyle("ghost").value){var k=e.pstyle("ghost-offset-x").pfValue,x=e.pstyle("ghost-offset-y").pfValue,E=e.pstyle("ghost-opacity").value,T=p*E;t.translate(k,x),b(T),v(T),t.translate(-k,-x)}y(),b(),v(),w(),_(),n&&t.translate(c.x1,c.y1)}}},xd=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(e,n){if(n.visible()){var i=n.pstyle("".concat(t,"-opacity")).value;if(0!==i){var r=this,o=r.usePaths(),s=n._private.rscratch,a=2*n.pstyle("".concat(t,"-padding")).pfValue,c=n.pstyle("".concat(t,"-color")).value;e.lineWidth=a,"self"!==s.edgeType||o?e.lineCap="round":e.lineCap="butt",r.colorStrokeStyle(e,c[0],c[1],c[2],i),r.drawEdgePath(n,e,s.allpts,"solid")}}}};kd.drawEdgeOverlay=xd("overlay"),kd.drawEdgeUnderlay=xd("underlay"),kd.drawEdgePath=function(t,e,n,i){var r,o=t._private.rscratch,s=e,a=!1,c=this.usePaths(),l=t.pstyle("line-dash-pattern").pfValue,u=t.pstyle("line-dash-offset").pfValue;if(c){var h=n.join("$");o.pathCacheKey&&o.pathCacheKey===h?(r=e=o.pathCache,a=!0):(r=e=new Path2D,o.pathCacheKey=h,o.pathCache=r)}if(s.setLineDash)switch(i){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash(l),s.lineDashOffset=u;break;case"solid":s.setLineDash([])}if(!a&&!o.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(n[0],n[1]),o.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<n.length;d+=4)e.quadraticCurveTo(n[d],n[d+1],n[d+2],n[d+3]);break;case"straight":case"segments":case"haystack":for(var f=2;f+1<n.length;f+=2)e.lineTo(n[f],n[f+1])}e=s,c?e.stroke(r):e.stroke(),e.setLineDash&&e.setLineDash([])},kd.drawEdgeTrianglePath=function(t,e,n){e.fillStyle=e.strokeStyle;for(var i=t.pstyle("width").pfValue,r=0;r+1<n.length;r+=2){var o=[n[r+2]-n[r],n[r+3]-n[r+1]],s=Math.sqrt(o[0]*o[0]+o[1]*o[1]),a=[o[1]/s,-o[0]/s],c=[a[0]*i/2,a[1]*i/2];e.beginPath(),e.moveTo(n[r]-c[0],n[r+1]-c[1]),e.lineTo(n[r]+c[0],n[r+1]+c[1]),e.lineTo(n[r+2],n[r+3]),e.closePath(),e.fill()}},kd.drawArrowheads=function(t,e,n){var i=e._private.rscratch,r="haystack"===i.edgeType;r||this.drawArrowhead(t,e,"source",i.arrowStartX,i.arrowStartY,i.srcArrowAngle,n),this.drawArrowhead(t,e,"mid-target",i.midX,i.midY,i.midtgtArrowAngle,n),this.drawArrowhead(t,e,"mid-source",i.midX,i.midY,i.midsrcArrowAngle,n),r||this.drawArrowhead(t,e,"target",i.arrowEndX,i.arrowEndY,i.tgtArrowAngle,n)},kd.drawArrowhead=function(t,e,n,i,r,o,s){if(!(isNaN(i)||null==i||isNaN(r)||null==r||isNaN(o)||null==o)){var a=this,c=e.pstyle(n+"-arrow-shape").value;if("none"!==c){var l="hollow"===e.pstyle(n+"-arrow-fill").value?"both":"filled",u=e.pstyle(n+"-arrow-fill").value,h=e.pstyle("width").pfValue,d=e.pstyle("opacity").value;void 0===s&&(s=d);var f=t.globalCompositeOperation;1===s&&"hollow"!==u||(t.globalCompositeOperation="destination-out",a.colorFillStyle(t,255,255,255,1),a.colorStrokeStyle(t,255,255,255,1),a.drawArrowShape(e,t,l,h,c,i,r,o),t.globalCompositeOperation=f);var g=e.pstyle(n+"-arrow-color").value;a.colorFillStyle(t,g[0],g[1],g[2],s),a.colorStrokeStyle(t,g[0],g[1],g[2],s),a.drawArrowShape(e,t,u,h,c,i,r,o)}}},kd.drawArrowShape=function(t,e,n,i,r,o,s,a){var c,l=this,u=this.usePaths()&&"triangle-cross"!==r,h=!1,d=e,f={x:o,y:s},g=t.pstyle("arrow-scale").value,p=this.getArrowWidth(i,g),m=l.arrowShapes[r];if(u){var b=l.arrowPathCache=l.arrowPathCache||[],w=ge(r),y=b[w];null!=y?(c=e=y,h=!0):(c=e=new Path2D,b[w]=c)}h||(e.beginPath&&e.beginPath(),u?m.draw(e,1,0,{x:0,y:0},1):m.draw(e,p,a,f,i),e.closePath&&e.closePath()),e=d,u&&(e.translate(o,s),e.rotate(a),e.scale(p,p)),"filled"!==n&&"both"!==n||(u?e.fill(c):e.fill()),"hollow"!==n&&"both"!==n||(e.lineWidth=(m.matchEdgeWidth?i:1)/(u?p:1),e.lineJoin="miter",u?e.stroke(c):e.stroke()),u&&(e.scale(1/p,1/p),e.rotate(-a),e.translate(-o,-s))};var Ed={safeDrawImage:function(t,e,n,i,r,o,s,a,c,l){if(!(r<=0||o<=0||c<=0||l<=0))try{t.drawImage(e,n,i,r,o,s,a,c,l)}catch(t){Ae(t)}},drawInscribedImage:function(t,e,n,i,r){var o=this,s=n.position(),a=s.x,c=s.y,l=n.cy().style(),u=l.getIndexedStyle.bind(l),h=u(n,"background-fit","value",i),d=u(n,"background-repeat","value",i),f=n.width(),g=n.height(),p=2*n.padding(),m=f+("inner"===u(n,"background-width-relative-to","value",i)?0:p),b=g+("inner"===u(n,"background-height-relative-to","value",i)?0:p),w=n._private.rscratch,y="node"===u(n,"background-clip","value",i),v=u(n,"background-image-opacity","value",i)*r,_=u(n,"background-image-smoothing","value",i),k=e.width||e.cachedW,x=e.height||e.cachedH;null!=k&&null!=x||(document.body.appendChild(e),k=e.cachedW=e.width||e.offsetWidth,x=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var E=k,T=x;if("auto"!==u(n,"background-width","value",i)&&(E="%"===u(n,"background-width","units",i)?u(n,"background-width","pfValue",i)*m:u(n,"background-width","pfValue",i)),"auto"!==u(n,"background-height","value",i)&&(T="%"===u(n,"background-height","units",i)?u(n,"background-height","pfValue",i)*b:u(n,"background-height","pfValue",i)),0!==E&&0!==T){if("contain"===h)E*=C=Math.min(m/E,b/T),T*=C;else if("cover"===h){var C;E*=C=Math.max(m/E,b/T),T*=C}var A=a-m/2,S=u(n,"background-position-x","units",i),I=u(n,"background-position-x","pfValue",i);A+="%"===S?(m-E)*I:I;var M=u(n,"background-offset-x","units",i),P=u(n,"background-offset-x","pfValue",i);A+="%"===M?(m-E)*P:P;var O=c-b/2,D=u(n,"background-position-y","units",i),N=u(n,"background-position-y","pfValue",i);O+="%"===D?(b-T)*N:N;var L=u(n,"background-offset-y","units",i),R=u(n,"background-offset-y","pfValue",i);O+="%"===L?(b-T)*R:R,w.pathCache&&(A-=a,O-=c,a=0,c=0);var B=t.globalAlpha;t.globalAlpha=v;var F=o.getImgSmoothing(t),j=!1;if("no"===_&&F?(o.setImgSmoothing(t,!1),j=!0):"yes"!==_||F||(o.setImgSmoothing(t,!0),j=!0),"no-repeat"===d)y&&(t.save(),w.pathCache?t.clip(w.pathCache):(o.nodeShapes[o.getNodeShape(n)].draw(t,a,c,m,b),t.clip())),o.safeDrawImage(t,e,0,0,k,x,A,O,E,T),y&&t.restore();else{var $=t.createPattern(e,d);t.fillStyle=$,o.nodeShapes[o.getNodeShape(n)].draw(t,a,c,m,b),t.translate(A,O),t.fill(),t.translate(-A,-O)}t.globalAlpha=B,j&&o.setImgSmoothing(t,F)}}},Td={};function Cd(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+i-o,n),t.quadraticCurveTo(e+i,n,e+i,n+o),t.lineTo(e+i,n+r-o),t.quadraticCurveTo(e+i,n+r,e+i-o,n+r),t.lineTo(e+o,n+r),t.quadraticCurveTo(e,n+r,e,n+r-o),t.lineTo(e,n+o),t.quadraticCurveTo(e,n,e+o,n),t.closePath(),t.fill()}Td.eleTextBiggerThanMin=function(t,e){if(!e){var n=t.cy().zoom(),i=this.getPixelRatio(),r=Math.ceil(yn(n*i));e=Math.pow(2,r)}return!(t.pstyle("font-size").pfValue*e<t.pstyle("min-zoomed-font-size").pfValue)},Td.drawElementText=function(t,e,n,i,r){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=this;if(null==i){if(o&&!s.eleTextBiggerThanMin(e))return}else if(!1===i)return;if(e.isNode()){var a=e.pstyle("label");if(!a||!a.value)return;var c=s.getLabelJustification(e);t.textAlign=c,t.textBaseline="bottom"}else{var l=e.element()._private.rscratch.badLine,u=e.pstyle("label"),h=e.pstyle("source-label"),d=e.pstyle("target-label");if(l||(!u||!u.value)&&(!h||!h.value)&&(!d||!d.value))return;t.textAlign="center",t.textBaseline="bottom"}var f,g=!n;n&&(f=n,t.translate(-f.x1,-f.y1)),null==r?(s.drawText(t,e,null,g,o),e.isEdge()&&(s.drawText(t,e,"source",g,o),s.drawText(t,e,"target",g,o))):s.drawText(t,e,r,g,o),n&&t.translate(f.x1,f.y1)},Td.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((e=this.fontCaches[n]).context===t)return e;return e={context:t},this.fontCaches.push(e),e},Td.setupTextStyle=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.pstyle("font-style").strValue,r=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,a=n?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,c=e.pstyle("text-outline-opacity").value*a,l=e.pstyle("color").value,u=e.pstyle("text-outline-color").value;t.font=i+" "+s+" "+r+" "+o,t.lineJoin="round",this.colorFillStyle(t,l[0],l[1],l[2],a),this.colorStrokeStyle(t,u[0],u[1],u[2],c)},Td.getTextAngle=function(t,e){var n=t._private.rscratch,i=e?e+"-":"",r=t.pstyle(i+"text-rotation"),o=Fe(n,"labelAngle",e);return"autorotate"===r.strValue?t.isEdge()?o:0:"none"===r.strValue?0:r.pfValue},Td.drawText=function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=e._private.rscratch,s=r?e.effectiveOpacity():1;if(!r||0!==s&&0!==e.pstyle("text-opacity").value){"main"===n&&(n=null);var a,c,l=Fe(o,"labelX",n),u=Fe(o,"labelY",n),h=this.getLabelText(e,n);if(null!=h&&""!==h&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(t,e,r);var d,f=n?n+"-":"",g=Fe(o,"labelWidth",n),p=Fe(o,"labelHeight",n),m=e.pstyle(f+"text-margin-x").pfValue,b=e.pstyle(f+"text-margin-y").pfValue,w=e.isEdge(),y=e.pstyle("text-halign").value,v=e.pstyle("text-valign").value;switch(w&&(y="center",v="center"),l+=m,u+=b,0!==(d=i?this.getTextAngle(e,n):0)&&(a=l,c=u,t.translate(a,c),t.rotate(d),l=0,u=0),v){case"top":break;case"center":u+=p/2;break;case"bottom":u+=p}var _=e.pstyle("text-background-opacity").value,k=e.pstyle("text-border-opacity").value,x=e.pstyle("text-border-width").pfValue,E=e.pstyle("text-background-padding").pfValue;if(_>0||x>0&&k>0){var T=l-E;switch(y){case"left":T-=g;break;case"center":T-=g/2}var C=u-p-E,A=g+2*E,S=p+2*E;if(_>0){var I=t.fillStyle,M=e.pstyle("text-background-color").value;t.fillStyle="rgba("+M[0]+","+M[1]+","+M[2]+","+_*s+")",0===e.pstyle("text-background-shape").strValue.indexOf("round")?Cd(t,T,C,A,S,2):t.fillRect(T,C,A,S),t.fillStyle=I}if(x>0&&k>0){var P=t.strokeStyle,O=t.lineWidth,D=e.pstyle("text-border-color").value,N=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+D[0]+","+D[1]+","+D[2]+","+k*s+")",t.lineWidth=x,t.setLineDash)switch(N){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=x/4,t.setLineDash([]);break;case"solid":t.setLineDash([])}if(t.strokeRect(T,C,A,S),"double"===N){var L=x/2;t.strokeRect(T+L,C+L,A-2*L,S-2*L)}t.setLineDash&&t.setLineDash([]),t.lineWidth=O,t.strokeStyle=P}}var R=2*e.pstyle("text-outline-width").pfValue;if(R>0&&(t.lineWidth=R),"wrap"===e.pstyle("text-wrap").value){var B=Fe(o,"labelWrapCachedLines",n),F=Fe(o,"labelLineHeight",n),j=g/2,$=this.getLabelJustification(e);switch("auto"===$||("left"===y?"left"===$?l+=-g:"center"===$&&(l+=-j):"center"===y?"left"===$?l+=-j:"right"===$&&(l+=j):"right"===y&&("center"===$?l+=j:"right"===$&&(l+=g))),v){case"top":case"center":case"bottom":u-=(B.length-1)*F}for(var V=0;V<B.length;V++)R>0&&t.strokeText(B[V],l,u),t.fillText(B[V],l,u),u+=F}else R>0&&t.strokeText(h,l,u),t.fillText(h,l,u);0!==d&&(t.rotate(-d),t.translate(-a,-c))}}};var Ad={drawNode:function(t,e,n){var i,r,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],c=this,l=e._private,u=l.rscratch,h=e.position();if(E(h.x)&&E(h.y)&&(!a||e.visible())){var d,f,g=a?e.effectiveOpacity():1,p=c.usePaths(),m=!1,b=e.padding();i=e.width()+2*b,r=e.height()+2*b,n&&(f=n,t.translate(-f.x1,-f.y1));for(var w=e.pstyle("background-image").value,y=new Array(w.length),v=new Array(w.length),_=0,k=0;k<w.length;k++){var x=w[k];if(y[k]=null!=x&&"none"!==x){var T=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",k);_++,v[k]=c.getCachedImage(x,T,(function(){l.backgroundTimestamp=Date.now(),e.emitAndNotify("background")}))}}var C=e.pstyle("background-blacken").value,A=e.pstyle("border-width").pfValue,S=e.pstyle("background-opacity").value*g,I=e.pstyle("border-color").value,M=e.pstyle("border-style").value,P=e.pstyle("border-opacity").value*g;t.lineJoin="miter";var O=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;c.eleFillStyle(t,e,n)},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;c.colorStrokeStyle(t,I[0],I[1],I[2],e)},N=e.pstyle("shape").strValue,L=e.pstyle("shape-polygon-points").pfValue;if(p){t.translate(h.x,h.y);var R=c.nodePathCache=c.nodePathCache||[],B=pe("polygon"===N?N+","+L.join(","):N,""+r,""+i),F=R[B];null!=F?(d=F,m=!0,u.pathCache=d):(d=new Path2D,R[B]=u.pathCache=d)}var j=function(){if(!m){var n=h;p&&(n={x:0,y:0}),c.nodeShapes[c.getNodeShape(e)].draw(d||t,n.x,n.y,i,r)}p?t.fill(d):t.fill()},$=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=l.backgrounding,o=0,s=0;s<v.length;s++){var a=e.cy().style().getIndexedStyle(e,"background-image-containment","value",s);i&&"over"===a||!i&&"inside"===a?o++:y[s]&&v[s].complete&&!v[s].error&&(o++,c.drawInscribedImage(t,v[s],e,s,n))}l.backgrounding=!(o===_),r!==l.backgrounding&&e.updateStyle(!1)},V=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;c.hasPie(e)&&(c.drawPie(t,e,o),n&&(p||c.nodeShapes[c.getNodeShape(e)].draw(t,h.x,h.y,i,r)))},z=function(){var e=(C>0?C:-C)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:g),n=C>0?0:255;0!==C&&(c.colorFillStyle(t,n,n,n,e),p?t.fill(d):t.fill())},H=function(){if(A>0){if(t.lineWidth=A,t.lineCap="butt",t.setLineDash)switch(M){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([])}if(p?t.stroke(d):t.stroke(),"double"===M){t.lineWidth=A/3;var e=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",p?t.stroke(d):t.stroke(),t.globalCompositeOperation=e}t.setLineDash&&t.setLineDash([])}},U=function(){s&&c.drawNodeOverlay(t,e,h,i,r)},q=function(){s&&c.drawNodeUnderlay(t,e,h,i,r)},W=function(){c.drawElementText(t,e,null,o)};if("yes"===e.pstyle("ghost").value){var G=e.pstyle("ghost-offset-x").pfValue,K=e.pstyle("ghost-offset-y").pfValue,Y=e.pstyle("ghost-opacity").value,X=Y*g;t.translate(G,K),O(Y*S),j(),$(X,!0),D(Y*P),H(),V(0!==C||0!==A),$(X,!1),z(X),t.translate(-G,-K)}p&&t.translate(-h.x,-h.y),q(),p&&t.translate(h.x,h.y),O(),j(),$(g,!0),D(),H(),V(0!==C||0!==A),$(g,!1),z(),p&&t.translate(-h.x,-h.y),W(),U(),n&&t.translate(f.x1,f.y1)}}},Sd=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(e,n,i,r,o){var s=this;if(n.visible()){var a=n.pstyle("".concat(t,"-padding")).pfValue,c=n.pstyle("".concat(t,"-opacity")).value,l=n.pstyle("".concat(t,"-color")).value,u=n.pstyle("".concat(t,"-shape")).value;if(c>0){if(i=i||n.position(),null==r||null==o){var h=n.padding();r=n.width()+2*h,o=n.height()+2*h}s.colorFillStyle(e,l[0],l[1],l[2],c),s.nodeShapes[u].draw(e,i.x,i.y,r+2*a,o+2*a),e.fill()}}}};Ad.drawNodeOverlay=Sd("overlay"),Ad.drawNodeUnderlay=Sd("underlay"),Ad.hasPie=function(t){return(t=t[0])._private.hasPie},Ad.drawPie=function(t,e,n,i){e=e[0],i=i||e.position();var r=e.cy().style(),o=e.pstyle("pie-size"),s=i.x,a=i.y,c=e.width(),l=e.height(),u=Math.min(c,l)/2,h=0;this.usePaths()&&(s=0,a=0),"%"===o.units?u*=o.pfValue:void 0!==o.pfValue&&(u=o.pfValue/2);for(var d=1;d<=r.pieBackgroundN;d++){var f=e.pstyle("pie-"+d+"-background-size").value,g=e.pstyle("pie-"+d+"-background-color").value,p=e.pstyle("pie-"+d+"-background-opacity").value*n,m=f/100;m+h>1&&(m=1-h);var b=1.5*Math.PI+2*Math.PI*h,w=b+2*Math.PI*m;0===f||h>=1||h+m>1||(t.beginPath(),t.moveTo(s,a),t.arc(s,a,u,b,w),t.closePath(),this.colorFillStyle(t,g[0],g[1],g[2],p),t.fill(),h+=m)}};var Id={},Md=100;Id.getPixelRatio=function(){var t=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e},Id.paintCache=function(t){for(var e,n=this.paintCaches=this.paintCaches||[],i=!0,r=0;r<n.length;r++)if((e=n[r]).context===t){i=!1;break}return i&&(e={context:t},n.push(e)),e},Id.createGradientStyleFor=function(t,e,n,i,r){var o,s=this.usePaths(),a=n.pstyle(e+"-gradient-stop-colors").value,c=n.pstyle(e+"-gradient-stop-positions").pfValue;if("radial-gradient"===i)if(n.isEdge()){var l=n.sourceEndpoint(),u=n.targetEndpoint(),h=n.midpoint(),d=_n(l,h),f=_n(u,h);o=t.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(d,f))}else{var g=s?{x:0,y:0}:n.position(),p=n.paddedWidth(),m=n.paddedHeight();o=t.createRadialGradient(g.x,g.y,0,g.x,g.y,Math.max(p,m))}else if(n.isEdge()){var b=n.sourceEndpoint(),w=n.targetEndpoint();o=t.createLinearGradient(b.x,b.y,w.x,w.y)}else{var y=s?{x:0,y:0}:n.position(),v=n.paddedWidth()/2,_=n.paddedHeight()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":o=t.createLinearGradient(y.x,y.y-_,y.x,y.y+_);break;case"to-top":o=t.createLinearGradient(y.x,y.y+_,y.x,y.y-_);break;case"to-left":o=t.createLinearGradient(y.x+v,y.y,y.x-v,y.y);break;case"to-right":o=t.createLinearGradient(y.x-v,y.y,y.x+v,y.y);break;case"to-bottom-right":case"to-right-bottom":o=t.createLinearGradient(y.x-v,y.y-_,y.x+v,y.y+_);break;case"to-top-right":case"to-right-top":o=t.createLinearGradient(y.x-v,y.y+_,y.x+v,y.y-_);break;case"to-bottom-left":case"to-left-bottom":o=t.createLinearGradient(y.x+v,y.y-_,y.x-v,y.y+_);break;case"to-top-left":case"to-left-top":o=t.createLinearGradient(y.x+v,y.y+_,y.x-v,y.y-_)}}if(!o)return null;for(var k=c.length===a.length,x=a.length,E=0;E<x;E++)o.addColorStop(k?c[E]:E/(x-1),"rgba("+a[E][0]+","+a[E][1]+","+a[E][2]+","+r+")");return o},Id.gradientFillStyle=function(t,e,n,i){var r=this.createGradientStyleFor(t,"background",e,n,i);if(!r)return null;t.fillStyle=r},Id.colorFillStyle=function(t,e,n,i,r){t.fillStyle="rgba("+e+","+n+","+i+","+r+")"},Id.eleFillStyle=function(t,e,n){var i=e.pstyle("background-fill").value;if("linear-gradient"===i||"radial-gradient"===i)this.gradientFillStyle(t,e,i,n);else{var r=e.pstyle("background-color").value;this.colorFillStyle(t,r[0],r[1],r[2],n)}},Id.gradientStrokeStyle=function(t,e,n,i){var r=this.createGradientStyleFor(t,"line",e,n,i);if(!r)return null;t.strokeStyle=r},Id.colorStrokeStyle=function(t,e,n,i,r){t.strokeStyle="rgba("+e+","+n+","+i+","+r+")"},Id.eleStrokeStyle=function(t,e,n){var i=e.pstyle("line-fill").value;if("linear-gradient"===i||"radial-gradient"===i)this.gradientStrokeStyle(t,e,i,n);else{var r=e.pstyle("line-color").value;this.colorStrokeStyle(t,r[0],r[1],r[2],n)}},Id.matchCanvasSize=function(t){var e=this,n=e.data,i=e.findContainerClientCoords(),r=i[2],o=i[3],s=e.getPixelRatio(),a=e.motionBlurPxRatio;t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]&&t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG]||(s=a);var c,l=r*s,u=o*s;if(l!==e.canvasWidth||u!==e.canvasHeight){e.fontCaches=null;var h=n.canvasContainer;h.style.width=r+"px",h.style.height=o+"px";for(var d=0;d<e.CANVAS_LAYERS;d++)(c=n.canvases[d]).width=l,c.height=u,c.style.width=r+"px",c.style.height=o+"px";for(d=0;d<e.BUFFER_COUNT;d++)(c=n.bufferCanvases[d]).width=l,c.height=u,c.style.width=r+"px",c.style.height=o+"px";e.textureMult=1,s<=1&&(c=n.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=l*e.textureMult,c.height=u*e.textureMult),e.canvasWidth=l,e.canvasHeight=u}},Id.renderTo=function(t,e,n,i){this.render({forcedContext:t,forcedZoom:e,forcedPan:n,drawAllLayers:!0,forcedPxRatio:i})},Id.render=function(t){var e=(t=t||De()).forcedContext,n=t.drawAllLayers,i=t.drawOnlyNodeLayer,r=t.forcedZoom,o=t.forcedPan,s=this,a=void 0===t.forcedPxRatio?this.getPixelRatio():t.forcedPxRatio,c=s.cy,l=s.data,u=l.canvasNeedsRedraw,h=s.textureOnViewport&&!e&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),d=void 0!==t.motionBlur?t.motionBlur:s.motionBlur,f=s.motionBlurPxRatio,g=c.hasCompoundNodes(),p=s.hoverData.draggingEles,m=!(!s.hoverData.selecting&&!s.touchData.selecting),b=d=d&&!e&&s.motionBlurEnabled&&!m;e||(s.prevPxRatio!==a&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=a),!e&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),d&&(null==s.mbFrames&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(b=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!h&&(u[s.NODE]=!0,u[s.SELECT_BOX]=!0);var w=c.style(),y=c.zoom(),v=void 0!==r?r:y,_=c.pan(),k={x:_.x,y:_.y},x={zoom:y,pan:{x:_.x,y:_.y}},E=s.prevViewport;void 0===E||x.zoom!==E.zoom||x.pan.x!==E.pan.x||x.pan.y!==E.pan.y||p&&!g||(s.motionBlurPxRatio=1),o&&(k=o),v*=a,k.x*=a,k.y*=a;var T=s.getCachedZSortedEles();function C(t,e,n,i,r){var o=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,s.motionBlurTransparency),t.fillRect(e,n,i,r),t.globalCompositeOperation=o}function A(t,i){var a,c,u,h;s.clearingMotionBlur||t!==l.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]&&t!==l.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]?(a=k,c=v,u=s.canvasWidth,h=s.canvasHeight):(a={x:_.x*f,y:_.y*f},c=y*f,u=s.canvasWidth*f,h=s.canvasHeight*f),t.setTransform(1,0,0,1,0,0),"motionBlur"===i?C(t,0,0,u,h):e||void 0!==i&&!i||t.clearRect(0,0,u,h),n||(t.translate(a.x,a.y),t.scale(c,c)),o&&t.translate(o.x,o.y),r&&t.scale(r,r)}if(h||(s.textureDrawLastFrame=!1),h){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=c.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var S=s.data.bufferContexts[s.TEXTURE_BUFFER];S.setTransform(1,0,0,1,0,0),S.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:S,drawOnlyNodeLayer:!0,forcedPxRatio:a*s.textureMult}),(x=s.textureCache.viewport={zoom:c.zoom(),pan:c.pan(),width:s.canvasWidth,height:s.canvasHeight}).mpan={x:(0-x.pan.x)/x.zoom,y:(0-x.pan.y)/x.zoom}}u[s.DRAG]=!1,u[s.NODE]=!1;var I=l.contexts[s.NODE],M=s.textureCache.texture;x=s.textureCache.viewport,I.setTransform(1,0,0,1,0,0),d?C(I,0,0,x.width,x.height):I.clearRect(0,0,x.width,x.height);var P=w.core("outside-texture-bg-color").value,O=w.core("outside-texture-bg-opacity").value;s.colorFillStyle(I,P[0],P[1],P[2],O),I.fillRect(0,0,x.width,x.height),y=c.zoom(),A(I,!1),I.clearRect(x.mpan.x,x.mpan.y,x.width/x.zoom/a,x.height/x.zoom/a),I.drawImage(M,x.mpan.x,x.mpan.y,x.width/x.zoom/a,x.height/x.zoom/a)}else s.textureOnViewport&&!e&&(s.textureCache=null);var D=c.extent(),N=s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles||s.cy.animated(),L=s.hideEdgesOnViewport&&N,R=[];if(R[s.NODE]=!u[s.NODE]&&d&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,R[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),R[s.DRAG]=!u[s.DRAG]&&d&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,R[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),u[s.NODE]||n||i||R[s.NODE]){var B=d&&!R[s.NODE]&&1!==f;A(I=e||(B?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:l.contexts[s.NODE]),d&&!B?"motionBlur":void 0),L?s.drawCachedNodes(I,T.nondrag,a,D):s.drawLayeredElements(I,T.nondrag,a,D),s.debug&&s.drawDebugPoints(I,T.nondrag),n||d||(u[s.NODE]=!1)}if(!i&&(u[s.DRAG]||n||R[s.DRAG])&&(B=d&&!R[s.DRAG]&&1!==f,A(I=e||(B?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:l.contexts[s.DRAG]),d&&!B?"motionBlur":void 0),L?s.drawCachedNodes(I,T.drag,a,D):s.drawCachedElements(I,T.drag,a,D),s.debug&&s.drawDebugPoints(I,T.drag),n||d||(u[s.DRAG]=!1)),s.showFps||!i&&u[s.SELECT_BOX]&&!n){if(A(I=e||l.contexts[s.SELECT_BOX]),1==s.selection[4]&&(s.hoverData.selecting||s.touchData.selecting)){y=s.cy.zoom();var F=w.core("selection-box-border-width").value/y;I.lineWidth=F,I.fillStyle="rgba("+w.core("selection-box-color").value[0]+","+w.core("selection-box-color").value[1]+","+w.core("selection-box-color").value[2]+","+w.core("selection-box-opacity").value+")",I.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),F>0&&(I.strokeStyle="rgba("+w.core("selection-box-border-color").value[0]+","+w.core("selection-box-border-color").value[1]+","+w.core("selection-box-border-color").value[2]+","+w.core("selection-box-opacity").value+")",I.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(l.bgActivePosistion&&!s.hoverData.selecting){y=s.cy.zoom();var j=l.bgActivePosistion;I.fillStyle="rgba("+w.core("active-bg-color").value[0]+","+w.core("active-bg-color").value[1]+","+w.core("active-bg-color").value[2]+","+w.core("active-bg-opacity").value+")",I.beginPath(),I.arc(j.x,j.y,w.core("active-bg-size").pfValue/y,0,2*Math.PI),I.fill()}var $=s.lastRedrawTime;if(s.showFps&&$){$=Math.round($);var V=Math.round(1e3/$);I.setTransform(1,0,0,1,0,0),I.fillStyle="rgba(255, 0, 0, 0.75)",I.strokeStyle="rgba(255, 0, 0, 0.75)",I.lineWidth=1,I.fillText("1 frame = "+$+" ms = "+V+" fps",0,20);var z=60;I.strokeRect(0,30,250,20),I.fillRect(0,30,250*Math.min(V/z,1),20)}n||(u[s.SELECT_BOX]=!1)}if(d&&1!==f){var H=l.contexts[s.NODE],U=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],q=l.contexts[s.DRAG],W=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],G=function(t,e,n){t.setTransform(1,0,0,1,0,0),n||!b?t.clearRect(0,0,s.canvasWidth,s.canvasHeight):C(t,0,0,s.canvasWidth,s.canvasHeight);var i=f;t.drawImage(e,0,0,s.canvasWidth*i,s.canvasHeight*i,0,0,s.canvasWidth,s.canvasHeight)};(u[s.NODE]||R[s.NODE])&&(G(H,U,R[s.NODE]),u[s.NODE]=!1),(u[s.DRAG]||R[s.DRAG])&&(G(q,W,R[s.DRAG]),u[s.DRAG]=!1)}s.prevViewport=x,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),d&&(s.motionBlurTimeout=setTimeout((function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!h,s.mbFrames=0,u[s.NODE]=!0,u[s.DRAG]=!0,s.redraw()}),Md)),e||c.emit("render")};for(var Pd={drawPolygonPath:function(t,e,n,i,r,o){var s=i/2,a=r/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*o[0],n+a*o[1]);for(var c=1;c<o.length/2;c++)t.lineTo(e+s*o[2*c],n+a*o[2*c+1]);t.closePath()},drawRoundPolygonPath:function(t,e,n,i,r,o){var s=i/2,a=r/2,c=ui(i,r);t.beginPath&&t.beginPath();for(var l=0;l<o.length/4;l++){var u=void 0,h=void 0;u=0===l?o.length-2:4*l-2,h=4*l+2;var d=e+s*o[4*l],f=n+a*o[4*l+1],g=-o[u]*o[h]-o[u+1]*o[h+1],p=c/Math.tan(Math.acos(g)/2),m=d-p*o[u],b=f-p*o[u+1],w=d+p*o[h],y=f+p*o[h+1];0===l?t.moveTo(m,b):t.lineTo(m,b),t.arcTo(d,f,w,y,c)}t.closePath()},drawRoundRectanglePath:function(t,e,n,i,r){var o=i/2,s=r/2,a=li(i,r);t.beginPath&&t.beginPath(),t.moveTo(e,n-s),t.arcTo(e+o,n-s,e+o,n,a),t.arcTo(e+o,n+s,e,n+s,a),t.arcTo(e-o,n+s,e-o,n,a),t.arcTo(e-o,n-s,e,n-s,a),t.lineTo(e,n-s),t.closePath()},drawBottomRoundRectanglePath:function(t,e,n,i,r){var o=i/2,s=r/2,a=li(i,r);t.beginPath&&t.beginPath(),t.moveTo(e,n-s),t.lineTo(e+o,n-s),t.lineTo(e+o,n),t.arcTo(e+o,n+s,e,n+s,a),t.arcTo(e-o,n+s,e-o,n,a),t.lineTo(e-o,n-s),t.lineTo(e,n-s),t.closePath()},drawCutRectanglePath:function(t,e,n,i,r){var o=i/2,s=r/2,a=hi();t.beginPath&&t.beginPath(),t.moveTo(e-o+a,n-s),t.lineTo(e+o-a,n-s),t.lineTo(e+o,n-s+a),t.lineTo(e+o,n+s-a),t.lineTo(e+o-a,n+s),t.lineTo(e-o+a,n+s),t.lineTo(e-o,n+s-a),t.lineTo(e-o,n-s+a),t.closePath()},drawBarrelPath:function(t,e,n,i,r){var o=i/2,s=r/2,a=e-o,c=e+o,l=n-s,u=n+s,h=fi(i,r),d=h.widthOffset,f=h.heightOffset,g=h.ctrlPtOffsetPct*d;t.beginPath&&t.beginPath(),t.moveTo(a,l+f),t.lineTo(a,u-f),t.quadraticCurveTo(a+g,u,a+d,u),t.lineTo(c-d,u),t.quadraticCurveTo(c-g,u,c,u-f),t.lineTo(c,l+f),t.quadraticCurveTo(c-g,l,c-d,l),t.lineTo(a+d,l),t.quadraticCurveTo(a+g,l,a,l+f),t.closePath()}},Od=Math.sin(0),Dd=Math.cos(0),Nd={},Ld={},Rd=Math.PI/40,Bd=0*Math.PI;Bd<2*Math.PI;Bd+=Rd)Nd[Bd]=Math.sin(Bd),Ld[Bd]=Math.cos(Bd);Pd.drawEllipsePath=function(t,e,n,i,r){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,n,i/2,r/2,0,0,2*Math.PI);else for(var o,s,a=i/2,c=r/2,l=0*Math.PI;l<2*Math.PI;l+=Rd)o=e-a*Nd[l]*Od+a*Ld[l]*Dd,s=n+c*Ld[l]*Od+c*Nd[l]*Dd,0===l?t.moveTo(o,s):t.lineTo(o,s);t.closePath()};var Fd={};function jd(t,e){for(var n=atob(t),i=new ArrayBuffer(n.length),r=new Uint8Array(i),o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return new Blob([i],{type:e})}function $d(t){var e=t.indexOf(",");return t.substr(e+1)}function Vd(t,e,n){var i=function(){return e.toDataURL(n,t.quality)};switch(t.output){case"blob-promise":return new jr((function(i,r){try{e.toBlob((function(t){null!=t?i(t):r(new Error("`canvas.toBlob()` sent a null value in its callback"))}),n,t.quality)}catch(t){r(t)}}));case"blob":return jd($d(i()),n);case"base64":return $d(i());default:return i()}}Fd.createBuffer=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,[n,n.getContext("2d")]},Fd.bufferCanvasImage=function(t){var e=this.cy,n=e.mutableElements().boundingBox(),i=this.findContainerClientCoords(),r=t.full?Math.ceil(n.w):i[2],o=t.full?Math.ceil(n.h):i[3],s=E(t.maxWidth)||E(t.maxHeight),a=this.getPixelRatio(),c=1;if(void 0!==t.scale)r*=t.scale,o*=t.scale,c=t.scale;else if(s){var l=1/0,u=1/0;E(t.maxWidth)&&(l=c*t.maxWidth/r),E(t.maxHeight)&&(u=c*t.maxHeight/o),r*=c=Math.min(l,u),o*=c}s||(r*=a,o*=a,c*=a);var h=document.createElement("canvas");h.width=r,h.height=o,h.style.width=r+"px",h.style.height=o+"px";var d=h.getContext("2d");if(r>0&&o>0){d.clearRect(0,0,r,o),d.globalCompositeOperation="source-over";var f=this.getCachedZSortedEles();if(t.full)d.translate(-n.x1*c,-n.y1*c),d.scale(c,c),this.drawElements(d,f),d.scale(1/c,1/c),d.translate(n.x1*c,n.y1*c);else{var g=e.pan(),p={x:g.x*c,y:g.y*c};c*=e.zoom(),d.translate(p.x,p.y),d.scale(c,c),this.drawElements(d,f),d.scale(1/c,1/c),d.translate(-p.x,-p.y)}t.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=t.bg,d.rect(0,0,r,o),d.fill())}return h},Fd.png=function(t){return Vd(t,this.bufferCanvasImage(t),"image/png")},Fd.jpg=function(t){return Vd(t,this.bufferCanvasImage(t),"image/jpeg")};var zd={nodeShapeImpl:function(t,e,n,i,r,o,s){switch(t){case"ellipse":return this.drawEllipsePath(e,n,i,r,o);case"polygon":return this.drawPolygonPath(e,n,i,r,o,s);case"round-polygon":return this.drawRoundPolygonPath(e,n,i,r,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,n,i,r,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,n,i,r,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,n,i,r,o);case"barrel":return this.drawBarrelPath(e,n,i,r,o)}}},Hd=qd,Ud=qd.prototype;function qd(t){var e=this;e.data={canvases:new Array(Ud.CANVAS_LAYERS),contexts:new Array(Ud.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Ud.CANVAS_LAYERS),bufferCanvases:new Array(Ud.BUFFER_COUNT),bufferContexts:new Array(Ud.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";e.data.canvasContainer=document.createElement("div");var r=e.data.canvasContainer.style;e.data.canvasContainer.style[n]=i,r.position="relative",r.zIndex="0",r.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),o.style[n]=i;var s={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};B()&&(s["-ms-touch-action"]="none",s["touch-action"]="none");for(var a=0;a<Ud.CANVAS_LAYERS;a++){var c=e.data.canvases[a]=document.createElement("canvas");e.data.contexts[a]=c.getContext("2d"),Object.keys(s).forEach((function(t){c.style[t]=s[t]})),c.style.position="absolute",c.setAttribute("data-id","layer"+a),c.style.zIndex=String(Ud.CANVAS_LAYERS-a),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[a]=!1}for(e.data.topCanvas=e.data.canvases[0],e.data.canvases[Ud.NODE].setAttribute("data-id","layer"+Ud.NODE+"-node"),e.data.canvases[Ud.SELECT_BOX].setAttribute("data-id","layer"+Ud.SELECT_BOX+"-selectbox"),e.data.canvases[Ud.DRAG].setAttribute("data-id","layer"+Ud.DRAG+"-drag"),a=0;a<Ud.BUFFER_COUNT;a++)e.data.bufferCanvases[a]=document.createElement("canvas"),e.data.bufferContexts[a]=e.data.bufferCanvases[a].getContext("2d"),e.data.bufferCanvases[a].style.position="absolute",e.data.bufferCanvases[a].setAttribute("data-id","buffer"+a),e.data.bufferCanvases[a].style.zIndex=String(-a-1),e.data.bufferCanvases[a].style.visibility="hidden";e.pathsEnabled=!0;var l=Sn(),u=function(t){return{x:(t.x1+t.x2)/2,y:(t.y1+t.y2)/2}},h=function(t){return{x:-t.w/2,y:-t.h/2}},d=function(t){var e=t[0]._private;return!(e.oldBackgroundTimestamp===e.backgroundTimestamp)},f=function(t){return t[0]._private.nodeKey},g=function(t){return t[0]._private.labelStyleKey},p=function(t){return t[0]._private.sourceLabelStyleKey},m=function(t){return t[0]._private.targetLabelStyleKey},b=function(t,n,i,r,o){return e.drawElement(t,n,i,!1,!1,o)},w=function(t,n,i,r,o){return e.drawElementText(t,n,i,r,"main",o)},y=function(t,n,i,r,o){return e.drawElementText(t,n,i,r,"source",o)},v=function(t,n,i,r,o){return e.drawElementText(t,n,i,r,"target",o)},_=function(t){return t.boundingBox(),t[0]._private.bodyBounds},k=function(t){return t.boundingBox(),t[0]._private.labelBounds.main||l},x=function(t){return t.boundingBox(),t[0]._private.labelBounds.source||l},E=function(t){return t.boundingBox(),t[0]._private.labelBounds.target||l},T=function(t,e){return e},C=function(t){return u(_(t))},A=function(t,e,n){var i=t?t+"-":"";return{x:e.x+n.pstyle(i+"text-margin-x").pfValue,y:e.y+n.pstyle(i+"text-margin-y").pfValue}},S=function(t,e,n){var i=t[0]._private.rscratch;return{x:i[e],y:i[n]}},I=function(t){return A("",S(t,"labelX","labelY"),t)},M=function(t){return A("source",S(t,"sourceLabelX","sourceLabelY"),t)},P=function(t){return A("target",S(t,"targetLabelX","targetLabelY"),t)},O=function(t){return h(_(t))},D=function(t){return h(x(t))},N=function(t){return h(E(t))},L=function(t){var e=k(t),n=h(k(t));if(t.isNode()){switch(t.pstyle("text-halign").value){case"left":n.x=-e.w;break;case"right":n.x=0}switch(t.pstyle("text-valign").value){case"top":n.y=-e.h;break;case"bottom":n.y=0}}return n},R=e.data.eleTxrCache=new zh(e,{getKey:f,doesEleInvalidateKey:d,drawElement:b,getBoundingBox:_,getRotationPoint:C,getRotationOffset:O,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),F=e.data.lblTxrCache=new zh(e,{getKey:g,drawElement:w,getBoundingBox:k,getRotationPoint:I,getRotationOffset:L,isVisible:T}),j=e.data.slbTxrCache=new zh(e,{getKey:p,drawElement:y,getBoundingBox:x,getRotationPoint:M,getRotationOffset:D,isVisible:T}),$=e.data.tlbTxrCache=new zh(e,{getKey:m,drawElement:v,getBoundingBox:E,getRotationPoint:P,getRotationOffset:N,isVisible:T}),V=e.data.lyrTxrCache=new rd(e);e.onUpdateEleCalcs((function(t,e){R.invalidateElements(e),F.invalidateElements(e),j.invalidateElements(e),$.invalidateElements(e),V.invalidateElements(e);for(var n=0;n<e.length;n++){var i=e[n]._private;i.oldBackgroundTimestamp=i.backgroundTimestamp}}));var z=function(t){for(var e=0;e<t.length;e++)V.enqueueElementRefinement(t[e].ele)};R.onDequeue(z),F.onDequeue(z),j.onDequeue(z),$.onDequeue(z)}Ud.CANVAS_LAYERS=3,Ud.SELECT_BOX=0,Ud.DRAG=1,Ud.NODE=2,Ud.BUFFER_COUNT=3,Ud.TEXTURE_BUFFER=0,Ud.MOTIONBLUR_BUFFER_NODE=1,Ud.MOTIONBLUR_BUFFER_DRAG=2,Ud.redrawHint=function(t,e){var n=this;switch(t){case"eles":n.data.canvasNeedsRedraw[Ud.NODE]=e;break;case"drag":n.data.canvasNeedsRedraw[Ud.DRAG]=e;break;case"select":n.data.canvasNeedsRedraw[Ud.SELECT_BOX]=e}};var Wd="undefined"!=typeof Path2D;Ud.path2dEnabled=function(t){if(void 0===t)return this.pathsEnabled;this.pathsEnabled=!!t},Ud.usePaths=function(){return Wd&&this.pathsEnabled},Ud.setImgSmoothing=function(t,e){null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)},Ud.getImgSmoothing=function(t){return null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled},Ud.makeOffscreenCanvas=function(e,n){var i;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":t(OffscreenCanvas))?i=new OffscreenCanvas(e,n):((i=document.createElement("canvas")).width=e,i.height=n),i},[ld,pd,kd,Ed,Td,Ad,Id,Pd,Fd,zd].forEach((function(t){Q(Ud,t)}));var Gd=[{type:"layout",extensions:Uu},{type:"renderer",extensions:[{name:"null",impl:qu},{name:"base",impl:bh},{name:"canvas",impl:Hd}]}],Kd={},Yd={};function Xd(t,e,n){var i=n,r=function(n){Ae("Can not register `"+e+"` for `"+t+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===t){if(iu.prototype[e])return r(e);iu.prototype[e]=n}else if("collection"===t){if(bl.prototype[e])return r(e);bl.prototype[e]=n}else if("layout"===t){for(var o=function(t){this.options=t,n.call(this,t),k(this._private)||(this._private={}),this._private.cy=t.cy,this._private.listeners=[],this.createEmitter()},s=o.prototype=Object.create(n.prototype),a=[],c=0;c<a.length;c++){var l=a[c];s[l]=s[l]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var u=n.prototype.stop;s.stop=function(){var t=this.options;if(t&&t.animate){var e=this.animations;if(e)for(var n=0;n<e.length;n++)e[n].stop()}return u?u.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var h=function(t){return t._private.cy},d={addEventFields:function(t,e){e.layout=t,e.cy=h(t),e.target=t},bubble:function(){return!0},parent:function(t){return h(t)}};Q(s,{createEmitter:function(){return this._private.emitter=new Nc(d,this),this},emitter:function(){return this._private.emitter},on:function(t,e){return this.emitter().on(t,e),this},one:function(t,e){return this.emitter().one(t,e),this},once:function(t,e){return this.emitter().one(t,e),this},removeListener:function(t,e){return this.emitter().removeListener(t,e),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(t,e){return this.emitter().emit(t,e),this}}),la.eventAliasesOn(s),i=o}else if("renderer"===t&&"null"!==e&&"base"!==e){var f=Zd("renderer","base"),g=f.prototype,p=n,m=n.prototype,b=function(){f.apply(this,arguments),p.apply(this,arguments)},w=b.prototype;for(var y in g){var v=g[y];if(null!=m[y])return r(y);w[y]=v}for(var _ in m)w[_]=m[_];g.clientFunctions.forEach((function(t){w[t]=w[t]||function(){Te("Renderer does not implement `renderer."+t+"()` on its prototype")}})),i=b}else if("__proto__"===t||"constructor"===t||"prototype"===t)return Te(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return ot({map:Kd,keys:[t,e],value:i})}function Zd(t,e){return st({map:Kd,keys:[t,e]})}function Qd(t,e,n,i,r){return ot({map:Yd,keys:[t,e,n,i],value:r})}function Jd(t,e,n,i){return st({map:Yd,keys:[t,e,n,i]})}var tf=function(){return 2===arguments.length?Zd.apply(null,arguments):3===arguments.length?Xd.apply(null,arguments):4===arguments.length?Jd.apply(null,arguments):5===arguments.length?Qd.apply(null,arguments):void Te("Invalid extension access syntax")};iu.prototype.extension=tf,Gd.forEach((function(t){t.extensions.forEach((function(e){Xd(t.type,e.name,e.impl)}))}));var ef=function t(){if(!(this instanceof t))return new t;this.length=0},nf=ef.prototype;nf.instanceString=function(){return"stylesheet"},nf.selector=function(t){return this[this.length++]={selector:t,properties:[]},this},nf.css=function(t,e){var n=this.length-1;if(y(t))this[n].properties.push({name:t,value:e});else if(k(t))for(var i=t,r=Object.keys(i),o=0;o<r.length;o++){var s=r[o],a=i[s];if(null!=a){var c=Zl.properties[s]||Zl.properties[$(s)];if(null!=c){var l=c.name,u=a;this[n].properties.push({name:l,value:u})}}}return this},nf.style=nf.css,nf.generateStyle=function(t){var e=new Zl(t);return this.appendToStyle(e)},nf.appendToStyle=function(t){for(var e=0;e<this.length;e++){var n=this[e],i=n.selector,r=n.properties;t.selector(i);for(var o=0;o<r.length;o++){var s=r[o];t.css(s.name,s.value)}}return t};var rf="3.23.0",of=function(t){return void 0===t&&(t={}),k(t)?new iu(t):y(t)?tf.apply(tf,arguments):void 0};return of.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(of),t.apply(null,e),this},of.warnings=function(t){return Ce(t)},of.version=rf,of.stylesheet=of.Stylesheet=ef,of}))}({get exports(){return kq},set exports(t){kq=t}});const xq=kq;var Eq,Tq,Cq={},Aq={get exports(){return Cq},set exports(t){Cq=t}},Sq={},Iq={get exports(){return Sq},set exports(t){Sq=t}},Mq={},Pq={get exports(){return Mq},set exports(t){Mq=t}};function Oq(){return Eq||(Eq=1,function(t){!function(e,n){t.exports=n()}(0,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=26)}([function(t,e,n){function i(){}i.QUALITY=1,i.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,i.DEFAULT_INCREMENTAL=!1,i.DEFAULT_ANIMATION_ON_LAYOUT=!0,i.DEFAULT_ANIMATION_DURING_LAYOUT=!1,i.DEFAULT_ANIMATION_PERIOD=50,i.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,i.DEFAULT_GRAPH_MARGIN=15,i.NODE_DIMENSIONS_INCLUDE_LABELS=!1,i.SIMPLE_NODE_SIZE=40,i.SIMPLE_NODE_HALF_SIZE=i.SIMPLE_NODE_SIZE/2,i.EMPTY_COMPOUND_NODE_SIZE=40,i.MIN_EDGE_LENGTH=1,i.WORLD_BOUNDARY=1e6,i.INITIAL_WORLD_BOUNDARY=i.WORLD_BOUNDARY/1e3,i.WORLD_CENTER_X=1200,i.WORLD_CENTER_Y=900,t.exports=i},function(t,e,n){var i=n(2),r=n(8),o=n(9);function s(t,e,n){i.call(this,n),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=n,this.bendpoints=[],this.source=t,this.target=e}for(var a in s.prototype=Object.create(i.prototype),i)s[a]=i[a];s.prototype.getSource=function(){return this.source},s.prototype.getTarget=function(){return this.target},s.prototype.isInterGraph=function(){return this.isInterGraph},s.prototype.getLength=function(){return this.length},s.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},s.prototype.getBendpoints=function(){return this.bendpoints},s.prototype.getLca=function(){return this.lca},s.prototype.getSourceInLca=function(){return this.sourceInLca},s.prototype.getTargetInLca=function(){return this.targetInLca},s.prototype.getOtherEnd=function(t){if(this.source===t)return this.target;if(this.target===t)return this.source;throw"Node is not incident with this edge"},s.prototype.getOtherEndInGraph=function(t,e){for(var n=this.getOtherEnd(t),i=e.getGraphManager().getRoot();;){if(n.getOwner()==e)return n;if(n.getOwner()==i)break;n=n.getOwner().getParent()}return null},s.prototype.updateLength=function(){var t=new Array(4);this.isOverlapingSourceAndTarget=r.getIntersection(this.target.getRect(),this.source.getRect(),t),this.isOverlapingSourceAndTarget||(this.lengthX=t[0]-t[2],this.lengthY=t[1]-t[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},s.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},t.exports=s},function(t,e,n){function i(t){this.vGraphObject=t}t.exports=i},function(t,e,n){var i=n(2),r=n(10),o=n(13),s=n(0),a=n(16),c=n(4);function l(t,e,n,s){null==n&&null==s&&(s=e),i.call(this,s),null!=t.graphManager&&(t=t.graphManager),this.estimatedSize=r.MIN_VALUE,this.inclusionTreeDepth=r.MAX_VALUE,this.vGraphObject=s,this.edges=[],this.graphManager=t,this.rect=null!=n&&null!=e?new o(e.x,e.y,n.width,n.height):new o}for(var u in l.prototype=Object.create(i.prototype),i)l[u]=i[u];l.prototype.getEdges=function(){return this.edges},l.prototype.getChild=function(){return this.child},l.prototype.getOwner=function(){return this.owner},l.prototype.getWidth=function(){return this.rect.width},l.prototype.setWidth=function(t){this.rect.width=t},l.prototype.getHeight=function(){return this.rect.height},l.prototype.setHeight=function(t){this.rect.height=t},l.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},l.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},l.prototype.getCenter=function(){return new c(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},l.prototype.getLocation=function(){return new c(this.rect.x,this.rect.y)},l.prototype.getRect=function(){return this.rect},l.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},l.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},l.prototype.setRect=function(t,e){this.rect.x=t.x,this.rect.y=t.y,this.rect.width=e.width,this.rect.height=e.height},l.prototype.setCenter=function(t,e){this.rect.x=t-this.rect.width/2,this.rect.y=e-this.rect.height/2},l.prototype.setLocation=function(t,e){this.rect.x=t,this.rect.y=e},l.prototype.moveBy=function(t,e){this.rect.x+=t,this.rect.y+=e},l.prototype.getEdgeListToNode=function(t){var e=[],n=this;return n.edges.forEach((function(i){if(i.target==t){if(i.source!=n)throw"Incorrect edge source!";e.push(i)}})),e},l.prototype.getEdgesBetween=function(t){var e=[],n=this;return n.edges.forEach((function(i){if(i.source!=n&&i.target!=n)throw"Incorrect edge source and/or target";i.target!=t&&i.source!=t||e.push(i)})),e},l.prototype.getNeighborsList=function(){var t=new Set,e=this;return e.edges.forEach((function(n){if(n.source==e)t.add(n.target);else{if(n.target!=e)throw"Incorrect incidency!";t.add(n.source)}})),t},l.prototype.withChildren=function(){var t=new Set;if(t.add(this),null!=this.child)for(var e=this.child.getNodes(),n=0;n<e.length;n++)e[n].withChildren().forEach((function(e){t.add(e)}));return t},l.prototype.getNoOfChildren=function(){var t=0;if(null==this.child)t=1;else for(var e=this.child.getNodes(),n=0;n<e.length;n++)t+=e[n].getNoOfChildren();return 0==t&&(t=1),t},l.prototype.getEstimatedSize=function(){if(this.estimatedSize==r.MIN_VALUE)throw"assert failed";return this.estimatedSize},l.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},l.prototype.scatter=function(){var t,e,n=-s.INITIAL_WORLD_BOUNDARY,i=s.INITIAL_WORLD_BOUNDARY;t=s.WORLD_CENTER_X+a.nextDouble()*(i-n)+n;var r=-s.INITIAL_WORLD_BOUNDARY,o=s.INITIAL_WORLD_BOUNDARY;e=s.WORLD_CENTER_Y+a.nextDouble()*(o-r)+r,this.rect.x=t,this.rect.y=e},l.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var t=this.getChild();if(t.updateBounds(!0),this.rect.x=t.getLeft(),this.rect.y=t.getTop(),this.setWidth(t.getRight()-t.getLeft()),this.setHeight(t.getBottom()-t.getTop()),s.NODE_DIMENSIONS_INCLUDE_LABELS){var e=t.getRight()-t.getLeft(),n=t.getBottom()-t.getTop();this.labelWidth>e&&(this.rect.x-=(this.labelWidth-e)/2,this.setWidth(this.labelWidth)),this.labelHeight>n&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-n)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-n),this.setHeight(this.labelHeight))}}},l.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==r.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},l.prototype.transform=function(t){var e=this.rect.x;e>s.WORLD_BOUNDARY?e=s.WORLD_BOUNDARY:e<-s.WORLD_BOUNDARY&&(e=-s.WORLD_BOUNDARY);var n=this.rect.y;n>s.WORLD_BOUNDARY?n=s.WORLD_BOUNDARY:n<-s.WORLD_BOUNDARY&&(n=-s.WORLD_BOUNDARY);var i=new c(e,n),r=t.inverseTransformPoint(i);this.setLocation(r.x,r.y)},l.prototype.getLeft=function(){return this.rect.x},l.prototype.getRight=function(){return this.rect.x+this.rect.width},l.prototype.getTop=function(){return this.rect.y},l.prototype.getBottom=function(){return this.rect.y+this.rect.height},l.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},t.exports=l},function(t,e,n){function i(t,e){null==t&&null==e?(this.x=0,this.y=0):(this.x=t,this.y=e)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.setX=function(t){this.x=t},i.prototype.setY=function(t){this.y=t},i.prototype.getDifference=function(t){return new DimensionD(this.x-t.x,this.y-t.y)},i.prototype.getCopy=function(){return new i(this.x,this.y)},i.prototype.translate=function(t){return this.x+=t.width,this.y+=t.height,this},t.exports=i},function(t,e,n){var i=n(2),r=n(10),o=n(0),s=n(6),a=n(3),c=n(1),l=n(13),u=n(12),h=n(11);function d(t,e,n){i.call(this,n),this.estimatedSize=r.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=t,null!=e&&e instanceof s?this.graphManager=e:null!=e&&e instanceof Layout&&(this.graphManager=e.graphManager)}for(var f in d.prototype=Object.create(i.prototype),i)d[f]=i[f];d.prototype.getNodes=function(){return this.nodes},d.prototype.getEdges=function(){return this.edges},d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getParent=function(){return this.parent},d.prototype.getLeft=function(){return this.left},d.prototype.getRight=function(){return this.right},d.prototype.getTop=function(){return this.top},d.prototype.getBottom=function(){return this.bottom},d.prototype.isConnected=function(){return this.isConnected},d.prototype.add=function(t,e,n){if(null==e&&null==n){var i=t;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(i)>-1)throw"Node already in graph!";return i.owner=this,this.getNodes().push(i),i}var r=t;if(!(this.getNodes().indexOf(e)>-1&&this.getNodes().indexOf(n)>-1))throw"Source or target not in graph!";if(e.owner!=n.owner||e.owner!=this)throw"Both owners must be this graph!";return e.owner!=n.owner?null:(r.source=e,r.target=n,r.isInterGraph=!1,this.getEdges().push(r),e.edges.push(r),n!=e&&n.edges.push(r),r)},d.prototype.remove=function(t){var e=t;if(t instanceof a){if(null==e)throw"Node is null!";if(null==e.owner||e.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var n=e.edges.slice(),i=n.length,r=0;r<i;r++)(o=n[r]).isInterGraph?this.graphManager.remove(o):o.source.owner.remove(o);if(-1==(s=this.nodes.indexOf(e)))throw"Node not in owner node list!";this.nodes.splice(s,1)}else if(t instanceof c){var o;if(null==(o=t))throw"Edge is null!";if(null==o.source||null==o.target)throw"Source and/or target is null!";if(null==o.source.owner||null==o.target.owner||o.source.owner!=this||o.target.owner!=this)throw"Source and/or target owner is invalid!";var s,l=o.source.edges.indexOf(o),u=o.target.edges.indexOf(o);if(!(l>-1&&u>-1))throw"Source and/or target doesn't know this edge!";if(o.source.edges.splice(l,1),o.target!=o.source&&o.target.edges.splice(u,1),-1==(s=o.source.owner.getEdges().indexOf(o)))throw"Not in owner's edge list!";o.source.owner.getEdges().splice(s,1)}},d.prototype.updateLeftTop=function(){for(var t,e,n,i=r.MAX_VALUE,o=r.MAX_VALUE,s=this.getNodes(),a=s.length,c=0;c<a;c++){var l=s[c];i>(t=l.getTop())&&(i=t),o>(e=l.getLeft())&&(o=e)}return i==r.MAX_VALUE?null:(n=null!=s[0].getParent().paddingLeft?s[0].getParent().paddingLeft:this.margin,this.left=o-n,this.top=i-n,new u(this.left,this.top))},d.prototype.updateBounds=function(t){for(var e,n,i,o,s,a=r.MAX_VALUE,c=-r.MAX_VALUE,u=r.MAX_VALUE,h=-r.MAX_VALUE,d=this.nodes,f=d.length,g=0;g<f;g++){var p=d[g];t&&null!=p.child&&p.updateBounds(),a>(e=p.getLeft())&&(a=e),c<(n=p.getRight())&&(c=n),u>(i=p.getTop())&&(u=i),h<(o=p.getBottom())&&(h=o)}var m=new l(a,u,c-a,h-u);a==r.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),s=null!=d[0].getParent().paddingLeft?d[0].getParent().paddingLeft:this.margin,this.left=m.x-s,this.right=m.x+m.width+s,this.top=m.y-s,this.bottom=m.y+m.height+s},d.calculateBounds=function(t){for(var e,n,i,o,s=r.MAX_VALUE,a=-r.MAX_VALUE,c=r.MAX_VALUE,u=-r.MAX_VALUE,h=t.length,d=0;d<h;d++){var f=t[d];s>(e=f.getLeft())&&(s=e),a<(n=f.getRight())&&(a=n),c>(i=f.getTop())&&(c=i),u<(o=f.getBottom())&&(u=o)}return new l(s,c,a-s,u-c)},d.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==r.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){for(var t=0,e=this.nodes,n=e.length,i=0;i<n;i++)t+=e[i].calcEstimatedSize();return this.estimatedSize=0==t?o.EMPTY_COMPOUND_NODE_SIZE:t/Math.sqrt(this.nodes.length),this.estimatedSize},d.prototype.updateConnected=function(){var t=this;if(0!=this.nodes.length){var e,n,i=new h,r=new Set,o=this.nodes[0];for(o.withChildren().forEach((function(t){i.push(t),r.add(t)}));0!==i.length;)for(var s=(e=(o=i.shift()).getEdges()).length,a=0;a<s;a++)null==(n=e[a].getOtherEndInGraph(o,this))||r.has(n)||n.withChildren().forEach((function(t){i.push(t),r.add(t)}));if(this.isConnected=!1,r.size>=this.nodes.length){var c=0;r.forEach((function(e){e.owner==t&&c++})),c==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},t.exports=d},function(t,e,n){var i,r=n(1);function o(t){i=n(5),this.layout=t,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var t=this.layout.newGraph(),e=this.layout.newNode(null),n=this.add(t,e);return this.setRootGraph(n),this.rootGraph},o.prototype.add=function(t,e,n,i,r){if(null==n&&null==i&&null==r){if(null==t)throw"Graph is null!";if(null==e)throw"Parent node is null!";if(this.graphs.indexOf(t)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(t),null!=t.parent)throw"Already has a parent!";if(null!=e.child)throw"Already has a child!";return t.parent=e,e.child=t,t}r=n,n=t;var o=(i=e).getOwner(),s=r.getOwner();if(null==o||o.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==s||s.getGraphManager()!=this)throw"Target not in this graph mgr!";if(o==s)return n.isInterGraph=!1,o.add(n,i,r);if(n.isInterGraph=!0,n.source=i,n.target=r,this.edges.indexOf(n)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(n),null==n.source||null==n.target)throw"Edge source and/or target is null!";if(-1!=n.source.edges.indexOf(n)||-1!=n.target.edges.indexOf(n))throw"Edge already in source and/or target incidency list!";return n.source.edges.push(n),n.target.edges.push(n),n},o.prototype.remove=function(t){if(t instanceof i){var e=t;if(e.getGraphManager()!=this)throw"Graph not in this graph mgr";if(e!=this.rootGraph&&(null==e.parent||e.parent.graphManager!=this))throw"Invalid parent node!";for(var n,o=[],s=(o=o.concat(e.getEdges())).length,a=0;a<s;a++)n=o[a],e.remove(n);var c,l=[];for(s=(l=l.concat(e.getNodes())).length,a=0;a<s;a++)c=l[a],e.remove(c);e==this.rootGraph&&this.setRootGraph(null);var u=this.graphs.indexOf(e);this.graphs.splice(u,1),e.parent=null}else if(t instanceof r){if(null==(n=t))throw"Edge is null!";if(!n.isInterGraph)throw"Not an inter-graph edge!";if(null==n.source||null==n.target)throw"Source and/or target is null!";if(-1==n.source.edges.indexOf(n)||-1==n.target.edges.indexOf(n))throw"Source and/or target doesn't know this edge!";if(u=n.source.edges.indexOf(n),n.source.edges.splice(u,1),u=n.target.edges.indexOf(n),n.target.edges.splice(u,1),null==n.source.owner||null==n.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==n.source.owner.getGraphManager().edges.indexOf(n))throw"Not in owner graph manager's edge list!";u=n.source.owner.getGraphManager().edges.indexOf(n),n.source.owner.getGraphManager().edges.splice(u,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(null==this.allNodes){for(var t=[],e=this.getGraphs(),n=e.length,i=0;i<n;i++)t=t.concat(e[i].getNodes());this.allNodes=t}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(null==this.allEdges){var t=[],e=this.getGraphs();e.length;for(var n=0;n<e.length;n++)t=t.concat(e[n].getEdges());t=t.concat(this.edges),this.allEdges=t}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(t){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=t},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(t){if(t.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=t,null==t.parent&&(t.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(t,e){if(null==t||null==e)throw"assert failed";if(t==e)return!0;for(var n,i=t.getOwner();null!=(n=i.getParent());){if(n==e)return!0;if(null==(i=n.getOwner()))break}for(i=e.getOwner();null!=(n=i.getParent());){if(n==t)return!0;if(null==(i=n.getOwner()))break}return!1},o.prototype.calcLowestCommonAncestors=function(){for(var t,e,n,i,r,o=this.getAllEdges(),s=o.length,a=0;a<s;a++)if(e=(t=o[a]).source,n=t.target,t.lca=null,t.sourceInLca=e,t.targetInLca=n,e!=n){for(i=e.getOwner();null==t.lca;){for(t.targetInLca=n,r=n.getOwner();null==t.lca;){if(r==i){t.lca=r;break}if(r==this.rootGraph)break;if(null!=t.lca)throw"assert failed";t.targetInLca=r.getParent(),r=t.targetInLca.getOwner()}if(i==this.rootGraph)break;null==t.lca&&(t.sourceInLca=i.getParent(),i=t.sourceInLca.getOwner())}if(null==t.lca)throw"assert failed"}else t.lca=e.getOwner()},o.prototype.calcLowestCommonAncestor=function(t,e){if(t==e)return t.getOwner();for(var n=t.getOwner();null!=n;){for(var i=e.getOwner();null!=i;){if(i==n)return i;i=i.getParent().getOwner()}n=n.getParent().getOwner()}return n},o.prototype.calcInclusionTreeDepths=function(t,e){var n;null==t&&null==e&&(t=this.rootGraph,e=1);for(var i=t.getNodes(),r=i.length,o=0;o<r;o++)(n=i[o]).inclusionTreeDepth=e,null!=n.child&&this.calcInclusionTreeDepths(n.child,e+1)},o.prototype.includesInvalidEdge=function(){for(var t,e=this.edges.length,n=0;n<e;n++)if(t=this.edges[n],this.isOneAncestorOfOther(t.source,t.target))return!0;return!1},t.exports=o},function(t,e,n){var i=n(0);function r(){}for(var o in i)r[o]=i[o];r.MAX_ITERATIONS=2500,r.DEFAULT_EDGE_LENGTH=50,r.DEFAULT_SPRING_STRENGTH=.45,r.DEFAULT_REPULSION_STRENGTH=4500,r.DEFAULT_GRAVITY_STRENGTH=.4,r.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,r.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,r.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,r.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,r.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,r.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,r.COOLING_ADAPTATION_FACTOR=.33,r.ADAPTATION_LOWER_NODE_LIMIT=1e3,r.ADAPTATION_UPPER_NODE_LIMIT=5e3,r.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,r.MAX_NODE_DISPLACEMENT=3*r.MAX_NODE_DISPLACEMENT_INCREMENTAL,r.MIN_REPULSION_DIST=r.DEFAULT_EDGE_LENGTH/10,r.CONVERGENCE_CHECK_PERIOD=100,r.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,r.MIN_EDGE_LENGTH=1,r.GRID_CALCULATION_CHECK_PERIOD=10,t.exports=r},function(t,e,n){var i=n(12);function r(){}r.calcSeparationAmount=function(t,e,n,i){if(!t.intersects(e))throw"assert failed";var r=new Array(2);this.decideDirectionsForOverlappingNodes(t,e,r),n[0]=Math.min(t.getRight(),e.getRight())-Math.max(t.x,e.x),n[1]=Math.min(t.getBottom(),e.getBottom())-Math.max(t.y,e.y),t.getX()<=e.getX()&&t.getRight()>=e.getRight()?n[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight()):e.getX()<=t.getX()&&e.getRight()>=t.getRight()&&(n[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight())),t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()?n[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()):e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()&&(n[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()));var o=Math.abs((e.getCenterY()-t.getCenterY())/(e.getCenterX()-t.getCenterX()));e.getCenterY()===t.getCenterY()&&e.getCenterX()===t.getCenterX()&&(o=1);var s=o*n[0],a=n[1]/o;n[0]<a?a=n[0]:s=n[1],n[0]=-1*r[0]*(a/2+i),n[1]=-1*r[1]*(s/2+i)},r.decideDirectionsForOverlappingNodes=function(t,e,n){t.getCenterX()<e.getCenterX()?n[0]=-1:n[0]=1,t.getCenterY()<e.getCenterY()?n[1]=-1:n[1]=1},r.getIntersection2=function(t,e,n){var i=t.getCenterX(),r=t.getCenterY(),o=e.getCenterX(),s=e.getCenterY();if(t.intersects(e))return n[0]=i,n[1]=r,n[2]=o,n[3]=s,!0;var a=t.getX(),c=t.getY(),l=t.getRight(),u=t.getX(),h=t.getBottom(),d=t.getRight(),f=t.getWidthHalf(),g=t.getHeightHalf(),p=e.getX(),m=e.getY(),b=e.getRight(),w=e.getX(),y=e.getBottom(),v=e.getRight(),_=e.getWidthHalf(),k=e.getHeightHalf(),x=!1,E=!1;if(i===o){if(r>s)return n[0]=i,n[1]=c,n[2]=o,n[3]=y,!1;if(r<s)return n[0]=i,n[1]=h,n[2]=o,n[3]=m,!1}else if(r===s){if(i>o)return n[0]=a,n[1]=r,n[2]=b,n[3]=s,!1;if(i<o)return n[0]=l,n[1]=r,n[2]=p,n[3]=s,!1}else{var T=t.height/t.width,C=e.height/e.width,A=(s-r)/(o-i),S=void 0,I=void 0,M=void 0,P=void 0,O=void 0,D=void 0;if(-T===A?i>o?(n[0]=u,n[1]=h,x=!0):(n[0]=l,n[1]=c,x=!0):T===A&&(i>o?(n[0]=a,n[1]=c,x=!0):(n[0]=d,n[1]=h,x=!0)),-C===A?o>i?(n[2]=w,n[3]=y,E=!0):(n[2]=b,n[3]=m,E=!0):C===A&&(o>i?(n[2]=p,n[3]=m,E=!0):(n[2]=v,n[3]=y,E=!0)),x&&E)return!1;if(i>o?r>s?(S=this.getCardinalDirection(T,A,4),I=this.getCardinalDirection(C,A,2)):(S=this.getCardinalDirection(-T,A,3),I=this.getCardinalDirection(-C,A,1)):r>s?(S=this.getCardinalDirection(-T,A,1),I=this.getCardinalDirection(-C,A,3)):(S=this.getCardinalDirection(T,A,2),I=this.getCardinalDirection(C,A,4)),!x)switch(S){case 1:P=c,M=i+-g/A,n[0]=M,n[1]=P;break;case 2:M=d,P=r+f*A,n[0]=M,n[1]=P;break;case 3:P=h,M=i+g/A,n[0]=M,n[1]=P;break;case 4:M=u,P=r+-f*A,n[0]=M,n[1]=P}if(!E)switch(I){case 1:D=m,O=o+-k/A,n[2]=O,n[3]=D;break;case 2:O=v,D=s+_*A,n[2]=O,n[3]=D;break;case 3:D=y,O=o+k/A,n[2]=O,n[3]=D;break;case 4:O=w,D=s+-_*A,n[2]=O,n[3]=D}}return!1},r.getCardinalDirection=function(t,e,n){return t>e?n:1+n%4},r.getIntersection=function(t,e,n,r){if(null==r)return this.getIntersection2(t,e,n);var o=t.x,s=t.y,a=e.x,c=e.y,l=n.x,u=n.y,h=r.x,d=r.y,f=void 0,g=void 0,p=void 0,m=void 0,b=void 0,w=void 0,y=void 0;return 0==(y=(f=c-s)*(m=l-h)-(g=d-u)*(p=o-a))?null:new i((p*(w=h*u-l*d)-m*(b=a*s-o*c))/y,(g*b-f*w)/y)},r.angleOfVector=function(t,e,n,i){var r=void 0;return t!==n?(r=Math.atan((i-e)/(n-t)),n<t?r+=Math.PI:i<e&&(r+=this.TWO_PI)):r=i<e?this.ONE_AND_HALF_PI:this.HALF_PI,r},r.doIntersect=function(t,e,n,i){var r=t.x,o=t.y,s=e.x,a=e.y,c=n.x,l=n.y,u=i.x,h=i.y,d=(s-r)*(h-l)-(u-c)*(a-o);if(0===d)return!1;var f=((h-l)*(u-r)+(c-u)*(h-o))/d,g=((o-a)*(u-r)+(s-r)*(h-o))/d;return 0<f&&f<1&&0<g&&g<1},r.HALF_PI=.5*Math.PI,r.ONE_AND_HALF_PI=1.5*Math.PI,r.TWO_PI=2*Math.PI,r.THREE_PI=3*Math.PI,t.exports=r},function(t,e,n){function i(){}i.sign=function(t){return t>0?1:t<0?-1:0},i.floor=function(t){return t<0?Math.ceil(t):Math.floor(t)},i.ceil=function(t){return t<0?Math.floor(t):Math.ceil(t)},t.exports=i},function(t,e,n){function i(){}i.MAX_VALUE=2147483647,i.MIN_VALUE=-2147483648,t.exports=i},function(t,e,n){var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(t){return{value:t,next:null,prev:null}},s=function(t,e,n,i){return null!==t?t.next=e:i.head=e,null!==n?n.prev=e:i.tail=e,e.prev=t,e.next=n,i.length++,e},a=function(t,e){var n=t.prev,i=t.next;return null!==n?n.next=i:e.head=i,null!==i?i.prev=n:e.tail=n,t.prev=t.next=null,e.length--,t},c=function(){function t(e){var n=this;r(this,t),this.length=0,this.head=null,this.tail=null,null!=e&&e.forEach((function(t){return n.push(t)}))}return i(t,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(t,e){return s(e.prev,o(t),e,this)}},{key:"insertAfter",value:function(t,e){return s(e,o(t),e.next,this)}},{key:"insertNodeBefore",value:function(t,e){return s(e.prev,t,e,this)}},{key:"insertNodeAfter",value:function(t,e){return s(e,t,e.next,this)}},{key:"push",value:function(t){return s(this.tail,o(t),null,this)}},{key:"unshift",value:function(t){return s(null,o(t),this.head,this)}},{key:"remove",value:function(t){return a(t,this)}},{key:"pop",value:function(){return a(this.tail,this).value}},{key:"popNode",value:function(){return a(this.tail,this)}},{key:"shift",value:function(){return a(this.head,this).value}},{key:"shiftNode",value:function(){return a(this.head,this)}},{key:"get_object_at",value:function(t){if(t<=this.length()){for(var e=1,n=this.head;e<t;)n=n.next,e++;return n.value}}},{key:"set_object_at",value:function(t,e){if(t<=this.length()){for(var n=1,i=this.head;n<t;)i=i.next,n++;i.value=e}}}]),t}();t.exports=c},function(t,e,n){function i(t,e,n){this.x=null,this.y=null,null==t&&null==e&&null==n?(this.x=0,this.y=0):"number"==typeof t&&"number"==typeof e&&null==n?(this.x=t,this.y=e):"Point"==t.constructor.name&&null==e&&null==n&&(n=t,this.x=n.x,this.y=n.y)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.getLocation=function(){return new i(this.x,this.y)},i.prototype.setLocation=function(t,e,n){"Point"==t.constructor.name&&null==e&&null==n?(n=t,this.setLocation(n.x,n.y)):"number"==typeof t&&"number"==typeof e&&null==n&&(parseInt(t)==t&&parseInt(e)==e?this.move(t,e):(this.x=Math.floor(t+.5),this.y=Math.floor(e+.5)))},i.prototype.move=function(t,e){this.x=t,this.y=e},i.prototype.translate=function(t,e){this.x+=t,this.y+=e},i.prototype.equals=function(t){if("Point"==t.constructor.name){var e=t;return this.x==e.x&&this.y==e.y}return this==t},i.prototype.toString=function(){return(new i).constructor.name+"[x="+this.x+",y="+this.y+"]"},t.exports=i},function(t,e,n){function i(t,e,n,i){this.x=0,this.y=0,this.width=0,this.height=0,null!=t&&null!=e&&null!=n&&null!=i&&(this.x=t,this.y=e,this.width=n,this.height=i)}i.prototype.getX=function(){return this.x},i.prototype.setX=function(t){this.x=t},i.prototype.getY=function(){return this.y},i.prototype.setY=function(t){this.y=t},i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(t){this.width=t},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(t){this.height=t},i.prototype.getRight=function(){return this.x+this.width},i.prototype.getBottom=function(){return this.y+this.height},i.prototype.intersects=function(t){return!(this.getRight()<t.x||this.getBottom()<t.y||t.getRight()<this.x||t.getBottom()<this.y)},i.prototype.getCenterX=function(){return this.x+this.width/2},i.prototype.getMinX=function(){return this.getX()},i.prototype.getMaxX=function(){return this.getX()+this.width},i.prototype.getCenterY=function(){return this.y+this.height/2},i.prototype.getMinY=function(){return this.getY()},i.prototype.getMaxY=function(){return this.getY()+this.height},i.prototype.getWidthHalf=function(){return this.width/2},i.prototype.getHeightHalf=function(){return this.height/2},t.exports=i},function(t,e,n){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(){}r.lastID=0,r.createID=function(t){return r.isPrimitive(t)?t:(null!=t.uniqueID||(t.uniqueID=r.getString(),r.lastID++),t.uniqueID)},r.getString=function(t){return null==t&&(t=r.lastID),"Object#"+t},r.isPrimitive=function(t){var e=void 0===t?"undefined":i(t);return null==t||"object"!=e&&"function"!=e},t.exports=r},function(t,e,n){function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r=n(0),o=n(6),s=n(3),a=n(1),c=n(5),l=n(4),u=n(17),h=n(27);function d(t){h.call(this),this.layoutQuality=r.QUALITY,this.createBendsAsNeeded=r.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=r.DEFAULT_INCREMENTAL,this.animationOnLayout=r.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=r.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=r.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=r.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=t&&(this.isRemoteUse=t)}d.RANDOM_SEED=1,d.prototype=Object.create(h.prototype),d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},d.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},d.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},d.prototype.newGraphManager=function(){var t=new o(this);return this.graphManager=t,t},d.prototype.newGraph=function(t){return new c(null,this.graphManager,t)},d.prototype.newNode=function(t){return new s(this.graphManager,t)},d.prototype.newEdge=function(t){return new a(null,null,t)},d.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},d.prototype.runLayout=function(){var t;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),t=!this.checkLayoutSuccess()&&this.layout(),"during"!==r.ANIMATE&&(t&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,t)},d.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},d.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var t=this.graphManager.getAllEdges(),e=0;e<t.length;e++)t[e];var n=this.graphManager.getRoot().getNodes();for(e=0;e<n.length;e++)n[e];this.update(this.graphManager.getRoot())}},d.prototype.update=function(t){if(null==t)this.update2();else if(t instanceof s){var e=t;if(null!=e.getChild())for(var n=e.getChild().getNodes(),i=0;i<n.length;i++)update(n[i]);null!=e.vGraphObject&&e.vGraphObject.update(e)}else if(t instanceof a){var r=t;null!=r.vGraphObject&&r.vGraphObject.update(r)}else if(t instanceof c){var o=t;null!=o.vGraphObject&&o.vGraphObject.update(o)}},d.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=r.QUALITY,this.animationDuringLayout=r.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=r.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=r.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=r.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=r.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=r.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},d.prototype.transform=function(t){if(null==t)this.transform(new l(0,0));else{var e=new u,n=this.graphManager.getRoot().updateLeftTop();if(null!=n){e.setWorldOrgX(t.x),e.setWorldOrgY(t.y),e.setDeviceOrgX(n.x),e.setDeviceOrgY(n.y);for(var i=this.getAllNodes(),r=0;r<i.length;r++)i[r].transform(e)}}},d.prototype.positionNodesRandomly=function(t){if(null==t)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var e,n,i=t.getNodes(),r=0;r<i.length;r++)null==(n=(e=i[r]).getChild())||0==n.getNodes().length?e.scatter():(this.positionNodesRandomly(n),e.updateBounds())},d.prototype.getFlatForest=function(){for(var t=[],e=!0,n=this.graphManager.getRoot().getNodes(),r=!0,o=0;o<n.length;o++)null!=n[o].getChild()&&(r=!1);if(!r)return t;var s=new Set,a=[],c=new Map,l=[];for(l=l.concat(n);l.length>0&&e;){for(a.push(l[0]);a.length>0&&e;){var u=a[0];a.splice(0,1),s.add(u);var h=u.getEdges();for(o=0;o<h.length;o++){var d=h[o].getOtherEnd(u);if(c.get(u)!=d){if(s.has(d)){e=!1;break}a.push(d),c.set(d,u)}}}if(e){var f=[].concat(i(s));for(t.push(f),o=0;o<f.length;o++){var g=f[o],p=l.indexOf(g);p>-1&&l.splice(p,1)}s=new Set,c=new Map}else t=[]}return t},d.prototype.createDummyNodesForBendpoints=function(t){for(var e=[],n=t.source,i=this.graphManager.calcLowestCommonAncestor(t.source,t.target),r=0;r<t.bendpoints.length;r++){var o=this.newNode(null);o.setRect(new Point(0,0),new Dimension(1,1)),i.add(o);var s=this.newEdge(null);this.graphManager.add(s,n,o),e.add(o),n=o}return s=this.newEdge(null),this.graphManager.add(s,n,t.target),this.edgeToDummyNodes.set(t,e),t.isInterGraph()?this.graphManager.remove(t):i.remove(t),e},d.prototype.createBendpointsFromDummyNodes=function(){var t=[];t=t.concat(this.graphManager.getAllEdges()),t=[].concat(i(this.edgeToDummyNodes.keys())).concat(t);for(var e=0;e<t.length;e++){var n=t[e];if(n.bendpoints.length>0){for(var r=this.edgeToDummyNodes.get(n),o=0;o<r.length;o++){var s=r[o],a=new l(s.getCenterX(),s.getCenterY()),c=n.bendpoints.get(o);c.x=a.x,c.y=a.y,s.getOwner().remove(s)}this.graphManager.add(n,n.source,n.target)}}},d.transform=function(t,e,n,i){if(null!=n&&null!=i){var r=e;return t<=50?r-=(e-e/n)/50*(50-t):r+=(e*i-e)/50*(t-50),r}var o,s;return t<=50?(o=9*e/500,s=e/10):(o=9*e/50,s=-8*e),o*t+s},d.findCenterOfTree=function(t){var e=[];e=e.concat(t);var n=[],i=new Map,r=!1,o=null;1!=e.length&&2!=e.length||(r=!0,o=e[0]);for(var s=0;s<e.length;s++){var a=(u=e[s]).getNeighborsList().size;i.set(u,u.getNeighborsList().size),1==a&&n.push(u)}var c=[];for(c=c.concat(n);!r;){var l=[];for(l=l.concat(c),c=[],s=0;s<e.length;s++){var u=e[s],h=e.indexOf(u);h>=0&&e.splice(h,1),u.getNeighborsList().forEach((function(t){if(n.indexOf(t)<0){var e=i.get(t)-1;1==e&&c.push(t),i.set(t,e)}}))}n=n.concat(c),1!=e.length&&2!=e.length||(r=!0,o=e[0])}return o},d.prototype.setGraphManager=function(t){this.graphManager=t},t.exports=d},function(t,e,n){function i(){}i.seed=1,i.x=0,i.nextDouble=function(){return i.x=1e4*Math.sin(i.seed++),i.x-Math.floor(i.x)},t.exports=i},function(t,e,n){var i=n(4);function r(t,e){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}r.prototype.getWorldOrgX=function(){return this.lworldOrgX},r.prototype.setWorldOrgX=function(t){this.lworldOrgX=t},r.prototype.getWorldOrgY=function(){return this.lworldOrgY},r.prototype.setWorldOrgY=function(t){this.lworldOrgY=t},r.prototype.getWorldExtX=function(){return this.lworldExtX},r.prototype.setWorldExtX=function(t){this.lworldExtX=t},r.prototype.getWorldExtY=function(){return this.lworldExtY},r.prototype.setWorldExtY=function(t){this.lworldExtY=t},r.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},r.prototype.setDeviceOrgX=function(t){this.ldeviceOrgX=t},r.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},r.prototype.setDeviceOrgY=function(t){this.ldeviceOrgY=t},r.prototype.getDeviceExtX=function(){return this.ldeviceExtX},r.prototype.setDeviceExtX=function(t){this.ldeviceExtX=t},r.prototype.getDeviceExtY=function(){return this.ldeviceExtY},r.prototype.setDeviceExtY=function(t){this.ldeviceExtY=t},r.prototype.transformX=function(t){var e=0,n=this.lworldExtX;return 0!=n&&(e=this.ldeviceOrgX+(t-this.lworldOrgX)*this.ldeviceExtX/n),e},r.prototype.transformY=function(t){var e=0,n=this.lworldExtY;return 0!=n&&(e=this.ldeviceOrgY+(t-this.lworldOrgY)*this.ldeviceExtY/n),e},r.prototype.inverseTransformX=function(t){var e=0,n=this.ldeviceExtX;return 0!=n&&(e=this.lworldOrgX+(t-this.ldeviceOrgX)*this.lworldExtX/n),e},r.prototype.inverseTransformY=function(t){var e=0,n=this.ldeviceExtY;return 0!=n&&(e=this.lworldOrgY+(t-this.ldeviceOrgY)*this.lworldExtY/n),e},r.prototype.inverseTransformPoint=function(t){return new i(this.inverseTransformX(t.x),this.inverseTransformY(t.y))},t.exports=r},function(t,e,n){function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r=n(15),o=n(7),s=n(0),a=n(8),c=n(9);function l(){r.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}for(var u in l.prototype=Object.create(r.prototype),r)l[u]=r[u];l.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},l.prototype.calcIdealEdgeLengths=function(){for(var t,e,n,i,r,a,c=this.getGraphManager().getAllEdges(),l=0;l<c.length;l++)(t=c[l]).idealLength=this.idealEdgeLength,t.isInterGraph&&(n=t.getSource(),i=t.getTarget(),r=t.getSourceInLca().getEstimatedSize(),a=t.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(t.idealLength+=r+a-2*s.SIMPLE_NODE_SIZE),e=t.getLca().getInclusionTreeDepth(),t.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(n.getInclusionTreeDepth()+i.getInclusionTreeDepth()-2*e))},l.prototype.initSpringEmbedder=function(){var t=this.getAllNodes().length;this.incremental?(t>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(t-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(t>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(t-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},l.prototype.calcSpringForces=function(){for(var t,e=this.getAllEdges(),n=0;n<e.length;n++)t=e[n],this.calcSpringForce(t,t.idealLength)},l.prototype.calcRepulsionForces=function(){var t,e,n,i,r,s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&s&&this.updateGrid(),r=new Set,t=0;t<c.length;t++)n=c[t],this.calculateRepulsionForceOfANode(n,r,s,a),r.add(n);else for(t=0;t<c.length;t++)for(n=c[t],e=t+1;e<c.length;e++)i=c[e],n.getOwner()==i.getOwner()&&this.calcRepulsionForce(n,i)},l.prototype.calcGravitationalForces=function(){for(var t,e=this.getAllNodesToApplyGravitation(),n=0;n<e.length;n++)t=e[n],this.calcGravitationalForce(t)},l.prototype.moveNodes=function(){for(var t=this.getAllNodes(),e=0;e<t.length;e++)t[e].move()},l.prototype.calcSpringForce=function(t,e){var n,i,r,o,s=t.getSource(),a=t.getTarget();if(this.uniformLeafNodeSizes&&null==s.getChild()&&null==a.getChild())t.updateLengthSimple();else if(t.updateLength(),t.isOverlapingSourceAndTarget)return;0!=(n=t.getLength())&&(r=(i=this.springConstant*(n-e))*(t.lengthX/n),o=i*(t.lengthY/n),s.springForceX+=r,s.springForceY+=o,a.springForceX-=r,a.springForceY-=o)},l.prototype.calcRepulsionForce=function(t,e){var n,i,r,s,l,u,h,d=t.getRect(),f=e.getRect(),g=new Array(2),p=new Array(4);if(d.intersects(f)){a.calcSeparationAmount(d,f,g,o.DEFAULT_EDGE_LENGTH/2),u=2*g[0],h=2*g[1];var m=t.noOfChildren*e.noOfChildren/(t.noOfChildren+e.noOfChildren);t.repulsionForceX-=m*u,t.repulsionForceY-=m*h,e.repulsionForceX+=m*u,e.repulsionForceY+=m*h}else this.uniformLeafNodeSizes&&null==t.getChild()&&null==e.getChild()?(n=f.getCenterX()-d.getCenterX(),i=f.getCenterY()-d.getCenterY()):(a.getIntersection(d,f,p),n=p[2]-p[0],i=p[3]-p[1]),Math.abs(n)<o.MIN_REPULSION_DIST&&(n=c.sign(n)*o.MIN_REPULSION_DIST),Math.abs(i)<o.MIN_REPULSION_DIST&&(i=c.sign(i)*o.MIN_REPULSION_DIST),r=n*n+i*i,s=Math.sqrt(r),u=(l=this.repulsionConstant*t.noOfChildren*e.noOfChildren/r)*n/s,h=l*i/s,t.repulsionForceX-=u,t.repulsionForceY-=h,e.repulsionForceX+=u,e.repulsionForceY+=h},l.prototype.calcGravitationalForce=function(t){var e,n,i,r,o,s,a,c;n=((e=t.getOwner()).getRight()+e.getLeft())/2,i=(e.getTop()+e.getBottom())/2,r=t.getCenterX()-n,o=t.getCenterY()-i,s=Math.abs(r)+t.getWidth()/2,a=Math.abs(o)+t.getHeight()/2,t.getOwner()==this.graphManager.getRoot()?(s>(c=e.getEstimatedSize()*this.gravityRangeFactor)||a>c)&&(t.gravitationForceX=-this.gravityConstant*r,t.gravitationForceY=-this.gravityConstant*o):(s>(c=e.getEstimatedSize()*this.compoundGravityRangeFactor)||a>c)&&(t.gravitationForceX=-this.gravityConstant*r*this.compoundGravityConstant,t.gravitationForceY=-this.gravityConstant*o*this.compoundGravityConstant)},l.prototype.isConverged=function(){var t,e=!1;return this.totalIterations>this.maxIterations/3&&(e=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),t=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,t||e},l.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},l.prototype.calcNoOfChildrenForAllNodes=function(){for(var t,e=this.graphManager.getAllNodes(),n=0;n<e.length;n++)(t=e[n]).noOfChildren=t.getNoOfChildren()},l.prototype.calcGrid=function(t){var e=0,n=0;e=parseInt(Math.ceil((t.getRight()-t.getLeft())/this.repulsionRange)),n=parseInt(Math.ceil((t.getBottom()-t.getTop())/this.repulsionRange));for(var i=new Array(e),r=0;r<e;r++)i[r]=new Array(n);for(r=0;r<e;r++)for(var o=0;o<n;o++)i[r][o]=new Array;return i},l.prototype.addNodeToGrid=function(t,e,n){var i=0,r=0,o=0,s=0;i=parseInt(Math.floor((t.getRect().x-e)/this.repulsionRange)),r=parseInt(Math.floor((t.getRect().width+t.getRect().x-e)/this.repulsionRange)),o=parseInt(Math.floor((t.getRect().y-n)/this.repulsionRange)),s=parseInt(Math.floor((t.getRect().height+t.getRect().y-n)/this.repulsionRange));for(var a=i;a<=r;a++)for(var c=o;c<=s;c++)this.grid[a][c].push(t),t.setGridCoordinates(i,r,o,s)},l.prototype.updateGrid=function(){var t,e,n=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),t=0;t<n.length;t++)e=n[t],this.addNodeToGrid(e,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},l.prototype.calculateRepulsionForceOfANode=function(t,e,n,r){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&n||r){var s,a=new Set;t.surrounding=new Array;for(var c=this.grid,l=t.startX-1;l<t.finishX+2;l++)for(var u=t.startY-1;u<t.finishY+2;u++)if(!(l<0||u<0||l>=c.length||u>=c[0].length))for(var h=0;h<c[l][u].length;h++)if(s=c[l][u][h],t.getOwner()==s.getOwner()&&t!=s&&!e.has(s)&&!a.has(s)){var d=Math.abs(t.getCenterX()-s.getCenterX())-(t.getWidth()/2+s.getWidth()/2),f=Math.abs(t.getCenterY()-s.getCenterY())-(t.getHeight()/2+s.getHeight()/2);d<=this.repulsionRange&&f<=this.repulsionRange&&a.add(s)}t.surrounding=[].concat(i(a))}for(l=0;l<t.surrounding.length;l++)this.calcRepulsionForce(t,t.surrounding[l])},l.prototype.calcRepulsionRange=function(){return 0},t.exports=l},function(t,e,n){var i=n(1),r=n(7);function o(t,e,n){i.call(this,t,e,n),this.idealLength=r.DEFAULT_EDGE_LENGTH}for(var s in o.prototype=Object.create(i.prototype),i)o[s]=i[s];t.exports=o},function(t,e,n){var i=n(3);function r(t,e,n,r){i.call(this,t,e,n,r),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var o in r.prototype=Object.create(i.prototype),i)r[o]=i[o];r.prototype.setGridCoordinates=function(t,e,n,i){this.startX=t,this.finishX=e,this.startY=n,this.finishY=i},t.exports=r},function(t,e,n){function i(t,e){this.width=0,this.height=0,null!==t&&null!==e&&(this.height=e,this.width=t)}i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(t){this.width=t},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(t){this.height=t},t.exports=i},function(t,e,n){var i=n(14);function r(){this.map={},this.keys=[]}r.prototype.put=function(t,e){var n=i.createID(t);this.contains(n)||(this.map[n]=e,this.keys.push(t))},r.prototype.contains=function(t){return i.createID(t),null!=this.map[t]},r.prototype.get=function(t){var e=i.createID(t);return this.map[e]},r.prototype.keySet=function(){return this.keys},t.exports=r},function(t,e,n){var i=n(14);function r(){this.set={}}r.prototype.add=function(t){var e=i.createID(t);this.contains(e)||(this.set[e]=t)},r.prototype.remove=function(t){delete this.set[i.createID(t)]},r.prototype.clear=function(){this.set={}},r.prototype.contains=function(t){return this.set[i.createID(t)]==t},r.prototype.isEmpty=function(){return 0===this.size()},r.prototype.size=function(){return Object.keys(this.set).length},r.prototype.addAllTo=function(t){for(var e=Object.keys(this.set),n=e.length,i=0;i<n;i++)t.push(this.set[e[i]])},r.prototype.size=function(){return Object.keys(this.set).length},r.prototype.addAll=function(t){for(var e=t.length,n=0;n<e;n++){var i=t[n];this.add(i)}},t.exports=r},function(t,e,n){var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(11),s=function(){function t(e,n){r(this,t),null===n&&void 0===n||(this.compareFunction=this._defaultCompareFunction);var i=void 0;i=e instanceof o?e.size():e.length,this._quicksort(e,0,i-1)}return i(t,[{key:"_quicksort",value:function(t,e,n){if(e<n){var i=this._partition(t,e,n);this._quicksort(t,e,i),this._quicksort(t,i+1,n)}}},{key:"_partition",value:function(t,e,n){for(var i=this._get(t,e),r=e,o=n;;){for(;this.compareFunction(i,this._get(t,o));)o--;for(;this.compareFunction(this._get(t,r),i);)r++;if(!(r<o))return o;this._swap(t,r,o),r++,o--}}},{key:"_get",value:function(t,e){return t instanceof o?t.get_object_at(e):t[e]}},{key:"_set",value:function(t,e,n){t instanceof o?t.set_object_at(e,n):t[e]=n}},{key:"_swap",value:function(t,e,n){var i=this._get(t,e);this._set(t,e,this._get(t,n)),this._set(t,n,i)}},{key:"_defaultCompareFunction",value:function(t,e){return e>t}}]),t}();t.exports=s},function(t,e,n){var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;r(this,t),this.sequence1=e,this.sequence2=n,this.match_score=i,this.mismatch_penalty=o,this.gap_penalty=s,this.iMax=e.length+1,this.jMax=n.length+1,this.grid=new Array(this.iMax);for(var a=0;a<this.iMax;a++){this.grid[a]=new Array(this.jMax);for(var c=0;c<this.jMax;c++)this.grid[a][c]=0}this.tracebackGrid=new Array(this.iMax);for(var l=0;l<this.iMax;l++){this.tracebackGrid[l]=new Array(this.jMax);for(var u=0;u<this.jMax;u++)this.tracebackGrid[l][u]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return i(t,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var t=1;t<this.jMax;t++)this.grid[0][t]=this.grid[0][t-1]+this.gap_penalty,this.tracebackGrid[0][t]=[!1,!1,!0];for(var e=1;e<this.iMax;e++)this.grid[e][0]=this.grid[e-1][0]+this.gap_penalty,this.tracebackGrid[e][0]=[!1,!0,!1];for(var n=1;n<this.iMax;n++)for(var i=1;i<this.jMax;i++){var r=[this.sequence1[n-1]===this.sequence2[i-1]?this.grid[n-1][i-1]+this.match_score:this.grid[n-1][i-1]+this.mismatch_penalty,this.grid[n-1][i]+this.gap_penalty,this.grid[n][i-1]+this.gap_penalty],o=this.arrayAllMaxIndexes(r);this.grid[n][i]=r[o[0]],this.tracebackGrid[n][i]=[o.includes(0),o.includes(1),o.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var t=[];for(t.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});t[0];){var e=t[0],n=this.tracebackGrid[e.pos[0]][e.pos[1]];n[0]&&t.push({pos:[e.pos[0]-1,e.pos[1]-1],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),n[1]&&t.push({pos:[e.pos[0]-1,e.pos[1]],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:"-"+e.seq2}),n[2]&&t.push({pos:[e.pos[0],e.pos[1]-1],seq1:"-"+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),0===e.pos[0]&&0===e.pos[1]&&this.alignments.push({sequence1:e.seq1,sequence2:e.seq2}),t.shift()}return this.alignments}},{key:"getAllIndexes",value:function(t,e){for(var n=[],i=-1;-1!==(i=t.indexOf(e,i+1));)n.push(i);return n}},{key:"arrayAllMaxIndexes",value:function(t){return this.getAllIndexes(t,Math.max.apply(null,t))}}]),t}();t.exports=o},function(t,e,n){var i=function(){};i.FDLayout=n(18),i.FDLayoutConstants=n(7),i.FDLayoutEdge=n(19),i.FDLayoutNode=n(20),i.DimensionD=n(21),i.HashMap=n(22),i.HashSet=n(23),i.IGeometry=n(8),i.IMath=n(9),i.Integer=n(10),i.Point=n(12),i.PointD=n(4),i.RandomSeed=n(16),i.RectangleD=n(13),i.Transform=n(17),i.UniqueIDGeneretor=n(14),i.Quicksort=n(24),i.LinkedList=n(11),i.LGraphObject=n(2),i.LGraph=n(5),i.LEdge=n(1),i.LGraphManager=n(6),i.LNode=n(3),i.Layout=n(15),i.LayoutConstants=n(0),i.NeedlemanWunsch=n(25),t.exports=i},function(t,e,n){function i(){this.listeners=[]}var r=i.prototype;r.addListener=function(t,e){this.listeners.push({event:t,callback:e})},r.removeListener=function(t,e){for(var n=this.listeners.length;n>=0;n--){var i=this.listeners[n];i.event===t&&i.callback===e&&this.listeners.splice(n,1)}},r.emit=function(t,e){for(var n=0;n<this.listeners.length;n++){var i=this.listeners[n];t===i.event&&i.callback(e)}},t.exports=i}])}))}(Pq)),Mq}function Dq(){return Tq||(Tq=1,function(t){!function(e,n){t.exports=n(Oq())}(0,(function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(e,n){e.exports=t},function(t,e,n){var i=n(0).FDLayoutConstants;function r(){}for(var o in i)r[o]=i[o];r.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,r.DEFAULT_RADIAL_SEPARATION=i.DEFAULT_EDGE_LENGTH,r.DEFAULT_COMPONENT_SEPERATION=60,r.TILE=!0,r.TILING_PADDING_VERTICAL=10,r.TILING_PADDING_HORIZONTAL=10,r.TREE_REDUCTION_ON_INCREMENTAL=!1,t.exports=r},function(t,e,n){var i=n(0).FDLayoutEdge;function r(t,e,n){i.call(this,t,e,n)}for(var o in r.prototype=Object.create(i.prototype),i)r[o]=i[o];t.exports=r},function(t,e,n){var i=n(0).LGraph;function r(t,e,n){i.call(this,t,e,n)}for(var o in r.prototype=Object.create(i.prototype),i)r[o]=i[o];t.exports=r},function(t,e,n){var i=n(0).LGraphManager;function r(t){i.call(this,t)}for(var o in r.prototype=Object.create(i.prototype),i)r[o]=i[o];t.exports=r},function(t,e,n){var i=n(0).FDLayoutNode,r=n(0).IMath;function o(t,e,n,r){i.call(this,t,e,n,r)}for(var s in o.prototype=Object.create(i.prototype),i)o[s]=i[s];o.prototype.move=function(){var t=this.graphManager.getLayout();this.displacementX=t.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=t.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>t.coolingFactor*t.maxNodeDisplacement&&(this.displacementX=t.coolingFactor*t.maxNodeDisplacement*r.sign(this.displacementX)),Math.abs(this.displacementY)>t.coolingFactor*t.maxNodeDisplacement&&(this.displacementY=t.coolingFactor*t.maxNodeDisplacement*r.sign(this.displacementY)),null==this.child||0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),t.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},o.prototype.propogateDisplacementToChildren=function(t,e){for(var n,i=this.getChild().getNodes(),r=0;r<i.length;r++)null==(n=i[r]).getChild()?(n.moveBy(t,e),n.displacementX+=t,n.displacementY+=e):n.propogateDisplacementToChildren(t,e)},o.prototype.setPred1=function(t){this.pred1=t},o.prototype.getPred1=function(){return pred1},o.prototype.getPred2=function(){return pred2},o.prototype.setNext=function(t){this.next=t},o.prototype.getNext=function(){return next},o.prototype.setProcessed=function(t){this.processed=t},o.prototype.isProcessed=function(){return processed},t.exports=o},function(t,e,n){var i=n(0).FDLayout,r=n(4),o=n(3),s=n(5),a=n(2),c=n(1),l=n(0).FDLayoutConstants,u=n(0).LayoutConstants,h=n(0).Point,d=n(0).PointD,f=n(0).Layout,g=n(0).Integer,p=n(0).IGeometry,m=n(0).LGraph,b=n(0).Transform;function w(){i.call(this),this.toBeTiled={}}for(var y in w.prototype=Object.create(i.prototype),i)w[y]=i[y];w.prototype.newGraphManager=function(){var t=new r(this);return this.graphManager=t,t},w.prototype.newGraph=function(t){return new o(null,this.graphManager,t)},w.prototype.newNode=function(t){return new s(this.graphManager,t)},w.prototype.newEdge=function(t){return new a(null,null,t)},w.prototype.initParameters=function(){i.prototype.initParameters.call(this,arguments),this.isSubLayout||(c.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=c.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=c.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=l.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=l.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=l.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=l.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/l.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=l.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},w.prototype.layout=function(){return u.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},w.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental)c.TREE_REDUCTION_ON_INCREMENTAL&&(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),e=new Set(this.getAllNodes()),n=this.nodesWithGravity.filter((function(t){return e.has(t)})),this.graphManager.setAllNodesToApplyGravitation(n));else{var t=this.getFlatForest();if(t.length>0)this.positionNodesRadially(t);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var e=new Set(this.getAllNodes()),n=this.nodesWithGravity.filter((function(t){return e.has(t)}));this.graphManager.setAllNodesToApplyGravitation(n),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},w.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%l.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),e=this.nodesWithGravity.filter((function(e){return t.has(e)}));this.graphManager.setAllNodesToApplyGravitation(e),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var n=!this.isTreeGrowing&&!this.isGrowthFinished,i=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(n,i),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},w.prototype.getPositionsData=function(){for(var t=this.graphManager.getAllNodes(),e={},n=0;n<t.length;n++){var i=t[n].rect,r=t[n].id;e[r]={id:r,x:i.getCenterX(),y:i.getCenterY(),w:i.width,h:i.height}}return e},w.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var t=!1;if("during"===l.ANIMATE)this.emit("layoutstarted");else{for(;!t;)t=this.tick();this.graphManager.updateBounds()}},w.prototype.calculateNodesToApplyGravitationTo=function(){var t,e,n=[],i=this.graphManager.getGraphs(),r=i.length;for(e=0;e<r;e++)(t=i[e]).updateConnected(),t.isConnected||(n=n.concat(t.getNodes()));return n},w.prototype.createBendpoints=function(){var t=[];t=t.concat(this.graphManager.getAllEdges());var e,n=new Set;for(e=0;e<t.length;e++){var i=t[e];if(!n.has(i)){var r=i.getSource(),o=i.getTarget();if(r==o)i.getBendpoints().push(new d),i.getBendpoints().push(new d),this.createDummyNodesForBendpoints(i),n.add(i);else{var s=[];if(s=(s=s.concat(r.getEdgeListToNode(o))).concat(o.getEdgeListToNode(r)),!n.has(s[0])){var a;if(s.length>1)for(a=0;a<s.length;a++){var c=s[a];c.getBendpoints().push(new d),this.createDummyNodesForBendpoints(c)}s.forEach((function(t){n.add(t)}))}}}if(n.size==t.length)break}},w.prototype.positionNodesRadially=function(t){for(var e=new h(0,0),n=Math.ceil(Math.sqrt(t.length)),i=0,r=0,o=0,s=new d(0,0),a=0;a<t.length;a++){a%n==0&&(o=0,r=i,0!=a&&(r+=c.DEFAULT_COMPONENT_SEPERATION),i=0);var l=t[a],g=f.findCenterOfTree(l);e.x=o,e.y=r,(s=w.radialLayout(l,g,e)).y>i&&(i=Math.floor(s.y)),o=Math.floor(s.x+c.DEFAULT_COMPONENT_SEPERATION)}this.transform(new d(u.WORLD_CENTER_X-s.x/2,u.WORLD_CENTER_Y-s.y/2))},w.radialLayout=function(t,e,n){var i=Math.max(this.maxDiagonalInTree(t),c.DEFAULT_RADIAL_SEPARATION);w.branchRadialLayout(e,null,0,359,0,i);var r=m.calculateBounds(t),o=new b;o.setDeviceOrgX(r.getMinX()),o.setDeviceOrgY(r.getMinY()),o.setWorldOrgX(n.x),o.setWorldOrgY(n.y);for(var s=0;s<t.length;s++)t[s].transform(o);var a=new d(r.getMaxX(),r.getMaxY());return o.inverseTransformPoint(a)},w.branchRadialLayout=function(t,e,n,i,r,o){var s=(i-n+1)/2;s<0&&(s+=180);var a=(s+n)%360*p.TWO_PI/360,c=r*Math.cos(a),l=r*Math.sin(a);t.setCenter(c,l);var u=[],h=(u=u.concat(t.getEdges())).length;null!=e&&h--;for(var d,f=0,g=u.length,m=t.getEdgesBetween(e);m.length>1;){var b=m[0];m.splice(0,1);var y=u.indexOf(b);y>=0&&u.splice(y,1),g--,h--}d=null!=e?(u.indexOf(m[0])+1)%g:0;for(var v=Math.abs(i-n)/h,_=d;f!=h;_=++_%g){var k=u[_].getOtherEnd(t);if(k!=e){var x=(n+f*v)%360,E=(x+v)%360;w.branchRadialLayout(k,t,x,E,r+o,o),f++}}},w.maxDiagonalInTree=function(t){for(var e=g.MIN_VALUE,n=0;n<t.length;n++){var i=t[n].getDiagonal();i>e&&(e=i)}return e},w.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},w.prototype.groupZeroDegreeMembers=function(){var t=this,e={};this.memberGroups={},this.idToDummyNode={};for(var n=[],i=this.graphManager.getAllNodes(),r=0;r<i.length;r++){var o=(a=i[r]).getParent();0!==this.getNodeDegreeWithChildren(a)||null!=o.id&&this.getToBeTiled(o)||n.push(a)}for(r=0;r<n.length;r++){var a,c=(a=n[r]).getParent().id;void 0===e[c]&&(e[c]=[]),e[c]=e[c].concat(a)}Object.keys(e).forEach((function(n){if(e[n].length>1){var i="DummyCompound_"+n;t.memberGroups[i]=e[n];var r=e[n][0].getParent(),o=new s(t.graphManager);o.id=i,o.paddingLeft=r.paddingLeft||0,o.paddingRight=r.paddingRight||0,o.paddingBottom=r.paddingBottom||0,o.paddingTop=r.paddingTop||0,t.idToDummyNode[i]=o;var a=t.getGraphManager().add(t.newGraph(),o),c=r.getChild();c.add(o);for(var l=0;l<e[n].length;l++){var u=e[n][l];c.remove(u),a.add(u)}}}))},w.prototype.clearCompounds=function(){var t={},e={};this.performDFSOnCompounds();for(var n=0;n<this.compoundOrder.length;n++)e[this.compoundOrder[n].id]=this.compoundOrder[n],t[this.compoundOrder[n].id]=[].concat(this.compoundOrder[n].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[n].getChild()),this.compoundOrder[n].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(t,e)},w.prototype.clearZeroDegreeMembers=function(){var t=this,e=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach((function(n){var i=t.idToDummyNode[n];e[n]=t.tileNodes(t.memberGroups[n],i.paddingLeft+i.paddingRight),i.rect.width=e[n].width,i.rect.height=e[n].height}))},w.prototype.repopulateCompounds=function(){for(var t=this.compoundOrder.length-1;t>=0;t--){var e=this.compoundOrder[t],n=e.id,i=e.paddingLeft,r=e.paddingTop;this.adjustLocations(this.tiledMemberPack[n],e.rect.x,e.rect.y,i,r)}},w.prototype.repopulateZeroDegreeMembers=function(){var t=this,e=this.tiledZeroDegreePack;Object.keys(e).forEach((function(n){var i=t.idToDummyNode[n],r=i.paddingLeft,o=i.paddingTop;t.adjustLocations(e[n],i.rect.x,i.rect.y,r,o)}))},w.prototype.getToBeTiled=function(t){var e=t.id;if(null!=this.toBeTiled[e])return this.toBeTiled[e];var n=t.getChild();if(null==n)return this.toBeTiled[e]=!1,!1;for(var i=n.getNodes(),r=0;r<i.length;r++){var o=i[r];if(this.getNodeDegree(o)>0)return this.toBeTiled[e]=!1,!1;if(null!=o.getChild()){if(!this.getToBeTiled(o))return this.toBeTiled[e]=!1,!1}else this.toBeTiled[o.id]=!1}return this.toBeTiled[e]=!0,!0},w.prototype.getNodeDegree=function(t){t.id;for(var e=t.getEdges(),n=0,i=0;i<e.length;i++){var r=e[i];r.getSource().id!==r.getTarget().id&&(n+=1)}return n},w.prototype.getNodeDegreeWithChildren=function(t){var e=this.getNodeDegree(t);if(null==t.getChild())return e;for(var n=t.getChild().getNodes(),i=0;i<n.length;i++){var r=n[i];e+=this.getNodeDegreeWithChildren(r)}return e},w.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},w.prototype.fillCompexOrderByDFS=function(t){for(var e=0;e<t.length;e++){var n=t[e];null!=n.getChild()&&this.fillCompexOrderByDFS(n.getChild().getNodes()),this.getToBeTiled(n)&&this.compoundOrder.push(n)}},w.prototype.adjustLocations=function(t,e,n,i,r){n+=r;for(var o=e+=i,s=0;s<t.rows.length;s++){var a=t.rows[s];e=o;for(var c=0,l=0;l<a.length;l++){var u=a[l];u.rect.x=e,u.rect.y=n,e+=u.rect.width+t.horizontalPadding,u.rect.height>c&&(c=u.rect.height)}n+=c+t.verticalPadding}},w.prototype.tileCompoundMembers=function(t,e){var n=this;this.tiledMemberPack=[],Object.keys(t).forEach((function(i){var r=e[i];n.tiledMemberPack[i]=n.tileNodes(t[i],r.paddingLeft+r.paddingRight),r.rect.width=n.tiledMemberPack[i].width,r.rect.height=n.tiledMemberPack[i].height}))},w.prototype.tileNodes=function(t,e){var n={rows:[],rowWidth:[],rowHeight:[],width:0,height:e,verticalPadding:c.TILING_PADDING_VERTICAL,horizontalPadding:c.TILING_PADDING_HORIZONTAL};t.sort((function(t,e){return t.rect.width*t.rect.height>e.rect.width*e.rect.height?-1:t.rect.width*t.rect.height<e.rect.width*e.rect.height?1:0}));for(var i=0;i<t.length;i++){var r=t[i];0==n.rows.length?this.insertNodeToRow(n,r,0,e):this.canAddHorizontal(n,r.rect.width,r.rect.height)?this.insertNodeToRow(n,r,this.getShortestRowIndex(n),e):this.insertNodeToRow(n,r,n.rows.length,e),this.shiftToLastRow(n)}return n},w.prototype.insertNodeToRow=function(t,e,n,i){var r=i;if(n==t.rows.length){var o=[];t.rows.push(o),t.rowWidth.push(r),t.rowHeight.push(0)}var s=t.rowWidth[n]+e.rect.width;t.rows[n].length>0&&(s+=t.horizontalPadding),t.rowWidth[n]=s,t.width<s&&(t.width=s);var a=e.rect.height;n>0&&(a+=t.verticalPadding);var c=0;a>t.rowHeight[n]&&(c=t.rowHeight[n],t.rowHeight[n]=a,c=t.rowHeight[n]-c),t.height+=c,t.rows[n].push(e)},w.prototype.getShortestRowIndex=function(t){for(var e=-1,n=Number.MAX_VALUE,i=0;i<t.rows.length;i++)t.rowWidth[i]<n&&(e=i,n=t.rowWidth[i]);return e},w.prototype.getLongestRowIndex=function(t){for(var e=-1,n=Number.MIN_VALUE,i=0;i<t.rows.length;i++)t.rowWidth[i]>n&&(e=i,n=t.rowWidth[i]);return e},w.prototype.canAddHorizontal=function(t,e,n){var i=this.getShortestRowIndex(t);if(i<0)return!0;var r=t.rowWidth[i];if(r+t.horizontalPadding+e<=t.width)return!0;var o,s,a=0;return t.rowHeight[i]<n&&i>0&&(a=n+t.verticalPadding-t.rowHeight[i]),o=t.width-r>=e+t.horizontalPadding?(t.height+a)/(r+e+t.horizontalPadding):(t.height+a)/t.width,a=n+t.verticalPadding,(s=t.width<e?(t.height+a)/e:(t.height+a)/t.width)<1&&(s=1/s),o<1&&(o=1/o),o<s},w.prototype.shiftToLastRow=function(t){var e=this.getLongestRowIndex(t),n=t.rowWidth.length-1,i=t.rows[e],r=i[i.length-1],o=r.width+t.horizontalPadding;if(t.width-t.rowWidth[n]>o&&e!=n){i.splice(-1,1),t.rows[n].push(r),t.rowWidth[e]=t.rowWidth[e]-o,t.rowWidth[n]=t.rowWidth[n]+o,t.width=t.rowWidth[instance.getLongestRowIndex(t)];for(var s=Number.MIN_VALUE,a=0;a<i.length;a++)i[a].height>s&&(s=i[a].height);e>0&&(s+=t.verticalPadding);var c=t.rowHeight[e]+t.rowHeight[n];t.rowHeight[e]=s,t.rowHeight[n]<r.height+t.verticalPadding&&(t.rowHeight[n]=r.height+t.verticalPadding);var l=t.rowHeight[e]+t.rowHeight[n];t.height+=l-c,this.shiftToLastRow(t)}},w.prototype.tilingPreLayout=function(){c.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},w.prototype.tilingPostLayout=function(){c.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},w.prototype.reduceTrees=function(){for(var t,e=[],n=!0;n;){var i=this.graphManager.getAllNodes(),r=[];n=!1;for(var o=0;o<i.length;o++)1!=(t=i[o]).getEdges().length||t.getEdges()[0].isInterGraph||null!=t.getChild()||(r.push([t,t.getEdges()[0],t.getOwner()]),n=!0);if(1==n){for(var s=[],a=0;a<r.length;a++)1==r[a][0].getEdges().length&&(s.push(r[a]),r[a][0].getOwner().remove(r[a][0]));e.push(s),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=e},w.prototype.growTree=function(t){for(var e,n=t[t.length-1],i=0;i<n.length;i++)e=n[i],this.findPlaceforPrunedNode(e),e[2].add(e[0]),e[2].add(e[1],e[1].source,e[1].target);t.splice(t.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},w.prototype.findPlaceforPrunedNode=function(t){var e,n,i=t[0],r=(n=i==t[1].source?t[1].target:t[1].source).startX,o=n.finishX,s=n.startY,a=n.finishY,c=[0,0,0,0];if(s>0)for(var u=r;u<=o;u++)c[0]+=this.grid[u][s-1].length+this.grid[u][s].length-1;if(o<this.grid.length-1)for(u=s;u<=a;u++)c[1]+=this.grid[o+1][u].length+this.grid[o][u].length-1;if(a<this.grid[0].length-1)for(u=r;u<=o;u++)c[2]+=this.grid[u][a+1].length+this.grid[u][a].length-1;if(r>0)for(u=s;u<=a;u++)c[3]+=this.grid[r-1][u].length+this.grid[r][u].length-1;for(var h,d,f=g.MAX_VALUE,p=0;p<c.length;p++)c[p]<f?(f=c[p],h=1,d=p):c[p]==f&&h++;if(3==h&&0==f)0==c[0]&&0==c[1]&&0==c[2]?e=1:0==c[0]&&0==c[1]&&0==c[3]?e=0:0==c[0]&&0==c[2]&&0==c[3]?e=3:0==c[1]&&0==c[2]&&0==c[3]&&(e=2);else if(2==h&&0==f){var m=Math.floor(2*Math.random());e=0==c[0]&&0==c[1]?0==m?0:1:0==c[0]&&0==c[2]?0==m?0:2:0==c[0]&&0==c[3]?0==m?0:3:0==c[1]&&0==c[2]?0==m?1:2:0==c[1]&&0==c[3]?0==m?1:3:0==m?2:3}else e=4==h&&0==f?m=Math.floor(4*Math.random()):d;0==e?i.setCenter(n.getCenterX(),n.getCenterY()-n.getHeight()/2-l.DEFAULT_EDGE_LENGTH-i.getHeight()/2):1==e?i.setCenter(n.getCenterX()+n.getWidth()/2+l.DEFAULT_EDGE_LENGTH+i.getWidth()/2,n.getCenterY()):2==e?i.setCenter(n.getCenterX(),n.getCenterY()+n.getHeight()/2+l.DEFAULT_EDGE_LENGTH+i.getHeight()/2):i.setCenter(n.getCenterX()-n.getWidth()/2-l.DEFAULT_EDGE_LENGTH-i.getWidth()/2,n.getCenterY())},t.exports=w},function(t,e,n){var i={};i.layoutBase=n(0),i.CoSEConstants=n(1),i.CoSEEdge=n(2),i.CoSEGraph=n(3),i.CoSEGraphManager=n(4),i.CoSELayout=n(6),i.CoSENode=n(5),t.exports=i}])}))}(Iq)),Sq}!function(t){!function(e,n){t.exports=n(Dq())}(0,(function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(e,n){e.exports=t},function(t,e,n){var i=n(0).layoutBase.LayoutConstants,r=n(0).layoutBase.FDLayoutConstants,o=n(0).CoSEConstants,s=n(0).CoSELayout,a=n(0).CoSENode,c=n(0).layoutBase.PointD,l=n(0).layoutBase.DimensionD,u={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function h(t,e){var n={};for(var i in t)n[i]=t[i];for(var i in e)n[i]=e[i];return n}function d(t){this.options=h(u,t),f(this.options)}var f=function(t){null!=t.nodeRepulsion&&(o.DEFAULT_REPULSION_STRENGTH=r.DEFAULT_REPULSION_STRENGTH=t.nodeRepulsion),null!=t.idealEdgeLength&&(o.DEFAULT_EDGE_LENGTH=r.DEFAULT_EDGE_LENGTH=t.idealEdgeLength),null!=t.edgeElasticity&&(o.DEFAULT_SPRING_STRENGTH=r.DEFAULT_SPRING_STRENGTH=t.edgeElasticity),null!=t.nestingFactor&&(o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=r.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=t.nestingFactor),null!=t.gravity&&(o.DEFAULT_GRAVITY_STRENGTH=r.DEFAULT_GRAVITY_STRENGTH=t.gravity),null!=t.numIter&&(o.MAX_ITERATIONS=r.MAX_ITERATIONS=t.numIter),null!=t.gravityRange&&(o.DEFAULT_GRAVITY_RANGE_FACTOR=r.DEFAULT_GRAVITY_RANGE_FACTOR=t.gravityRange),null!=t.gravityCompound&&(o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=r.DEFAULT_COMPOUND_GRAVITY_STRENGTH=t.gravityCompound),null!=t.gravityRangeCompound&&(o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=r.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=t.gravityRangeCompound),null!=t.initialEnergyOnIncremental&&(o.DEFAULT_COOLING_FACTOR_INCREMENTAL=r.DEFAULT_COOLING_FACTOR_INCREMENTAL=t.initialEnergyOnIncremental),"draft"==t.quality?i.QUALITY=0:"proof"==t.quality?i.QUALITY=2:i.QUALITY=1,o.NODE_DIMENSIONS_INCLUDE_LABELS=r.NODE_DIMENSIONS_INCLUDE_LABELS=i.NODE_DIMENSIONS_INCLUDE_LABELS=t.nodeDimensionsIncludeLabels,o.DEFAULT_INCREMENTAL=r.DEFAULT_INCREMENTAL=i.DEFAULT_INCREMENTAL=!t.randomize,o.ANIMATE=r.ANIMATE=i.ANIMATE=t.animate,o.TILE=t.tile,o.TILING_PADDING_VERTICAL="function"==typeof t.tilingPaddingVertical?t.tilingPaddingVertical.call():t.tilingPaddingVertical,o.TILING_PADDING_HORIZONTAL="function"==typeof t.tilingPaddingHorizontal?t.tilingPaddingHorizontal.call():t.tilingPaddingHorizontal};d.prototype.run=function(){var t,e,n=this.options;this.idToLNode={};var i=this.layout=new s,r=this;r.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var o=i.newGraphManager();this.gm=o;var a=this.options.eles.nodes(),c=this.options.eles.edges();this.root=o.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(a),i);for(var l=0;l<c.length;l++){var u=c[l],h=this.idToLNode[u.data("source")],d=this.idToLNode[u.data("target")];h!==d&&0==h.getEdgesBetween(d).length&&(o.add(i.newEdge(),h,d).id=u.id())}var f=function(t,e){"number"==typeof t&&(t=e);var n=t.data("id"),i=r.idToLNode[n];return{x:i.getRect().getCenterX(),y:i.getRect().getCenterY()}},g=function o(){for(var s,a=function(){n.fit&&n.cy.fit(n.eles,n.padding),t||(t=!0,r.cy.one("layoutready",n.ready),r.cy.trigger({type:"layoutready",layout:r}))},c=r.options.refresh,l=0;l<c&&!s;l++)s=r.stopped||r.layout.tick();if(s)return i.checkLayoutSuccess()&&!i.isSubLayout&&i.doPostLayout(),i.tilingPostLayout&&i.tilingPostLayout(),i.isLayoutFinished=!0,r.options.eles.nodes().positions(f),a(),r.cy.one("layoutstop",r.options.stop),r.cy.trigger({type:"layoutstop",layout:r}),e&&cancelAnimationFrame(e),void(t=!1);var u=r.layout.getPositionsData();n.eles.nodes().positions((function(t,e){if("number"==typeof t&&(t=e),!t.isParent()){for(var n=t.id(),i=u[n],r=t;null==i&&(i=u[r.data("parent")]||u["DummyCompound_"+r.data("parent")],u[n]=i,null!=(r=r.parent()[0])););return null!=i?{x:i.x,y:i.y}:{x:t.position("x"),y:t.position("y")}}})),a(),e=requestAnimationFrame(o)};return i.addListener("layoutstarted",(function(){"during"===r.options.animate&&(e=requestAnimationFrame(g))})),i.runLayout(),"during"!==this.options.animate&&(r.options.eles.nodes().not(":parent").layoutPositions(r,r.options,f),t=!1),this},d.prototype.getTopMostNodes=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].id()]=!0;return t.filter((function(t,n){"number"==typeof t&&(t=n);for(var i=t.parent()[0];null!=i;){if(e[i.id()])return!1;i=i.parent()[0]}return!0}))},d.prototype.processChildrenList=function(t,e,n){for(var i=e.length,r=0;r<i;r++){var o,s,u=e[r],h=u.children(),d=u.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if((o=null!=u.outerWidth()&&null!=u.outerHeight()?t.add(new a(n.graphManager,new c(u.position("x")-d.w/2,u.position("y")-d.h/2),new l(parseFloat(d.w),parseFloat(d.h)))):t.add(new a(this.graphManager))).id=u.data("id"),o.paddingLeft=parseInt(u.css("padding")),o.paddingTop=parseInt(u.css("padding")),o.paddingRight=parseInt(u.css("padding")),o.paddingBottom=parseInt(u.css("padding")),this.options.nodeDimensionsIncludeLabels&&u.isParent()){var f=u.boundingBox({includeLabels:!0,includeNodes:!1}).w,g=u.boundingBox({includeLabels:!0,includeNodes:!1}).h,p=u.css("text-halign");o.labelWidth=f,o.labelHeight=g,o.labelPos=p}this.idToLNode[u.data("id")]=o,isNaN(o.rect.x)&&(o.rect.x=0),isNaN(o.rect.y)&&(o.rect.y=0),null!=h&&h.length>0&&(s=n.getGraphManager().add(n.newGraph(),o),this.processChildrenList(s,h,n))}},d.prototype.stop=function(){return this.stopped=!0,this};var g=function(t){t("layout","cose-bilkent",d)};"undefined"!=typeof cytoscape&&g(cytoscape),t.exports=g}])}))}(Aq);const Nq=o(Cq);function Lq(t,e,n,i){_q.drawNode(t,e,n,i),e.children&&e.children.forEach(((e,r)=>{Lq(t,e,n<0?r:n,i)}))}function Rq(t,e){e.edges().map(((e,n)=>{const i=e.data();if(e[0]._private.bodyBounds){const r=e[0]._private.rscratch;h.trace("Edge: ",n,i),t.insert("path").attr("d",`M ${r.startX},${r.startY} L ${r.midX},${r.midY} L${r.endX},${r.endY} `).attr("class","edge section-edge-"+i.section+" edge-depth-"+i.depth)}}))}function Bq(t,e,n,i){e.add({group:"nodes",data:{id:t.id,labelText:t.descr,height:t.height,width:t.width,level:i,nodeId:t.id,padding:t.padding,type:t.type},position:{x:t.x,y:t.y}}),t.children&&t.children.forEach((r=>{Bq(r,e,n,i+1),e.add({group:"edges",data:{id:`${t.id}_${r.id}`,source:t.id,target:r.id,depth:i,section:r.section}})}))}function Fq(t,e){return new Promise((n=>{const i=un("body").append("div").attr("id","cy").attr("style","display:none"),r=xq({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});i.remove(),Bq(t,r,e,0),r.nodes().forEach((function(t){t.layoutDimensions=()=>{const e=t.data();return{w:e.width,h:e.height}}})),r.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),r.ready((t=>{h.info("Ready",t),n(r)}))}))}function jq(t){t.nodes().map(((t,e)=>{const n=t.data();n.x=t.position().x,n.y=t.position().y,_q.positionNode(n);const i=lq(n.nodeId);h.info("Id:",e,"Position: (",t.position().x,", ",t.position().y,")",n),i.attr("transform",`translate(${t.position().x-n.width/2}, ${t.position().y-n.height/2})`),i.attr("attr",`apa-${e})`)}))}xq.use(Nq);const $q=t=>{let e="";for(let e=0;e<t.THEME_COLOR_LIMIT;e++)t["lineColor"+e]=t["lineColor"+e]||t["cScaleInv"+e],_d(t["lineColor"+e])?t["lineColor"+e]=xd(t["lineColor"+e],20):t["lineColor"+e]=Ed(t["lineColor"+e],20);for(let n=0;n<t.THEME_COLOR_LIMIT;n++){const i=""+(17-3*n);e+=`\n    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} polygon, .section-${n-1} path  {\n      fill: ${t["cScale"+n]};\n    }\n    .section-${n-1} text {\n     fill: ${t["cScaleLabel"+n]};\n    }\n    .node-icon-${n-1} {\n      font-size: 40px;\n      color: ${t["cScaleLabel"+n]};\n    }\n    .section-edge-${n-1}{\n      stroke: ${t["cScale"+n]};\n    }\n    .edge-depth-${n-1}{\n      stroke-width: ${i};\n    }\n    .section-${n-1} line {\n      stroke: ${t["cScaleInv"+n]} ;\n      stroke-width: 3;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n    `}return e},Vq={db:uq,renderer:{draw:async(t,e,n,i)=>{const r=xw();i.db.clear(),i.parser.parse(t),h.debug("Renering info diagram\n"+t);const o=xw().securityLevel;let s;"sandbox"===o&&(s=un("#i"+e));const a=un("sandbox"===o?s.nodes()[0].contentDocument.body:"body").select("#"+e);a.append("g");const c=i.db.getMindmap(),l=a.append("g");l.attr("class","mindmap-edges");const u=a.append("g");u.attr("class","mindmap-nodes"),Lq(u,c,-1,r);const d=await Fq(c,r);Rq(l,d),jq(d),Nw(void 0,a,r.mindmap.padding,r.mindmap.useMaxWidth)}},parser:qU,styles:t=>`\n  .edge {\n    stroke-width: 3;\n  }\n  ${$q(t)}\n  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {\n    fill: ${t.git0};\n  }\n  .section-root text {\n    fill: ${t.gitBranchLabel0};\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n`},zq=Object.freeze(Object.defineProperty({__proto__:null,diagram:Vq},Symbol.toStringTag,{value:"Module"}));return DH}()}},i={};function r(t){var e=i[t];if(void 0!==e)return e.exports;var o=i[t]={id:t,loaded:!1,exports:{}};return n[t].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,r.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var o=Object.create(null);r.r(o);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&i&&n;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>n[t]));return s.default=()=>n,r.d(o,s),o},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";let t;try{t={window,document}}catch(e){t={window:{},document:{}}}const e=t;function n(){try{return navigator.userAgent.toLowerCase()}catch(t){return""}}const i=n(),o={isMac:s(i),isWindows:a(i),isGecko:c(i),isSafari:l(i),isiOS:u(i),isAndroid:h(i),isBlink:d(i),get isMediaForcedColors(){return!!e.window.matchMedia&&e.window.matchMedia("(forced-colors: active)").matches},get isMotionReduced(){return!!e.window.matchMedia&&e.window.matchMedia("(prefers-reduced-motion)").matches},features:{isRegExpUnicodePropertySupported:f()}};function s(t){return t.indexOf("macintosh")>-1}function a(t){return t.indexOf("windows")>-1}function c(t){return!!t.match(/gecko\/\d+/)}function l(t){return t.indexOf(" applewebkit/")>-1&&-1===t.indexOf("chrome")}function u(t){return!!t.match(/iphone|ipad/i)||s(t)&&navigator.maxTouchPoints>0}function h(t){return t.indexOf("android")>-1}function d(t){return t.indexOf("chrome/")>-1&&t.indexOf("edge/")<0}function f(){let t=!1;try{t=0==="ć".search(new RegExp("[\\p{L}]","u"))}catch(t){}return t}function g(t,e,n,i){n=n||function(t,e){return t===e};const r=Array.isArray(t)?t:Array.prototype.slice.call(t),o=Array.isArray(e)?e:Array.prototype.slice.call(e),s=function(t,e,n){const i=p(t,e,n);if(-1===i)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const r=m(t,i),o=m(e,i),s=p(r,o,n),a=t.length-s,c=e.length-s;return{firstIndex:i,lastIndexOld:a,lastIndexNew:c}}(r,o,n),a=i?function(t,e){const{firstIndex:n,lastIndexOld:i,lastIndexNew:r}=t;if(-1===n)return Array(e).fill("equal");let o=[];n>0&&(o=o.concat(Array(n).fill("equal")));r-n>0&&(o=o.concat(Array(r-n).fill("insert")));i-n>0&&(o=o.concat(Array(i-n).fill("delete")));r<e&&(o=o.concat(Array(e-r).fill("equal")));return o}(s,o.length):function(t,e){const n=[],{firstIndex:i,lastIndexOld:r,lastIndexNew:o}=e;o-i>0&&n.push({index:i,type:"insert",values:t.slice(i,o)});r-i>0&&n.push({index:i+(o-i),type:"delete",howMany:r-i});return n}(o,s);return a}function p(t,e,n){for(let i=0;i<Math.max(t.length,e.length);i++)if(void 0===t[i]||void 0===e[i]||!n(t[i],e[i]))return i;return-1}function m(t,e){return t.slice(e).reverse()}function b(t,e,n){n=n||function(t,e){return t===e};const i=t.length,r=e.length;if(i>200||r>200||i+r>300)return b.fastDiff(t,e,n,!0);let o,s;if(r<i){const n=t;t=e,e=n,o="delete",s="insert"}else o="insert",s="delete";const a=t.length,c=e.length,l=c-a,u={},h={};function d(i){const r=(void 0!==h[i-1]?h[i-1]:-1)+1,l=void 0!==h[i+1]?h[i+1]:-1,d=r>l?-1:1;u[i+d]&&(u[i]=u[i+d].slice(0)),u[i]||(u[i]=[]),u[i].push(r>l?o:s);let f=Math.max(r,l),g=f-i;for(;g<a&&f<c&&n(t[g],e[f]);)g++,f++,u[i].push("equal");return f}let f,g=0;do{for(f=-g;f<l;f++)h[f]=d(f);for(f=l+g;f>l;f--)h[f]=d(f);h[l]=d(l),g++}while(h[l]!==c);return u[l].slice(1)}b.fastDiff=g;const w=function(){return function t(){t.called=!0}};class y{constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=w(),this.off=w()}}const v=new Array(256).fill("").map(((t,e)=>("0"+e.toString(16)).slice(-2)));function _(){const[t,e,n,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+v[255&t]+v[t>>8&255]+v[t>>16&255]+v[t>>24&255]+v[255&e]+v[e>>8&255]+v[e>>16&255]+v[e>>24&255]+v[255&n]+v[n>>8&255]+v[n>>16&255]+v[n>>24&255]+v[255&i]+v[i>>8&255]+v[i>>16&255]+v[i>>24&255]}const k={get(t="normal"){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function x(t,e){const n=k.get(e.priority);let i=0,r=t.length;for(;i<r;){const e=i+r>>1;k.get(t[e].priority)<n?r=e:i=e+1}t.splice(i,0,e)}class E extends Error{constructor(t,e,n){super(function(t,e){const n=new WeakSet,i=(t,e)=>{if("object"==typeof e&&null!==e){if(n.has(e))return`[object ${e.constructor.name}]`;n.add(e)}return e},r=e?` ${JSON.stringify(e,i)}`:"",o=A(t);return t+r+o}(t,n)),this.name="CKEditorError",this.context=e,this.data=n}is(t){return"CKEditorError"===t}static rethrowUnexpectedError(t,e){if(t.is&&t.is("CKEditorError"))throw t;const n=new E(t.message,e);throw n.stack=t.stack,n}}function T(t,e){console.warn(...S(t,e))}function C(t,e){console.error(...S(t,e))}function A(t){return`\nRead more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-${t}`}function S(t,e){const n=A(t);return e?[t,e,n]:[t,n]}const I="0.0.0-nightly-20250108.0",M=new Date(2025,0,8);if(globalThis.CKEDITOR_VERSION)throw new E("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=I;const P=Symbol("listeningTo"),O=Symbol("emitterId"),D=Symbol("delegations"),N=L(Object);function L(t){if(!t)return N;return class extends t{on(t,e,n){this.listenTo(this,t,e,n)}once(t,e,n){let i=!1;this.listenTo(this,t,((t,...n)=>{i||(i=!0,t.off(),e.call(this,t,...n))}),n)}off(t,e){this.stopListening(this,t,e)}listenTo(t,e,n,i={}){let r,o;this[P]||(this[P]={});const s=this[P];B(t)||R(t);const a=B(t);(r=s[a])||(r=s[a]={emitter:t,callbacks:{}}),(o=r.callbacks[e])||(o=r.callbacks[e]=[]),o.push(n),function(t,e,n,i,r){e._addEventListener?e._addEventListener(n,i,r):t._addEventListener.call(e,n,i,r)}(this,t,e,n,i)}stopListening(t,e,n){const i=this[P];let r=t&&B(t);const o=i&&r?i[r]:void 0,s=o&&e?o.callbacks[e]:void 0;if(!(!i||t&&!o||e&&!s))if(n){V(this,t,e,n);-1!==s.indexOf(n)&&(1===s.length?delete o.callbacks[e]:V(this,t,e,n))}else if(s){for(;n=s.pop();)V(this,t,e,n);delete o.callbacks[e]}else if(o){for(e in o.callbacks)this.stopListening(t,e);delete i[r]}else{for(r in i)this.stopListening(i[r].emitter);delete this[P]}}fire(t,...e){try{const n=t instanceof y?t:new y(this,t),i=n.name;let r=function(t,e){if(!t._events)return null;let n=e;do{const e=t._events[n];if(e&&e.callbacks&&e.callbacks.length)return e.callbacks;const i=n.lastIndexOf(":");n=i>-1?n.substring(0,i):""}while(n);return null}(this,i);if(n.path.push(this),r){r=r.slice();for(let t=0;t<r.length;t++){const o=r[t].callback;if(o.call(this,n,...e),n.off.called&&(delete n.off.called,this._removeEventListener(i,o)),n.stop.called)break}}const o=this[D];if(o){const t=o.get(i),r=o.get("*");t&&$(t,n,e),r&&$(r,n,e)}return n.return}catch(t){E.rethrowUnexpectedError(t,this)}}delegate(...t){return{to:(e,n)=>{this[D]||(this[D]=new Map),t.forEach((t=>{const i=this[D].get(t);i?i.set(e,n):this[D].set(t,new Map([[e,n]]))}))}}}stopDelegating(t,e){if(this[D])if(t)if(e){const n=this[D].get(t);n&&n.delete(e)}else this[D].delete(t);else this[D].clear()}_addEventListener(t,e,n){!function(t,e){const n=F(t);if(n[e])return;let i=e,r=null;const o=[];for(;""!==i&&!n[i];)n[i]={callbacks:[],childEvents:[]},o.push(n[i]),r&&n[i].childEvents.push(r),r=i,i=i.substr(0,i.lastIndexOf(":"));if(""!==i){for(const t of o)t.callbacks=n[i].callbacks.slice();n[i].childEvents.push(r)}}(this,t);const i=j(this,t),r={callback:e,priority:k.get(n.priority)};for(const t of i)x(t,r)}_removeEventListener(t,e){const n=j(this,t);for(const t of n)for(let n=0;n<t.length;n++)t[n].callback==e&&(t.splice(n,1),n--)}}}function R(t,e){t[O]||(t[O]=e||_())}function B(t){return t[O]}function F(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function j(t,e){const n=F(t)[e];if(!n)return[];let i=[n.callbacks];for(let e=0;e<n.childEvents.length;e++){const r=j(t,n.childEvents[e]);i=i.concat(r)}return i}function $(t,e,n){for(let[i,r]of t){r?"function"==typeof r&&(r=r(e.name)):r=e.name;const t=new y(e.source,r);t.path=[...e.path],i.fire(t,...n)}}function V(t,e,n,i){e._removeEventListener?e._removeEventListener(n,i):t._removeEventListener.call(e,n,i)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((t=>{L[t]=N.prototype[t]}));const z=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},H=Symbol("observableProperties"),U=Symbol("boundObservables"),q=Symbol("boundProperties"),W=Symbol("decoratedMethods"),G=Symbol("decoratedOriginal"),K=Y(L());function Y(t){if(!t)return K;return class extends t{set(t,e){if(z(t))return void Object.keys(t).forEach((e=>{this.set(e,t[e])}),this);X(this);const n=this[H];if(t in this&&!n.has(t))throw new E("observable-set-cannot-override",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>n.get(t),set(e){const i=n.get(t);let r=this.fire(`set:${t}`,t,e,i);void 0===r&&(r=e),i===r&&n.has(t)||(n.set(t,r),this.fire(`change:${t}`,t,r,i))}}),this[t]=e}bind(...t){if(!t.length||!J(t))throw new E("observable-bind-wrong-properties",this);if(new Set(t).size!==t.length)throw new E("observable-bind-duplicate-properties",this);X(this);const e=this[q];t.forEach((t=>{if(e.has(t))throw new E("observable-bind-rebind",this)}));const n=new Map;return t.forEach((t=>{const i={property:t,to:[]};e.set(t,i),n.set(t,i)})),{to:Z,toMany:Q,_observable:this,_bindProperties:t,_to:[],_bindings:n}}unbind(...t){if(!this[H])return;const e=this[q],n=this[U];if(t.length){if(!J(t))throw new E("observable-unbind-wrong-properties",this);t.forEach((t=>{const i=e.get(t);i&&(i.to.forEach((([t,e])=>{const r=n.get(t),o=r[e];o.delete(i),o.size||delete r[e],Object.keys(r).length||(n.delete(t),this.stopListening(t,"change"))})),e.delete(t))}))}else n.forEach(((t,e)=>{this.stopListening(e,"change")})),n.clear(),e.clear()}decorate(t){X(this);const e=this[t];if(!e)throw new E("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:t});this.on(t,((t,n)=>{t.return=e.apply(this,n)})),this[t]=function(...e){return this.fire(t,e)},this[t][G]=e,this[W]||(this[W]=[]),this[W].push(t)}stopListening(t,e,n){if(!t&&this[W]){for(const t of this[W])this[t]=this[t][G];delete this[W]}super.stopListening(t,e,n)}}}function X(t){t[H]||(Object.defineProperty(t,H,{value:new Map}),Object.defineProperty(t,U,{value:new Map}),Object.defineProperty(t,q,{value:new Map}))}function Z(...t){const e=function(...t){if(!t.length)throw new E("observable-bind-to-parse-error",null);const e={to:[]};let n;"function"==typeof t[t.length-1]&&(e.callback=t.pop());return t.forEach((t=>{if("string"==typeof t)n.properties.push(t);else{if("object"!=typeof t)throw new E("observable-bind-to-parse-error",null);n={observable:t,properties:[]},e.to.push(n)}})),e}(...t),n=Array.from(this._bindings.keys()),i=n.length;if(!e.callback&&e.to.length>1)throw new E("observable-bind-to-no-callback",this);if(i>1&&e.callback)throw new E("observable-bind-to-extra-callback",this);var r;e.to.forEach((t=>{if(t.properties.length&&t.properties.length!==i)throw new E("observable-bind-to-properties-length",this);t.properties.length||(t.properties=this._bindProperties)})),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),r=this._observable,this._to.forEach((t=>{const e=r[U];let n;e.get(t.observable)||r.listenTo(t.observable,"change",((i,o)=>{n=e.get(t.observable)[o],n&&n.forEach((t=>{tt(r,t.property)}))}))})),function(t){let e;t._bindings.forEach(((n,i)=>{t._to.forEach((r=>{e=r.properties[n.callback?0:t._bindProperties.indexOf(i)],n.to.push([r.observable,e]),function(t,e,n,i){const r=t[U],o=r.get(n),s=o||{};s[i]||(s[i]=new Set);s[i].add(e),o||r.set(n,s)}(t._observable,n,r.observable,e)}))}))}(this),this._bindProperties.forEach((t=>{tt(this._observable,t)}))}function Q(t,e,n){if(this._bindings.size>1)throw new E("observable-bind-to-many-not-one-binding",this);this.to(...function(t,e){const n=t.map((t=>[t,e]));return Array.prototype.concat.apply([],n)}(t,e),n)}function J(t){return t.every((t=>"string"==typeof t))}function tt(t,e){const n=t[q].get(e);let i;n.callback?i=n.callback.apply(t,n.to.map((t=>t[0][t[1]]))):(i=n.to[0],i=i[0][i[1]]),Object.prototype.hasOwnProperty.call(t,e)?t[e]=i:t.set(e,i)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((t=>{Y[t]=K.prototype[t]}));class et{constructor(){this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach((({element:t,newElement:e})=>{t.style.display="",e&&e.remove()})),this._replacedElements=[]}}function nt(t){let e=0;for(const n of t)e++;return e}function it(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)if(t[i]!=e[i])return i;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}function rt(t){return!(!t||!t[Symbol.iterator])}const ot="object"==typeof global&&global&&global.Object===Object&&global;var st="object"==typeof self&&self&&self.Object===Object&&self;const at=ot||st||Function("return this")();const ct=at.Symbol;var lt=Object.prototype,ut=lt.hasOwnProperty,ht=lt.toString,dt=ct?ct.toStringTag:void 0;const ft=function(t){var e=ut.call(t,dt),n=t[dt];try{t[dt]=void 0;var i=!0}catch(t){}var r=ht.call(t);return i&&(e?t[dt]=n:delete t[dt]),r};var gt=Object.prototype.toString;const pt=function(t){return gt.call(t)};var mt=ct?ct.toStringTag:void 0;const bt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":mt&&mt in Object(t)?ft(t):pt(t)};const wt=Array.isArray;const yt=function(t){return null!=t&&"object"==typeof t};const vt=function(t){return"string"==typeof t||!wt(t)&&yt(t)&&"[object String]"==bt(t)};function _t(t,e,n={},i=[]){const r=n&&n.xmlns,o=r?t.createElementNS(r,e):t.createElement(e);for(const t in n)o.setAttribute(t,n[t]);!vt(i)&&rt(i)||(i=[i]);for(let e of i)vt(e)&&(e=t.createTextNode(e)),o.appendChild(e);return o}const kt=function(t,e){return function(n){return t(e(n))}};const xt=kt(Object.getPrototypeOf,Object);var Et=Function.prototype,Tt=Object.prototype,Ct=Et.toString,At=Tt.hasOwnProperty,St=Ct.call(Object);const It=function(t){if(!yt(t)||"[object Object]"!=bt(t))return!1;var e=xt(t);if(null===e)return!0;var n=At.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ct.call(n)==St};const Mt=function(){this.__data__=[],this.size=0};const Pt=function(t,e){return t===e||t!=t&&e!=e};const Ot=function(t,e){for(var n=t.length;n--;)if(Pt(t[n][0],e))return n;return-1};var Dt=Array.prototype.splice;const Nt=function(t){var e=this.__data__,n=Ot(e,t);return!(n<0)&&(n==e.length-1?e.pop():Dt.call(e,n,1),--this.size,!0)};const Lt=function(t){var e=this.__data__,n=Ot(e,t);return n<0?void 0:e[n][1]};const Rt=function(t){return Ot(this.__data__,t)>-1};const Bt=function(t,e){var n=this.__data__,i=Ot(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};function Ft(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ft.prototype.clear=Mt,Ft.prototype.delete=Nt,Ft.prototype.get=Lt,Ft.prototype.has=Rt,Ft.prototype.set=Bt;const jt=Ft;const $t=function(){this.__data__=new jt,this.size=0};const Vt=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};const zt=function(t){return this.__data__.get(t)};const Ht=function(t){return this.__data__.has(t)};const Ut=function(t){if(!z(t))return!1;var e=bt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};const qt=at["__core-js_shared__"];var Wt,Gt=(Wt=/[^.]+$/.exec(qt&&qt.keys&&qt.keys.IE_PROTO||""))?"Symbol(src)_1."+Wt:"";const Kt=function(t){return!!Gt&&Gt in t};var Yt=Function.prototype.toString;const Xt=function(t){if(null!=t){try{return Yt.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var Zt=/^\[object .+?Constructor\]$/,Qt=Function.prototype,Jt=Object.prototype,te=Qt.toString,ee=Jt.hasOwnProperty,ne=RegExp("^"+te.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ie=function(t){return!(!z(t)||Kt(t))&&(Ut(t)?ne:Zt).test(Xt(t))};const re=function(t,e){return null==t?void 0:t[e]};const oe=function(t,e){var n=re(t,e);return ie(n)?n:void 0};const se=oe(at,"Map");const ae=oe(Object,"create");const ce=function(){this.__data__=ae?ae(null):{},this.size=0};const le=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var ue=Object.prototype.hasOwnProperty;const he=function(t){var e=this.__data__;if(ae){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return ue.call(e,t)?e[t]:void 0};var de=Object.prototype.hasOwnProperty;const fe=function(t){var e=this.__data__;return ae?void 0!==e[t]:de.call(e,t)};const ge=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ae&&void 0===e?"__lodash_hash_undefined__":e,this};function pe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}pe.prototype.clear=ce,pe.prototype.delete=le,pe.prototype.get=he,pe.prototype.has=fe,pe.prototype.set=ge;const me=pe;const be=function(){this.size=0,this.__data__={hash:new me,map:new(se||jt),string:new me}};const we=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};const ye=function(t,e){var n=t.__data__;return we(e)?n["string"==typeof e?"string":"hash"]:n.map};const ve=function(t){var e=ye(this,t).delete(t);return this.size-=e?1:0,e};const _e=function(t){return ye(this,t).get(t)};const ke=function(t){return ye(this,t).has(t)};const xe=function(t,e){var n=ye(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};function Ee(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ee.prototype.clear=be,Ee.prototype.delete=ve,Ee.prototype.get=_e,Ee.prototype.has=ke,Ee.prototype.set=xe;const Te=Ee;const Ce=function(t,e){var n=this.__data__;if(n instanceof jt){var i=n.__data__;if(!se||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Te(i)}return n.set(t,e),this.size=n.size,this};function Ae(t){var e=this.__data__=new jt(t);this.size=e.size}Ae.prototype.clear=$t,Ae.prototype.delete=Vt,Ae.prototype.get=zt,Ae.prototype.has=Ht,Ae.prototype.set=Ce;const Se=Ae;const Ie=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t};const Me=function(){try{var t=oe(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();const Pe=function(t,e,n){"__proto__"==e&&Me?Me(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var Oe=Object.prototype.hasOwnProperty;const De=function(t,e,n){var i=t[e];Oe.call(t,e)&&Pt(i,n)&&(void 0!==n||e in t)||Pe(t,e,n)};const Ne=function(t,e,n,i){var r=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],c=i?i(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),r?Pe(n,a,c):De(n,a,c)}return n};const Le=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i};const Re=function(t){return yt(t)&&"[object Arguments]"==bt(t)};var Be=Object.prototype,Fe=Be.hasOwnProperty,je=Be.propertyIsEnumerable;const $e=Re(function(){return arguments}())?Re:function(t){return yt(t)&&Fe.call(t,"callee")&&!je.call(t,"callee")};const Ve=function(){return!1};var ze="object"==typeof exports&&exports&&!exports.nodeType&&exports,He=ze&&"object"==typeof module&&module&&!module.nodeType&&module,Ue=He&&He.exports===ze?at.Buffer:void 0;const qe=(Ue?Ue.isBuffer:void 0)||Ve;var We=/^(?:0|[1-9]\d*)$/;const Ge=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&We.test(t))&&t>-1&&t%1==0&&t<e};const Ke=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var Ye={};Ye["[object Float32Array]"]=Ye["[object Float64Array]"]=Ye["[object Int8Array]"]=Ye["[object Int16Array]"]=Ye["[object Int32Array]"]=Ye["[object Uint8Array]"]=Ye["[object Uint8ClampedArray]"]=Ye["[object Uint16Array]"]=Ye["[object Uint32Array]"]=!0,Ye["[object Arguments]"]=Ye["[object Array]"]=Ye["[object ArrayBuffer]"]=Ye["[object Boolean]"]=Ye["[object DataView]"]=Ye["[object Date]"]=Ye["[object Error]"]=Ye["[object Function]"]=Ye["[object Map]"]=Ye["[object Number]"]=Ye["[object Object]"]=Ye["[object RegExp]"]=Ye["[object Set]"]=Ye["[object String]"]=Ye["[object WeakMap]"]=!1;const Xe=function(t){return yt(t)&&Ke(t.length)&&!!Ye[bt(t)]};const Ze=function(t){return function(e){return t(e)}};var Qe="object"==typeof exports&&exports&&!exports.nodeType&&exports,Je=Qe&&"object"==typeof module&&module&&!module.nodeType&&module,tn=Je&&Je.exports===Qe&&ot.process;const en=function(){try{var t=Je&&Je.require&&Je.require("util").types;return t||tn&&tn.binding&&tn.binding("util")}catch(t){}}();var nn=en&&en.isTypedArray;const rn=nn?Ze(nn):Xe;var on=Object.prototype.hasOwnProperty;const sn=function(t,e){var n=wt(t),i=!n&&$e(t),r=!n&&!i&&qe(t),o=!n&&!i&&!r&&rn(t),s=n||i||r||o,a=s?Le(t.length,String):[],c=a.length;for(var l in t)!e&&!on.call(t,l)||s&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ge(l,c))||a.push(l);return a};var an=Object.prototype;const cn=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||an)};const ln=kt(Object.keys,Object);var un=Object.prototype.hasOwnProperty;const hn=function(t){if(!cn(t))return ln(t);var e=[];for(var n in Object(t))un.call(t,n)&&"constructor"!=n&&e.push(n);return e};const dn=function(t){return null!=t&&Ke(t.length)&&!Ut(t)};const fn=function(t){return dn(t)?sn(t):hn(t)};const gn=function(t,e){return t&&Ne(e,fn(e),t)};const pn=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e};var mn=Object.prototype.hasOwnProperty;const bn=function(t){if(!z(t))return pn(t);var e=cn(t),n=[];for(var i in t)("constructor"!=i||!e&&mn.call(t,i))&&n.push(i);return n};const wn=function(t){return dn(t)?sn(t,!0):bn(t)};const yn=function(t,e){return t&&Ne(e,wn(e),t)};var vn="object"==typeof exports&&exports&&!exports.nodeType&&exports,_n=vn&&"object"==typeof module&&module&&!module.nodeType&&module,kn=_n&&_n.exports===vn?at.Buffer:void 0,xn=kn?kn.allocUnsafe:void 0;const En=function(t,e){if(e)return t.slice();var n=t.length,i=xn?xn(n):new t.constructor(n);return t.copy(i),i};const Tn=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e};const Cn=function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o};const An=function(){return[]};var Sn=Object.prototype.propertyIsEnumerable,In=Object.getOwnPropertySymbols;const Mn=In?function(t){return null==t?[]:(t=Object(t),Cn(In(t),(function(e){return Sn.call(t,e)})))}:An;const Pn=function(t,e){return Ne(t,Mn(t),e)};const On=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t};const Dn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)On(e,Mn(t)),t=xt(t);return e}:An;const Nn=function(t,e){return Ne(t,Dn(t),e)};const Ln=function(t,e,n){var i=e(t);return wt(t)?i:On(i,n(t))};const Rn=function(t){return Ln(t,fn,Mn)};const Bn=function(t){return Ln(t,wn,Dn)};const Fn=oe(at,"DataView");const jn=oe(at,"Promise");const $n=oe(at,"Set");const Vn=oe(at,"WeakMap");var zn="[object Map]",Hn="[object Promise]",Un="[object Set]",qn="[object WeakMap]",Wn="[object DataView]",Gn=Xt(Fn),Kn=Xt(se),Yn=Xt(jn),Xn=Xt($n),Zn=Xt(Vn),Qn=bt;(Fn&&Qn(new Fn(new ArrayBuffer(1)))!=Wn||se&&Qn(new se)!=zn||jn&&Qn(jn.resolve())!=Hn||$n&&Qn(new $n)!=Un||Vn&&Qn(new Vn)!=qn)&&(Qn=function(t){var e=bt(t),n="[object Object]"==e?t.constructor:void 0,i=n?Xt(n):"";if(i)switch(i){case Gn:return Wn;case Kn:return zn;case Yn:return Hn;case Xn:return Un;case Zn:return qn}return e});const Jn=Qn;var ti=Object.prototype.hasOwnProperty;const ei=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ti.call(t,"index")&&(n.index=t.index,n.input=t.input),n};const ni=at.Uint8Array;const ii=function(t){var e=new t.constructor(t.byteLength);return new ni(e).set(new ni(t)),e};const ri=function(t,e){var n=e?ii(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)};var oi=/\w*$/;const si=function(t){var e=new t.constructor(t.source,oi.exec(t));return e.lastIndex=t.lastIndex,e};var ai=ct?ct.prototype:void 0,ci=ai?ai.valueOf:void 0;const li=function(t){return ci?Object(ci.call(t)):{}};const ui=function(t,e){var n=e?ii(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};const hi=function(t,e,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return ii(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return ri(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ui(t,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return si(t);case"[object Symbol]":return li(t)}};var di=Object.create;const fi=function(){function t(){}return function(e){if(!z(e))return{};if(di)return di(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const gi=function(t){return"function"!=typeof t.constructor||cn(t)?{}:fi(xt(t))};const pi=function(t){return yt(t)&&"[object Map]"==Jn(t)};var mi=en&&en.isMap;const bi=mi?Ze(mi):pi;const wi=function(t){return yt(t)&&"[object Set]"==Jn(t)};var yi=en&&en.isSet;const vi=yi?Ze(yi):wi;var _i="[object Arguments]",ki="[object Function]",xi="[object Object]",Ei={};Ei[_i]=Ei["[object Array]"]=Ei["[object ArrayBuffer]"]=Ei["[object DataView]"]=Ei["[object Boolean]"]=Ei["[object Date]"]=Ei["[object Float32Array]"]=Ei["[object Float64Array]"]=Ei["[object Int8Array]"]=Ei["[object Int16Array]"]=Ei["[object Int32Array]"]=Ei["[object Map]"]=Ei["[object Number]"]=Ei[xi]=Ei["[object RegExp]"]=Ei["[object Set]"]=Ei["[object String]"]=Ei["[object Symbol]"]=Ei["[object Uint8Array]"]=Ei["[object Uint8ClampedArray]"]=Ei["[object Uint16Array]"]=Ei["[object Uint32Array]"]=!0,Ei["[object Error]"]=Ei[ki]=Ei["[object WeakMap]"]=!1;const Ti=function t(e,n,i,r,o,s){var a,c=1&n,l=2&n,u=4&n;if(i&&(a=o?i(e,r,o,s):i(e)),void 0!==a)return a;if(!z(e))return e;var h=wt(e);if(h){if(a=ei(e),!c)return Tn(e,a)}else{var d=Jn(e),f=d==ki||"[object GeneratorFunction]"==d;if(qe(e))return En(e,c);if(d==xi||d==_i||f&&!o){if(a=l||f?{}:gi(e),!c)return l?Nn(e,yn(a,e)):Pn(e,gn(a,e))}else{if(!Ei[d])return o?e:{};a=hi(e,d,c)}}s||(s=new Se);var g=s.get(e);if(g)return g;s.set(e,a),vi(e)?e.forEach((function(r){a.add(t(r,n,i,r,e,s))})):bi(e)&&e.forEach((function(r,o){a.set(o,t(r,n,i,o,e,s))}));var p=h?void 0:(u?l?Bn:Rn:l?wn:fn)(e);return Ie(p||e,(function(r,o){p&&(r=e[o=r]),De(a,o,t(r,n,i,o,e,s))})),a};const Ci=function(t,e){return Ti(t,5,e="function"==typeof e?e:void 0)};const Ai=function(t){return yt(t)&&1===t.nodeType&&!It(t)};class Si{constructor(t,e){this._config=Object.create(null),e&&this.define(Ii(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,n,i=!1){if(It(e))return void this._setObjectToTarget(t,e,i);const r=e.split(".");e=r.pop();for(const e of r)It(t[e])||(t[e]=Object.create(null)),t=t[e];if(It(n))return It(t[e])||(t[e]=Object.create(null)),t=t[e],void this._setObjectToTarget(t,n,i);i&&void 0!==t[e]||(t[e]=n)}_getFromSource(t,e){const n=e.split(".");e=n.pop();for(const e of n){if(!It(t[e])){t=null;break}t=t[e]}return t?Ii(t[e]):void 0}_setObjectToTarget(t,e,n){Object.keys(e).forEach((i=>{this._setToTarget(t,i,e[i],n)}))}}function Ii(t){return Ci(t,Mi)}function Mi(t){return Ai(t)||"function"==typeof t?t:void 0}function Pi(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}function Oi(t){const e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e}const Di=Ni(L());function Ni(t){if(!t)return Di;return class extends t{listenTo(t,e,n,i={}){if(Pi(t)||Oi(t)){const r={capture:!!i.useCapture,passive:!!i.usePassive},o=this._getProxyEmitter(t,r)||new Li(t,r);this.listenTo(o,e,n,i)}else super.listenTo(t,e,n,i)}stopListening(t,e,n){if(Pi(t)||Oi(t)){const i=this._getAllProxyEmitters(t);for(const t of i)this.stopListening(t,e,n)}else super.stopListening(t,e,n)}_getProxyEmitter(t,e){return function(t,e){const n=t[P];return n&&n[e]?n[e].emitter:null}(this,Ri(t,e))}_getAllProxyEmitters(t){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map((e=>this._getProxyEmitter(t,e))).filter((t=>!!t))}}}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((t=>{Ni[t]=Di.prototype[t]}));class Li extends(L()){constructor(t,e){super(),R(this,Ri(t,e)),this._domNode=t,this._options=e}attach(t){if(this._domListeners&&this._domListeners[t])return;const e=this._createDomListener(t);this._domNode.addEventListener(t,e,this._options),this._domListeners||(this._domListeners={}),this._domListeners[t]=e}detach(t){let e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()}_addEventListener(t,e,n){this.attach(t),L().prototype._addEventListener.call(this,t,e,n)}_removeEventListener(t,e){L().prototype._removeEventListener.call(this,t,e),this.detach(t)}_createDomListener(t){const e=e=>{this.fire(t,e)};return e.removeListener=()=>{this._domNode.removeEventListener(t,e,this._options),delete this._domListeners[t]},e}}function Ri(t,e){let n=function(t){return t["data-ck-expando"]||(t["data-ck-expando"]=_())}(t);for(const t of Object.keys(e).sort())e[t]&&(n+="-"+t);return n}function Bi(t){const e=[];let n=t;for(;n&&n.nodeType!=Node.DOCUMENT_NODE;)e.unshift(n),n=n.parentNode;return e}function Fi(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function ji(t){if(!t.target)return null;const e=t.target.ownerDocument,n=t.clientX,i=t.clientY;let r=null;return e.caretRangeFromPoint&&e.caretRangeFromPoint(n,i)?r=e.caretRangeFromPoint(n,i):t.rangeParent&&(r=e.createRange(),r.setStart(t.rangeParent,t.rangeOffset),r.collapse(!0)),r}function $i(t){return"[object Text]"==Object.prototype.toString.call(t)}function Vi(t){return"[object Range]"==Object.prototype.toString.apply(t)}function zi(t){return t&&t.parentNode?t.offsetParent===e.document.body?null:t.offsetParent:null}const Hi=["top","right","bottom","left","width","height"];class Ui{constructor(t){const e=Vi(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),Gi(t)||e)if(e){const e=Ui.getDomRangeRects(t);qi(this,Ui.getBoundingRect(e))}else qi(this,t.getBoundingClientRect());else if(Oi(t)){const{innerWidth:e,innerHeight:n}=t;qi(this,{top:0,right:e,bottom:n,left:0,width:e,height:n})}else qi(this,t)}clone(){return new Ui(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};if(e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0)return null;{const t=new Ui(e);return t._source=this._source,t}}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(Wi(t))return e;let n,i=t,r=t.parentNode||t.commonAncestorContainer;for(;r&&!Wi(r);){const t="visible"===((o=r)instanceof HTMLElement?o.ownerDocument.defaultView.getComputedStyle(o).overflow:"visible");i instanceof HTMLElement&&"absolute"===Ki(i)&&(n=i);const s=Ki(r);if(t||n&&("relative"===s&&t||"relative"!==s)){i=r,r=r.parentNode;continue}const a=new Ui(r),c=e.getIntersection(a);if(!c)return null;c.getArea()<e.getArea()&&(e=c),i=r,r=r.parentNode}var o;return e}isEqual(t){for(const e of Hi)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}toAbsoluteRect(){const{scrollX:t,scrollY:n}=e.window,i=this.clone().moveBy(t,n);if(Gi(i._source)){const t=zi(i._source);t&&function(t,e){const n=new Ui(e),i=Fi(e);let r=0,o=0;r-=n.left,o-=n.top,r+=e.scrollLeft,o+=e.scrollTop,r-=i.left,o-=i.top,t.moveBy(r,o)}(i,t)}return i}excludeScrollbarsAndBorders(){const t=this._source;let e,n,i;if(Oi(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight,i=t.getComputedStyle(t.document.documentElement).direction;else{const r=Fi(t);e=t.offsetWidth-t.clientWidth-r.left-r.right,n=t.offsetHeight-t.clientHeight-r.top-r.bottom,i=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=r.left,this.top+=r.top,this.right-=r.right,this.bottom-=r.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,"ltr"===i?this.right-=e:this.left+=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const t of n)e.push(new Ui(t));else{let n=t.startContainer;$i(n)&&(n=n.parentNode);const i=new Ui(n.getBoundingClientRect());i.right=i.left,i.width=0,e.push(i)}return e}static getBoundingRect(t){const e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const i of t)n++,e.left=Math.min(e.left,i.left),e.top=Math.min(e.top,i.top),e.right=Math.max(e.right,i.right),e.bottom=Math.max(e.bottom,i.bottom);return 0==n?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new Ui(e))}}function qi(t,e){for(const n of Hi)t[n]=e[n]}function Wi(t){return!!Gi(t)&&t===t.ownerDocument.body}function Gi(t){return null!==t&&"object"==typeof t&&1===t.nodeType&&"function"==typeof t.getBoundingClientRect}function Ki(t){return t instanceof HTMLElement?t.ownerDocument.defaultView.getComputedStyle(t).position:"static"}class Yi{constructor(t,e){Yi._observerInstance||Yi._createObserver(),this._element=t,this._callback=e,Yi._addElementCallback(t,e),Yi._observerInstance.observe(t)}get element(){return this._element}destroy(){Yi._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){Yi._elementCallbacks||(Yi._elementCallbacks=new Map);let n=Yi._elementCallbacks.get(t);n||(n=new Set,Yi._elementCallbacks.set(t,n)),n.add(e)}static _deleteElementCallback(t,e){const n=Yi._getElementCallbacks(t);n&&(n.delete(e),n.size||(Yi._elementCallbacks.delete(t),Yi._observerInstance.unobserve(t))),Yi._elementCallbacks&&!Yi._elementCallbacks.size&&(Yi._observerInstance=null,Yi._elementCallbacks=null)}static _getElementCallbacks(t){return Yi._elementCallbacks?Yi._elementCallbacks.get(t):null}static _createObserver(){Yi._observerInstance=new e.window.ResizeObserver((t=>{for(const e of t){const t=Yi._getElementCallbacks(e.target);if(t)for(const n of t)n(e)}}))}}Yi._observerInstance=null,Yi._elementCallbacks=null;const Xi=Yi;function Zi(t,e){t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}function Qi(t){return e=>e+t}function Ji(t){let e=0;for(;t.previousSibling;)t=t.previousSibling,e++;return e}function tr(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}function er(t){return t&&t.nodeType===Node.COMMENT_NODE}function nr(t){return!!t&&($i(t)?nr(t.parentElement):!!t.getClientRects&&!!t.getClientRects().length)}function ir({element:t,target:n,positions:i,limiter:r,fitInViewport:o,viewportOffsetConfig:s}){Ut(n)&&(n=n()),Ut(r)&&(r=r());const a=zi(t),c=function(t){t=Object.assign({top:0,bottom:0,left:0,right:0},t);const n=new Ui(e.window);return n.top+=t.top,n.height-=t.top,n.bottom-=t.bottom,n.height-=t.bottom,n}(s),l=new Ui(t),u=rr(n,c);let h;if(!u||!c.getIntersection(u))return null;const d={targetRect:u,elementRect:l,positionedElementAncestor:a,viewportRect:c};if(r||o){if(r){const t=rr(r,c);t&&(d.limiterRect=t)}h=function(t,e){const{elementRect:n}=e,i=n.getArea(),r=t.map((t=>new or(t,e))).filter((t=>!!t.name));let o=0,s=null;for(const t of r){const{limiterIntersectionArea:e,viewportIntersectionArea:n}=t;if(e===i)return t;const r=n**2+e**2;r>o&&(o=r,s=t)}return s}(i,d)}else h=new or(i[0],d);return h}function rr(t,e){const n=new Ui(t).getVisible();return n?n.getIntersection(e):null}class or{constructor(t,e){const n=t(e.targetRect,e.elementRect,e.viewportRect,e.limiterRect);if(!n)return;const{left:i,top:r,name:o,config:s}=n;this.name=o,this.config=s,this._positioningFunctionCoordinates={left:i,top:r},this._options=e}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;return t?t.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function sr(t){const e=t.parentNode;e&&e.removeChild(t)}function ar({window:t,rect:e,alignToTop:n,forceScroll:i,viewportOffset:r}){const o=e.clone().moveBy(0,r.bottom),s=e.clone().moveBy(0,-r.top),a=new Ui(t).excludeScrollbarsAndBorders(),c=n&&i,l=[s,o].every((t=>a.contains(t)));let{scrollX:u,scrollY:h}=t;const d=u,f=h;c?h-=a.top-e.top+r.top:l||(ur(s,a)?h-=a.top-e.top+r.top:lr(o,a)&&(h+=n?e.top-a.top-r.top:e.bottom-a.bottom+r.bottom)),l||(hr(e,a)?u-=a.left-e.left+r.left:dr(e,a)&&(u+=e.right-a.right+r.right)),u==d&&h===f||t.scrollTo(u,h)}function cr({parent:t,getRect:e,alignToTop:n,forceScroll:i,ancestorOffset:r=0,limiterElement:o}){const s=fr(t),a=n&&i;let c,l,u;const h=o||s.document.body;for(;t!=h;)l=e(),c=new Ui(t).excludeScrollbarsAndBorders(),u=c.contains(l),a?t.scrollTop-=c.top-l.top+r:u||(ur(l,c)?t.scrollTop-=c.top-l.top+r:lr(l,c)&&(t.scrollTop+=n?l.top-c.top-r:l.bottom-c.bottom+r)),u||(hr(l,c)?t.scrollLeft-=c.left-l.left+r:dr(l,c)&&(t.scrollLeft+=l.right-c.right+r)),t=t.parentNode}function lr(t,e){return t.bottom>e.bottom}function ur(t,e){return t.top<e.top}function hr(t,e){return t.left<e.left}function dr(t,e){return t.right>e.right}function fr(t){return Vi(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function gr(t){if(Vi(t)){let e=t.commonAncestorContainer;return $i(e)&&(e=e.parentNode),e}return t.parentNode}function pr(t,e){const n=fr(t),i=new Ui(t);if(n===e)return i;{let t=n;for(;t!=e;){const e=t.frameElement,n=new Ui(e).excludeScrollbarsAndBorders();i.moveBy(n.left,n.top),t=t.parent}}return i}const mr={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},br={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},wr={37:"←",38:"↑",39:"→",40:"↓",9:"⇥",33:"Page Up",34:"Page Down"},yr=Tr(),vr=Object.fromEntries(Object.entries(yr).map((([t,e])=>{let n;return n=e in wr?wr[e]:t.charAt(0).toUpperCase()+t.slice(1),[e,n]})));function _r(t){let e;if("string"==typeof t){if(e=yr[t.toLowerCase()],!e)throw new E("keyboard-unknown-key",null,{key:t})}else e=t.keyCode+(t.altKey?yr.alt:0)+(t.ctrlKey?yr.ctrl:0)+(t.shiftKey?yr.shift:0)+(t.metaKey?yr.cmd:0);return e}function kr(t){return"string"==typeof t&&(t=function(t){return t.split("+").map((t=>t.trim()))}(t)),t.map((t=>"string"==typeof t?function(t){if(t.endsWith("!"))return _r(t.slice(0,-1));const e=_r(t);return(o.isMac||o.isiOS)&&e==yr.ctrl?yr.cmd:e}(t):t)).reduce(((t,e)=>e+t),0)}function xr(t){let e=kr(t);return Object.entries(o.isMac||o.isiOS?mr:br).reduce(((t,[n,i])=>(e&yr[n]&&(e&=~yr[n],t+=i),t)),"")+(e?vr[e]:"")}function Er(t,e){const n="ltr"===e;switch(t){case yr.arrowleft:return n?"left":"right";case yr.arrowright:return n?"right":"left";case yr.arrowup:return"up";case yr.arrowdown:return"down"}}function Tr(){const t={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){t[String.fromCharCode(e).toLowerCase()]=e}for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;return Object.assign(t,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),t}function Cr(t){return Array.isArray(t)?t:[t]}const Ar=function(t,e,n){(void 0!==n&&!Pt(t[e],n)||void 0===n&&!(e in t))&&Pe(t,e,n)};const Sr=function(t){return function(e,n,i){for(var r=-1,o=Object(e),s=i(e),a=s.length;a--;){var c=s[t?a:++r];if(!1===n(o[c],c,o))break}return e}}();const Ir=function(t){return yt(t)&&dn(t)};const Mr=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};const Pr=function(t){return Ne(t,wn(t))};const Or=function(t,e,n,i,r,o,s){var a=Mr(t,n),c=Mr(e,n),l=s.get(c);if(l)Ar(t,n,l);else{var u=o?o(a,c,n+"",t,e,s):void 0,h=void 0===u;if(h){var d=wt(c),f=!d&&qe(c),g=!d&&!f&&rn(c);u=c,d||f||g?wt(a)?u=a:Ir(a)?u=Tn(a):f?(h=!1,u=En(c,!0)):g?(h=!1,u=ui(c,!0)):u=[]:It(c)||$e(c)?(u=a,$e(a)?u=Pr(a):z(a)&&!Ut(a)||(u=gi(c))):h=!1}h&&(s.set(c,u),r(u,c,i,o,s),s.delete(c)),Ar(t,n,u)}};const Dr=function t(e,n,i,r,o){e!==n&&Sr(n,(function(s,a){if(o||(o=new Se),z(s))Or(e,n,a,i,t,r,o);else{var c=r?r(Mr(e,a),s,a+"",e,n,o):void 0;void 0===c&&(c=s),Ar(e,a,c)}}),wn)};const Nr=function(t){return t};const Lr=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var Rr=Math.max;const Br=function(t,e,n){return e=Rr(void 0===e?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=Rr(i.length-e,0),s=Array(o);++r<o;)s[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=n(s),Lr(t,this,a)}};const Fr=function(t){return function(){return t}};const jr=Me?function(t,e){return Me(t,"toString",{configurable:!0,enumerable:!1,value:Fr(e),writable:!0})}:Nr;var $r=Date.now;const Vr=function(t){var e=0,n=0;return function(){var i=$r(),r=16-(i-n);if(n=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(jr);const zr=function(t,e){return Vr(Br(t,e,Nr),t+"")};const Hr=function(t,e,n){if(!z(n))return!1;var i=typeof e;return!!("number"==i?dn(n)&&Ge(e,n.length):"string"==i&&e in n)&&Pt(n[e],t)};const Ur=function(t){return zr((function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,s&&Hr(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),e=Object(e);++i<r;){var a=n[i];a&&t(e,a,i,o)}return e}))};const qr=Ur((function(t,e,n){Dr(t,e,n)}));function Wr(t,n,i=1,r){if("number"!=typeof i)throw new E("translation-service-quantity-not-a-number",null,{quantity:i});const o=r||e.window.CKEDITOR_TRANSLATIONS,s=function(t){return Object.keys(t).length}(o);1===s&&(t=Object.keys(o)[0]);const a=n.id||n.string;if(0===s||!function(t,e,n){return!!n[t]&&!!n[t].dictionary[e]}(t,a,o))return 1!==i?n.plural:n.string;const c=o[t].dictionary,l=o[t].getPluralForm||(t=>1===t?0:1),u=c[a];if("string"==typeof u)return u;return u[Number(l(i))]}e.window.CKEDITOR_TRANSLATIONS||(e.window.CKEDITOR_TRANSLATIONS={});const Gr=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function Kr(t){return Gr.includes(t)?"rtl":"ltr"}class Yr{constructor({uiLanguage:t="en",contentLanguage:e,translations:n}={}){this.uiLanguage=t,this.contentLanguage=e||this.uiLanguage,this.uiLanguageDirection=Kr(this.uiLanguage),this.contentLanguageDirection=Kr(this.contentLanguage),this.translations=function(t){return Array.isArray(t)?t.reduce(((t,e)=>qr(t,e))):t}(n),this.t=(t,e)=>this._t(t,e)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e=[]){e=Cr(e),"string"==typeof t&&(t={string:t});const n=!!t.plural?e[0]:1;return function(t,e){return t.replace(/%(\d+)/g,((t,n)=>n<e.length?e[n]:t))}(Wr(this.uiLanguage,t,n,this.translations),e)}}class Xr extends(L()){constructor(t={},e={}){super();const n=rt(t);if(n||(e=t),this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const e of t)this._items.push(e),this._itemMap.set(this._getItemIdBeforeAdding(e),e)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){return this.addMany([t],e)}addMany(t,e){if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new E("collection-add-item-invalid-index",this);let n=0;for(const i of t){const t=this._getItemIdBeforeAdding(i),r=e+n;this._items.splice(r,0,i),this._itemMap.set(t,i),this.fire("add",i,r),n++}return this.fire("change",{added:t,removed:[],index:e}),this}get(t){let e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new E("collection-get-invalid-arg",this);e=this._items[t]}return e||null}has(t){if("string"==typeof t)return this._itemMap.has(t);{const e=t[this._idProperty];return e&&this._itemMap.has(e)}}getIndex(t){let e;return e="string"==typeof t?this._itemMap.get(t):t,e?this._items.indexOf(e):-1}remove(t){const[e,n]=this._remove(t);return this.fire("change",{added:[],removed:[e],index:n}),e}map(t,e){return this._items.map(t,e)}forEach(t,e){this._items.forEach(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new E("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:t=>{this._setUpBindToBinding((e=>new t(e)))},using:t=>{"function"==typeof t?this._setUpBindToBinding(t):this._setUpBindToBinding((e=>e[t]))}}}_setUpBindToBinding(t){const e=this._bindToCollection,n=(n,i,r)=>{const o=e._bindToCollection==this,s=e._bindToInternalToExternalMap.get(i);if(o&&s)this._bindToExternalToInternalMap.set(i,s),this._bindToInternalToExternalMap.set(s,i);else{const n=t(i);if(!n)return void this._skippedIndexesFromExternal.push(r);let o=r;for(const t of this._skippedIndexesFromExternal)r>t&&o--;for(const t of e._skippedIndexesFromExternal)o>=t&&o++;this._bindToExternalToInternalMap.set(i,n),this._bindToInternalToExternalMap.set(n,i),this.add(n,o);for(let t=0;t<e._skippedIndexesFromExternal.length;t++)o<=e._skippedIndexesFromExternal[t]&&e._skippedIndexesFromExternal[t]++}};for(const t of e)n(0,t,e.getIndex(t));this.listenTo(e,"add",n),this.listenTo(e,"remove",((t,e,n)=>{const i=this._bindToExternalToInternalMap.get(e);i&&this.remove(i),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce(((t,e)=>(n<e&&t.push(e-1),n>e&&t.push(e),t)),[])}))}_getItemIdBeforeAdding(t){const e=this._idProperty;let n;if(e in t){if(n=t[e],"string"!=typeof n)throw new E("collection-add-invalid-id",this);if(this.get(n))throw new E("collection-add-item-already-exists",this)}else t[e]=n=_();return n}_remove(t){let e,n,i,r=!1;const o=this._idProperty;if("string"==typeof t?(n=t,i=this._itemMap.get(n),r=!i,i&&(e=this._items.indexOf(i))):"number"==typeof t?(e=t,i=this._items[e],r=!i,i&&(n=i[o])):(i=t,n=i[o],e=this._items.indexOf(i),r=-1==e||!this._itemMap.get(n)),r)throw new E("collection-remove-404",this);this._items.splice(e,1),this._itemMap.delete(n);const s=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(s),this.fire("remove",i,e),[i,e]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Zr(t){const e=t.next();return e.done?null:e.value}class Qr extends(Ni(Y())){constructor(){super(),this._elements=new Set,this._externalViews=new Set,this._blurTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}get externalViews(){return Array.from(this._externalViews.values())}add(t){if(to(t))this._addElement(t);else if(Jr(t))this._addView(t);else{if(!t.element)throw new E("focustracker-add-view-missing-element",{focusTracker:this,view:t});this._addElement(t.element)}}remove(t){to(t)?this._removeElement(t):Jr(t)?this._removeView(t):this._removeElement(t.element)}_addElement(t){if(this._elements.has(t))throw new E("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",(()=>{const e=this.externalViews.find((e=>function(t,e){if(eo(t,e))return!0;return!!e.focusTracker.externalViews.find((e=>eo(t,e)))}(t,e)));e?this._focus(e.element):this._focus(t)}),{useCapture:!0}),this.listenTo(t,"blur",(()=>{this._blur()}),{useCapture:!0}),this._elements.add(t)}_removeElement(t){this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t)),t===this.focusedElement&&this._blur()}_addView(t){t.element&&this._addElement(t.element),this.listenTo(t.focusTracker,"change:focusedElement",(()=>{t.focusTracker.focusedElement?t.element&&this._focus(t.element):this._blur()})),this._externalViews.add(t)}_removeView(t){t.element&&this._removeElement(t.element),this.stopListening(t.focusTracker),this._externalViews.delete(t)}destroy(){this.stopListening(),this._elements.clear(),this._externalViews.clear(),this.isFocused=!1,this.focusedElement=null}_focus(t){this._clearBlurTimeout(),this.focusedElement=t,this.isFocused=!0}_blur(){if(this.elements.find((t=>t.contains(document.activeElement))))return;this.externalViews.find((t=>t.focusTracker.isFocused&&!t.focusTracker._blurTimeout))||(this._clearBlurTimeout(),this._blurTimeout=setTimeout((()=>{this.focusedElement=null,this.isFocused=!1}),0))}_clearBlurTimeout(){clearTimeout(this._blurTimeout),this._blurTimeout=null}}function Jr(t){return"focusTracker"in t&&t.focusTracker instanceof Qr}function to(t){return Ai(t)}function eo(t,e){return!!e.element&&e.element.contains(document.activeElement)&&t.contains(e.element)}class no{constructor(){this._listener=new(Ni())}listenTo(t){this._listener.listenTo(t,"keydown",((t,e)=>{this._listener.fire("_keydown:"+_r(e),e)}))}set(t,e,n={}){const i=kr(t),r=n.priority;this._listener.listenTo(this._listener,"_keydown:"+i,((t,i)=>{n.filter&&!n.filter(i)||(e(i,(()=>{i.preventDefault(),i.stopPropagation(),t.stop()})),t.return=!0)}),{priority:r})}press(t){return!!this._listener.fire("_keydown:"+_r(t),t)}stopListening(t){this._listener.stopListening(t)}destroy(){this.stopListening()}}function io(t){return rt(t)?new Map(t):function(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}(t)}function ro(t,e,n){const i=t.length,r=e.length;for(let e=i-1;e>=n;e--)t[e+r]=t[e];for(let i=0;i<r;i++)t[n+i]=e[i]}function oo(t,e){let n;function i(...r){i.cancel(),n=setTimeout((()=>t(...r)),e)}return i.cancel=()=>{clearTimeout(n)},i}function so(t){try{if(!t.startsWith("ey"))return null;const e=atob(t.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(e)}catch(t){return null}}function ao(t,e){return!!(n=t.charAt(e-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t)}(t.charAt(e));var n}function co(t,e){return!!(n=t.charAt(e))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}const lo=ho();function uo(t,e){const n=String(t).matchAll(lo);return Array.from(n).some((t=>t.index<e&&e<t.index+t[0].length))}function ho(){const t=/\p{Regional_Indicator}{2}/u.source,e="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map((t=>t.source)).join("|")+")";return new RegExp(`${t}|${e}(?:‍${e})*`,"ug")}class fo extends(Y()){constructor(t){super(),this._disableStack=new Set,this.editor=t,this.set("isEnabled",!0)}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",go,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",go),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}function go(t){t.return=!1,t.stop()}class po extends(Y()){constructor(t){super(),this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(()=>{this.refresh()})),this.listenTo(t,"change:isReadOnly",(()=>{this.refresh()})),this.on("set:isEnabled",(e=>{if(!this.affectsData)return;const n=t.model.document.selection,i=!("$graveyard"==n.getFirstPosition().root.rootName)&&t.model.canEditAt(n);(t.isReadOnly||this._isEnabledBasedOnSelection&&!i)&&(e.return=!1,e.stop())}),{priority:"highest"}),this.on("execute",(t=>{this.isEnabled||t.stop()}),{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(t){this._affectsData=t}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",mo,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",mo),this.refresh())}execute(...t){}destroy(){this.stopListening()}}function mo(t){t.return=!1,t.stop()}class bo extends po{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...t){const e=this._getFirstEnabledCommand();return!!e&&e.execute(t)}registerChildCommand(t,e={}){x(this._childCommandsDefinitions,{command:t,priority:e.priority||"normal"}),t.on("change:isEnabled",(()=>this._checkEnabled())),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const t=this._childCommandsDefinitions.find((({command:t})=>t.isEnabled));return t&&t.command}}class wo extends(L()){constructor(t,e=[],n=[]){super(),this._plugins=new Map,this._context=t,this._availablePlugins=new Map;for(const t of e)t.pluginName&&this._availablePlugins.set(t.pluginName,t);this._contextPlugins=new Map;for(const[t,e]of n)this._contextPlugins.set(t,e),this._contextPlugins.set(e,t),t.pluginName&&this._availablePlugins.set(t.pluginName,t)}*[Symbol.iterator](){for(const t of this._plugins)"function"==typeof t[0]&&(yield t)}get(t){const e=this._plugins.get(t);if(!e){let e=t;throw"function"==typeof t&&(e=t.pluginName||t.name),new E("plugincollection-plugin-not-loaded",this._context,{plugin:e})}return e}has(t){return this._plugins.has(t)}init(t,e=[],n=[]){const i=this,r=this._context;!function t(e,n=new Set){e.forEach((e=>{a(e)&&(n.has(e)||(n.add(e),e.pluginName&&!i._availablePlugins.has(e.pluginName)&&i._availablePlugins.set(e.pluginName,e),e.requires&&t(e.requires,n)))}))}(t),h(t);const o=[...function t(e,n=new Set){return e.map((t=>a(t)?t:i._availablePlugins.get(t))).reduce(((e,i)=>n.has(i)?e:(n.add(i),i.requires&&(h(i.requires,i),t(i.requires,n).forEach((t=>e.add(t)))),e.add(i))),new Set)}(t.filter((t=>!l(t,e))))];!function(t,e){for(const n of e){if("function"!=typeof n)throw new E("plugincollection-replace-plugin-invalid-type",null,{pluginItem:n});const e=n.pluginName;if(!e)throw new E("plugincollection-replace-plugin-missing-name",null,{pluginItem:n});if(n.requires&&n.requires.length)throw new E("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:e});const r=i._availablePlugins.get(e);if(!r)throw new E("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:e});const o=t.indexOf(r);if(-1===o){if(i._contextPlugins.has(r))return;throw new E("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:e})}if(r.requires&&r.requires.length)throw new E("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:e});t.splice(o,1,n),i._availablePlugins.set(e,n)}}(o,n);const s=function(t){return t.map((t=>{let e=i._contextPlugins.get(t);return e=e||new t(r),i._add(t,e),e}))}(o);return d(s,"init").then((()=>d(s,"afterInit"))).then((()=>s));function a(t){return"function"==typeof t}function c(t){return a(t)&&!!t.isContextPlugin}function l(t,e){return e.some((e=>e===t||(u(t)===e||u(e)===t)))}function u(t){return a(t)?t.pluginName||t.name:t}function h(t,n=null){t.map((t=>a(t)?t:i._availablePlugins.get(t)||t)).forEach((t=>{!function(t,e){if(a(t))return;if(e)throw new E("plugincollection-soft-required",r,{missingPlugin:t,requiredBy:u(e)});throw new E("plugincollection-plugin-not-found",r,{plugin:t})}(t,n),function(t,e){if(!c(e))return;if(c(t))return;throw new E("plugincollection-context-required",r,{plugin:u(t),requiredBy:u(e)})}(t,n),function(t,n){if(!n)return;if(!l(t,e))return;throw new E("plugincollection-required",r,{plugin:u(t),requiredBy:u(n)})}(t,n)}))}function d(t,e){return t.reduce(((t,n)=>n[e]?i._contextPlugins.has(n)?t:t.then(n[e].bind(n)):t),Promise.resolve())}}destroy(){const t=[];for(const[,e]of this)"function"!=typeof e.destroy||this._contextPlugins.has(e)||t.push(e.destroy());return Promise.all(t)}_add(t,e){this._plugins.set(t,e);const n=t.pluginName;if(n){if(this._plugins.has(n))throw new E("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t});this._plugins.set(n,e)}}}class yo{constructor(t){this._contextOwner=null;const{translations:e,...n}=t||{};this.config=new Si(n,this.constructor.defaultConfig);const i=this.constructor.builtinPlugins;this.config.define("plugins",i),this.plugins=new wo(this,i);const r=this.config.get("language")||{};this.locale=new Yr({uiLanguage:"string"==typeof r?r:r.ui,contentLanguage:this.config.get("language.content"),translations:e}),this.t=this.locale.t,this.editors=new Xr}initPlugins(){const t=this.config.get("plugins")||[],e=this.config.get("substitutePlugins")||[];for(const n of t.concat(e)){if("function"!=typeof n)throw new E("context-initplugins-constructor-only",null,{Plugin:n});if(!0!==n.isContextPlugin)throw new E("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(t,[],e)}destroy(){return Promise.all(Array.from(this.editors,(t=>t.destroy()))).then((()=>this.plugins.destroy()))}_addEditor(t,e){if(this._contextOwner)throw new E("context-addeditor-private-context");this.editors.add(t),e&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const e of this.config.names())["plugins","removePlugins","extraPlugins"].includes(e)||(t[e]=this.config.get(e));return t}static create(t){return new Promise((e=>{const n=new this(t);e(n.initPlugins().then((()=>n)))}))}}class vo extends(Y()){constructor(t){super(),this.context=t}destroy(){this.stopListening()}static get isContextPlugin(){return!0}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}const _o=function(t){return"symbol"==typeof t||yt(t)&&"[object Symbol]"==bt(t)};var ko=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xo=/^\w*$/;const Eo=function(t,e){if(wt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!_o(t))||(xo.test(t)||!ko.test(t)||null!=e&&t in Object(e))};function To(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(To.Cache||Te),n}To.Cache=Te;const Co=To;var Ao=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,So=/\\(\\)?/g;const Io=function(t){var e=Co(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ao,(function(t,n,i,r){e.push(i?r.replace(So,"$1"):n||t)})),e}));const Mo=function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r};var Po=ct?ct.prototype:void 0,Oo=Po?Po.toString:void 0;const Do=function t(e){if("string"==typeof e)return e;if(wt(e))return Mo(e,t)+"";if(_o(e))return Oo?Oo.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};const No=function(t){return null==t?"":Do(t)};const Lo=function(t,e){return wt(t)?t:Eo(t,e)?[t]:Io(No(t))};const Ro=function(t){if("string"==typeof t||_o(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};const Bo=function(t,e){for(var n=0,i=(e=Lo(e,t)).length;null!=t&&n<i;)t=t[Ro(e[n++])];return n&&n==i?t:void 0};const Fo=function(t,e,n){var i=null==t?void 0:Bo(t,e);return void 0===i?n:i};const jo=function(t,e,n,i){if(!z(t))return t;for(var r=-1,o=(e=Lo(e,t)).length,s=o-1,a=t;null!=a&&++r<o;){var c=Ro(e[r]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(r!=s){var u=a[c];void 0===(l=i?i(u,c,a):void 0)&&(l=z(u)?u:Ge(e[r+1])?[]:{})}De(a,c,l),a=a[c]}return t};const $o=function(t,e,n){return null==t?t:jo(t,e,n)},Vo=new WeakMap;let zo=!1;function Ho({view:t,element:e,text:n,isDirectHost:i=!0,keepOnFocus:r=!1}){const o=t.document;function s(n){Vo.get(o).set(e,{text:n,isDirectHost:i,keepOnFocus:r,hostElement:i?e:null}),t.change((t=>Go(o,t)))}Vo.has(o)||(Vo.set(o,new Map),o.registerPostFixer((t=>Go(o,t))),o.on("change:isComposing",(()=>{t.change((t=>Go(o,t)))}),{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",((t,e,n)=>{s(n)})),e.placeholder?s(e.placeholder):n&&s(n),n&&function(){zo||T("enableplaceholder-deprecated-text-option");zo=!0}()}function Uo(t,e){return!e.hasClass("ck-placeholder")&&(t.addClass("ck-placeholder",e),!0)}function qo(t,e){return!!e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),!0)}function Wo(t,e){if(!t.isAttached())return!1;const n=Array.from(t.getChildren()).some((t=>!t.is("uiElement")));if(n)return!1;const i=t.document,r=i.selection.anchor;return(!i.isComposing||!r||r.parent!==t)&&(!!e||(!i.isFocused||!!r&&r.parent!==t))}function Go(t,e){const n=Vo.get(t),i=[];let r=!1;for(const[t,o]of n)o.isDirectHost&&(i.push(t),Ko(e,t,o)&&(r=!0));for(const[t,o]of n){if(o.isDirectHost)continue;const n=Yo(t);n&&(i.includes(n)||(o.hostElement=n,Ko(e,t,o)&&(r=!0)))}return r}function Ko(t,e,n){const{text:i,isDirectHost:r,hostElement:o}=n;let s=!1;o.getAttribute("data-placeholder")!==i&&(t.setAttribute("data-placeholder",i,o),s=!0);return(r||1==e.childCount)&&Wo(o,n.keepOnFocus)?Uo(t,o)&&(s=!0):qo(t,o)&&(s=!0),s}function Yo(t){if(t.childCount){const e=t.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Xo{is(){throw new Error("is() method is abstract")}}const Zo=function(t){return Ti(t,4)};class Qo extends(L(Xo)){constructor(t){super(),this.document=t,this.parent=null}get index(){let t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new E("view-node-not-found-in-parent",this);return t}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.index),e=e.parent;return t}getAncestors(t={}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let r=0;for(;n[r]==i[r]&&n[r];)r++;return 0===r?null:n[r-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=it(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&(this.root===t.root&&!this.isBefore(t))}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire(`change:${t}`,e),this.parent&&this.parent._fireChange(t,e)}toJSON(){const t=Zo(this);return delete t.parent,t}}Qo.prototype.is=function(t){return"node"===t||"view:node"===t};class Jo extends Qo{constructor(t,e){super(t),this._textData=e}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof Jo&&(this===t||this.data===t.data)}_clone(){return new Jo(this.document,this.data)}}Jo.prototype.is=function(t){return"$text"===t||"view:$text"===t||"text"===t||"view:text"===t||"node"===t||"view:node"===t};class ts extends Xo{constructor(t,e,n){if(super(),this.textNode=t,e<0||e>t.data.length)throw new E("view-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.data.length)throw new E("view-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(t={}){const e=[];let n=t.includeSelf?this.textNode:this.parent;for(;null!==n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}}ts.prototype.is=function(t){return"$textProxy"===t||"view:$textProxy"===t||"textProxy"===t||"view:textProxy"===t};class es{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let e of t)("string"==typeof e||e instanceof RegExp)&&(e={name:e}),this._patterns.push(e)}match(...t){for(const e of t)for(const t of this._patterns){const n=ns(e,t);if(n)return{element:e,pattern:t,match:n}}return null}matchAll(...t){const e=[];for(const n of t)for(const t of this._patterns){const i=ns(n,t);i&&e.push({element:n,pattern:t,match:i})}return e.length>0?e:null}getElementName(){if(1!==this._patterns.length)return null;const t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e}}function ns(t,e){if("function"==typeof e)return e(t);const n={};return e.name&&(n.name=function(t,e){if(t instanceof RegExp)return!!e.match(t);return t===e}(e.name,t.name),!n.name)||e.attributes&&(n.attributes=function(t,e){const n=new Set(e.getAttributeKeys());"object"!=typeof t||t instanceof RegExp||Array.isArray(t)?(n.delete("style"),n.delete("class")):(void 0!==t.style&&T("matcher-pattern-deprecated-attributes-style-key",t),void 0!==t.class&&T("matcher-pattern-deprecated-attributes-class-key",t));return is(t,n,(t=>e.getAttribute(t)))}(e.attributes,t),!n.attributes)||e.classes&&(n.classes=function(t,e){return is(t,e.getClassNames(),(()=>{}))}(e.classes,t),!n.classes)||e.styles&&(n.styles=function(t,e){return is(t,e.getStyleNames(!0),(t=>e.getStyle(t)))}(e.styles,t),!n.styles)?null:n}function is(t,e,n){const i=function(t){if(Array.isArray(t))return t.map((t=>"object"!=typeof t||t instanceof RegExp?[t,!0]:(void 0!==t.key&&void 0!==t.value||T("matcher-pattern-missing-key-or-value",t),[t.key,t.value])));if("object"!=typeof t||t instanceof RegExp)return[[t,!0]];const e=[];for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push([n,t[n]]);return e}(t),r=Array.from(e),o=[];if(i.forEach((([t,e])=>{r.forEach((i=>{(function(t,e){return!0===t||t===e||t instanceof RegExp&&e.match(t)})(t,i)&&function(t,e,n){if(!0===t)return!0;const i=n(e);return t===i||t instanceof RegExp&&!!String(i).match(t)}(e,i,n)&&o.push(i)}))})),i.length&&!(o.length<i.length))return o}const rs=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};const os=function(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(r);++i<r;)o[i]=t[i+e];return o};const ss=function(t,e){return e.length<2?t:Bo(t,os(e,0,-1))};const as=function(t,e){return e=Lo(e,t),null==(t=ss(t,e))||delete t[Ro(rs(e))]};const cs=function(t,e){return null==t||as(t,e)};class ls{constructor(t){this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,this._styles={},this._styleProcessor=t}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const e=function(t){let e=null,n=0,i=0,r=null;const o=new Map;if(""===t)return o;";"!=t.charAt(t.length-1)&&(t+=";");for(let s=0;s<t.length;s++){const a=t.charAt(s);if(null===e)switch(a){case":":r||(r=t.substr(n,s-n),i=s+1);break;case'"':case"'":e=a;break;case";":{const e=t.substr(i,s-i);r&&o.set(r.trim(),e.trim()),r=null,n=s+1;break}}else a===e&&(e=null)}return o}(t);for(const[t,n]of e)this._styleProcessor.toNormalizedForm(t,n,this._styles)}has(t){if(this.isEmpty)return!1;const e=this._styleProcessor.getReducedForm(t,this._styles).find((([e])=>e===t));return Array.isArray(e)}set(t,e){if(this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,z(t))for(const[e,n]of Object.entries(t))this._styleProcessor.toNormalizedForm(e,n,this._styles);else this._styleProcessor.toNormalizedForm(t,e,this._styles)}remove(t){this._cachedStyleNames=null,this._cachedExpandedStyleNames=null;const e=hs(t);cs(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map((t=>t.join(":"))).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!z(this._styles[t]))return this._styles[t];const e=this._styleProcessor.getReducedForm(t,this._styles).find((([e])=>e===t));return Array.isArray(e)?e[1]:void 0}getStyleNames(t=!1){return this.isEmpty?[]:t?(this._cachedExpandedStyleNames=this._cachedExpandedStyleNames||this._styleProcessor.getStyleNames(this._styles),this._cachedExpandedStyleNames):(this._cachedStyleNames=this._cachedStyleNames||this.getStylesEntries().map((([t])=>t)),this._cachedStyleNames)}clear(){this._styles={},this._cachedStyleNames=null,this._cachedExpandedStyleNames=null}getStylesEntries(){const t=[],e=Object.keys(this._styles);for(const n of e)t.push(...this._styleProcessor.getReducedForm(n,this._styles));return t}_cleanEmptyObjectsOnPath(t){const e=t.split(".");if(!(e.length>1))return;const n=e.splice(0,e.length-1).join("."),i=Fo(this._styles,n);if(!i)return;!Object.keys(i).length&&this.remove(n)}}class us{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,e,n){if(z(e))ds(n,hs(t),e);else if(this._normalizers.has(t)){const i=this._normalizers.get(t),{path:r,value:o}=i(e);ds(n,r,o)}else ds(n,t,e)}getNormalized(t,e){if(!t)return qr({},e);if(void 0!==e[t])return e[t];if(this._extractors.has(t)){const n=this._extractors.get(t);if("string"==typeof n)return Fo(e,n);const i=n(t,e);if(i)return i}return Fo(e,hs(t))}getReducedForm(t,e){const n=this.getNormalized(t,e);if(void 0===n)return[];if(this._reducers.has(t)){return this._reducers.get(t)(n)}return[[t,n]]}getStyleNames(t){const e=new Set;for(const n of this._consumables.keys()){const i=this.getNormalized(n,t);i&&("object"!=typeof i||Object.keys(i).length)&&e.add(n)}for(const n of Object.keys(t))e.add(n);return Array.from(e)}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,e){this._normalizers.set(t,e)}setExtractor(t,e){this._extractors.set(t,e)}setReducer(t,e){this._reducers.set(t,e)}setStyleRelation(t,e){this._mapStyleNames(t,e);for(const n of e)this._mapStyleNames(n,[t])}_mapStyleNames(t,e){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...e)}}function hs(t){return t.replace("-",".")}function ds(t,e,n){let i=n;z(n)&&(i=qr({},Fo(t,e),n)),$o(t,e,i)}class fs extends Qo{constructor(t,e,n,i){if(super(t),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=e,this._attrs=function(t){const e=io(t);for(const[t,n]of e)null===n?e.delete(t):"string"!=typeof n&&e.set(t,String(n));return e}(n),this._children=[],i&&this._insertChild(0,i),this._classes=new Set,this._attrs.has("class")){const t=this._attrs.get("class");gs(this._classes,t),this._attrs.delete("class")}this._styles=new ls(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(t){if("class"==t)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==t){const t=this._styles.toString();return""==t?void 0:t}return this._attrs.get(t)}hasAttribute(t){return"class"==t?this._classes.size>0:"style"==t?!this._styles.isEmpty:this._attrs.has(t)}isSimilar(t){if(!(t instanceof fs))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const e of this._styles.getStyleNames())if(!t._styles.has(e)||t._styles.getAsString(e)!==this._styles.getAsString(e))return!1;return!0}hasClass(...t){for(const e of t)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(t){return this._styles.getStyleNames(t)}hasStyle(...t){for(const e of t)if(!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new es(...t);let n=this.parent;for(;n&&!n.is("documentFragment");){if(e.match(n))return n;n=n.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),e=this._styles.toString(),n=Array.from(this._attrs).map((t=>`${t[0]}="${t[1]}"`)).sort().join(" ");return this.name+(""==t?"":` class="${t}"`)+(e?` style="${e}"`:"")+(""==n?"":` ${n}`)}shouldRenderUnsafeAttribute(t){return this._unsafeAttributesToRender.includes(t)}_clone(t=!1){const e=[];if(t)for(const n of this.getChildren())e.push(n._clone(t));const n=new this.constructor(this.document,this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this);let n=0;const i=function(t,e){if("string"==typeof e)return[new Jo(t,e)];rt(e)||(e=[e]);const n=[];for(const i of e)"string"==typeof i?n.push(new Jo(t,i)):i instanceof ts?n.push(new Jo(t,i.data)):n.push(i);return n}(this.document,e);for(const e of i)null!==e.parent&&e._remove(),e.parent=this,e.document=this.document,this._children.splice(t,0,e),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_setAttribute(t,e){const n=String(e);this._fireChange("attributes",this),"class"==t?gs(this._classes,n):"style"==t?this._styles.setTo(n):this._attrs.set(t,n)}_removeAttribute(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this);for(const e of Cr(t))this._classes.add(e)}_removeClass(t){this._fireChange("attributes",this);for(const e of Cr(t))this._classes.delete(e)}_setStyle(t,e){this._fireChange("attributes",this),"string"!=typeof t?this._styles.set(t):this._styles.set(t,e)}_removeStyle(t){this._fireChange("attributes",this);for(const e of Cr(t))this._styles.remove(e)}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function gs(t,e){const n=e.split(/\s+/);t.clear(),n.forEach((e=>t.add(e)))}fs.prototype.is=function(t,e){return e?e===this.name&&("element"===t||"view:element"===t):"element"===t||"view:element"===t||"node"===t||"view:node"===t};class ps extends fs{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=ms}}function ms(){const t=[...this.getChildren()],e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const e of t)if(!e.is("uiElement"))return null;return this.childCount}ps.prototype.is=function(t,e){return e?e===this.name&&("containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class bs extends(Y(ps)){constructor(t,e,n,i){super(t,e,n,i),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",(e=>e&&t.selection.editableElement==this)),this.listenTo(t.selection,"change",(()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this}))}destroy(){this.stopListening()}}bs.prototype.is=function(t,e){return e?e===this.name&&("editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};const ws=Symbol("rootName");class ys extends bs{constructor(t,e){super(t,e),this.rootName="main"}get rootName(){return this.getCustomProperty(ws)}set rootName(t){this._setCustomProperty(ws,t)}set _name(t){this.name=t}}ys.prototype.is=function(t,e){return e?e===this.name&&("rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class vs{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new E("view-tree-walker-no-start-position",null);if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new E("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this._position=_s._createAt(t.startPosition):this._position=_s._createAt(t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,n;do{n=this.position,e=this.next()}while(!e.done&&t(e.value));e.done||(this._position=n)}jumpTo(t){this._boundaryStartParent&&t.isBefore(this.boundaries.start)?t=this.boundaries.start:this._boundaryEndParent&&t.isAfter(this.boundaries.end)&&(t=this.boundaries.end),this._position=t.clone()}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&t.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let i;if(n&&n.is("view:$text")){if(t.isAtEnd)return this._position=_s._createAfter(n),this._next();i=n.data[t.offset]}else i=n.getChild(t.offset);if("string"==typeof i){let i;if(this.singleCharacters)i=1;else{i=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset}const r=new ts(n,t.offset,i);return t.offset+=i,this._position=t,this._formatReturnValue("text",r,e,t,i)}if(i&&i.is("view:element")){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t=new _s(i,0);return this._position=t,this._formatReturnValue("elementStart",i,e,t,1)}if(i&&i.is("view:$text")){if(this.singleCharacters)return t=new _s(i,0),this._position=t,this._next();let n,r=i.data.length;return i==this._boundaryEndParent?(r=this.boundaries.end.offset,n=new ts(i,0,r),t=_s._createAfter(n)):(n=new ts(i,0,i.data.length),t.offset++),this._position=t,this._formatReturnValue("text",n,e,t,r)}return t=_s._createAfter(n),this._position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t)}_previous(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&0===t.offset)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let i;if(n.is("view:$text")){if(t.isAtStart)return this._position=_s._createBefore(n),this._previous();i=n.data[t.offset-1]}else i=n.getChild(t.offset-1);if("string"==typeof i){let i;if(this.singleCharacters)i=1;else{const e=n===this._boundaryStartParent?this.boundaries.start.offset:0;i=t.offset-e}t.offset-=i;const r=new ts(n,t.offset,i);return this._position=t,this._formatReturnValue("text",r,e,t,i)}if(i&&i.is("view:element"))return this.shallow?(t.offset--,this._position=t,this._formatReturnValue("elementStart",i,e,t,1)):(t=new _s(i,i.childCount),this._position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,e,t));if(i&&i.is("view:$text")){if(this.singleCharacters)return t=new _s(i,i.data.length),this._position=t,this._previous();let n,r=i.data.length;if(i==this._boundaryStartParent){const e=this.boundaries.start.offset;n=new ts(i,e,i.data.length-e),r=n.data.length,t=_s._createBefore(n)}else n=new ts(i,0,i.data.length),t.offset--;return this._position=t,this._formatReturnValue("text",n,e,t,r)}return t=_s._createBefore(n),this._position=t,this._formatReturnValue("elementStart",n,e,t,1)}_formatReturnValue(t,e,n,i,r){return e.is("view:$textProxy")&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=_s._createAfter(e.textNode):(i=_s._createAfter(e.textNode),this._position=i)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=_s._createBefore(e.textNode):(i=_s._createBefore(e.textNode),this._position=i))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:r}}}}class _s extends Xo{constructor(t,e){super(),this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof bs);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const e=_s._createAt(this),n=e.offset+t;return e.offset=n<0?0:n,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new vs(e);return n.skip(t),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;for(;e[i]==n[i]&&e[i];)i++;return 0===i?null:e[i-1]}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return"before"==this.compareWith(t)}isAfter(t){return"after"==this.compareWith(t)}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);const i=it(e,n);switch(i){case"prefix":return"before";case"extension":return"after";default:return e[i]<n[i]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new vs(t)}clone(){return new _s(this.parent,this.offset)}static _createAt(t,e){if(t instanceof _s)return new this(t.parent,t.offset);{const n=t;if("end"==e)e=n.is("$text")?n.data.length:n.childCount;else{if("before"==e)return this._createBefore(n);if("after"==e)return this._createAfter(n);if(0!==e&&!e)throw new E("view-createpositionat-offset-required",n)}return new _s(n,e)}}static _createAfter(t){if(t.is("$textProxy"))return new _s(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new E("view-position-after-root",t,{root:t});return new _s(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new _s(t.textNode,t.offsetInText);if(!t.parent)throw new E("view-position-before-root",t,{root:t});return new _s(t.parent,t.index)}}_s.prototype.is=function(t){return"position"===t||"view:position"===t};class ks extends Xo{constructor(t,e=null){super(),this.start=t.clone(),this.end=e?e.clone():t.clone()}*[Symbol.iterator](){yield*new vs({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(xs,{direction:"backward"}),e=this.end.getLastMatchingPosition(xs);return t.parent.is("$text")&&t.isAtStart&&(t=_s._createBefore(t.parent)),e.parent.is("$text")&&e.isAtEnd&&(e=_s._createAfter(e.parent)),new ks(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(xs);if(t.isAfter(this.end)||t.isEqual(this.end))return new ks(t,t);let e=this.end.getLastMatchingPosition(xs,{direction:"backward"});const n=t.nodeAfter,i=e.nodeBefore;return n&&n.is("$text")&&(t=new _s(n,0)),i&&i.is("$text")&&(e=new _s(i,i.data.length)),new ks(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new ks(this.start,t.start)),this.containsPosition(t.end)&&e.push(new ks(t.end,this.end))):e.push(this.clone()),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new ks(e,n)}return null}getWalker(t={}){return t.boundaries=this,new vs(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,e=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(e=this.end.parent.previousSibling),t&&t.is("element")&&t===e?t:null}clone(){return new ks(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new vs(t);for(const t of e)yield t.item}*getPositions(t={}){t.boundaries=this;const e=new vs(t);yield e.position;for(const t of e)yield t.nextPosition}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,e,n,i){return new this(new _s(t,e),new _s(n,i))}static _createFromPositionAndShift(t,e){const n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const e=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(_s._createBefore(t),e)}}function xs(t){return!(!t.item.is("attributeElement")&&!t.item.is("uiElement"))}ks.prototype.is=function(t){return"range"===t||"view:range"===t};class Es extends(L(Xo)){constructor(...t){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",t.length&&this.setTo(...t)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?t.clone():null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=nt(this.getRanges());if(e!=nt(t.getRanges()))return!1;if(0==e)return!0;for(let e of this.getRanges()){e=e.getTrimmed();let n=!1;for(let i of t.getRanges())if(i=i.getTrimmed(),e.start.isEqual(i.start)&&e.end.isEqual(i.end)){n=!0;break}if(!n)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(...t){let[e,n,i]=t;if("object"==typeof n&&(i=n,n=void 0),null===e)this._setRanges([]),this._setFakeOptions(i);else if(e instanceof Es||e instanceof Ts)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof ks)this._setRanges([e],i&&i.backward),this._setFakeOptions(i);else if(e instanceof _s)this._setRanges([new ks(e)]),this._setFakeOptions(i);else if(e instanceof Qo){const t=!!i&&!!i.backward;let r;if(void 0===n)throw new E("view-selection-setto-required-second-parameter",this);r="in"==n?ks._createIn(e):"on"==n?ks._createOn(e):new ks(_s._createAt(e,n)),this._setRanges([r],t),this._setFakeOptions(i)}else{if(!rt(e))throw new E("view-selection-setto-not-selectable",this);this._setRanges(e,i&&i.backward),this._setFakeOptions(i)}this.fire("change")}setFocus(t,e){if(null===this.anchor)throw new E("view-selection-setfocus-no-ranges",this);const n=_s._createAt(t,e);if("same"==n.compareWith(this.focus))return;const i=this.anchor;this._ranges.pop(),"before"==n.compareWith(i)?this._addRange(new ks(n,i),!0):this._addRange(new ks(i,n)),this.fire("change")}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const e of t)this._addRange(e);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,e=!1){if(!(t instanceof ks))throw new E("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new E("view-selection-range-intersects",this,{addedRange:t,intersectingRange:e});this._ranges.push(new ks(t.start,t.end))}}Es.prototype.is=function(t){return"selection"===t||"view:selection"===t};class Ts extends(L(Xo)){constructor(...t){super(),this._selection=new Es,this._selection.delegate("change").to(this),t.length&&this._selection.setTo(...t)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}_setTo(...t){this._selection.setTo(...t)}_setFocus(t,e){this._selection.setFocus(t,e)}}Ts.prototype.is=function(t){return"selection"===t||"documentSelection"==t||"view:selection"==t||"view:documentSelection"==t};class Cs extends y{constructor(t,e,n){super(t,e),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const As=Symbol("bubbling contexts");function Ss(t){return class extends t{fire(t,...e){try{const n=t instanceof y?t:new y(this,t),i=Os(this);if(!i.size)return;if(Is(n,"capturing",this),Ms(i,"$capture",n,...e))return n.return;const r=n.startRange||this.selection.getFirstRange(),o=r?r.getContainedElement():null,s=!!o&&Boolean(Ps(i,o));let a=o||function(t){if(!t)return null;const e=t.start.parent,n=t.end.parent,i=e.getPath(),r=n.getPath();return i.length>r.length?e:n}(r);if(Is(n,"atTarget",a),!s){if(Ms(i,"$text",n,...e))return n.return;Is(n,"bubbling",a)}for(;a;){if(a.is("rootElement")){if(Ms(i,"$root",n,...e))return n.return}else if(a.is("element")&&Ms(i,a.name,n,...e))return n.return;if(Ms(i,a,n,...e))return n.return;a=a.parent,Is(n,"bubbling",a)}return Is(n,"bubbling",this),Ms(i,"$document",n,...e),n.return}catch(t){E.rethrowUnexpectedError(t,this)}}_addEventListener(t,e,n){const i=Cr(n.context||"$document"),r=Os(this);for(const o of i){let i=r.get(o);i||(i=new(L()),r.set(o,i)),this.listenTo(i,t,e,n)}}_removeEventListener(t,e){const n=Os(this);for(const i of n.values())this.stopListening(i,t,e)}}}{const t=Ss(Object);["fire","_addEventListener","_removeEventListener"].forEach((e=>{Ss[e]=t.prototype[e]}))}function Is(t,e,n){t instanceof Cs&&(t._eventPhase=e,t._currentTarget=n)}function Ms(t,e,n,...i){const r="string"==typeof e?t.get(e):Ps(t,e);return!!r&&(r.fire(n,...i),n.stop.called)}function Ps(t,e){for(const[n,i]of t)if("function"==typeof n&&n(e))return i;return null}function Os(t){return t[As]||(t[As]=new Map),t[As]}class Ds extends(Ss(Y())){constructor(t){super(),this._postFixers=new Set,this.selection=new Ts,this.roots=new Xr({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.forEach((t=>t.destroy())),this.stopListening()}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(e=n(t),e)break}while(e)}}class Ns extends fs{constructor(t,e,n,i){super(t,e,n,i),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=Rs}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new E("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(t){return null!==this.id||null!==t.id?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t=!1){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}}Ns.DEFAULT_PRIORITY=10;const Ls=Ns;function Rs(){if(Bs(this))return null;let t=this.parent;for(;t&&t.is("attributeElement");){if(Bs(t)>1)return null;t=t.parent}return!t||Bs(t)>1?null:this.childCount}function Bs(t){return Array.from(t.getChildren()).filter((t=>!t.is("uiElement"))).length}Ns.prototype.is=function(t,e){return e?e===this.name&&("attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t):"attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class Fs extends fs{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=js}_insertChild(t,e){if(e&&(e instanceof Qo||Array.from(e).length>0))throw new E("view-emptyelement-cannot-add",[this,e]);return 0}}function js(){return null}Fs.prototype.is=function(t,e){return e?e===this.name&&("emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t):"emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class $s extends fs{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=zs}_insertChild(t,e){if(e&&(e instanceof Qo||Array.from(e).length>0))throw new E("view-uielement-cannot-add",[this,e]);return 0}render(t,e){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const t of this.getAttributeKeys())e.setAttribute(t,this.getAttribute(t));return e}}function Vs(t){t.document.on("arrowKey",((e,n)=>function(t,e,n){if(e.keyCode==yr.arrowright){const t=e.domTarget.ownerDocument.defaultView.getSelection(),i=1==t.rangeCount&&t.getRangeAt(0).collapsed;if(i||e.shiftKey){const e=t.focusNode,r=t.focusOffset,o=n.domPositionToView(e,r);if(null===o)return;let s=!1;const a=o.getLastMatchingPosition((t=>(t.item.is("uiElement")&&(s=!0),!(!t.item.is("uiElement")&&!t.item.is("attributeElement")))));if(s){const e=n.viewPositionToDom(a);i?t.collapse(e.parent,e.offset):t.extend(e.parent,e.offset)}}}}(0,n,t.domConverter)),{priority:"low"})}function zs(){return null}$s.prototype.is=function(t,e){return e?e===this.name&&("uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t):"uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class Hs extends fs{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=Us}_insertChild(t,e){if(e&&(e instanceof Qo||Array.from(e).length>0))throw new E("view-rawelement-cannot-add",[this,e]);return 0}render(t,e){}}function Us(){return null}Hs.prototype.is=function(t,e){return e?e===this.name&&("rawElement"===t||"view:rawElement"===t||"element"===t||"view:element"===t):"rawElement"===t||"view:rawElement"===t||t===this.name||t==="view:"+this.name||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class qs extends(L(Xo)){constructor(t,e){super(),this._children=[],this._customProperties=new Map,this.document=t,e&&this._insertChild(0,e)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange("children",this);let n=0;const i=function(t,e){if("string"==typeof e)return[new Jo(t,e)];rt(e)||(e=[e]);return Array.from(e).map((e=>"string"==typeof e?new Jo(t,e):e instanceof ts?new Jo(t,e.data):e))}(this.document,e);for(const e of i)null!==e.parent&&e._remove(),e.parent=this,this._children.splice(t,0,e),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_fireChange(t,e){this.fire("change:"+t,e)}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}qs.prototype.is=function(t){return"documentFragment"===t||"view:documentFragment"===t};class Ws{constructor(t){this._cloneGroups=new Map,this._slotFactory=null,this.document=t}setSelection(...t){this.document.selection._setTo(...t)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createDocumentFragment(t){return new qs(this.document,t)}createText(t){return new Jo(this.document,t)}createAttributeElement(t,e,n={}){const i=new Ls(this.document,t,e);return"number"==typeof n.priority&&(i._priority=n.priority),n.id&&(i._id=n.id),n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createContainerElement(t,e,n={},i={}){let r=null;It(n)?i=n:r=n;const o=new ps(this.document,t,e,r);return i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}createEditableElement(t,e,n={}){const i=new bs(this.document,t,e);return n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createEmptyElement(t,e,n={}){const i=new Fs(this.document,t,e);return n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createUIElement(t,e,n){const i=new $s(this.document,t,e);return n&&(i.render=n),i}createRawElement(t,e,n,i={}){const r=new Hs(this.document,t,e);return n&&(r.render=n),i.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),r}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){It(t)&&void 0===n?e._setStyle(t):n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof _s?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new E("view-writer-break-non-container-element",this.document);if(!e.parent)throw new E("view-writer-break-root",this.document);if(t.isAtStart)return _s._createBefore(e);if(!t.isAtEnd){const n=e._clone(!1);this.insert(_s._createAfter(e),n);const i=new ks(t,_s._createAt(e,"end")),r=new _s(n,0);this.move(i,r)}return _s._createAfter(e)}mergeAttributes(t){const e=t.offset,n=t.parent;if(n.is("$text"))return t;if(n.is("attributeElement")&&0===n.childCount){const t=n.parent,e=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new _s(t,e))}const i=n.getChild(e-1),r=n.getChild(e);if(!i||!r)return t;if(i.is("$text")&&r.is("$text"))return Zs(i,r);if(i.is("attributeElement")&&r.is("attributeElement")&&i.isSimilar(r)){const t=i.childCount;return i._appendChild(r.getChildren()),r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new _s(i,t))}return t}mergeContainers(t){const e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is("containerElement")&&n.is("containerElement")))throw new E("view-writer-merge-containers-invalid-position",this.document);const i=e.getChild(e.childCount-1),r=i instanceof Jo?_s._createAt(i,"end"):_s._createAt(e,"end");return this.move(ks._createIn(n),_s._createAt(e,"end")),this.remove(ks._createOn(n)),r}insert(t,e){Js(e=rt(e)?[...e]:[e],this.document);const n=e.reduce(((t,e)=>{const n=t[t.length-1],i=!e.is("uiElement");return n&&n.breakAttributes==i?n.nodes.push(e):t.push({breakAttributes:i,nodes:[e]}),t}),[]);let i=null,r=t;for(const{nodes:t,breakAttributes:e}of n){const n=this._insertNodes(r,t,e);i||(i=n.start),r=n.end}return i?new ks(i,r):new ks(t)}remove(t){const e=t instanceof ks?t:ks._createOn(t);if(ea(e,this.document),e.isCollapsed)return new qs(this.document);const{start:n,end:i}=this._breakAttributesRange(e,!0),r=n.parent,o=i.offset-n.offset,s=r._removeChildren(n.offset,o);for(const t of s)this._removeFromClonedElementsGroup(t);const a=this.mergeAttributes(n);return e.start=a,e.end=a.clone(),new qs(this.document,s)}clear(t,e){ea(t,this.document);const n=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const i of n){const n=i.item;let r;if(n.is("element")&&e.isSimilar(n))r=ks._createOn(n);else if(!i.nextPosition.isAfter(t.start)&&n.is("$textProxy")){const t=n.getAncestors().find((t=>t.is("element")&&e.isSimilar(t)));t&&(r=ks._createIn(t))}r&&(r.end.isAfter(t.end)&&(r.end=t.end),r.start.isBefore(t.start)&&(r.start=t.start),this.remove(r))}}move(t,e){let n;if(e.isAfter(t.end)){const i=(e=this._breakAttributes(e,!0)).parent,r=i.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=i.childCount-r}else n=this.remove(t);return this.insert(e,n)}wrap(t,e){if(!(e instanceof Ls))throw new E("view-writer-wrap-invalid-attribute",this.document);if(ea(t,this.document),t.isCollapsed){let i=t.start;i.parent.is("element")&&(n=i.parent,!Array.from(n.getChildren()).some((t=>!t.is("uiElement"))))&&(i=i.getLastMatchingPosition((t=>t.item.is("uiElement")))),i=this._wrapPosition(i,e);const r=this.document.selection;return r.isCollapsed&&r.getFirstPosition().isEqual(t.start)&&this.setSelection(i),new ks(i)}return this._wrapRange(t,e);var n}unwrap(t,e){if(!(e instanceof Ls))throw new E("view-writer-unwrap-invalid-attribute",this.document);if(ea(t,this.document),t.isCollapsed)return t;const{start:n,end:i}=this._breakAttributesRange(t,!0),r=n.parent,o=this._unwrapChildren(r,n.offset,i.offset,e),s=this.mergeAttributes(o.start);s.isEqual(o.start)||o.end.offset--;const a=this.mergeAttributes(o.end);return new ks(s,a)}rename(t,e){const n=new ps(this.document,t,e.getAttributes());return this.insert(_s._createAfter(e),n),this.move(ks._createIn(e),_s._createAt(n,0)),this.remove(ks._createOn(e)),n}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return _s._createAt(t,e)}createPositionAfter(t){return _s._createAfter(t)}createPositionBefore(t){return _s._createBefore(t)}createRange(t,e){return new ks(t,e)}createRangeOn(t){return ks._createOn(t)}createRangeIn(t){return ks._createIn(t)}createSelection(...t){return new Es(...t)}createSlot(t="children"){if(!this._slotFactory)throw new E("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,t)}_registerSlotFactory(t){this._slotFactory=t}_clearSlotFactory(){this._slotFactory=null}_insertNodes(t,e,n){let i,r;if(i=n?Gs(t):t.parent.is("$text")?t.parent.parent:t.parent,!i)throw new E("view-writer-invalid-position-container",this.document);r=n?this._breakAttributes(t,!0):t.parent.is("$text")?Xs(t):t;const o=i._insertChild(r.offset,e);for(const t of e)this._addToClonedElementsGroup(t);const s=r.getShiftedBy(o),a=this.mergeAttributes(r);a.isEqual(r)||s.offset--;const c=this.mergeAttributes(s);return new ks(a,c)}_wrapChildren(t,e,n,i){let r=e;const o=[];for(;r<n;){const e=t.getChild(r),n=e.is("$text"),s=e.is("attributeElement");if(s&&this._wrapAttributeElement(i,e))o.push(new _s(t,r));else if(n||!s||Ks(i,e)){const n=i._clone();e._remove(),n._appendChild(e),t._insertChild(r,n),this._addToClonedElementsGroup(n),o.push(new _s(t,r))}else this._wrapChildren(e,0,e.childCount,i);r++}let s=0;for(const t of o){if(t.offset-=s,t.offset==e)continue;this.mergeAttributes(t).isEqual(t)||(s++,n--)}return ks._createFromParentsAndOffsets(t,e,t,n)}_unwrapChildren(t,e,n,i){let r=e;const o=[];for(;r<n;){const e=t.getChild(r);if(e.is("attributeElement"))if(e.isSimilar(i)){const i=e.getChildren(),s=e.childCount;e._remove(),t._insertChild(r,i),this._removeFromClonedElementsGroup(e),o.push(new _s(t,r),new _s(t,r+s)),r+=s,n+=s-1}else this._unwrapAttributeElement(i,e)?(o.push(new _s(t,r),new _s(t,r+1)),r++):(this._unwrapChildren(e,0,e.childCount,i),r++);else r++}let s=0;for(const t of o){if(t.offset-=s,t.offset==e||t.offset==n)continue;this.mergeAttributes(t).isEqual(t)||(s++,n--)}return ks._createFromParentsAndOffsets(t,e,t,n)}_wrapRange(t,e){const{start:n,end:i}=this._breakAttributesRange(t,!0),r=n.parent,o=this._wrapChildren(r,n.offset,i.offset,e),s=this.mergeAttributes(o.start);s.isEqual(o.start)||o.end.offset--;const a=this.mergeAttributes(o.end);return new ks(s,a)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return Ys(t.clone());t.parent.is("$text")&&(t=Xs(t));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,t.parent._insertChild(t.offset,n);const i=new ks(t,t.getShiftedBy(1));this.wrap(i,e);const r=new _s(n.parent,n.index);n._remove();const o=r.nodeBefore,s=r.nodeAfter;return o&&o.is("view:$text")&&s&&s.is("view:$text")?Zs(o,s):Ys(r)}_wrapAttributeElement(t,e){if(!na(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n))return!1;for(const n of t.getStyleNames())if(e.hasStyle(n)&&e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&(e.hasAttribute(n)||this.setAttribute(n,t.getAttribute(n),e));for(const n of t.getStyleNames())e.hasStyle(n)||this.setStyle(n,t.getStyle(n),e);for(const n of t.getClassNames())e.hasClass(n)||this.addClass(n,e);return!0}_unwrapAttributeElement(t,e){if(!na(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&(!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const n of t.getStyleNames())if(!e.hasStyle(n)||e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const n=t.start,i=t.end;if(ea(t,this.document),t.isCollapsed){const n=this._breakAttributes(t.start,e);return new ks(n,n)}const r=this._breakAttributes(i,e),o=r.parent.childCount,s=this._breakAttributes(n,e);return r.offset+=r.parent.childCount-o,new ks(s,r)}_breakAttributes(t,e=!1){const n=t.offset,i=t.parent;if(t.parent.is("emptyElement"))throw new E("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new E("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new E("view-writer-cannot-break-raw-element",this.document);if(!e&&i.is("$text")&&ta(i.parent))return t.clone();if(ta(i))return t.clone();if(i.is("$text"))return this._breakAttributes(Xs(t),e);if(n==i.childCount){const t=new _s(i.parent,i.index+1);return this._breakAttributes(t,e)}if(0===n){const t=new _s(i.parent,i.index);return this._breakAttributes(t,e)}{const t=i.index+1,r=i._clone();i.parent._insertChild(t,r),this._addToClonedElementsGroup(r);const o=i.childCount-n,s=i._removeChildren(n,o);r._appendChild(s);const a=new _s(i.parent,t);return this._breakAttributes(a,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const e of t.getChildren())this._addToClonedElementsGroup(e);const e=t.id;if(!e)return;let n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const e of t.getChildren())this._removeFromClonedElementsGroup(e);const e=t.id;if(!e)return;const n=this._cloneGroups.get(e);n&&n.delete(t)}}function Gs(t){let e=t.parent;for(;!ta(e);){if(!e)return;e=e.parent}return e}function Ks(t,e){return t.priority<e.priority||!(t.priority>e.priority)&&t.getIdentity()<e.getIdentity()}function Ys(t){const e=t.nodeBefore;if(e&&e.is("$text"))return new _s(e,e.data.length);const n=t.nodeAfter;return n&&n.is("$text")?new _s(n,0):t}function Xs(t){if(t.offset==t.parent.data.length)return new _s(t.parent.parent,t.parent.index+1);if(0===t.offset)return new _s(t.parent.parent,t.parent.index);const e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new Jo(t.root.document,e)),new _s(t.parent.parent,t.parent.index+1)}function Zs(t,e){const n=t.data.length;return t._data+=e.data,e._remove(),new _s(t,n)}const Qs=[Jo,Ls,ps,Fs,Hs,$s];function Js(t,e){for(const n of t){if(!Qs.some((t=>n instanceof t)))throw new E("view-writer-insert-invalid-node-type",e);n.is("$text")||Js(n.getChildren(),e)}}function ta(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function ea(t,e){const n=Gs(t.start),i=Gs(t.end);if(!n||!i||n!==i)throw new E("view-writer-invalid-range-container",e)}function na(t,e){return null===t.id&&null===e.id}const ia=t=>t.createTextNode(" "),ra=t=>{const e=t.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},oa=t=>{const e=t.createElement("br");return e.dataset.ckeFiller="true",e},sa="⁠".repeat(7);function aa(t){return"string"==typeof t?t.substr(0,7)===sa:$i(t)&&t.data.substr(0,7)===sa}function ca(t){return 7==t.data.length&&aa(t)}function la(t){const e="string"==typeof t?t:t.data;return aa(t)?e.slice(7):e}function ua(t,e){if(e.keyCode==yr.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(1==t.rangeCount&&t.getRangeAt(0).collapsed){const e=t.getRangeAt(0).startContainer,n=t.getRangeAt(0).startOffset;aa(e)&&n<=7&&t.collapse(e,0)}}}class ha extends(Y()){constructor(t,e){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=t,this.selection=e,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),o.isBlink&&!o.isAndroid&&this.on("change:isSelecting",(()=>{this.isSelecting||this.render()}))}markToSync(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t){throw new E("view-renderer-unknown-type",this)}this.markedChildren.add(e)}}}render(){if(this.isComposing&&!o.isAndroid)return;let t=null;const e=!(o.isBlink&&!o.isAndroid)||!this.isSelecting;for(const t of this.markedChildren)this._updateChildrenMappings(t);e?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(t=this.domConverter.domPositionToView(this._inlineFiller),t&&t.parent.is("$text")&&(t=_s._createBefore(t.parent)));for(const t of this.markedAttributes)this._updateAttrs(t);for(const e of this.markedChildren)this._updateChildren(e,{inlineFillerPosition:t});for(const e of this.markedTexts)!this.markedChildren.has(e.parent)&&this.domConverter.mapViewToDom(e.parent)&&this._updateText(e,{inlineFillerPosition:t});if(e)if(t){const e=this.domConverter.viewPositionToDom(t),n=e.parent.ownerDocument;aa(e.parent)?this._inlineFiller=e.parent:this._inlineFiller=da(n,e.parent,e.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.childNodes),i=Array.from(this.domConverter.viewChildrenToDom(t,{withChildren:!1})),r=this._diffNodeLists(n,i),o=this._findUpdateActions(r,n,i,fa);if(-1!==o.indexOf("update")){const e={equal:0,insert:0,delete:0};for(const r of o)if("update"===r){const r=e.equal+e.insert,o=e.equal+e.delete,s=t.getChild(r);!s||s.is("uiElement")||s.is("rawElement")||this._updateElementMappings(s,n[o]),sr(i[r]),e.equal++}else e[r]++}}_updateElementMappings(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("$text")?_s._createBefore(t.parent):t}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&$i(e.parent)&&aa(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!aa(t))throw new E("view-renderer-filler-was-lost",this);ca(t)?t.remove():t.data=t.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root))return!1;if(!e.is("element"))return!1;if(!function(t){if("false"==t.getAttribute("contenteditable"))return!1;const e=t.findAncestor((t=>t.hasAttribute("contenteditable")));return!e||"true"==e.getAttribute("contenteditable")}(e))return!1;const i=t.nodeBefore,r=t.nodeAfter;return!(i instanceof Jo||r instanceof Jo)&&(!!(n!==e.getFillerOffset()||i&&i.is("element","br"))&&(!o.isAndroid||!i&&!r))}_updateText(t,e){const n=this.domConverter.findCorrespondingDomText(t);let i=this.domConverter.viewToDom(t).data;const r=e.inlineFillerPosition;r&&r.parent==t.parent&&r.offset==t.index&&(i=sa+i),this._updateTextNode(n,i)}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(e){for(const n of Array.from(e.attributes)){const i=n.name;t.hasAttribute(i)||this.domConverter.removeDomElementAttribute(e,i)}for(const n of t.getAttributeKeys())this.domConverter.setDomElementAttribute(e,n,t.getAttribute(n),t)}}_updateChildren(t,e){const n=this.domConverter.mapViewToDom(t);if(!n)return;if(o.isAndroid){let t=null;for(const e of Array.from(n.childNodes)){if(t&&$i(t)&&$i(e)){n.normalize();break}t=e}}const i=e.inlineFillerPosition,r=n.childNodes,s=Array.from(this.domConverter.viewChildrenToDom(t,{bind:!0}));i&&i.parent===t&&da(n.ownerDocument,s,i.offset);const a=this._diffNodeLists(r,s),c=this._findUpdateActions(a,r,s,ga);let l=0;const u=new Set;for(const t of c)"delete"===t?(u.add(r[l]),sr(r[l])):"equal"!==t&&"update"!==t||l++;l=0;for(const t of c)"insert"===t?(tr(n,l,s[l]),l++):"update"===t?(this._updateTextNode(r[l],s[l].data),l++):"equal"===t&&(this._markDescendantTextToSync(this.domConverter.domToView(s[l])),l++);for(const t of u)t.parentNode||this.domConverter.unbindDomElement(t)}_diffNodeLists(t,e){return b(t=function(t,e){const n=Array.from(t);if(0==n.length||!e)return n;n[n.length-1]==e&&n.pop();return n}(t,this._fakeSelectionContainer),e,pa.bind(null,this.domConverter))}_findUpdateActions(t,e,n,i){if(-1===t.indexOf("insert")||-1===t.indexOf("delete"))return t;let r=[],o=[],s=[];const a={equal:0,insert:0,delete:0};for(const c of t)"insert"===c?s.push(n[a.equal+a.insert]):"delete"===c?o.push(e[a.equal+a.delete]):(r=r.concat(b(o,s,i).map((t=>"equal"===t?"update":t))),r.push("equal"),o=[],s=[]),a[c]++;return r.concat(b(o,s,i).map((t=>"equal"===t?"update":t)))}_updateTextNode(t,e){const n=t.data;n!=e&&(o.isAndroid&&this.isComposing&&n.replace(/\u00A0/g," ")==e.replace(/\u00A0/g," ")||this._updateTextNodeInternal(t,e))}_updateTextNodeInternal(t,e){const n=g(t.data,e);for(const e of n)"insert"===e.type?t.insertData(e.index,e.values.join("")):t.deleteData(e.index,e.howMany)}_markDescendantTextToSync(t){if(t)if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element"))for(const e of t.getChildren())this._markDescendantTextToSync(e)}_updateSelection(){if(o.isBlink&&!o.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(t)):this.isComposing&&o.isAndroid||this._updateDomSelection(t))}_updateFakeSelection(t){const e=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(t){const e=t.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent=" ",e}(e));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(t))return;n.parentElement&&n.parentElement==t||t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ";const i=e.getSelection(),r=e.createRange();i.removeAllRanges(),r.selectNodeContents(n),i.addRange(r)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);e.setBaseAndExtent(n.parent,n.offset,i.parent,i.offset),o.isGecko&&function(t,e){let n=t.parent,i=t.offset;$i(n)&&ca(n)&&(i=Ji(n)+1,n=n.parentNode);if(n.nodeType!=Node.ELEMENT_NODE||i!=n.childNodes.length-1)return;const r=n.childNodes[i];r&&"BR"==r.tagName&&e.addRange(e.getRangeAt(0))}(i,e)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const e=t&&this.domConverter.domSelectionToView(t);return(!e||!this.selection.isEqual(e))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(e))}_fakeSelectionNeedsUpdate(t){const e=this._fakeSelectionContainer,n=t.ownerDocument.getSelection();return!e||e.parentElement!==t||(n.anchorNode!==e&&!e.contains(n.anchorNode)||e.textContent!==this.selection.fakeSelectionLabel)}_removeDomSelection(){for(const t of this.domDocuments){const e=t.getSelection();if(e.rangeCount){const n=t.activeElement,i=this.domConverter.mapDomToView(n);n&&i&&e.removeAllRanges()}}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function da(t,e,n){const i=e instanceof Array?e:e.childNodes,r=i[n];if($i(r))return r.data=sa+r.data,r;{const r=t.createTextNode(sa);return Array.isArray(e)?i.splice(n,0,r):tr(e,n,r),r}}function fa(t,e){return Pi(t)&&Pi(e)&&!$i(t)&&!$i(e)&&!er(t)&&!er(e)&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}function ga(t,e){return Pi(t)&&Pi(e)&&$i(t)&&$i(e)}function pa(t,e,n){return e===n||($i(e)&&$i(n)?e.data===n.data:!(!t.isBlockFiller(e)||!t.isBlockFiller(n)))}const ma=oa(e.document),ba=ia(e.document),wa=ra(e.document),ya="data-ck-unsafe-attribute-",va="data-ck-unsafe-element";class _a{constructor(t,{blockFillerMode:n,renderingMode:i="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new es,this._inlineObjectElementMatcher=new es,this._elementsWithTemporaryCustomProperties=new Set,this.document=t,this.renderingMode=i,this.blockFillerMode=n||("editing"===i?"br":"nbsp"),this.preElements=["pre","textarea"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument="editing"===this.renderingMode?e.document:e.document.implementation.createHTMLDocument("")}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new Es(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const e of t.children)this.unbindDomElement(e)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}shouldRenderAttribute(t,e,n){return"data"===this.renderingMode||!(t=t.toLowerCase()).startsWith("on")&&(("srcdoc"!==t||!e.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===n&&("src"===t||"srcset"===t)||("source"===n&&"srcset"===t||!e.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))))}setContentOf(t,e){if("data"===this.renderingMode)return void(t.innerHTML=e);const n=(new DOMParser).parseFromString(e,"text/html"),i=n.createDocumentFragment(),r=n.body.childNodes;for(;r.length>0;)i.appendChild(r[0]);const o=n.createTreeWalker(i,NodeFilter.SHOW_ELEMENT),s=[];let a;for(;a=o.nextNode();)s.push(a);for(const t of s){for(const e of t.getAttributeNames())this.setDomElementAttribute(t,e,t.getAttribute(e));const e=t.tagName.toLowerCase();this._shouldRenameElement(e)&&(Ea(e),t.replaceWith(this._createReplacementDomElement(e,t)))}for(;t.firstChild;)t.firstChild.remove();t.append(i)}viewToDom(t,e={}){if(t.is("$text")){const e=this._processDataFromViewText(t);return this._domDocument.createTextNode(e)}{const n=t;if(this.mapViewToDom(n)){if(!n.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(n);this._elementsWithTemporaryCustomProperties.add(n)}let i;if(n.is("documentFragment"))i=this._domDocument.createDocumentFragment(),e.bind&&this.bindDocumentFragments(i,n);else{if(n.is("uiElement"))return i="$comment"===n.name?this._domDocument.createComment(n.getCustomProperty("$rawContent")):n.render(this._domDocument,this),e.bind&&this.bindElements(i,n),i;this._shouldRenameElement(n.name)?(Ea(n.name),i=this._createReplacementDomElement(n.name)):i=n.hasAttribute("xmlns")?this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(i,this),e.bind&&this.bindElements(i,n);for(const t of n.getAttributeKeys())this.setDomElementAttribute(i,t,n.getAttribute(t),n)}if(!1!==e.withChildren)for(const t of this.viewChildrenToDom(n,e))i instanceof HTMLTemplateElement?i.content.appendChild(t):i.appendChild(t);return i}}setDomElementAttribute(t,n,i,r){const o=this.shouldRenderAttribute(n,i,t.tagName.toLowerCase())||r&&r.shouldRenderUnsafeAttribute(n);o||T("domconverter-unsafe-attribute-detected",{domElement:t,key:n,value:i}),function(t){try{e.document.createAttribute(t)}catch(t){return!1}return!0}(n)?(t.hasAttribute(n)&&!o?t.removeAttribute(n):t.hasAttribute(ya+n)&&o&&t.removeAttribute(ya+n),t.setAttribute(o?n:ya+n,i)):T("domconverter-invalid-attribute-detected",{domElement:t,key:n,value:i})}removeDomElementAttribute(t,e){e!=va&&(t.removeAttribute(e),t.removeAttribute(ya+e))}*viewChildrenToDom(t,e={}){const n=t.getFillerOffset&&t.getFillerOffset();let i=0;for(const r of t.getChildren()){n===i&&(yield this._getBlockFiller());const t=r.is("element")&&!!r.getCustomProperty("dataPipeline:transparentRendering")&&!Zr(r.getAttributes());if(t&&"data"==this.renderingMode)if(r.is("rawElement")){const t=this._domDocument.createElement(r.name);r.render(t,this),yield*[...t.childNodes]}else yield*this.viewChildrenToDom(r,e);else t&&T("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:r}),yield this.viewToDom(r,e);i++}n===i&&(yield this._getBlockFiller())}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),i=this._domDocument.createRange();return i.setStart(e.parent,e.offset),i.setEnd(n.parent,n.offset),i}viewPositionToDom(t){const e=t.parent;if(e.is("$text")){const n=this.findCorrespondingDomText(e);if(!n)return null;let i=t.offset;return aa(n)&&(i+=7),{parent:n,offset:i}}{let n,i,r;if(0===t.offset){if(n=this.mapViewToDom(e),!n)return null;r=n.childNodes[0]}else{const e=t.nodeBefore;if(i=e.is("$text")?this.findCorrespondingDomText(e):this.mapViewToDom(e),!i)return null;n=i.parentNode,r=i.nextSibling}if($i(r)&&aa(r))return{parent:r,offset:7};return{parent:n,offset:i?Ji(i)+1:0}}}domToView(t,e={}){const n=[],i=this._domToView(t,e,n),r=i.next().value;return r?(i.next(),this._processDomInlineNodes(null,n,e),r.is("$text")&&0==r.data.length?null:r):null}*domChildrenToView(t,e={},n=[]){let i=[];i=t instanceof HTMLTemplateElement?[...t.content.childNodes]:[...t.childNodes];for(let r=0;r<i.length;r++){const o=i[r],s=this._domToView(o,e,n),a=s.next().value;null!==a&&(this._isBlockViewElement(a)&&this._processDomInlineNodes(t,n,e),yield a,s.next())}this._processDomInlineNodes(t,n,e)}domSelectionToView(t){if(function(t){if(!o.isGecko)return!1;if(!t.rangeCount)return!1;const e=t.getRangeAt(0).startContainer;try{Object.prototype.toString.call(e)}catch(t){return!0}return!1}(t))return new Es([]);if(1===t.rangeCount){let e=t.getRangeAt(0).startContainer;$i(e)&&(e=e.parentNode);const n=this.fakeSelectionToView(e);if(n)return n}const e=this.isDomSelectionBackward(t),n=[];for(let e=0;e<t.rangeCount;e++){const i=t.getRangeAt(e),r=this.domRangeToView(i);r&&n.push(r)}return new Es(n,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new ks(e,n):null}domPositionToView(t,e=0){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,Ji(t));const n=this.mapDomToView(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return _s._createBefore(n);if($i(t)){if(ca(t))return this.domPositionToView(t.parentNode,Ji(t));const n=this.findCorrespondingViewText(t);let i=e;return n?(aa(t)&&(i-=7,i=i<0?0:i),new _s(n,i)):null}if(0===e){const e=this.mapDomToView(t);if(e)return new _s(e,0)}else{const n=t.childNodes[e-1];if($i(n)&&ca(n)||n&&this.isBlockFiller(n))return this.domPositionToView(n.parentNode,Ji(n));const i=$i(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(i&&i.parent)return new _s(i.parent,i.index+1)}return null}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(ca(t))return null;const e=this.getHostViewElement(t);if(e)return e;const n=t.previousSibling;if(n){if(!this.isElement(n))return null;const t=this.mapDomToView(n);if(t){const e=t.nextSibling;return e instanceof Jo?e:null}}else{const e=this.mapDomToView(t.parentNode);if(e){const t=e.getChild(0);return t instanceof Jo?t:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const n=this.mapViewToDom(t);if(n&&n.ownerDocument.activeElement!==n){const{scrollX:t,scrollY:i}=e.window,r=[];ka(n,(t=>{const{scrollLeft:e,scrollTop:n}=t;r.push([e,n])})),n.focus(),ka(n,(t=>{const[e,n]=r.shift();t.scrollLeft=e,t.scrollTop=n})),e.window.scrollTo(t,i)}}_clearDomSelection(){const t=this.mapViewToDom(this.document.selection.editableElement);if(!t)return;const e=t.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(e);n&&n.rangeCount>0&&e.removeAllRanges()}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(t){return"br"==this.blockFillerMode?t.isEqualNode(ma):!("BR"!==t.tagName||!xa(t,this.blockElements)||1!==t.parentNode.childNodes.length)||(t.isEqualNode(wa)||function(t,e){const n=t.isEqualNode(ba);return n&&xa(t,e)&&1===t.parentNode.childNodes.length}(t,this.blockElements))}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=this._domDocument.createRange();try{e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset)}catch(t){return!1}const n=e.collapsed;return e.detach(),n}getHostViewElement(t){const e=Bi(t);for(e.pop();e.length;){const t=e.pop(),n=this._domToViewMapping.get(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return n}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}registerInlineObjectMatcher(t){this._inlineObjectElementMatcher.add(t)}_clearTemporaryCustomProperties(){for(const t of this._elementsWithTemporaryCustomProperties)t._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return ia(this._domDocument);case"markedNbsp":return ra(this._domDocument);case"br":return oa(this._domDocument)}}_isDomSelectionPositionCorrect(t,e){if($i(t)&&aa(t)&&e<7)return!1;if(this.isElement(t)&&aa(t.childNodes[e]))return!1;const n=this.mapDomToView(t);return!n||!n.is("uiElement")&&!n.is("rawElement")}*_domToView(t,e,n){if(this.isBlockFiller(t))return null;const i=this.getHostViewElement(t);if(i)return i;if(er(t)&&e.skipComments)return null;if($i(t)){if(ca(t))return null;{const e=t.data;if(""===e)return null;const i=new Jo(this.document,e);return n.push(i),i}}{let i=this.mapDomToView(t);if(i)return this._isInlineObjectElement(i)&&n.push(i),i;if(this.isDocumentFragment(t))i=new qs(this.document),e.bind&&this.bindDocumentFragments(t,i);else{i=this._createViewElement(t,e),e.bind&&this.bindElements(t,i);const r=t.attributes;if(r)for(let t=r.length,e=0;e<t;e++)i._setAttribute(r[e].name,r[e].value);if(this._isViewElementWithRawContent(i,e))return i._setCustomProperty("$rawContent",t.innerHTML),this._isBlockViewElement(i)||n.push(i),i;if(er(t))return i._setCustomProperty("$rawContent",t.data),i}yield i;const r=[];if(!1!==e.withChildren)for(const n of this.domChildrenToView(t,e,r))i._appendChild(n);if(this._isInlineObjectElement(i))n.push(i),this._processDomInlineNodes(null,r,e);else for(const t of r)n.push(t)}}_processDomInlineNodes(t,e,n){if(!e.length)return;if(t&&!this.isDocumentFragment(t)&&!this._isBlockDomElement(t))return;let i=!1;for(let t=0;t<e.length;t++){const r=e[t];if(!r.is("$text")){i=!1;continue}let o,s=!1;if(this._isPreFormatted(r))o=la(r.data);else{o=r.data.replace(/[ \n\t\r]{1,}/g," "),s=/[^\S\u00A0]/.test(o.charAt(o.length-1));const a=t>0?e[t-1]:null,c=t+1<e.length?e[t+1]:null,l=!a||a.is("element")&&"br"==a.name||i,u=!c&&!aa(r.data);!1!==n.withChildren&&(l&&(o=o.replace(/^ /,"")),u&&(o=o.replace(/ $/,""))),o=la(o),o=o.replace(/ \u00A0/g,"  ");const h=c&&c.is("element")&&"br"!=c.name,d=c&&c.is("$text")&&" "==c.data.charAt(0);(/[ \u00A0]\u00A0$/.test(o)||!c||h||d)&&(o=o.replace(/\u00A0$/," ")),(l||a&&a.is("element")&&"br"!=a.name)&&(o=o.replace(/^\u00A0/," "))}0==o.length&&r.parent?(r._remove(),e.splice(t,1),t--):(r._data=o,i=s)}e.length=0}_processDataFromViewText(t){let e=t.data;if(this._isPreFormatted(t))return e;if(" "==e.charAt(0)){const n=this._getTouchingInlineViewNode(t,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(e=" "+e.substr(1))}if(" "==e.charAt(e.length-1)){const n=this._getTouchingInlineViewNode(t,!0),i=n&&n.is("$textProxy")&&" "==n.data.charAt(0);" "!=e.charAt(e.length-2)&&n&&!i||(e=e.substr(0,e.length-1)+" ")}return e.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(t){if(this._isPreFormatted(t))return!1;const e=this._processDataFromViewText(t);return" "==e.charAt(e.length-1)}_isPreFormatted(t){if(function(t,e){return t.getAncestors().some((t=>t.is("element")&&e.includes(t.name)))}(t,this.preElements))return!0;for(const e of t.getAncestors({parentFirst:!0}))if(e.is("element")&&e.hasStyle("white-space")&&"inherit"!==e.getStyle("white-space"))return["pre","pre-wrap","break-spaces"].includes(e.getStyle("white-space"));return!1}_getTouchingInlineViewNode(t,e){const n=new vs({startPosition:e?_s._createAfter(t):_s._createBefore(t),direction:e?"forward":"backward"});for(const{item:t}of n){if(t.is("$textProxy"))return t;if(!t.is("element")||!t.getCustomProperty("dataPipeline:transparentRendering")){if(t.is("element","br"))return null;if(this._isInlineObjectElement(t))return t;if(t.is("containerElement"))return null}}return null}_isBlockDomElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isBlockViewElement(t){return t.is("element")&&this.blockElements.includes(t.name)}_isInlineObjectElement(t){return!!t.is("element")&&("br"==t.name||this.inlineObjectElements.includes(t.name)||!!this._inlineObjectElementMatcher.match(t))}_createViewElement(t,e){if(er(t))return new $s(this.document,"$comment");const n=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new fs(this.document,n)}_isViewElementWithRawContent(t,e){return!1!==e.withChildren&&t.is("element")&&!!this._rawContentElementMatcher.match(t)}_shouldRenameElement(t){const e=t.toLowerCase();return"editing"===this.renderingMode&&this.unsafeElements.includes(e)}_createReplacementDomElement(t,e){const n=this._domDocument.createElement("span");if(n.setAttribute(va,t),e){for(;e.firstChild;)n.appendChild(e.firstChild);for(const t of e.getAttributeNames())n.setAttribute(t,e.getAttribute(t))}return n}}function ka(t,e){let n=t;for(;n;)e(n),n=n.parentElement}function xa(t,e){const n=t.parentNode;return!!n&&!!n.tagName&&e.includes(n.tagName.toLowerCase())}function Ea(t){"script"===t&&T("domconverter-unsafe-script-element-detected"),"style"===t&&T("domconverter-unsafe-style-element-detected")}class Ta extends(Ni()){constructor(t){super(),this._isEnabled=!1,this.view=t,this.document=t.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(t){return t&&3===t.nodeType&&(t=t.parentNode),!(!t||1!==t.nodeType)&&t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const Ca=Ur((function(t,e){Ne(e,wn(e),t)}));class Aa{constructor(t,e,n){this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,Ca(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Sa extends Ta{constructor(){super(...arguments),this.useCapture=!1,this.usePassive=!1}observe(t){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach((e=>{this.listenTo(t,e,((t,e)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(e.target)&&this.onDomEvent(e)}),{useCapture:this.useCapture,usePassive:this.usePassive})}))}stopObserving(t){this.stopListening(t)}fire(t,e,n){this.isEnabled&&this.document.fire(t,new Aa(this.view,e,n))}}class Ia extends Sa{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(t){const e={keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return _r(this)}};this.fire(t.type,t,e)}}const Ma=function(){return at.Date.now()};var Pa=/\s/;const Oa=function(t){for(var e=t.length;e--&&Pa.test(t.charAt(e)););return e};var Da=/^\s+/;const Na=function(t){return t?t.slice(0,Oa(t)+1).replace(Da,""):t};var La=/^[-+]0x[0-9a-f]+$/i,Ra=/^0b[01]+$/i,Ba=/^0o[0-7]+$/i,Fa=parseInt;const ja=function(t){if("number"==typeof t)return t;if(_o(t))return NaN;if(z(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=z(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Na(t);var n=Ra.test(t);return n||Ba.test(t)?Fa(t.slice(2),n?2:8):La.test(t)?NaN:+t};var $a=Math.max,Va=Math.min;const za=function(t,e,n){var i,r,o,s,a,c,l=0,u=!1,h=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=i,o=r;return i=r=void 0,l=e,s=t.apply(o,n)}function g(t){var n=t-c;return void 0===c||n>=e||n<0||h&&t-l>=o}function p(){var t=Ma();if(g(t))return m(t);a=setTimeout(p,function(t){var n=e-(t-c);return h?Va(n,o-(t-l)):n}(t))}function m(t){return a=void 0,d&&i?f(t):(i=r=void 0,s)}function b(){var t=Ma(),n=g(t);if(i=arguments,r=this,c=t,n){if(void 0===a)return function(t){return l=t,a=setTimeout(p,e),u?f(t):s}(c);if(h)return clearTimeout(a),a=setTimeout(p,e),f(c)}return void 0===a&&(a=setTimeout(p,e)),s}return e=ja(e)||0,z(n)&&(u=!!n.leading,o=(h="maxWait"in n)?$a(ja(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==a&&clearTimeout(a),l=0,i=c=r=a=void 0},b.flush=function(){return void 0===a?s:m(Ma())},b};class Ha extends Ta{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=za((t=>{this.document.fire("selectionChangeDone",t)}),200)}observe(){const t=this.document;t.on("arrowKey",((e,n)=>{t.selection.isFake&&this.isEnabled&&n.preventDefault()}),{context:"$capture"}),t.on("arrowKey",((e,n)=>{t.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)}),{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,n=new Es(e.getRanges(),{backward:e.isBackward,fake:!1});t!=yr.arrowleft&&t!=yr.arrowup||n.setTo(n.getFirstPosition()),t!=yr.arrowright&&t!=yr.arrowdown||n.setTo(n.getLastPosition());const i={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}const Ua=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};const qa=function(t){return this.__data__.has(t)};function Wa(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Te;++e<n;)this.add(t[e])}Wa.prototype.add=Wa.prototype.push=Ua,Wa.prototype.has=qa;const Ga=Wa;const Ka=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1};const Ya=function(t,e){return t.has(e)};const Xa=function(t,e,n,i,r,o){var s=1&n,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var l=o.get(t),u=o.get(e);if(l&&u)return l==e&&u==t;var h=-1,d=!0,f=2&n?new Ga:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var g=t[h],p=e[h];if(i)var m=s?i(p,g,h,e,t,o):i(g,p,h,t,e,o);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!Ka(e,(function(t,e){if(!Ya(f,e)&&(g===t||r(g,t,n,i,o)))return f.push(e)}))){d=!1;break}}else if(g!==p&&!r(g,p,n,i,o)){d=!1;break}}return o.delete(t),o.delete(e),d};const Za=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n};const Qa=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n};var Ja=ct?ct.prototype:void 0,tc=Ja?Ja.valueOf:void 0;const ec=function(t,e,n,i,r,o,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new ni(t),new ni(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Pt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=Za;case"[object Set]":var c=1&i;if(a||(a=Qa),t.size!=e.size&&!c)return!1;var l=s.get(t);if(l)return l==e;i|=2,s.set(t,e);var u=Xa(a(t),a(e),i,r,o,s);return s.delete(t),u;case"[object Symbol]":if(tc)return tc.call(t)==tc.call(e)}return!1};var nc=Object.prototype.hasOwnProperty;const ic=function(t,e,n,i,r,o){var s=1&n,a=Rn(t),c=a.length;if(c!=Rn(e).length&&!s)return!1;for(var l=c;l--;){var u=a[l];if(!(s?u in e:nc.call(e,u)))return!1}var h=o.get(t),d=o.get(e);if(h&&d)return h==e&&d==t;var f=!0;o.set(t,e),o.set(e,t);for(var g=s;++l<c;){var p=t[u=a[l]],m=e[u];if(i)var b=s?i(m,p,u,e,t,o):i(p,m,u,t,e,o);if(!(void 0===b?p===m||r(p,m,n,i,o):b)){f=!1;break}g||(g="constructor"==u)}if(f&&!g){var w=t.constructor,y=e.constructor;w==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(t),o.delete(e),f};var rc="[object Arguments]",oc="[object Array]",sc="[object Object]",ac=Object.prototype.hasOwnProperty;const cc=function(t,e,n,i,r,o){var s=wt(t),a=wt(e),c=s?oc:Jn(t),l=a?oc:Jn(e),u=(c=c==rc?sc:c)==sc,h=(l=l==rc?sc:l)==sc,d=c==l;if(d&&qe(t)){if(!qe(e))return!1;s=!0,u=!1}if(d&&!u)return o||(o=new Se),s||rn(t)?Xa(t,e,n,i,r,o):ec(t,e,c,n,i,r,o);if(!(1&n)){var f=u&&ac.call(t,"__wrapped__"),g=h&&ac.call(e,"__wrapped__");if(f||g){var p=f?t.value():t,m=g?e.value():e;return o||(o=new Se),r(p,m,n,i,o)}}return!!d&&(o||(o=new Se),ic(t,e,n,i,r,o))};const lc=function t(e,n,i,r,o){return e===n||(null==e||null==n||!yt(e)&&!yt(n)?e!=e&&n!=n:cc(e,n,i,r,t,o))};const uc=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?lc(t,e,void 0,n):!!i};class hc extends Ta{constructor(t){super(t),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=t.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.add(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}stopObserving(t){if(this._domElements.delete(t),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(0===t.length)return;const e=this.domConverter,n=new Set,i=new Set;for(const n of t){const t=e.mapDomToView(n.target);t&&(t.is("uiElement")||t.is("rawElement")||"childList"!==n.type||this._isBogusBrMutation(n)||i.add(t))}for(const r of t){const t=e.mapDomToView(r.target);if((!t||!t.is("uiElement")&&!t.is("rawElement"))&&"characterData"===r.type){const t=e.findCorrespondingViewText(r.target);t&&!i.has(t.parent)?n.add(t):!t&&aa(r.target)&&i.add(e.mapDomToView(r.target.parentNode))}}const r=[];for(const t of n)r.push({type:"text",node:t});for(const t of i){const n=e.mapViewToDom(t),i=Array.from(t.getChildren()),o=Array.from(e.domChildrenToView(n,{withChildren:!1}));uc(i,o,dc)||r.push({type:"children",node:t})}r.length&&this.document.fire("mutations",{mutations:r})}_isBogusBrMutation(t){let e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}function dc(t,e){if(!Array.isArray(t))return t===e||!(!t.is("$text")||!e.is("$text"))&&t.data===e.data}class fc extends Sa{constructor(t){super(t),this._renderTimeoutId=null,this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const e=this.document;e.on("focus",(()=>this._handleFocus())),e.on("blur",((t,e)=>this._handleBlur(e))),e.on("beforeinput",(()=>{e.isFocused||this._handleFocus()}),{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(t){this.fire(t.type,t)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout((()=>{this._renderTimeoutId=null,this.flush(),this.view.change((()=>{}))}),50)}_handleBlur(t){const e=this.document.selection.editableElement;null!==e&&e!==t.target||(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change((()=>{})))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}}class gc extends Ta{constructor(t){super(t),this.mutationObserver=t.getObserver(hc),this.focusObserver=t.getObserver(fc),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=za((t=>{this.document.fire("selectionChangeDone",t)}),200),this._clearInfiniteLoopInterval=setInterval((()=>this._clearInfiniteLoop()),1e3),this._documentIsSelectingInactivityTimeoutDebounced=za((()=>this.document.isSelecting=!1),5e3),this._loopbackCounter=0}observe(t){const e=t.ownerDocument,n=()=>{this.document.isSelecting&&(this._handleSelectionChange(e),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(t,"selectstart",(()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()}),{priority:"highest"}),this.listenTo(t,"keydown",n,{priority:"highest",useCapture:!0}),this.listenTo(t,"keyup",n,{priority:"highest",useCapture:!0}),this._documents.has(e)||(this.listenTo(e,"mouseup",n,{priority:"highest",useCapture:!0}),this.listenTo(e,"selectionchange",(()=>{this.document.isComposing&&!o.isAndroid||(this._handleSelectionChange(e),this._documentIsSelectingInactivityTimeoutDebounced())})),this.listenTo(this.view.document,"compositionstart",(()=>{this._handleSelectionChange(e)}),{priority:"lowest"}),this._documents.add(e))}stopObserving(t){this.stopListening(t)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(t){if(!this.isEnabled)return;const e=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(e.anchorNode))return;this.mutationObserver.flush();const n=this.domConverter.domSelectionToView(e);if(0!=n.rangeCount){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(n)||!this.domConverter.isDomSelectionCorrect(e))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(n))this.view.forceRender();else{const t={oldSelection:this.selection,newSelection:n,domSelection:e};this.document.fire("selectionChange",t),this._fireSelectionChangeDoneDebounced(t)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class pc extends Sa{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const e=this.document;e.on("compositionstart",(()=>{e.isComposing=!0}),{priority:"low"}),e.on("compositionend",(()=>{e.isComposing=!1}),{priority:"low"})}onDomEvent(t){this.fire(t.type,t,{data:t.data})}}class mc{constructor(t,e={}){this._files=e.cacheFiles?bc(t):null,this._native=t}get files(){return this._files||(this._files=bc(this._native)),this._files}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}setDragImage(t,e,n){this._native.setDragImage(t,e,n)}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}function bc(t){const e=Array.from(t.files||[]),n=Array.from(t.items||[]);return e.length?e:n.filter((t=>"file"===t.kind)).map((t=>t.getAsFile()))}class wc extends Sa{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(t){const e=t.getTargetRanges(),n=this.view,i=n.document;let r=null,s=null,a=[];if(t.dataTransfer&&(r=new mc(t.dataTransfer)),null!==t.data?s=t.data:r&&(s=r.getData("text/plain")),i.selection.isFake)a=Array.from(i.selection.getRanges());else if(e.length)a=e.map((t=>{const e=n.domConverter.domPositionToView(t.startContainer,t.startOffset),i=n.domConverter.domPositionToView(t.endContainer,t.endOffset);return e?n.createRange(e,i):i?n.createRange(i):void 0})).filter((t=>!!t));else if(o.isAndroid){const e=t.target.ownerDocument.defaultView.getSelection();a=Array.from(n.domConverter.domSelectionToView(e).getRanges())}if(o.isAndroid&&"insertCompositionText"==t.inputType&&s&&s.endsWith("\n"))this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:[n.createRange(a[0].end)]});else if("insertText"==t.inputType&&s&&s.includes("\n")){const e=s.split(/\n{1,2}/g);let n=a;for(let o=0;o<e.length;o++){const s=e[o];""!=s&&(this.fire(t.type,t,{data:s,dataTransfer:r,targetRanges:n,inputType:t.inputType,isComposing:t.isComposing}),n=[i.selection.getFirstRange()]),o+1<e.length&&(this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:n}),n=[i.selection.getFirstRange()])}}else this.fire(t.type,t,{data:s,dataTransfer:r,targetRanges:a,inputType:t.inputType,isComposing:t.isComposing})}}class yc extends Ta{constructor(t){super(t),this.document.on("keydown",((t,e)=>{if(this.isEnabled&&((n=e.keyCode)==yr.arrowright||n==yr.arrowleft||n==yr.arrowup||n==yr.arrowdown)){const n=new Cs(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(n,e),n.stop.called&&t.stop()}var n}))}observe(){}stopObserving(){}}class vc extends Ta{constructor(t){super(t);const e=this.document;e.on("keydown",((t,n)=>{if(!this.isEnabled||n.keyCode!=yr.tab||n.ctrlKey)return;const i=new Cs(e,"tab",e.selection.getFirstRange());e.fire(i,n),i.stop.called&&t.stop()}))}observe(){}stopObserving(){}}const _c=function(t){return Ti(t,5)};class kc extends(Y()){constructor(t){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Ds(t),this.domConverter=new _a(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new ha(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Ws(this.document),this.addObserver(hc),this.addObserver(fc),this.addObserver(gc),this.addObserver(Ia),this.addObserver(Ha),this.addObserver(pc),this.addObserver(yc),this.addObserver(wc),this.addObserver(vc),this.document.on("arrowKey",ua,{priority:"low"}),Vs(this),this.on("render",(()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(()=>{this._hasChangedSinceTheLastRendering=!0})),this.listenTo(this.document,"change:isFocused",(()=>{this._hasChangedSinceTheLastRendering=!0})),o.isiOS&&this.listenTo(this.document,"blur",((t,e)=>{this.domConverter.mapDomToView(e.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})),this.listenTo(this.document,"mutations",((t,{mutations:e})=>{e.forEach((t=>this._renderer.markToSync(t.type,t.node)))}),{priority:"low"}),this.listenTo(this.document,"mutations",(()=>{this.forceRender()}),{priority:"lowest"})}attachDomRoot(t,e="main"){const n=this.document.getRoot(e);n._name=t.tagName.toLowerCase();const i={};for(const{name:e,value:r}of Array.from(t.attributes))i[e]=r,"class"===e?this._writer.addClass(r.split(" "),n):n.hasAttribute(e)||this._writer.setAttribute(e,r,n);this._initialDomRootAttributes.set(t,i);const r=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};r(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(t.ownerDocument),n.on("change:children",((t,e)=>this._renderer.markToSync("children",e))),n.on("change:attributes",((t,e)=>this._renderer.markToSync("attributes",e))),n.on("change:text",((t,e)=>this._renderer.markToSync("text",e))),n.on("change:isReadOnly",(()=>this.change(r))),n.on("change",(()=>{this._hasChangedSinceTheLastRendering=!0}));for(const n of this._observers.values())n.observe(t,e)}detachDomRoot(t){const e=this.domRoots.get(t);Array.from(e.attributes).forEach((({name:t})=>e.removeAttribute(t)));const n=this._initialDomRootAttributes.get(e);for(const t in n)e.setAttribute(t,n[t]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e);for(const t of this._observers.values())t.stopObserving(e)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);for(const[t,n]of this.domRoots)e.observe(n,t);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection({alignToTop:t,forceScroll:e,viewportOffset:n=20,ancestorOffset:i=20}={}){const r=this.document.selection.getFirstRange();if(!r)return;const o=_c({alignToTop:t,forceScroll:e,viewportOffset:n,ancestorOffset:i});"number"==typeof n&&(n={top:n,bottom:n,left:n,right:n});const s={target:this.domConverter.viewRangeToDom(r),viewportOffset:n,ancestorOffset:i,alignToTop:t,forceScroll:e};this.fire("scrollToTheSelection",s,o),function({target:t,viewportOffset:e=0,ancestorOffset:n=0,alignToTop:i,forceScroll:r}){const o=fr(t);let s=o,a=null;for(e=function(t){return"number"==typeof t?{top:t,bottom:t,left:t,right:t}:t}(e);s;){let c;c=gr(s==o?t:a),cr({parent:c,getRect:()=>pr(t,s),alignToTop:i,ancestorOffset:n,forceScroll:r});let l=pr(t,s);const u=pr(c,s);if(l.height>u.height){const t=l.getIntersection(u);t&&(l=t)}if(ar({window:s,rect:l,viewportOffset:e,alignToTop:i,forceScroll:r}),s.parent!=s){if(a=s.frameElement,s=s.parent,!a)return}else s=null}}(s)}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new E("cannot-change-view-tree",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}catch(t){E.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(fc).flush(),this.change((()=>{}))}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,e){return _s._createAt(t,e)}createPositionAfter(t){return _s._createAfter(t)}createPositionBefore(t){return _s._createBefore(t)}createRange(t,e){return new ks(t,e)}createRangeOn(t){return ks._createOn(t)}createRangeIn(t){return ks._createIn(t)}createSelection(...t){return new Es(...t)}_disableRendering(t){this._renderingDisabled=t,0==t&&this.change((()=>{}))}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class xc{is(){throw new Error("is() method is abstract")}}class Ec extends xc{constructor(t,e,n){if(super(),this.textNode=t,e<0||e>t.offsetSize)throw new E("model-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.offsetSize)throw new E("model-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Ec.prototype.is=function(t){return"$textProxy"===t||"model:$textProxy"===t||"textProxy"===t||"model:textProxy"===t};class Tc{constructor(t){if(!t||!t.boundaries&&!t.startPosition)throw new E("model-tree-walker-no-start-position",null);const e=t.direction||"forward";if("forward"!=e&&"backward"!=e)throw new E("model-tree-walker-unknown-direction",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this._position=t.startPosition.clone():this._position=Ac._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,n,i,r;do{i=this.position,r=this._visitedParent,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this._position=i,this._visitedParent=r)}jumpTo(t){this._boundaryStartParent&&t.isBefore(this.boundaries.start)?t=this.boundaries.start:this._boundaryEndParent&&t.isAfter(this.boundaries.end)&&(t=this.boundaries.end),this._position=t.clone(),this._visitedParent=t.parent}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const i=Sc(e,n),r=i||Ic(e,n,i);if(r&&r.is("model:element")){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e.path.push(0),this._visitedParent=r;return this._position=e,Cc("elementStart",r,t,e,1)}if(r&&r.is("model:$text")){let i;if(this.singleCharacters)i=1;else{let t=r.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<t&&(t=this.boundaries.end.offset),i=t-e.offset}const o=e.offset-r.startOffset,s=new Ec(r,o,i);return e.offset+=i,this._position=e,Cc("text",s,t,e,i)}return e.path.pop(),e.offset++,this._position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Cc("elementEnd",n,t,e)}_previous(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const i=e.parent,r=Sc(e,i),o=r||Mc(e,i,r);if(o&&o.is("model:element"))return e.offset--,this.shallow?(this._position=e,Cc("elementStart",o,t,e,1)):(e.path.push(o.maxOffset),this._position=e,this._visitedParent=o,this.ignoreElementEnd?this._previous():Cc("elementEnd",o,t,e));if(o&&o.is("model:$text")){let i;if(this.singleCharacters)i=1;else{let t=o.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>t&&(t=this.boundaries.start.offset),i=e.offset-t}const r=e.offset-o.startOffset,s=new Ec(o,r-i,i);return e.offset-=i,this._position=e,Cc("text",s,t,e,i)}return e.path.pop(),this._position=e,this._visitedParent=n.parent,Cc("elementStart",n,t,e,1)}}function Cc(t,e,n,i,r){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:r}}}class Ac extends xc{constructor(t,e,n="toNone"){if(super(),!t.is("element")&&!t.is("documentFragment"))throw new E("model-position-root-invalid",t);if(!Array.isArray(e)||0===e.length)throw new E("model-position-path-incorrect-format",t,{path:e});t.is("rootElement")?e=e.slice():(e=[...t.getPath(),...e],t=t.root),this.root=t,this.path=e,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)if(t=t.getChildAtOffset(this.path[e]),!t)throw new E("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new E("model-position-path-incorrect",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Sc(this,this.parent)}get nodeAfter(){const t=this.parent;return Ic(this,t,Sc(this,t))}get nodeBefore(){const t=this.parent;return Mc(this,t,Sc(this,t))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}isValid(){if(this.offset<0)return!1;let t=this.root;for(let e=0;e<this.path.length-1;e++)if(t=t.getChildAtOffset(this.path[e]),!t)return!1;return this.offset<=t.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const e=it(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new Tc(e);return n.skip(t),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}findAncestor(t){const e=this.parent;return e.is("element")?e.findAncestor(t,{includeSelf:!0}):null}getCommonPath(t){if(this.root!=t.root)return[];const e=it(this.path,t.path),n="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;for(;e[i]==n[i]&&e[i];)i++;return 0===i?null:e[i-1]}getShiftedBy(t){const e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}isAfter(t){return"after"==this.compareWith(t)}isBefore(t){return"before"==this.compareWith(t)}isEqual(t){return"same"==this.compareWith(t)}isTouching(t){if(this.root!==t.root)return!1;const e=Math.min(this.path.length,t.path.length);for(let n=0;n<e;n++){const e=this.path[n]-t.path[n];if(e<-1||e>1)return!1;if(1===e)return Pc(t,this,n);if(-1===e)return Pc(this,t,n)}return this.path.length===t.path.length||(this.path.length>t.path.length?Oc(this.path,e):Oc(t.path,e))}hasSameParentAs(t){if(this.root!==t.root)return!1;return"same"==it(this.getParentPath(),t.getParentPath())}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=Ac._createAt(this)}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const e=t.movedRange;let n;return e.containsPosition(this)||e.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?Ac._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}_getTransformedByDeletion(t,e){const n=Ac._createAt(this);if(this.root!=t.root)return n;if("same"==it(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e}}else if("prefix"==it(t.getParentPath(),this.getParentPath())){const i=t.path.length-1;if(t.offset<=this.path[i]){if(t.offset+e>this.path[i])return null;n.path[i]-=e}}return n}_getTransformedByInsertion(t,e){const n=Ac._createAt(this);if(this.root!=t.root)return n;if("same"==it(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=e);else if("prefix"==it(t.getParentPath(),this.getParentPath())){const i=t.path.length-1;t.offset<=this.path[i]&&(n.path[i]+=e)}return n}_getTransformedByMove(t,e,n){if(e=e._getTransformedByDeletion(t,n),t.isEqual(e))return Ac._createAt(this);const i=this._getTransformedByDeletion(t,n);return null===i||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,e):i._getTransformedByInsertion(e,n)}_getCombined(t,e){const n=t.path.length-1,i=Ac._createAt(e);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[n]-t.offset,i.path=[...i.path,...this.path.slice(n+1)],i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,e,n="toNone"){if(t.is("model:position"))return new Ac(t.root,t.path,t.stickiness);{const i=t;if("end"==e)e=i.maxOffset;else{if("before"==e)return this._createBefore(i,n);if("after"==e)return this._createAfter(i,n);if(0!==e&&!e)throw new E("model-createpositionat-offset-required",[this,t])}if(!i.is("element")&&!i.is("documentFragment"))throw new E("model-position-parent-incorrect",[this,t]);const r=i.getPath();return r.push(e),new this(i.root,r,n)}}static _createAfter(t,e){if(!t.parent)throw new E("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}static _createBefore(t,e){if(!t.parent)throw new E("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}static fromJSON(t,e){if("$graveyard"===t.root){const n=new Ac(e.graveyard,t.path);return n.stickiness=t.stickiness,n}if(!e.getRoot(t.root))throw new E("model-position-fromjson-no-root",e,{rootName:t.root});return new Ac(e.getRoot(t.root),t.path,t.stickiness)}}function Sc(t,e){const n=e.getChildAtOffset(t.offset);return n&&n.is("$text")&&n.startOffset<t.offset?n:null}function Ic(t,e,n){return null!==n?null:e.getChildAtOffset(t.offset)}function Mc(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset)-1)}function Pc(t,e,n){return n+1!==t.path.length&&(!!Oc(e.path,n+1)&&!!function(t,e){let n=t.parent,i=t.path.length-1,r=0;for(;i>=e;){if(t.path[i]+r!==n.maxOffset)return!1;r=1,i--,n=n.parent}return!0}(t,n+1))}function Oc(t,e){for(;e<t.length;){if(0!==t[e])return!1;e++}return!0}Ac.prototype.is=function(t){return"position"===t||"model:position"===t};class Dc extends xc{constructor(t,e){super(),this.start=Ac._createAt(t),this.end=e?Ac._createAt(e):Ac._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Tc({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==it(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}containsItem(t){const e=Ac._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new Dc(this.start,t.start)),this.containsPosition(t.end)&&e.push(new Dc(t.end,this.end))):e.push(new Dc(this.start,this.end)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new Dc(e,n)}return null}getJoined(t,e=!1){let n=this.isIntersecting(t);if(n||(n=this.start.isBefore(t.start)?e?this.end.isTouching(t.start):this.end.isEqual(t.start):e?t.end.isTouching(this.start):t.end.isEqual(this.start)),!n)return null;let i=this.start,r=this.end;return t.start.isBefore(i)&&(i=t.start),t.end.isAfter(r)&&(r=t.end),new Dc(i,r)}getMinimalFlatRanges(){const t=[],e=this.start.getCommonPath(this.end).length,n=Ac._createAt(this.start);let i=n.parent;for(;n.path.length>e+1;){const e=i.maxOffset-n.offset;0!==e&&t.push(new Dc(n,n.getShiftedBy(e))),n.path=n.path.slice(0,-1),n.offset++,i=i.parent}for(;n.path.length<=this.end.path.length;){const e=this.end.path[n.path.length-1],i=e-n.offset;0!==i&&t.push(new Dc(n,n.getShiftedBy(i))),n.offset=e,n.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new Tc(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new Tc(t);for(const t of e)yield t.item}*getPositions(t={}){t.boundaries=this;const e=new Tc(t);yield e.position;for(const t of e)yield t.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new Dc(this.start,this.end)]}getTransformedByOperations(t){const e=[new Dc(this.start,this.end)];for(const n of t)for(let t=0;t<e.length;t++){const i=e[t].getTransformedByOperation(n);e.splice(t,1,...i),t+=i.length-1}for(let t=0;t<e.length;t++){const n=e[t];for(let i=t+1;i<e.length;i++){const t=e[i];(n.containsRange(t)||t.containsRange(n)||n.isEqual(t))&&e.splice(i,1)}}return e}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const t=this.start.nodeAfter,e=this.end.nodeBefore;return t&&t.is("element")&&t===e?t:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,e=!1){return this._getTransformedByInsertion(t.position,t.howMany,e)}_getTransformedByMoveOperation(t,e=!1){const n=t.sourcePosition,i=t.howMany,r=t.targetPosition;return this._getTransformedByMove(n,r,i,e)}_getTransformedBySplitOperation(t){const e=this.start._getTransformedBySplitOperation(t);let n=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(n=this.end.getShiftedBy(1)),e.root!=n.root&&(n=this.end.getShiftedBy(-1)),new Dc(e,n)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new Dc(this.start);let e=this.start._getTransformedByMergeOperation(t),n=this.end._getTransformedByMergeOperation(t);return e.root!=n.root&&(n=this.end.getShiftedBy(-1)),e.isAfter(n)?(t.sourcePosition.isBefore(t.targetPosition)?(e=Ac._createAt(n),e.offset=0):(t.deletionPosition.isEqual(e)||(n=t.deletionPosition),e=t.targetPosition),new Dc(e,n)):new Dc(e,n)}_getTransformedByInsertion(t,e,n=!1){if(n&&this.containsPosition(t))return[new Dc(this.start,t),new Dc(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];{const n=new Dc(this.start,this.end);return n.start=n.start._getTransformedByInsertion(t,e),n.end=n.end._getTransformedByInsertion(t,e),[n]}}_getTransformedByMove(t,e,n,i=!1){if(this.isCollapsed){const i=this.start._getTransformedByMove(t,e,n);return[new Dc(i)]}const r=Dc._createFromPositionAndShift(t,n),o=e._getTransformedByDeletion(t,n);if(this.containsPosition(e)&&!i&&(r.containsPosition(this.start)||r.containsPosition(this.end))){const i=this.start._getTransformedByMove(t,e,n),r=this.end._getTransformedByMove(t,e,n);return[new Dc(i,r)]}let s;const a=this.getDifference(r);let c=null;const l=this.getIntersection(r);if(1==a.length?c=new Dc(a[0].start._getTransformedByDeletion(t,n),a[0].end._getTransformedByDeletion(t,n)):2==a.length&&(c=new Dc(this.start,this.end._getTransformedByDeletion(t,n))),s=c?c._getTransformedByInsertion(o,n,null!==l||i):[],l){const t=new Dc(l.start._getCombined(r.start,o),l.end._getCombined(r.start,o));2==s.length?s.splice(1,0,t):s.push(t)}return s}_getTransformedByDeletion(t,e){let n=this.start._getTransformedByDeletion(t,e),i=this.end._getTransformedByDeletion(t,e);return null==n&&null==i?null:(null==n&&(n=t),null==i&&(i=t),new Dc(n,i))}static _createFromPositionAndShift(t,e){const n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}static _createIn(t){return new this(Ac._createAt(t,0),Ac._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(Ac._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(0===t.length)throw new E("range-create-from-ranges-empty-array",null);if(1==t.length)return t[0].clone();const e=t[0];t.sort(((t,e)=>t.start.isAfter(e.start)?1:-1));const n=t.indexOf(e),i=new this(e.start,e.end);for(let e=n-1;e>=0&&t[e].end.isEqual(i.start);e--)i.start=Ac._createAt(t[e].start);for(let e=n+1;e<t.length&&t[e].start.isEqual(i.end);e++)i.end=Ac._createAt(t[e].end);return i}static fromJSON(t,e){return new this(Ac.fromJSON(t.start,e),Ac.fromJSON(t.end,e))}}Dc.prototype.is=function(t){return"range"===t||"model:range"===t};class Nc extends(L()){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",((t,e)=>{if(e.viewPosition)return;const n=this._modelToViewMapping.get(e.modelPosition.parent);if(!n)throw new E("mapping-model-position-view-parent-not-found",this,{modelPosition:e.modelPosition});e.viewPosition=this.findPositionIn(n,e.modelPosition.offset)}),{priority:"low"}),this.on("viewToModelPosition",((t,e)=>{if(e.modelPosition)return;const n=this.findMappedViewAncestor(e.viewPosition),i=this._viewToModelMapping.get(n),r=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=Ac._createAt(i,r)}),{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t,e={}){const n=this.toModelElement(t);if(this._elementToMarkerNames.has(t))for(const e of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(e);e.defer?this._deferredBindingRemovals.set(t,t.root):(this._viewToModelMapping.delete(t),this._modelToViewMapping.get(n)==t&&this._modelToViewMapping.delete(n))}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}bindElementToMarker(t,e){const n=this._markerNameToElements.get(e)||new Set;n.add(t);const i=this._elementToMarkerNames.get(t)||new Set;i.add(e),this._markerNameToElements.set(e,n),this._elementToMarkerNames.set(t,i)}unbindElementFromMarkerName(t,e){const n=this._markerNameToElements.get(e);n&&(n.delete(t),0==n.size&&this._markerNameToElements.delete(e));const i=this._elementToMarkerNames.get(t);i&&(i.delete(e),0==i.size&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}flushDeferredBindings(){for(const[t,e]of this._deferredBindingRemovals)t.root==e&&this.unbindViewElement(t);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new Dc(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new ks(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(t,e={}){const n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const n=new Set;for(const t of e)if(t.is("attributeElement"))for(const e of t.getElementsWithSameId())n.add(e);else n.add(t);return n}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}findMappedViewAncestor(t){let e=t.parent;for(;!this._viewToModelMapping.has(e);)e=e.parent;return e}_toModelOffset(t,e,n){if(n!=t){return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t)}if(t.is("$text"))return e;let i=0;for(let n=0;n<e;n++)i+=this.getModelLength(t.getChild(n));return i}getModelLength(t){const e=[t];let n=0;for(;e.length>0;){const t=e.pop(),i=t.name&&this._viewToModelLengthCallbacks.size>0&&this._viewToModelLengthCallbacks.get(t.name);if(i)n+=i(t);else if(this._viewToModelMapping.has(t))n+=1;else if(t.is("$text"))n+=t.data.length;else{if(t.is("uiElement"))continue;for(const n of t.getChildren())e.push(n)}}return n}findPositionIn(t,e){let n,i=0,r=0,o=0;if(t.is("$text"))return new _s(t,e);for(;r<e;)n=t.getChild(o),i=this.getModelLength(n),r+=i,o++;return r==e?this._moveViewPositionToTextNode(new _s(t,o)):this.findPositionIn(n,e-(r-i))}_moveViewPositionToTextNode(t){const e=t.nodeBefore,n=t.nodeAfter;return e&&e.is("view:$text")?new _s(e,e.data.length):n&&n.is("view:$text")?new _s(n,0):t}}class Lc{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,e){e=Rc(e),t instanceof Ec&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=Rc(e),t instanceof Ec&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}test(t,e){e=Rc(e),t instanceof Ec&&(t=this._getSymbolForTextProxy(t));const n=this._consumable.get(t);if(void 0===n)return null;const i=n.get(e);return void 0===i?null:i}revert(t,e){e=Rc(e),t instanceof Ec&&(t=this._getSymbolForTextProxy(t));const n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null}verifyAllConsumed(t){const e=[];for(const[n,i]of this._consumable)for(const[r,o]of i){const i=r.split(":")[0];o&&t==i&&e.push({event:r,item:n.name||n.description})}if(e.length)throw new E("conversion-model-consumable-not-consumed",null,{items:e})}_getSymbolForTextProxy(t){let e=null;const n=this._textProxyRegistry.get(t.startOffset);if(n){const i=n.get(t.endOffset);i&&(e=i.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t)),e}_addSymbolForTextProxy(t){const e=t.startOffset,n=t.endOffset,i=t.parent,r=Symbol("$textProxy:"+t.data);let o,s;return o=this._textProxyRegistry.get(e),o||(o=new Map,this._textProxyRegistry.set(e,o)),s=o.get(n),s||(s=new Map,o.set(n,s)),s.set(i,r),r}}function Rc(t){const e=t.split(":");return"insert"==e[0]?e[0]:"addMarker"==e[0]||"removeMarker"==e[0]?t:e.length>1?e[0]+":"+e[1]:e[0]}class Bc extends(L()){constructor(t){super(),this._conversionApi={dispatcher:this,...t},this._firedEventsMap=new WeakMap}convertChanges(t,e,n){const i=this._createConversionApi(n,t.getRefreshedItems());for(const e of t.getMarkersToRemove())this._convertMarkerRemove(e.name,e.range,i);const r=this._reduceChanges(t.getChanges());for(const t of r)"insert"===t.type?this._convertInsert(Dc._createFromPositionAndShift(t.position,t.length),i):"reinsert"===t.type?this._convertReinsert(Dc._createFromPositionAndShift(t.position,t.length),i):"remove"===t.type?this._convertRemove(t.position,t.length,t.name,i):this._convertAttribute(t.range,t.attributeKey,t.attributeOldValue,t.attributeNewValue,i);i.mapper.flushDeferredBindings();for(const t of i.mapper.flushUnboundMarkerNames()){const n=e.get(t).getRange();this._convertMarkerRemove(t,n,i),this._convertMarkerAdd(t,n,i)}for(const e of t.getMarkersToAdd())this._convertMarkerAdd(e.name,e.range,i);i.consumable.verifyAllConsumed("insert")}convert(t,e,n,i={}){const r=this._createConversionApi(n,void 0,i);this._convertInsert(t,r);for(const[t,n]of e)this._convertMarkerAdd(t,n,r);r.consumable.verifyAllConsumed("insert")}convertSelection(t,e,n){const i=this._createConversionApi(n);this.fire("cleanSelection",{selection:t},i);const r=t.getFirstPosition().root;if(!i.mapper.toViewElement(r))return;const o=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this._addConsumablesForSelection(i.consumable,t,o),this.fire("selection",{selection:t},i),t.isCollapsed){for(const e of o)if(i.consumable.test(t,"addMarker:"+e.name)){const n=e.getRange();if(!Fc(t.getFirstPosition(),e,i.mapper))continue;const r={item:t,markerName:e.name,markerRange:n};this.fire(`addMarker:${e.name}`,r,i)}for(const e of t.getAttributeKeys())if(i.consumable.test(t,"attribute:"+e)){const n={item:t,range:t.getFirstRange(),attributeKey:e,attributeOldValue:null,attributeNewValue:t.getAttribute(e)};this.fire(`attribute:${e}:$text`,n,i)}}}_convertInsert(t,e,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(e.consumable,t);for(const n of t.getWalker({shallow:!0}))this._testAndFire("insert",jc(n),e)}_convertRemove(t,e,n,i){this.fire(`remove:${n}`,{position:t,length:e},i)}_convertAttribute(t,e,n,i,r){this._addConsumablesForRange(r.consumable,t,`attribute:${e}`);for(const o of t){const t={item:o.item,range:Dc._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:e,attributeOldValue:n,attributeNewValue:i};this._testAndFire(`attribute:${e}`,t,r)}}_convertReinsert(t,e){const n=Array.from(t.getWalker({shallow:!0}));this._addConsumablesForInsert(e.consumable,n);for(const t of n.map(jc))this._testAndFire("insert",{...t,reconversion:!0},e)}_convertMarkerAdd(t,e,n){if("$graveyard"==e.root.rootName)return;const i=`addMarker:${t}`;if(n.consumable.add(e,i),this.fire(i,{markerName:t,markerRange:e},n),n.consumable.consume(e,i)){this._addConsumablesForRange(n.consumable,e,i);for(const r of e.getItems()){if(!n.consumable.test(r,i))continue;const o={item:r,range:Dc._createOn(r),markerName:t,markerRange:e};this.fire(i,o,n)}}}_convertMarkerRemove(t,e,n){"$graveyard"!=e.root.rootName&&this.fire(`removeMarker:${t}`,{markerName:t,markerRange:e},n)}_reduceChanges(t){const e={changes:t};return this.fire("reduceChanges",e),e.changes}_addConsumablesForInsert(t,e){for(const n of e){const e=n.item;if(null===t.test(e,"insert")){t.add(e,"insert");for(const n of e.getAttributeKeys())t.add(e,"attribute:"+n)}}return t}_addConsumablesForRange(t,e,n){for(const i of e.getItems())t.add(i,n);return t}_addConsumablesForSelection(t,e,n){t.add(e,"selection");for(const i of n)t.add(e,"addMarker:"+i.name);for(const n of e.getAttributeKeys())t.add(e,"attribute:"+n);return t}_testAndFire(t,e,n){const i=function(t,e){const n=e.item.is("element")?e.item.name:"$text";return`${t}:${n}`}(t,e),r=e.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(e.item):e.item,o=this._firedEventsMap.get(n),s=o.get(r);if(s){if(s.has(i))return;s.add(i)}else o.set(r,new Set([i]));this.fire(i,e,n)}_testAndFireAddAttributes(t,e){const n={item:t,range:Dc._createOn(t)};for(const t of n.item.getAttributeKeys())n.attributeKey=t,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(t),this._testAndFire(`attribute:${t}`,n,e)}_createConversionApi(t,e=new Set,n={}){const i={...this._conversionApi,consumable:new Lc,writer:t,options:n,convertItem:t=>this._convertInsert(Dc._createOn(t),i),convertChildren:t=>this._convertInsert(Dc._createIn(t),i,{doNotAddConsumables:!0}),convertAttributes:t=>this._testAndFireAddAttributes(t,i),canReuseView:t=>!e.has(i.mapper.toModelElement(t))};return this._firedEventsMap.set(i,new Map),i}}function Fc(t,e,n){const i=e.getRange(),r=Array.from(t.getAncestors());r.shift(),r.reverse();return!r.some((t=>{if(i.containsItem(t)){return!!n.toViewElement(t).getCustomProperty("addHighlight")}}))}function jc(t){return{item:t.item,range:Dc._createFromPositionAndShift(t.previousPosition,t.length)}}class $c extends xc{constructor(t){super(),this.parent=null,this._index=null,this._startOffset=null,this._attrs=io(t)}get document(){return null}get index(){return this._index}get startOffset(){return this._startOffset}get offsetSize(){return 1}get endOffset(){return null===this.startOffset?null:this.startOffset+this.offsetSize}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return null!==this.parent&&this.root.isAttached()}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}getAncestors(t={}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let r=0;for(;n[r]==i[r]&&n[r];)r++;return 0===r?null:n[r-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=it(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&(this.root===t.root&&!this.isBefore(t))}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce(((t,e)=>(t[e[0]]=e[1],t)),{})),t}_clone(t){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=io(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}$c.prototype.is=function(t){return"node"===t||"model:node"===t};class Vc extends(L(xc)){constructor(...t){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],t.length&&this.setTo(...t)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new Dc(t.start,t.end)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?new Dc(t.start,t.end):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?new Dc(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(...t){let[e,n,i]=t;if("object"==typeof n&&(i=n,n=void 0),null===e)this._setRanges([]);else if(e instanceof Vc)this._setRanges(e.getRanges(),e.isBackward);else if(e&&"function"==typeof e.getRanges)this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof Dc)this._setRanges([e],!!i&&!!i.backward);else if(e instanceof Ac)this._setRanges([new Dc(e)]);else if(e instanceof $c){const t=!!i&&!!i.backward;let r;if("in"==n)r=Dc._createIn(e);else if("on"==n)r=Dc._createOn(e);else{if(void 0===n)throw new E("model-selection-setto-required-second-parameter",[this,e]);r=new Dc(Ac._createAt(e,n))}this._setRanges([r],t)}else{if(!rt(e))throw new E("model-selection-setto-not-selectable",[this,e]);this._setRanges(e,i&&!!i.backward)}}_setRanges(t,e=!1){const n=Array.from(t),i=n.some((e=>{if(!(e instanceof Dc))throw new E("model-selection-set-ranges-not-range",[this,t]);return this._ranges.every((t=>!t.isEqual(e)))}));(n.length!==this._ranges.length||i)&&(this._replaceAllRanges(n),this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0}))}setFocus(t,e){if(null===this.anchor)throw new E("model-selection-setfocus-no-ranges",[this,t]);const n=Ac._createAt(t,e);if("same"==n.compareWith(this.focus))return;const i=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(i)?(this._pushRange(new Dc(n,i)),this._lastRangeBackward=!0):(this._pushRange(new Dc(i,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const n=Uc(e.start,t);Wc(n,e)&&(yield n);const i=e.getWalker();for(const n of i){const r=n.item;"elementEnd"==n.type&&Hc(r,t,e)?yield r:"elementStart"==n.type&&r.is("model:element")&&r.root.document.model.schema.isBlock(r)&&i.jumpTo(Ac._createAt(r,"end"))}const r=Uc(e.end,t);Gc(r,e)&&(yield r)}}containsEntireContent(t=this.anchor.root){const e=Ac._createAt(t,0),n=Ac._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new Dc(t.start,t.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new E("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}_replaceAllRanges(t){this._removeAllRanges();for(const e of t)this._pushRange(e)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function zc(t,e){return!e.has(t)&&(e.add(t),t.root.document.model.schema.isBlock(t)&&!!t.parent)}function Hc(t,e,n){return zc(t,e)&&qc(t,n)}function Uc(t,e){const n=t.parent.root.document.model.schema,i=t.parent.getAncestors({parentFirst:!0,includeSelf:!0});let r=!1;const o=i.find((t=>!r&&(r=n.isLimit(t),!r&&zc(t,e))));return i.forEach((t=>e.add(t))),o}function qc(t,e){const n=function(t){const e=t.root.document.model.schema;let n=t.parent;for(;n;){if(e.isBlock(n))return n;n=n.parent}}(t);if(!n)return!0;return!e.containsRange(Dc._createOn(n),!0)}function Wc(t,e){return!!t&&(!(!e.isCollapsed&&!t.isEmpty)||!e.start.isTouching(Ac._createAt(t,t.maxOffset))&&qc(t,e))}function Gc(t,e){return!!t&&(!(!e.isCollapsed&&!t.isEmpty)||!e.end.isTouching(Ac._createAt(t,0))&&qc(t,e))}Vc.prototype.is=function(t){return"selection"===t||"model:selection"===t};class Kc extends(L(Dc)){constructor(t,e){super(t,e),Yc.call(this)}detach(){this.stopListening()}toRange(){return new Dc(this.start,this.end)}static fromRange(t){return new Kc(t.start,t.end)}}function Yc(){this.listenTo(this.root.document.model,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&Xc.call(this,n)}),{priority:"low"})}function Xc(t){const e=this.getTransformedByOperation(t),n=Dc._createFromRanges(e),i=!n.isEqual(this),r=function(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}(this,t);let o=null;if(i){"$graveyard"==n.root.rootName&&(o="remove"==t.type?t.sourcePosition:t.deletionPosition);const e=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",e,{deletionPosition:o})}else r&&this.fire("change:content",this.toRange(),{deletionPosition:o})}Kc.prototype.is=function(t){return"liveRange"===t||"model:liveRange"===t||"range"==t||"model:range"===t};class Zc extends $c{constructor(t,e){super(e),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new Zc(this.data,this.getAttributes())}static fromJSON(t){return new Zc(t.data,t.attributes)}}Zc.prototype.is=function(t){return"$text"===t||"model:$text"===t||"text"===t||"model:text"===t||"node"===t||"model:node"===t};const Qc="selection:";class Jc extends(L(xc)){constructor(t){super(),this._selection=new tl(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(t){this._selection.observeMarkers(t)}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(...t){this._selection.setTo(...t)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return Qc+t}static _isStoreAttributeKey(t){return t.startsWith(Qc)}}Jc.prototype.is=function(t){return"selection"===t||"model:selection"==t||"documentSelection"==t||"model:documentSelection"==t};class tl extends Vc{constructor(t){super(),this.markers=new Xr({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=t.model,this._document=t,this.listenTo(this._model,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))}),{priority:"lowest"}),this.on("change:range",(()=>{this._validateSelectionRanges(this.getRanges())})),this.listenTo(this._model.markers,"update",((t,e,n,i)=>{this._updateMarker(e,i)})),this.listenTo(this._document,"change",((t,e)=>{!function(t,e){const n=t.document.differ;for(const i of n.getChanges()){if("insert"!=i.type)continue;const n=i.position.parent;i.length===n.maxOffset&&t.enqueueChange(e,(t=>{const e=Array.from(n.getAttributeKeys()).filter((t=>t.startsWith(Qc)));for(const i of e)t.removeAttribute(i,n)}))}}(this._model,e)}))}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...t){super.setTo(...t),this._updateAttributes(!0),this.updateMarkers()}setFocus(t,e){super.setFocus(t,e),this._updateAttributes(!0),this.updateMarkers()}setAttribute(t,e){if(this._setAttribute(t,e)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}overrideGravity(){const t=_();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new E("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(t){this._observedMarkers.add(t),this.updateMarkers()}_replaceAllRanges(t){this._validateSelectionRanges(t),super._replaceAllRanges(t)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_validateSelectionRanges(t){for(const e of t)if(!this._document._validateSelectionRange(e))throw new E("document-selection-wrong-position",this,{range:e})}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const e=Kc.fromRange(t);return e.on("change:range",((t,n,i)=>{if(this._hasChangedRange=!0,e.root==this._document.graveyard){this._selectionRestorePosition=i.deletionPosition;const t=this._ranges.indexOf(e);this._ranges.splice(t,1),e.detach()}})),e}updateMarkers(){if(!this._observedMarkers.size)return;const t=[];let e=!1;for(const e of this._model.markers){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))continue;const i=e.getRange();for(const n of this.getRanges())i.containsRange(n,!n.isCollapsed)&&t.push(e)}const n=Array.from(this.markers);for(const n of t)this.markers.has(n)||(this.markers.add(n),e=!0);for(const n of Array.from(this.markers))t.includes(n)||(this.markers.remove(n),e=!0);e&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(t,e){const n=t.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let i=!1;const r=Array.from(this.markers),o=this.markers.has(t);if(e){let n=!1;for(const t of this.getRanges())if(e.containsRange(t,!t.isCollapsed)){n=!0;break}n&&!o?(this.markers.add(t),i=!0):!n&&o&&(this.markers.remove(t),i=!0)}else o&&(this.markers.remove(t),i=!0);i&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateAttributes(t){const e=io(this._getSurroundingAttributes()),n=io(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[t,e]of this._attributePriority)"low"==e&&(this._attrs.delete(t),this._attributePriority.delete(t));this._setAttributesTo(e);const i=[];for(const[t,e]of this.getAttributes())n.has(t)&&n.get(t)===e||i.push(t);for(const[t]of n)this.hasAttribute(t)||i.push(t);i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1})}_setAttribute(t,e,n=!0){const i=n?"normal":"low";if("low"==i&&"normal"==this._attributePriority.get(t))return!1;return super.getAttribute(t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,i),!0)}_removeAttribute(t,e=!0){const n=e?"normal":"low";return("low"!=n||"normal"!=this._attributePriority.get(t))&&(this._attributePriority.set(t,n),!!super.hasAttribute(t)&&(this._attrs.delete(t),!0))}_setAttributesTo(t){const e=new Set;for(const[e,n]of this.getAttributes())t.get(e)!==n&&this._removeAttribute(e,!1);for(const[n,i]of t){this._setAttribute(n,i,!1)&&e.add(n)}return e}*getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())if(e.startsWith(Qc)){const n=e.substr(10);yield[n,t.getAttribute(e)]}}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;if("$graveyard"==t.root.rootName)return null;let n=null;if(this.isCollapsed){const i=t.textNode?t.textNode:t.nodeBefore,r=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=el(i,e)),n||(n=el(r,e)),!this.isGravityOverridden&&!n){let t=i;for(;t&&!n;)t=t.previousSibling,n=el(t,e)}if(!n){let t=r;for(;t&&!n;)t=t.nextSibling,n=el(t,e)}n||(n=this.getStoredAttributes())}else{const t=this.getFirstRange();for(const i of t){if(i.item.is("element")&&e.isObject(i.item)){n=el(i.item,e);break}if("text"==i.type){n=i.item.getAttributes();break}}}return n}_fixGraveyardSelection(t){const e=this._model.schema.getNearestSelectionRange(t);e&&this._pushRange(e)}}function el(t,e){if(!t)return null;if(t instanceof Ec||t instanceof Zc)return t.getAttributes();if(!e.isInline(t))return null;if(!e.isObject(t))return[];const n=[];for(const[i,r]of t.getAttributes())e.checkAttribute("$text",i)&&!1!==e.getAttributeProperties(i).copyFromObject&&n.push([i,r]);return n}class nl{constructor(t){this._nodes=[],this._offsetToNode=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._offsetToNode.length}getNode(t){return this._nodes[t]||null}getNodeAtOffset(t){return this._offsetToNode[t]||null}getNodeIndex(t){return t.index}getNodeStartOffset(t){return t.startOffset}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new E("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}offsetToIndex(t){if(t==this._offsetToNode.length)return this._nodes.length;const e=this._offsetToNode[t];if(!e)throw new E("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.getNodeIndex(e)}_insertNodes(t,e){const n=[];for(const t of e){if(!(t instanceof $c))throw new E("model-nodelist-insertnodes-not-node",this);n.push(t)}let i=this.indexToOffset(t);ro(this._nodes,n,t),ro(this._offsetToNode,function(t){const e=[];let n=0;for(const i of t)for(let t=0;t<i.offsetSize;t++)e[n++]=i;return e}(n),i);for(let e=t;e<this._nodes.length;e++)this._nodes[e]._index=e,this._nodes[e]._startOffset=i,i+=this._nodes[e].offsetSize}_removeNodes(t,e=1){if(0==e)return[];let n=this.indexToOffset(t);const i=this._nodes.splice(t,e),r=i[i.length-1],o=r.startOffset+r.offsetSize-n;this._offsetToNode.splice(n,o);for(const t of i)t._index=null,t._startOffset=null;for(let e=t;e<this._nodes.length;e++)this._nodes[e]._index=e,this._nodes[e]._startOffset=n,n+=this._nodes[e].offsetSize;return i}_removeNodesArray(t){if(0==t.length)return;for(const e of t)e._index=null,e._startOffset=null;this._nodes=this._nodes.filter((t=>null!==t.index)),this._offsetToNode=this._offsetToNode.filter((t=>null!==t.index));let e=0;for(let t=0;t<this._nodes.length;t++)this._nodes[t]._index=t,this._nodes[t]._startOffset=e,e+=this._nodes[t].offsetSize}toJSON(){return this._nodes.map((t=>t.toJSON()))}}class il extends $c{constructor(t,e,n){super(e),this._children=new nl,this.name=t,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}getChild(t){return this._children.getNode(t)}getChildAtOffset(t){return this._children.getNodeAtOffset(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const n of t)e=e.getChildAtOffset(n);return e}findAncestor(t,e={}){let n=e.includeSelf?this:this.parent;for(;n;){if(n.name===t)return n;n=n.parent}return null}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?function(t){const e=[];for(const n of t)e.push(n._clone(!0));return e}(this._children):void 0;return new il(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){if("string"==typeof t)return[new Zc(t)];rt(t)||(t=[t]);const e=[];for(const n of t)"string"==typeof n?e.push(new Zc(n)):n instanceof Ec?e.push(new Zc(n.data,n.getAttributes())):e.push(n);return e}(e);for(const t of n)null!==t.parent&&t._remove(),t.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const t of n)t.parent=null;return n}_removeChildrenArray(t){this._children._removeNodesArray(t);for(const e of t)e.parent=null}static fromJSON(t){let e;if(t.children){e=[];for(const n of t.children)n.name?e.push(il.fromJSON(n)):e.push(Zc.fromJSON(n))}return new il(t.name,t.attributes,e)}}il.prototype.is=function(t,e){return e?e===this.name&&("element"===t||"model:element"===t):"element"===t||"model:element"===t||"node"===t||"model:node"===t};class rl{constructor(t){this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}class ol extends rl{elementToElement(t){return this.add(function(t){const e=hl(t.model),n=dl(t.view,"container");e.attributes.length&&(e.children=!0);return i=>{i.on(`insert:${e.name}`,cl(n,bl(e)),{priority:t.converterPriority||"normal"}),(e.children||e.attributes.length)&&i.on("reduceChanges",ml(e),{priority:"low"})}}(t))}elementToStructure(t){return this.add(function(t){const e=hl(t.model),n=dl(t.view,"container");return e.children=!0,i=>{if(i._conversionApi.schema.checkChild(e.name,"$text"))throw new E("conversion-element-to-structure-disallowed-text",i,{elementName:e.name});var r,o;i.on(`insert:${e.name}`,(r=n,o=bl(e),(t,e,n)=>{if(!o(e.item,n.consumable,{preflight:!0}))return;const i=new Map;n.writer._registerSlotFactory(function(t,e,n){return(i,r)=>{const o=i.createContainerElement("$slot");let s=null;if("children"===r)s=Array.from(t.getChildren());else{if("function"!=typeof r)throw new E("conversion-slot-mode-unknown",n.dispatcher,{modeOrFilter:r});s=Array.from(t.getChildren()).filter((t=>r(t)))}return e.set(o,s),o}}(e.item,i,n));const s=r(e.item,n,e);if(n.writer._clearSlotFactory(),!s)return;!function(t,e,n){const i=Array.from(e.values()).flat(),r=new Set(i);if(r.size!=i.length)throw new E("conversion-slot-filter-overlap",n.dispatcher,{element:t});if(r.size!=t.childCount)throw new E("conversion-slot-filter-incomplete",n.dispatcher,{element:t})}(e.item,i,n),o(e.item,n.consumable);const a=n.mapper.toViewPosition(e.range.start);n.mapper.bindElements(e.item,s),n.writer.insert(a,s),n.convertAttributes(e.item),function(t,e,n,i){n.mapper.on("modelToViewPosition",s,{priority:"highest"});let r=null,o=null;for([r,o]of e)wl(t,o,n,i),n.writer.move(n.writer.createRangeIn(r),n.writer.createPositionBefore(r)),n.writer.remove(r);function s(t,e){const n=e.modelPosition.nodeAfter,i=o.indexOf(n);i<0||(e.viewPosition=e.mapper.findPositionIn(r,i))}n.mapper.off("modelToViewPosition",s)}(s,i,n,{reconversion:e.reconversion})}),{priority:t.converterPriority||"normal"}),i.on("reduceChanges",ml(e),{priority:"low"})}}(t))}attributeToElement(t){return this.add(function(t){t=_c(t);let e=t.model;"string"==typeof e&&(e={key:e});let n=`attribute:${e.key}`;e.name&&(n+=":"+e.name);if(e.values)for(const n of e.values)t.view[n]=dl(t.view[n],"attribute");else t.view=dl(t.view,"attribute");const i=fl(t);return e=>{e.on(n,al(i),{priority:t.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(t){t=_c(t);let e=t.model;"string"==typeof e&&(e={key:e});let n=`attribute:${e.key}`;e.name&&(n+=":"+e.name);if(e.values)for(const n of e.values)t.view[n]=gl(t.view[n]);else t.view=gl(t.view);const i=fl(t);return e=>{var r;e.on(n,(r=i,(t,e,n)=>{if(!n.consumable.test(e.item,t.name))return;const i=r(e.attributeOldValue,n,e),o=r(e.attributeNewValue,n,e);if(!i&&!o)return;n.consumable.consume(e.item,t.name);const s=n.mapper.toViewElement(e.item),a=n.writer;if(!s)throw new E("conversion-attribute-to-attribute-on-text",n.dispatcher,e);if(null!==e.attributeOldValue&&i)if("class"==i.key){const t="string"==typeof i.value?i.value.split(/\s+/):i.value;for(const e of t)a.removeClass(e,s)}else if("style"==i.key)if("string"==typeof i.value){const t=new ls(a.document.stylesProcessor);t.setTo(i.value);for(const[e]of t.getStylesEntries())a.removeStyle(e,s)}else{const t=Object.keys(i.value);for(const e of t)a.removeStyle(e,s)}else a.removeAttribute(i.key,s);if(null!==e.attributeNewValue&&o)if("class"==o.key){const t="string"==typeof o.value?o.value.split(/\s+/):o.value;for(const e of t)a.addClass(e,s)}else if("style"==o.key)if("string"==typeof o.value){const t=new ls(a.document.stylesProcessor);t.setTo(o.value);for(const[e,n]of t.getStylesEntries())a.setStyle(e,n,s)}else{const t=Object.keys(o.value);for(const e of t)a.setStyle(e,o.value[e],s)}else a.setAttribute(o.key,o.value,s)}),{priority:t.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(t){const e=dl(t.view,"ui");return n=>{n.on(`addMarker:${t.model}`,ll(e),{priority:t.converterPriority||"normal"}),n.on(`removeMarker:${t.model}`,((t,e,n)=>{const i=n.mapper.markerNameToElements(e.markerName);if(i){for(const t of i)n.mapper.unbindElementFromMarkerName(t,e.markerName),n.writer.clear(n.writer.createRangeOn(t),t);n.writer.clearClonedElementsGroup(e.markerName),t.stop()}}),{priority:t.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(t){return e=>{var n;e.on(`addMarker:${t.model}`,(n=t.view,(t,e,i)=>{if(!e.item)return;if(!(e.item instanceof Vc||e.item instanceof Jc||e.item.is("$textProxy")))return;const r=pl(n,e,i);if(!r)return;if(!i.consumable.consume(e.item,t.name))return;const o=i.writer,s=sl(o,r),a=o.document.selection;if(e.item instanceof Vc||e.item instanceof Jc)o.wrap(a.getFirstRange(),s);else{const t=i.mapper.toViewRange(e.range),n=o.wrap(t,s);for(const t of n.getItems())if(t.is("attributeElement")&&t.isSimilar(s)){i.mapper.bindElementToMarker(t,e.markerName);break}}}),{priority:t.converterPriority||"normal"}),e.on(`addMarker:${t.model}`,function(t){return(e,n,i)=>{if(!n.item)return;if(!(n.item instanceof il))return;const r=pl(t,n,i);if(!r)return;if(!i.consumable.test(n.item,e.name))return;const o=i.mapper.toViewElement(n.item);if(o&&o.getCustomProperty("addHighlight")){i.consumable.consume(n.item,e.name);for(const t of Dc._createIn(n.item))i.consumable.consume(t.item,e.name);o.getCustomProperty("addHighlight")(o,r,i.writer),i.mapper.bindElementToMarker(o,n.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),e.on(`removeMarker:${t.model}`,function(t){return(e,n,i)=>{if(n.markerRange.isCollapsed)return;const r=pl(t,n,i);if(!r)return;const o=sl(i.writer,r),s=i.mapper.markerNameToElements(n.markerName);if(s){for(const t of s)if(i.mapper.unbindElementFromMarkerName(t,n.markerName),t.is("attributeElement"))i.writer.unwrap(i.writer.createRangeOn(t),o);else{t.getCustomProperty("removeHighlight")(t,r.id,i.writer)}i.writer.clearClonedElementsGroup(n.markerName),e.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}markerToData(t){return this.add(function(t){t=_c(t);const e=t.model;let n=t.view;n||(n=n=>({group:e,name:n.substr(t.model.length+1)}));return i=>{var r;i.on(`addMarker:${e}`,(r=n,(t,e,n)=>{const i=r(e.markerName,n);if(!i)return;const o=e.markerRange;n.consumable.consume(o,t.name)&&(ul(o,!1,n,e,i),ul(o,!0,n,e,i),t.stop())}),{priority:t.converterPriority||"normal"}),i.on(`removeMarker:${e}`,function(t){return(e,n,i)=>{const r=t(n.markerName,i);if(!r)return;const o=i.mapper.markerNameToElements(n.markerName);if(o){for(const t of o)i.mapper.unbindElementFromMarkerName(t,n.markerName),t.is("containerElement")?(s(`data-${r.group}-start-before`,t),s(`data-${r.group}-start-after`,t),s(`data-${r.group}-end-before`,t),s(`data-${r.group}-end-after`,t)):i.writer.clear(i.writer.createRangeOn(t),t);i.writer.clearClonedElementsGroup(n.markerName),e.stop()}function s(t,e){if(e.hasAttribute(t)){const n=new Set(e.getAttribute(t).split(","));n.delete(r.name),0==n.size?i.writer.removeAttribute(t,e):i.writer.setAttribute(t,Array.from(n).join(","),e)}}}}(n),{priority:t.converterPriority||"normal"})}}(t))}}function sl(t,e){const n=t.createAttributeElement("span",e.attributes);return e.classes&&n._addClass(e.classes),"number"==typeof e.priority&&(n._priority=e.priority),n._id=e.id,n}function al(t){return(e,n,i)=>{if(!i.consumable.test(n.item,e.name))return;const r=t(n.attributeOldValue,i,n),o=t(n.attributeNewValue,i,n);if(!r&&!o)return;i.consumable.consume(n.item,e.name);const s=i.writer,a=s.document.selection;if(n.item instanceof Vc||n.item instanceof Jc)s.wrap(a.getFirstRange(),o);else{let t=i.mapper.toViewRange(n.range);null!==n.attributeOldValue&&r&&(t=s.unwrap(t,r)),null!==n.attributeNewValue&&o&&s.wrap(t,o)}}}function cl(t,e=vl){return(n,i,r)=>{if(!e(i.item,r.consumable,{preflight:!0}))return;const o=t(i.item,r,i);if(!o)return;e(i.item,r.consumable);const s=r.mapper.toViewPosition(i.range.start);r.mapper.bindElements(i.item,o),r.writer.insert(s,o),r.convertAttributes(i.item),wl(o,i.item.getChildren(),r,{reconversion:i.reconversion})}}function ll(t){return(e,n,i)=>{n.isOpening=!0;const r=t(n,i);n.isOpening=!1;const o=t(n,i);if(!r||!o)return;const s=n.markerRange;if(s.isCollapsed&&!i.consumable.consume(s,e.name))return;for(const t of s)if(!i.consumable.consume(t.item,e.name))return;const a=i.mapper,c=i.writer;c.insert(a.toViewPosition(s.start),r),i.mapper.bindElementToMarker(r,n.markerName),s.isCollapsed||(c.insert(a.toViewPosition(s.end),o),i.mapper.bindElementToMarker(o,n.markerName)),e.stop()}}function ul(t,e,n,i,r){const o=e?t.start:t.end,s=o.nodeAfter&&o.nodeAfter.is("element")?o.nodeAfter:null,a=o.nodeBefore&&o.nodeBefore.is("element")?o.nodeBefore:null;if(s||a){let t,o;e&&s||!e&&!a?(t=s,o=!0):(t=a,o=!1);const c=n.mapper.toViewElement(t);if(c)return void function(t,e,n,i,r,o){const s=`data-${o.group}-${e?"start":"end"}-${n?"before":"after"}`,a=t.hasAttribute(s)?t.getAttribute(s).split(","):[];a.unshift(o.name),i.writer.setAttribute(s,a.join(","),t),i.mapper.bindElementToMarker(t,r.markerName)}(c,e,o,n,i,r)}!function(t,e,n,i,r){const o=`${r.group}-${e?"start":"end"}`,s=r.name?{name:r.name}:null,a=n.writer.createUIElement(o,s);n.writer.insert(t,a),n.mapper.bindElementToMarker(a,i.markerName)}(n.mapper.toViewPosition(o),e,n,i,r)}function hl(t){return"string"==typeof t&&(t={name:t}),{name:t.name,attributes:t.attributes?Cr(t.attributes):[],children:!!t.children}}function dl(t,e){return"function"==typeof t?t:(n,i)=>function(t,e,n){"string"==typeof t&&(t={name:t});let i;const r=e.writer,o=Object.assign({},t.attributes);if("container"==n)i=r.createContainerElement(t.name,o);else if("attribute"==n){const e={priority:t.priority||Ls.DEFAULT_PRIORITY};i=r.createAttributeElement(t.name,o,e)}else i=r.createUIElement(t.name,o);if(t.styles){const e=Object.keys(t.styles);for(const n of e)r.setStyle(n,t.styles[n],i)}if(t.classes){const e=t.classes;if("string"==typeof e)r.addClass(e,i);else for(const t of e)r.addClass(t,i)}return i}(t,i,e)}function fl(t){return t.model.values?(e,n,i)=>{const r=t.view[e];return r?r(e,n,i):null}:t.view}function gl(t){return"string"==typeof t?e=>({key:t,value:e}):"object"==typeof t?t.value?()=>t:e=>({key:t.key,value:e}):t}function pl(t,e,n){const i="function"==typeof t?t(e,n):t;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}function ml(t){const e=function(t){return(e,n)=>{if(!e.is("element",t.name))return!1;if("attribute"==n.type){if(t.attributes.includes(n.attributeKey))return!0}else if(t.children)return!0;return!1}}(t);return(t,n)=>{const i=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const t of n.changes){const r="attribute"==t.type?t.range.start.nodeAfter:t.position.parent;if(r&&e(r,t)){if(!n.reconvertedElements.has(r)){n.reconvertedElements.add(r);const t=Ac._createBefore(r);let e=i.length;for(let n=i.length-1;n>=0;n--){const r=i[n],o=("attribute"==r.type?r.range.start:r.position).compareWith(t);if("before"==o||"remove"==r.type&&"same"==o)break;e=n}i.splice(e,0,{type:"remove",name:r.name,position:t,length:1},{type:"reinsert",name:r.name,position:t,length:1})}}else i.push(t)}n.changes=i}}function bl(t){return(e,n,i={})=>{const r=["insert"];for(const n of t.attributes)e.hasAttribute(n)&&r.push(`attribute:${n}`);return!!r.every((t=>n.test(e,t)))&&(i.preflight||r.forEach((t=>n.consume(e,t))),!0)}}function wl(t,e,n,i){for(const r of e)yl(t.root,r,n,i)||n.convertItem(r)}function yl(t,e,n,i){const{writer:r,mapper:o}=n;if(!i.reconversion)return!1;const s=o.toViewElement(e);return!(!s||s.root==t)&&(!!n.canReuseView(s)&&(r.move(r.createRangeOn(s),o.toViewPosition(Ac._createBefore(e))),!0))}function vl(t,e,{preflight:n}={}){return n?e.test(t,"insert"):e.consume(t,"insert")}function _l(t){const{schema:e,document:n}=t.model;for(const i of n.getRoots())if(i.isEmpty&&!e.checkChild(i,"$text")&&e.checkChild(i,"paragraph"))return t.insertElement("paragraph",i),!0;return!1}function kl(t,e,n){const i=n.createContext(t);return!!n.checkChild(i,"paragraph")&&!!n.checkChild(i.push("paragraph"),e)}function xl(t,e){const n=e.createElement("paragraph");return e.insert(n,t),e.createPositionAt(n,0)}class El extends rl{elementToElement(t){return this.add(Tl(t))}elementToAttribute(t){return this.add(function(t){t=_c(t),Sl(t);const e=Il(t,!1),n=Cl(t.view),i=n?`element:${n}`:"element";return n=>{n.on(i,e,{priority:t.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(t){t=_c(t);let e=null;("string"==typeof t.view||t.view.key)&&(e=function(t){"string"==typeof t.view&&(t.view={key:t.view});const e=t.view.key,n=void 0===t.view.value?/[\s\S]*/:t.view.value;let i;if("class"==e||"style"==e){const t="class"==e?"classes":"styles";i={[t]:n}}else i={attributes:{[e]:n}};t.view.name&&(i.name=t.view.name);return t.view=i,e}(t));Sl(t,e);const n=Il(t,!0);return e=>{e.on("element",n,{priority:t.converterPriority||"low"})}}(t))}elementToMarker(t){return this.add(function(t){const e=function(t){return(e,n)=>{const i="string"==typeof t?t:t(e,n);return n.writer.createElement("$marker",{"data-name":i})}}(t.model);return Tl({...t,model:e})}(t))}dataToMarker(t){return this.add(function(t){t=_c(t),t.model||(t.model=e=>e?t.view+":"+e:t.view);const e={view:t.view,model:t.model},n=Al(Ml(e,"start")),i=Al(Ml(e,"end"));return r=>{r.on(`element:${t.view}-start`,n,{priority:t.converterPriority||"normal"}),r.on(`element:${t.view}-end`,i,{priority:t.converterPriority||"normal"});const o=k.low,s=k.highest,a=k.get(t.converterPriority)/s;r.on("element",function(t){return(e,n,i)=>{const r=`data-${t.view}`;function o(e,r){for(const o of r){const r=t.model(o,i),s=i.writer.createElement("$marker",{"data-name":r});i.writer.insert(s,e),n.modelCursor.isEqual(e)?n.modelCursor=n.modelCursor.getShiftedBy(1):n.modelCursor=n.modelCursor._getTransformedByInsertion(e,1),n.modelRange=n.modelRange._getTransformedByInsertion(e,1)[0]}}(i.consumable.test(n.viewItem,{attributes:r+"-end-after"})||i.consumable.test(n.viewItem,{attributes:r+"-start-after"})||i.consumable.test(n.viewItem,{attributes:r+"-end-before"})||i.consumable.test(n.viewItem,{attributes:r+"-start-before"}))&&(n.modelRange||Object.assign(n,i.convertChildren(n.viewItem,n.modelCursor)),i.consumable.consume(n.viewItem,{attributes:r+"-end-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(r+"-end-after").split(",")),i.consumable.consume(n.viewItem,{attributes:r+"-start-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(r+"-start-after").split(",")),i.consumable.consume(n.viewItem,{attributes:r+"-end-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(r+"-end-before").split(",")),i.consumable.consume(n.viewItem,{attributes:r+"-start-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(r+"-start-before").split(",")))}}(e),{priority:o+a})}}(t))}}function Tl(t){const e=Al(t=_c(t)),n=Cl(t.view),i=n?`element:${n}`:"element";return n=>{n.on(i,e,{priority:t.converterPriority||"normal"})}}function Cl(t){return"string"==typeof t?t:"object"==typeof t&&"string"==typeof t.name?t.name:null}function Al(t){const e=new es(t.view);return(n,i,r)=>{const o=e.match(i.viewItem);if(!o)return;const s=o.match;if(s.name=!0,!r.consumable.test(i.viewItem,s))return;const a=function(t,e,n){return t instanceof Function?t(e,n):n.writer.createElement(t)}(t.model,i.viewItem,r);a&&r.safeInsert(a,i.modelCursor)&&(r.consumable.consume(i.viewItem,s),r.convertChildren(i.viewItem,a),r.updateConversionResult(a,i))}}function Sl(t,e=null){const n=null===e||(t=>t.getAttribute(e)),i="object"!=typeof t.model?t.model:t.model.key,r="object"!=typeof t.model||void 0===t.model.value?n:t.model.value;t.model={key:i,value:r}}function Il(t,e){const n=new es(t.view);return(i,r,o)=>{if(!r.modelRange&&e)return;const s=n.match(r.viewItem);if(!s)return;if(!function(t,e){const n="function"==typeof t?t(e):t;if("object"==typeof n&&!Cl(n))return!1;return!n.classes&&!n.attributes&&!n.styles}(t.view,r.viewItem)?delete s.match.name:s.match.name=!0,!o.consumable.test(r.viewItem,s.match))return;const a=t.model.key,c="function"==typeof t.model.value?t.model.value(r.viewItem,o):t.model.value;if(null===c)return;r.modelRange||Object.assign(r,o.convertChildren(r.viewItem,r.modelCursor));const l=function(t,e,n,i){let r=!1;for(const o of Array.from(t.getItems({shallow:n})))i.schema.checkAttribute(o,e.key)&&(r=!0,o.hasAttribute(e.key)||i.writer.setAttribute(e.key,e.value,o));return r}(r.modelRange,{key:a,value:c},e,o);l&&(o.consumable.test(r.viewItem,{name:!0})&&(s.match.name=!0),o.consumable.consume(r.viewItem,s.match))}}function Ml(t,e){return{view:`${t.view}-${e}`,model:(e,n)=>{const i=e.getAttribute("name"),r=t.model(i,n);return n.writer.createElement("$marker",{"data-name":r})}}}function Pl(t){t.document.registerPostFixer((e=>function(t,e){const n=e.document.selection,i=e.schema,r=[];let o=!1;for(const t of n.getRanges()){const e=Ol(t,i);e&&!e.isEqual(t)?(r.push(e),o=!0):r.push(t)}o&&t.setSelection(function(t){const e=[...t],n=new Set;let i=1;for(;i<e.length;){const t=e[i],r=e.slice(0,i);for(const[o,s]of r.entries())if(!n.has(o))if(t.isEqual(s))n.add(o);else if(t.isIntersecting(s)){n.add(o),n.add(i);const r=t.getJoined(s);e.push(r)}i++}return e.filter(((t,e)=>!n.has(e)))}(r),{backward:n.isBackward});return!1}(e,t)))}function Ol(t,e){return t.isCollapsed?function(t,e){const n=t.start,i=e.getNearestSelectionRange(n);if(!i){const t=n.getAncestors().reverse().find((t=>e.isObject(t)));return t?Dc._createOn(t):null}if(!i.isCollapsed)return i;const r=i.start;if(n.isEqual(r))return null;return new Dc(r)}(t,e):function(t,e){const{start:n,end:i}=t,r=e.checkChild(n,"$text"),o=e.checkChild(i,"$text"),s=e.getLimitElement(n),a=e.getLimitElement(i);if(s===a){if(r&&o)return null;if(function(t,e,n){const i=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),r=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return i||r}(n,i,e)){const t=n.nodeAfter&&e.isSelectable(n.nodeAfter)?null:e.getNearestSelectionRange(n,"forward"),r=i.nodeBefore&&e.isSelectable(i.nodeBefore)?null:e.getNearestSelectionRange(i,"backward"),o=t?t.start:n,s=r?r.end:i;return new Dc(o,s)}}const c=s&&!s.is("rootElement"),l=a&&!a.is("rootElement");if(c||l){const t=n.nodeAfter&&i.nodeBefore&&n.nodeAfter.parent===i.nodeBefore.parent,r=c&&(!t||!Nl(n.nodeAfter,e)),o=l&&(!t||!Nl(i.nodeBefore,e));let u=n,h=i;return r&&(u=Ac._createBefore(Dl(s,e))),o&&(h=Ac._createAfter(Dl(a,e))),new Dc(u,h)}return null}(t,e)}function Dl(t,e){let n=t,i=n;for(;e.isLimit(i)&&i.parent;)n=i,i=i.parent;return n}function Nl(t,e){return t&&e.isSelectable(t)}class Ll extends(Y()){constructor(t,e){super(),this.model=t,this.view=new kc(e),this.mapper=new Nc,this.downcastDispatcher=new Bc({mapper:this.mapper,schema:t.schema});const n=this.model.document,i=n.selection,r=this.model.markers;var s,a,c;this.listenTo(this.model,"_beforeChanges",(()=>{this.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(()=>{this.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(n,"change",(()=>{this.view.change((t=>{this.downcastDispatcher.convertChanges(n.differ,r,t),this.downcastDispatcher.convertSelection(i,r,t)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(t,e){return(n,i)=>{const r=i.newSelection,o=[];for(const t of r.getRanges())o.push(e.toModelRange(t));const s=t.createSelection(o,{backward:r.isBackward});s.isEqual(t.document.selection)||t.change((t=>{t.setSelection(s)}))}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(s=this.mapper,a=this.model.schema,c=this.view,(t,e)=>{if(!c.document.isComposing||o.isAndroid)for(let t=0;t<e.targetRanges.length;t++){const n=e.targetRanges[t],i=s.toModelRange(n),r=Ol(i,a);r&&!r.isEqual(i)&&(e.targetRanges[t]=s.toViewRange(r))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",((t,e,n)=>{if(!n.consumable.consume(e.item,t.name))return;const i=n.writer,r=n.mapper.toViewPosition(e.range.start),o=i.createText(e.item.data);i.insert(r,o)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((t,e,n)=>{n.convertAttributes(e.item),e.reconversion||!e.item.is("element")||e.item.isEmpty||n.convertChildren(e.item)}),{priority:"lowest"}),this.downcastDispatcher.on("remove",((t,e,n)=>{const i=n.mapper.toViewPosition(e.position),r=e.position.getShiftedBy(e.length),o=n.mapper.toViewPosition(r,{isPhantom:!0}),s=n.writer.createRange(i,o),a=n.writer.remove(s.getTrimmed());for(const t of n.writer.createRangeIn(a).getItems())n.mapper.unbindViewElement(t,{defer:!0})}),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",((t,e,n)=>{const i=n.writer,r=i.document.selection;for(const t of r.getRanges())t.isCollapsed&&t.end.parent.isAttached()&&n.writer.mergeAttributes(t.start);i.setSelection(null)})),this.downcastDispatcher.on("selection",((t,e,n)=>{const i=e.selection;if(i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const r=[];for(const t of i.getRanges())r.push(n.mapper.toViewRange(t));n.writer.setSelection(r,{backward:i.isBackward})}),{priority:"low"}),this.downcastDispatcher.on("selection",((t,e,n)=>{const i=e.selection;if(!i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const r=n.writer,o=i.getFirstPosition(),s=n.mapper.toViewPosition(o),a=r.breakAttributes(s);r.setSelection(a)}),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((t=>{if("$graveyard"==t.rootName)return null;const e=new ys(this.view.document,t.name);return e.rootName=t.rootName,this.mapper.bindElements(t,e),e}))}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(t){const e="string"==typeof t?t:t.name,n=this.model.markers.get(e);if(!n)throw new E("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:e});this.model.change((()=>{this.model.markers._refresh(n)}))}reconvertItem(t){this.model.change((()=>{this.model.document.differ._refreshItem(t)}))}}class Rl{constructor(){this._consumables=new Map}add(t,e){let n;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new Fl(t),this._consumables.set(t,n)),n.add(e))}test(t,e){const n=this._consumables.get(t);return void 0===n?null:t.is("$text")||t.is("documentFragment")?n:n.test(e)}consume(t,e){return!!this.test(t,e)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}revert(t,e){const n=this._consumables.get(t);void 0!==n&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}static consumablesFromElement(t){const e={element:t,name:!0,attributes:[],classes:[],styles:[]},n=t.getAttributeKeys();for(const t of n)"style"!=t&&"class"!=t&&e.attributes.push(t);const i=t.getClassNames();for(const t of i)e.classes.push(t);const r=t.getStyleNames();for(const t of r)e.styles.push(t);return e}static createFrom(t,e){if(e||(e=new Rl),t.is("$text"))return e.add(t),e;t.is("element")&&e.add(t,Rl.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const n of t.getChildren())e=Rl.createFrom(n,e);return e}}const Bl=["attributes","classes","styles"];class Fl{constructor(t){this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e of Bl)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e of Bl)if(e in t){const n=this._test(e,t[e]);if(!0!==n)return n}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e of Bl)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e of Bl)e in t&&this._revert(e,t[e])}_add(t,e){const n=Cr(e),i=this._consumables[t];for(const e of n){if("attributes"===t&&("class"===e||"style"===e))throw new E("viewconsumable-invalid-attribute",this);if(i.set(e,!0),"styles"===t)for(const t of this.element.document.stylesProcessor.getRelatedStyles(e))i.set(t,!0)}}_test(t,e){const n=Cr(e),i=this._consumables[t];for(const e of n)if("attributes"!==t||"class"!==e&&"style"!==e){const t=i.get(e);if(void 0===t)return null;if(!t)return!1}else{const t="class"==e?"classes":"styles",n=this._test(t,[...this._consumables[t].keys()]);if(!0!==n)return n}return!0}_consume(t,e){const n=Cr(e),i=this._consumables[t];for(const e of n)if("attributes"!==t||"class"!==e&&"style"!==e){if(i.set(e,!1),"styles"==t)for(const t of this.element.document.stylesProcessor.getRelatedStyles(e))i.set(t,!1)}else{const t="class"==e?"classes":"styles";this._consume(t,[...this._consumables[t].keys()])}}_revert(t,e){const n=Cr(e),i=this._consumables[t];for(const e of n)if("attributes"!==t||"class"!==e&&"style"!==e){!1===i.get(e)&&i.set(e,!0)}else{const t="class"==e?"classes":"styles";this._revert(t,[...this._consumables[t].keys()])}}}class jl extends(Y()){constructor(){super(),this._sourceDefinitions={},this._attributeProperties=Object.create(null),this._customChildChecks=new Map,this._customAttributeChecks=new Map,this._genericCheckSymbol=Symbol("$generic"),this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",((t,e)=>{e[0]=new $l(e[0])}),{priority:"highest"}),this.on("checkChild",((t,e)=>{e[0]=new $l(e[0]),e[1]=this.getDefinition(e[1])}),{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t])throw new E("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new E("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return e="string"==typeof t?t:"is"in t&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!(!e||!e.isBlock)}isLimit(t){const e=this.getDefinition(t);return!!e&&!(!e.isLimit&&!e.isObject)}isObject(t){const e=this.getDefinition(t);return!!e&&!!(e.isObject||e.isLimit&&e.isSelectable&&e.isContent)}isInline(t){const e=this.getDefinition(t);return!(!e||!e.isInline)}isSelectable(t){const e=this.getDefinition(t);return!!e&&!(!e.isSelectable&&!e.isObject)}isContent(t){const e=this.getDefinition(t);return!!e&&!(!e.isContent&&!e.isObject)}checkChild(t,e){return!!e&&this._checkContextMatch(t,e)}checkAttribute(t,e){const n=this.getDefinition(t.last);if(!n)return!1;const i=this._evaluateAttributeChecks(t,e);return void 0!==i?i:n.allowAttributes.includes(e)}checkMerge(t,e){if(t instanceof Ac){const e=t.nodeBefore,n=t.nodeAfter;if(!(e instanceof il))throw new E("schema-check-merge-no-element-before",this);if(!(n instanceof il))throw new E("schema-check-merge-no-element-after",this);return this.checkMerge(e,n)}if(this.isLimit(t)||this.isLimit(e))return!1;for(const n of e.getChildren())if(!this.checkChild(t,n))return!1;return!0}addChildCheck(t,e){const n=void 0!==e?e:this._genericCheckSymbol,i=this._customChildChecks.get(n)||[];i.push(t),this._customChildChecks.set(n,i)}addAttributeCheck(t,e){const n=void 0!==e?e:this._genericCheckSymbol,i=this._customAttributeChecks.get(n)||[];i.push(t),this._customAttributeChecks.set(n,i)}setAttributeProperties(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}getAttributeProperties(t){return this._attributeProperties[t]||Object.create(null)}getLimitElement(t){let e;if(t instanceof Ac)e=t.parent;else{e=(t instanceof Dc?[t]:Array.from(t.getRanges())).reduce(((t,e)=>{const n=e.getCommonAncestor();return t?t.getCommonAncestor(n,{includeSelf:!0}):n}),null)}for(;!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const n=[...t.getFirstPosition().getAncestors(),new Zc("",t.getAttributes())];return this.checkAttribute(n,e)}{const n=t.getRanges();for(const t of n)for(const n of t)if(this.checkAttribute(n.item,e))return!0}return!1}*getValidRanges(t,e){t=function*(t){for(const e of t)yield*e.getMinimalFlatRanges()}(t);for(const n of t)yield*this._getValidRangesForRange(n,e)}getNearestSelectionRange(t,e="both"){if("$graveyard"==t.root.rootName)return null;if(this.checkChild(t,"$text"))return new Dc(t);let n,i;const r=t.getAncestors().reverse().find((t=>this.isLimit(t)))||t.root;"both"!=e&&"backward"!=e||(n=new Tc({boundaries:Dc._createIn(r),startPosition:t,direction:"backward"})),"both"!=e&&"forward"!=e||(i=new Tc({boundaries:Dc._createIn(r),startPosition:t}));for(const t of function*(t,e){let n=!1;for(;!n;){if(n=!0,t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}if(e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}}}(n,i)){const e=t.walker==n?"elementEnd":"elementStart",i=t.value;if(i.type==e&&this.isObject(i.item))return Dc._createOn(i.item);if(this.checkChild(i.nextPosition,"$text"))return new Dc(i.nextPosition)}return null}findAllowedParent(t,e){let n=t.parent;for(;n;){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(t,e,n){const i=n.model;for(const[r,o]of Object.entries(e))i.schema.checkAttribute(t,r)&&n.setAttribute(r,o,t)}removeDisallowedAttributes(t,e){for(const n of t)if(n.is("$text"))Jl(this,n,e);else{const t=Dc._createIn(n).getPositions();for(const n of t){Jl(this,n.nodeBefore||n.parent,e)}}}getAttributesWithProperty(t,e,n){const i={};for(const[r,o]of t.getAttributes()){const t=this.getAttributeProperties(r);void 0!==t[e]&&(void 0!==n&&n!==t[e]||(i[r]=o))}return i}createContext(t){return new $l(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,n=Object.keys(e);for(const i of n)t[i]=Vl(e[i],i);const i=Object.values(t);for(const e of i)zl(t,e),Hl(t,e),Ul(t,e),ql(t,e);for(const e of i)Wl(t,e);for(const e of i)Gl(t,e);for(const e of i)Kl(t,e);for(const e of i)Yl(t,e);for(const e of i)Xl(t,e);this._compiledDefinitions=function(t){const e={};for(const n of Object.values(t))e[n.name]={name:n.name,isBlock:!!n.isBlock,isContent:!!n.isContent,isInline:!!n.isInline,isLimit:!!n.isLimit,isObject:!!n.isObject,isSelectable:!!n.isSelectable,allowIn:Array.from(n.allowIn).filter((e=>!!t[e])),allowChildren:Array.from(n.allowChildren).filter((e=>!!t[e])),allowAttributes:Array.from(n.allowAttributes)};return e}(t)}_checkContextMatch(t,e){const n=t.last;let i=this._evaluateChildChecks(t,e);if(i=void 0!==i?i:e.allowIn.includes(n.name),!i)return!1;const r=this.getDefinition(n),o=t.trimLast();return!!r&&(0==o.length||this._checkContextMatch(o,r))}_evaluateChildChecks(t,e){const n=this._customChildChecks.get(this._genericCheckSymbol)||[],i=this._customChildChecks.get(e.name)||[];for(const r of[...n,...i]){const n=r(t,e);if(void 0!==n)return n}}_evaluateAttributeChecks(t,e){const n=this._customAttributeChecks.get(this._genericCheckSymbol)||[],i=this._customAttributeChecks.get(e)||[];for(const r of[...n,...i]){const n=r(t,e);if(void 0!==n)return n}}*_getValidRangesForRange(t,e){let n=t.start,i=t.start;for(const r of t.getItems({shallow:!0}))r.is("element")&&(yield*this._getValidRangesForRange(Dc._createIn(r),e)),this.checkAttribute(r,e)||(n.isEqual(i)||(yield new Dc(n,i)),n=Ac._createAfter(r)),i=Ac._createAfter(r);n.isEqual(i)||(yield new Dc(n,i))}findOptimalInsertionRange(t,e){const n=t.getSelectedElement();if(n&&this.isObject(n)&&!this.isInline(n))return"before"==e||"after"==e?new Dc(Ac._createAt(n,e)):Dc._createOn(n);const i=Zr(t.getSelectedBlocks());if(!i)return new Dc(t.focus);if(i.isEmpty)return new Dc(Ac._createAt(i,0));const r=Ac._createAfter(i);return t.focus.isTouching(r)?new Dc(r):new Dc(Ac._createBefore(i))}}class $l{constructor(t){if(t instanceof $l)return t;let e;e="string"==typeof t?[t]:Array.isArray(t)?t:t.getAncestors({includeSelf:!0}),this._items=e.map(Ql)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new $l([t]);return e._items=[...this._items,...e._items],e}trimLast(){const t=new $l([]);return t._items=this._items.slice(0,-1),t}getItem(t){return this._items[t]}*getNames(){yield*this._items.map((t=>t.name))}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function Vl(t,e){const n={name:e,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return function(t,e){for(const n of t){const t=Object.keys(n).filter((t=>t.startsWith("is")));for(const i of t)e[i]=!!n[i]}}(t,n),Zl(t,n,"allowIn"),Zl(t,n,"allowChildren"),Zl(t,n,"disallowIn"),Zl(t,n,"disallowChildren"),Zl(t,n,"allowContentOf"),Zl(t,n,"allowWhere"),Zl(t,n,"allowAttributes"),Zl(t,n,"disallowAttributes"),Zl(t,n,"allowAttributesOf"),Zl(t,n,"inheritTypesFrom"),function(t,e){for(const n of t){const t=n.inheritAllFrom;t&&(e.allowContentOf.add(t),e.allowWhere.add(t),e.allowAttributesOf.add(t),e.inheritTypesFrom.add(t))}}(t,n),n}function zl(t,e){for(const n of e.allowIn){const i=t[n];i?i.allowChildren.add(e.name):e.allowIn.delete(n)}}function Hl(t,e){for(const n of e.allowChildren){const i=t[n];i?i.allowIn.add(e.name):e.allowChildren.delete(n)}}function Ul(t,e){for(const n of e.disallowIn){const i=t[n];i?i.disallowChildren.add(e.name):e.disallowIn.delete(n)}}function ql(t,e){for(const n of e.disallowChildren){const i=t[n];i?i.disallowIn.add(e.name):e.disallowChildren.delete(n)}}function Wl(t,e){for(const t of e.disallowChildren)e.allowChildren.delete(t);for(const t of e.disallowIn)e.allowIn.delete(t);for(const t of e.disallowAttributes)e.allowAttributes.delete(t)}function Gl(t,e){for(const n of e.allowContentOf){const i=t[n];i&&(i.disallowChildren.forEach((n=>{e.allowChildren.has(n)||(e.disallowChildren.add(n),t[n].disallowIn.add(e.name))})),i.allowChildren.forEach((n=>{e.disallowChildren.has(n)||(e.allowChildren.add(n),t[n].allowIn.add(e.name))})))}}function Kl(t,e){for(const n of e.allowWhere){const i=t[n];i&&(i.disallowIn.forEach((n=>{e.allowIn.has(n)||(e.disallowIn.add(n),t[n].disallowChildren.add(e.name))})),i.allowIn.forEach((n=>{e.disallowIn.has(n)||(e.allowIn.add(n),t[n].allowChildren.add(e.name))})))}}function Yl(t,e){for(const n of e.allowAttributesOf){const i=t[n];if(!i)return;i.allowAttributes.forEach((t=>{e.disallowAttributes.has(t)||e.allowAttributes.add(t)}))}}function Xl(t,e){for(const n of e.inheritTypesFrom){const i=t[n];if(i){const t=Object.keys(i).filter((t=>t.startsWith("is")));for(const n of t)n in e||(e[n]=i[n])}}}function Zl(t,e,n){for(const i of t){let t=i[n];"string"==typeof t&&(t=[t]),Array.isArray(t)&&t.forEach((t=>e[n].add(t)))}}function Ql(t){return"string"==typeof t||t.is("documentFragment")?{name:"string"==typeof t?t:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:t.is("element")?t.name:"$text",*getAttributeKeys(){yield*t.getAttributeKeys()},getAttribute:e=>t.getAttribute(e)}}function Jl(t,e,n){for(const i of e.getAttributeKeys())t.checkAttribute(e,i)||n.removeAttribute(i,e)}class tu extends(L()){constructor(t){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...t,consumable:null,writer:null,store:null,convertItem:(t,e)=>this._convertItem(t,e),convertChildren:(t,e)=>this._convertChildren(t,e),safeInsert:(t,e)=>this._safeInsert(t,e),updateConversionResult:(t,e)=>this._updateConversionResult(t,e),splitToAllowedParent:(t,e)=>this._splitToAllowedParent(t,e),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(t,e,n=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(t,e){let n;for(const i of new $l(t)){const t={};for(const e of i.getAttributeKeys())t[e]=i.getAttribute(e);const r=e.createElement(i.name,t);n&&e.insert(r,n),n=Ac._createAt(r,0)}return n}(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=Rl.createFrom(t),this.conversionApi.store={};const{modelRange:i}=this._convertItem(t,this._modelCursor),r=e.createDocumentFragment();if(i){this._removeEmptyElements();const t=this._modelCursor.parent,n=t._removeChildren(0,t.childCount);r._insertChild(0,n),r.markers=function(t,e){const n=new Set,i=new Map,r=Dc._createIn(t).getItems();for(const t of r)t.is("element","$marker")&&n.add(t);for(const t of n){const n=t.getAttribute("data-name"),r=e.createPositionBefore(t);i.has(n)?i.get(n).end=r.clone():i.set(n,new Dc(r.clone())),e.remove(t)}return i}(r,e)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,r}_convertItem(t,e){const n={viewItem:t,modelCursor:e,modelRange:null};if(t.is("element")?this.fire(`element:${t.name}`,n,this.conversionApi):t.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof Dc))throw new E("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(t,e){let n=e.is("position")?e:Ac._createAt(e,0);const i=new Dc(n);for(const e of Array.from(t.getChildren())){const t=this._convertItem(e,n);t.modelRange instanceof Dc&&(i.end=t.modelRange.end,n=t.modelCursor)}return{modelRange:i,modelCursor:n}}_safeInsert(t,e){const n=this._splitToAllowedParent(t,e);return!!n&&(this.conversionApi.writer.insert(t,n.position),!0)}_updateConversionResult(t,e){const n=this._getSplitParts(t),i=this.conversionApi.writer;e.modelRange||(e.modelRange=i.createRange(i.createPositionBefore(t),i.createPositionAfter(n[n.length-1])));const r=this._cursorParents.get(t);e.modelCursor=r?i.createPositionAt(r,0):e.modelRange.end}_splitToAllowedParent(t,e){const{schema:n,writer:i}=this.conversionApi;let r=n.findAllowedParent(e,t);if(r){if(r===e.parent)return{position:e};this._modelCursor.parent.getAncestors().includes(r)&&(r=null)}if(!r)return kl(e,t,n)?{position:xl(e,i)}:null;const o=this.conversionApi.writer.split(e,r),s=[];for(const t of o.range.getWalker())if("elementEnd"==t.type)s.push(t.item);else{const e=s.pop(),n=t.item;this._registerSplitPair(e,n)}const a=o.range.end.parent;return this._cursorParents.set(t,a),{position:o.position,cursorParent:a}}_registerSplitPair(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);const n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}_getSplitParts(t){let e;return e=this._splitParts.has(t)?this._splitParts.get(t):[t],e}_keepEmptyElement(t){this._emptyElementsToKeep.add(t)}_removeEmptyElements(){const t=new Map;for(const e of this._splitParts.keys())if(e.isEmpty&&!this._emptyElementsToKeep.has(e)){const n=t.get(e.parent)||[];n.push(e),this._splitParts.delete(e),t.set(e.parent,n)}for(const[e,n]of t)e._removeChildrenArray(n);t.size&&this._removeEmptyElements()}}class eu{getHtml(t){const n=e.document.implementation.createHTMLDocument("").createElement("div");return n.appendChild(t),n.innerHTML}}class nu{constructor(t){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new _a(t,{renderingMode:"data"}),this.htmlWriter=new eu}toData(t){const e=this.domConverter.viewToDom(t);return this.htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this.domConverter.domToView(e,{skipComments:this.skipComments})}registerRawContentMatcher(t){this.domConverter.registerRawContentMatcher(t)}useFillerType(t){this.domConverter.blockFillerMode="marked"==t?"markedNbsp":"nbsp"}_toDom(t){/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(t.trim().slice(0,1e4))||(t=`<body>${t}</body>`);const e=this.domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),i=e.body.childNodes;for(;i.length>0;)n.appendChild(i[0]);return n}}class iu extends(L()){constructor(t,e){super(),this.model=t,this.mapper=new Nc,this.downcastDispatcher=new Bc({mapper:this.mapper,schema:t.schema}),this.downcastDispatcher.on("insert:$text",((t,e,n)=>{if(!n.consumable.consume(e.item,t.name))return;const i=n.writer,r=n.mapper.toViewPosition(e.range.start),o=i.createText(e.item.data);i.insert(r,o)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((t,e,n)=>{n.convertAttributes(e.item),e.reconversion||!e.item.is("element")||e.item.isEmpty||n.convertChildren(e.item)}),{priority:"lowest"}),this.upcastDispatcher=new tu({schema:t.schema}),this.viewDocument=new Ds(e),this.stylesProcessor=e,this.htmlProcessor=new nu(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Ws(this.viewDocument),this.upcastDispatcher.on("text",((t,e,{schema:n,consumable:i,writer:r})=>{let o=e.modelCursor;if(!i.test(e.viewItem))return;if(!n.checkChild(o,"$text")){if(!kl(o,"$text",n))return;if(0==e.viewItem.data.trim().length)return;o=xl(o,r)}i.consume(e.viewItem);const s=r.createText(e.viewItem.data);r.insert(s,o),e.modelRange=r.createRange(o,o.getShiftedBy(s.offsetSize)),e.modelCursor=e.modelRange.end}),{priority:"lowest"}),this.upcastDispatcher.on("element",((t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:i}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=i}}),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",((t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:i}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=i}}),{priority:"lowest"}),Y().prototype.decorate.call(this,"init"),Y().prototype.decorate.call(this,"set"),Y().prototype.decorate.call(this,"get"),Y().prototype.decorate.call(this,"toView"),Y().prototype.decorate.call(this,"toModel"),this.on("init",(()=>{this.fire("ready")}),{priority:"lowest"}),this.on("ready",(()=>{this.model.enqueueChange({isUndoable:!1},_l)}),{priority:"lowest"})}get(t={}){const{rootName:e="main",trim:n="empty"}=t;if(!this._checkIfRootsExists([e]))throw new E("datacontroller-get-non-existent-root",this);const i=this.model.document.getRoot(e);return i.isAttached()||T("datacontroller-get-detached-root",this),"empty"!==n||this.model.hasContent(i,{ignoreWhitespaces:!0})?this.stringify(i,t):""}stringify(t,e={}){const n=this.toView(t,e);return this.processor.toData(n)}toView(t,e={}){const n=this.viewDocument,i=this._viewWriter;this.mapper.clearBindings();const r=Dc._createIn(t),o=new qs(n);this.mapper.bindElements(t,o);const s=t.is("documentFragment")?t.markers:function(t){const e=[],n=t.root.document;if(!n)return new Map;const i=Dc._createIn(t);for(const t of n.model.markers){const n=t.getRange(),r=n.isCollapsed,o=n.start.isEqual(i.start)||n.end.isEqual(i.end);if(r&&o)e.push([t.name,n]);else{const r=i.getIntersection(n);r&&e.push([t.name,r])}}return e.sort((([t,e],[n,i])=>{if("after"!==e.end.compareWith(i.start))return 1;if("before"!==e.start.compareWith(i.end))return-1;switch(e.start.compareWith(i.start)){case"before":return 1;case"after":return-1;default:switch(e.end.compareWith(i.end)){case"before":return 1;case"after":return-1;default:return n.localeCompare(t)}}})),new Map(e)}(t);return this.downcastDispatcher.convert(r,s,i,e),o}init(t){if(this.model.document.version)throw new E("datacontroller-init-document-not-empty",this);let e={};if("string"==typeof t?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new E("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},(t=>{for(const n of Object.keys(e)){const i=this.model.document.getRoot(n);t.insert(this.parse(e[n],i),i,0)}})),Promise.resolve()}set(t,e={}){let n={};if("string"==typeof t?n.main=t:n=t,!this._checkIfRootsExists(Object.keys(n)))throw new E("datacontroller-set-non-existent-root",this);this.model.enqueueChange(e.batchType||{},(t=>{t.setSelection(null),t.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const e of Object.keys(n)){const i=this.model.document.getRoot(e);t.remove(t.createRangeIn(i)),t.insert(this.parse(n[e],i),i,0)}}))}parse(t,e="$root"){const n=this.processor.toView(t);return this.toModel(n,e)}toModel(t,e="$root"){return this.model.change((n=>this.upcastDispatcher.convert(t,n,e)))}addStyleProcessorRules(t){t(this.stylesProcessor)}registerRawContentMatcher(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const e of t)if(!this.model.document.getRoot(e))return!1;return!0}}class ru{constructor(t,e){this._helpers=new Map,this._downcast=Cr(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Cr(e),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const n=this._downcast.includes(e);if(!this._upcast.includes(e)&&!n)throw new E("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}for(t){if(!this._helpers.has(t))throw new E("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:n}of ou(t))this.for("upcast").elementToElement({model:e,view:n,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:n}of ou(t))this.for("upcast").elementToAttribute({view:n,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:n}of ou(t))this.for("upcast").attributeToAttribute({view:n,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:n}){if(this._helpers.has(t))throw new E("conversion-group-exists",this);const i=n?new ol(e):new El(e);this._helpers.set(t,i)}}function*ou(t){if(t.model.values)for(const e of t.model.values){const n={key:t.model.key,value:e},i=t.view[e],r=t.upcastAlso?t.upcastAlso[e]:void 0;yield*su(n,i,r)}else yield*su(t.model,t.view,t.upcastAlso)}function*su(t,e,n){if(yield{model:t,view:e},n)for(const e of Cr(n))yield{model:t,view:e}}class au{constructor(t){this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t,e){return new this(t.baseVersion)}}function cu(t,e){const n=hu(e),i=n.reduce(((t,e)=>t+e.offsetSize),0),r=t.parent;fu(t);const o=t.index;return r._insertChild(o,n),du(r,o+n.length),du(r,o),new Dc(t,t.getShiftedBy(i))}function lu(t){if(!t.isFlat)throw new E("operation-utils-remove-range-not-flat",this);const e=t.start.parent;fu(t.start),fu(t.end);const n=e._removeChildren(t.start.index,t.end.index-t.start.index);return du(e,t.start.index),n}function uu(t,e){if(!t.isFlat)throw new E("operation-utils-move-range-not-flat",this);const n=lu(t);return cu(e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),n)}function hu(t){const e=[];!function t(n){if("string"==typeof n)e.push(new Zc(n));else if(n instanceof Ec)e.push(new Zc(n.data,n.getAttributes()));else if(n instanceof $c)e.push(n);else if(rt(n))for(const e of n)t(e);else{}}(t);for(let t=1;t<e.length;t++){const n=e[t],i=e[t-1];n instanceof Zc&&i instanceof Zc&&gu(n,i)&&(e.splice(t-1,2,new Zc(i.data+n.data,i.getAttributes())),t--)}return e}function du(t,e){const n=t.getChild(e-1),i=t.getChild(e);if(n&&i&&n.is("$text")&&i.is("$text")&&gu(n,i)){const r=new Zc(n.data+i.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,r)}}function fu(t){const e=t.textNode,n=t.parent;if(e){const i=t.offset-e.startOffset,r=e.index;n._removeChildren(r,1);const o=new Zc(e.data.substr(0,i),e.getAttributes()),s=new Zc(e.data.substr(i),e.getAttributes());n._insertChild(r,[o,s])}}function gu(t,e){const n=t.getAttributes(),i=e.getAttributes();for(const t of n){if(t[1]!==e.getAttribute(t[0]))return!1;i.next()}return i.next().done}class pu extends au{constructor(t,e,n,i){super(i),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}get affectedSelectable(){return[Dc._createFromPositionAndShift(this.sourcePosition,this.howMany),Dc._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new pu(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new pu(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(n+this.howMany>t.maxOffset)throw new E("move-operation-nodes-do-not-exist",this);if(t===e&&n<i&&i<n+this.howMany)throw new E("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==it(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const t=this.sourcePosition.path.length-1;if(this.targetPosition.path[t]>=n&&this.targetPosition.path[t]<n+this.howMany)throw new E("move-operation-node-into-itself",this)}}_execute(){uu(Dc._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,e){const n=Ac.fromJSON(t.sourcePosition,e),i=Ac.fromJSON(t.targetPosition,e);return new this(n,t.howMany,i,t.baseVersion)}}class mu extends au{constructor(t,e,n){super(n),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new nl(hu(e)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const t=new nl([...this.nodes].map((t=>t._clone(!0)))),e=new mu(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}getReversed(){const t=this.position.root.document.graveyard,e=new Ac(t,[0]);return new pu(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new E("insert-operation-position-invalid",this)}_execute(){const t=this.nodes;this.nodes=new nl([...t].map((t=>t._clone(!0)))),cu(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,e){const n=[];for(const e of t.nodes)e.name?n.push(il.fromJSON(e)):n.push(Zc.fromJSON(e));const i=new mu(Ac.fromJSON(t.position,e),n,t.baseVersion);return i.shouldReceiveAttributes=t.shouldReceiveAttributes,i}}class bu extends au{constructor(t,e,n,i,r){super(r),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=e,this.insertionPosition=n,this.graveyardPosition=i?i.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new Ac(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Dc(this.splitPosition,t)}get affectedSelectable(){const t=[Dc._createFromPositionAndShift(this.splitPosition,0),Dc._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&t.push(Dc._createFromPositionAndShift(this.graveyardPosition,0)),t}clone(){return new bu(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.splitPosition.root.document.graveyard,e=new Ac(t,[0]);return new wu(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new E("split-operation-position-invalid",this);if(!t.parent)throw new E("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new E("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new E("split-operation-graveyard-position-invalid",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)uu(Dc._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const e=t._clone();cu(this.insertionPosition,e)}uu(new Dc(Ac._createAt(t,this.splitPosition.offset),Ac._createAt(t,t.maxOffset)),this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);return e[e.length-1]++,new Ac(t.root,e,"toPrevious")}static fromJSON(t,e){const n=Ac.fromJSON(t.splitPosition,e),i=Ac.fromJSON(t.insertionPosition,e),r=t.graveyardPosition?Ac.fromJSON(t.graveyardPosition,e):null;return new this(n,t.howMany,i,r,t.baseVersion)}}class wu extends au{constructor(t,e,n,i,r){super(r),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new Ac(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Dc(this.sourcePosition,t)}get affectedSelectable(){const t=this.sourcePosition.parent;return[Dc._createOn(t),Dc._createFromPositionAndShift(this.targetPosition,0),Dc._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new wu(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new Ac(this.sourcePosition.root,e)._getTransformedByMergeOperation(this);return new bu(t,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new E("merge-operation-source-position-invalid",this);if(!e.parent)throw new E("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new E("merge-operation-how-many-invalid",this)}_execute(){const t=this.sourcePosition.parent;uu(Dc._createIn(t),this.targetPosition),uu(Dc._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,e){const n=Ac.fromJSON(t.sourcePosition,e),i=Ac.fromJSON(t.targetPosition,e),r=Ac.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,i,r,t.baseVersion)}}class yu extends au{constructor(t,e,n,i,r,o){super(o),this.name=t,this.oldRange=e?e.clone():null,this.newRange=n?n.clone():null,this.affectsData=r,this._markers=i}get type(){return"marker"}get affectedSelectable(){const t=[];return this.oldRange&&t.push(this.oldRange.clone()),this.newRange&&(this.oldRange?t.push(...this.newRange.getDifference(this.oldRange)):t.push(this.newRange.clone())),t}clone(){return new yu(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new yu(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new yu(t.name,t.oldRange?Dc.fromJSON(t.oldRange,e):null,t.newRange?Dc.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}const vu=function(t,e){return lc(t,e)};class _u extends au{constructor(t,e,n,i,r){super(r),this.range=t.clone(),this.key=e,this.oldValue=void 0===n?null:n,this.newValue=void 0===i?null:i}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new _u(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new _u(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new E("attribute-operation-range-not-flat",this);for(const t of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!vu(t.getAttribute(this.key),this.oldValue))throw new E("attribute-operation-wrong-old-value",this,{item:t,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&t.hasAttribute(this.key))throw new E("attribute-operation-attribute-exists",this,{node:t,key:this.key})}}_execute(){vu(this.oldValue,this.newValue)||function(t,e,n){fu(t.start),fu(t.end);for(const i of t.getItems({shallow:!0})){const t=i.is("$textProxy")?i.textNode:i;null!==n?t._setAttribute(e,n):t._removeAttribute(e),du(t.parent,t.index)}du(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new _u(Dc.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}class ku extends au{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new ku(this.baseVersion)}getReversed(){return new ku(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class xu extends au{constructor(t,e,n,i){super(i),this.position=t,this.position.stickiness="toNext",this.oldName=e,this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new xu(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new xu(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof il))throw new E("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new E("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new xu(Ac.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}class Eu extends au{constructor(t,e,n,i,r){super(r),this.root=t,this.key=e,this.oldValue=void 0===n?null:n,this.newValue=void 0===i?null:i}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Eu(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Eu(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new E("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new E("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new E("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new E("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new Eu(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class Tu extends au{constructor(t,e,n,i,r){if(super(r),this.rootName=t,this.elementName=e,this.isAdd=n,this._document=i,!this._document.getRoot(this.rootName)){this._document.createRoot(this.elementName,this.rootName)._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Tu(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Tu(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const t=super.toJSON();return delete t._document,t}static get className(){return"RootOperation"}static fromJSON(t,e){return new Tu(t.rootName,t.elementName,t.isAdd,e,t.baseVersion)}}const Cu={};Cu[_u.className]=_u,Cu[mu.className]=mu,Cu[yu.className]=yu,Cu[pu.className]=pu,Cu[ku.className]=ku,Cu[au.className]=au,Cu[xu.className]=xu,Cu[Eu.className]=Eu,Cu[Tu.className]=Tu,Cu[bu.className]=bu,Cu[wu.className]=wu;class Au{static fromJSON(t,e){return Cu[t.__className].fromJSON(t,e)}}const Su=new Map;function Iu(t,e,n){let i=Su.get(t);i||(i=new Map,Su.set(t,i)),i.set(e,n)}function Mu(t){return[t]}function Pu(t,e,n={}){const i=function(t,e){const n=Su.get(t);return n&&n.has(e)?n.get(e):Mu}(t.constructor,e.constructor);try{return i(t=t.clone(),e,n)}catch(t){throw t}}function Ou(t,e,n){t=t.slice(),e=e.slice();const i=new Du(n.document,n.useRelations,n.forceWeakRemove);i.setOriginalOperations(t),i.setOriginalOperations(e);const r=i.originalOperations;if(0==t.length||0==e.length)return{operationsA:t,operationsB:e,originalOperations:r};const o=new WeakMap;for(const e of t)o.set(e,0);const s={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length};let a=0;for(;a<t.length;){const n=t[a],r=o.get(n);if(r==e.length){a++;continue}const s=e[r],c=Pu(n,s,i.getContext(n,s,!0)),l=Pu(s,n,i.getContext(s,n,!1));i.updateRelation(n,s),i.setOriginalOperations(c,n),i.setOriginalOperations(l,s);for(const t of c)o.set(t,r+l.length);t.splice(a,1,...c),e.splice(r,1,...l)}if(Ru(t),Ru(e),n.padWithNoOps){const n=t.length-s.originalOperationsACount,i=e.length-s.originalOperationsBCount;Lu(t,i-n),Lu(e,n-i)}return Nu(t,s.nextBaseVersionB),Nu(e,s.nextBaseVersionA),{operationsA:t,operationsB:e,originalOperations:r}}class Du{constructor(t,e,n=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(t,e=null){const n=e?this.originalOperations.get(e):null;for(const e of t)this.originalOperations.set(e,n||e)}updateRelation(t,e){if(t instanceof pu)e instanceof wu?t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter"):e instanceof pu&&(t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter"));else if(t instanceof bu){if(e instanceof wu)t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");else if(e instanceof pu)if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))this._setRelation(t,e,"splitBefore");else{const n=Dc._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.splitPosition)){const i=n.end.offset-t.splitPosition.offset,r=t.splitPosition.offset-n.start.offset;this._setRelation(t,e,{howMany:i,offset:r})}}}else if(t instanceof wu)e instanceof wu?(t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement")):e instanceof bu?t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource"):e instanceof pu&&e.howMany>0&&(t.sourcePosition.isEqual(e.sourcePosition.getShiftedBy(e.howMany))&&this._setRelation(t,e,"mergeSourceAffected"),t.targetPosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeTargetWasBefore"));else if(t instanceof yu){const n=t.newRange;if(!n)return;if(e instanceof wu){const i=n.start.isEqual(e.targetPosition),r=n.start.isEqual(e.deletionPosition),o=n.end.isEqual(e.deletionPosition),s=n.end.isEqual(e.sourcePosition);(i||r||o||s)&&this._setRelation(t,e,{wasInLeftElement:i,wasStartBeforeMergedElement:r,wasEndBeforeMergedElement:o,wasInRightElement:s})}}}getContext(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const n=this.originalOperations.get(e),i=this._history.getUndoneOperation(n);if(!i)return null;const r=this.originalOperations.get(t),o=this._relations.get(r);return o&&o.get(i)||null}_setRelation(t,e,n){const i=this.originalOperations.get(t),r=this.originalOperations.get(e);let o=this._relations.get(i);o||(o=new Map,this._relations.set(i,o)),o.set(r,n)}}function Nu(t,e){for(const n of t)n.baseVersion=e++}function Lu(t,e){for(let n=0;n<e;n++)t.push(new ku(0))}function Ru(t){const e=new Map;for(let n=0;n<t.length;n++){const i=t[n];i instanceof yu&&(-1!==i.baseVersion?e.set(i.name,{op:i,ranges:i.newRange?[i.newRange]:[]}):(i.newRange&&e.get(i.name).ranges.push(i.newRange),t.splice(n,1),n--))}for(const{op:t,ranges:n}of e.values())n.length?t.newRange=Dc._createFromRanges(n):t.newRange=null}function Bu(t,e,n){const i=t.nodes.getNode(0).getAttribute(e);if(i==n)return null;const r=new Dc(t.position,t.position.getShiftedBy(t.howMany));return new _u(r,e,i,n,0)}function Fu(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function ju(t,e){const n=[];for(let i=0;i<t.length;i++){const r=t[i],o=new pu(r.start,r.end.offset-r.start.offset,e,0);n.push(o);for(let e=i+1;e<t.length;e++)t[e]=t[e]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];e=e._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return n}Iu(_u,_u,((t,e,n)=>{if(t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)){const i=t.range.getDifference(e.range).map((e=>new _u(e,t.key,t.oldValue,t.newValue,0))),r=t.range.getIntersection(e.range);return r&&n.aIsStrong&&i.push(new _u(r,e.key,e.newValue,t.newValue,0)),0==i.length?[new ku(0)]:i}return[t]})),Iu(_u,mu,((t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const n=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map((e=>new _u(e,t.key,t.oldValue,t.newValue,t.baseVersion)));if(e.shouldReceiveAttributes){const i=Bu(e,t.key,t.oldValue);i&&n.unshift(i)}return n}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]})),Iu(_u,wu,((t,e)=>{const n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(Dc._createFromPositionAndShift(e.graveyardPosition,1));const i=t.range._getTransformedByMergeOperation(e);return i.isCollapsed||n.push(i),n.map((e=>new _u(e,t.key,t.oldValue,t.newValue,t.baseVersion)))})),Iu(_u,pu,((t,e)=>function(t,e){const n=Dc._createFromPositionAndShift(e.sourcePosition,e.howMany);let i=null,r=[];n.containsRange(t,!0)?i=t:t.start.hasSameParentAs(n.start)?(r=t.getDifference(n),i=t.getIntersection(n)):r=[t];const o=[];for(let t of r){t=t._getTransformedByDeletion(e.sourcePosition,e.howMany);const n=e.getMovedRangeStart(),i=t.start.hasSameParentAs(n),r=t._getTransformedByInsertion(n,e.howMany,i);o.push(...r)}i&&o.push(i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]);return o}(t.range,e).map((e=>new _u(e,t.key,t.oldValue,t.newValue,t.baseVersion))))),Iu(_u,bu,((t,e)=>{if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){const n=t.clone();return n.range=new Dc(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]})),Iu(mu,_u,((t,e)=>{const n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){const i=Bu(t,e.key,e.newValue);i&&n.push(i)}return n})),Iu(mu,mu,((t,e,n)=>(t.position.isEqual(e.position)&&n.aIsStrong||(t.position=t.position._getTransformedByInsertOperation(e)),[t]))),Iu(mu,pu,((t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t]))),Iu(mu,bu,((t,e)=>(t.position=t.position._getTransformedBySplitOperation(e),[t]))),Iu(mu,wu,((t,e)=>(t.position=t.position._getTransformedByMergeOperation(e),[t]))),Iu(yu,mu,((t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t]))),Iu(yu,yu,((t,e,n)=>{if(t.name==e.name){if(!n.aIsStrong)return[new ku(0)];t.oldRange=e.newRange?e.newRange.clone():null}return[t]})),Iu(yu,wu,((t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t]))),Iu(yu,pu,((t,e)=>{const n=[t];if(t.oldRange&&(t.oldRange=Dc._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){const i=t.newRange._getTransformedByMoveOperation(e);t.newRange=i[0];for(let e=1;e<i.length;e++){const r=t.clone();r.oldRange=null,r.newRange=i[e],r.baseVersion=-1,n.push(r)}}return n})),Iu(yu,bu,((t,e,n)=>{if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){const i=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=Ac._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement?t.newRange.start=Ac._createAt(e.moveTargetPosition):t.newRange.start=i.start,t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?t.newRange.end=Ac._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?t.newRange.end=Ac._createAt(e.insertionPosition):t.newRange.end=i.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]})),Iu(wu,mu,((t,e)=>(t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t]))),Iu(wu,wu,((t,e,n)=>{if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(n.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),t.sourcePosition=new Ac(e.graveyardPosition.root,n),t.howMany=0,[t]}return[new ku(0)]}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){const i="$graveyard"==t.targetPosition.root.rootName,r="$graveyard"==e.targetPosition.root.rootName;if(r&&!i||!(i&&!r)&&n.aIsStrong){const n=e.targetPosition._getTransformedByMergeOperation(e),i=t.targetPosition._getTransformedByMergeOperation(e);return[new pu(n,t.howMany,i,0)]}return[new ku(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&n.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]})),Iu(wu,pu,((t,e,n)=>{const i=Dc._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!n.bWasUndone&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.sourcePosition)?[new ku(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(t.sourcePosition)?t.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(t.sourcePosition)&&"mergeSourceAffected"==n.abRelation?t.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(t.targetPosition)?(t.targetPosition.stickiness="toNone",t.howMany-=e.howMany):e.targetPosition.isEqual(t.targetPosition)&&"mergeTargetWasBefore"==n.abRelation?(t.targetPosition.stickiness="toPrevious",t.howMany+=e.howMany):(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany)),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.sourcePosition.stickiness="toPrevious",t.targetPosition.stickiness="toNext",t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])})),Iu(wu,bu,((t,e,n)=>{if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){if(e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition)||"mergeTargetNotMoved"==n.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if("mergeSameElement"==n.abRelation||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]})),Iu(pu,mu,((t,e)=>{const n=Dc._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=n.start,t.howMany=n.end.offset-n.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]})),Iu(pu,pu,((t,e,n)=>{const i=Dc._createFromPositionAndShift(t.sourcePosition,t.howMany),r=Dc._createFromPositionAndShift(e.sourcePosition,e.howMany);let o,s=n.aIsStrong,a=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?a=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(a=!1),o=t.targetPosition.isEqual(e.targetPosition)&&a?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Fu(t,e)&&Fu(e,t))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(r,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),ju([i],o);if(r.containsPosition(t.targetPosition)&&r.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),ju([i],o);const c=it(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==c||"extension"==c)return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),ju([i],o);"remove"!=t.type||"remove"==e.type||n.aWasUndone||n.forceWeakRemove?"remove"==t.type||"remove"!=e.type||n.bWasUndone||n.forceWeakRemove||(s=!1):s=!0;const l=[],u=i.getDifference(r);for(const t of u){t.start=t.start._getTransformedByDeletion(e.sourcePosition,e.howMany),t.end=t.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const n="same"==it(t.start.getParentPath(),e.getMovedRangeStart().getParentPath()),i=t._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,n);l.push(...i)}const h=i.getIntersection(r);return null!==h&&s&&(h.start=h.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),h.end=h.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===l.length?l.push(h):1==l.length?r.start.isBefore(i.start)||r.start.isEqual(i.start)?l.unshift(h):l.push(h):l.splice(1,0,h)),0===l.length?[new ku(t.baseVersion)]:ju(l,o)})),Iu(pu,bu,((t,e,n)=>{let i=t.targetPosition.clone();t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(i=t.targetPosition._getTransformedBySplitOperation(e));const r=Dc._createFromPositionAndShift(t.sourcePosition,t.howMany);if(r.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=i,[t];if(r.start.hasSameParentAs(e.splitPosition)&&r.containsPosition(e.splitPosition)){let t=new Dc(e.splitPosition,r.end);t=t._getTransformedBySplitOperation(e);return ju([new Dc(r.start,e.splitPosition),t],i)}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==n.abRelation&&(i=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==n.abRelation&&(i=t.targetPosition);const o=[r._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const i=r.start.isEqual(e.graveyardPosition)||r.containsPosition(e.graveyardPosition);t.howMany>1&&i&&!n.aWasUndone&&o.push(Dc._createFromPositionAndShift(e.insertionPosition,1))}return ju(o,i)})),Iu(pu,wu,((t,e,n)=>{const i=Dc._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.sourcePosition))if("remove"!=t.type||n.forceWeakRemove){if(1==t.howMany)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new ku(0)]}else if(!n.aWasUndone){const n=[];let i=e.graveyardPosition.clone(),r=e.targetPosition._getTransformedByMergeOperation(e);const o=t.targetPosition.getTransformedByOperation(e);t.howMany>1&&(n.push(new pu(t.sourcePosition,t.howMany-1,o,0)),i=i._getTransformedByMove(t.sourcePosition,o,t.howMany-1),r=r._getTransformedByMove(t.sourcePosition,o,t.howMany-1));const s=e.deletionPosition._getCombined(t.sourcePosition,o),a=new pu(i,1,s,0),c=a.getMovedRangeStart().path.slice();c.push(0);const l=new Ac(a.targetPosition.root,c);r=r._getTransformedByMove(i,s,1);const u=new pu(r,e.howMany,l,0);return n.push(a),n.push(u),n}const r=Dc._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=r.start,t.howMany=r.end.offset-r.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]})),Iu(xu,mu,((t,e)=>(t.position=t.position._getTransformedByInsertOperation(e),[t]))),Iu(xu,wu,((t,e)=>t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t]))),Iu(xu,pu,((t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t]))),Iu(xu,xu,((t,e,n)=>{if(t.position.isEqual(e.position)){if(!n.aIsStrong)return[new ku(0)];t.oldName=e.newName}return[t]})),Iu(xu,bu,((t,e)=>{if("same"==it(t.position.path,e.splitPosition.getParentPath())&&!e.graveyardPosition){const e=new xu(t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,e]}return t.position=t.position._getTransformedBySplitOperation(e),[t]})),Iu(Eu,Eu,((t,e,n)=>{if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new ku(0)];t.oldValue=e.newValue}return[t]})),Iu(Tu,Tu,((t,e)=>t.rootName===e.rootName&&t.isAdd===e.isAdd?[new ku(0)]:[t])),Iu(bu,mu,((t,e)=>(t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=t.insertionPosition._getTransformedByInsertOperation(e),[t]))),Iu(bu,wu,((t,e,n)=>{if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const i=new Ac(e.graveyardPosition.root,n),r=bu.getInsertionPosition(new Ac(e.graveyardPosition.root,n)),o=new bu(i,0,r,null,0);return t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=bu.getInsertionPosition(t.splitPosition),t.graveyardPosition=o.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[o,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=bu.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]})),Iu(bu,pu,((t,e,n)=>{const i=Dc._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){const r=i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&r){const n=t.splitPosition._getTransformedByMoveOperation(e),i=t.graveyardPosition._getTransformedByMoveOperation(e),r=i.path.slice();r.push(0);const o=new Ac(i.root,r);return[new pu(n,t.howMany,o,0)]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}const r=t.splitPosition.isEqual(e.targetPosition);if(r&&("insertAtSource"==n.baRelation||"splitBefore"==n.abRelation))return t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=bu.getInsertionPosition(t.splitPosition),[t];if(r&&n.abRelation&&n.abRelation.howMany){const{howMany:e,offset:i}=n.abRelation;return t.howMany+=e,t.splitPosition=t.splitPosition.getShiftedBy(i),[t]}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.splitPosition)){const n=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=n,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=bu.getInsertionPosition(t.splitPosition),[t]}return e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=bu.getInsertionPosition(t.splitPosition),[t]})),Iu(bu,bu,((t,e,n)=>{if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new ku(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new ku(0)];if("splitBefore"==n.abRelation)return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){const i="$graveyard"==t.splitPosition.root.rootName,r="$graveyard"==e.splitPosition.root.rootName;if(r&&!i||!(i&&!r)&&n.aIsStrong){const n=[];return e.howMany&&n.push(new pu(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&n.push(new pu(t.splitPosition,t.howMany,t.moveTargetPosition,0)),n}return[new ku(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.baRelation){const n=e.insertionPosition.path.slice();n.push(0);const i=new Ac(e.insertionPosition.root,n);return[t,new pu(t.insertionPosition,1,i,0)]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=bu.getInsertionPosition(t.splitPosition),[t]}));class $u extends(L(Ac)){constructor(t,e,n="toNone"){if(super(t,e,n),!this.root.is("rootElement"))throw new E("model-liveposition-root-not-rootelement",t);Vu.call(this)}detach(){this.stopListening()}toPosition(){return new Ac(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}function Vu(){this.listenTo(this.root.document.model,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&zu.call(this,n)}),{priority:"low"})}function zu(t){const e=this.getTransformedByOperation(t);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}$u.prototype.is=function(t){return"livePosition"===t||"model:livePosition"===t||"position"==t||"model:position"===t};class Hu{constructor(t={}){"string"==typeof t&&(t="transparent"===t?{isUndoable:!1}:{},T("batch-constructor-deprecated-string-type"));const{isUndoable:e=!0,isLocal:n=!0,isUndo:i=!1,isTyping:r=!1}=t;this.operations=[],this.isUndoable=e,this.isLocal=n,this.isUndo=i,this.isTyping=r}get type(){return T("batch-type-deprecated"),"default"}get baseVersion(){for(const t of this.operations)if(null!==t.baseVersion)return t.baseVersion;return null}addOperation(t){return t.isDocumentOperation&&(t.batch=this,this.operations.push(t)),t}}class Uu{constructor(t){this._changesInElement=new Map,this._elementsSnapshots=new Map,this._elementChildrenSnapshots=new Map,this._elementState=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=t}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size&&0==this._changedRoots.size}bufferOperation(t){const e=t;switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const t of e.range.getItems({shallow:!0}))this._isInInsertedElement(t.parent)||this._markAttribute(t);break;case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;const t=this._isInInsertedElement(e.sourcePosition.parent),n=this._isInInsertedElement(e.targetPosition.parent);t||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),n||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);const i=Dc._createFromPositionAndShift(e.sourcePosition,e.howMany);for(const t of i.getItems({shallow:!0}))this._setElementState(t,"move");break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const t=Dc._createFromPositionAndShift(e.position,1);for(const e of this._markerCollection.getMarkersIntersectingRange(t)){const t=e.getData();this.bufferMarkerChange(e.name,t,t)}this._setElementState(e.position.nodeAfter,"rename");break}case"split":{const t=e.splitPosition.parent;if(!this._isInInsertedElement(t)){this._markRemove(t,e.splitPosition.offset,e.howMany);const n=Dc._createFromPositionAndShift(e.splitPosition,e.howMany);for(const t of n.getItems({shallow:!0}))this._setElementState(t,"move")}this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&(this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1),this._setElementState(e.graveyardPosition.nodeAfter,"move"));break}case"merge":{const t=e.sourcePosition.parent;this._isInInsertedElement(t.parent)||this._markRemove(t.parent,t.startOffset,1);const n=e.graveyardPosition.parent;this._markInsert(n,e.graveyardPosition.offset,1),this._setElementState(t,"move");const i=e.targetPosition.parent;if(!this._isInInsertedElement(i)){this._markInsert(i,e.targetPosition.offset,t.maxOffset);const n=Dc._createFromPositionAndShift(e.sourcePosition,e.howMany);for(const t of n.getItems({shallow:!0}))this._setElementState(t,"move")}break}case"detachRoot":case"addRoot":{const t=e.affectedSelectable;if(!t._isLoaded)return;if(t.isAttached()==e.isAdd)return;this._bufferRootStateChange(e.rootName,e.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!e.root._isLoaded)return;const t=e.root.rootName;this._bufferRootAttributeChange(t,e.key,e.oldValue,e.newValue);break}}this._cachedChanges=null}bufferMarkerChange(t,e,n){e.range&&e.range.root.is("rootElement")&&!e.range.root._isLoaded&&(e.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let i=this._changedMarkers.get(t);i?i.newMarkerData=n:(i={newMarkerData:n,oldMarkerData:e},this._changedMarkers.set(t,i)),null==i.oldMarkerData.range&&null==n.range&&this._changedMarkers.delete(t)}getMarkersToRemove(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.oldMarkerData.range&&t.push({name:e,range:n.oldMarkerData.range});return t}getMarkersToAdd(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.newMarkerData.range&&t.push({name:e,range:n.newMarkerData.range});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map((([t,e])=>({name:t,data:{oldRange:e.oldMarkerData.range,newRange:e.newMarkerData.range}})))}hasDataChanges(){if(this.getChanges().length)return!0;if(this._changedRoots.size>0)return!0;for(const{newMarkerData:t,oldMarkerData:e}of this._changedMarkers.values()){if(t.affectsData!==e.affectsData)return!0;if(t.affectsData){const n=t.range&&!e.range,i=!t.range&&e.range,r=t.range&&e.range&&!t.range.isEqual(e.range);if(n||i||r)return!0}}return!1}getChanges(t={}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let e=[];for(const t of this._changesInElement.keys()){const n=this._changesInElement.get(t).sort(((t,e)=>t.offset===e.offset?t.type!=e.type?"remove"==t.type?-1:1:0:t.offset<e.offset?-1:1)),i=this._elementChildrenSnapshots.get(t),r=Gu(t.getChildren()),o=Ku(i.length,n);let s=0,a=0;for(const n of o)if("i"===n){const n=this._getDiffActionForNode(r[s].node,"insert"),i=this._elementsSnapshots.get(r[s].node),o=this._getInsertDiff(t,s,n,r[s],i);e.push(o),s++}else if("r"===n){const n=this._getDiffActionForNode(i[a].node,"remove"),r=this._getRemoveDiff(t,s,n,i[a]);e.push(r),a++}else if("a"===n){const n=i[a].attributes,o=r[s].attributes;let c;if("$text"==r[s].name)c=new Dc(Ac._createAt(t,s),Ac._createAt(t,s+1));else{const e=t.offsetToIndex(s);c=new Dc(Ac._createAt(t,s),Ac._createAt(t.getChild(e),0))}const l=this._getAttributesDiff(c,n,o);e.push(...l),s++,a++}else s++,a++}e.sort(((t,e)=>t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount-e.changeCount:t.position.isBefore(e.position)?-1:1));for(let t=1,n=0;t<e.length;t++){const i=e[n],r=e[t],o="remove"==i.type&&"remove"==r.type&&"$text"==i.name&&"$text"==r.name&&i.position.isEqual(r.position),s="insert"==i.type&&"insert"==r.type&&"$text"==i.name&&"$text"==r.name&&i.position.parent==r.position.parent&&i.position.offset+i.length==r.position.offset,a="attribute"==i.type&&"attribute"==r.type&&i.position.parent==r.position.parent&&i.range.isFlat&&r.range.isFlat&&i.position.offset+i.length==r.position.offset&&i.attributeKey==r.attributeKey&&i.attributeOldValue==r.attributeOldValue&&i.attributeNewValue==r.attributeNewValue;o||s||a?(i.length++,a&&(i.range.end=i.range.end.getShiftedBy(1)),e[t]=null):n=t}e=e.filter((t=>t));for(const t of e)delete t.changeCount,"attribute"==t.type&&(delete t.position,delete t.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e,this._cachedChanges=e.filter(Yu),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map((t=>{const e={...t};return void 0!==e.state&&delete e.attributes,e}))}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize),this._refreshedItems.add(t),this._setElementState(t,"refresh");const e=Dc._createOn(t);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getData();this.bufferMarkerChange(t.name,e,e)}this._cachedChanges=null}_bufferRootLoad(t){if(t.isAttached()){this._bufferRootStateChange(t.rootName,!0),this._markInsert(t,0,t.maxOffset);for(const e of t.getAttributeKeys())this._bufferRootAttributeChange(t.rootName,e,null,t.getAttribute(e));for(const e of this._markerCollection)if(e.getRange().root==t){const t=e.getData();this.bufferMarkerChange(e.name,{...t,range:null},t)}}}_bufferRootStateChange(t,e){if(!this._changedRoots.has(t))return void this._changedRoots.set(t,{name:t,state:e?"attached":"detached"});const n=this._changedRoots.get(t);void 0!==n.state?(delete n.state,void 0===n.attributes&&this._changedRoots.delete(t)):n.state=e?"attached":"detached"}_bufferRootAttributeChange(t,e,n,i){const r=this._changedRoots.get(t)||{name:t},o=r.attributes||{};if(o[e]){const t=o[e];i===t.oldValue?delete o[e]:t.newValue=i}else o[e]={oldValue:n,newValue:i};0===Object.entries(o).length?(delete r.attributes,void 0===r.state&&this._changedRoots.delete(t)):(r.attributes=o,this._changedRoots.set(t,r))}_markInsert(t,e,n){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const i={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i)}_markRemove(t,e,n){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const i={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i),this._removeAllNestedChanges(t,e,n)}_markAttribute(t){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshots(t);const n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(let t=0;t<n.length;t++)n[t].howMany<1&&(n.splice(t,1),t--)}_setElementState(t,e){if(!t.is("element"))return;const n=Uu._statesPriority.indexOf(this._elementState.get(t));Uu._statesPriority.indexOf(e)>n&&this._elementState.set(t,e)}_getDiffActionForNode(t,e){if(!t.is("element"))return e;if(!this._elementsSnapshots.has(t))return e;const n=this._elementState.get(t);return n&&"move"!=n?n:e}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshots(t){if(this._elementChildrenSnapshots.has(t))return;const e=Gu(t.getChildren());this._elementChildrenSnapshots.set(t,e);for(const t of e)this._elementsSnapshots.set(t.node,t)}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const n of e){const i=t.offset+t.howMany,r=n.offset+n.howMany;if("insert"==t.type&&("insert"==n.type&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<r&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==n.type&&t.offset<n.offset&&(n.offset+=t.howMany),"attribute"==n.type))if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<r){const r=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:i,howMany:r-n.howMany,count:this._changeCount++})}if("remove"==t.type){if("insert"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(i<=r)if(t.offset<n.offset){const e=i-n.offset;n.offset=t.offset,n.howMany-=e,t.nodesToHandle-=e}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<r){const e=r-t.offset;n.howMany-=e,t.nodesToHandle-=e}if("remove"==n.type&&(i<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){const e=i-n.offset;n.offset=t.offset,n.howMany-=e}else if(t.offset<r)if(i<=r){const i=n.howMany;n.howMany=t.offset-n.offset;const r=i-n.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:r,count:this._changeCount++})}else n.howMany-=r-t.offset}if("attribute"==t.type){if("insert"==n.type)if(t.offset<n.offset&&i>n.offset){if(i>r){const t={type:"attribute",offset:r,howMany:i-r,count:this._changeCount++};this._handleChange(t,e),e.push(t)}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=n.offset&&t.offset<r&&(i>r?(t.nodesToHandle=i-r,t.offset=r):t.nodesToHandle=0);if("remove"==n.type&&t.offset<n.offset&&i>n.offset){const r={type:"attribute",offset:n.offset,howMany:i-n.offset,count:this._changeCount++};this._handleChange(r,e),e.push(r),t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}"attribute"==n.type&&(t.offset>=n.offset&&i<=r?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&i>=r&&(n.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,n,i,r){const o={type:"insert",position:Ac._createAt(t,e),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++,action:n};return"insert"!=n&&r&&(o.before={name:r.name,attributes:new Map(r.attributes)}),o}_getRemoveDiff(t,e,n,i){return{type:"remove",action:n,position:Ac._createAt(t,e),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,n){const i=[];n=new Map(n);for(const[r,o]of e){const e=n.has(r)?n.get(r):null;e!==o&&i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:r,attributeOldValue:o,attributeNewValue:e,changeCount:this._changeCount++}),n.delete(r)}for(const[e,r]of n)i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:e,attributeOldValue:null,attributeNewValue:r,changeCount:this._changeCount++});return i}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const n=this._changesInElement.get(e),i=t.startOffset;if(n)for(const t of n)if("insert"==t.type&&i>=t.offset&&i<t.offset+t.howMany)return!0;return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,n){const i=new Dc(Ac._createAt(t,e),Ac._createAt(t,e+n));for(const t of i.getItems({shallow:!0}))t.is("element")&&(this._changesInElement.delete(t),this._removeAllNestedChanges(t,0,t.maxOffset))}}Uu._statesPriority=[void 0,"refresh","rename","move"];const qu=Uu;function Wu(t){return{node:t,name:t.is("$text")?"$text":t.name,attributes:new Map(t.getAttributes())}}function Gu(t){const e=[];for(const n of t)if(n.is("$text"))for(let t=0;t<n.data.length;++t)e.push(Wu(n));else e.push(Wu(n));return e}function Ku(t,e){const n=[];let i=0,r=0;for(const t of e){if(t.offset>i){for(let e=0;e<t.offset-i;e++)n.push("e");r+=t.offset-i}if("insert"==t.type){for(let e=0;e<t.howMany;e++)n.push("i");i=t.offset+t.howMany}else if("remove"==t.type){for(let e=0;e<t.howMany;e++)n.push("r");i=t.offset,r+=t.howMany}else{if(t.howMany>1500)for(let e=0;e<t.howMany;e++)n.push("a");else n.push(..."a".repeat(t.howMany).split(""));i=t.offset+t.howMany,r+=t.howMany}}if(r<t)for(let e=0;e<t-r-i;e++)n.push("e");return n}function Yu(t){const e="position"in t&&"$graveyard"==t.position.root.rootName,n="range"in t&&"$graveyard"==t.range.root.rootName;return!e&&!n}class Xu{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(t){this._operations.length&&t>this._version+1&&this._gaps.set(this._version,t),this._version=t}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(t){if(t.baseVersion!==this.version)throw new E("model-document-history-addoperation-incorrect-version",this,{operation:t,historyVersion:this.version});this._operations.push(t),this._version++,this._baseVersionToOperationIndex.set(t.baseVersion,this._operations.length-1)}getOperations(t,e=this.version){if(!this._operations.length)return[];const n=this._operations[0];void 0===t&&(t=n.baseVersion);let i=e-1;for(const[e,n]of this._gaps)t>e&&t<n&&(t=n),i>e&&i<n&&(i=e-1);if(i<n.baseVersion||t>this.lastOperation.baseVersion)return[];let r=this._baseVersionToOperationIndex.get(t);void 0===r&&(r=0);let o=this._baseVersionToOperationIndex.get(i);return void 0===o&&(o=this._operations.length-1),this._operations.slice(r,o+1)}getOperation(t){const e=this._baseVersionToOperationIndex.get(t);if(void 0!==e)return this._operations[e]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Zu extends il{constructor(t,e,n="main"){super(e),this._isAttached=!0,this._isLoaded=!0,this._document=t,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Zu.prototype.is=function(t,e){return e?e===this.name&&("rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t):"rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t||"node"===t||"model:node"===t};const Qu="$graveyard";class Ju extends(L()){constructor(t){super(),this.model=t,this.history=new Xu,this.selection=new Jc(this),this.roots=new Xr({idProperty:"rootName"}),this.differ=new qu(t.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Qu),this.listenTo(t,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&this.differ.bufferOperation(n)}),{priority:"high"}),this.listenTo(t,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&this.history.addOperation(n)}),{priority:"low"}),this.listenTo(this.selection,"change",(()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(t.markers,"update",((t,e,n,i,r)=>{const o={...e.getData(),range:i};this.differ.bufferMarkerChange(e.name,r,o),null===n&&e.on("change",((t,n)=>{const i=e.getData();this.differ.bufferMarkerChange(e.name,{...i,range:n},i)}))})),this.registerPostFixer((t=>{let e=!1;for(const n of this.roots)n.isAttached()||n.isEmpty||(t.remove(t.createRangeIn(n)),e=!0);for(const n of this.model.markers)n.getRange().root.isAttached()||(t.removeMarker(n),e=!0);return e}))}get version(){return this.history.version}set version(t){this.history.version=t}get graveyard(){return this.getRoot(Qu)}createRoot(t="$root",e="main"){if(this.roots.get(e))throw new E("model-document-createroot-name-exists",this,{name:e});const n=new Zu(this,t,e);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(t=!1){return this.getRoots(t).map((t=>t.rootName))}getRoots(t=!1){return this.roots.filter((e=>e!=this.graveyard&&(t||e.isAttached())&&e._isLoaded))}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=Zo(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const t=this.getRoots();return t.length?t[0]:this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model,n=e.schema,i=e.createPositionFromPath(t,[0]);return n.getNearestSelectionRange(i)||e.createRange(i)}_validateSelectionRange(t){return t.start.isValid()&&t.end.isValid()&&th(t.start)&&th(t.end)}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(this.selection.refresh(),e=n(t),e)break}while(e)}}function th(t){const e=t.textNode;if(e){const n=e.data,i=t.offset-e.startOffset;return!ao(n,i)&&!co(n,i)}return!0}class eh extends(L()){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){const e=t instanceof nh?t.name:t;return this._markers.has(e)}get(t){return this._markers.get(t)||null}_set(t,e,n=!1,i=!1){const r=t instanceof nh?t.name:t;if(r.includes(","))throw new E("markercollection-incorrect-marker-name",this);const o=this._markers.get(r);if(o){const t=o.getData(),s=o.getRange();let a=!1;return s.isEqual(e)||(o._attachLiveRange(Kc.fromRange(e)),a=!0),n!=o.managedUsingOperations&&(o._managedUsingOperations=n,a=!0),"boolean"==typeof i&&i!=o.affectsData&&(o._affectsData=i,a=!0),a&&this.fire(`update:${r}`,o,s,e,t),o}const s=Kc.fromRange(e),a=new nh(r,s,n,i);return this._markers.set(r,a),this.fire(`update:${r}`,a,null,e,{...a.getData(),range:null}),a}_remove(t){const e=t instanceof nh?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire(`update:${e}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0)}_refresh(t){const e=t instanceof nh?t.name:t,n=this._markers.get(e);if(!n)throw new E("markercollection-refresh-marker-not-exists",this);const i=n.getRange();this.fire(`update:${e}`,n,i,i,n.getData())}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)null!==e.getRange().getIntersection(t)&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+":")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}class nh extends(L(xc)){constructor(t,e,n,i){super(),this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new E("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new E("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new E("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new E("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new E("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}nh.prototype.is=function(t){return"marker"===t||"model:marker"===t};class ih extends au{constructor(t,e){super(null),this.sourcePosition=t.clone(),this.howMany=e}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new E("detach-operation-on-document-node",this)}_execute(){lu(Dc._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class rh extends xc{constructor(t){super(),this.markers=new Map,this._children=new nl,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(t){return this._children.getNode(t)}getChildAtOffset(t){return this._children.getNodeAtOffset(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const n of t)e=e.getChildAtOffset(n);return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const n of t)n.name?e.push(il.fromJSON(n)):e.push(Zc.fromJSON(n));return new rh(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){if("string"==typeof t)return[new Zc(t)];rt(t)||(t=[t]);return Array.from(t).map((t=>"string"==typeof t?new Zc(t):t instanceof Ec?new Zc(t.data,t.getAttributes()):t))}(e);for(const t of n)null!==t.parent&&t._remove(),t.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const t of n)t.parent=null;return n}_removeChildrenArray(t){this._children._removeNodesArray(t);for(const e of t)e.parent=null}}rh.prototype.is=function(t){return"documentFragment"===t||"model:documentFragment"===t};class oh{constructor(t,e){this.model=t,this.batch=e}createText(t,e){return new Zc(t,e)}createElement(t,e){return new il(t,e)}createDocumentFragment(){return new rh}cloneElement(t,e=!0){return t._clone(e)}insert(t,e,n=0){if(this._assertWriterUsedCorrectly(),t instanceof Zc&&""==t.data)return;const i=Ac._createAt(e,n);if(t.parent){if(uh(t.root,i.root))return void this.move(Dc._createOn(t),i);if(t.root.document)throw new E("model-writer-insert-forbidden-move",this);this.remove(t)}const r=i.root.document?i.root.document.version:null,o=t instanceof rh?t._removeChildren(0,t.childCount):t,s=new mu(i,o,r);if(t instanceof Zc&&(s.shouldReceiveAttributes=!0),this.batch.addOperation(s),this.model.applyOperation(s),t instanceof rh)for(const[e,n]of t.markers){const t=Ac._createAt(n.root,0),r={range:new Dc(n.start._getCombined(t,i),n.end._getCombined(t,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(e)?this.updateMarker(e,r):this.addMarker(e,r)}}insertText(t,e,n,i){e instanceof rh||e instanceof il||e instanceof Ac?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,i)}insertElement(t,e,n,i){e instanceof rh||e instanceof il||e instanceof Ac?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,i)}append(t,e){this.insert(t,e,"end")}appendText(t,e,n){e instanceof rh||e instanceof il?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}appendElement(t,e,n){e instanceof rh||e instanceof il?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}setAttribute(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof Dc){const i=n.getMinimalFlatRanges();for(const n of i)sh(this,t,e,n)}else ah(this,t,e,n)}setAttributes(t,e){for(const[n,i]of io(t))this.setAttribute(n,i,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof Dc){const n=e.getMinimalFlatRanges();for(const e of n)sh(this,t,null,e)}else ah(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=t=>{for(const e of t.getAttributeKeys())this.removeAttribute(e,t)};if(t instanceof Dc)for(const n of t.getItems())e(n);else e(t)}move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof Dc))throw new E("writer-move-invalid-range",this);if(!t.isFlat)throw new E("writer-move-range-not-flat",this);const i=Ac._createAt(e,n);if(i.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!uh(t.root,i.root))throw new E("writer-move-different-document",this);const r=t.root.document?t.root.document.version:null,o=new pu(t.start,t.end.offset-t.start.offset,i,r);this.batch.addOperation(o),this.model.applyOperation(o)}remove(t){this._assertWriterUsedCorrectly();const e=(t instanceof Dc?t:Dc._createOn(t)).getMinimalFlatRanges().reverse();for(const t of e)this._addOperationForAffectedMarkers("move",t),lh(t.start,t.end.offset-t.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof il))throw new E("writer-merge-no-element-before",this);if(!(n instanceof il))throw new E("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,n){return this.model.createPositionFromPath(t,e,n)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(...t){return this.model.createSelection(...t)}_mergeDetached(t){const e=t.nodeBefore,n=t.nodeAfter;this.move(Dc._createIn(n),Ac._createAt(e,"end")),this.remove(n)}_merge(t){const e=Ac._createAt(t.nodeBefore,"end"),n=Ac._createAt(t.nodeAfter,0),i=t.root.document.graveyard,r=new Ac(i,[0]),o=t.root.document.version,s=new wu(n,t.nodeAfter.maxOffset,e,r,o);this.batch.addOperation(s),this.model.applyOperation(s)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof il))throw new E("writer-rename-not-element-instance",this);const n=t.root.document?t.root.document.version:null,i=new xu(Ac._createBefore(t),t.name,e,n);this.batch.addOperation(i),this.model.applyOperation(i)}split(t,e){this._assertWriterUsedCorrectly();let n,i,r=t.parent;if(!r.parent)throw new E("writer-split-element-no-parent",this);if(e||(e=r.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new E("writer-split-invalid-limit-element",this);do{const e=r.root.document?r.root.document.version:null,o=r.maxOffset-t.offset,s=bu.getInsertionPosition(t),a=new bu(t,o,s,null,e);this.batch.addOperation(a),this.model.applyOperation(a),n||i||(n=r,i=t.parent.nextSibling),r=(t=this.createPositionAfter(t.parent)).parent}while(r!==e);return{position:t,range:new Dc(Ac._createAt(n,"end"),Ac._createAt(i,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new E("writer-wrap-range-not-flat",this);const n=e instanceof il?e:new il(e);if(n.childCount>0)throw new E("writer-wrap-element-not-empty",this);if(null!==n.parent)throw new E("writer-wrap-element-attached",this);this.insert(n,t.start);const i=new Dc(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(i,Ac._createAt(n,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new E("writer-unwrap-element-no-parent",this);this.move(Dc._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new E("writer-addmarker-no-usingoperation",this);const n=e.usingOperation,i=e.range,r=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new E("writer-addmarker-marker-exists",this);if(!i)throw new E("writer-addmarker-no-range",this);return n?(ch(this,t,null,i,r),this.model.markers.get(t)):this.model.markers._set(t,i,n,r)}updateMarker(t,e){this._assertWriterUsedCorrectly();const n="string"==typeof t?t:t.name,i=this.model.markers.get(n);if(!i)throw new E("writer-updatemarker-marker-not-exists",this);if(!e)return T("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),void this.model.markers._refresh(i);const r="boolean"==typeof e.usingOperation,o="boolean"==typeof e.affectsData,s=o?e.affectsData:i.affectsData;if(!r&&!e.range&&!o)throw new E("writer-updatemarker-wrong-options",this);const a=i.getRange(),c=e.range?e.range:a;r&&e.usingOperation!==i.managedUsingOperations?e.usingOperation?ch(this,n,null,c,s):(ch(this,n,a,null,s),this.model.markers._set(n,c,void 0,s)):i.managedUsingOperations?ch(this,n,a,c,s):this.model.markers._set(n,c,void 0,s)}removeMarker(t){this._assertWriterUsedCorrectly();const e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new E("writer-removemarker-no-marker",this);const n=this.model.markers.get(e);if(!n.managedUsingOperations)return void this.model.markers._remove(e);ch(this,e,n.getRange(),null,n.affectsData)}addRoot(t,e="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(t);if(n&&n.isAttached())throw new E("writer-addroot-root-exists",this);const i=this.model.document,r=new Tu(t,e,!0,i,i.version);return this.batch.addOperation(r),this.model.applyOperation(r),this.model.document.getRoot(t)}detachRoot(t){this._assertWriterUsedCorrectly();const e="string"==typeof t?this.model.document.getRoot(t):t;if(!e||!e.isAttached())throw new E("writer-detachroot-no-root",this);for(const t of this.model.markers)t.getRange().root===e&&this.removeMarker(t);for(const t of e.getAttributeKeys())this.removeAttribute(t,e);this.remove(this.createRangeIn(e));const n=this.model.document,i=new Tu(e.rootName,e.name,!1,n,n.version);this.batch.addOperation(i),this.model.applyOperation(i)}setSelection(...t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...t)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._setSelectionAttribute(t,e);else for(const[e,n]of io(t))this._setSelectionAttribute(e,n)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const i=Jc._getStoreAttributeKey(t);this.setAttribute(i,e,n.anchor.parent)}n._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const n=Jc._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new E("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,e){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const i=n.getRange();let r=!1;if("move"===t){const t=e;r=t.containsPosition(i.start)||t.start.isEqual(i.start)||t.containsPosition(i.end)||t.end.isEqual(i.end)}else{const t=e,n=t.nodeBefore,o=t.nodeAfter,s=i.start.parent==n&&i.start.isAtEnd,a=i.end.parent==o&&0==i.end.offset,c=i.end.nodeAfter==o,l=i.start.nodeAfter==o;r=s||a||c||l}r&&this.updateMarker(n.name,{range:i})}}}function sh(t,e,n,i){const r=t.model,o=r.document;let s,a,c,l=i.start;for(const t of i.getWalker({shallow:!0}))c=t.item.getAttribute(e),s&&a!=c&&(a!=n&&u(),l=s),s=t.nextPosition,a=c;function u(){const i=new Dc(l,s),c=i.root.document?o.version:null,u=new _u(i,e,a,n,c);t.batch.addOperation(u),r.applyOperation(u)}s instanceof Ac&&s!=l&&a!=n&&u()}function ah(t,e,n,i){const r=t.model,o=r.document,s=i.getAttribute(e);let a,c;if(s!=n){if(i.root===i){const t=i.document?o.version:null;c=new Eu(i,e,s,n,t)}else{a=new Dc(Ac._createBefore(i),t.createPositionAfter(i));const r=a.root.document?o.version:null;c=new _u(a,e,s,n,r)}t.batch.addOperation(c),r.applyOperation(c)}}function ch(t,e,n,i,r){const o=t.model,s=o.document,a=new yu(e,n,i,o.markers,!!r,s.version);t.batch.addOperation(a),o.applyOperation(a)}function lh(t,e,n,i){let r;if(t.root.document){const n=i.document,o=new Ac(n.graveyard,[0]);r=new pu(t,e,o,n.version)}else r=new ih(t,e);n.addOperation(r),i.applyOperation(r)}function uh(t,e){return t===e||t instanceof Zu&&e instanceof Zu}function hh(t,e,n={}){if(e.isCollapsed)return;const i=e.getFirstRange();if("$graveyard"==i.root.rootName)return;const r=t.schema;t.change((t=>{if(!n.doNotResetEntireContent&&function(t,e){const n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;const i=e.getFirstRange();if(i.start.parent==i.end.parent)return!1;return t.checkChild(n,"paragraph")}(r,e))return void function(t,e){const n=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(n)),ph(t,t.createPositionAt(n,0),e)}(t,e);const o={};if(!n.doNotAutoparagraph){const t=e.getSelectedElement();t&&Object.assign(o,r.getAttributesWithProperty(t,"copyOnReplace",!0))}const[s,a]=function(t){const e=t.root.document.model,n=t.start;let i=t.end;if(e.hasContent(t,{ignoreMarkers:!0})){const n=function(t){const e=t.parent,n=e.root.document.model.schema,i=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const t of i){if(n.isLimit(t))return null;if(n.isBlock(t))return t}}(i);if(n&&i.isTouching(e.createPositionAt(n,0))){const n=e.createSelection(t);e.modifySelection(n,{direction:"backward"});const r=n.getLastPosition(),o=e.createRange(r,i);e.hasContent(o,{ignoreMarkers:!0})||(i=r)}}return[$u.fromPosition(n,"toPrevious"),$u.fromPosition(i,"toNext")]}(i);s.isTouching(a)||t.remove(t.createRange(s,a)),n.leaveUnmerged||(!function(t,e,n){const i=t.model;if(!gh(t.model.schema,e,n))return;const[r,o]=function(t,e){const n=t.getAncestors(),i=e.getAncestors();let r=0;for(;n[r]&&n[r]==i[r];)r++;return[n[r],i[r]]}(e,n);if(!r||!o)return;!i.hasContent(r,{ignoreMarkers:!0})&&i.hasContent(o,{ignoreMarkers:!0})?fh(t,e,n,r.parent):dh(t,e,n,r.parent)}(t,s,a),r.removeDisallowedAttributes(s.parent.getChildren(),t)),mh(t,e,s),!n.doNotAutoparagraph&&function(t,e){const n=t.checkChild(e,"$text"),i=t.checkChild(e,"paragraph");return!n&&i}(r,s)&&ph(t,s,e,o),s.detach(),a.detach()}))}function dh(t,e,n,i){const r=e.parent,o=n.parent;if(r!=i&&o!=i){for(e=t.createPositionAfter(r),(n=t.createPositionBefore(o)).isEqual(e)||t.insert(o,e),t.merge(e);n.parent.isEmpty;){const e=n.parent;n=t.createPositionBefore(e),t.remove(e)}gh(t.model.schema,e,n)&&dh(t,e,n,i)}}function fh(t,e,n,i){const r=e.parent,o=n.parent;if(r!=i&&o!=i){for(e=t.createPositionAfter(r),(n=t.createPositionBefore(o)).isEqual(e)||t.insert(r,n);e.parent.isEmpty;){const n=e.parent;e=t.createPositionBefore(n),t.remove(n)}n=t.createPositionBefore(o),function(t,e){const n=e.nodeBefore,i=e.nodeAfter;n.name!=i.name&&t.rename(n,i.name);t.clearAttributes(n),t.setAttributes(Object.fromEntries(i.getAttributes()),n),t.merge(e)}(t,n),gh(t.model.schema,e,n)&&fh(t,e,n,i)}}function gh(t,e,n){const i=e.parent,r=n.parent;return i!=r&&(!t.isLimit(i)&&!t.isLimit(r)&&function(t,e,n){const i=new Dc(t,e);for(const t of i.getWalker())if(n.isLimit(t.item))return!1;return!0}(e,n,t))}function ph(t,e,n,i={}){const r=t.createElement("paragraph");t.model.schema.setAllowedAttributes(r,i,t),t.insert(r,e),mh(t,n,t.createPositionAt(r,0))}function mh(t,e,n){e instanceof Jc?t.setSelection(n):e.setTo(n)}function bh(t,e){const n=[];Array.from(t.getItems({direction:"backward"})).map((t=>e.createRangeOn(t))).filter((e=>(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end)))).forEach((t=>{n.push(t.start.parent),e.remove(t)})),n.forEach((t=>{let n=t;for(;n.parent&&n.isEmpty;){const t=e.createRangeOn(n);n=n.parent,e.remove(t)}}))}class wh{constructor(t,e,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=e.createDocumentFragment(),this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0)}handleNodes(t){for(const e of Array.from(t))this._handleNode(e);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const e=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(t);if(n.isAfter(e)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new E("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Dc._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Dc(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){this._checkAndSplitToAllowedPosition(t)?(this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t):this.schema.isObject(t)||this._handleDisallowedNode(t)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=$u.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleDisallowedNode(t){t.is("element")&&this.handleNodes(t.getChildren())}_appendToFragment(t){if(!this.schema.checkChild(this.position,t))throw new E("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=t:this._nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=$u.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=$u.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof il))return;if(!this._canMergeLeft(t))return;const e=$u._createBefore(t);e.stickiness="toNext";const n=$u.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=$u._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=$u._createAt(e.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof il))return;if(!this._canMergeRight(t))return;const e=$u._createAfter(t);if(e.stickiness="toNext",!this.position.isEqual(e))throw new E("insertcontent-invalid-insertion-position",this);this.position=Ac._createAt(e.nodeBefore,"end");const n=$u.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=$u._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=$u._createAt(e.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_canMergeLeft(t){const e=t.previousSibling;return e instanceof il&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}_canMergeRight(t){const e=t.nextSibling;return e instanceof il&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}_insertAutoParagraph(){this._insertPartialFragment();const t=this.writer.createElement("paragraph");this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0)}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){const t=this.position.parent;this.position=this.writer.createPositionBefore(t),t.isEmpty&&t.parent===e&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const t=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=t,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,t)||this._insertAutoParagraph(),!0}_getAllowedIn(t,e){return this.schema.checkChild(t,e)||this.schema.checkChild(t,"paragraph")&&this.schema.checkChild("paragraph",e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}function yh(t,e,n,i={}){if(!t.schema.isObject(e))throw new E("insertobject-element-not-an-object",t,{object:e});const r=n||t.document.selection;let o=r;i.findOptimalPosition&&t.schema.isBlock(e)&&(o=t.createSelection(t.schema.findOptimalInsertionRange(r,i.findOptimalPosition)));const s=Zr(r.getSelectedBlocks()),a={};return s&&Object.assign(a,t.schema.getAttributesWithProperty(s,"copyOnReplace",!0)),t.change((n=>{o.isCollapsed||t.deleteContent(o,{doNotAutoparagraph:!0});let r=e;const s=o.anchor.parent;!t.schema.checkChild(s,e)&&t.schema.checkChild(s,"paragraph")&&t.schema.checkChild("paragraph",e)&&(r=n.createElement("paragraph"),n.insert(e,r)),t.schema.setAllowedAttributes(r,a,n);const c=t.insertContent(r,o);return c.isCollapsed||i.setSelection&&function(t,e,n,i){const r=t.model;if("on"==n)return void t.setSelection(e,"on");if("after"!=n)throw new E("insertobject-invalid-place-parameter-value",r);let o=e.nextSibling;if(r.schema.isInline(e))return void t.setSelection(e,"after");const s=o&&r.schema.checkChild(o,"$text");!s&&r.schema.checkChild(e.parent,"paragraph")&&(o=t.createElement("paragraph"),r.schema.setAllowedAttributes(o,i,t),r.insertContent(o,t.createPositionAfter(e)));o&&t.setSelection(o,0)}(n,e,i.setSelection,a),c}))}function vh(t,e){const{isForward:n,walker:i,unit:r,schema:o,treatEmojiAsSingleUnit:s}=t,{type:a,item:c,nextPosition:l}=e;if("text"==a)return"word"===t.unit?function(t,e){let n=t.position.textNode;n||(n=e?t.position.nodeAfter:t.position.nodeBefore);for(;n&&n.is("$text");){const i=t.position.offset-n.startOffset;if(xh(n,i,e))n=e?t.position.nodeAfter:t.position.nodeBefore;else{if(kh(n.data,i,e))break;t.next()}}return t.position}(i,n):function(t,e,n){const i=t.position.textNode;if(i){const r=i.data;let o=t.position.offset-i.startOffset;for(;ao(r,o)||"character"==e&&co(r,o)||n&&uo(r,o);)t.next(),o=t.position.offset-i.startOffset}return t.position}(i,r,s);if(a==(n?"elementStart":"elementEnd")){if(o.isSelectable(c))return Ac._createAt(c,n?"after":"before");if(o.checkChild(l,"$text"))return l}else{if(o.isLimit(c))return void i.skip((()=>!0));if(o.checkChild(l,"$text"))return l}}function _h(t,e){const n=t.root,i=Ac._createAt(n,e?"end":0);return e?new Dc(t,i):new Dc(i,t)}function kh(t,e,n){const i=e+(n?0:-1);return' ,.?!:;"-()'.includes(t.charAt(i))}function xh(t,e,n){return e===(n?t.offsetSize:0)}class Eh extends(Y()){constructor(){super(),this.markers=new eh,this.document=new Ju(this),this.schema=new jl,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((t=>this.decorate(t))),this.on("applyOperation",((t,e)=>{e[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((()=>!0),"$marker"),Pl(this),this.document.registerPostFixer(_l),this.on("insertContent",((t,[e,n])=>{t.return=function(t,e,n){return t.change((i=>{const r=n||t.document.selection;r.isCollapsed||t.deleteContent(r,{doNotAutoparagraph:!0});const o=new wh(t,i,r.anchor),s=[];let a;if(e.is("documentFragment")){if(e.markers.size){const t=[];for(const[n,i]of e.markers){const{start:e,end:r}=i,o=e.isEqual(r);t.push({position:e,name:n,isCollapsed:o},{position:r,name:n,isCollapsed:o})}t.sort((({position:t},{position:e})=>t.isBefore(e)?1:-1));for(const{position:n,name:r,isCollapsed:o}of t){let t=null,a=null;const c=n.parent===e&&n.isAtStart,l=n.parent===e&&n.isAtEnd;c||l?o&&(a=c?"start":"end"):(t=i.createElement("$marker"),i.insert(t,n)),s.push({name:r,element:t,collapsed:a})}}a=e.getChildren()}else a=[e];o.handleNodes(a);let c=o.getSelectionRange();if(e.is("documentFragment")&&s.length){const t=c?Kc.fromRange(c):null,e={};for(let t=s.length-1;t>=0;t--){const{name:n,element:r,collapsed:a}=s[t],c=!e[n];if(c&&(e[n]=[]),r){const t=i.createPositionAt(r,"before");e[n].push(t),i.remove(r)}else{const t=o.getAffectedRange();if(!t){a&&e[n].push(o.position);continue}a?e[n].push(t[a]):e[n].push(c?t.start:t.end)}}for(const[t,[n,r]]of Object.entries(e))n&&r&&n.root===r.root&&n.root.document&&!i.model.markers.has(t)&&i.addMarker(t,{usingOperation:!0,affectsData:!0,range:new Dc(n,r)});t&&(c=t.toRange(),t.detach())}c&&(r instanceof Jc?i.setSelection(c):r.setTo(c));const l=o.getAffectedRange()||t.createRange(r.anchor);return o.destroy(),l}))}(this,e,n)})),this.on("insertObject",((t,[e,n,i])=>{t.return=yh(this,e,n,i)})),this.on("canEditAt",(t=>{const e=!this.document.isReadOnly;t.return=e,e||t.stop()}))}change(t){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Hu,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(t){E.rethrowUnexpectedError(t,this)}}enqueueChange(t,e){try{t?"function"==typeof t?(e=t,t=new Hu):t instanceof Hu||(t=new Hu(t)):t=new Hu,this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(t){E.rethrowUnexpectedError(t,this)}}applyOperation(t){t._execute()}insertContent(t,e,n,...i){const r=Th(e,n);return this.fire("insertContent",[t,r,n,...i])}insertObject(t,e,n,i,...r){const o=Th(e,n);return this.fire("insertObject",[t,o,i,i,...r])}deleteContent(t,e){hh(this,t,e)}modifySelection(t,e){!function(t,e,n={}){const i=t.schema,r="backward"!=n.direction,o=n.unit?n.unit:"character",s=!!n.treatEmojiAsSingleUnit,a=e.focus,c=new Tc({boundaries:_h(a,r),singleCharacters:!0,direction:r?"forward":"backward"}),l={walker:c,schema:i,isForward:r,unit:o,treatEmojiAsSingleUnit:s};let u;for(;u=c.next();){if(u.done)return;const n=vh(l,u.value);if(n)return void(e instanceof Jc?t.change((t=>{t.setSelectionFocus(n)})):e.setFocus(n))}}(this,t,e)}getSelectedContent(t){return function(t,e){return t.change((t=>{const n=t.createDocumentFragment(),i=e.getFirstRange();if(!i||i.isCollapsed)return n;const r=i.start.root,o=i.start.getCommonPath(i.end),s=r.getNodeByPath(o);let a;a=i.start.parent==i.end.parent?i:t.createRange(t.createPositionAt(s,i.start.path[o.length]),t.createPositionAt(s,i.end.path[o.length]+1));const c=a.end.offset-a.start.offset;for(const e of a.getItems({shallow:!0}))e.is("$textProxy")?t.appendText(e.data,e.getAttributes(),n):t.append(t.cloneElement(e,!0),n);if(a!=i){const e=i._getTransformedByMove(a.start,t.createPositionAt(n,0),c)[0],r=t.createRange(t.createPositionAt(n,0),e.start);bh(t.createRange(e.end,t.createPositionAt(n,"end")),t),bh(r,t)}return n}))}(this,t)}hasContent(t,e={}){const n=t instanceof Dc?t:Dc._createIn(t);if(n.isCollapsed)return!1;const{ignoreWhitespaces:i=!1,ignoreMarkers:r=!1}=e;if(!r)for(const t of this.markers.getMarkersIntersectingRange(n))if(t.affectsData)return!0;for(const t of n.getItems())if(this.schema.isContent(t)){if(!t.is("$textProxy"))return!0;if(!i)return!0;if(-1!==t.data.search(/\S/))return!0}return!1}canEditAt(t){const e=Th(t);return this.fire("canEditAt",[e])}createPositionFromPath(t,e,n){return new Ac(t,e,n)}createPositionAt(t,e){return Ac._createAt(t,e)}createPositionAfter(t){return Ac._createAfter(t)}createPositionBefore(t){return Ac._createBefore(t)}createRange(t,e){return new Dc(t,e)}createRangeIn(t){return Dc._createIn(t)}createRangeOn(t){return Dc._createOn(t)}createSelection(...t){return new Vc(...t)}createBatch(t){return new Hu(t)}createOperationFromJSON(t){return Au.fromJSON(t,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const e=this._pendingChanges[0].batch;this._currentWriter=new oh(this,e);const n=this._pendingChanges[0].callback(this._currentWriter);t.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return t}}function Th(t,e){if(t)return t instanceof Vc||t instanceof Jc?t:t instanceof $c?e||0===e?new Vc(t,e):t.is("rootElement")?new Vc(t,"in"):new Vc(t,"on"):new Vc(t)}class Ch extends Sa{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}class Ah extends Sa{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(t){this.fire(t.type,t)}}class Sh extends Sa{constructor(){super(...arguments),this.domEventType=["touchstart","touchend","touchmove"]}onDomEvent(t){this.fire(t.type,t)}}class Ih{constructor(t){this.document=t}createDocumentFragment(t){return new qs(this.document,t)}createElement(t,e,n){return new fs(this.document,t,e,n)}createText(t){return new Jo(this.document,t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,n){return n._insertChild(t,e)}removeChildren(t,e,n){return n._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const n=t.parent;if(n){const i=n.getChildIndex(t);return this.removeChildren(i,1,n),this.insertChild(i,e,n),!0}return!1}unwrapElement(t){const e=t.parent;if(e){const n=e.getChildIndex(t);this.remove(t),this.insertChild(n,t.getChildren(),e)}}rename(t,e){const n=new fs(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){It(t)&&void 0===n?e._setStyle(t):n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return _s._createAt(t,e)}createPositionAfter(t){return _s._createAfter(t)}createPositionBefore(t){return _s._createBefore(t)}createRange(t,e){return new ks(t,e)}createRangeOn(t){return ks._createOn(t)}createRangeIn(t){return ks._createIn(t)}createSelection(...t){return new Es(...t)}}new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);class Mh{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit="number"==typeof t.crashNumberLimit?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod="number"==typeof t.minimumNonErrorTimePeriod?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const e="error"in t?t.error:t.reason;e instanceof Error&&this._handleError(e,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter((t=>t!==e))}_fire(t,...e){const n=this._listeners[t]||[];for(const t of n)t.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e instanceof ErrorEvent?e.filename:void 0,lineno:e instanceof ErrorEvent?e.lineno:void 0,colno:e instanceof ErrorEvent?e.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&void 0!==t.context&&null!==t.context&&"ready"===this.state&&this._isErrorComingFromThisItem(t)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;return(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Ph(t,e=new Set){const n=[t],i=new Set;let r=0;for(;n.length>r;){const t=n[r++];if(!i.has(t)&&Oh(t)&&!e.has(t))if(i.add(t),Symbol.iterator in t)try{for(const e of t)n.push(e)}catch(t){}else for(const e in t)"defaultValue"!==e&&n.push(t[e])}return i}function Oh(t){const e=Object.prototype.toString.call(t),n=typeof t;return!("number"===n||"boolean"===n||"string"===n||"symbol"===n||"function"===n||"[object Date]"===e||"[object RegExp]"===e||"[object Module]"===e||null==t||t._watchdogExcluded||t instanceof EventTarget||t instanceof Event)}function Dh(t,e,n=new Set){if(t===e&&("object"==typeof(i=t)&&null!==i))return!0;var i;const r=Ph(t,n),o=Ph(e,n);for(const t of r)if(o.has(t))return!0;return!1}const Nh=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return z(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),za(t,e,{leading:i,maxWait:e,trailing:r})};class Lh extends Mh{constructor(t,e={}){super(e),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=Nh(this._save.bind(this),"number"==typeof e.saveInterval?e.saveInterval:5e3),t&&(this._creator=(e,n)=>t.create(e,n)),this._destructor=t=>t.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then((()=>(this.state="initializing",this._fire("stateChange"),this._destroy()))).catch((t=>{console.error("An error happened during the editor destroying.",t)})).then((()=>{const t={},e=[],n=this._config.rootsAttributes||{},i={};for(const[r,o]of Object.entries(this._data.roots))o.isLoaded?(t[r]="",i[r]=n[r]||{}):e.push(r);const r={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:e,rootsAttributes:i,_watchdogInitialData:this._data};return delete r.initialData,r.extraPlugins.push(Rh),this._initUsingData?this.create(t,r,r.context):Ai(this._elementOrData)?this.create(this._elementOrData,r,r.context):this.create(this._editables,r,r.context)})).then((()=>{this._fire("restart")}))}create(t=this._elementOrData,e=this._config,n){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then((()=>(super._startErrorHandling(),this._elementOrData=t,this._initUsingData="string"==typeof t||Object.keys(t).length>0&&"string"==typeof Object.values(t)[0],this._config=this._cloneEditorConfiguration(e)||{},this._config.context=n,this._creator(t,this._config)))).then((t=>{this._editor=t,t.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=t.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})).finally((()=>{this._lifecyclePromise=null})),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then((()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))).finally((()=>{this._lifecyclePromise=null})),this._lifecyclePromise}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling(),this._throttledSave.cancel();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)}))}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=t}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t=this._editor,e=t.model.document.roots.filter((t=>t.isAttached()&&"$graveyard"!=t.rootName)),{plugins:n}=t,i=n.has("CommentsRepository")&&n.get("CommentsRepository"),r=n.has("TrackChanges")&&n.get("TrackChanges"),o={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};e.forEach((t=>{o.roots[t.rootName]={content:JSON.stringify(Array.from(t.getChildren())),attributes:JSON.stringify(Array.from(t.getAttributes())),isLoaded:t._isLoaded}}));for(const e of t.model.markers)e._affectsData&&(o.markers[e.name]={rangeJSON:e.getRange().toJSON(),usingOperation:e._managedUsingOperations,affectsData:e._affectsData});return i&&(o.commentThreads=JSON.stringify(i.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),r&&(o.suggestions=JSON.stringify(r.getSuggestions({toJSON:!0,skipNotAttached:!0}))),o}_getEditables(){const t={};for(const e of this.editor.model.document.getRootNames()){const n=this.editor.ui.getEditableElement(e);n&&(t[e]=n)}return t}_isErrorComingFromThisItem(t){return Dh(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return Ci(t,((t,e)=>Ai(t)||"context"===e?t:void 0))}}class Rh{constructor(t){this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",(t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},(t=>{this._restoreCollaborationData(),this._restoreEditorData(t)})),this.editor.data.fire("ready")}),{priority:999})}_createNode(t,e){if("name"in e){const n=t.createElement(e.name,e.attributes);if(e.children)for(const i of e.children)n._appendChild(this._createNode(t,i));return n}return t.createText(e.data,e.attributes)}_restoreEditorData(t){const e=this.editor;Object.entries(this._data.roots).forEach((([n,{content:i,attributes:r}])=>{const o=JSON.parse(i),s=JSON.parse(r),a=e.model.document.getRoot(n);for(const[e,n]of s)t.setAttribute(e,n,a);for(const e of o){const n=this._createNode(t,e);t.insert(n,a,"end")}})),Object.entries(this._data.markers).forEach((([n,i])=>{const{document:r}=e.model,{rangeJSON:{start:o,end:s},...a}=i,c=r.getRoot(o.root),l=t.createPositionFromPath(c,o.path,o.stickiness),u=t.createPositionFromPath(c,s.path,s.stickiness),h=t.createRange(l,u);t.addMarker(n,{range:h,...a})}))}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),e=JSON.parse(this._data.suggestions);t.forEach((t=>{const e=this.editor.config.get("collaboration.channelId"),n=this.editor.plugins.get("CommentsRepository");if(n.hasCommentThread(t.threadId)){n.getCommentThread(t.threadId).remove()}n.addCommentThread({channelId:e,...t})})),e.forEach((t=>{const e=this.editor.plugins.get("TrackChangesEditing");if(e.hasSuggestion(t.id)){e.getSuggestion(t.id).attributes=t.attributes}else e.addSuggestionData(t)}))}}const Bh=Symbol("MainQueueId");class Fh{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,e){const n=t===Bh;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const i=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(Bh),this._queues.get(t)])).then(e),r=i.catch((()=>{}));return this._queues.set(t,r),i.finally((()=>{this._activeActions--,this._queues.get(t)===r&&0===this._activeActions&&this._onEmptyCallbacks.forEach((t=>t()))}))}}function jh(t){return Array.isArray(t)?t:[t]}class $h{constructor(){this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const n=this.get(t);if(!n)throw new E("commandcollection-command-not-found",this,{commandName:t});return n.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class Vh extends no{constructor(t){super(),this.editor=t}set(t,e,n={}){if("string"==typeof e){const t=e;e=(e,n)=>{this.editor.execute(t),n()}}super.set(t,e,n)}}const zh="contentEditing",Hh="common";class Uh{constructor(t){this.keystrokeInfos=new Map,this._editor=t;const e=t.config.get("menuBar.isVisible"),n=t.locale.t;this.addKeystrokeInfoCategory({id:zh,label:n("Content editing keystrokes"),description:n("These keyboard shortcuts allow for quick access to content editing features.")});const i=[{label:n("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:n("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:n("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:n("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:n("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:n("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];e&&i.push({label:n("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:n("User interface and content navigation keystrokes"),description:n("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:i}]})}addKeystrokeInfoCategory({id:t,label:e,description:n,groups:i}){this.keystrokeInfos.set(t,{id:t,label:e,description:n,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:t,id:Hh}),i&&i.forEach((e=>{this.addKeystrokeInfoGroup({categoryId:t,...e})}))}addKeystrokeInfoGroup({categoryId:t=zh,id:e,label:n,keystrokes:i}){const r=this.keystrokeInfos.get(t);if(!r)throw new E("accessibility-unknown-keystroke-info-category",this._editor,{groupId:e,categoryId:t});r.groups.set(e,{id:e,label:n,keystrokes:i||[]})}addKeystrokeInfos({categoryId:t=zh,groupId:e=Hh,keystrokes:n}){if(!this.keystrokeInfos.has(t))throw new E("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:t,keystrokes:n});const i=this.keystrokeInfos.get(t);if(!i.groups.has(e))throw new E("accessibility-unknown-keystroke-info-group",this._editor,{groupId:e,categoryId:t,keystrokes:n});i.groups.get(e).keystrokes.push(...n)}}function qh(t){return Object.getPrototypeOf(t).constructor.editorName}function Wh(t){if(!t)return;const e=Array.isArray(t)?{items:t}:t,n=function t(e){return e.flatMap((e=>"string"==typeof e?[e]:t(e.items)))}(e.items||[]);return{isMultiline:n.includes("-"),shouldNotGroupWhenFull:!!e.shouldNotGroupWhenFull,items:(i=n,i.filter((t=>"|"!==t&&"-"!==t)))};var i}function Gh(){let t="unknown",e="unknown";return o.isMac?t="mac":o.isWindows?t="windows":o.isiOS?t="ios":o.isAndroid&&(t="android"),o.isGecko?e="gecko":o.isBlink?e="blink":o.isSafari&&(e="safari"),{os:t,browser:e}}function Kh(){return localStorage.getItem("__ckeditor-session-id")||localStorage.setItem("__ckeditor-session-id",_()),localStorage.getItem("__ckeditor-session-id")}function Yh(){return e.window.CKEDITOR_PAGE_SESSION_ID=e.window.CKEDITOR_PAGE_SESSION_ID||_(),e.window.CKEDITOR_PAGE_SESSION_ID}class Xh extends(Y()){static get editorName(){return"Editor"}constructor(t={}){if(super(),"sanitizeHtml"in t)throw new E("editor-config-sanitizehtml-not-supported");const e=this.constructor,{translations:n,...i}=e.defaultConfig||{},{translations:r=n,...o}=t,s=t.language||i.language;this._context=t.context||new yo({language:s,translations:r}),this._context._addEditor(this,!t.context);const a=Array.from(e.builtinPlugins||[]);this.config=new Si(o,i),this.config.define("plugins",a),this.config.define(this._context._getEditorConfig()),function(t){let e=t.get("licenseKey");!e&&window.CKEDITOR_GLOBAL_LICENSE_KEY&&(e=window.CKEDITOR_GLOBAL_LICENSE_KEY,t.set("licenseKey",e));if(!e)throw new E("license-key-missing")}(this.config),this.plugins=new wo(this,a,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new $h,this.set("state","initializing"),this.once("ready",(()=>this.state="ready"),{priority:"high"}),this.once("destroy",(()=>this.state="destroyed"),{priority:"high"}),this.model=new Eh,this.on("change:isReadOnly",(()=>{this.model.document.isReadOnly=this.isReadOnly}));const c=new us;this.data=new iu(this.model,c),this.editing=new Ll(this.model,c),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new ru([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Vh(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new Uh(this),function(t){const e=t.config.get("licenseKey"),n=window[Symbol.for("cke distribution")]||"sh";function i(e){t.enableReadOnlyMode(Symbol("invalidLicense")),t._showLicenseError(e)}if("GPL"==e)return void("cloud"==n&&i("distributionChannel"));const r=function(t){const e=t.split(".");return 3!=e.length?null:e[1]}(e);if(!r)return void i("invalid");const o=so(r);if(!o)return void i("invalid");if(!function(t){return["exp","jti","vc"].every((e=>e in t))}(o))return void i("invalid");if(o.distributionChannel&&!Cr(o.distributionChannel).includes(n))return void i("distributionChannel");if(function(t){const e=Array.isArray(t)?t:[t],n=function(){const t=[];for(let e=0;e<256;e++){let n=e;for(let t=0;t<8;t++)1&n?n=3988292384^n>>>1:n>>>=1;t[e]=n}return t}();let i=-1;const r=e.map((t=>Array.isArray(t)?t.join(""):String(t))).join("");for(let t=0;t<r.length;t++)i=i>>>8^n[255&(i^r.charCodeAt(t))];return i=~i>>>0,i.toString(16).padStart(8,"0")}(function(t){return Object.getOwnPropertyNames(t).sort().filter((e=>"vc"!=e&&null!=t[e])).map((e=>t[e]))}(o))!=o.vc.toLowerCase())return void i("invalid");if(new Date(1e3*o.exp)<M)return void i("expired");const s=o.licensedHosts;if(s&&s.length>0&&!function(t){const{hostname:e}=new URL(window.location.href);if(t.includes(e))return!0;const n=e.split(".");return t.filter((t=>t.includes("*"))).map((t=>t.split("."))).filter((t=>t.length<=n.length)).map((t=>Array(n.length-t.length).fill("*"===t[0]?"*":"").concat(t))).some((t=>n.every(((e,n)=>t[n]===e||"*"===t[n]))))}(s))return void i("domainLimit");if(["evaluation","trial"].includes(o.licenseType)&&1e3*o.exp<Date.now())return void i("expired");if(["development","evaluation","trial"].includes(o.licenseType)){const{licenseType:t}=o,e=t[0].toUpperCase()+t.slice(1);console.info(`%cCKEditor 5 ${e} License`,"color: #ffffff; background: #743CCD; font-size: 14px; padding: 4px 8px; border-radius: 4px;"),console.warn(`⚠️ You are using a ${t} license of CKEditor 5`+("trial"===t?" which is for evaluation purposes only":"")+". For production usage, please obtain a production license at https://portal.ckeditor.com/")}if(["evaluation","trial"].includes(o.licenseType)){const e=o.licenseType,n=setTimeout((()=>{i(`${e}Limit`)}),6e5);t.on("destroy",(()=>{clearTimeout(n)}))}o.usageEndpoint&&t.once("ready",(()=>{const n={requestId:_(),requestTime:Math.round(Date.now()/1e3),license:e,editor:Qh(t)};t._sendUsageRequest(o.usageEndpoint,n).then((t=>{const{status:e,message:n}=t;n&&console.warn(n),"ok"!=e&&i("usageLimit")}),(()=>{C("license-key-validation-endpoint-not-reachable",{url:o.usageEndpoint})}))}),{priority:"high"})}(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(t){throw new E("editor-isreadonly-has-no-setter")}enableReadOnlyMode(t){if("string"!=typeof t&&"symbol"!=typeof t)throw new E("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)||(this._readOnlyLocks.add(t),1===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(t){if("string"!=typeof t&&"symbol"!=typeof t)throw new E("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)&&(this._readOnlyLocks.delete(t),0===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(t){this.data.set(t)}getData(t){return this.data.get(t)}initPlugins(){const t=this.config,e=t.get("plugins"),n=t.get("removePlugins")||[],i=t.get("extraPlugins")||[],r=t.get("substitutePlugins")||[];return this.plugins.init(e.concat(i),n,r)}destroy(){let t=Promise.resolve();return"initializing"==this.state&&(t=new Promise((t=>this.once("ready",t)))),t.then((()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()})).then((()=>this.plugins.destroy())).then((()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})).then((()=>this._context._removeEditor(this)))}execute(t,...e){try{return this.commands.execute(t,...e)}catch(t){E.rethrowUnexpectedError(t,this)}}focus(){this.editing.view.focus()}static create(...t){throw new Error("This is an abstract method.")}_showLicenseError(t,e){setTimeout((()=>{if("invalid"==t)throw new E("invalid-license-key");if("expired"==t)throw new E("license-key-expired");if("domainLimit"==t)throw new E("license-key-domain-limit");if("featureNotAllowed"==t)throw new E("license-key-plugin-not-allowed",null,{pluginName:e});if("evaluationLimit"==t)throw new E("license-key-evaluation-limit");if("trialLimit"==t)throw new E("license-key-trial-limit");if("developmentLimit"==t)throw new E("license-key-development-limit");if("usageLimit"==t)throw new E("license-key-usage-limit");if("distributionChannel"==t)throw new E("license-key-invalid-distribution-channel")}),0),this._showLicenseError=()=>{}}async _sendUsageRequest(t,e){const n=new Headers({"Content-Type":"application/json"}),i=await fetch(new URL(t),{method:"POST",headers:n,body:JSON.stringify(e)});if(!i.ok)throw new Error(`HTTP Response: ${i.status}`);return i.json()}}Xh.Context=yo,Xh.EditorWatchdog=Lh,Xh.ContextWatchdog=class extends Mh{constructor(t,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Fh,this._watchdogConfig=e,this._creator=e=>t.create(e),this._destructor=t=>t.destroy(),this._actionQueues.onEmpty((()=>{"initializing"===this.state&&(this.state="ready",this._fire("stateChange"))}))}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}get context(){return this._context}create(t={}){return this._actionQueues.enqueue(Bh,(()=>(this._contextConfig=t,this._create())))}getItem(t){return this._getWatchdog(t)._item}getItemState(t){return this._getWatchdog(t).state}add(t){const e=jh(t);return Promise.all(e.map((t=>this._actionQueues.enqueue(t.id,(()=>{if("destroyed"===this.state)throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let e;if(this._watchdogs.has(t.id))throw new Error(`Item with the given id is already added: '${t.id}'.`);if("editor"===t.type)return e=new Lh(null,this._watchdogConfig),e.setCreator(t.creator),e._setExcludedProperties(this._contextProps),t.destructor&&e.setDestructor(t.destructor),this._watchdogs.set(t.id,e),e.on("error",((n,{error:i,causesRestart:r})=>{this._fire("itemError",{itemId:t.id,error:i}),r&&this._actionQueues.enqueue(t.id,(()=>new Promise((n=>{const i=()=>{e.off("restart",i),this._fire("itemRestart",{itemId:t.id}),n()};e.on("restart",i)}))))})),e.create(t.sourceElementOrData,t.config,this._context);throw new Error(`Not supported item type: '${t.type}'.`)})))))}remove(t){const e=jh(t);return Promise.all(e.map((t=>this._actionQueues.enqueue(t,(()=>{const e=this._getWatchdog(t);return this._watchdogs.delete(t),e.destroy()})))))}destroy(){return this._actionQueues.enqueue(Bh,(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())))}_restart(){return this._actionQueues.enqueue(Bh,(()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch((t=>{console.error("An error happened during destroying the context or items.",t)})).then((()=>this._create())).then((()=>this._fire("restart"))))))}_create(){return Promise.resolve().then((()=>(this._startErrorHandling(),this._creator(this._contextConfig)))).then((t=>(this._context=t,this._contextProps=Ph(this._context),Promise.all(Array.from(this._watchdogs.values()).map((t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))))}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling();const t=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map((t=>t.destroy()))).then((()=>this._destructor(t)))}))}_getWatchdog(t){const e=this._watchdogs.get(t);if(!e)throw new Error(`Item with the given id was not registered: ${t}.`);return e}_isErrorComingFromThisItem(t){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(t))return!1;return Dh(this._context,t.context)}};const Zh=Xh;function Qh(t){const e=function(t){return{sessionId:Kh(),pageSessionId:Yh(),hostname:window.location.hostname,version:globalThis.CKEDITOR_VERSION,type:qh(t),plugins:(e=t.plugins,Array.from(e).filter((([t])=>!!t.pluginName)).map((([t])=>{const{pluginName:e,isContextPlugin:n,isOfficialPlugin:i,isPremiumPlugin:r}=t;return{isContext:!!n,isOfficial:!!i,isPremium:!!r,name:e}}))),distribution:{channel:window[Symbol.for("cke distribution")]||"sh"},env:Gh(),integration:Object.create(null),menuBar:{isVisible:!!t.config.get("menuBar.isVisible")},language:{ui:t.locale.uiLanguage,content:t.locale.contentLanguage},toolbar:{main:Wh(t.config.get("toolbar")),block:Wh(t.config.get("blockToolbar")),balloon:Wh(t.config.get("balloonToolbar"))}};var e}(t);return t.fire("collectUsageData",{setUsageData:function(t,n){if(void 0!==Fo(e,t))throw new E("editor-usage-data-path-already-set",{path:t});$o(e,t,n)}}),e}function Jh(t){return class extends t{updateSourceElement(t){if(!this.sourceElement)throw new E("editor-missing-sourceelement",this);const e=this.config.get("updateSourceElementOnDestroy"),n=this.sourceElement instanceof HTMLTextAreaElement;if(!e&&!n)return void Zi(this.sourceElement,"");const i="string"==typeof t?t:this.data.get();Zi(this.sourceElement,i)}}}Jh.updateSourceElement=Jh(Object).prototype.updateSourceElement;class td extends vo{static get pluginName(){return"PendingActions"}static get isOfficialPlugin(){return!0}init(){this.set("hasAny",!1),this._actions=new Xr({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if("string"!=typeof t)throw new E("pendingactions-add-invalid-message",this);const e=new(Y());return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const ed={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',colorPalette:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeCustom:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',objectSizeSmall:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',objectSizeMedium:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',todoList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',codeBlock:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',horizontalLine:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',html:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>',remove:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.2 7h9.2c.6 0 1 .4 1 1v9.9c0 .5-.4 1-1 1H5.2a1 1 0 0 1-1-1V8c0-.6.4-1 1-1Zm1 1.5c-.3 0-.5.2-.5.5v8c0 .3.2.5.5.5h.5c.2 0 .5-.2.5-.5V9c0-.3-.3-.5-.5-.5h-.5Zm3.2 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.5Zm3.5 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.5Zm-1.4-7.1H8.3L6.5 3.6H3.8c-.5 0-.7.3-.7.8s.2.7.7.7h12c.6 0 .9-.2.9-.7 0-.5-.3-.8-1-.8h-2.4l-1.8-2.2Z"/></svg>',bookmark:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M5.68 3.417a.238.238 0 0 0-.24.236v12.66l3.793-3.102a1.215 1.215 0 0 1 1.534 0l3.793 3.103V3.654a.238.238 0 0 0-.24-.237H5.68ZM4 3.653C4 2.74 4.752 2 5.68 2h8.64c.928 0 1.68.74 1.68 1.653v13.164c0 1-1.185 1.547-1.967.908L10 14.426l-4.033 3.299c-.782.64-1.967.092-1.967-.908V3.653Z"/></svg>',bookmarkInline:'<svg viewBox="0 0 14 16" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M2 14.436V2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v12.436a.5.5 0 0 1-.819.385l-3.862-3.2a.5.5 0 0 0-.638 0l-3.862 3.2A.5.5 0 0 1 2 14.436Z"/></svg>'};class nd extends Xr{constructor(t=[]){super(t,{idProperty:"viewUid"}),this.on("add",((t,e,n)=>{this._renderViewIntoCollectionParent(e,n)})),this.on("remove",((t,e)=>{e.element&&this._parentElement&&e.element.remove()})),this._parentElement=null}destroy(){this.map((t=>t.destroy()))}setParent(t){this._parentElement=t;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...t){if(!t.length||!t.every((t=>"string"==typeof t)))throw new E("ui-viewcollection-delegate-wrong-events",this);return{to:e=>{for(const n of this)for(const i of t)n.delegate(i).to(e);this.on("add",((n,i)=>{for(const n of t)i.delegate(n).to(e)})),this.on("remove",((n,i)=>{for(const n of t)i.stopDelegating(n,e)}))}}}_renderViewIntoCollectionParent(t,e){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[e])}remove(t){return super.remove(t)}}class id extends(L()){constructor(t){super(),Object.assign(this,fd(dd(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,intoFragment:!1,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new E("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(e){if(e.children)for(const n of e.children)yd(n)?yield n:vd(n)&&(yield*t(n))}(this)}static bind(t,e){return{to:(n,i)=>new od({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:i}),if:(n,i,r)=>new sd({observable:t,emitter:e,attribute:n,valueIfTrue:i,callback:r})}}static extend(t,e){if(t._isRendered)throw new E("template-extend-render",[this,t]);bd(t,fd(dd(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text,e)throw new E("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),ad(this.text)?this._bindToObservable({schema:this.text,updater:ld(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){if(!this.attributes)return;const e=t.node,n=t.revertData;for(const i in this.attributes){const r=e.getAttribute(i),o=this.attributes[i];n&&(n.attributes[i]=r);const s=kd(o)?o[0].ns:null;if(ad(o)){const a=kd(o)?o[0].value:o;n&&xd(i)&&a.unshift(r),this._bindToObservable({schema:a,updater:ud(e,i,s),data:t})}else if("style"==i&&"string"!=typeof o[0])this._renderStyleAttribute(o[0],t);else{n&&r&&xd(i)&&o.unshift(r);const t=o.map((t=>t&&t.value||t)).reduce(((t,e)=>t.concat(e)),[]).reduce(pd,"");wd(t)||e.setAttributeNS(s,i,t)}}}_renderStyleAttribute(t,e){const n=e.node;for(const i in t){const r=t[i];ad(r)?this._bindToObservable({schema:[r],updater:hd(n,i),data:e}):n.style[i]=r}}_renderElementChildren(t){const e=t.node,n=t.intoFragment?document.createDocumentFragment():e,i=t.isApplying;let r=0;for(const o of this.children)if(_d(o)){if(!i){o.setParent(e);for(const t of o)n.appendChild(t.element)}}else if(yd(o))i||(o.isRendered||o.render(),n.appendChild(o.element));else if(Pi(o))n.appendChild(o);else if(i){const e={children:[],bindings:[],attributes:{}};t.revertData.children.push(e),o._renderNode({intoFragment:!1,node:n.childNodes[r++],isApplying:!0,revertData:e})}else n.appendChild(o.render());t.intoFragment&&e.appendChild(n)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const n=this.eventListeners[e].map((n=>{const[i,r]=e.split("@");return n.activateDomEventListener(i,r,t)}));t.revertData&&t.revertData.bindings.push(n)}}_bindToObservable({schema:t,updater:e,data:n}){const i=n.revertData;cd(t,e,n);const r=t.filter((t=>!wd(t))).filter((t=>t.observable)).map((i=>i.activateAttributeListener(t,e,n)));i&&i.bindings.push(r)}_revertTemplateFromNode(t,e){for(const t of e.bindings)for(const e of t)e();if(e.text)return void(t.textContent=e.text);const n=t;for(const t in e.attributes){const i=e.attributes[t];null===i?n.removeAttribute(t):n.setAttribute(t,i)}for(let t=0;t<e.children.length;++t)this._revertTemplateFromNode(n.childNodes[t],e.children[t])}}class rd{constructor(t){this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const i=()=>cd(t,e,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,i),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,i)}}}class od extends rd{constructor(t){super(t),this.eventNameOrFunction=t.eventNameOrFunction}activateDomEventListener(t,e,n){const i=(t,n)=>{e&&!n.target.matches(e)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,t,i),()=>{this.emitter.stopListening(n.node,t,i)}}}class sd extends rd{constructor(t){super(t),this.valueIfTrue=t.valueIfTrue}getValue(t){return!wd(super.getValue(t))&&(this.valueIfTrue||!0)}}function ad(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(ad):t instanceof rd)}function cd(t,e,{node:n}){const i=function(t,e){return t.map((t=>t instanceof rd?t.getValue(e):t))}(t,n);let r;r=1==t.length&&t[0]instanceof sd?i[0]:i.reduce(pd,""),wd(r)?e.remove():e.set(r)}function ld(t){return{set(e){t.textContent=e},remove(){t.textContent=""}}}function ud(t,e,n){return{set(i){t.setAttributeNS(n,e,i)},remove(){t.removeAttributeNS(n,e)}}}function hd(t,e){return{set(n){t.style[e]=n},remove(){t.style[e]=null}}}function dd(t){return Ci(t,(t=>{if(t&&(t instanceof rd||vd(t)||yd(t)||_d(t)))return t}))}function fd(t){if("string"==typeof t?t=function(t){return{text:[t]}}(t):t.text&&function(t){t.text=Cr(t.text)}(t),t.on&&(t.eventListeners=function(t){for(const e in t)gd(t,e);return t}(t.on),delete t.on),!t.text){t.attributes&&function(t){for(const e in t)t[e].value&&(t[e].value=Cr(t[e].value)),gd(t,e)}(t.attributes);const e=[];if(t.children)if(_d(t.children))e.push(t.children);else for(const n of t.children)vd(n)||yd(n)||Pi(n)?e.push(n):e.push(new id(n));t.children=e}return t}function gd(t,e){t[e]=Cr(t[e])}function pd(t,e){return wd(e)?t:wd(t)?e:`${t} ${e}`}function md(t,e){for(const n in e)t[n]?t[n].push(...e[n]):t[n]=e[n]}function bd(t,e){if(e.attributes&&(t.attributes||(t.attributes={}),md(t.attributes,e.attributes)),e.eventListeners&&(t.eventListeners||(t.eventListeners={}),md(t.eventListeners,e.eventListeners)),e.text&&t.text.push(...e.text),e.children&&e.children.length){if(t.children.length!=e.children.length)throw new E("ui-template-extend-children-mismatch",t);let n=0;for(const i of e.children)bd(t.children[n++],i)}}function wd(t){return!t&&0!==t}function yd(t){return t instanceof Ed}function vd(t){return t instanceof id}function _d(t){return t instanceof nd}function kd(t){return z(t[0])&&t[0].ns}function xd(t){return"class"==t||"style"==t}class Ed extends(Ni(Y())){constructor(t){super(),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Xr,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",((e,n)=>{n.locale=t,n.t=t&&t.t})),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=id.bind(this,this)}createCollection(t){const e=new nd(t);return this._viewCollections.add(e),e}registerChild(t){rt(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){rt(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new id(t)}extendTemplate(t){id.extend(this.template,t)}render(){if(this.isRendered)throw new E("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map((t=>t.destroy())),this.template&&this.template._revertData&&this.template.revert(this.element)}}function Td({emitter:t,activator:e,callback:n,contextElements:i,listenerOptions:r}){t.listenTo(document,"mousedown",((t,r)=>{if(!e())return;const o="function"==typeof r.composedPath?r.composedPath():[],s="function"==typeof i?i():i;for(const t of s)if(t.contains(r.target)||o.includes(t))return;n()}),r)}function Cd(t){return class extends t{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...t){super(...t),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function Ad({view:t}){t.listenTo(t.element,"submit",((e,n)=>{n.preventDefault(),t.fire("submit")}),{useCapture:!0})}function Sd({keystrokeHandler:t,focusTracker:e,gridItems:n,numberOfColumns:i,uiLanguageDirection:r}){const o="number"==typeof i?()=>i:i;function s(t){return i=>{const r=n.find((t=>t.element===e.focusedElement)),o=n.getIndex(r),s=t(o,n);n.get(s).focus(),i.stopPropagation(),i.preventDefault()}}function a(t,e){return t===e-1?0:t+1}function c(t,e){return 0===t?e-1:t-1}t.set("arrowright",s(((t,e)=>"rtl"===r?c(t,e.length):a(t,e.length)))),t.set("arrowleft",s(((t,e)=>"rtl"===r?a(t,e.length):c(t,e.length)))),t.set("arrowup",s(((t,e)=>{let n=t-o();return n<0&&(n=t+o()*Math.floor(e.length/o()),n>e.length-1&&(n-=o())),n}))),t.set("arrowdown",s(((t,e)=>{let n=t+o();return n>e.length-1&&(n=t%o()),n})))}class Id extends Ed{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",t.if("isVisible","ck-hidden",(t=>!t)),"ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox:t.to("viewBox"),"aria-hidden":!0}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(()=>{this._updateXMLContent(),this._colorFillPaths()})),this.on("change:fillColor",(()=>{this._colorFillPaths()}))}_updateXMLContent(){if(this.content){const t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=t.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:e,value:n}of Array.from(t.attributes))Id.presentationalAttributeNames.includes(e)&&this.element.setAttribute(e,n);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((t=>{t.style.fill=this.fillColor}))}}Id.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];const Md=Id;class Pd extends Ed{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const t=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:t.to("style"),id:t.to("id")},children:[{text:t.to("text")}]})}}class Od extends Ed{constructor(t,e=new Pd){super(t),this._focusDelayed=null;const n=this.bindTemplate,i=_();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${i}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(e),this.iconView=new Md,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const r={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",(t=>!t)),n.if("isVisible","ck-hidden",(t=>!t)),n.to("isOn",(t=>t?"ck-on":"ck-off")),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",(t=>t||"button")),tabindex:n.to("tabindex"),"aria-checked":n.to("_ariaChecked"),"aria-pressed":n.to("_ariaPressed"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,(t=>!t)),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to((t=>{this.isEnabled?this.fire("execute"):t.preventDefault()}))}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",((t,e,n)=>!(!e||Dd(n))&&String(!!t))),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",((t,e,n)=>!(!e||!Dd(n))&&String(!!t))),o.isSafari&&(this._focusDelayed||(this._focusDelayed=oo((()=>this.focus()),0)),r.on.mousedown=n.to((()=>{this._focusDelayed()})),r.on.mouseup=n.to((()=>{this._focusDelayed.cancel()}))),this.setTemplate(r)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(t){return t.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),t}_createKeystrokeView(){const t=new Ed;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(t=>xr(t)))}]}),t}_getTooltipString(t,e,n){return t?"string"==typeof t?t:(n&&(n=xr(n)),t instanceof Function?t(e,n):`${e}${n?` (${n})`:""}`):""}}function Dd(t){switch(t){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}class Nd extends Ed{constructor(t,e={}){super(t);const n=this.bindTemplate;this.set("label",e.label||""),this.set("class",e.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",n.to("class")]},children:this.children}),e.icon&&(this.iconView=new Md,this.iconView.content=e.icon,this.children.add(this.iconView));const i=new Ed(t);i.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:n.to("label")}]}),this.children.add(i)}}class Ld extends(L()){constructor(t){if(super(),this.focusables=t.focusables,this.focusTracker=t.focusTracker,this.keystrokeHandler=t.keystrokeHandler,this.actions=t.actions,t.actions&&t.keystrokeHandler)for(const e in t.actions){let n=t.actions[e];"string"==typeof n&&(n=[n]);for(const i of n)t.keystrokeHandler.set(i,((t,n)=>{this[e](),n()}),t.keystrokeHandlerOptions)}this.on("forwardCycle",(()=>this.focusFirst()),{priority:"low"}),this.on("backwardCycle",(()=>this.focusLast()),{priority:"low"})}get first(){return this.focusables.find(Rd)||null}get last(){return this.focusables.filter(Rd).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find(((e,n)=>{const i=e.element===this.focusTracker.focusedElement;return i&&(t=n),i})),t)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const t=this.next;t&&this.focusables.getIndex(t)===this.current||t===this.first?this.fire("forwardCycle"):this._focus(t,1)}focusPrevious(){const t=this.previous;t&&this.focusables.getIndex(t)===this.current||t===this.last?this.fire("backwardCycle"):this._focus(t,-1)}chain(t){const e=()=>null===this.current?null:this.focusables.get(this.current);this.listenTo(t,"forwardCycle",(t=>{const n=e();this.focusNext(),n!==e()&&t.stop()}),{priority:"low"}),this.listenTo(t,"backwardCycle",(t=>{const n=e();this.focusPrevious(),n!==e()&&t.stop()}),{priority:"low"})}unchain(t){this.stopListening(t)}_focus(t,e){t&&this.focusTracker.focusedElement!==t.element&&t.focus(e)}_getDomFocusableItem(t){const e=this.focusables.length;if(!e)return null;const n=this.current;if(null===n)return this[1===t?"first":"last"];let i=this.focusables.get(n),r=(n+e+t)%e;do{const n=this.focusables.get(r);if(Rd(n)){i=n;break}r=(r+e+t)%e}while(r!==n);return i}}function Rd(t){return Bd(t)&&nr(t.element)}function Bd(t){return!(!("focus"in t)||"function"!=typeof t.focus)}function Fd(t){return class extends t{constructor(...t){super(...t),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",(()=>{this._attachListeners()})),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(e.document,"mouseup",this._onDragEndBound),this.listenTo(e.document,"touchend",this._onDragEndBound),this.listenTo(e.document,"mousemove",this._onDragBound),this.listenTo(e.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(e.document,"mouseup",this._onDragEndBound),this.stopListening(e.document,"touchend",this._onDragEndBound),this.stopListening(e.document,"mousemove",this._onDragBound),this.stopListening(e.document,"touchmove",this._onDragBound)}_onDragStart(t,e){if(!this._isHandleElementPressed(e))return;this._attachDragListeners();let n=0,i=0;e instanceof MouseEvent?(n=e.clientX,i=e.clientY):(n=e.touches[0].clientX,i=e.touches[0].clientY),this._lastDraggingCoordinates={x:n,y:i},this.isDragging=!0}_onDrag(t,e){if(!this.isDragging)return void this._detachDragListeners();let n=0,i=0;e instanceof MouseEvent?(n=e.clientX,i=e.clientY):(n=e.touches[0].clientX,i=e.touches[0].clientY),e.preventDefault(),this.fire("drag",{deltaX:Math.round(n-this._lastDraggingCoordinates.x),deltaY:Math.round(i-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:n,y:i}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(t){return!!this.dragHandleElement&&(this.dragHandleElement===t.target||t.target instanceof HTMLElement&&this.dragHandleElement.contains(t.target))}}}class jd extends Ed{constructor(t){super(t),this.children=this.createCollection(),this.keystrokes=new no,this._focusTracker=new Qr,this._focusables=new nd,this.focusCycler=new Ld({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(t){for(const e of t){const t=new Od(this.locale);let n;for(n in t.on("execute",(()=>e.onExecute())),e.onCreate&&e.onCreate(t),e)"onExecute"!=n&&"onCreate"!=n&&t.set(n,e[n]);this.children.add(t)}this._updateFocusCyclableItems()}focus(t){-1===t?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach((t=>{this._focusables.add(t),this._focusTracker.add(t.element)}))}}class $d extends Ed{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}const Vd="screen-center",zd="editor-center",Hd="editor-top-side",Ud="editor-top-center",qd="editor-bottom-center",Wd="editor-above-center",Gd="editor-below-center",Kd=Qi("px");class Yd extends(Fd(Ed)){constructor(t,{getCurrentDomRoot:e,getViewportOffset:n}){super(t),this.wasMoved=!1;const i=this.bindTemplate,r=t.t;this.set("className",""),this.set("ariaLabel",r("Editor dialog")),this.set("isModal",!1),this.set("position",Vd),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=e,this._getViewportOffset=n,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new no,this.focusTracker=new Qr,this._focusables=new nd,this._focusCycler=new Ld({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",i.if("isModal","ck-dialog-overlay__transparent",(t=>!t)),i.if("_isVisible","ck-hidden",(t=>!t))],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",i.if("isModal","ck-dialog_modal"),i.to("className")],role:"dialog","aria-label":i.to("ariaLabel"),style:{top:i.to("_top",(t=>Kd(t))),left:i.to("_left",(t=>Kd(t))),visibility:i.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",((t,e)=>{t.defaultPrevented||(this.fire("close",{source:"escKeyPress"}),e())})),this.on("drag",((t,{deltaX:e,deltaY:n})=>{this.wasMoved=!0,this.moveBy(e,n)})),this.listenTo(e.window,"resize",(()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()})),this.listenTo(e.document,"scroll",(()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()})),this.on("change:_isVisible",((t,e,n)=>{n&&(this._isTransparent=!0,setTimeout((()=>{this.updatePosition(),this._isTransparent=!1,this.focus()}),10))})),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView&&!this.isModal?this.headerView.element:null}setupParts({icon:t,title:e,hasCloseButton:n=!0,content:i,actionButtons:r}){e&&(this.headerView=new Nd(this.locale,{icon:t}),n&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=e,this.ariaLabel=e,this.parts.add(this.headerView,0)),i&&(i instanceof Ed&&(i=[i]),this.contentView=new $d(this.locale),this.contentView.children.addMany(i),this.parts.add(this.contentView)),r&&(this.actionsView=new jd(this.locale),this.actionsView.setButtons(r),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(t,e){const n=this._getViewportRect(),i=this._getDialogRect();t+i.width>n.right&&(t=n.right-i.width),t<n.left&&(t=n.left),e<n.top&&(e=n.top),this._moveTo(t,e)}_moveTo(t,e){this._left=t,this._top=e}moveBy(t,e){this.moveTo(this._left+t,this._top+e)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const t=this._getViewportRect();let e,n=this.position;this._getCurrentDomRoot()?e=this._getVisibleDomRootRect(t):n=Vd;const i=Yd.defaultOffset,r=this._getDialogRect();switch(n){case Hd:if(e){const t="ltr"===this.locale.contentLanguageDirection?e.right-r.width-i:e.left+i;this.moveTo(t,e.top+i)}else this._moveOffScreen();break;case zd:e?this.moveTo(Math.round(e.left+e.width/2-r.width/2),Math.round(e.top+e.height/2-r.height/2)):this._moveOffScreen();break;case Vd:this.moveTo(Math.round((t.width-r.width)/2),Math.round((t.height-r.height)/2));break;case Ud:e?this.moveTo(Math.round(e.left+e.width/2-r.width/2),e.top+i):this._moveOffScreen();break;case qd:e?this.moveTo(Math.round(e.left+e.width/2-r.width/2),e.bottom-r.height-i):this._moveOffScreen();break;case Wd:e?this.moveTo(Math.round(e.left+e.width/2-r.width/2),e.top-r.height-i):this._moveOffScreen();break;case Gd:e?this.moveTo(Math.round(e.left+e.width/2-r.width/2),e.bottom+i):this._moveOffScreen()}}_getVisibleDomRootRect(t){let e=new Ui(this._getCurrentDomRoot()).getVisible();return e?(e=t.getIntersection(e),e||null):null}_getDialogRect(){return new Ui(this.element.firstElementChild)}_getViewportRect(){const t=new Ui(e.window);if(this.isModal)return t;const n={top:0,bottom:0,left:0,right:0,...this._getViewportOffset()};return t.top+=n.top,t.height-=n.top,t.bottom-=n.bottom,t.height-=n.bottom,t.left+=n.left,t.right-=n.right,t.width-=n.left+n.right,t}_updateFocusCyclableItems(){const t=[];if(this.contentView)for(const e of this.contentView.children)Bd(e)&&t.push(e);this.actionsView&&t.push(this.actionsView),this.closeButtonView&&t.push(this.closeButtonView),t.forEach((t=>{var e;this._focusables.add(t),this.focusTracker.add(t.element),Bd(e=t)&&"focusCycler"in e&&e.focusCycler instanceof Ld&&this._focusCycler.chain(t.focusCycler)}))}_createCloseButton(){const t=new Od(this.locale),e=this.locale.t;return t.set({label:e("Close"),tooltip:!0,icon:ed.cancel}),t.on("execute",(()=>this.fire("close",{source:"closeButton"}))),t}}Yd.defaultOffset=15;const Xd=Yd;class Zd extends fo{static get pluginName(){return"Dialog"}static get isOfficialPlugin(){return!0}constructor(t){super(t);const e=t.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),t.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:e("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}destroy(){super.destroy(),Zd._visibleDialogPlugin===this&&this._unlockBodyScroll()}_initShowHideListeners(){this.on("show",((t,e)=>{this._show(e)})),this.on("show",((t,e)=>{e.onShow&&e.onShow(this)}),{priority:"low"}),this.on("hide",(()=>{Zd._visibleDialogPlugin&&Zd._visibleDialogPlugin._hide()})),this.on("hide",(()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)}),{priority:"low"})}_initFocusToggler(){const t=this.editor;t.keystrokes.set("Ctrl+F6",((e,n)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?t.editing.view.focus():this.view.focus(),n())}))}_initMultiRootIntegration(){const t=this.editor.model;t.document.on("change:data",(()=>{if(!this.view)return;const e=t.document.differ.getChangedRoots();for(const t of e)t.state&&this.view.updatePosition()}))}show(t){this.hide(),this.fire(`show:${t.id}`,t)}_show({id:t,icon:e,title:n,hasCloseButton:i=!0,content:r,actionButtons:o,className:s,isModal:a,position:c,onHide:l}){const u=this.editor;this.view=new Xd(u.locale,{getCurrentDomRoot:()=>u.editing.view.getDomRoot(u.model.document.selection.anchor.root.rootName),getViewportOffset:()=>u.ui.viewportOffset});const h=this.view;h.on("close",(()=>{this.hide()})),u.ui.view.body.add(h),u.keystrokes.listenTo(h.element),c||(c=a?Vd:zd),a&&this._lockBodyScroll(),h.set({position:c,_isVisible:!0,className:s,isModal:a}),h.setupParts({icon:e,title:n,hasCloseButton:i,content:r,actionButtons:o}),this.id=t,l&&(this._onHide=l),this.isOpen=!0,Zd._visibleDialogPlugin=this}hide(){Zd._visibleDialogPlugin&&Zd._visibleDialogPlugin.fire(`hide:${Zd._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const t=this.editor,e=this.view;e.isModal&&this._unlockBodyScroll(),e.contentView&&e.contentView.reset(),t.ui.view.body.remove(e),t.ui.focusTracker.remove(e.element),t.keystrokes.stopListening(e.element),e.destroy(),t.editing.view.focus(),this.id=null,this.isOpen=!1,Zd._visibleDialogPlugin=null}_lockBodyScroll(){document.documentElement.classList.add("ck-dialog-scroll-locked")}_unlockBodyScroll(){document.documentElement.classList.remove("ck-dialog-scroll-locked")}}class Qd extends Od{constructor(t,e=new Pd){super(t,e),this._checkIconHolderView=new Jd,this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});const n=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",n.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",((t,e)=>t||e))}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",(t=>this.isToggleable&&t)),this.on("change:_hasCheck",((t,e,n)=>{const{children:i,_checkIconHolderView:r}=this;n?i.add(r,0):i.remove(r)}))}}class Jd extends Ed{constructor(){super(),this._checkIconView=this._createCheckIconView();const t=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",t.to("isOn",(t=>t?"ck-on":"ck-off"))]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",((t,e,n)=>{const{children:i,_checkIconView:r}=this;n&&!i.has(r)?i.add(r):!n&&i.has(r)&&i.remove(r)}))}_createCheckIconView(){const t=new Md;return t.content=ed.check,t.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),t}}class tf extends Qd{constructor(t){super(t),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class ef extends Ed{constructor(t){super(t),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${_()}`;const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:e.to("for")},children:[{text:e.to("text")}]})}}class nf extends Ed{constructor(t,e){super(t);const n=t.t,i=new ef;i.text=n("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":i.id,role:"document",tabindex:-1},children:[_t(document,"p",{},n("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(e.values())),i]})}focus(){this.element.focus()}_createCategories(t){return t.map((t=>{const e=[_t(document,"h3",{},t.label),...Array.from(t.groups.values()).map((t=>this._createGroup(t))).flat()];return t.description&&e.splice(1,0,_t(document,"p",{},t.description)),_t(document,"section",{},e)}))}_createGroup(t){const e=t.keystrokes.sort(((t,e)=>t.label.localeCompare(e.label))).map((t=>this._createGroupRow(t))).flat(),n=[_t(document,"dl",{},e)];return t.label&&n.unshift(_t(document,"h4",{},t.label)),n}_createGroupRow(t){const e=this.locale.t,n=_t(document,"dt"),i=_t(document,"dd"),r=function(t){if("string"==typeof t)return[[t]];if("string"==typeof t[0])return[t];return t}(t.keystroke),s=[];for(const t of r)s.push(t.map(rf).join(""));return n.innerHTML=t.label,i.innerHTML=s.join(", ")+(t.mayRequireFn&&o.isMac?` ${e("(may require <kbd>Fn</kbd>)")}`:""),[n,i]}}function rf(t){return xr(t).split("+").map((t=>`<kbd>${t}</kbd>`)).join("+")}const of='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';class sf extends fo{constructor(){super(...arguments),this.contentView=null}static get requires(){return[Zd]}static get pluginName(){return"AccessibilityHelp"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t;t.ui.componentFactory.add("accessibilityHelp",(()=>{const t=this._createButton(Od);return t.set({tooltip:!0,withText:!1,label:e("Accessibility help")}),t})),t.ui.componentFactory.add("menuBar:accessibilityHelp",(()=>{const t=this._createButton(tf);return t.label=e("Accessibility"),t})),t.keystrokes.set("Alt+0",((t,e)=>{this._toggleDialog(),e()})),this._setupRootLabels()}_createButton(t){const e=this.editor,n=e.plugins.get("Dialog"),i=new t(e.locale);return i.set({keystroke:"Alt+0",icon:of,isToggleable:!0}),i.on("execute",(()=>this._toggleDialog())),i.bind("isOn").to(n,"id",(t=>"accessibilityHelp"===t)),i}_setupRootLabels(){const t=this.editor,e=t.editing.view,n=t.t;function i(t,e){const i=[e.getAttribute("aria-label"),n("Press %0 for help.",[xr("Alt+0")])].filter((t=>t)).join(". ");t.setAttribute("aria-label",i,e)}t.ui.on("ready",(()=>{e.change((t=>{for(const n of e.document.roots)i(t,n)})),t.on("addRoot",((n,r)=>{const o=t.editing.view.document.getRoot(r.rootName);e.change((t=>i(t,o)))}),{priority:"low"})}))}_toggleDialog(){const t=this.editor,e=t.plugins.get("Dialog"),n=t.locale.t;this.contentView||(this.contentView=new nf(t.locale,t.accessibility.keystrokeInfos)),"accessibilityHelp"===e.id?e.hide():e.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:n("Accessibility help"),icon:of,hasCloseButton:!0,content:this.contentView})}}class af extends nd{constructor(t,e=[]){super(e),this.locale=t}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new id({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render(),af._bodyWrapper&&af._bodyWrapper.isConnected||(af._bodyWrapper=_t(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(af._bodyWrapper)),af._bodyWrapper.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove(),af._bodyWrapper&&!af._bodyWrapper.childElementCount&&(af._bodyWrapper.remove(),delete af._bodyWrapper)}}class cf extends Od{constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new Ed;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}class lf extends(hf(Od)){}class uf extends(hf(Qd)){}function hf(t){return class extends t{constructor(...t){super(...t),this.buttonView=this,this._fileInputView=new df(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",(()=>{this._fileInputView.open()})),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}}class df extends Ed{constructor(t){super(t),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to((()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""}))}})}open(){this.element.click()}}const ff='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class gf extends Ed{constructor(t,e){super(t);const n=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),e&&this.children.addMany(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",n.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:n.if("isCollapsed","hidden"),"aria-labelledby":n.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const t=new Od(this.locale),e=t.bindTemplate;return t.set({withText:!0,icon:ff}),t.extendTemplate({attributes:{"aria-expanded":e.to("isOn",(t=>String(t)))}}),t.bind("label").to(this),t.bind("isOn").to(this,"isCollapsed",(t=>!t)),t.on("execute",(()=>{this.isCollapsed=!this.isCollapsed})),t}}r(8156);r(734);class pf extends Ed{constructor(t,e){super(t);const n=`ck-labeled-field-view-${_()}`,i=`ck-labeled-field-view-status-${_()}`;this.fieldView=e(this,n,i),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(i),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",((t,e)=>t||e));const r=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",r.to("class"),r.if("isEnabled","ck-disabled",(t=>!t)),r.if("isEmpty","ck-labeled-field-view_empty"),r.if("isFocused","ck-labeled-field-view_focused"),r.if("placeholder","ck-labeled-field-view_placeholder"),r.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(t){const e=new ef(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}_createStatusView(t){const e=new Ed(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",(t=>!t))],id:t,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),e}focus(t){this.fieldView.focus(t)}}class mf extends Ed{constructor(t){super(t),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Qr,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",e.if("isFocused","ck-input_focused"),e.if("isEmpty","ck-input-text_empty"),e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),tabindex:e.to("tabIndex"),readonly:e.to("isReadOnly"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDescribedById"),"aria-label":e.to("ariaLabel")},on:{input:e.to(((...t)=>{this.fire("input",...t),this._updateIsEmpty()})),change:e.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",((t,e,n)=>{this._setDomElementValue(n),this._updateIsEmpty()}))}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(t){this.element.value=t||0===t?t:""}}class bf extends mf{constructor(t){super(t),this.set("inputMode","text");const e=this.bindTemplate;this.extendTemplate({attributes:{inputmode:e.to("inputMode")}})}}class wf extends bf{constructor(t){super(t),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class yf extends bf{constructor(t,{min:e,max:n,step:i}={}){super(t);const r=this.bindTemplate;this.set("min",e),this.set("max",n),this.set("step",i),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:r.to("min"),max:r.to("max"),step:r.to("step")}})}}class vf extends Ed{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",(t=>`ck-dropdown__panel_${t}`)),e.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:e.to((t=>{"input"!==t.target.tagName.toLocaleLowerCase()&&t.preventDefault()}))}})}focus(){if(this.children.length){const t=this.children.first;"function"==typeof t.focus?t.focus():T("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const t=this.children.last;"function"==typeof t.focusLast?t.focusLast():t.focus()}}}class _f extends Ed{constructor(t,e,n){super(t);const i=this.bindTemplate;this.buttonView=e,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new no,this.focusTracker=new Qr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",(t=>!t))],id:i.to("id"),"aria-describedby":i.to("ariaDescribedById")},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":i.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",(()=>{this.isOpen=!this.isOpen})),this.on("change:isOpen",((t,e,n)=>{if(n)if("auto"===this.panelPosition){const t=_f._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=t?t.name:this._defaultPanelPositionName}else this.panelView.position=this.panelPosition})),this.keystrokes.listenTo(this.element);const t=(t,e)=>{this.isOpen&&(this.isOpen=!1,e())};this.keystrokes.set("arrowdown",((t,e)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,e())})),this.keystrokes.set("arrowright",((t,e)=>{this.isOpen&&e()})),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:t,north:e,southEast:n,southWest:i,northEast:r,northWest:o,southMiddleEast:s,southMiddleWest:a,northMiddleEast:c,northMiddleWest:l}=_f.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[n,i,s,a,t,r,o,c,l,e]:[i,n,a,s,t,o,r,l,c,e]}get _defaultPanelPositionName(){return"rtl"===this.locale.uiLanguageDirection?"sw":"se"}}_f.defaultPanelPositions={south:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/2,name:"s"}),southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),southMiddleEast:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/4,name:"sme"}),southMiddleWest:(t,e)=>({top:t.bottom,left:t.left-3*(e.width-t.width)/4,name:"smw"}),north:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/2,name:"n"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.top-e.height,left:t.left-e.width+t.width,name:"nw"}),northMiddleEast:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/4,name:"nme"}),northMiddleWest:(t,e)=>({top:t.top-e.height,left:t.left-3*(e.width-t.width)/4,name:"nmw"})},_f._getOptimalPosition=ir;const kf=_f;class xf extends Od{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(t=>String(t)))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new Md;return t.content=ff,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}class Ef extends Qd{constructor(t){super(t);const e=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-dropdown-menu-list__nested-menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(t=>String(t))),"data-cke-tooltip-disabled":e.to("isOn")},on:{mouseenter:e.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new Md;return t.content=ff,t.extendTemplate({attributes:{class:"ck-dropdown-menu-list__nested-menu__button__arrow"}}),t}}class Tf extends Ed{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",e.if("isVisible","ck-hidden",(t=>!t))],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Cf extends Ed{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class Af extends Ed{constructor(t,e=new ef){super(t);const n=this.bindTemplate,i=new Sf(t);this.set({label:"",isVisible:!0}),this.labelView=e,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,i]),i.set({role:"group",ariaLabelledBy:e.id}),i.focusTracker.destroy(),i.keystrokes.destroy(),this.items=i.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",n.if("isVisible","ck-hidden",(t=>!t))]},children:this.children})}focus(){if(this.items){const t=this.items.find((t=>!(t instanceof Cf)));t&&t.focus()}}}class Sf extends Ed{constructor(t){super(t),this._listItemGroupToChangeListeners=new WeakMap;const e=this.bindTemplate;this.focusables=new nd,this.items=this.createCollection(),this.focusTracker=new Qr,this.keystrokes=new no,this._focusCycler=new Ld({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:e.to("role"),"aria-label":e.to("ariaLabel"),"aria-labelledby":e.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const t of this.items)t instanceof Af?this._registerFocusableItemsGroup(t):t instanceof Tf&&this._registerFocusableListItem(t);this.items.on("change",((t,e)=>{for(const t of e.removed)t instanceof Af?this._deregisterFocusableItemsGroup(t):t instanceof Tf&&this._deregisterFocusableListItem(t);for(const t of Array.from(e.added).reverse())t instanceof Af?this._registerFocusableItemsGroup(t,e.index):this._registerFocusableListItem(t,e.index)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(t,e){this.focusTracker.add(t.element),this.focusables.add(t,e)}_deregisterFocusableListItem(t){this.focusTracker.remove(t.element),this.focusables.remove(t)}_getOnGroupItemsChangeCallback(t){return(e,n)=>{for(const t of n.removed)this._deregisterFocusableListItem(t);for(const e of Array.from(n.added).reverse())this._registerFocusableListItem(e,this.items.getIndex(t)+n.index)}}_registerFocusableItemsGroup(t,e){Array.from(t.items).forEach(((t,n)=>{const i=void 0!==e?e+n:void 0;this._registerFocusableListItem(t,i)}));const n=this._getOnGroupItemsChangeCallback(t);this._listItemGroupToChangeListeners.set(t,n),t.items.on("change",n)}_deregisterFocusableItemsGroup(t){for(const e of t.items)this._deregisterFocusableListItem(e);t.items.off("change",this._listItemGroupToChangeListeners.get(t)),this._listItemGroupToChangeListeners.delete(t)}}class If extends Sf{constructor(t){super(t);const e=this.bindTemplate;this.role="menu",this.set("isVisible",!0),this.extendTemplate({attributes:{class:["ck-dropdown-menu-list",e.if("isVisible","ck-hidden",(t=>!t))]}})}}const Mf={eastSouth:t=>({top:t.top,left:t.right-5,name:"es"}),eastNorth:(t,e)=>({top:t.top-e.height+t.height,left:t.right-5,name:"en"}),westSouth:(t,e)=>({top:t.top,left:t.left-e.width+5,name:"ws"}),westNorth:(t,e)=>({top:t.top-e.height+t.height,left:t.left-e.width+5,name:"wn"})};const Pf={openOnArrowRightKey(t){const e="rtl"===t.locale.uiLanguageDirection?"arrowleft":"arrowright";t.keystrokes.set(e,((e,n)=>{t.focusTracker.focusedElement===t.buttonView.element&&t.isEnabled&&(t.isOpen||(t.isOpen=!0),t.panelView.focus(),n())}))},openOnButtonClick(t){t.buttonView.on("execute",(()=>{t.isEnabled&&(t.isOpen=!0)}))},openAndFocusOnEnterKeyPress(t){t.keystrokes.set("enter",((e,n)=>{t.focusTracker.focusedElement===t.buttonView.element&&(t.isOpen=!0,t.panelView.focus(),n())}))},closeOnArrowLeftKey(t){const e="rtl"===t.locale.uiLanguageDirection?"arrowright":"arrowleft";t.keystrokes.set(e,((e,n)=>{t.isOpen&&(t.focus(),t.isOpen=!1,n())}))},closeOnEscKey(t){t.keystrokes.set("esc",((e,n)=>{t.isOpen&&(t.focus(),t.isOpen=!1,n())}))},closeOnParentClose(t,e){e.on("change:isOpen",((n,i,r)=>{r||n.source!==e||(t.isOpen=!1)}))}},Of=Qi("px"),Df={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class Nf extends Ed{constructor(t){super(t);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",(t=>`ck-balloon-panel_${t}`)),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",Of),left:e.to("left",Of)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){const n=Rf(t.target);if(n&&!nr(n))return!1;this.show();const i=Nf.defaultPositions,r=Object.assign({},{element:this.element,positions:[i.southArrowNorth,i.southArrowNorthMiddleWest,i.southArrowNorthMiddleEast,i.southArrowNorthWest,i.southArrowNorthEast,i.northArrowSouth,i.northArrowSouthMiddleWest,i.northArrowSouthMiddleEast,i.northArrowSouthWest,i.northArrowSouthEast,i.viewportStickyNorth],limiter:e.document.body,fitInViewport:!0},t),o=Nf._getOptimalPosition(r)||Df,s=parseInt(o.left),a=parseInt(o.top),c=o.name,l=o.config||{},{withArrow:u=!0}=l;return this.top=a,this.left=s,this.position=c,this.withArrow=u,!0}pin(t){this.unpin(),this._startPinning(t)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){if(!this.attachTo(t))return!1;let n=Rf(t.target);const i=t.limiter?Rf(t.limiter):e.document.body;if(this.listenTo(e.document,"scroll",((e,r)=>{const o=r.target,s=n&&o.contains(n),a=i&&o.contains(i);!s&&!a&&n&&i||this.attachTo(t)}),{useCapture:!0}),this.listenTo(e.window,"resize",(()=>{this.attachTo(t)})),!this._resizeObserver&&(n&&$i(n)&&(n=n.parentElement),n)){const t=()=>{nr(n)||this.unpin()};this._resizeObserver=new Xi(n,t)}return!0}_stopPinning(){this.stopListening(e.document,"scroll"),this.stopListening(e.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(t={}){const{sideOffset:e=Nf.arrowSideOffset,heightOffset:n=Nf.arrowHeightOffset,stickyVerticalOffset:i=Nf.stickyVerticalOffset,config:r}=t;return{northWestArrowSouthWest:(t,n)=>({top:o(t,n),left:t.left-e,name:"arrow_sw",...r&&{config:r}}),northWestArrowSouthMiddleWest:(t,n)=>({top:o(t,n),left:t.left-.25*n.width-e,name:"arrow_smw",...r&&{config:r}}),northWestArrowSouth:(t,e)=>({top:o(t,e),left:t.left-e.width/2,name:"arrow_s",...r&&{config:r}}),northWestArrowSouthMiddleEast:(t,n)=>({top:o(t,n),left:t.left-.75*n.width+e,name:"arrow_sme",...r&&{config:r}}),northWestArrowSouthEast:(t,n)=>({top:o(t,n),left:t.left-n.width+e,name:"arrow_se",...r&&{config:r}}),northArrowSouthWest:(t,n)=>({top:o(t,n),left:t.left+t.width/2-e,name:"arrow_sw",...r&&{config:r}}),northArrowSouthMiddleWest:(t,n)=>({top:o(t,n),left:t.left+t.width/2-.25*n.width-e,name:"arrow_smw",...r&&{config:r}}),northArrowSouth:(t,e)=>({top:o(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s",...r&&{config:r}}),northArrowSouthMiddleEast:(t,n)=>({top:o(t,n),left:t.left+t.width/2-.75*n.width+e,name:"arrow_sme",...r&&{config:r}}),northArrowSouthEast:(t,n)=>({top:o(t,n),left:t.left+t.width/2-n.width+e,name:"arrow_se",...r&&{config:r}}),northEastArrowSouthWest:(t,n)=>({top:o(t,n),left:t.right-e,name:"arrow_sw",...r&&{config:r}}),northEastArrowSouthMiddleWest:(t,n)=>({top:o(t,n),left:t.right-.25*n.width-e,name:"arrow_smw",...r&&{config:r}}),northEastArrowSouth:(t,e)=>({top:o(t,e),left:t.right-e.width/2,name:"arrow_s",...r&&{config:r}}),northEastArrowSouthMiddleEast:(t,n)=>({top:o(t,n),left:t.right-.75*n.width+e,name:"arrow_sme",...r&&{config:r}}),northEastArrowSouthEast:(t,n)=>({top:o(t,n),left:t.right-n.width+e,name:"arrow_se",...r&&{config:r}}),southWestArrowNorthWest:t=>({top:s(t),left:t.left-e,name:"arrow_nw",...r&&{config:r}}),southWestArrowNorthMiddleWest:(t,n)=>({top:s(t),left:t.left-.25*n.width-e,name:"arrow_nmw",...r&&{config:r}}),southWestArrowNorth:(t,e)=>({top:s(t),left:t.left-e.width/2,name:"arrow_n",...r&&{config:r}}),southWestArrowNorthMiddleEast:(t,n)=>({top:s(t),left:t.left-.75*n.width+e,name:"arrow_nme",...r&&{config:r}}),southWestArrowNorthEast:(t,n)=>({top:s(t),left:t.left-n.width+e,name:"arrow_ne",...r&&{config:r}}),southArrowNorthWest:t=>({top:s(t),left:t.left+t.width/2-e,name:"arrow_nw",...r&&{config:r}}),southArrowNorthMiddleWest:(t,n)=>({top:s(t),left:t.left+t.width/2-.25*n.width-e,name:"arrow_nmw",...r&&{config:r}}),southArrowNorth:(t,e)=>({top:s(t),left:t.left+t.width/2-e.width/2,name:"arrow_n",...r&&{config:r}}),southArrowNorthMiddleEast:(t,n)=>({top:s(t),left:t.left+t.width/2-.75*n.width+e,name:"arrow_nme",...r&&{config:r}}),southArrowNorthEast:(t,n)=>({top:s(t),left:t.left+t.width/2-n.width+e,name:"arrow_ne",...r&&{config:r}}),southEastArrowNorthWest:t=>({top:s(t),left:t.right-e,name:"arrow_nw",...r&&{config:r}}),southEastArrowNorthMiddleWest:(t,n)=>({top:s(t),left:t.right-.25*n.width-e,name:"arrow_nmw",...r&&{config:r}}),southEastArrowNorth:(t,e)=>({top:s(t),left:t.right-e.width/2,name:"arrow_n",...r&&{config:r}}),southEastArrowNorthMiddleEast:(t,n)=>({top:s(t),left:t.right-.75*n.width+e,name:"arrow_nme",...r&&{config:r}}),southEastArrowNorthEast:(t,n)=>({top:s(t),left:t.right-n.width+e,name:"arrow_ne",...r&&{config:r}}),westArrowEast:(t,e)=>({top:t.top+t.height/2-e.height/2,left:t.left-e.width-n,name:"arrow_e",...r&&{config:r}}),eastArrowWest:(t,e)=>({top:t.top+t.height/2-e.height/2,left:t.right+n,name:"arrow_w",...r&&{config:r}}),viewportStickyNorth:(t,e,n,o)=>{const s=o||n;return t.getIntersection(s)?s.height-t.height>i?null:{top:s.top+i,left:t.left+t.width/2-e.width/2,name:"arrowless",config:{withArrow:!1,...r}}:null}};function o(t,e){return t.top-e.height-n}function s(t){return t.bottom+n}}}Nf.arrowSideOffset=25,Nf.arrowHeightOffset=10,Nf.stickyVerticalOffset=20,Nf._getOptimalPosition=ir,Nf.defaultPositions=Nf.generatePositions();const Lf=Nf;function Rf(t){return Ai(t)?t:Vi(t)?t.commonAncestorContainer:"function"==typeof t?Rf(t()):null}class Bf extends Lf{constructor(t){super(t);const e=this.bindTemplate;this.set({isVisible:!1,position:"se",class:null,top:0,left:0}),this.extendTemplate({tag:"div",attributes:{class:["ck-reset","ck-dropdown-menu__nested-menu__panel"],tabindex:"-1"},on:{selectstart:e.to((t=>{"input"!==t.target.tagName.toLocaleLowerCase()&&t.preventDefault()}))}})}focus(t=1){const{content:e}=this;e.length&&(1===t?e.first.focus():e.last.focus())}}class Ff extends Ed{constructor(t,e,n,i,r){super(t),this._bodyCollection=e,this.id=n,this.set({isOpen:!1,isEnabled:!0,panelPosition:"w",class:void 0,parentMenuView:null}),this.keystrokes=new no,this.focusTracker=new Qr,this.buttonView=new Ef(t),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.buttonView.label=i,this.panelView=new Bf(t),this.panelView.isVisible=!0,this.listView=new If(t),this.listView.bind("ariaLabel").to(this.buttonView,"label"),this.panelView.content.add(this.listView);const o=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown-menu-list__nested-menu",o.to("class"),o.if("isEnabled","ck-disabled",(t=>!t))],role:"presentation"},children:[this.buttonView]}),this.parentMenuView=r,this.parentMenuView&&this._handleParentMenuView(),this._attachBehaviors()}get _panelPositions(){const{westSouth:t,eastSouth:e,westNorth:n,eastNorth:i}=Mf;return"ltr"===this.locale.uiLanguageDirection?[e,i,t,n]:[t,n,e,i]}render(){super.render(),this.panelView.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.focusTracker.add(this.listView),this.keystrokes.listenTo(this.element),this._mountPanelOnOpen()}destroy(){this._removePanelFromBody(),this.panelView.destroy(),super.destroy()}focus(){this.buttonView.focus()}_handleParentMenuView(){this.delegate(...Ff.DELEGATED_EVENTS).to(this.parentMenuView),Pf.closeOnParentClose(this,this.parentMenuView)}_attachBehaviors(){Pf.openOnButtonClick(this),Pf.openAndFocusOnEnterKeyPress(this),Pf.openOnArrowRightKey(this),Pf.closeOnEscKey(this),Pf.closeOnArrowLeftKey(this)}_mountPanelOnOpen(){const{panelView:t}=this;this.on("change:isOpen",((e,n,i)=>{e.source===this&&(i||!this._bodyCollection.has(t)?i&&!this._bodyCollection.has(t)&&this._addPanelToBody():this._removePanelFromBody())}))}_removePanelFromBody(){const{panelView:t,keystrokes:e}=this;this._bodyCollection.has(t)&&(this._bodyCollection.remove(t),e.stopListening(t.element))}_addPanelToBody(){const{panelView:t,buttonView:n,keystrokes:i}=this;this._bodyCollection.has(t)||(this._bodyCollection.add(t),i.listenTo(t.element),t.pin({positions:this._panelPositions,limiter:e.document.body,element:t.element,target:n.element,fitInViewport:!0}))}}Ff.DELEGATED_EVENTS=["mouseenter","execute","change:isOpen"];class jf extends Ed{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class $f extends Ed{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Vf(t){if(Array.isArray(t))return{items:t,removeItems:[]};const e={items:[],removeItems:[]};return t?{...e,...t}:e}const zf=(()=>({alignLeft:ed.alignLeft,bold:ed.bold,importExport:ed.importExport,paragraph:ed.paragraph,plus:ed.plus,text:ed.text,threeVerticalDots:ed.threeVerticalDots,pilcrow:ed.pilcrow,dragIndicator:ed.dragIndicator}))();class Hf extends Ed{constructor(t,e){super(t);const n=this.bindTemplate,i=this.t;this.options=e||{},this.set("ariaLabel",i("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Qr,this.keystrokes=new no,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Uf(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const r="rtl"===t.uiLanguageDirection;this._focusCycler=new Ld({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[r?"arrowright":"arrowleft","arrowup"],focusNext:[r?"arrowleft":"arrowright","arrowdown"]}});const o=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var s;this.options.shouldGroupWhenFull&&this.options.isFloating&&o.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:o,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(s=this,s.bindTemplate.to((t=>{t.target===s.element&&t.preventDefault()})))}}),this._behavior=this.options.shouldGroupWhenFull?new Wf(this):new qf(this)}render(){super.render(),this.focusTracker.add(this.element);for(const t of this.items)this.focusTracker.add(t);this.items.on("add",((t,e)=>{this.focusTracker.add(e)})),this.items.on("remove",((t,e)=>{this.focusTracker.remove(e)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e,n){this.items.addMany(this._buildItemsFromConfig(t,e,n))}_buildItemsFromConfig(t,e,n){const i=Vf(t),r=n||i.removeItems;return this._cleanItemsConfiguration(i.items,e,r).map((t=>z(t)?this._createNestedToolbarDropdown(t,e,r):"|"===t?new jf:"-"===t?new $f:e.create(t))).filter((t=>!!t))}_cleanItemsConfiguration(t,e,n){const i=t.filter(((t,i,r)=>"|"===t||-1===n.indexOf(t)&&("-"===t?!this.options.shouldGroupWhenFull||(T("toolbarview-line-break-ignored-when-grouping-items",r),!1):!(!z(t)&&!e.has(t))||(T("toolbarview-item-unavailable",{item:t}),!1))));return this._cleanSeparatorsAndLineBreaks(i)}_cleanSeparatorsAndLineBreaks(t){const e=t=>"-"!==t&&"|"!==t,n=t.length,i=t.findIndex(e);if(-1===i)return[];const r=n-t.slice().reverse().findIndex(e);return t.slice(i,r).filter(((t,n,i)=>{if(e(t))return!0;return!(n>0&&i[n-1]===t)}))}_createNestedToolbarDropdown(t,e,n){let{label:i,icon:r,items:o,tooltip:s=!0,withText:a=!1}=t;if(o=this._cleanItemsConfiguration(o,e,n),!o.length)return null;const c=Kf(this.locale);return i||T("toolbarview-nested-toolbar-dropdown-missing-label",t),c.class="ck-toolbar__nested-toolbar-dropdown",c.buttonView.set({label:i,tooltip:s,withText:!!a}),!1!==r?c.buttonView.icon=zf[r]||r||ed.threeVerticalDots:c.buttonView.withText=!0,Yf(c,(()=>c.toolbarView._buildItemsFromConfig(o,e,n))),c}}class Uf extends Ed{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class qf{constructor(t){const e=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using((t=>t)),t.focusables.bindTo(t.items).using((t=>Bd(t)?t:null)),t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Wf{constructor(t){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),t.itemsView.children.bindTo(this.ungroupedItems).using((t=>t)),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),t.children.on("change",this._updateFocusCyclableItems.bind(this)),t.items.on("change",((t,e)=>{const n=e.index,i=Array.from(e.added);for(const t of e.removed)n>=this.ungroupedItems.length?this.groupedItems.remove(t):this.ungroupedItems.remove(t);for(let t=n;t<n+i.length;t++){const e=i[t-n];t>this.ungroupedItems.length?this.groupedItems.add(e,t-this.ungroupedItems.length):this.ungroupedItems.add(e,t)}this._updateGrouping()})),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!nr(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const t=this.groupedItems.length;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,n=this.viewLocale.uiLanguageDirection,i=new Ui(t.lastChild),r=new Ui(t);if(!this.cachedPadding){const i=e.window.getComputedStyle(t),r="ltr"===n?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(i[r])}return"ltr"===n?i.right>r.right-this.cachedPadding:i.left<r.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new Xi(this.viewElement,(e=>{t&&t===e.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=e.contentRect.width)})),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",(()=>{this._updateGrouping()}))}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new jf),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,n=Kf(t);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===t.uiLanguageDirection?"sw":"se",Yf(n,this.groupedItems),n.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:"rtl"===t.uiLanguageDirection?"se":"sw",icon:ed.threeVerticalDots}),n}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map((t=>{Bd(t)&&this.viewFocusables.add(t)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Gf extends Ed{constructor(t,e){super(t);const n=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(e),this.arrowView=this._createArrowView(),this.keystrokes=new no,this.focusTracker=new Qr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",n.to("class"),n.if("isVisible","ck-hidden",(t=>!t)),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",((t,e)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),e())})),this.keystrokes.set("arrowleft",((t,e)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),e())}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(t){const e=t||new Od;return t||e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const t=new Od,e=t.bindTemplate;return t.icon=ff,t.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":e.to("isOn"),"aria-haspopup":!0,"aria-expanded":e.to("isOn",(t=>String(t)))}}),t.bind("isEnabled").to(this),t.bind("label").to(this),t.bind("tooltip").to(this),t.delegate("execute").to(this,"open"),t}}function Kf(t,n=xf){const i="function"==typeof n?new n(t):n,r=new vf(t),o=new kf(t,i,r);return i.bind("isEnabled").to(o),i instanceof Gf?i.arrowView.bind("isOn").to(o,"isOpen"):i.bind("isOn").to(o,"isOpen"),function(t){(function(t){Td({emitter:t,activator:()=>t.isRendered&&t.isOpen,callback:()=>{t.isOpen=!1},contextElements:()=>[t.element,...tg(t.focusTracker).filter((e=>!t.element.contains(e)))]})})(t),function(t){t.on("execute",(e=>{e.source instanceof cf||(t.isOpen=!1)}))}(t),function(t){t.focusTracker.on("change:isFocused",((e,n,i)=>{!i&&t.isOpen&&(t.isOpen=!1)}))}(t),function(t){t.keystrokes.set("arrowdown",((e,n)=>{t.isOpen&&(t.panelView.focus(),n())})),t.keystrokes.set("arrowup",((e,n)=>{t.isOpen&&(t.panelView.focusLast(),n())}))}(t),function(t){t.on("change:isOpen",((n,i,r)=>{if(r)return;t.focusTracker.elements.some((t=>t.contains(e.document.activeElement)))&&t.buttonView.focus()}))}(t),function(t){t.on("change:isOpen",((e,n,i)=>{i&&t.panelView.focus()}),{priority:"low"})}(t)}(o),o}function Yf(t,e,n={}){t.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),t.isOpen?Xf(t,e,n):t.once("change:isOpen",(()=>Xf(t,e,n)),{priority:"highest"}),n.enableActiveItemFocusOnDropdownOpen&&Jf(t,(()=>t.toolbarView.items.find((t=>t.isOn))))}function Xf(t,e,n){const i=t.locale,r=i.t,o=t.toolbarView=new Hf(i),s="function"==typeof e?e():e;o.ariaLabel=n.ariaLabel||r("Dropdown toolbar"),n.maxWidth&&(o.maxWidth=n.maxWidth),n.class&&(o.class=n.class),n.isCompact&&(o.isCompact=n.isCompact),n.isVertical&&(o.isVertical=!0),s instanceof nd?o.items.bindTo(s).using((t=>t)):o.items.addMany(s),t.panelView.children.add(o),t.focusTracker.add(o),o.items.delegate("execute").to(t)}function Zf(t,e,n={}){t.isOpen?Qf(t,e,n):t.once("change:isOpen",(()=>Qf(t,e,n)),{priority:"highest"}),Jf(t,(()=>t.listView.items.find((t=>t instanceof Tf&&t.children.first.isOn))))}function Qf(t,e,n){const i=t.locale,r=t.listView=new Sf(i),o="function"==typeof e?e():e;r.ariaLabel=n.ariaLabel,r.role=n.role,eg(t,r.items,o,i),t.panelView.children.add(r),r.items.delegate("execute").to(t)}function Jf(t,e){t.on("change:isOpen",(()=>{if(!t.isOpen)return;const n=e();n&&("function"==typeof n.focus?n.focus():T("ui-dropdown-focus-child-on-open-child-missing-focus",{view:n}))}),{priority:k.low-10})}function tg(t){return[...t.elements,...t.externalViews.flatMap((t=>tg(t.focusTracker)))]}function eg(t,e,n,i){e.on("change",(()=>{const t=[...e].reduce(((t,e)=>(e instanceof Tf&&e.children.first instanceof Qd&&t.push(e.children.first),t)),[]),n=t.some((t=>t.isToggleable));t.forEach((t=>{t.hasCheckSpace=n}))})),e.bindTo(n).using((e=>{if("separator"===e.type)return new Cf(i);if("group"===e.type){const n=new Af(i);return n.set({label:e.label}),eg(t,n.items,e.items,i),n.items.delegate("execute").to(t),n}if("button"===e.type||"switchbutton"===e.type){const t="menuitemcheckbox"===e.model.role||"menuitemradio"===e.model.role,n=new Tf(i);let r;return"button"===e.type?(r=new Qd(i),r.set({isToggleable:t})):r=new cf(i),r.bind(...Object.keys(e.model)).to(e.model),r.delegate("execute").to(n),n.children.add(r),n}return null}))}const ng=(t,e,n)=>{const i=new wf(t.locale);return i.set({id:e,ariaDescribedById:n}),i.bind("isReadOnly").to(t,"isEnabled",(t=>!t)),i.bind("hasError").to(t,"errorText",(t=>!!t)),i.on("input",(()=>{t.errorText=null})),t.bind("isEmpty","isFocused","placeholder").to(i),i},ig=(t,e,n)=>{const i=new yf(t.locale);return i.set({id:e,ariaDescribedById:n,inputMode:"numeric"}),i.bind("isReadOnly").to(t,"isEnabled",(t=>!t)),i.bind("hasError").to(t,"errorText",(t=>!!t)),i.on("input",(()=>{t.errorText=null})),t.bind("isEmpty","isFocused","placeholder").to(i),i};Math.PI;const rg=Symbol("same"),og=(Symbol("color"),Symbol("hsva"),Symbol("update")),sg=(Symbol("parts"),Symbol("css")),ag=Symbol("sliders");HTMLElement;class cg{constructor(t){this._components=new Map,this.editor=t}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){this._components.set(lg(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new E("componentfactory-item-missing",this,{name:t});return this._components.get(lg(t)).callback(this.editor.locale)}has(t){return this._components.has(lg(t))}}function lg(t){return String(t).toLowerCase()}const ug="ck-tooltip";class hg extends(Ni()){constructor(t){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._mutationObserver=null,hg._editors.add(t),hg._instance)return hg._instance;hg._instance=this,this.tooltipTextView=new Ed(t.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Lf(t.locale),this.balloonPanelView.class=ug,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(t){const e=new MutationObserver((()=>{t()}));return{attach(t){e.observe(t,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){e.disconnect()}}}((()=>{this._updateTooltipPosition()})),this._pinTooltipDebounced=za(this._pinTooltip,600),this._unpinTooltipDebounced=za(this._unpinTooltip,400),this.listenTo(e.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(e.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(e.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(e.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(e.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(e.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(t){const e=t.ui.view&&t.ui.view.body;hg._editors.delete(t),this.stopListening(t.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),hg._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),hg._instance=null)}static getPositioningFunctions(t){const e=hg.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[t]}_onKeyDown(t,e){"Escape"===e.key&&this._currentElementWithTooltip&&(this._unpinTooltip(),e.stopPropagation())}_onEnterOrFocus(t,{target:e}){const n=fg(e);n?n!==this._currentElementWithTooltip&&(this._unpinTooltip(),"focus"!==t.name||n.matches(":hover")?this._pinTooltipDebounced(n,gg(n)):this._pinTooltip(n,gg(n))):"focus"===t.name&&this._unpinTooltip()}_onLeaveOrBlur(t,{target:e,relatedTarget:n}){if("mouseleave"===t.name){if(!Ai(e))return;const t=this.balloonPanelView.element,i=t&&(t===n||t.contains(n)),r=!i&&e===t;if(i)return void this._unpinTooltipDebounced.cancel();if(!r&&this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const o=fg(e),s=fg(n);(r||o&&o!==s)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(t,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(t,{text:e,position:n,cssClass:i}){this._unpinTooltip();const r=Zr(hg._editors.values()).ui.view.body;r.has(this.balloonPanelView)||r.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.class=[ug,i].filter((t=>t)).join(" "),this.balloonPanelView.pin({target:t,positions:hg.getPositioningFunctions(n)}),this._mutationObserver.attach(t);for(const t of hg._editors)this.listenTo(t.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=t,this._currentTooltipPosition=n}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const t of hg._editors)this.stopListening(t.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const t=gg(this._currentElementWithTooltip);nr(this._currentElementWithTooltip)&&t.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:hg.getPositioningFunctions(t.position)}):this._unpinTooltip()}}hg.defaultBalloonPositions=Lf.generatePositions({heightOffset:5,sideOffset:13}),hg._editors=new Set,hg._instance=null;const dg=hg;function fg(t){return Ai(t)?t.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function gg(t){return{text:t.dataset.ckeTooltipText,position:t.dataset.ckeTooltipPosition||"s",cssClass:t.dataset.ckeTooltipClass||""}}class pg extends(Ni()){constructor(t,e={}){super(),this._balloonView=null,this._showBalloonThrottled=Nh((()=>this._showBalloon()),50,{leading:!0}),this._lastFocusedEditableElement=null,this.editor=t,this._balloonClass=e.balloonClass,t.on("ready",(()=>this._handleEditorReady()))}destroy(){const t=this._balloonView;t&&(t.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const t=this.editor;this._isEnabled()&&t.ui.view&&(t.ui.focusTracker.on("change:isFocused",((t,e,n)=>{this._updateLastFocusedEditableElement(),n?this._showBalloon():this._hideBalloon()})),t.ui.focusTracker.on("change:focusedElement",((t,e,n)=>{this._updateLastFocusedEditableElement(),n&&this._showBalloon()})),t.ui.on("update",(()=>{this._showBalloonThrottled()})))}_getNormalizedConfig(){return{side:"ltr"===this.editor.locale.contentLanguageDirection?"right":"left",position:"border",verticalOffset:0,horizontalOffset:5}}_showBalloon(){const t=this._getBalloonAttachOptions();t&&(this._balloonView||(this._balloonView=this._createBalloonView()),this._balloonView.pin(t))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_createBalloonView(){const t=this.editor,e=new Lf,n=this._createBadgeContent();return e.content.add(n),this._balloonClass&&(e.class=this._balloonClass),t.ui.view.body.add(e),e}_getBalloonAttachOptions(){if(!this._lastFocusedEditableElement)return null;const t=this._getNormalizedConfig(),e="right"===t.side?mg(this._lastFocusedEditableElement,n=t,((t,e)=>t.left+t.width-e.width-n.horizontalOffset)):function(t,e){return mg(t,e,(t=>t.left+e.horizontalOffset))}(this._lastFocusedEditableElement,t);var n;return{target:this._lastFocusedEditableElement,positions:[e]}}_updateLastFocusedEditableElement(){const t=this.editor,e=t.ui.focusTracker.isFocused,n=t.ui.focusTracker.focusedElement;if(!e||!n)return void(this._lastFocusedEditableElement=null);const i=Array.from(t.ui.getEditableElementsNames()).map((e=>t.ui.getEditableElement(e)));i.includes(n)?this._lastFocusedEditableElement=n:this._lastFocusedEditableElement=i[0]}}function mg(t,e,n){return(i,r)=>{const o=new Ui(t);if(o.width<350||o.height<50)return null;let s;s="inside"===e.position?o.bottom-r.height:o.bottom-r.height/2,s-=e.verticalOffset;const a=n(o,r),c=i.clone().moveTo(a,s).getIntersection(r.clone().moveTo(a,s)).getVisible();return!c||c.getArea()<r.getArea()?null:{top:s,left:a,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}class bg extends pg{constructor(t){super(t,{balloonClass:"ck-powered-by-balloon"})}_isEnabled(){const t=this.editor;if(t.config.get("ui.poweredBy.forceVisible"))return!0;const e=t.config.get("licenseKey");if("GPL"==e)return!0;const n=so(e.split(".")[1]);return!n||!n.whiteLabel}_createBadgeContent(){return new wg(this.editor.locale,this._getNormalizedConfig().label)}_getNormalizedConfig(){const t=super._getNormalizedConfig(),e=this.editor.config.get("ui.poweredBy")||{},n=e.position||t.position,i="inside"===n?5:t.verticalOffset;return{position:n,side:e.side||t.side,label:void 0===e.label?"Powered by":e.label,verticalOffset:void 0!==e.verticalOffset?e.verticalOffset:i,horizontalOffset:void 0!==e.horizontalOffset?e.horizontalOffset:t.horizontalOffset,forceVisible:!!e.forceVisible}}}class wg extends Ed{constructor(t,e){super(t);const n=new Md,i=this.bindTemplate;n.set({content:'<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>\n',isColorInherited:!1}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/powered-by-ckeditor/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...e?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[e]}]:[],n],on:{dragstart:i.to((t=>t.preventDefault()))}}]})}}class yg extends pg{constructor(t){super(t,{balloonClass:"ck-evaluation-badge-balloon"}),this.licenseTypeMessage={evaluation:"For evaluation purposes only",trial:"For evaluation purposes only",development:"For development purposes only"}}_isEnabled(){const t=_g(this.editor.config.get("licenseKey"));return Boolean(t&&this.licenseTypeMessage[t])}_createBadgeContent(){const t=_g(this.editor.config.get("licenseKey"));return new vg(this.editor.locale,this.licenseTypeMessage[t])}_getNormalizedConfig(){const t=super._getNormalizedConfig(),e=this.editor.config.get("ui.poweredBy")||{};return{position:e.position||t.position,side:"left"===(e.side||t.side)?"right":"left",verticalOffset:t.verticalOffset,horizontalOffset:t.horizontalOffset}}}class vg extends Ed{constructor(t,e){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-evaluation-badge"],"aria-hidden":!0},children:[{tag:"span",attributes:{class:["ck","ck-evaluation-badge__label"]},children:[e]}]})}}function _g(t){if("GPL"==t)return"GPL";const e=so(t.split(".")[1]);return e?e.licenseType||"production":null}const kg={POLITE:"polite",ASSERTIVE:"assertive"};class xg{constructor(t){this.editor=t,t.once("ready",(()=>{for(const t of Object.values(kg))this.announce("",t)}))}announce(t,e=kg.POLITE){const n=this.editor;if(!n.ui.view)return;this.view||(this.view=new Eg(n.locale),n.ui.view.body.add(this.view));const{politeness:i,isUnsafeHTML:r}="string"==typeof e?{politeness:e}:e;let o=this.view.regionViews.find((t=>t.politeness===i));o||(o=new Tg(n,i),this.view.regionViews.add(o)),o.announce({announcement:t,isUnsafeHTML:r})}}class Eg extends Ed{constructor(t){super(t),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class Tg extends Ed{constructor(t,e){super(t.locale),this.setTemplate({tag:"div",attributes:{"aria-live":e,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),t.on("destroy",(()=>{null!==this._pruneAnnouncementsInterval&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)})),this.politeness=e,this._domConverter=t.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval((()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()}),5e3)}announce({announcement:t,isUnsafeHTML:e}){if(!t.trim().length)return;const n=document.createElement("li");e?this._domConverter.setContentOf(n,t):n.innerText=t,this._listElement.appendChild(n)}get _listElement(){return this.element.querySelector("ul")}}class Cg extends Tf{constructor(t,e){super(t);const n=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:n.to("mouseenter")}}),this.delegate("mouseenter").to(e)}}const Ag={toggleMenusAndFocusItemsOnHover(t){t.on("menu:mouseenter",(e=>{if(t.isFocusBorderEnabled||t.isOpen){if(t.isOpen)for(const n of t.menus){const t=e.path[0],i=t instanceof Cg&&t.children.first===n;n.isOpen=(e.path.includes(n)||i)&&n.isEnabled}e.source.focus()}}))},focusCycleMenusOnArrows(t){const e="rtl"===t.locale.uiLanguageDirection;function n(e,n){const i=t.children.getIndex(e),r=e.isOpen,o=t.children.length,s=t.children.get((i+o+n)%o);e.isOpen=!1,r&&(s.isOpen=!0),s.buttonView.focus()}t.on("menu:arrowright",(t=>{n(t.source,e?-1:1)})),t.on("menu:arrowleft",(t=>{n(t.source,e?1:-1)}))},closeMenusWhenTheBarCloses(t){t.on("change:isOpen",(()=>{t.isOpen||t.menus.forEach((t=>{t.isOpen=!1}))}))},closeMenuWhenAnotherOnTheSameLevelOpens(t){t.on("menu:change:isOpen",((e,n,i)=>{i&&t.menus.filter((t=>e.source.parentMenuView===t.parentMenuView&&e.source!==t&&t.isOpen)).forEach((t=>{t.isOpen=!1}))}))},closeOnClickOutside(t){Td({emitter:t,activator:()=>t.isOpen,callback:()=>t.close(),contextElements:()=>t.children.map((t=>t.element))})},enableFocusHighlightOnInteraction(t){let e=!1;t.on("change:isOpen",((n,i,r)=>{r||(e||(t.isFocusBorderEnabled=!1),e=!1)})),t.listenTo(t.element,"keydown",(()=>{e=!0}),{useCapture:!0}),t.listenTo(t.element,"keyup",(()=>{e=!1}),{useCapture:!0}),t.listenTo(t.element,"focus",(()=>{e&&(t.isFocusBorderEnabled=!0)}),{useCapture:!0})}},Sg={openAndFocusPanelOnArrowDownKey(t){t.keystrokes.set("arrowdown",((e,n)=>{t.focusTracker.focusedElement===t.buttonView.element&&(t.isOpen||(t.isOpen=!0),t.panelView.focus(),n())}))},openOnArrowRightKey(t){const e="rtl"===t.locale.uiLanguageDirection?"arrowleft":"arrowright";t.keystrokes.set(e,((e,n)=>{t.focusTracker.focusedElement===t.buttonView.element&&t.isEnabled&&(t.isOpen||(t.isOpen=!0),t.panelView.focus(),n())}))},openOnButtonClick(t){t.buttonView.on("execute",(()=>{t.isOpen=!0}))},toggleOnButtonClick(t){t.buttonView.on("execute",(()=>{t.isOpen=!t.isOpen}))},openAndFocusOnEnterKeyPress(t){t.keystrokes.set("enter",((e,n)=>{t.focusTracker.focusedElement===t.buttonView.element&&(t.isOpen=!0,t.panelView.focus(),n())}))},closeOnArrowLeftKey(t){const e="rtl"===t.locale.uiLanguageDirection?"arrowright":"arrowleft";t.keystrokes.set(e,((e,n)=>{t.isOpen&&(t.isOpen=!1,t.focus(),n())}))},closeOnEscKey(t){t.keystrokes.set("esc",((e,n)=>{t.isOpen&&(t.isOpen=!1,t.focus(),n())}))},closeOnParentClose(t){t.parentMenuView.on("change:isOpen",((e,n,i)=>{i||e.source!==t.parentMenuView||(t.isOpen=!1)}))}},Ig={southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.top-e.height,left:t.left-e.width+t.width,name:"nw"}),eastSouth:t=>({top:t.top,left:t.right-5,name:"es"}),eastNorth:(t,e)=>({top:t.top-e.height,left:t.right-5,name:"en"}),westSouth:(t,e)=>({top:t.top,left:t.left-e.width+5,name:"ws"}),westNorth:(t,e)=>({top:t.top-e.height,left:t.left-e.width+5,name:"wn"})},Mg=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:bookmark","menuBar:comment","menuBar:insertMergeField"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function Pg({normalizedConfig:t,locale:e,componentFactory:n,extraItems:i}){const r=_c(t);return Og(t,r,i),function(t,e){const n=e.removeItems,i=[];e.items=e.items.filter((({menuId:t})=>!n.includes(t)||(i.push(t),!1))),Rg(e.items,(t=>{t.groups=t.groups.filter((({groupId:t})=>!n.includes(t)||(i.push(t),!1)));for(const e of t.groups)e.items=e.items.filter((t=>{const e=$g(t);return!n.includes(e)||(i.push(e),!1)}))}));for(const e of n)i.includes(e)||T("menu-bar-item-could-not-be-removed",{menuBarConfig:t,itemName:e})}(t,r),Og(t,r,r.addItems),function(t,e,n){Rg(e.items,(i=>{for(const r of i.groups)r.items=r.items.filter((r=>{const o="string"==typeof r&&!n.has(r);return o&&!e.isUsingDefaultConfig&&T("menu-bar-item-unavailable",{menuBarConfig:t,parentMenuConfig:_c(i),componentName:r}),!o}))}))}(t,r,n),Ng(t,r),function(t,e){const n=e.t,i={File:n({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:n({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:n({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:n({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:n({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:n({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:n({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:n({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:n({string:"Font",id:"MENU_BAR_MENU_FONT"})};Rg(t.items,(t=>{t.label in i&&(t.label=i[t.label])}))}(r,e),r}function Og(t,e,n){const i=[];if(0!=n.length){for(const t of n){const n=Fg(t.position),o=jg(t.position);if("object"==typeof(r=t)&&"menu"in r)if(o){const r=e.items.findIndex((t=>t.menuId===o));if(-1!=r)"before"===n?(e.items.splice(r,0,t.menu),i.push(t)):"after"===n&&(e.items.splice(r+1,0,t.menu),i.push(t));else{Dg(e,t.menu,o,n)&&i.push(t)}}else"start"===n?(e.items.unshift(t.menu),i.push(t)):"end"===n&&(e.items.push(t.menu),i.push(t));else if(Bg(t))Rg(e.items,(e=>{if(e.menuId===o)"start"===n?(e.groups.unshift(t.group),i.push(t)):"end"===n&&(e.groups.push(t.group),i.push(t));else{const r=e.groups.findIndex((t=>t.groupId===o));-1!==r&&("before"===n?(e.groups.splice(r,0,t.group),i.push(t)):"after"===n&&(e.groups.splice(r+1,0,t.group),i.push(t)))}}));else{Dg(e,t.item,o,n)&&i.push(t)}}var r;for(const e of n)i.includes(e)||T("menu-bar-item-could-not-be-added",{menuBarConfig:t,addedItemConfig:e})}}function Dg(t,e,n,i){let r=!1;return Rg(t.items,(t=>{for(const{groupId:o,items:s}of t.groups){if(r)return;if(o===n)"start"===i?(s.unshift(e),r=!0):"end"===i&&(s.push(e),r=!0);else{const t=s.findIndex((t=>$g(t)===n));-1!==t&&("before"===i?(s.splice(t,0,e),r=!0):"after"===i&&(s.splice(t+1,0,e),r=!0))}}})),r}function Ng(t,e){const n=e.isUsingDefaultConfig;let i=!1;e.items=e.items.filter((e=>!!e.groups.length||(Lg(t,e,n),!1))),e.items.length?(Rg(e.items,(e=>{e.groups=e.groups.filter((t=>!!t.items.length||(i=!0,!1)));for(const r of e.groups)r.items=r.items.filter((e=>!(Vg(e)&&!e.groups.length)||(Lg(t,e,n),i=!0,!1)))})),i&&Ng(t,e)):Lg(t,t,n)}function Lg(t,e,n){n||T("menu-bar-menu-empty",{menuBarConfig:t,emptyMenuConfig:e})}function Rg(t,e){if(Array.isArray(t))for(const e of t)n(e);function n(t){e(t);for(const e of t.groups)for(const t of e.items)Vg(t)&&n(t)}}function Bg(t){return"object"==typeof t&&"group"in t}function Fg(t){return t.startsWith("start")?"start":t.startsWith("end")?"end":t.startsWith("after")?"after":"before"}function jg(t){const e=t.match(/^[^:]+:(.+)/);return e?e[1]:null}function $g(t){return"string"==typeof t?t:t.menuId}function Vg(t){return"object"==typeof t&&"menuId"in t}class zg extends(Y()){constructor(t){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this._extraMenuBarElements=[],this._lastFocusedForeignElement=null;const e=t.editing.view;this.editor=t,this.componentFactory=new cg(t),this.focusTracker=new Qr,this.tooltipManager=new dg(t),this.poweredBy=new bg(t),this.evaluationBadge=new yg(t),this.ariaLiveAnnouncer=new xg(t),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",(()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0})),this.listenTo(e.document,"layoutChanged",this.update.bind(this)),this.listenTo(e,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy(),this.evaluationBadge.destroy();for(const t of this._editableElementsMap.values())t.ckeditorInstance=null,this.editor.keystrokes.stopListening(t);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(t,e){this._editableElementsMap.set(t,e),e.ckeditorInstance||(e.ckeditorInstance=this.editor),this.focusTracker.add(e);const n=()=>{this.editor.editing.view.getDomRoot(t)||this.editor.keystrokes.listenTo(e)};this.isReady?n():this.once("ready",n)}removeEditableElement(t){const e=this._editableElementsMap.get(t);e&&(this._editableElementsMap.delete(t),this.editor.keystrokes.stopListening(e),this.focusTracker.remove(e),e.ckeditorInstance=null)}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(t,e={}){t.isRendered?(this.focusTracker.add(t),this.editor.keystrokes.listenTo(t.element)):t.once("render",(()=>{this.focusTracker.add(t),this.editor.keystrokes.listenTo(t.element)})),this._focusableToolbarDefinitions.push({toolbarView:t,options:e})}extendMenuBar(t){this._extraMenuBarElements.push(t)}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_initMenuBar(t){const e=t.element;this.focusTracker.add(e),this.editor.keystrokes.listenTo(e);const n=function(t){let e;return e="items"in t&&t.items?{items:t.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...t}:{items:_c(Mg),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...t},e}(this.editor.config.get("menuBar")||{});t.fillFromConfig(n,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",((t,n)=>{e.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),n())})),this.editor.keystrokes.set("Alt+F9",((n,i)=>{e.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),t.isFocusBorderEnabled=!0,t.focus(),i())}))}_readViewportOffsetFromConfig(){const t=this.editor,e=t.config.get("ui.viewportOffset");if(e)return e;const n=t.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const t=this.editor;let e;t.keystrokes.set("Alt+F10",((t,n)=>{this._saveLastFocusedForeignElement();const i=this._getCurrentFocusedToolbarDefinition();i&&e||(e=this._getFocusableCandidateToolbarDefinitions());for(let t=0;t<e.length;t++){const t=e.shift();if(e.push(t),t!==i&&this._focusFocusableCandidateToolbar(t)){i&&i.options.afterBlur&&i.options.afterBlur();break}}n()})),t.keystrokes.set("Esc",((e,n)=>{const i=this._getCurrentFocusedToolbarDefinition();i&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):t.editing.view.focus(),i.options.afterBlur&&i.options.afterBlur(),n())}))}_saveLastFocusedForeignElement(){const t=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(t)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(t)&&(this._lastFocusedForeignElement=t)}_getFocusableCandidateToolbarDefinitions(){const t=[];for(const e of this._focusableToolbarDefinitions){const{toolbarView:n,options:i}=e;(nr(n.element)||i.beforeFocus)&&t.push(e)}return t.sort(((t,e)=>Hg(t)-Hg(e))),t}_getCurrentFocusedToolbarDefinition(){for(const t of this._focusableToolbarDefinitions)if(t.toolbarView.element&&t.toolbarView.element.contains(this.focusTracker.focusedElement))return t;return null}_focusFocusableCandidateToolbar(t){const{toolbarView:e,options:{beforeFocus:n}}=t;return n&&n(),!!nr(e.element)&&(e.focus(),!0)}_handleScrollToTheSelection(t,e){const n={top:0,bottom:0,left:0,right:0,...this.viewportOffset};e.viewportOffset.top+=n.top,e.viewportOffset.bottom+=n.bottom,e.viewportOffset.left+=n.left,e.viewportOffset.right+=n.right}_bindBodyCollectionWithFocusTracker(){const t=this.view.body;for(const e of t)this.focusTracker.add(e.element);t.on("add",((t,e)=>{this.focusTracker.add(e.element)})),t.on("remove",((t,e)=>{this.focusTracker.remove(e.element)}))}}function Hg(t){const{toolbarView:e,options:n}=t;let i=10;return nr(e.element)&&i--,n.isContextual&&i--,i}class Ug extends Ed{constructor(t){super(t),this.body=new af(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class qg extends Ug{constructor(t){super(t),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const t=this.t,e=new ef;return e.text=t("Rich Text Editor"),e.extendTemplate({attributes:{class:"ck-voice-label"}}),e}}class Wg extends Ed{constructor(t,e,n){super(t),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=e}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(()=>this._updateIsFocusedClasses())),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const t=this._editingView;function e(e){t.change((n=>{const i=t.document.getRoot(e.name);n.addClass(e.isFocused?"ck-focused":"ck-blurred",i),n.removeClass(e.isFocused?"ck-blurred":"ck-focused",i)}))}t.isRenderingInProgress?function n(i){t.once("change:isRenderingInProgress",((t,r,o)=>{o?n(i):e(i)}))}(this):e(this)}}class Gg extends Wg{constructor(t,e,n,i={}){super(t,e,n),this._options=i,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const t=this._editingView;t.change((e=>{const n=t.document.getRoot(this.name);e.setAttribute("aria-label",this.getEditableAriaLabel(),n)}))}getEditableAriaLabel(){const t=this.locale.t,e=this._options.label,n=this._editableElement,i=this.name;if("string"==typeof e)return e;if("object"==typeof e)return e[i];if("function"==typeof e)return e(this);if(n){const t=n.getAttribute("aria-label");if(t)return t}return t("Rich Text Editor. Editing area: %0",i)}}class Kg extends vo{static get pluginName(){return"Notification"}static get isOfficialPlugin(){return!0}init(){this.on("show:warning",((t,e)=>{window.alert(e.message)}),{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){const e=t.namespace?`show:${t.type}:${t.namespace}`:`show:${t.type}`;this.fire(e,{message:t.message,type:t.type,title:t.title||""})}}class Yg extends(Y()){constructor(t,e){super(),e&&Ca(this,e),t&&this.set(t)}}const Xg=Qi("px");class Zg extends fo{static get pluginName(){return"ContextualBalloon"}static get isOfficialPlugin(){return!0}constructor(t){super(t),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,e=t.document.selection.editableElement;return e?t.domConverter.mapViewToDom(e.root):null},this.decorate("getPositionOptions"),this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this._view||this._createPanelView(),this.hasView(t.view))throw new E("contextualballoon-add-view-exist",[this,t]);const e=t.stackId||"main";if(!this._idToStack.has(e))return this._idToStack.set(e,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(e)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(e));const n=this._idToStack.get(e);t.singleViewMode&&this.showStack(e),n.set(t.view,t),this._viewToStack.set(t.view,n),n===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new E("contextualballoon-remove-view-not-exist",[this,t]);const e=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(1===e.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(e.values())[e.size-2])),1===e.size?(this._idToStack.delete(this._getStackId(e)),this._numberOfStacks=this._idToStack.size):e.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition()}getPositionOptions(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&(t.limiter||(t=Object.assign({},t,{limiter:this.positionLimiter})),t=Object.assign({},t,{viewportOffsetConfig:this.editor.ui.viewportOffset})),t}showStack(t){this.visibleStack=t;const e=this._idToStack.get(t);if(!e)throw new E("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}_createPanelView(){this._view=new Lf(this.editor.locale),this.editor.ui.view.body.add(this._view),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find((e=>e[1]===t))[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)+1;t[e]||(e=0),this.showStack(this._getStackId(t[e]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)-1;t[e]||(e=t.length-1),this.showStack(this._getStackId(t[e]))}_createRotatorView(){const t=new Qg(this.editor.locale),e=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",((t,e)=>!e&&t>1)),t.on("change:isNavigationVisible",(()=>this.updatePosition()),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",((t,n)=>{if(n<2)return"";const i=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return e("%0 of %1",[i,n])})),t.buttonNextView.on("execute",(()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()})),t.buttonPrevView.on("execute",(()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()})),t}_createFakePanelsView(){const t=new Jg(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",((t,e)=>!e&&t>=2?Math.min(t-1,2):0)),t.listenTo(this.view,"change:top",(()=>t.updatePosition())),t.listenTo(this.view,"change:left",(()=>t.updatePosition())),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:e="",withArrow:n=!0,singleViewMode:i=!1}){this.view.class=e,this.view.withArrow=n,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition(),i&&(this._singleViewMode=!0)}}class Qg extends Ed{constructor(t){super(t);const e=t.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Qr,this.buttonPrevView=this._createButtonView(e("Previous"),ed.previousArrow),this.buttonNextView=this._createButtonView(e("Next"),ed.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",(t=>t?"":"ck-hidden"))]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,e){const n=new Od(this.locale);return n.set({label:t,icon:e,tooltip:!0}),n}}class Jg extends Ed{constructor(t,e){super(t);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=e,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",(t=>t?"":"ck-hidden"))],style:{top:n.to("top",Xg),left:n.to("left",Xg),width:n.to("width",Xg),height:n.to("height",Xg)}},children:this.content}),this.on("change:numberOfPanels",((t,e,n,i)=>{n>i?this._addPanels(n-i):this._removePanels(i-n),this.updatePosition()}))}_addPanels(t){for(;t--;){const t=new Ed;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(t){for(;t--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:e}=this._balloonPanelView,{width:n,height:i}=new Ui(this._balloonPanelView.element);Object.assign(this,{top:t,left:e,width:n,height:i})}}}const tp=Qi("px");class ep extends Ed{constructor(t){super(t);const e=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new id({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",(t=>t?"block":"none")),height:e.to("isSticky",(t=>t?tp(this._contentPanelRect.height):null))}}}).render(),this.contentPanelElement=new id({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",(t=>t?tp(this._contentPanelPlaceholder.getBoundingClientRect().width):null)),top:e.to("_stickyTopOffset",(t=>t?tp(t):t)),bottom:e.to("_stickyBottomOffset",(t=>t?tp(t):t)),marginLeft:e.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(e.document,"scroll",(()=>{this.checkIfShouldBeSticky()}),{useCapture:!0}),this.listenTo(this,"change:isActive",(()=>{this.checkIfShouldBeSticky()}))}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const t=new Ui(this.limiterElement);let n=t.getVisible();if(n){const t=new Ui(e.window);t.top+=this.viewportTopOffset,t.height-=this.viewportTopOffset,n=n.getIntersection(t)}if(n&&t.top<n.top){const e=n.top;if(e+this._contentPanelRect.height+this.limiterBottomOffset>n.bottom){const e=Math.max(t.bottom-n.bottom,0)+this.limiterBottomOffset;t.bottom-e>t.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(e):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<t.height?this._stickToTopOfAncestors(e):this._unstick()}else this._unstick()}_stickToTopOfAncestors(t){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=t,this._stickyBottomOffset=null,this._marginLeft=tp(-e.window.scrollX)}_stickToBottomOfLimiter(t){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=t,this._marginLeft=tp(-e.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Ui(this.contentPanelElement)}}class np extends pf{constructor(t,e){const n=t.t,i=Object.assign({},{showResetButton:!0,showIcon:!0,creator:ng},e);super(t,i.creator),this.label=e.label,this._viewConfig=i,this._viewConfig.showIcon&&(this.iconView=new Md,this.iconView.content=ed.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Od(t),this.resetButtonView.set({label:n("Clear"),icon:ed.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",(()=>{this.reset(),this.focus(),this.fire("reset")})),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",(t=>!t)),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class ip extends Ed{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",t.if("isVisible","ck-hidden",(t=>!t))],tabindex:-1},children:[{tag:"span",children:[{text:[t.to("primaryText")]}]},{tag:"span",children:[{text:[t.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class rp extends Ed{constructor(t){super(t),this.children=this.createCollection(),this.focusTracker=new Qr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Ld({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const t of this.children)this.focusTracker.add(t.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var op=/[\\^$.*+?()[\]{}|]/g,sp=RegExp(op.source);const ap=function(t){return(t=No(t))&&sp.test(t)?t.replace(op,"\\$&"):t};class cp extends Ed{constructor(t,e){super(t),this._config=e,this.filteredView=e.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Qr,this.keystrokes=new no,this.resultsView=new rp(t),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),e.infoView&&e.infoView.instance?this.infoView=e.infoView.instance:(this.infoView=new ip,this._enableDefaultInfoViewBehavior(),this.on("render",(()=>{this.search("")}))),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Ld({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",((t,{resultsCount:e,totalItemsCount:n})=>{this.resultsCount=e,this.totalItemsCount=n})),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",e.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const t=t=>t.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search(""),this.filteredView.element.scrollTo(0,0)}search(t){const e=t?new RegExp(ap(t),"ig"):null,n=this.filteredView.filter(e);this.fire("search",{query:t,...n})}_createSearchTextQueryView(){const t=new np(this.locale,this._config.queryView);return this.listenTo(t.fieldView,"input",(()=>{this.search(t.fieldView.element.value)})),t.on("reset",(()=>this.reset())),t.bind("isEnabled").to(this),t}_enableDefaultInfoViewBehavior(){const t=this.locale.t,e=this.infoView;function n(t,{query:e,resultsCount:n,totalItemsCount:i}){return"function"==typeof t?t(e,n,i):t}this.on("search",((i,r)=>{if(r.resultsCount)e.set({isVisible:!1});else{const i=this._config.infoView&&this._config.infoView.text;let o,s;r.totalItemsCount?i&&i.notFound?(o=i.notFound.primary,s=i.notFound.secondary):(o=t("No results found"),s=""):i&&i.noSearchableItems?(o=i.noSearchableItems.primary,s=i.noSearchableItems.secondary):(o=t("No searchable items"),s=""),e.set({primaryText:n(o,r),secondaryText:n(s,r),isVisible:!0})}}))}}class lp extends cp{constructor(t,n){super(t,n),this._config=n;const i=Qi("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const r=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[r.if("isVisible","ck-hidden",(t=>!t)),r.to("_position",(t=>`ck-search__results_${t}`))],style:{width:r.to("_width",i)}}}),this.focusTracker.on("change:isFocused",((t,e,i)=>{this._updateResultsVisibility(),i?this.resultsView.element.scrollTop=0:n.resetOnBlur&&this.queryView.reset()})),this.on("search",(()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()})),this.keystrokes.set("esc",((t,e)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,e())})),this.listenTo(e.document,"scroll",(()=>{this._updateResultsViewWidthAndPosition()})),this.on("change:isEnabled",(()=>{this._updateResultsVisibility()})),this.filteredView.on("execute",((t,{value:e})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=e,this.resultsView.isVisible=!1})),this.resultsView.on("change:isVisible",(()=>{this._updateResultsViewWidthAndPosition()}))}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Ui(this.queryView.fieldView.element).width;const t=lp._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:lp.defaultResultsPositions});this.resultsView._position=t?t.name:"s"}_updateResultsVisibility(){const t=void 0===this._config.queryMinChars?0:this._config.queryMinChars,e=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&e>=t}}lp.defaultResultsPositions=[t=>({top:t.bottom,left:t.left,name:"s"}),(t,e)=>({top:t.top-e.height,left:t.left,name:"n"})],lp._getOptimalPosition=ir;up={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var up;var hp=/[&<>"']/g;RegExp(hp.source);class dp extends Qd{constructor(t){super(t);const e=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(t=>String(t))),"data-cke-tooltip-disabled":e.to("isOn")},on:{mouseenter:e.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new Md;return t.content=ff,t.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),t}}class fp extends Ed{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",e.to("position",(t=>`ck-menu-bar__menu__panel_position_${t}`)),e.if("isVisible","ck-hidden",(t=>!t))],tabindex:"-1"},children:this.children,on:{selectstart:e.to((t=>{"input"!==t.target.tagName.toLocaleLowerCase()&&t.preventDefault()}))}})}focus(t=1){this.children.length&&(1===t?this.children.first.focus():this.children.last.focus())}}class gp extends Ed{constructor(t){super(t);const e=this.bindTemplate;this.buttonView=new dp(t),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new fp(t),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new no,this.focusTracker=new Qr,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",e.to("class"),e.if("isEnabled","ck-disabled",(t=>!t)),e.if("parentMenuView","ck-menu-bar__menu_top-level",(t=>!t))]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),Sg.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(Sg.openOnButtonClick(this),Sg.openOnArrowRightKey(this),Sg.closeOnArrowLeftKey(this),Sg.openAndFocusOnEnterKeyPress(this),Sg.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),Sg.openAndFocusPanelOnArrowDownKey(this),Sg.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",((t,e)=>{this.fire("arrowright"),e()})),this.keystrokes.set("arrowleft",((t,e)=>{this.fire("arrowleft"),e()}))}_repositionPanelOnOpen(){this.on("change:isOpen",((t,e,n)=>{if(!n)return;const i=gp._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=i?i.name:this._defaultMenuPositionName}))}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:t,southWest:e,northEast:n,northWest:i,westSouth:r,eastSouth:o,westNorth:s,eastNorth:a}=Ig;return"ltr"===this.locale.uiLanguageDirection?this.parentMenuView?[o,a,r,s]:[t,e,n,i]:this.parentMenuView?[r,s,o,a]:[e,t,i,n]}get _defaultMenuPositionName(){return"ltr"===this.locale.uiLanguageDirection?this.parentMenuView?"es":"se":this.parentMenuView?"ws":"sw"}}gp._getOptimalPosition=ir;const pp=gp;class mp extends Sf{constructor(t){super(t),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){const t=Array.from(this.items).some((t=>{const e=bp(t);return e&&e.isToggleable}));this.items.forEach((e=>{const n=bp(e);n&&(n.hasCheckSpace=t)}))}}function bp(t){return t instanceof Tf?t.children.map((t=>function(t){return"object"==typeof t&&"buttonView"in t&&t.buttonView instanceof Od}(t)?t.buttonView:t)).find((t=>t instanceof Qd)):null}class wp extends uf{constructor(t){super(t),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}const yp=["mouseenter","arrowleft","arrowright","change:isOpen"];class vp extends Ed{constructor(t){super(t),this.menus=[];const e=t.t,n=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",n.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":e("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(t,e,n=[]){const i=Pg({normalizedConfig:t,locale:this.locale,componentFactory:e,extraItems:n}).items.map((t=>this._createMenu({componentFactory:e,menuDefinition:t})));this.children.addMany(i)}render(){super.render(),Ag.toggleMenusAndFocusItemsOnHover(this),Ag.closeMenusWhenTheBarCloses(this),Ag.closeMenuWhenAnotherOnTheSameLevelOpens(this),Ag.focusCycleMenusOnArrows(this),Ag.closeOnClickOutside(this),Ag.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const t of this.children)t.isOpen=!1}registerMenu(t,e=null){e?(t.delegate(...yp).to(e),t.parentMenuView=e):t.delegate(...yp).to(this,(t=>"menu:"+t)),t._attachBehaviors(),this.menus.push(t)}_createMenu({componentFactory:t,menuDefinition:e,parentMenuView:n}){const i=this.locale,r=new pp(i);return this.registerMenu(r,n),r.buttonView.set({label:e.label}),r.once("change:isOpen",(()=>{const n=new mp(i);n.ariaLabel=e.label,r.panelView.children.add(n),n.items.addMany(this._createMenuItems({menuDefinition:e,parentMenuView:r,componentFactory:t}))})),r}_createMenuItems({menuDefinition:t,parentMenuView:e,componentFactory:n}){const i=this.locale,r=[];for(const o of t.groups){for(const t of o.items){const o=new Cg(i,e);if(z(t))o.children.add(this._createMenu({componentFactory:n,menuDefinition:t,parentMenuView:e}));else{const i=this._createMenuItemContentFromFactory({componentName:t,componentFactory:n,parentMenuView:e});if(!i)continue;o.children.add(i)}r.push(o)}o!==t.groups[t.groups.length-1]&&r.push(new Cf(i))}return r}_createMenuItemContentFromFactory({componentName:t,parentMenuView:e,componentFactory:n}){const i=n.create(t);return i instanceof pp||i instanceof tf||i instanceof wp?(this._registerMenuTree(i,e),i.on("execute",(()=>{this.close()})),i):(T("menu-bar-component-unsupported",{componentName:t,componentView:i}),null)}_registerMenuTree(t,e){if(!(t instanceof pp))return void t.delegate("mouseenter").to(e);this.registerMenu(t,e);const n=t.panelView.children.filter((t=>t instanceof mp))[0];if(!n)return void t.delegate("mouseenter").to(e);const i=n.items.filter((t=>t instanceof Tf));for(const e of i)this._registerMenuTree(e.children.get(0),t)}_setupIsOpenUpdater(){let t;this.on("menu:change:isOpen",((e,n,i)=>{clearTimeout(t),i?this.isOpen=!0:t=setTimeout((()=>{this.isOpen=Array.from(this.children).some((t=>t.isOpen))}),0)}))}}class _p extends fo{static get pluginName(){return"CKBoxUI"}static get isOfficialPlugin(){return!0}afterInit(){const t=this.editor;t.commands.get("ckbox")&&(t.ui.componentFactory.add("ckbox",(()=>this._createFileToolbarButton())),t.ui.componentFactory.add("menuBar:ckbox",(()=>this._createFileMenuBarButton())),t.plugins.has("ImageInsertUI")&&t.plugins.get("ImageInsertUI").registerIntegration({name:"assetManager",observable:()=>t.commands.get("ckbox"),buttonViewCreator:()=>this._createImageToolbarButton(),formViewCreator:()=>this._createImageDropdownButton(),menuBarButtonViewCreator:t=>this._createImageMenuBarButton(t?"insertOnly":"insertNested")}))}_createButton(t){const e=this.editor,n=new t(e.locale),i=e.commands.get("ckbox");return n.bind("isOn","isEnabled").to(i,"value","isEnabled"),n.on("execute",(()=>{e.execute("ckbox")})),n}_createFileToolbarButton(){const t=this.editor.locale.t,e=this._createButton(Od);return e.icon=ed.browseFiles,e.label=t("Open file manager"),e.tooltip=!0,e}_createImageToolbarButton(){const t=this.editor.locale.t,e=this.editor.plugins.get("ImageInsertUI"),n=this._createButton(Od);return n.icon=ed.imageAssetManager,n.bind("label").to(e,"isImageSelected",(e=>t(e?"Replace image with file manager":"Insert image with file manager"))),n.tooltip=!0,n}_createImageDropdownButton(){const t=this.editor.locale.t,e=this.editor.plugins.get("ImageInsertUI"),n=this._createButton(Od);return n.icon=ed.imageAssetManager,n.withText=!0,n.bind("label").to(e,"isImageSelected",(e=>t(e?"Replace with file manager":"Insert with file manager"))),n.on("execute",(()=>{e.dropdownView.isOpen=!1})),n}_createFileMenuBarButton(){const t=this.editor.locale.t,e=this._createButton(tf);return e.icon=ed.browseFiles,e.withText=!0,e.label=t("File"),e}_createImageMenuBarButton(t){const e=this.editor.locale.t,n=this.editor.locale.t,i=this._createButton(tf);switch(i.icon=ed.imageAssetManager,i.withText=!0,t){case"insertOnly":i.label=e("Image");break;case"insertNested":i.label=n("With file manager")}return i}}var kp=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],xp=t=>{let e=0;for(let n=0;n<t.length;n++){let i=t[n];e=83*e+kp.indexOf(i)}return e},Ep=t=>{let e=t/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},Tp=t=>{let e=Math.max(0,Math.min(1,t));return e<=.0031308?Math.trunc(12.92*e*255+.5):Math.trunc(255*(1.055*Math.pow(e,.4166666666666667)-.055)+.5)},Cp=(t,e)=>(t=>t<0?-1:1)(t)*Math.pow(Math.abs(t),e),Ap=class extends Error{constructor(t){super(t),this.name="ValidationError",this.message=t}},Sp=t=>{if(!t||t.length<6)throw new Ap("The blurhash string must be at least 6 characters");let e=xp(t[0]),n=Math.floor(e/9)+1,i=e%9+1;if(t.length!==4+2*i*n)throw new Ap(`blurhash length mismatch: length is ${t.length} but it should be ${4+2*i*n}`)},Ip=t=>{let e=t>>8&255,n=255&t;return[Ep(t>>16),Ep(e),Ep(n)]},Mp=(t,e)=>{let n=Math.floor(t/361),i=Math.floor(t/19)%19,r=t%19;return[Cp((n-9)/9,2)*e,Cp((i-9)/9,2)*e,Cp((r-9)/9,2)*e]},Pp=(t,e,n,i)=>{Sp(t),i|=1;let r=xp(t[0]),o=Math.floor(r/9)+1,s=r%9+1,a=(xp(t[1])+1)/166,c=new Array(s*o);for(let e=0;e<c.length;e++)if(0===e){let n=xp(t.substring(2,6));c[e]=Ip(n)}else{let n=xp(t.substring(4+2*e,6+2*e));c[e]=Mp(n,a*i)}let l=4*e,u=new Uint8ClampedArray(l*n);for(let t=0;t<n;t++)for(let i=0;i<e;i++){let r=0,a=0,h=0;for(let l=0;l<o;l++)for(let o=0;o<s;o++){let u=Math.cos(Math.PI*i*o/e)*Math.cos(Math.PI*t*l/n),d=c[o+l*s];r+=d[0]*u,a+=d[1]*u,h+=d[2]*u}let d=Tp(r),f=Tp(a),g=Tp(h);u[4*i+0+t*l]=d,u[4*i+1+t*l]=f,u[4*i+2+t*l]=g,u[4*i+3+t*l]=255}return u};function Op(t){const e=[];let n=0;for(const i in t){const r=parseInt(i,10);isNaN(r)||(r>n&&(n=r),e.push(`${t[i]} ${i}w`))}const i=[{srcset:e.join(","),sizes:`(max-width: ${n}px) 100vw, ${n}px`,type:"image/webp"}];return{imageFallbackUrl:t.default,imageSources:i}}function Dp({url:t,method:e="GET",data:n,onUploadProgress:i,signal:r,authorization:o}){const s=new XMLHttpRequest;s.open(e,t.toString()),s.setRequestHeader("Authorization",o),s.setRequestHeader("CKBox-Version","CKEditor 5"),s.responseType="json";const a=()=>{s.abort()};return new Promise(((t,e)=>{r.throwIfAborted(),r.addEventListener("abort",a),s.addEventListener("loadstart",(()=>{r.addEventListener("abort",a)})),s.addEventListener("loadend",(()=>{r.removeEventListener("abort",a)})),s.addEventListener("error",(()=>{e()})),s.addEventListener("abort",(()=>{e()})),s.addEventListener("load",(()=>{const n=s.response;if(!n||n.statusCode>=400)return e(n&&n.message);t(n)})),i&&s.upload.addEventListener("progress",(t=>{i(t)})),s.send(n)}))}const Np={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};class Lp extends po{constructor(t){super(t),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return null!==this._wrapper}_checkEnabled(){const t=this.editor.commands.get("insertImage"),e=this.editor.commands.get("link");return!(!t.isEnabled&&!e.isEnabled)}_prepareOptions(){const t=this.editor.config.get("ckbox"),e=t.dialog,n=t.categories,i=t.view,r=t.upload;return{theme:t.theme,language:t.language,tokenUrl:t.tokenUrl,serviceOrigin:t.serviceOrigin,forceDemoLabel:t.forceDemoLabel,choosableFileExtensions:t.choosableFileExtensions,assets:{onChoose:t=>this.fire("ckbox:choose",t)},dialog:{onClose:()=>this.fire("ckbox:close"),width:e&&e.width,height:e&&e.height},categories:n&&{icons:n.icons},view:i&&{openLastView:i.openLastView,startupFolderId:i.startupFolderId,startupCategoryId:i.startupCategoryId,hideMaximizeButton:i.hideMaximizeButton},upload:r&&{componentsHideTimeout:r.componentsHideTimeout,dialogMinimizeTimeout:r.dialogMinimizeTimeout}}}_initListeners(){const t=this.editor,e=t.model,n=!t.config.get("ckbox.ignoreDataId");this.on("ckbox",(()=>{this.refresh()}),{priority:"low"}),this.on("ckbox:open",(()=>{this.isEnabled&&!this.value&&(this._wrapper=_t(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))})),this.on("ckbox:close",(()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,t.editing.view.focus())})),this.on("ckbox:choose",((i,r)=>{if(!this.isEnabled)return;const o=t.commands.get("insertImage"),s=t.commands.get("link"),a=function({assets:t,isImageAllowed:e,isLinkAllowed:n}){return t.map((t=>function(t){const e=t.data.metadata;if(!e)return!1;return e.width&&e.height}(t)?{id:t.data.id,type:"image",attributes:Rp(t)}:{id:t.data.id,type:"link",attributes:Bp(t)})).filter((t=>"image"===t.type?e:n))}({assets:r,isImageAllowed:o.isEnabled,isLinkAllowed:s.isEnabled}),c=a.length;0!==c&&(e.change((t=>{for(const e of a){const i=e===a[c-1],r=1===c;this._insertAsset(e,i,t,r),n&&(setTimeout((()=>this._chosenAssets.delete(e)),1e3),this._chosenAssets.add(e))}})),t.editing.view.focus())})),this.listenTo(t,"destroy",(()=>{this.fire("ckbox:close"),this._chosenAssets.clear()}))}_insertAsset(t,e,n,i){const r=this.editor.model.document.selection;n.removeSelectionAttribute("linkHref"),"image"===t.type?this._insertImage(t):this._insertLink(t,n,i),e||n.setSelection(r.getLastPosition())}_insertImage(t){const e=this.editor,{imageFallbackUrl:n,imageSources:i,imageTextAlternative:r,imageWidth:o,imageHeight:s,imagePlaceholder:a}=t.attributes;e.execute("insertImage",{source:{src:n,sources:i,alt:r,width:o,height:s,...a?{placeholder:a}:null}})}_insertLink(t,e,n){const i=this.editor,r=i.model,o=r.document.selection,{linkName:s,linkHref:a}=t.attributes;if(o.isCollapsed){const t=io(o.getAttributes()),c=e.createText(s,t);if(!n){const t=o.getLastPosition(),n=t.parent;"paragraph"===n.name&&n.isEmpty||i.execute("insertParagraph",{position:t});const s=r.insertContent(c);return e.setSelection(s),void i.execute("link",a)}const l=r.insertContent(c);e.setSelection(l)}i.execute("link",a)}}function Rp(t){const{imageFallbackUrl:e,imageSources:n}=Op(t.data.imageUrls),{description:i,width:r,height:o,blurHash:s}=t.data.metadata,a=function(t){if(t)try{const e="32px",n=document.createElement("canvas");n.setAttribute("width",e),n.setAttribute("height",e);const i=n.getContext("2d");if(!i)return;const r=i.createImageData(32,32),o=Pp(t,32,32);return r.data.set(o),i.putImageData(r,0,0),n.toDataURL()}catch(t){return}}(s);return{imageFallbackUrl:e,imageSources:n,imageTextAlternative:i||"",imageWidth:r,imageHeight:o,...a?{imagePlaceholder:a}:null}}function Bp(t){return{linkName:t.data.name,linkHref:Fp(t)}}function Fp(t){const e=new URL(t.data.url);return e.searchParams.set("download","true"),e.toString()}class jp extends(Y()){constructor(){super();const t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){const e=this._reader;return this.total=t.size,new Promise(((n,i)=>{e.onload=()=>{const t=e.result;this._data=t,n(t)},e.onerror=()=>{i("error")},e.onabort=()=>{i("aborted")},this._reader.readAsDataURL(t)}))}abort(){this._reader.abort()}}class $p extends fo{constructor(){super(...arguments),this.loaders=new Xr,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get isOfficialPlugin(){return!0}static get requires(){return[td]}init(){this.loaders.on("change",(()=>this._updatePendingAction())),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((t,e)=>e?t/e*100:0))}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return T("filerepository-no-upload-adapter"),null;const e=new Vp(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(e),this._loadersMap.set(t,e),t instanceof Promise&&e.file.then((t=>{this._loadersMap.set(t,e)})).catch((()=>{})),e.on("change:uploaded",(()=>{let t=0;for(const e of this.loaders)t+=e.uploaded;this.uploaded=t})),e.on("change:uploadTotal",(()=>{let t=0;for(const e of this.loaders)e.uploadTotal&&(t+=e.uploadTotal);this.uploadTotal=t})),e}destroyLoader(t){const e=t instanceof Vp?t:this.getLoader(t);e._destroy(),this.loaders.remove(e),this._loadersMap.forEach(((t,n)=>{t===e&&this._loadersMap.delete(n)}))}_updatePendingAction(){const t=this.editor.plugins.get(td);if(this.loaders.length){if(!this._pendingAction){const e=this.editor.t,n=t=>`${e("Upload in progress")} ${parseInt(t)}%.`;this._pendingAction=t.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else t.remove(this._pendingAction),this._pendingAction=null}}class Vp extends(Y()){constructor(t,e){super(),this.id=_(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=e(this),this._reader=new jp,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((t,e)=>e?t/e*100:0)),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then((t=>this._filePromiseWrapper?t:null)):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new E("filerepository-read-wrong-status",this);return this.status="reading",this.file.then((t=>this._reader.read(t))).then((t=>{if("reading"!==this.status)throw this.status;return this.status="idle",t})).catch((t=>{if("aborted"===t)throw this.status="aborted","aborted";throw this.status="error",this._reader.error?this._reader.error:t}))}upload(){if("idle"!=this.status)throw new E("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then((()=>this._adapter.upload())).then((t=>(this.uploadResponse=t,this.status="idle",t))).catch((t=>{if("aborted"===this.status)throw"aborted";throw this.status="error",t}))}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==t?this._reader.abort():"uploading"==t&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch((()=>{})),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const e={};return e.promise=new Promise(((n,i)=>{e.rejecter=i,e.isFulfilled=!1,t.then((t=>{e.isFulfilled=!0,n(t)})).catch((t=>{e.isFulfilled=!0,i(t)}))})),e}}class zp extends fo{static get pluginName(){return"CKBoxUtils"}static get isOfficialPlugin(){return!0}static get requires(){return["CloudServices"]}init(){const t=this.editor,e=!!t.config.get("ckbox"),n=!!window.CKBox;if(!e&&!n)return;t.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:t.locale.uiLanguage,theme:"lark",tokenUrl:t.config.get("cloudServices.tokenUrl")});const i=t.plugins.get("CloudServices"),r=t.config.get("cloudServices.tokenUrl"),o=t.config.get("ckbox.tokenUrl");if(!o)throw new E("ckbox-plugin-missing-token-url",this);this._token=o==r?Promise.resolve(i.token):i.registerTokenUrl(o)}getToken(){return this._token}async getWorkspaceId(){const t=(0,this.editor.t)("Cannot access default workspace."),e=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),n=function(t,e){const[,n]=t.value.split("."),i=JSON.parse(atob(n)),r=i.auth&&i.auth.ckbox&&i.auth.ckbox.workspaces||[i.aud];return e?"superadmin"==(i.auth&&i.auth.ckbox&&i.auth.ckbox.role)||r.includes(e)?e:null:r[0]}(await this._token,e);if(null==n)throw C("ckbox-access-default-workspace-error"),t;return n}async getCategoryIdForFile(t,e){const n=(0,this.editor.t)("Cannot determine a category for the uploaded file."),i=this.editor.config.get("ckbox.defaultUploadCategories"),r=this._getAvailableCategories(e),o="string"==typeof t?(s=await async function(t,e){try{const n=await fetch(t,{method:"HEAD",cache:"force-cache",...e});return n.ok&&n.headers.get("content-type")||""}catch{return""}}(t,e),Np[s]):t.name.match(/\.(?<ext>[^.]+)$/).groups.ext.toLowerCase();var s;const a=await r;if(!a)throw n;if(i){const t=Object.keys(i).find((t=>i[t].find((t=>t.toLowerCase()==o))));if(t){const e=a.find((e=>e.id===t||e.name===t));if(!e)throw n;return e.id}}const c=a.find((t=>t.extensions.find((t=>t.toLowerCase()==o))));if(!c)throw n;return c.id}async _getAvailableCategories(t){const e=this.editor,n=this._token,{signal:i}=t,r=e.config.get("ckbox.serviceOrigin"),o=await this.getWorkspaceId();try{const t=[];let e,n=0;do{const i=await s(n);t.push(...i.items),e=i.totalCount-(n+50),n+=50}while(e>0);return t}catch{return i.throwIfAborted(),void C("ckbox-fetch-category-http-error")}async function s(t){const e=new URL("categories",r);return e.searchParams.set("limit",String(50)),e.searchParams.set("offset",String(t)),e.searchParams.set("workspaceId",o),Dp({url:e,signal:i,authorization:(await n).value})}}}class Hp extends fo{static get requires(){return["ImageUploadEditing","ImageUploadProgress",$p,Wp]}static get pluginName(){return"CKBoxUploadAdapter"}static get isOfficialPlugin(){return!0}async afterInit(){const t=this.editor,e=!!t.config.get("ckbox"),n=!!window.CKBox;if(!e&&!n)return;const i=t.plugins.get($p),r=t.plugins.get(zp);i.createUploadAdapter=e=>new Up(e,t,r);const o=!t.config.get("ckbox.ignoreDataId"),s=t.plugins.get("ImageUploadEditing");o&&s.on("uploadComplete",((e,{imageElement:n,data:i})=>{t.model.change((t=>{t.setAttribute("ckboxImageId",i.ckboxImageId,n)}))}))}}class Up{constructor(t,e,n){this.loader=t,this.token=n.getToken(),this.ckboxUtils=n,this.editor=e,this.controller=new AbortController,this.serviceOrigin=e.config.get("ckbox.serviceOrigin")}async upload(){const t=this.ckboxUtils,e=this.editor.t,n=await this.loader.file,i=await t.getCategoryIdForFile(n,{signal:this.controller.signal}),r=new URL("assets",this.serviceOrigin),o=new FormData;r.searchParams.set("workspaceId",await t.getWorkspaceId()),o.append("categoryId",i),o.append("file",n);return Dp({method:"POST",url:r,data:o,onUploadProgress:t=>{t.lengthComputable&&(this.loader.uploadTotal=t.total,this.loader.uploaded=t.loaded)},signal:this.controller.signal,authorization:(await this.token).value}).then((async t=>{const e=Op(t.imageUrls);return{ckboxImageId:t.id,default:e.imageFallbackUrl,sources:e.imageSources}})).catch((()=>{const t=e("Cannot upload file:")+` ${n.name}.`;return Promise.reject(t)}))}abort(){this.controller.abort()}}const qp="NoPermission";class Wp extends fo{static get pluginName(){return"CKBoxEditing"}static get isOfficialPlugin(){return!0}static get requires(){return["LinkEditing","PictureEditing",Hp,zp]}init(){const t=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),Xp()&&t.commands.add("ckbox",new Lp(t)),async function(t){const e=t.plugins.get(zp),n=t.config.get("ckbox.serviceOrigin"),i=new URL("permissions",n),{value:r}=await e.getToken(),o=await Dp({url:i,authorization:r,signal:(new AbortController).signal});return Object.values(o).some((t=>t["asset:create"]))}(t).then((t=>{t||this._blockImageCommands()})))}afterInit(){const t=this.editor;this._shouldBeInitialised()&&(t.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||Xp()}_blockImageCommands(){const t=this.editor,e=t.commands.get("uploadImage"),n=t.commands.get("ckboxImageEdit");e&&(e.isAccessAllowed=!1,e.forceDisabled(qp)),n&&n.forceDisabled(qp)}_checkImagePlugins(){const t=this.editor;t.plugins.has("ImageBlockEditing")||t.plugins.has("ImageInlineEditing")||C("ckbox-plugin-image-feature-missing",t)}_initSchema(){const t=this.editor.model.schema;t.extend("$text",{allowAttributes:"ckboxLinkId"}),t.isRegistered("imageBlock")&&t.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),t.isRegistered("imageInline")&&t.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),t.addAttributeCheck((t=>{if(!t.last.getAttribute("linkHref"))return!1}),"ckboxLinkId")}_initConversion(){const t=this.editor;t.conversion.for("downcast").add((t=>{t.on("attribute:ckboxLinkId:imageBlock",((t,e,n)=>{const{writer:i,mapper:r,consumable:o}=n;if(!o.consume(e.item,t.name))return;const s=[...r.toViewElement(e.item).getChildren()].find((t=>"a"===t.name));s&&(e.item.hasAttribute("ckboxLinkId")?i.setAttribute("data-ckbox-resource-id",e.item.getAttribute("ckboxLinkId"),s):i.removeAttribute("data-ckbox-resource-id",s))}),{priority:"low"}),t.on("attribute:ckboxLinkId",((t,e,n)=>{const{writer:i,mapper:r,consumable:o}=n;if(o.consume(e.item,t.name)){if(e.attributeOldValue){const t=Kp(i,e.attributeOldValue);i.unwrap(r.toViewRange(e.range),t)}if(e.attributeNewValue){const t=Kp(i,e.attributeNewValue);if(e.item.is("selection")){const e=i.document.selection;i.wrap(e.getFirstRange(),t)}else i.wrap(r.toViewRange(e.range),t)}}}),{priority:"low"})})),t.conversion.for("upcast").add((t=>{t.on("element:a",((t,e,n)=>{const{writer:i,consumable:r}=n;if(!e.viewItem.getAttribute("href"))return;if(!r.consume(e.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const o=e.viewItem.getAttribute("data-ckbox-resource-id");if(o)if(e.modelRange)for(let t of e.modelRange.getItems())t.is("$textProxy")&&(t=t.textNode),Yp(t)&&i.setAttribute("ckboxLinkId",o,t);else{const t=e.modelCursor.nodeBefore||e.modelCursor.parent;i.setAttribute("ckboxLinkId",o,t)}}),{priority:"low"})})),t.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),t.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:t=>t.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const e=t.commands.get("replaceImageSource");e&&this.listenTo(e,"cleanupImage",((t,[e,n])=>{e.removeAttribute("ckboxImageId",n)}))}_initFixers(){const t=this.editor,e=t.model,n=e.document.selection;e.document.registerPostFixer(function(t){return e=>{let n=!1;const i=t.model,r=t.commands.get("ckbox");if(!r)return n;for(const t of i.document.differ.getChanges()){if("insert"!==t.type&&"attribute"!==t.type)continue;const i="insert"===t.type?new Dc(t.position,t.position.getShiftedBy(t.length)):t.range,o="attribute"===t.type&&"linkHref"===t.attributeKey&&null===t.attributeNewValue;for(const t of i.getItems()){if(o&&t.hasAttribute("ckboxLinkId")){e.removeAttribute("ckboxLinkId",t),n=!0;continue}const i=Gp(t,r._chosenAssets);for(const r of i){const i="image"===r.type?"ckboxImageId":"ckboxLinkId";r.id!==t.getAttribute(i)&&(e.setAttribute(i,r.id,t),n=!0)}}}return n}}(t)),e.document.registerPostFixer(function(t){return e=>!(t.hasAttribute("linkHref")||!t.hasAttribute("ckboxLinkId"))&&(e.removeSelectionAttribute("ckboxLinkId"),!0)}(n))}}function Gp(t,e){const n=t.is("element","imageInline")||t.is("element","imageBlock"),i=t.hasAttribute("linkHref");return[...e].filter((e=>"image"===e.type&&n?e.attributes.imageFallbackUrl===t.getAttribute("src"):"link"===e.type&&i?e.attributes.linkHref===t.getAttribute("linkHref"):void 0))}function Kp(t,e){const n=t.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return t.setCustomProperty("link",!0,n),n}function Yp(t){return!!t.is("$text")||!(!t.is("element","imageInline")&&!t.is("element","imageBlock"))}function Xp(){return!!window.CKBox}class Zp extends fo{static get pluginName(){return"CKBox"}static get isOfficialPlugin(){return!0}static get requires(){return[Wp,_p]}}class Qp extends Sa{constructor(t){super(t),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const e=this.document;function n(t){return(n,i)=>{i.preventDefault();const r=i.dropRange?[i.dropRange]:null,o=new y(e,t);e.fire(o,{dataTransfer:i.dataTransfer,method:n.name,targetRanges:r,target:i.target,domEvent:i.domEvent}),o.stop.called&&i.stopPropagation()}}this.listenTo(e,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(e,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(e,"dragover",n("dragging"),{priority:"low"})}onDomEvent(t){const e="clipboardData"in t?t.clipboardData:t.dataTransfer,n="drop"==t.type||"paste"==t.type,i={dataTransfer:new mc(e,{cacheFiles:n})};if("drop"==t.type||"dragover"==t.type){const e=ji(t);i.dropRange=e&&this.view.domConverter.domRangeToView(e)}this.fire(t.type,t,i)}}const Jp=["figcaption","li"],tm=["ol","ul"];function em(t){if(t.is("$text")||t.is("$textProxy"))return t.data;if(t.is("element","img")&&t.hasAttribute("alt"))return t.getAttribute("alt");if(t.is("element","br"))return"\n";let e="",n=null;for(const i of t.getChildren())e+=nm(i,n)+em(i),n=i;return e}function nm(t,e){return e?t.is("element","li")&&!t.isEmpty&&t.getChild(0).is("containerElement")||tm.includes(t.name)&&tm.includes(e.name)?"\n\n":t.is("containerElement")||e.is("containerElement")?Jp.includes(t.name)||Jp.includes(e.name)?"\n":t.is("element")&&t.getCustomProperty("dataPipeline:transparentRendering")||e.is("element")&&e.getCustomProperty("dataPipeline:transparentRendering")?"":"\n\n":"":""}const im=function(t,e){return t&&Sr(t,e,fn)};const rm=function(t,e,n,i){var r=n.length,o=r,s=!i;if(null==t)return!o;for(t=Object(t);r--;){var a=n[r];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){var c=(a=n[r])[0],l=t[c],u=a[1];if(s&&a[2]){if(void 0===l&&!(c in t))return!1}else{var h=new Se;if(i)var d=i(l,u,c,t,e,h);if(!(void 0===d?lc(u,l,3,i,h):d))return!1}}return!0};const om=function(t){return t==t&&!z(t)};const sm=function(t){for(var e=fn(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,om(r)]}return e};const am=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}};const cm=function(t){var e=sm(t);return 1==e.length&&e[0][2]?am(e[0][0],e[0][1]):function(n){return n===t||rm(n,t,e)}};const lm=function(t,e){return null!=t&&e in Object(t)};const um=function(t,e,n){for(var i=-1,r=(e=Lo(e,t)).length,o=!1;++i<r;){var s=Ro(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Ke(r)&&Ge(s,r)&&(wt(t)||$e(t))};const hm=function(t,e){return null!=t&&um(t,e,lm)};const dm=function(t,e){return Eo(t)&&om(e)?am(Ro(t),e):function(n){var i=Fo(n,t);return void 0===i&&i===e?hm(n,t):lc(e,i,3)}};const fm=function(t){return function(e){return null==e?void 0:e[t]}};const gm=function(t){return function(e){return Bo(e,t)}};const pm=function(t){return Eo(t)?fm(Ro(t)):gm(t)};const mm=function(t){return"function"==typeof t?t:null==t?Nr:"object"==typeof t?wt(t)?dm(t[0],t[1]):cm(t):pm(t)};const bm=function(t,e){var n={};return e=mm(e,3),im(t,(function(t,i,r){Pe(n,i,e(t,i,r))})),n};class wm extends fo{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}static get isOfficialPlugin(){return!0}_registerMarkerToCopy(t,e){this._markersToCopy.set(t,e)}_copySelectedFragmentWithMarkers(t,e,n=t=>t.model.getSelectedContent(t.model.document.selection)){return this.editor.model.change((i=>{const r=i.model.document.selection;i.setSelection(e);const o=this._insertFakeMarkersIntoSelection(i,i.model.document.selection,t),s=n(i),a=this._removeFakeMarkersInsideElement(i,s);for(const[t,e]of Object.entries(o)){a[t]||(a[t]=i.createRangeIn(s));for(const t of e)i.remove(t)}s.markers.clear();for(const[t,e]of Object.entries(a))s.markers.set(t,e);return i.setSelection(r),s}))}_pasteMarkersIntoTransformedElement(t,e){const n=this._getPasteMarkersFromRangeMap(t);return this.editor.model.change((t=>{const i=this._insertFakeMarkersElements(t,n),r=e(t),o=this._removeFakeMarkersInsideElement(t,r);for(const e of Object.values(i).flat())t.remove(e);for(const[e,n]of Object.entries(o))t.model.markers.has(e)||t.addMarker(e,{usingOperation:!0,affectsData:!0,range:n});return r}))}_pasteFragmentWithMarkers(t){const e=this._getPasteMarkersFromRangeMap(t.markers);t.markers.clear();for(const n of e)t.markers.set(n.name,n.range);return this.editor.model.insertContent(t)}_forceMarkersCopy(t,e,n={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const i=this._markersToCopy.get(t);this._markersToCopy.set(t,n),e(),i?this._markersToCopy.set(t,i):this._markersToCopy.delete(t)}_isMarkerCopyable(t,e){const n=this._getMarkerClipboardConfig(t);if(!n)return!1;if(!e)return!0;const{allowedActions:i}=n;return"all"===i||i.includes(e)}_hasMarkerConfiguration(t){return!!this._getMarkerClipboardConfig(t)}_getMarkerClipboardConfig(t){const[e]=t.split(":");return this._markersToCopy.get(e)||null}_insertFakeMarkersIntoSelection(t,e,n){const i=this._getCopyableMarkersFromSelection(t,e,n);return this._insertFakeMarkersElements(t,i)}_getCopyableMarkersFromSelection(t,e,n){const i=Array.from(e.getRanges()),r=new Set(i.flatMap((e=>Array.from(t.model.markers.getMarkersIntersectingRange(e)))));return Array.from(r).filter((t=>{if(!this._isMarkerCopyable(t.name,n))return!1;const{copyPartiallySelected:e}=this._getMarkerClipboardConfig(t.name);if(!e){const e=t.getRange();return i.some((t=>t.containsRange(e,!0)))}return!0})).map((t=>({name:"dragstart"===n?this._getUniqueMarkerName(t.name):t.name,range:t.getRange()})))}_getPasteMarkersFromRangeMap(t,e=null){const{model:n}=this.editor;return(t instanceof Map?Array.from(t.entries()):Object.entries(t)).flatMap((([t,i])=>{if(!this._hasMarkerConfiguration(t))return[{name:t,range:i}];if(this._isMarkerCopyable(t,e)){const e=this._getMarkerClipboardConfig(t),r=n.markers.has(t)&&"$graveyard"===n.markers.get(t).getRange().root.rootName;return(e.duplicateOnPaste||r)&&(t=this._getUniqueMarkerName(t)),[{name:t,range:i}]}return[]}))}_insertFakeMarkersElements(t,e){const n={},i=e.flatMap((t=>{const{start:e,end:n}=t.range;return[{position:e,marker:t,type:"start"},{position:n,marker:t,type:"end"}]})).sort((({position:t},{position:e})=>t.isBefore(e)?1:-1));for(const{position:e,marker:r,type:o}of i){const i=t.createElement("$marker",{"data-name":r.name,"data-type":o});n[r.name]||(n[r.name]=[]),n[r.name].push(i),t.insert(i,e)}return n}_removeFakeMarkersInsideElement(t,e){const n=this._getAllFakeMarkersFromElement(t,e).reduce(((e,n)=>{const i=n.markerElement&&t.createPositionBefore(n.markerElement);let r=e[n.name],o=!1;if(r&&r.start&&r.end){this._getMarkerClipboardConfig(n.name).duplicateOnPaste?e[this._getUniqueMarkerName(n.name)]=e[n.name]:o=!0,r=null}return o||(e[n.name]={...r,[n.type]:i}),n.markerElement&&t.remove(n.markerElement),e}),{});return bm(n,(n=>new Dc(n.start||t.createPositionFromPath(e,[0]),n.end||t.createPositionAt(e,"end"))))}_getAllFakeMarkersFromElement(t,e){const n=Array.from(t.createRangeIn(e)).flatMap((({item:t})=>{if(!t.is("element","$marker"))return[];const e=t.getAttribute("data-name"),n=t.getAttribute("data-type");return[{markerElement:t,name:e,type:n}]})),i=[],r=[];for(const t of n){if("end"===t.type){n.some((e=>e.name===t.name&&"start"===e.type))||i.push({markerElement:null,name:t.name,type:"start"})}if("start"===t.type){n.some((e=>e.name===t.name&&"end"===e.type))||r.unshift({markerElement:null,name:t.name,type:"end"})}}return[...i,...n,...r]}_getUniqueMarkerName(t){const e=t.split(":"),n=_().substring(1,6);return 3===e.length?`${e.slice(0,2).join(":")}:${n}`:`${e.join(":")}:${n}`}}class ym extends fo{static get pluginName(){return"ClipboardPipeline"}static get isOfficialPlugin(){return!0}static get requires(){return[wm]}init(){this.editor.editing.view.addObserver(Qp),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(t,e,n){const i=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:"cut"===n},(()=>{const r=i._copySelectedFragmentWithMarkers(n,e);this.fire("outputTransformation",{dataTransfer:t,content:r,method:n})}))}_setupPasteDrop(){const t=this.editor,e=t.model,n=t.editing.view,i=n.document,r=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(i,"clipboardInput",((e,n)=>{"paste"!=n.method||t.model.canEditAt(t.model.document.selection)||e.stop()}),{priority:"highest"}),this.listenTo(i,"clipboardInput",((t,e)=>{const i=e.dataTransfer;let r;if(e.content)r=e.content;else{let t="";i.getData("text/html")?t=function(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((t,e)=>1==e.length?" ":e)).replace(/<!--[\s\S]*?-->/g,"")}(i.getData("text/html")):i.getData("text/plain")&&(((o=(o=i.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||o.includes("<br>"))&&(o=`<p>${o}</p>`),t=o),r=this.editor.data.htmlProcessor.toView(t)}var o;const s=new y(this,"inputTransformation");this.fire(s,{content:r,dataTransfer:i,targetRanges:e.targetRanges,method:e.method}),s.stop.called&&t.stop(),n.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",((t,n)=>{if(n.content.isEmpty)return;const i=this.editor.data.toModel(n.content,"$clipboardHolder");0!=i.childCount&&(t.stop(),e.change((()=>{this.fire("contentInsertion",{content:i,method:n.method,dataTransfer:n.dataTransfer,targetRanges:n.targetRanges})})))}),{priority:"low"}),this.listenTo(this,"contentInsertion",((t,e)=>{e.resultRange=r._pasteFragmentWithMarkers(e.content)}),{priority:"low"})}_setupCopyCut(){const t=this.editor,e=t.model.document,n=t.editing.view.document,i=(t,n)=>{const i=n.dataTransfer;n.preventDefault(),this._fireOutputTransformationEvent(i,e.selection,t.name)};this.listenTo(n,"copy",i,{priority:"low"}),this.listenTo(n,"cut",((e,n)=>{t.model.canEditAt(t.model.document.selection)?i(e,n):n.preventDefault()}),{priority:"low"}),this.listenTo(this,"outputTransformation",((e,i)=>{const r=t.data.toView(i.content);n.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:r,method:i.method})}),{priority:"low"}),this.listenTo(n,"clipboardOutput",((n,i)=>{i.content.isEmpty||(i.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(i.content)),i.dataTransfer.setData("text/plain",em(i.content))),"cut"==i.method&&t.model.deleteContent(e.selection)}),{priority:"low"})}}class vm{constructor(t,e=20){this._batch=null,this.model=t,this._size=0,this.limit=e,this._isLocked=!1,this._changeCallback=(t,e)=>{e.isLocal&&e.isUndoable&&e!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(t){this._size+=t,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t=!1){this.isLocked&&!t||(this._batch=null,this._size=0)}}class _m extends po{constructor(t,e){super(t),this._buffer=new vm(t.model,e),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,n=e.document,i=t.text||"",r=i.length;let o=n.selection;if(t.selection?o=t.selection:t.range&&(o=e.createSelection(t.range)),!e.canEditAt(o))return;const s=t.resultRange;e.enqueueChange(this._buffer.batch,(t=>{this._buffer.lock();const a=Array.from(n.selection.getAttributes());e.deleteContent(o),i&&e.insertContent(t.createText(i,a),o),s?t.setSelection(s):o.is("documentSelection")||t.setSelection(o),this._buffer.unlock(),this._buffer.input(r)}))}}const km=["insertText","insertReplacementText"],xm=[...km,"insertCompositionText"];class Em extends Ta{constructor(t){super(t),this.focusObserver=t.getObserver(fc);const e=o.isAndroid?xm:km,n=t.document;n.on("beforeinput",((i,r)=>{if(!this.isEnabled)return;const{data:o,targetRanges:s,inputType:a,domEvent:c}=r;if(!e.includes(a))return;this.focusObserver.flush();const l=new y(n,"insertText");n.fire(l,new Aa(t,c,{text:o,selection:t.createSelection(s)})),l.stop.called&&i.stop()})),o.isAndroid||n.on("compositionend",((e,{data:i,domEvent:r})=>{this.isEnabled&&i&&n.fire("insertText",new Aa(t,r,{text:i}))}),{priority:"lowest"})}observe(){}stopObserving(){}}class Tm extends fo{static get pluginName(){return"Input"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model,n=t.editing.view,i=t.editing.mapper,r=e.document.selection;this._compositionQueue=new Cm(t),n.addObserver(Em);const s=new _m(t,t.config.get("typing.undoStep")||20);t.commands.add("insertText",s),t.commands.add("input",s),this.listenTo(n.document,"insertText",((s,a)=>{n.document.isComposing||a.preventDefault(),o.isAndroid&&n.document.isComposing&&this._compositionQueue.flush("next beforeinput");const{text:c,selection:l}=a;let u;u=l?Array.from(l.getRanges()).map((t=>i.toModelRange(t))):Array.from(r.getRanges());let h=c;if(o.isAndroid){const t=Array.from(u[0].getItems()).reduce(((t,e)=>t+(e.is("$textProxy")?e.data:"")),"");if(t&&(t.length<=h.length?h.startsWith(t)&&(h=h.substring(t.length),u[0].start=u[0].start.getShiftedBy(t.length)):t.startsWith(h)&&(u[0].start=u[0].start.getShiftedBy(h.length),h="")),0==h.length&&u[0].isCollapsed)return}const d={text:h,selection:e.createSelection(u)};o.isAndroid&&n.document.isComposing?this._compositionQueue.push(d):(t.execute("insertText",d),n.scrollToTheSelection())})),o.isAndroid?this.listenTo(n.document,"keydown",((t,i)=>{!r.isCollapsed&&229==i.keyCode&&n.document.isComposing&&Am(e,s)})):this.listenTo(n.document,"compositionstart",(()=>{r.isCollapsed||Am(e,s)})),o.isAndroid?(this.listenTo(n.document,"mutations",((t,{mutations:e})=>{if(n.document.isComposing)for(const{node:t}of e){const e=Sm(t,i),n=i.toModelElement(e);if(this._compositionQueue.isComposedElement(n))return void this._compositionQueue.flush("mutations")}})),this.listenTo(n.document,"compositionend",(()=>{this._compositionQueue.flush("composition end")})),this.listenTo(n.document,"compositionend",(()=>{const t=[];for(const e of this._compositionQueue.flushComposedElements()){const n=i.toViewElement(e);n&&t.push({type:"children",node:n})}t.length&&n.document.fire("mutations",{mutations:t})}),{priority:"lowest"})):this.listenTo(n.document,"compositionend",(()=>{n.document.fire("mutations",{mutations:[]})}),{priority:"lowest"})}destroy(){super.destroy(),this._compositionQueue.destroy()}}class Cm{constructor(t){this.flushDebounced=za((()=>this.flush("timeout")),50),this._queue=[],this._compositionElements=new Set,this.editor=t}destroy(){for(this.flushDebounced.cancel(),this._compositionElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(t){const e={text:t.text};if(t.selection){e.selectionRanges=[];for(const n of t.selection.getRanges())e.selectionRanges.push(Kc.fromRange(n)),this._compositionElements.add(n.start.parent)}this._queue.push(e),this.flushDebounced()}shift(){const t=this._queue.shift(),e={text:t.text};if(t.selectionRanges){const n=t.selectionRanges.map((t=>function(t){const e=t.toRange();if(t.detach(),"$graveyard"==e.root.rootName)return null;return e}(t))).filter((t=>!!t));n.length&&(e.selection=this.editor.model.createSelection(n))}return e}flush(t){const e=this.editor,n=e.model,i=e.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;const r=e.commands.get("insertText").buffer;n.enqueueChange(r.batch,(()=>{for(r.lock();this._queue.length;){const t=this.shift();e.execute("insertText",t)}r.unlock()})),i.scrollToTheSelection()}isComposedElement(t){return this._compositionElements.has(t)}flushComposedElements(){const t=Array.from(this._compositionElements);return this._compositionElements.clear(),t}}function Am(t,e){if(!e.isEnabled)return;const n=e.buffer;n.lock(),t.enqueueChange(n.batch,(()=>{t.deleteContent(t.document.selection)})),n.unlock()}function Sm(t,e){let n=t.is("$text")?t.parent:t;for(;!e.toModelElement(n);)n=n.parent;return n}class Im extends po{constructor(t,e){super(t),this.direction=e,this._buffer=new vm(t.model,t.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(t={}){const e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,(i=>{this._buffer.lock();const r=i.createSelection(t.selection||n.selection);if(!e.canEditAt(r))return;const o=t.sequence||1,s=r.isCollapsed;if(r.isCollapsed&&e.modifySelection(r,{direction:this.direction,unit:t.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(o))return void this._replaceEntireContentWithParagraph(i);if(this._shouldReplaceFirstBlockWithParagraph(r,o))return void this.editor.execute("paragraph",{selection:r});if(r.isCollapsed)return;let a=0;r.getFirstRange().getMinimalFlatRanges().forEach((t=>{a+=nt(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),e.deleteContent(r,{doNotResetEntireContent:s,direction:this.direction}),this._buffer.input(a),i.setSelection(r),this._buffer.unlock()}))}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,n=e.document.selection,i=e.schema.getLimitElement(n);if(!(n.isCollapsed&&n.containsEntireContent(i)))return!1;if(!e.schema.checkChild(i,"paragraph"))return!1;const r=i.getChild(0);return!r||!r.is("element","paragraph")}_replaceEntireContentWithParagraph(t){const e=this.editor.model,n=e.document.selection,i=e.schema.getLimitElement(n),r=t.createElement("paragraph");t.remove(t.createRangeIn(i)),t.insert(r,i),t.setSelection(r,0)}_shouldReplaceFirstBlockWithParagraph(t,e){const n=this.editor.model;if(e>1||"backward"!=this.direction)return!1;if(!t.isCollapsed)return!1;const i=t.getFirstPosition(),r=n.schema.getLimitElement(i),o=r.getChild(0);return i.parent==o&&(!!t.containsEntireContent(o)&&(!!n.schema.checkChild(r,"paragraph")&&"paragraph"!=o.name))}}const Mm="word",Pm="selection",Om="backward",Dm="forward",Nm={deleteContent:{unit:Pm,direction:Om},deleteContentBackward:{unit:"codePoint",direction:Om},deleteWordBackward:{unit:Mm,direction:Om},deleteHardLineBackward:{unit:Pm,direction:Om},deleteSoftLineBackward:{unit:Pm,direction:Om},deleteContentForward:{unit:"character",direction:Dm},deleteWordForward:{unit:Mm,direction:Dm},deleteHardLineForward:{unit:Pm,direction:Dm},deleteSoftLineForward:{unit:Pm,direction:Dm}};class Lm extends Ta{constructor(t){super(t);const e=t.document;let n=0;e.on("keydown",(()=>{n++})),e.on("keyup",(()=>{n=0})),e.on("beforeinput",((i,r)=>{if(!this.isEnabled)return;const{targetRanges:s,domEvent:a,inputType:c}=r,l=Nm[c];if(!l)return;const u={direction:l.direction,unit:l.unit,sequence:n};u.unit==Pm&&(u.selectionToRemove=t.createSelection(s[0])),"deleteContentBackward"===c&&(o.isAndroid&&(u.sequence=1),function(t){if(1!=t.length||t[0].isCollapsed)return!1;const e=t[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let n=0;for(const{nextPosition:t,item:i}of e){if(t.parent.is("$text")){const e=t.parent.data,i=t.offset;if(ao(e,i)||co(e,i)||uo(e,i))continue;n++}else(i.is("containerElement")||i.is("emptyElement"))&&n++;if(n>1)return!0}return!1}(s)&&(u.unit=Pm,u.selectionToRemove=t.createSelection(s)));const h=new Cs(e,"delete",s[0]);e.fire(h,new Aa(t,a,u)),h.stop.called&&i.stop()})),o.isBlink&&function(t){const e=t.view,n=e.document;let i=null,r=!1;function o(t){return t==yr.backspace||t==yr.delete}function s(t){return t==yr.backspace?Om:Dm}n.on("keydown",((t,{keyCode:e})=>{i=e,r=!1})),n.on("keyup",((a,{keyCode:c,domEvent:l})=>{const u=n.selection,h=t.isEnabled&&c==i&&o(c)&&!u.isCollapsed&&!r;if(i=null,h){const t=u.getFirstRange(),i=new Cs(n,"delete",t),r={unit:Pm,direction:s(c),selectionToRemove:u};n.fire(i,new Aa(e,l,r))}})),n.on("beforeinput",((t,{inputType:e})=>{const n=Nm[e];o(i)&&n&&n.direction==s(i)&&(r=!0)}),{priority:"high"}),n.on("beforeinput",((t,{inputType:e,data:n})=>{i==yr.delete&&"insertText"==e&&""==n&&t.stop()}),{priority:"high"})}(this)}observe(){}stopObserving(){}}class Rm extends fo{static get pluginName(){return"Delete"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.editing.view,n=e.document,i=t.model.document;e.addObserver(Lm),this._undoOnBackspace=!1;const r=new Im(t,"forward");t.commands.add("deleteForward",r),t.commands.add("forwardDelete",r),t.commands.add("delete",new Im(t,"backward")),this.listenTo(n,"delete",((i,r)=>{n.isComposing||r.preventDefault();const{direction:o,sequence:s,selectionToRemove:a,unit:c}=r,l="forward"===o?"deleteForward":"delete",u={sequence:s};if("selection"==c){const e=Array.from(a.getRanges()).map((e=>t.editing.mapper.toModelRange(e)));u.selection=t.model.createSelection(e)}else u.unit=c;t.execute(l,u),e.scrollToTheSelection()}),{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",((e,n)=>{this._undoOnBackspace&&"backward"==n.direction&&1==n.sequence&&"codePoint"==n.unit&&(this._undoOnBackspace=!1,t.execute("undo"),n.preventDefault(),e.stop())}),{context:"$capture"}),this.listenTo(i,"change",(()=>{this._undoOnBackspace=!1})))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Bm extends fo{static get requires(){return[Tm,Rm]}static get pluginName(){return"Typing"}static get isOfficialPlugin(){return!0}}function Fm(t,e){let n=t.start;return{text:Array.from(t.getWalker({ignoreElementEnd:!1})).reduce(((t,{item:i})=>i.is("$text")||i.is("$textProxy")?t+i.data:(n=e.createPositionAfter(i),"")),""),range:e.createRange(n,t.end)}}class jm extends(Y()){constructor(t,e){super(),this.model=t,this.testCallback=e,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",(()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))})),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",((e,{directChange:n})=>{n&&(t.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))})),this.listenTo(t,"change:data",((t,e)=>{!e.isUndo&&e.isLocal&&this._evaluateTextBeforeSelection("data",{batch:e})}))}_evaluateTextBeforeSelection(t,e={}){const n=this.model,i=n.document.selection,r=n.createRange(n.createPositionAt(i.focus.parent,0),i.focus),{text:o,range:s}=Fm(r,n),a=this.testCallback(o);if(!a&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!a,a){const n=Object.assign(e,{text:o,range:s});"object"==typeof a&&Object.assign(n,a),this.fire(`matched:${t}`,n)}}}class $m extends fo{static get pluginName(){return"TwoStepCaretMovement"}static get isOfficialPlugin(){return!0}constructor(t){super(t),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}init(){const t=this.editor,e=t.model,n=t.editing.view,i=t.locale,r=e.document.selection;this.listenTo(n.document,"arrowKey",((t,e)=>{if(!r.isCollapsed)return;if(e.shiftKey||e.altKey||e.ctrlKey)return;const n=e.keyCode==yr.arrowright,o=e.keyCode==yr.arrowleft;if(!n&&!o)return;const s=i.contentLanguageDirection;let a=!1;a="ltr"===s&&n||"rtl"===s&&o?this._handleForwardMovement(e):this._handleBackwardMovement(e),!0===a&&t.stop()}),{context:"$text",priority:"highest"}),this.listenTo(r,"change:range",((t,e)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!e.directChange&&Wm(r.getFirstPosition(),this.attributes)||this._restoreGravity())})),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(t){this.attributes.add(t)}_handleForwardMovement(t){const e=this.attributes,n=this.editor.model,i=n.document.selection,r=i.getFirstPosition();return!this._isGravityOverridden&&((!r.isAtStart||!Vm(i,e))&&(!!Wm(r,e)&&(Um(t),Vm(i,e)&&Wm(r,e,!0)?Hm(n,e):this._overrideGravity(),!0)))}_handleBackwardMovement(t){const e=this.attributes,n=this.editor.model,i=n.document.selection,r=i.getFirstPosition();return this._isGravityOverridden?(Um(t),this._restoreGravity(),Wm(r,e,!0)?Hm(n,e):zm(n,e,r),!0):r.isAtStart?!!Vm(i,e)&&(Um(t),zm(n,e,r),!0):!Vm(i,e)&&Wm(r,e,!0)?(Um(t),zm(n,e,r),!0):!!qm(r,e)&&(r.isAtEnd&&!Vm(i,e)&&Wm(r,e)?(Um(t),zm(n,e,r),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const t=this.editor,e=t.model,n=e.document.selection,i=t.editing.view.document;t.editing.view.addObserver(Ah),t.editing.view.addObserver(Sh);let r=!1,o=!1;this.listenTo(i,"touchstart",(()=>{o=!1,r=!0})),this.listenTo(i,"mousedown",(()=>{o=!0})),this.listenTo(i,"selectionChange",(()=>{const t=this.attributes;if(!o&&!r)return;if(o=!1,r=!1,!n.isCollapsed)return;if(!Vm(n,t))return;const i=n.getFirstPosition();Wm(i,t)&&(i.isAtStart||Wm(i,t,!0)?Hm(e,t):this._isGravityOverridden||this._overrideGravity())}))}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,e=t.document.selection,n=this.attributes;this.listenTo(t,"insertContent",(()=>{const i=e.getFirstPosition();Vm(e,n)&&Wm(i,n)&&Hm(t,n)}),{priority:"low"})}_handleDeleteContentAfterNode(){const t=this.editor,e=t.model,n=e.document.selection,i=t.editing.view;let r=!1,o=!1;this.listenTo(i.document,"delete",((t,e)=>{r="backward"===e.direction}),{priority:"high"}),this.listenTo(e,"deleteContent",(()=>{if(!r)return;const t=n.getFirstPosition();o=Vm(n,this.attributes)&&!qm(t,this.attributes)}),{priority:"high"}),this.listenTo(e,"deleteContent",(()=>{r&&(r=!1,o||t.model.enqueueChange((()=>{const t=n.getFirstPosition();Vm(n,this.attributes)&&Wm(t,this.attributes)&&(t.isAtStart||Wm(t,this.attributes,!0)?Hm(e,this.attributes):this._isGravityOverridden||this._overrideGravity())})))}),{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change((t=>t.overrideSelectionGravity()))}_restoreGravity(){this.editor.model.change((t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null}))}}function Vm(t,e){for(const n of e)if(t.hasAttribute(n))return!0;return!1}function zm(t,e,n){const i=n.nodeBefore;t.change((n=>{if(i){const e=[],r=t.schema.isObject(i)&&t.schema.isInline(i);for(const[n,o]of i.getAttributes())!t.schema.checkAttribute("$text",n)||r&&!1===t.schema.getAttributeProperties(n).copyFromObject||e.push([n,o]);n.setSelectionAttribute(e)}else n.removeSelectionAttribute(e)}))}function Hm(t,e){t.change((t=>{t.removeSelectionAttribute(e)}))}function Um(t){t.preventDefault()}function qm(t,e){return Wm(t.getShiftedBy(-1),e)}function Wm(t,e,n=!1){const{nodeBefore:i,nodeAfter:r}=t;for(const t of e){const e=i?i.getAttribute(t):void 0,o=r?r.getAttribute(t):void 0;if((!n||void 0!==e&&void 0!==o)&&o!==e)return!0}return!1}const Gm={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:Jm('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:Jm("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:Jm("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:Jm('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:Jm('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:Jm("'"),to:[null,"‚",null,"’"]}},Km={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Ym=["symbols","mathematical","typography","quotes"];function Xm(t){return"string"==typeof t?new RegExp(`(${ap(t)})$`):t}function Zm(t){return"string"==typeof t?()=>[t]:t instanceof Array?()=>t:t}function Qm(t){return(t.textNode?t.textNode:t.nodeAfter).getAttributes()}function Jm(t){return new RegExp(`(^|\\s)(${t})([^${t}]*)(${t})$`)}function tb(t,e,n,i){return i.createRange(eb(t,e,n,!0,i),eb(t,e,n,!1,i))}function eb(t,e,n,i,r){let o=t.textNode||(i?t.nodeBefore:t.nodeAfter),s=null;for(;o&&o.getAttribute(e)==n;)s=o,o=i?o.previousSibling:o.nextSibling;return s?r.createPositionAt(s,i?"before":"after"):t}function*nb(t,e){for(const n of e)n&&t.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}class ib extends po{execute(){this.editor.model.change((t=>{this.enterBlock(t),this.fire("afterExecute",{writer:t})}))}enterBlock(t){const e=this.editor.model,n=e.document.selection,i=e.schema,r=n.isCollapsed,o=n.getFirstRange(),s=o.start.parent,a=o.end.parent;if(i.isLimit(s)||i.isLimit(a))return r||s!=a||e.deleteContent(n),!1;if(r){const e=nb(t.model.schema,n.getAttributes());return rb(t,o.start),t.setSelectionAttribute(e),!0}{const i=!(o.start.isAtStart&&o.end.isAtEnd),r=s==a;if(e.deleteContent(n,{leaveUnmerged:i}),i){if(r)return rb(t,n.focus),!0;t.setSelection(a,0)}}return!1}}function rb(t,e){t.split(e),t.setSelection(e.parent.nextSibling,0)}const ob={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class sb extends Ta{constructor(t){super(t);const e=this.document;let n=!1;e.on("keydown",((t,e)=>{n=e.shiftKey})),e.on("beforeinput",((i,r)=>{if(!this.isEnabled)return;let s=r.inputType;o.isSafari&&n&&"insertParagraph"==s&&(s="insertLineBreak");const a=r.domEvent,c=ob[s];if(!c)return;const l=new Cs(e,"enter",r.targetRanges[0]);e.fire(l,new Aa(t,a,{isSoft:c.isSoft})),l.stop.called&&i.stop()}))}observe(){}stopObserving(){}}class ab extends fo{static get pluginName(){return"Enter"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.editing.view,n=e.document,i=this.editor.t;e.addObserver(sb),t.commands.add("enter",new ib(t)),this.listenTo(n,"enter",((i,r)=>{n.isComposing||r.preventDefault(),r.isSoft||(t.execute("enter"),e.scrollToTheSelection())}),{priority:"low"}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class cb extends po{execute(){const t=this.editor.model,e=t.document;t.change((n=>{!function(t,e,n){const i=n.isCollapsed,r=n.getFirstRange(),o=r.start.parent,s=r.end.parent,a=o==s;if(i){const i=nb(t.schema,n.getAttributes());lb(t,e,r.end),e.removeSelectionAttribute(n.getAttributeKeys()),e.setSelectionAttribute(i)}else{const i=!(r.start.isAtStart&&r.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:i}),a?lb(t,e,n.focus):i&&e.setSelection(s,0)}}(t,n,e.selection),this.fire("afterExecute",{writer:n})}))}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=function(t,e){if(e.rangeCount>1)return!1;const n=e.anchor;if(!n||!t.checkChild(n,"softBreak"))return!1;const i=e.getFirstRange(),r=i.start.parent,o=i.end.parent;if((ub(r,t)||ub(o,t))&&r!==o)return!1;return!0}(t.schema,e.selection)}}function lb(t,e,n){const i=e.createElement("softBreak");t.insertContent(i,n),e.setSelection(i,"after")}function ub(t,e){return!t.is("rootElement")&&(e.isLimit(t)||ub(t.parent,e))}class hb extends fo{static get pluginName(){return"ShiftEnter"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model.schema,n=t.conversion,i=t.editing.view,r=i.document,o=this.editor.t;e.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(t,{writer:e})=>e.createEmptyElement("br")}),i.addObserver(sb),t.commands.add("shiftEnter",new cb(t)),this.listenTo(r,"enter",((e,n)=>{r.isComposing||n.preventDefault(),n.isSoft&&(t.execute("shiftEnter"),i.scrollToTheSelection())}),{priority:"low"}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class db extends(L()){constructor(){super(...arguments),this._stack=[]}add(t,e){const n=this._stack,i=n[0];this._insertDescriptor(t);const r=n[0];i===r||fb(i,r)||this.fire("change:top",{oldDescriptor:i,newDescriptor:r,writer:e})}remove(t,e){const n=this._stack,i=n[0];this._removeDescriptor(t);const r=n[0];i===r||fb(i,r)||this.fire("change:top",{oldDescriptor:i,newDescriptor:r,writer:e})}_insertDescriptor(t){const e=this._stack,n=e.findIndex((e=>e.id===t.id));if(fb(t,e[n]))return;n>-1&&e.splice(n,1);let i=0;for(;e[i]&&gb(e[i],t);)i++;e.splice(i,0,t)}_removeDescriptor(t){const e=this._stack,n=e.findIndex((e=>e.id===t));n>-1&&e.splice(n,1)}}function fb(t,e){return t&&e&&t.priority==e.priority&&pb(t.classes)==pb(e.classes)}function gb(t,e){return t.priority>e.priority||!(t.priority<e.priority)&&pb(t.classes)>pb(e.classes)}function pb(t){return Array.isArray(t)?t.sort().join(","):t}const mb='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',bb="ck-widget_selected";function wb(t){return!!t.is("element")&&!!t.getCustomProperty("widget")}function yb(t,e,n={}){if(!t.is("containerElement"))throw new E("widget-to-widget-wrong-element-type",null,{element:t});return e.setAttribute("contenteditable","false",t),e.addClass("ck-widget",t),e.setCustomProperty("widget",!0,t),t.getFillerOffset=Tb,e.setCustomProperty("widgetLabel",[],t),n.label&&function(t,e){const n=t.getCustomProperty("widgetLabel");n.push(e)}(t,n.label),n.hasSelectionHandle&&function(t,e){const n=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(t){const e=this.toDomElement(t),n=new Md;return n.set("content",mb),n.render(),e.appendChild(n.element),e}));e.insert(e.createPositionAt(t,0),n),e.addClass(["ck-widget_with-selection-handle"],t)}(t,e),kb(t,e),t}function vb(t,e,n){if(e.classes&&n.addClass(Cr(e.classes),t),e.attributes)for(const i in e.attributes)n.setAttribute(i,e.attributes[i],t)}function _b(t,e,n){if(e.classes&&n.removeClass(Cr(e.classes),t),e.attributes)for(const i in e.attributes)n.removeAttribute(i,t)}function kb(t,e,n=vb,i=_b){const r=new db;r.on("change:top",((e,r)=>{r.oldDescriptor&&i(t,r.oldDescriptor,r.writer),r.newDescriptor&&n(t,r.newDescriptor,r.writer)}));e.setCustomProperty("addHighlight",((t,e,n)=>r.add(e,n)),t),e.setCustomProperty("removeHighlight",((t,e,n)=>r.remove(e,n)),t)}function xb(t,e,n={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],t),e.setAttribute("role","textbox",t),e.setAttribute("tabindex","-1",t),n.label&&e.setAttribute("aria-label",n.label,t),e.setAttribute("contenteditable",t.isReadOnly?"false":"true",t),t.on("change:isReadOnly",((n,i,r)=>{e.setAttribute("contenteditable",r?"false":"true",t)})),t.on("change:isFocused",((n,i,r)=>{r?e.addClass("ck-editor__nested-editable_focused",t):e.removeClass("ck-editor__nested-editable_focused",t)})),kb(t,e),t}function Eb(t,e){const n=t.getSelectedElement();if(n){const i=Ib(t);if(i)return e.createRange(e.createPositionAt(n,i))}return e.schema.findOptimalInsertionRange(t)}function Tb(){return null}function Cb(t){const e=t=>{const{width:e,paddingLeft:n,paddingRight:i}=t.ownerDocument.defaultView.getComputedStyle(t);return parseFloat(e)-(parseFloat(n)||0)-(parseFloat(i)||0)},n=t.parentElement;if(!n)return 0;let i=e(n);let r=0,o=n;for(;isNaN(i);){if(o=o.parentElement,++r>5)return 0;i=e(o)}return i}const Ab="widget-type-around";function Sb(t,e,n){return!!t&&wb(t)&&!n.isInline(e)}function Ib(t){return t.getAttribute(Ab)}const Mb=["before","after"],Pb=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,Ob="ck-widget__type-around_disabled";class Db extends fo{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get isOfficialPlugin(){return!0}static get requires(){return[ab,Rm]}init(){const t=this.editor,e=t.editing.view;this.on("change:isEnabled",((n,i,r)=>{e.change((t=>{for(const n of e.document.roots)r?t.removeClass(Ob,n):t.addClass(Ob,n)})),r||t.model.change((t=>{t.removeSelectionAttribute(Ab)}))})),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(t,e){const n=this.editor,i=n.editing.view,r=n.model.schema.getAttributesWithProperty(t,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(t,e),attributes:r}),i.focus(),i.scrollToTheSelection()}_listenToIfEnabled(t,e,n,i){this.listenTo(t,e,((...t)=>{this.isEnabled&&n(...t)}),i)}_insertParagraphAccordingToFakeCaretPosition(){const t=this.editor.model.document.selection,e=Ib(t);if(!e)return!1;const n=t.getSelectedElement();return this._insertParagraph(n,e),!0}_enableTypeAroundUIInjection(){const t=this.editor,e=t.model.schema,n=t.locale.t,i={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};t.editing.downcastDispatcher.on("insert",((t,r,o)=>{const s=o.mapper.toViewElement(r.item);if(s&&Sb(s,r.item,e)){!function(t,e,n){const i=t.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(t){const n=this.toDomElement(t);return function(t,e){for(const n of Mb){const i=new id({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${n}`],title:e[n],"aria-hidden":"true"},children:[t.ownerDocument.importNode(Pb,!0)]});t.appendChild(i.render())}}(n,e),function(t){const e=new id({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});t.appendChild(e.render())}(n),n}));t.insert(t.createPositionAt(n,"end"),i)}(o.writer,i,s);s.getCustomProperty("widgetLabel").push((()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))}}),{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const t=this.editor,e=t.model,n=e.document.selection,i=e.schema,r=t.editing.view;function o(t){return`ck-widget_type-around_show-fake-caret_${t}`}this._listenToIfEnabled(r.document,"arrowKey",((t,e)=>{this._handleArrowKeyPress(t,e)}),{context:[wb,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",((e,n)=>{n.directChange&&t.model.change((t=>{t.removeSelectionAttribute(Ab)}))})),this._listenToIfEnabled(e.document,"change:data",(()=>{const e=n.getSelectedElement();if(e){if(Sb(t.editing.mapper.toViewElement(e),e,i))return}t.model.change((t=>{t.removeSelectionAttribute(Ab)}))})),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",((t,e,n)=>{const r=n.writer;if(this._currentFakeCaretModelElement){const t=n.mapper.toViewElement(this._currentFakeCaretModelElement);t&&(r.removeClass(Mb.map(o),t),this._currentFakeCaretModelElement=null)}const s=e.selection.getSelectedElement();if(!s)return;const a=n.mapper.toViewElement(s);if(!Sb(a,s,i))return;const c=Ib(e.selection);c&&(r.addClass(o(c),a),this._currentFakeCaretModelElement=s)})),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",((e,n,i)=>{i||t.model.change((t=>{t.removeSelectionAttribute(Ab)}))}))}_handleArrowKeyPress(t,e){const n=this.editor,i=n.model,r=i.document.selection,o=i.schema,s=n.editing.view,a=function(t,e){const n=Er(t,e);return"down"===n||"right"===n}(e.keyCode,n.locale.contentLanguageDirection),c=s.document.selection.getSelectedElement();let l;Sb(c,n.editing.mapper.toModelElement(c),o)?l=this._handleArrowKeyPressOnSelectedWidget(a):r.isCollapsed?l=this._handleArrowKeyPressWhenSelectionNextToAWidget(a):e.shiftKey||(l=this._handleArrowKeyPressWhenNonCollapsedSelection(a)),l&&(e.preventDefault(),t.stop())}_handleArrowKeyPressOnSelectedWidget(t){const e=this.editor.model,n=Ib(e.document.selection);return e.change((e=>{if(!n)return e.setSelectionAttribute(Ab,t?"after":"before"),!0;if(!(n===(t?"after":"before")))return e.removeSelectionAttribute(Ab),!0;return!1}))}_handleArrowKeyPressWhenSelectionNextToAWidget(t){const e=this.editor,n=e.model,i=n.schema,r=e.plugins.get("Widget"),o=r._getObjectElementNextToSelection(t);return!!Sb(e.editing.mapper.toViewElement(o),o,i)&&(n.change((e=>{r._setSelectionOverElement(o),e.setSelectionAttribute(Ab,t?"before":"after")})),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(t){const e=this.editor,n=e.model,i=n.schema,r=e.editing.mapper,o=n.document.selection,s=t?o.getLastPosition().nodeBefore:o.getFirstPosition().nodeAfter;return!!Sb(r.toViewElement(s),s,i)&&(n.change((e=>{e.setSelection(s,"on"),e.setSelectionAttribute(Ab,t?"after":"before")})),!0)}_enableInsertingParagraphsOnButtonClick(){const t=this.editor,e=t.editing.view;this._listenToIfEnabled(e.document,"mousedown",((n,i)=>{const r=i.domTarget.closest(".ck-widget__type-around__button");if(!r)return;const o=function(t){return t.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(r),s=function(t,e){const n=t.closest(".ck-widget");return e.mapDomToView(n)}(r,e.domConverter),a=t.editing.mapper.toModelElement(s);this._insertParagraph(a,o),i.preventDefault(),n.stop()}))}_enableInsertingParagraphsOnEnterKeypress(){const t=this.editor,e=t.model.document.selection,n=t.editing.view;this._listenToIfEnabled(n.document,"enter",((n,i)=>{if("atTarget"!=n.eventPhase)return;const r=e.getSelectedElement(),o=t.editing.mapper.toViewElement(r),s=t.model.schema;let a;this._insertParagraphAccordingToFakeCaretPosition()?a=!0:Sb(o,r,s)&&(this._insertParagraph(r,i.isSoft?"before":"after"),a=!0),a&&(i.preventDefault(),n.stop())}),{context:wb})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",((e,n)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(n.selection=t.selection)}),{priority:"high"}),o.isAndroid?this._listenToIfEnabled(t,"keydown",((t,e)=>{229==e.keyCode&&this._insertParagraphAccordingToFakeCaretPosition()})):this._listenToIfEnabled(t,"compositionstart",(()=>{this._insertParagraphAccordingToFakeCaretPosition()}),{priority:"high"})}_enableDeleteIntegration(){const t=this.editor,e=t.editing.view,n=t.model,i=n.schema;this._listenToIfEnabled(e.document,"delete",((e,r)=>{if("atTarget"!=e.eventPhase)return;const o=Ib(n.document.selection);if(!o)return;const s=r.direction,a=n.document.selection.getSelectedElement(),c="forward"==s;if("before"===o===c)t.execute("delete",{selection:n.createSelection(a,"on")});else{const e=i.getNearestSelectionRange(n.createPositionAt(a,o),s);if(e)if(e.isCollapsed){const r=n.createSelection(e.start);if(n.modifySelection(r,{direction:s}),r.focus.isEqual(e.start)){const t=function(t,e){let n=e;for(const i of e.getAncestors({parentFirst:!0})){if(i.childCount>1||t.isLimit(i))break;n=i}return n}(i,e.start.parent);n.deleteContent(n.createSelection(t,"on"),{doNotAutoparagraph:!0})}else n.change((n=>{n.setSelection(e),t.execute(c?"deleteForward":"delete")}))}else n.change((n=>{n.setSelection(e),t.execute(c?"deleteForward":"delete")}))}r.preventDefault(),e.stop()}),{context:wb})}_enableInsertContentIntegration(){const t=this.editor,e=this.editor.model,n=e.document.selection;this._listenToIfEnabled(t.model,"insertContent",((t,[i,r])=>{if(r&&!r.is("documentSelection"))return;const o=Ib(n);return o?(t.stop(),e.change((t=>{const r=n.getSelectedElement(),s=e.createPositionAt(r,o),a=t.createSelection(s),c=e.insertContent(i,a);return t.setSelection(a),c}))):void 0}),{priority:"high"})}_enableInsertObjectIntegration(){const t=this.editor,e=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"insertObject",((t,n)=>{const[,i,r={}]=n;if(i&&!i.is("documentSelection"))return;const o=Ib(e);o&&(r.findOptimalPosition=o,n[3]=r)}),{priority:"high"})}_enableDeleteContentIntegration(){const t=this.editor,e=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"deleteContent",((t,[n])=>{if(n&&!n.is("documentSelection"))return;Ib(e)&&t.stop()}),{priority:"high"})}}function Nb(t){const e=t.model;return(n,i)=>{const r=i.keyCode==yr.arrowup,o=i.keyCode==yr.arrowdown,s=i.shiftKey,a=e.document.selection;if(!r&&!o)return;const c=o;if(s&&function(t,e){return!t.isCollapsed&&t.isBackward==e}(a,c))return;const l=function(t,e,n){const i=t.model;if(n){const t=e.isCollapsed?e.focus:e.getLastPosition(),n=Lb(i,t,"forward");if(!n)return null;const r=i.createRange(t,n),o=Rb(i.schema,r,"backward");return o?i.createRange(t,o):null}{const t=e.isCollapsed?e.focus:e.getFirstPosition(),n=Lb(i,t,"backward");if(!n)return null;const r=i.createRange(n,t),o=Rb(i.schema,r,"forward");return o?i.createRange(o,t):null}}(t,a,c);if(l){if(l.isCollapsed){if(a.isCollapsed)return;if(s)return}(l.isCollapsed||function(t,e,n){const i=t.model,r=t.view.domConverter;if(n){const t=i.createSelection(e.start);i.modifySelection(t),t.focus.isAtEnd||e.start.isEqual(t.focus)||(e=i.createRange(t.focus,e.end))}const o=t.mapper.toViewRange(e),s=r.viewRangeToDom(o),a=Ui.getDomRangeRects(s);let c;for(const t of a)if(void 0!==c){if(Math.round(t.top)>=c)return!1;c=Math.max(c,Math.round(t.bottom))}else c=Math.round(t.bottom);return!0}(t,l,c))&&(e.change((t=>{const n=c?l.end:l.start;if(s){const i=e.createSelection(a.anchor);i.setFocus(n),t.setSelection(i)}else t.setSelection(n)})),n.stop(),i.preventDefault(),i.stopPropagation())}}}function Lb(t,e,n){const i=t.schema,r=t.createRangeIn(e.root),o="forward"==n?"elementStart":"elementEnd";for(const{previousPosition:t,item:s,type:a}of r.getWalker({startPosition:e,direction:n})){if(i.isLimit(s)&&!i.isInline(s))return t;if(a==o&&i.isBlock(s))return null}return null}function Rb(t,e,n){const i="backward"==n?e.end:e.start;if(t.checkChild(i,"$text"))return i;for(const{nextPosition:i}of e.getWalker({direction:n}))if(t.checkChild(i,"$text"))return i;return null}class Bb extends fo{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get isOfficialPlugin(){return!0}static get requires(){return[Db,Rm]}init(){const t=this.editor,e=t.editing.view,n=e.document,i=t.t;this.editor.editing.downcastDispatcher.on("selection",((e,n,i)=>{const r=i.writer,o=n.selection;if(o.isCollapsed)return;const s=o.getSelectedElement();if(!s)return;const a=t.editing.mapper.toViewElement(s);var c;wb(a)&&(i.consumable.consume(o,"selection")&&r.setSelection(r.createRangeOn(a),{fake:!0,label:(c=a,c.getCustomProperty("widgetLabel").reduce(((t,e)=>"function"==typeof e?t?t+". "+e():e():t?t+". "+e:e),""))}))})),this.editor.editing.downcastDispatcher.on("selection",((t,e,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const i=n.writer,r=i.document.selection;let o=null;for(const t of r.getRanges())for(const e of t){const t=e.item;wb(t)&&!Fb(t,o)&&(i.addClass(bb,t),this._previouslySelected.add(t),o=t)}}),{priority:"low"}),e.addObserver(Ah),this.listenTo(n,"mousedown",((...t)=>this._onMousedown(...t))),this.listenTo(n,"arrowKey",((...t)=>{this._handleSelectionChangeOnArrowKeyPress(...t)}),{context:[wb,"$text"]}),this.listenTo(n,"arrowKey",((...t)=>{this._preventDefaultOnArrowKeyPress(...t)}),{context:"$root"}),this.listenTo(n,"arrowKey",Nb(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",((t,e)=>{this._handleDelete("forward"==e.direction)&&(e.preventDefault(),t.stop())}),{context:"$root"}),this.listenTo(n,"tab",((t,e)=>{"atTarget"==t.eventPhase&&(e.shiftKey||this._selectFirstNestedEditable()&&(e.preventDefault(),t.stop()))}),{context:wb,priority:"low"}),this.listenTo(n,"tab",((t,e)=>{e.shiftKey&&this._selectAncestorWidget()&&(e.preventDefault(),t.stop())}),{priority:"low"}),this.listenTo(n,"keydown",((t,e)=>{e.keystroke==yr.esc&&this._selectAncestorWidget()&&(e.preventDefault(),t.stop())}),{priority:"low"}),t.accessibility.addKeystrokeInfoGroup({id:"widget",label:i("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:i("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:i("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:i("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:i("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:i("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(t,e){const n=this.editor,i=n.editing.view,r=i.document;let s=e.target;if(!s)return;if(e.domEvent.detail>=3)return void(this._selectBlockContent(s)&&e.preventDefault());if(!wb(s)){const t=function(t){let e=t;for(;e;){if(e.is("editableElement")||wb(e))return e;e=e.parent}return null}(s);if(!t)return;if(wb(t))s=t;else{const t=function(t,e){const n=ji(e.domEvent);let i=null;i=n?t.domConverter.domRangeToView(n):t.createRange(t.createPositionAt(e.target,0));if(!i)return null;const r=i.start;if(!r.parent)return null;let o=r.parent;r.parent.is("editableElement")&&(r.isAtEnd&&r.nodeBefore?o=r.nodeBefore:r.isAtStart&&r.nodeAfter&&(o=r.nodeAfter));if(o.is("$text"))return o.parent;return o}(i,e);if(!t||!wb(t))return;s=t}}o.isAndroid&&e.preventDefault(),r.isFocused||i.focus();const a=n.editing.mapper.toModelElement(s);this._setSelectionOverElement(a)}_selectBlockContent(t){const e=this.editor,n=e.model,i=e.editing.mapper,r=n.schema,o=i.findMappedViewAncestor(this.editor.editing.view.createPositionAt(t,0)),s=function(t,e){for(const n of t.getAncestors({includeSelf:!0,parentFirst:!0})){if(e.checkChild(n,"$text"))return n;if(e.isLimit(n)&&!e.isObject(n))break}return null}(i.toModelElement(o),n.schema);return!!s&&(n.change((t=>{const e=r.isLimit(s)?null:function(t,e){const n=new Tc({startPosition:t});for(const{item:t}of n){if(e.isLimit(t)||!t.is("element"))return null;if(e.checkChild(t,"$text"))return t}return null}(t.createPositionAfter(s),r),n=t.createPositionAt(s,0),i=e?t.createPositionAt(e,0):t.createPositionAt(s,"end");t.setSelection(t.createRange(n,i))})),!0)}_handleSelectionChangeOnArrowKeyPress(t,e){const n=e.keyCode,i=this.editor.model,r=i.schema,o=i.document.selection,s=o.getSelectedElement(),a=Er(n,this.editor.locale.contentLanguageDirection),c="down"==a||"right"==a,l="up"==a||"down"==a;if(s&&r.isObject(s)){const n=c?o.getLastPosition():o.getFirstPosition(),s=r.getNearestSelectionRange(n,c?"forward":"backward");return void(s&&(i.change((t=>{t.setSelection(s)})),e.preventDefault(),t.stop()))}if(!o.isCollapsed&&!e.shiftKey){const n=o.getFirstPosition(),s=o.getLastPosition(),a=n.nodeAfter,l=s.nodeBefore;return void((a&&r.isObject(a)||l&&r.isObject(l))&&(i.change((t=>{t.setSelection(c?s:n)})),e.preventDefault(),t.stop()))}if(!o.isCollapsed)return;const u=this._getObjectElementNextToSelection(c);if(u&&r.isObject(u)){if(r.isInline(u)&&l)return;this._setSelectionOverElement(u),e.preventDefault(),t.stop()}}_preventDefaultOnArrowKeyPress(t,e){const n=this.editor.model,i=n.schema,r=n.document.selection.getSelectedElement();r&&i.isObject(r)&&(e.preventDefault(),t.stop())}_handleDelete(t){const e=this.editor.model.document.selection;if(!this.editor.model.canEditAt(e))return;if(!e.isCollapsed)return;const n=this._getObjectElementNextToSelection(t);return n?(this.editor.model.change((t=>{let i=e.anchor.parent;for(;i.isEmpty;){const e=i;i=e.parent,t.remove(e)}this._setSelectionOverElement(n)})),!0):void 0}_setSelectionOverElement(t){this.editor.model.change((e=>{e.setSelection(e.createRangeOn(t))}))}_getObjectElementNextToSelection(t){const e=this.editor.model,n=e.schema,i=e.document.selection,r=e.createSelection(i);if(e.modifySelection(r,{direction:t?"forward":"backward"}),r.isEqual(i))return null;const o=t?r.focus.nodeBefore:r.focus.nodeAfter;return o&&n.isObject(o)?o:null}_clearPreviouslySelectedWidgets(t){for(const e of this._previouslySelected)t.removeClass(bb,e);this._previouslySelected.clear()}_selectFirstNestedEditable(){const t=this.editor,e=this.editor.editing.view.document;for(const n of e.selection.getFirstRange().getItems())if(n.is("editableElement")){const e=t.editing.mapper.toModelElement(n);if(!e)continue;const i=t.model.createPositionAt(e,0),r=t.model.schema.getNearestSelectionRange(i,"forward");return t.model.change((t=>{t.setSelection(r)})),!0}return!1}_selectAncestorWidget(){const t=this.editor,e=t.editing.mapper,n=t.editing.view.document.selection.getFirstPosition().parent,i=(n.is("$text")?n.parent:n).findAncestor(wb);if(!i)return!1;const r=e.toModelElement(i);return!!r&&(t.model.change((t=>{t.setSelection(r,"on")})),!0)}}function Fb(t,e){return!!e&&Array.from(t.getAncestors()).includes(e)}class jb extends fo{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[Zg]}static get pluginName(){return"WidgetToolbarRepository"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const e=t.plugins.get("BalloonToolbar");this.listenTo(e,"show",(e=>{(function(t){const e=t.getSelectedElement();return!(!e||!wb(e))})(t.editing.view.document.selection)&&e.stop()}),{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",(()=>{this._updateToolbarsVisibility()})),this.listenTo(t.ui,"update",(()=>{this._updateToolbarsVisibility()})),this.listenTo(t.ui.focusTracker,"change:isFocused",(()=>{this._updateToolbarsVisibility()}),{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{ariaLabel:e,items:n,getRelatedElement:i,balloonClassName:r="ck-toolbar-container"}){if(!n.length)return void T("widget-toolbar-no-items",{toolbarId:t});const o=this.editor,s=o.t,a=new Hf(o.locale);if(a.ariaLabel=e||s("Widget toolbar"),this._toolbarDefinitions.has(t))throw new E("widget-toolbar-duplicated",this,{toolbarId:t});const c={view:a,getRelatedElement:i,balloonClassName:r,itemsConfig:n,initialized:!1};o.ui.addToolbar(a,{isContextual:!0,beforeFocus:()=>{const t=i(o.editing.view.document.selection);t&&this._showToolbar(c,t)},afterBlur:()=>{this._hideToolbar(c)}}),this._toolbarDefinitions.set(t,c)}_updateToolbarsVisibility(){let t=0,e=null,n=null;for(const i of this._toolbarDefinitions.values()){const r=i.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&r)if(this.editor.ui.focusTracker.isFocused){const o=r.getAncestors().length;o>t&&(t=o,e=r,n=i)}else this._isToolbarVisible(i)&&this._hideToolbar(i);else this._isToolbarInBalloon(i)&&this._hideToolbar(i)}n&&this._showToolbar(n,e)}_hideToolbar(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,e){this._isToolbarVisible(t)?$b(this.editor,e):this._isToolbarInBalloon(t)||(t.initialized||(t.initialized=!0,t.view.fillFromConfig(t.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:t.view,position:Vb(this.editor,e),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",(()=>{for(const t of this._toolbarDefinitions.values())if(this._isToolbarVisible(t)){const e=t.getRelatedElement(this.editor.editing.view.document.selection);$b(this.editor,e)}})))}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function $b(t,e){const n=t.plugins.get("ContextualBalloon"),i=Vb(t,e);n.updatePosition(i)}function Vb(t,e){const n=t.editing.view,i=Lf.defaultPositions;return{target:n.domConverter.mapViewToDom(e),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}class zb extends(Y()){constructor(t){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=t,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(t,e,n){const i=new Ui(e);this.activeHandlePosition=function(t){const e=["top-left","top-right","bottom-right","bottom-left"];for(const n of e)if(t.classList.contains(Hb(n)))return n}(t),this._referenceCoordinates=function(t,e){const n=new Ui(t),i=e.split("-"),r={x:"right"==i[1]?n.right:n.left,y:"bottom"==i[0]?n.bottom:n.top};return r.x+=t.ownerDocument.defaultView.scrollX,r.y+=t.ownerDocument.defaultView.scrollY,r}(e,function(t){const e=t.split("-"),n={top:"bottom",bottom:"top",left:"right",right:"left"};return`${n[e[0]]}-${n[e[1]]}`}(this.activeHandlePosition)),this._originalWidth=i.width,this._originalHeight=i.height,this._aspectRatio=i.width/i.height;const r=n.style.width;r&&r.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(r):this._originalWidthPercents=function(t,e=new Ui(t)){const n=Cb(t);return n?e.width/n*100:0}(n,i)}update(t){this.proposedWidth=t.width,this.proposedHeight=t.height,this.proposedWidthPercents=t.widthPercents,this.proposedHandleHostWidth=t.handleHostWidth,this.proposedHandleHostHeight=t.handleHostHeight}}function Hb(t){return`ck-widget__resizer__handle-${t}`}class Ub extends Ed{constructor(){super();const t=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",t.to("_viewPosition",(t=>t?`ck-orientation-${t}`:""))],style:{display:t.if("_isVisible","none",(t=>!t))}},children:[{text:t.to("_label")}]})}_bindToState(t,e){this.bind("_isVisible").to(e,"proposedWidth",e,"proposedHeight",((t,e)=>null!==t&&null!==e)),this.bind("_label").to(e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",e,"proposedWidthPercents",((e,n,i)=>"px"===t.unit?`${e}×${n}`:`${i}%`)),this.bind("_viewPosition").to(e,"activeHandlePosition",e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",((t,e,n)=>e<50||n<50?"above-center":t))}_dismiss(){this.unbind(),this._isVisible=!1}}class qb extends(Y()){constructor(t){super(),this._viewResizerWrapper=null,this._options=t,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",((t,e)=>t&&e)),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",(t=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),t.stop())}),{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change((t=>{t.removeClass("ck-hidden",this._viewResizerWrapper)}))}hide(){this._options.editor.editing.view.change((t=>{t.addClass("ck-hidden",this._viewResizerWrapper)}))}attach(){const t=this,e=this._options.viewElement;this._options.editor.editing.view.change((n=>{const i=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},(function(e){const n=this.toDomElement(e);return t._appendHandles(n),t._appendSizeUI(n),n}));n.insert(n.createPositionAt(e,"end"),i),n.addClass("ck-widget_with-resizer",e),this._viewResizerWrapper=i,this.isVisible||this.hide()})),this.on("change:isVisible",(()=>{this.isVisible?(this.show(),this.redraw()):this.hide()}))}begin(t){this._state=new zb(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(t,this._getHandleHost(),this._getResizeHost())}updateSize(t){const e=this._proposeNewSize(t);this._options.editor.editing.view.change((t=>{const n=this._options.unit||"%",i=("%"===n?e.widthPercents:e.width)+n;t.setStyle("width",i,this._options.viewElement)}));const n=this._getHandleHost(),i=new Ui(n),r=Math.round(i.width),o=Math.round(i.height),s=new Ui(n);e.width=Math.round(s.width),e.height=Math.round(s.height),this.redraw(i),this.state.update({...e,handleHostWidth:r,handleHostHeight:o})}commit(){const t=this._options.unit||"%",e=("%"===t?this.state.proposedWidthPercents:this.state.proposedWidth)+t;this._options.editor.editing.view.change((()=>{this._cleanup(),this._options.onCommit(e)}))}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(t){const e=this._domResizerWrapper;if(!((n=e)&&n.ownerDocument&&n.ownerDocument.contains(n)))return;var n;const i=e.parentElement,r=this._getHandleHost(),o=this._viewResizerWrapper,s=[o.getStyle("width"),o.getStyle("height"),o.getStyle("left"),o.getStyle("top")];let a;if(i.isSameNode(r)){const e=t||new Ui(r);a=[e.width+"px",e.height+"px",void 0,void 0]}else a=[r.offsetWidth+"px",r.offsetHeight+"px",r.offsetLeft+"px",r.offsetTop+"px"];"same"!==it(s,a)&&this._options.editor.editing.view.change((t=>{t.setStyle({width:a[0],height:a[1],left:a[2],top:a[3]},o)}))}containsHandle(t){return this._domResizerWrapper.contains(t)}static isResizeHandle(t){return t.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss();this._options.editor.editing.view.change((t=>{t.setStyle("width",this._initialViewWidth,this._options.viewElement)}))}_proposeNewSize(t){const e=this.state,n={x:(i=t).pageX,y:i.pageY};var i;const r=!this._options.isCentered||this._options.isCentered(this),o={x:e._referenceCoordinates.x-(n.x+e.originalWidth),y:n.y-e.originalHeight-e._referenceCoordinates.y};r&&e.activeHandlePosition.endsWith("-right")&&(o.x=n.x-(e._referenceCoordinates.x+e.originalWidth)),r&&(o.x*=2);let s=Math.abs(e.originalWidth+o.x),a=Math.abs(e.originalHeight+o.y);return"width"==(s/e.aspectRatio>a?"width":"height")?a=s/e.aspectRatio:s=a*e.aspectRatio,{width:Math.round(s),height:Math.round(a),widthPercents:Math.min(Math.round(e.originalWidthPercents/e.originalWidth*s*100)/100,100)}}_getResizeHost(){const t=this._domResizerWrapper.parentElement;return this._options.getResizeHost(t)}_getHandleHost(){const t=this._domResizerWrapper.parentElement;return this._options.getHandleHost(t)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(t){const e=["top-left","top-right","bottom-right","bottom-left"];for(const i of e)t.appendChild(new id({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(n=i,`ck-widget__resizer__handle-${n}`)}}).render());var n}_appendSizeUI(t){this._sizeView=new Ub,this._sizeView.render(),t.appendChild(this._sizeView.element)}}class Wb extends fo{constructor(){super(...arguments),this._resizers=new Map}static get pluginName(){return"WidgetResize"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.editing,n=e.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),t.view.addObserver(Ah),this._observer=new(Ni()),this.listenTo(t.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(n,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(n,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=Nh((()=>this.redrawSelectedResizer()),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",(()=>{for(const[t,e]of this._resizers)t.isAttached()||(this._resizers.delete(t),e.destroy())}),{priority:"lowest"}),this._observer.listenTo(e.window,"resize",this._redrawSelectedResizerThrottled);const i=this.editor.editing.view.document.selection;i.on("change",(()=>{const t=i.getSelectedElement(),e=this.getResizerByViewElement(t)||null;e?this.select(e):this.deselect()}))}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const t of this._resizers.values())t.destroy();this._redrawSelectedResizerThrottled.cancel()}select(t){this.deselect(),this.selectedResizer=t,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(t){const e=new qb(t),n=this.editor.plugins;if(e.attach(),n.has("WidgetToolbarRepository")){const t=n.get("WidgetToolbarRepository");e.on("begin",(()=>{t.forceDisabled("resize")}),{priority:"lowest"}),e.on("cancel",(()=>{t.clearForceDisabled("resize")}),{priority:"highest"}),e.on("commit",(()=>{t.clearForceDisabled("resize")}),{priority:"highest"})}this._resizers.set(t.viewElement,e);const i=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(i)==e&&this.select(e),e}getResizerByViewElement(t){return this._resizers.get(t)}_getResizerByHandle(t){for(const e of this._resizers.values())if(e.containsHandle(t))return e}_mouseDownListener(t,e){const n=e.domTarget;qb.isResizeHandle(n)&&(this._activeResizer=this._getResizerByHandle(n)||null,this._activeResizer&&(this._activeResizer.begin(n),t.stop(),e.preventDefault()))}_mouseMoveListener(t,e){this._activeResizer&&this._activeResizer.updateSize(e)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}const Gb=Qi("px");class Kb extends Ed{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",t.if("isVisible","ck-hidden",(t=>!t))],style:{left:t.to("left",(t=>Gb(t))),top:t.to("top",(t=>Gb(t))),width:t.to("width",(t=>Gb(t)))}}})}}class Yb extends fo{constructor(){super(...arguments),this.removeDropMarkerDelayed=oo((()=>this.removeDropMarker()),40),this._updateDropMarkerThrottled=Nh((t=>this._updateDropMarker(t)),40),this._reconvertMarkerThrottled=Nh((()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")}),0),this._dropTargetLineView=new Kb,this._domEmitter=new(Ni()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}static get isOfficialPlugin(){return!0}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:t}of this._scrollables.values())t.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(t,e,n,i,r,o){this.removeDropMarkerDelayed.cancel();const s=Xb(this.editor,t,e,n,i,r,o);if(s)return o&&o.containsRange(s)?this.removeDropMarker():void this._updateDropMarkerThrottled(s)}getFinalDropRange(t,e,n,i,r,o){const s=Xb(this.editor,t,e,n,i,r,o);return this.removeDropMarker(),s}removeDropMarker(){const t=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,t.markers.has("drop-target")&&t.change((t=>{t.removeMarker("drop-target")}))}_setupDropMarker(){const t=this.editor;t.ui.view.body.add(this._dropTargetLineView),t.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),t.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(e,{writer:n})=>{if(t.model.schema.checkChild(e.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(n);e.markerRange.isCollapsed?this._updateDropTargetLine(e.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(t){const e=this.editor,n=e.model.markers;e.model.change((e=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(t)||e.updateMarker("drop-target",{range:t}):e.addMarker("drop-target",{range:t,usingOperation:!1,affectsData:!1})}))}_createDropTargetPosition(t){return t.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},(function(t){const e=this.toDomElement(t);return e.append("⁠",t.createElement("span"),"⁠"),e}))}_updateDropTargetLine(t){const n=this.editor.editing,i=t.start.nodeBefore,r=t.start.nodeAfter,o=t.start.parent,s=i?n.mapper.toViewElement(i):null,a=s?n.view.domConverter.mapViewToDom(s):null,c=r?n.mapper.toViewElement(r):null,l=c?n.view.domConverter.mapViewToDom(c):null,u=n.mapper.toViewElement(o);if(!u)return;const h=n.view.domConverter.mapViewToDom(u),d=this._getScrollableRect(u),{scrollX:f,scrollY:g}=e.window,p=a?new Ui(a):null,m=l?new Ui(l):null,b=new Ui(h).excludeScrollbarsAndBorders(),w=p?p.bottom:b.top,y=m?m.top:b.bottom,v=e.window.getComputedStyle(h),_=w<=y?(w+y)/2:y;if(d.top<_&&_<d.bottom){const t=b.left+parseFloat(v.paddingLeft),e=b.right-parseFloat(v.paddingRight),n=Math.max(t+f,d.left),i=Math.min(e+f,d.right);this._dropTargetLineView.set({isVisible:!0,left:n,top:_+g,width:i-n})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(t){const n=t.root.rootName;let i;if(this._scrollables.has(n))i=this._scrollables.get(n).domElement;else{i=function(t){let n=t;do{n=n.parentElement;const t=e.window.getComputedStyle(n).overflowY;if("auto"==t||"scroll"==t)break}while("BODY"!=n.tagName);return n}(this.editor.editing.view.domConverter.mapViewToDom(t)),this._domEmitter.listenTo(i,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const r=new Xi(i,this._reconvertMarkerThrottled);this._scrollables.set(n,{domElement:i,resizeObserver:r})}return new Ui(i).excludeScrollbarsAndBorders()}}function Xb(t,e,n,i,r,o,s){const a=t.model,c=t.editing.mapper;let l=tw(t,e);for(;l;){if(!o)if(a.schema.checkChild(l,"$text")){if(n){const e=n[0].start,o=c.toModelPosition(e);if(!s||Array.from(s.getItems({shallow:!0})).every((t=>a.schema.checkChild(o,t)))){if(a.schema.checkChild(o,"$text"))return a.createRange(o);if(e)return Qb(t,tw(t,e.parent),i,r)}}}else if(a.schema.isInline(l))return Qb(t,l,i,r);if(a.schema.isBlock(l))return Qb(t,l,i,r);if(a.schema.checkChild(l,"$block")){const e=Array.from(l.getChildren()).filter((e=>e.is("element")&&!Zb(t,e)));let n=0,o=e.length;if(0==o)return a.createRange(a.createPositionAt(l,"end"));for(;n<o-1;){const s=Math.floor((n+o)/2);"before"==Jb(t,e[s],i,r)?o=s:n=s}return Qb(t,e[n],i,r)}l=l.parent}return null}function Zb(t,n){const i=t.editing.mapper,r=t.editing.view.domConverter,o=i.toViewElement(n);if(!o)return!0;const s=r.mapViewToDom(o);return"none"!=e.window.getComputedStyle(s).float}function Qb(t,e,n,i){const r=t.model;return r.createRange(r.createPositionAt(e,Jb(t,e,n,i)))}function Jb(t,e,n,i){const r=t.editing.mapper,o=t.editing.view.domConverter,s=r.toViewElement(e),a=o.mapViewToDom(s),c=new Ui(a);return t.model.schema.isInline(e)?n<(c.left+c.right)/2?"before":"after":i<(c.top+c.bottom)/2?"before":"after"}function tw(t,e){const n=t.editing.mapper,i=t.editing.view,r=n.toModelElement(e);if(r)return r;const o=i.createPositionBefore(e),s=n.findMappedViewAncestor(o);return n.toModelElement(s)}class ew extends fo{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Ni())}static get pluginName(){return"DragDropBlockToolbar"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;if(this.listenTo(t,"change:isReadOnly",((t,e,n)=>{n?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")})),o.isAndroid&&this.forceDisabled("noAndroidSupport"),t.plugins.has("BlockToolbar")){const n=t.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(n,"dragstart",((t,e)=>this._handleBlockDragStart(e))),this._domEmitter.listenTo(e.document,"dragover",((t,e)=>this._handleBlockDragging(e))),this._domEmitter.listenTo(e.document,"drop",((t,e)=>this._handleBlockDragging(e))),this._domEmitter.listenTo(e.document,"dragend",(()=>this._handleBlockDragEnd()),{useCapture:!0}),this.isEnabled&&n.setAttribute("draggable","true"),this.on("change:isEnabled",((t,e,i)=>{n.setAttribute("draggable",i?"true":"false")}))}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(t){if(!this.isEnabled)return;const e=this.editor.model,n=e.document.selection,i=this.editor.editing.view,r=Array.from(n.getSelectedBlocks()),o=e.createRange(e.createPositionBefore(r[0]),e.createPositionAfter(r[r.length-1]));e.change((t=>t.setSelection(o))),this._isBlockDragging=!0,i.focus(),i.getObserver(Qp).onDomEvent(t)}_handleBlockDragging(t){if(!this.isEnabled||!this._isBlockDragging)return;const e=t.clientX+("ltr"==this.editor.locale.contentLanguageDirection?100:-100),n=t.clientY,i=document.elementFromPoint(e,n),r=this.editor.editing.view;i&&i.closest(".ck-editor__editable")&&r.getObserver(Qp).onDomEvent({...t,type:t.type,dataTransfer:t.dataTransfer,target:i,clientX:e,clientY:n,preventDefault:()=>t.preventDefault(),stopPropagation:()=>t.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}class nw extends fo{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=oo((()=>this._clearDraggableAttributes()),40),this._blockMode=!1,this._domEmitter=new(Ni())}static get pluginName(){return"DragDrop"}static get isOfficialPlugin(){return!0}static get requires(){return[ym,Bb,Yb,ew]}init(){const t=this.editor,e=t.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,e.addObserver(Qp),e.addObserver(Ah),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(t,"change:isReadOnly",((t,e,n)=>{n?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})),this.on("change:isEnabled",((t,e,n)=>{n||this._finalizeDragging(!1)})),o.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const t=this.editor,n=t.model,i=t.editing.view,r=i.document,s=t.plugins.get(Yb);this.listenTo(r,"dragstart",((t,e)=>{if(e.target&&e.target.is("editableElement"))return void e.preventDefault();if(this._prepareDraggedRange(e.target),!this._draggedRange)return void e.preventDefault();this._draggingUid=_(),e.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",e.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const i=n.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(e.dataTransfer,i,"dragstart");const{dataTransfer:r,domTarget:o,domEvent:s}=e,{clientX:a}=s;this._updatePreview({dataTransfer:r,domTarget:o,clientX:a}),e.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")}),{priority:"low"}),this.listenTo(r,"dragend",((t,e)=>{this._finalizeDragging(!e.dataTransfer.isCanceled&&"move"==e.dataTransfer.dropEffect)}),{priority:"low"}),this._domEmitter.listenTo(e.document,"dragend",(()=>{this._blockMode=!1}),{useCapture:!0}),this.listenTo(r,"dragenter",(()=>{this.isEnabled&&i.focus()})),this.listenTo(r,"dragleave",(()=>{s.removeDropMarkerDelayed()})),this.listenTo(r,"dragging",((t,e)=>{if(!this.isEnabled)return void(e.dataTransfer.dropEffect="none");const{clientX:n,clientY:i}=e.domEvent;s.updateDropMarker(e.target,e.targetRanges,n,i,this._blockMode,this._draggedRange),this._draggedRange||(e.dataTransfer.dropEffect="copy"),o.isGecko||("copy"==e.dataTransfer.effectAllowed?e.dataTransfer.dropEffect="copy":["all","copyMove"].includes(e.dataTransfer.effectAllowed)&&(e.dataTransfer.dropEffect="move")),t.stop()}),{priority:"low"})}_setupClipboardInputIntegration(){const t=this.editor,e=t.editing.view.document,n=t.plugins.get(Yb);this.listenTo(e,"clipboardInput",((e,i)=>{if("drop"!=i.method)return;const{clientX:r,clientY:o}=i.domEvent,s=n.getFinalDropRange(i.target,i.targetRanges,r,o,this._blockMode,this._draggedRange);if(!s)return this._finalizeDragging(!1),void e.stop();this._draggedRange&&this._draggingUid!=i.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="");if("move"==iw(i.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(s,!0))return this._finalizeDragging(!1),void e.stop();i.targetRanges=[t.editing.mapper.toViewRange(s)]}),{priority:"high"})}_setupContentInsertionIntegration(){const t=this.editor.plugins.get(ym);t.on("contentInsertion",((t,e)=>{if(!this.isEnabled||"drop"!==e.method)return;const n=e.targetRanges.map((t=>this.editor.editing.mapper.toModelRange(t)));this.editor.model.change((t=>t.setSelection(n)))}),{priority:"high"}),t.on("contentInsertion",((t,e)=>{if(!this.isEnabled||"drop"!==e.method)return;const n="move"==iw(e.dataTransfer),i=!e.resultRange||!e.resultRange.isCollapsed;this._finalizeDragging(i&&n)}),{priority:"lowest"})}_setupDraggableAttributeHandling(){const t=this.editor,e=t.editing.view,n=e.document;this.listenTo(n,"mousedown",((i,r)=>{if(o.isAndroid||!r)return;this._clearDraggableAttributesDelayed.cancel();let s=rw(r.target);if(o.isBlink&&!t.isReadOnly&&!s&&!n.selection.isCollapsed){const t=n.selection.getSelectedElement();t&&wb(t)||(s=n.selection.editableElement)}s&&(e.change((t=>{t.setAttribute("draggable","true",s)})),this._draggableElement=t.editing.mapper.toModelElement(s))})),this.listenTo(n,"mouseup",(()=>{o.isAndroid||this._clearDraggableAttributesDelayed()}))}_clearDraggableAttributes(){const t=this.editor.editing;t.view.change((e=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&e.removeAttribute("draggable",t.mapper.toViewElement(this._draggableElement)),this._draggableElement=null}))}_finalizeDragging(t){const e=this.editor,n=e.model;if(e.plugins.get(Yb).removeDropMarker(),this._clearDraggableAttributes(),e.plugins.has("WidgetToolbarRepository")){e.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop")}this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(t&&this.isEnabled&&n.change((t=>{const e=n.createSelection(this._draggedRange);n.deleteContent(e,{doNotAutoparagraph:!0});const i=e.getFirstPosition().parent;i.isEmpty&&!n.schema.checkChild(i,"$text")&&n.schema.checkChild(i,"paragraph")&&t.insertElement("paragraph",i,0)})),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(t){const e=this.editor,n=e.model,i=n.document.selection,r=t?rw(t):null;if(r){const t=e.editing.mapper.toModelElement(r);if(this._draggedRange=Kc.fromRange(n.createRangeOn(t)),this._blockMode=n.schema.isBlock(t),e.plugins.has("WidgetToolbarRepository")){e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}return}if(i.isCollapsed&&!i.getFirstPosition().parent.isEmpty)return;const o=Array.from(i.getSelectedBlocks()),s=i.getFirstRange();if(0==o.length)return void(this._draggedRange=Kc.fromRange(s));const a=ow(n,o);if(o.length>1)this._draggedRange=Kc.fromRange(a),this._blockMode=!0;else if(1==o.length){const t=s.start.isTouching(a.start)&&s.end.isTouching(a.end);this._draggedRange=Kc.fromRange(t?a:s),this._blockMode=t}n.change((t=>t.setSelection(this._draggedRange.toRange())))}_updatePreview({dataTransfer:t,domTarget:n,clientX:i}){const r=this.editor.editing.view,s=r.document.selection.editableElement,a=r.domConverter.mapViewToDom(s),c=e.window.getComputedStyle(a);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=_t(e.document,"div",{style:"position: fixed; left: -999999px;"}),e.document.body.appendChild(this._previewContainer));const l=new Ui(a);if(a.contains(n))return;const u=parseFloat(c.paddingLeft),h=_t(e.document,"div");h.className="ck ck-content",h.style.width=c.width,h.style.paddingLeft=`${l.left-i+u}px`,o.isiOS&&(h.style.backgroundColor="white"),r.domConverter.setContentOf(h,t.getData("text/html")),t.setDragImage(h,0,0),this._previewContainer.appendChild(h)}}function iw(t){return o.isGecko?t.dropEffect:["all","copyMove"].includes(t.effectAllowed)?"move":"copy"}function rw(t){if(t.is("editableElement"))return null;if(t.hasClass("ck-widget__selection-handle"))return t.findAncestor(wb);if(wb(t))return t;const e=t.findAncestor((t=>wb(t)||t.is("editableElement")));return wb(e)?e:null}function ow(t,e){const n=e[0],i=e[e.length-1],r=n.getCommonAncestor(i),o=t.createPositionBefore(n),s=t.createPositionAfter(i);if(r&&r.is("element")&&!t.schema.isLimit(r)){const e=t.createRangeOn(r),n=o.isTouching(e.start),i=s.isTouching(e.end);if(n&&i)return ow(t,[r])}return t.createRange(o,s)}class sw extends fo{static get pluginName(){return"PastePlainText"}static get isOfficialPlugin(){return!0}static get requires(){return[ym]}init(){const t=this.editor,e=t.model,n=t.editing.view,i=e.document.selection;n.addObserver(Qp),t.plugins.get(ym).on("contentInsertion",((t,n)=>{(function(t,e){let n=e.createRangeIn(t);if(1==t.childCount){const i=t.getChild(0);i.is("element")&&e.schema.isBlock(i)&&!e.schema.isObject(i)&&!e.schema.isLimit(i)&&(n=e.createRangeIn(i))}for(const t of n.getItems()){if(!e.schema.isInline(t))return!1;if(Array.from(t.getAttributeKeys()).find((t=>e.schema.getAttributeProperties(t).isFormatting)))return!1}return!0})(n.content,e)&&e.change((t=>{const r=Array.from(i.getAttributes()).filter((([t])=>e.schema.getAttributeProperties(t).isFormatting));i.isCollapsed||e.deleteContent(i,{doNotAutoparagraph:!0}),r.push(...i.getAttributes());const o=t.createRangeIn(n.content);for(const n of o.getItems())for(const i of r)e.schema.checkAttribute(n,i[0])&&t.setAttribute(i[0],i[1],n)}))}))}}class aw extends fo{static get pluginName(){return"Clipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[wm,ym,nw,sw]}init(){const t=this.editor,e=this.editor.t;t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Copy selected content"),keystroke:"CTRL+C"},{label:e("Paste content"),keystroke:"CTRL+V"},{label:e("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class cw extends po{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(t.data,"set",((t,e)=>{e[1]={...e[1]};const n=e[1];n.batchType||(n.batchType={isUndoable:!1})}),{priority:"high"}),this.listenTo(t.data,"set",((t,e)=>{e[1].batchType.isUndoable||this.clearStack()}))}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(t){const e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,e,n){const i=this.editor.model,r=i.document,o=[],s=t.map((t=>t.getTransformedByOperations(n))),a=s.flat();for(const t of s){const e=t.filter((t=>t.root!=r.graveyard)).filter((t=>!uw(t,a)));e.length&&(lw(e),o.push(e[0]))}o.length&&i.change((t=>{t.setSelection(o,{backward:e})}))}_undo(t,e){const n=this.editor.model,i=n.document;this._createdBatches.add(e);const r=t.operations.slice().filter((t=>t.isDocumentOperation));r.reverse();for(const t of r){const r=t.baseVersion+1,o=Array.from(i.history.getOperations(r)),s=Ou([t.getReversed()],o,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let r of s){const o=r.affectedSelectable;o&&!n.canEditAt(o)&&(r=new ku(r.baseVersion)),e.addOperation(r),n.applyOperation(r),i.history.setOperationAsUndone(t,r)}}}}function lw(t){t.sort(((t,e)=>t.start.isBefore(e.start)?-1:1));for(let e=1;e<t.length;e++){const n=t[e-1].getJoined(t[e],!0);n&&(e--,t.splice(e,2,n))}}function uw(t,e){return e.some((e=>e!==t&&e.containsRange(t,!0)))}class hw extends cw{execute(t=null){const e=t?this._stack.findIndex((e=>e.batch==t)):this._stack.length-1,n=this._stack.splice(e,1)[0],i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,(()=>{this._undo(n.batch,i);const t=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,t)})),this.fire("revert",n.batch,i),this.refresh()}}class dw extends cw{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(e,(()=>{const n=t.batch.operations[t.batch.operations.length-1].baseVersion+1,i=this.editor.model.document.history.getOperations(n);this._restoreSelection(t.selection.ranges,t.selection.isBackward,i),this._undo(t.batch,e)})),this.refresh()}}class fw extends fo{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t;this._undoCommand=new hw(t),this._redoCommand=new dw(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",((t,e)=>{const n=e[0];if(!n.isDocumentOperation)return;const i=n.batch,r=this._redoCommand.createdBatches.has(i),o=this._undoCommand.createdBatches.has(i);this._batchRegistry.has(i)||(this._batchRegistry.add(i),i.isUndoable&&(r?this._undoCommand.addBatch(i):o||(this._undoCommand.addBatch(i),this._redoCommand.clearStack())))}),{priority:"highest"}),this.listenTo(this._undoCommand,"revert",((t,e,n)=>{this._redoCommand.addBatch(n)})),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo"),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Undo"),keystroke:"CTRL+Z"},{label:e("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class gw extends fo{static get pluginName(){return"UndoUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale,n=t.t,i="ltr"==e.uiLanguageDirection?ed.undo:ed.redo,r="ltr"==e.uiLanguageDirection?ed.redo:ed.undo;this._addButtonsToFactory("undo",n("Undo"),"CTRL+Z",i),this._addButtonsToFactory("redo",n("Redo"),"CTRL+Y",r)}_addButtonsToFactory(t,e,n,i){const r=this.editor;r.ui.componentFactory.add(t,(()=>{const r=this._createButton(Od,t,e,n,i);return r.set({tooltip:!0}),r})),r.ui.componentFactory.add("menuBar:"+t,(()=>this._createButton(tf,t,e,n,i)))}_createButton(t,e,n,i,r){const o=this.editor,s=o.locale,a=o.commands.get(e),c=new t(s);return c.set({label:n,icon:r,keystroke:i}),c.bind("isEnabled").to(a,"isEnabled"),this.listenTo(c,"execute",(()=>{o.execute(e),o.editing.view.focus()})),c}}class pw extends fo{static get requires(){return[fw,gw]}static get pluginName(){return"Undo"}static get isOfficialPlugin(){return!0}}function mw(t){return t.createContainerElement("figure",{class:"image"},[t.createEmptyElement("img"),t.createSlot("children")])}function bw(t,e){const n=t.plugins.get("ImageUtils"),i=t.plugins.has("ImageInlineEditing")&&t.plugins.has("ImageBlockEditing");return t=>{if(!n.isInlineImageView(t))return null;if(!i)return r(t);return("block"==t.getStyle("display")||t.findAncestor(n.isBlockImageView)?"imageBlock":"imageInline")!==e?null:r(t)};function r(t){const e={name:!0};return t.hasAttribute("src")&&(e.attributes=["src"]),e}}function ww(t,e){const n=Zr(e.getSelectedBlocks());return!n||t.isObject(n)||n.isEmpty&&"listItem"!=n.name?"imageBlock":"imageInline"}function yw(t){return t&&t.endsWith("px")?parseInt(t):null}function vw(t){const e=yw(t.getStyle("width")),n=yw(t.getStyle("height"));return!(!e||!n)}const _w=/^(image|image-inline)$/;class kw extends fo{constructor(){super(...arguments),this._domEmitter=new(Ni())}static get pluginName(){return"ImageUtils"}static get isOfficialPlugin(){return!0}isImage(t){return this.isInlineImage(t)||this.isBlockImage(t)}isInlineImageView(t){return!!t&&t.is("element","img")}isBlockImageView(t){return!!t&&t.is("element","figure")&&t.hasClass("image")}insertImage(t={},e=null,n=null,i={}){const r=this.editor,o=r.model,s=o.document.selection,a=xw(r,e||s,n);t={...Object.fromEntries(s.getAttributes()),...t};for(const e in t)o.schema.checkAttribute(a,e)||delete t[e];return o.change((n=>{const{setImageSizes:r=!0}=i,s=n.createElement(a,t);return o.insertObject(s,e,null,{setSelection:"on",findOptimalPosition:e||"imageInline"==a?void 0:"auto"}),s.parent?(r&&this.setImageNaturalSizeAttributes(s),s):null}))}setImageNaturalSizeAttributes(t){const n=t.getAttribute("src");n&&(t.getAttribute("width")||t.getAttribute("height")||this.editor.model.change((i=>{const r=new e.window.Image;this._domEmitter.listenTo(r,"load",(()=>{t.getAttribute("width")||t.getAttribute("height")||this.editor.model.enqueueChange(i.batch,(e=>{e.setAttribute("width",r.naturalWidth,t),e.setAttribute("height",r.naturalHeight,t)})),this._domEmitter.stopListening(r,"load")})),r.src=n})))}getClosestSelectedImageWidget(t){const e=t.getFirstPosition();if(!e)return null;const n=t.getSelectedElement();if(n&&this.isImageWidget(n))return n;let i=e.parent;for(;i;){if(i.is("element")&&this.isImageWidget(i))return i;i=i.parent}return null}getClosestSelectedImageElement(t){const e=t.getSelectedElement();return this.isImage(e)?e:t.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(t){return t.findAncestor({classes:_w})}isImageAllowed(){const t=this.editor.model.document.selection;return function(t,e){const n=xw(t,e,null);if("imageBlock"==n){const n=function(t,e){const n=Eb(t,e),i=n.start.parent;if(i.isEmpty&&!i.is("element","$root"))return i.parent;return i}(e,t.model);if(t.model.schema.checkChild(n,"imageBlock"))return!0}else if(t.model.schema.checkChild(e.focus,"imageInline"))return!0;return!1}(this.editor,t)&&function(t){return[...t.focus.getAncestors()].every((t=>!t.is("element","imageBlock")))}(t)}toImageWidget(t,e,n){e.setCustomProperty("image",!0,t);return yb(t,e,{label:()=>{const e=this.findViewImgElement(t).getAttribute("alt");return e?`${e} ${n}`:n}})}isImageWidget(t){return!!t.getCustomProperty("image")&&wb(t)}isBlockImage(t){return!!t&&t.is("element","imageBlock")}isInlineImage(t){return!!t&&t.is("element","imageInline")}findViewImgElement(t){if(this.isInlineImageView(t))return t;const e=this.editor.editing.view;for(const{item:n}of e.createRangeIn(t))if(this.isInlineImageView(n))return n}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function xw(t,e,n){const i=t.model.schema,r=t.config.get("image.insert.type");return t.plugins.has("ImageBlockEditing")?t.plugins.has("ImageInlineEditing")?n||("inline"===r?"imageInline":"auto"!==r?"imageBlock":e.is("selection")?ww(i,e):i.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const Ew=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class Tw extends po{refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}execute(t){const e=this.editor,n=e.plugins.get("ImageUtils"),i=e.model,r=n.getClosestSelectedImageElement(i.document.selection);i.change((e=>{e.setAttribute("alt",t.newValue,r)}))}}class Cw extends fo{static get requires(){return[kw]}static get pluginName(){return"ImageTextAlternativeEditing"}static get isOfficialPlugin(){return!0}init(){this.editor.commands.add("imageTextAlternative",new Tw(this.editor))}}class Aw extends Ed{constructor(t){super(t);const e=this.locale.t;this.focusTracker=new Qr,this.keystrokes=new no,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(e("Save"),ed.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(e("Cancel"),ed.cancel,"ck-button-cancel","cancel"),this._focusables=new nd,this._focusCycler=new Ld({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Ad({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(t,e,n,i){const r=new Od(this.locale);return r.set({label:t,icon:e,tooltip:!0}),r.extendTemplate({attributes:{class:n}}),i&&r.delegate("execute").to(this,i),r}_createLabeledInputView(){const t=this.locale.t,e=new pf(this.locale,ng);return e.label=t("Text alternative"),e}}function Sw(t){const e=t.editing.view,n=Lf.defaultPositions,i=t.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(i.getClosestSelectedImageWidget(e.document.selection)),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}class Iw extends fo{static get requires(){return[Zg]}static get pluginName(){return"ImageTextAlternativeUI"}static get isOfficialPlugin(){return!0}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageTextAlternative",(n=>{const i=t.commands.get("imageTextAlternative"),r=new Od(n);return r.set({label:e("Change image text alternative"),icon:ed.textAlternative,tooltip:!0}),r.bind("isEnabled").to(i,"isEnabled"),r.bind("isOn").to(i,"value",(t=>!!t)),this.listenTo(r,"execute",(()=>{this._showForm()})),r}))}_createForm(){const t=this.editor,e=t.editing.view.document,n=t.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Cd(Aw))(t.locale),this._form.render(),this.listenTo(this._form,"submit",(()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)})),this.listenTo(this._form,"cancel",(()=>{this._hideForm(!0)})),this._form.keystrokes.set("Esc",((t,e)=>{this._hideForm(!0),e()})),this.listenTo(t.ui,"update",(()=>{n.getClosestSelectedImageWidget(e.selection)?this._isVisible&&function(t){const e=t.plugins.get("ContextualBalloon");if(t.plugins.get("ImageUtils").getClosestSelectedImageWidget(t.editing.view.document.selection)){const n=Sw(t);e.updatePosition(n)}}(t):this._hideForm(!0)})),Td({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const t=this.editor,e=t.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:Sw(t)}),n.fieldView.value=n.fieldView.element.value=e.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(t=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class Mw extends fo{static get requires(){return[Cw,Iw]}static get pluginName(){return"ImageTextAlternative"}static get isOfficialPlugin(){return!0}}function Pw(t,e){const n=(e,n,i)=>{if(!i.consumable.consume(n.item,e.name))return;const r=i.writer,o=i.mapper.toViewElement(n.item),s=t.findViewImgElement(o);null===n.attributeNewValue?(r.removeAttribute("srcset",s),r.removeAttribute("sizes",s)):n.attributeNewValue&&(r.setAttribute("srcset",n.attributeNewValue,s),r.setAttribute("sizes","100vw",s))};return t=>{t.on(`attribute:srcset:${e}`,n)}}function Ow(t,e,n){const i=(e,n,i)=>{if(!i.consumable.consume(n.item,e.name))return;const r=i.writer,o=i.mapper.toViewElement(n.item),s=t.findViewImgElement(o);r.setAttribute(n.attributeKey,n.attributeNewValue||"",s)};return t=>{t.on(`attribute:${n}:${e}`,i)}}class Dw extends Ta{observe(t){this.listenTo(t,"load",((t,e)=>{const n=e.target;this.checkShouldIgnoreEventFromTarget(n)||"IMG"==n.tagName&&this._fireEvents(e)}),{useCapture:!0})}stopObserving(t){this.stopListening(t)}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}class Nw extends po{constructor(t){super(t);const e=t.config.get("image.insert.type");t.plugins.has("ImageBlockEditing")||"block"===e&&T("image-block-plugin-required"),t.plugins.has("ImageInlineEditing")||"inline"===e&&T("image-inline-plugin-required")}refresh(){const t=this.editor.plugins.get("ImageUtils");this.isEnabled=t.isImageAllowed()}execute(t){const e=Cr(t.source),n=this.editor.model.document.selection,i=this.editor.plugins.get("ImageUtils"),r=Object.fromEntries(n.getAttributes());e.forEach(((e,o)=>{const s=n.getSelectedElement();if("string"==typeof e&&(e={src:e}),o&&s&&i.isImage(s)){const n=this.editor.model.createPositionAfter(s);i.insertImage({...e,...r},n,t.imageType)}else i.insertImage({...e,...r},null,t.imageType)}))}}class Lw extends po{constructor(t){super(t),this.decorate("cleanupImage")}refresh(){const t=this.editor.plugins.get("ImageUtils"),e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(e),this.value=this.isEnabled?e.getAttribute("src"):null}execute(t){const e=this.editor.model.document.selection.getSelectedElement(),n=this.editor.plugins.get("ImageUtils");this.editor.model.change((i=>{i.setAttribute("src",t.source,e),this.cleanupImage(i,e),n.setImageNaturalSizeAttributes(e)}))}cleanupImage(t,e){t.removeAttribute("srcset",e),t.removeAttribute("sizes",e),t.removeAttribute("sources",e),t.removeAttribute("width",e),t.removeAttribute("height",e),t.removeAttribute("alt",e)}}class Rw extends fo{static get requires(){return[kw]}static get pluginName(){return"ImageEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.conversion;t.editing.view.addObserver(Dw),e.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const n=new Nw(t),i=new Lw(t);t.commands.add("insertImage",n),t.commands.add("replaceImageSource",i),t.commands.add("imageInsert",n)}}class Bw extends fo{static get requires(){return[kw]}static get pluginName(){return"ImageSizeAttributes"}static get isOfficialPlugin(){return!0}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(t){const e=this.editor,n=e.plugins.get("ImageUtils"),i="imageBlock"===t?"figure":"img";function r(e,i,r,o){e.on(`attribute:${i}:${t}`,((e,i,s)=>{if(!s.consumable.consume(i.item,e.name))return;const a=s.writer,c=s.mapper.toViewElement(i.item),l=n.findViewImgElement(c);if(null!==i.attributeNewValue?a.setAttribute(r,i.attributeNewValue,l):a.removeAttribute(r,l),i.item.hasAttribute("sources"))return;const u=i.item.hasAttribute("resizedWidth");if("imageInline"===t&&!u&&!o)return;const h=i.item.getAttribute("width"),d=i.item.getAttribute("height");h&&d&&a.setStyle("aspect-ratio",`${h}/${d}`,l)}))}e.conversion.for("upcast").attributeToAttribute({view:{name:i,styles:{width:/.+/}},model:{key:"width",value:t=>vw(t)?yw(t.getStyle("width")):null}}).attributeToAttribute({view:{name:i,key:"width"},model:"width"}).attributeToAttribute({view:{name:i,styles:{height:/.+/}},model:{key:"height",value:t=>vw(t)?yw(t.getStyle("height")):null}}).attributeToAttribute({view:{name:i,key:"height"},model:"height"}),e.conversion.for("editingDowncast").add((t=>{r(t,"width","width",!0),r(t,"height","height",!0)})),e.conversion.for("dataDowncast").add((t=>{r(t,"width","width",!1),r(t,"height","height",!1)}))}}class Fw extends po{constructor(t,e){super(t),this._modelElementName=e}refresh(){const t=this.editor.plugins.get("ImageUtils"),e=t.getClosestSelectedImageElement(this.editor.model.document.selection);"imageBlock"===this._modelElementName?this.isEnabled=t.isInlineImage(e):this.isEnabled=t.isBlockImage(e)}execute(t={}){const e=this.editor,n=this.editor.model,i=e.plugins.get("ImageUtils"),r=i.getClosestSelectedImageElement(n.document.selection),o=Object.fromEntries(r.getAttributes());return o.src||o.uploadId?n.change((e=>{const{setImageSizes:s=!0}=t,a=Array.from(n.markers).filter((t=>t.getRange().containsItem(r))),c=i.insertImage(o,n.createSelection(r,"on"),this._modelElementName,{setImageSizes:s});if(!c)return null;const l=e.createRangeOn(c);for(const t of a){const n=t.getRange(),i="$graveyard"!=n.root.rootName?n.getJoined(l,!0):l;e.updateMarker(t,{range:i})}return{oldElement:r,newElement:c}})):null}}class jw extends fo{static get requires(){return[kw]}static get pluginName(){return"ImagePlaceholder"}static get isOfficialPlugin(){return!0}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const t=this.editor.model.schema;t.isRegistered("imageBlock")&&t.extend("imageBlock",{allowAttributes:["placeholder"]}),t.isRegistered("imageInline")&&t.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const t=this.editor,e=t.conversion,n=t.plugins.get("ImageUtils");e.for("editingDowncast").add((t=>{t.on("attribute:placeholder",((t,e,i)=>{if(!i.consumable.test(e.item,t.name))return;if(!e.item.is("element","imageBlock")&&!e.item.is("element","imageInline"))return;i.consumable.consume(e.item,t.name);const r=i.writer,o=i.mapper.toViewElement(e.item),s=n.findViewImgElement(o);e.attributeNewValue?(r.addClass("image_placeholder",s),r.setStyle("background-image",`url(${e.attributeNewValue})`,s),r.setCustomProperty("editingPipeline:doNotReuseOnce",!0,s)):(r.removeClass("image_placeholder",s),r.removeStyle("background-image",s))}))}))}_setupLoadListener(){const t=this.editor,e=t.model,n=t.editing,i=n.view,r=t.plugins.get("ImageUtils");i.addObserver(Dw),this.listenTo(i.document,"imageLoaded",((t,o)=>{const s=i.domConverter.mapDomToView(o.target);if(!s)return;const a=r.getImageWidgetFromImageView(s);if(!a)return;const c=n.mapper.toModelElement(a);c&&c.hasAttribute("placeholder")&&e.enqueueChange({isUndoable:!1},(t=>{t.removeAttribute("placeholder",c)}))}))}}class $w extends fo{static get requires(){return[Rw,Bw,kw,jw,ym]}static get pluginName(){return"ImageBlockEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),t.plugins.has("ImageInlineEditing")&&(t.commands.add("imageTypeBlock",new Fw(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,n=t.conversion,i=t.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(t,{writer:e})=>mw(e)}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(t,{writer:n})=>i.toImageWidget(mw(n),n,e("image widget"))}),n.for("downcast").add(Ow(i,"imageBlock","src")).add(Ow(i,"imageBlock","alt")).add(Pw(i,"imageBlock")),n.for("upcast").elementToElement({view:bw(t,"imageBlock"),model:(t,{writer:e})=>e.createElement("imageBlock",t.hasAttribute("src")?{src:t.getAttribute("src")}:void 0)}).add(function(t){const e=(e,n,i)=>{if(!i.consumable.test(n.viewItem,{name:!0,classes:"image"}))return;const r=t.findViewImgElement(n.viewItem);if(!r||!i.consumable.test(r,{name:!0}))return;i.consumable.consume(n.viewItem,{name:!0,classes:"image"});const o=Zr(i.convertItem(r,n.modelCursor).modelRange.getItems());o?(i.convertChildren(n.viewItem,o),i.updateConversionResult(o,n)):i.consumable.revert(n.viewItem,{name:!0,classes:"image"})};return t=>{t.on("element:figure",e)}}(i))}_setupClipboardIntegration(){const t=this.editor,e=t.model,n=t.editing.view,i=t.plugins.get("ImageUtils"),r=t.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",((r,o)=>{const s=Array.from(o.content.getChildren());let a;if(!s.every(i.isInlineImageView))return;a=o.targetRanges?t.editing.mapper.toModelRange(o.targetRanges[0]):e.document.selection.getFirstRange();const c=e.createSelection(a);if("imageBlock"===ww(e.schema,c)){const t=new Ih(n.document),e=s.map((e=>t.createElement("figure",{class:"image"},e)));o.content=t.createDocumentFragment(e)}})),this.listenTo(r,"contentInsertion",((t,n)=>{"paste"===n.method&&e.change((t=>{const e=t.createRangeIn(n.content);for(const t of e.getItems())t.is("element","imageBlock")&&i.setImageNaturalSizeAttributes(t)}))}))}}class Vw extends Ed{constructor(t,e=[]){super(t),this.focusTracker=new Qr,this.keystrokes=new no,this._focusables=new nd,this.children=this.createCollection(),this._focusCycler=new Ld({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const t of e)this.children.add(t),this._focusables.add(t),t instanceof gf&&this._focusables.addMany(t.children);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),Ad({view:this});for(const t of this._focusables)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element);const t=t=>t.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}class zw extends fo{static get pluginName(){return"ImageInsertUI"}static get isOfficialPlugin(){return!0}static get requires(){return[kw]}constructor(t){super(t),this._integrations=new Map,t.config.define("image.insert.integrations",["upload","assetManager","url"])}init(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(t.model.document,"change",(()=>{this.isImageSelected=n.isImage(e.getSelectedElement())}));const i=t=>this._createToolbarComponent(t);t.ui.componentFactory.add("insertImage",i),t.ui.componentFactory.add("imageInsert",i),t.ui.componentFactory.add("menuBar:insertImage",(t=>this._createMenuBarComponent(t)))}registerIntegration({name:t,observable:e,buttonViewCreator:n,formViewCreator:i,menuBarButtonViewCreator:r,requiresForm:o=!1}){this._integrations.has(t)&&T("image-insert-integration-exists",{name:t}),this._integrations.set(t,{observable:e,buttonViewCreator:n,menuBarButtonViewCreator:r,formViewCreator:i,requiresForm:o})}_createToolbarComponent(t){const e=this.editor,n=t.t,i=this._prepareIntegrations();if(!i.length)return null;let r;const o=i[0];if(1==i.length){if(!o.requiresForm)return o.buttonViewCreator(!0);r=o.buttonViewCreator(!0)}else{const e=o.buttonViewCreator(!1);r=new Gf(t,e),r.tooltip=!0,r.bind("label").to(this,"isImageSelected",(t=>n(t?"Replace image":"Insert image")))}const s=this.dropdownView=Kf(t,r),a=i.map((({observable:t})=>"function"==typeof t?t():t));return s.bind("isEnabled").toMany(a,"isEnabled",((...t)=>t.some((t=>t)))),s.once("change:isOpen",(()=>{const t=i.map((({formViewCreator:t})=>t(1==i.length))),n=new Vw(e.locale,t);s.panelView.children.add(n)})),s}_createMenuBarComponent(t){const e=t.t,n=this._prepareIntegrations();if(!n.length)return null;let i;const r=n[0];if(1==n.length)i=r.menuBarButtonViewCreator(!0);else{i=new pp(t);const r=new mp(t);i.panelView.children.add(r),i.buttonView.set({icon:ed.image,label:e("Image")});for(const e of n){const n=new Cg(t,i),o=e.menuBarButtonViewCreator(!1);n.children.add(o),r.items.add(n)}}return i}_prepareIntegrations(){const t=this.editor.config.get("image.insert.integrations"),e=[];if(!t.length)return T("image-insert-integrations-not-specified"),e;for(const n of t)this._integrations.has(n)?e.push(this._integrations.get(n)):["upload","assetManager","url"].includes(n)||T("image-insert-unknown-integration",{item:n});return e.length||T("image-insert-integrations-not-registered"),e}}class Hw extends fo{static get requires(){return[$w,Bb,Mw,zw]}static get pluginName(){return"ImageBlock"}static get isOfficialPlugin(){return!0}}class Uw extends fo{static get requires(){return[Rw,Bw,kw,jw,ym]}static get pluginName(){return"ImageInlineEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.model.schema.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"],disallowIn:["caption"]}),this._setupConversion(),t.plugins.has("ImageBlockEditing")&&(t.commands.add("imageTypeInline",new Fw(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,n=t.conversion,i=t.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(t,{writer:e})=>e.createEmptyElement("img")}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(t,{writer:n})=>i.toImageWidget(function(t){return t.createContainerElement("span",{class:"image-inline"},t.createEmptyElement("img"))}(n),n,e("image widget"))}),n.for("downcast").add(Ow(i,"imageInline","src")).add(Ow(i,"imageInline","alt")).add(Pw(i,"imageInline")),n.for("upcast").elementToElement({view:bw(t,"imageInline"),model:(t,{writer:e})=>e.createElement("imageInline",t.hasAttribute("src")?{src:t.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const t=this.editor,e=t.model,n=t.editing.view,i=t.plugins.get("ImageUtils"),r=t.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",((r,o)=>{const s=Array.from(o.content.getChildren());let a;if(!s.every(i.isBlockImageView))return;a=o.targetRanges?t.editing.mapper.toModelRange(o.targetRanges[0]):e.document.selection.getFirstRange();const c=e.createSelection(a);if("imageInline"===ww(e.schema,c)){const t=new Ih(n.document),e=s.map((e=>1===e.childCount?(Array.from(e.getAttributes()).forEach((n=>t.setAttribute(...n,i.findViewImgElement(e)))),e.getChild(0)):e));o.content=t.createDocumentFragment(e)}})),this.listenTo(r,"contentInsertion",((t,n)=>{"paste"===n.method&&e.change((t=>{const e=t.createRangeIn(n.content);for(const t of e.getItems())t.is("element","imageInline")&&i.setImageNaturalSizeAttributes(t)}))}))}}class qw extends fo{static get requires(){return[Uw,Bb,Mw,zw]}static get pluginName(){return"ImageInline"}static get isOfficialPlugin(){return!0}}class Ww extends fo{static get pluginName(){return"ImageCaptionUtils"}static get isOfficialPlugin(){return!0}static get requires(){return[kw]}getCaptionFromImageModelElement(t){for(const e of t.getChildren())if(e&&e.is("element","caption"))return e;return null}getCaptionFromModelSelection(t){const e=this.editor.plugins.get("ImageUtils"),n=t.getFirstPosition().findAncestor("caption");return n&&e.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(t){const e=this.editor.plugins.get("ImageUtils");return"figcaption"==t.name&&e.isBlockImageView(t.parent)?{name:!0}:null}}class Gw extends po{refresh(){const t=this.editor,e=t.plugins.get("ImageCaptionUtils"),n=t.plugins.get("ImageUtils");if(!t.plugins.has($w))return this.isEnabled=!1,void(this.value=!1);const i=t.model.document.selection,r=i.getSelectedElement();if(!r){const t=e.getCaptionFromModelSelection(i);return this.isEnabled=!!t,void(this.value=!!t)}this.isEnabled=n.isImage(r),this.isEnabled?this.value=!!e.getCaptionFromImageModelElement(r):this.value=!1}execute(t={}){const{focusCaptionOnShow:e}=t;this.editor.model.change((t=>{this.value?this._hideImageCaption(t):this._showImageCaption(t,e)}))}_showImageCaption(t,e){const n=this.editor.model.document.selection,i=this.editor.plugins.get("ImageCaptionEditing"),r=this.editor.plugins.get("ImageUtils");let o=n.getSelectedElement();const s=i._getSavedCaption(o);r.isInlineImage(o)&&(this.editor.execute("imageTypeBlock"),o=n.getSelectedElement());const a=s||t.createElement("caption");t.append(a,o),e&&t.setSelection(a,"in")}_hideImageCaption(t){const e=this.editor,n=e.model.document.selection,i=e.plugins.get("ImageCaptionEditing"),r=e.plugins.get("ImageCaptionUtils");let o,s=n.getSelectedElement();s?o=r.getCaptionFromImageModelElement(s):(o=r.getCaptionFromModelSelection(n),s=o.parent),i._saveCaption(s,o),t.setSelection(s,"on"),t.remove(o)}}class Kw extends fo{static get requires(){return[kw,Ww]}static get pluginName(){return"ImageCaptionEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),this._savedCaptionsMap=new WeakMap}init(){const t=this.editor,e=t.model.schema;e.isRegistered("caption")?e.extend("caption",{allowIn:"imageBlock"}):e.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),t.commands.add("toggleImageCaption",new Gw(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const t=this.editor,e=t.editing.view,n=t.plugins.get("ImageUtils"),i=t.plugins.get("ImageCaptionUtils"),r=t.t;t.conversion.for("upcast").elementToElement({view:t=>i.matchImageCaptionViewElement(t),model:"caption"}),t.conversion.for("dataDowncast").elementToElement({model:"caption",view:(t,{writer:e})=>n.isBlockImage(t.parent)?e.createContainerElement("figcaption"):null}),t.conversion.for("editingDowncast").elementToElement({model:"caption",view:(t,{writer:i})=>{if(!n.isBlockImage(t.parent))return null;const o=i.createEditableElement("figcaption");i.setCustomProperty("imageCaption",!0,o),o.placeholder=r("Enter image caption"),Ho({view:e,element:o,keepOnFocus:!0});const s=t.parent.getAttribute("alt");return xb(o,i,{label:s?r("Caption for image: %0",[s]):r("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const t=this.editor,e=t.plugins.get("ImageUtils"),n=t.plugins.get("ImageCaptionUtils"),i=t.commands.get("imageTypeInline"),r=t.commands.get("imageTypeBlock"),o=t=>{if(!t.return)return;const{oldElement:i,newElement:r}=t.return;if(!i)return;if(e.isBlockImage(i)){const t=n.getCaptionFromImageModelElement(i);if(t)return void this._saveCaption(r,t)}const o=this._getSavedCaption(i);o&&this._saveCaption(r,o)};i&&this.listenTo(i,"execute",o,{priority:"low"}),r&&this.listenTo(r,"execute",o,{priority:"low"})}_getSavedCaption(t){const e=this._savedCaptionsMap.get(t);return e?il.fromJSON(e):null}_saveCaption(t,e){this._savedCaptionsMap.set(t,e.toJSON())}_registerCaptionReconversion(){const t=this.editor,e=t.model,n=t.plugins.get("ImageUtils"),i=t.plugins.get("ImageCaptionUtils");e.document.on("change:data",(()=>{const r=e.document.differ.getChanges();for(const e of r){if("alt"!==e.attributeKey)continue;const r=e.range.start.nodeAfter;if(n.isBlockImage(r)){const e=i.getCaptionFromImageModelElement(r);if(!e)return;t.editing.reconvertItem(e)}}}))}}class Yw extends fo{static get requires(){return[Ww]}static get pluginName(){return"ImageCaptionUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.editing.view,n=t.plugins.get("ImageCaptionUtils"),i=t.t;t.ui.componentFactory.add("toggleImageCaption",(r=>{const o=t.commands.get("toggleImageCaption"),s=new Od(r);return s.set({icon:ed.caption,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(o,"value","isEnabled"),s.bind("label").to(o,"value",(t=>i(t?"Toggle caption off":"Toggle caption on"))),this.listenTo(s,"execute",(()=>{t.execute("toggleImageCaption",{focusCaptionOnShow:!0});const i=n.getCaptionFromModelSelection(t.model.document.selection);if(i){const n=t.editing.mapper.toViewElement(i);e.scrollToTheSelection(),e.change((t=>{t.addClass("image__caption_highlighted",n)}))}t.editing.view.focus()})),s}))}}function Xw(t){const e=t.map((t=>t.replace("+","\\+")));return new RegExp(`^image\\/(${e.join("|")})$`)}function Zw(t){return new Promise(((n,i)=>{const r=t.getAttribute("src");fetch(r).then((t=>t.blob())).then((t=>{const e=Qw(t,r),i=e.replace("image/",""),o=new File([t],`image.${i}`,{type:e});n(o)})).catch((t=>t&&"TypeError"===t.name?function(t){return function(t){return new Promise(((n,i)=>{const r=e.document.createElement("img");r.addEventListener("load",(()=>{const t=e.document.createElement("canvas");t.width=r.width,t.height=r.height;t.getContext("2d").drawImage(r,0,0),t.toBlob((t=>t?n(t):i()))})),r.addEventListener("error",(()=>i())),r.src=t}))}(t).then((e=>{const n=Qw(e,t),i=n.replace("image/","");return new File([e],`image.${i}`,{type:n})}))}(r).then(n).catch(i):i(t)))}))}function Qw(t,e){return t.type?t.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Jw extends fo{static get pluginName(){return"ImageUploadUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("uploadImage",(()=>this._createToolbarButton())),t.ui.componentFactory.add("imageUpload",(()=>this._createToolbarButton())),t.ui.componentFactory.add("menuBar:uploadImage",(()=>this._createMenuBarButton("standalone"))),t.plugins.has("ImageInsertUI")&&t.plugins.get("ImageInsertUI").registerIntegration({name:"upload",observable:()=>t.commands.get("uploadImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:t=>this._createMenuBarButton(t?"insertOnly":"insertNested")})}_createButton(t){const e=this.editor,n=e.locale,i=e.commands.get("uploadImage"),r=e.config.get("image.upload.types"),o=Xw(r),s=new t(e.locale),a=n.t;return s.set({acceptedType:r.map((t=>`image/${t}`)).join(","),allowMultipleFiles:!0,label:a("Upload from computer"),icon:ed.imageUpload}),s.bind("isEnabled").to(i),s.on("done",((t,n)=>{const i=Array.from(n).filter((t=>o.test(t.type)));i.length&&(e.execute("uploadImage",{file:i}),e.editing.view.focus())})),s}_createToolbarButton(){const t=this.editor.locale.t,e=this.editor.plugins.get("ImageInsertUI"),n=this.editor.commands.get("uploadImage"),i=this._createButton(lf);return i.tooltip=!0,i.bind("label").to(e,"isImageSelected",n,"isAccessAllowed",((e,n)=>t(n?e?"Replace image from computer":"Upload image from computer":"You have no image upload permissions."))),i}_createDropdownButton(){const t=this.editor.locale.t,e=this.editor.plugins.get("ImageInsertUI"),n=this._createButton(lf);return n.withText=!0,n.bind("label").to(e,"isImageSelected",(e=>t(e?"Replace from computer":"Upload from computer"))),n.on("execute",(()=>{e.dropdownView.isOpen=!1})),n}_createMenuBarButton(t){const e=this.editor.locale.t,n=this._createButton(wp);switch(n.withText=!0,t){case"standalone":n.label=e("Image from computer");break;case"insertOnly":n.label=e("Image");break;case"insertNested":n.label=e("From computer")}return n}}class ty extends fo{static get pluginName(){return"ImageUploadProgress"}static get isOfficialPlugin(){return!0}constructor(t){super(t),this.uploadStatusChange=(t,e,n)=>{const i=this.editor,r=e.item,o=r.getAttribute("uploadId");if(!n.consumable.consume(e.item,t.name))return;const s=i.plugins.get("ImageUtils"),a=i.plugins.get($p),c=o?e.attributeNewValue:null,l=this.placeholder,u=i.editing.mapper.toViewElement(r),h=n.writer;if("reading"==c)return ey(u,h),void ny(s,l,u,h);if("uploading"==c){const t=a.loaders.get(o);return ey(u,h),void(t?(iy(u,h),function(t,e,n,i){const r=function(t){const e=t.createUIElement("div",{class:"ck-progress-bar"});return t.setCustomProperty("progressBar",!0,e),e}(e);e.insert(e.createPositionAt(t,"end"),r),n.on("change:uploadedPercent",((t,e,n)=>{i.change((t=>{t.setStyle("width",n+"%",r)}))}))}(u,h,t,i.editing.view),function(t,e,n,i){if(i.data){const r=t.findViewImgElement(e);n.setAttribute("src",i.data,r)}}(s,u,h,t)):ny(s,l,u,h))}"complete"==c&&a.loaders.get(o)&&function(t,e,n){const i=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(t,"end"),i),setTimeout((()=>{n.change((t=>t.remove(t.createRangeOn(i))))}),3e3)}(u,h,i.editing.view),function(t,e){oy(t,e,"progressBar")}(u,h),iy(u,h),function(t,e){e.removeClass("ck-appear",t)}(u,h)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const t=this.editor;t.plugins.has("ImageBlockEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),t.plugins.has("ImageInlineEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function ey(t,e){t.hasClass("ck-appear")||e.addClass("ck-appear",t)}function ny(t,e,n,i){n.hasClass("ck-image-upload-placeholder")||i.addClass("ck-image-upload-placeholder",n);const r=t.findViewImgElement(n);r.getAttribute("src")!==e&&i.setAttribute("src",e,r),ry(n,"placeholder")||i.insert(i.createPositionAfter(r),function(t){const e=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty("placeholder",!0,e),e}(i))}function iy(t,e){t.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",t),oy(t,e,"placeholder")}function ry(t,e){for(const n of t.getChildren())if(n.getCustomProperty(e))return n}function oy(t,e,n){const i=ry(t,n);i&&e.remove(e.createRangeOn(i))}class sy extends po{constructor(t){super(t),this.set("isAccessAllowed",!0)}refresh(){const t=this.editor,e=t.plugins.get("ImageUtils"),n=t.model.document.selection.getSelectedElement();this.isEnabled=e.isImageAllowed()||e.isImage(n)}execute(t){const e=Cr(t.file),n=this.editor.model.document.selection,i=this.editor.plugins.get("ImageUtils"),r=Object.fromEntries(n.getAttributes());e.forEach(((t,e)=>{const o=n.getSelectedElement();if(e&&o&&i.isImage(o)){const e=this.editor.model.createPositionAfter(o);this._uploadImage(t,r,e)}else this._uploadImage(t,r)}))}_uploadImage(t,e,n){const i=this.editor,r=i.plugins.get($p).createLoader(t),o=i.plugins.get("ImageUtils");r&&o.insertImage({...e,uploadId:r.id},n)}}class ay extends fo{static get requires(){return[$p,Kg,ym,kw]}static get pluginName(){return"ImageUploadEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),this._uploadedImages=new Map,t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const t=this.editor,e=t.model.document,n=t.conversion,i=t.plugins.get($p),r=t.plugins.get("ImageUtils"),o=t.plugins.get("ClipboardPipeline"),s=Xw(t.config.get("image.upload.types")),a=new sy(t);t.commands.add("uploadImage",a),t.commands.add("imageUpload",a),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}).add((t=>t.on("element:img",((t,e,n)=>{if(!n.consumable.test(e.viewItem,{attributes:["data-ck-upload-id"]}))return;const r=e.viewItem.getAttribute("data-ck-upload-id");if(!r)return;const[o]=Array.from(e.modelRange.getItems({shallow:!0})),s=i.loaders.get(r);o&&(n.writer.setAttribute("uploadId",r,o),n.consumable.consume(e.viewItem,{attributes:["data-ck-upload-id"]}),s&&s.data&&n.writer.setAttribute("uploadStatus",s.status,o))}),{priority:"low"}))),this.listenTo(t.editing.view.document,"clipboardInput",((e,n)=>{if(i=n.dataTransfer,Array.from(i.types).includes("text/html")&&""!==i.getData("text/html"))return;var i;const r=Array.from(n.dataTransfer.files).filter((t=>!!t&&s.test(t.type)));if(!r.length)return;e.stop(),t.model.change((e=>{n.targetRanges&&e.setSelection(n.targetRanges.map((e=>t.editing.mapper.toModelRange(e)))),t.execute("uploadImage",{file:r})}));if(!t.commands.get("uploadImage").isAccessAllowed){const e=t.plugins.get("Notification"),n=t.locale.t;e.showWarning(n("You have no image upload permissions."),{namespace:"image"})}})),this.listenTo(o,"inputTransformation",((e,n)=>{const o=Array.from(t.editing.view.createRangeIn(n.content)).map((t=>t.item)).filter((t=>function(t,e){return!(!t.isInlineImageView(e)||!e.getAttribute("src")||!e.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!e.getAttribute("src").match(/^blob:/g))}(r,t)&&!t.getAttribute("uploadProcessed"))).map((t=>({promise:Zw(t),imageElement:t})));if(!o.length)return;const s=new Ih(t.editing.view.document);for(const t of o){s.setAttribute("uploadProcessed",!0,t.imageElement);const e=i.createLoader(t.promise);e&&(s.setAttribute("src","",t.imageElement),s.setAttribute("uploadId",e.id,t.imageElement))}})),t.editing.view.document.on("dragover",((t,e)=>{e.preventDefault()})),e.on("change",(()=>{const n=e.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),r=new Set;for(const e of n)if("insert"==e.type&&"$text"!=e.name){const n=e.position.nodeAfter,o="$graveyard"==e.position.root.rootName;for(const e of cy(t,n)){const n=e.getAttribute("uploadId");if(!n)continue;const s=i.loaders.get(n);if(s)if(o){if(!r.has(n)){Array.from(this._uploadImageElements.get(n)).every((t=>"$graveyard"==t.root.rootName))&&s.abort()}}else r.add(n),this._uploadImageElements.has(n)?this._uploadImageElements.get(n).add(e):this._uploadImageElements.set(n,new Set([e])),"idle"==s.status&&this._readAndUpload(s);else!o&&this._uploadedImages.has(n)&&t.model.enqueueChange({isUndoable:!1},(t=>{t.setAttribute("uploadStatus","complete",e),this.fire("uploadComplete",{data:this._uploadedImages.get(n),imageElement:e})}))}}})),this.on("uploadComplete",((t,{imageElement:e,data:n})=>{const i=n.urls?n.urls:n;this.editor.model.change((t=>{t.setAttribute("src",i.default,e),this._parseAndSetSrcsetAttributeOnImage(i,e,t),r.setImageNaturalSizeAttributes(e)}))}),{priority:"low"})}afterInit(){const t=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&(t.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageBlock")),this.editor.plugins.has("ImageInlineEditing")&&(t.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageInline"))}_readAndUpload(t){const e=this.editor,n=e.model,i=e.locale.t,r=e.plugins.get($p),s=e.plugins.get(Kg),a=e.plugins.get("ImageUtils"),c=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},(e=>{const n=c.get(t.id);for(const t of n)e.setAttribute("uploadStatus","reading",t)})),t.read().then((()=>{const r=t.upload();e.ui&&e.ui.ariaLiveAnnouncer.announce(i("Uploading image"));for(const i of c.get(t.id)){if(o.isSafari){const t=e.editing.mapper.toViewElement(i),n=a.findViewImgElement(t);e.editing.view.once("render",(()=>{if(!n.parent)return;const t=e.editing.view.domConverter.mapViewToDom(n.parent);if(!t)return;const i=t.style.display;t.style.display="none",t._ckHack=t.offsetHeight,t.style.display=i}))}n.enqueueChange({isUndoable:!1},(t=>{t.setAttribute("uploadStatus","uploading",i)}))}return r})).then((r=>{n.enqueueChange({isUndoable:!1},(n=>{for(const e of c.get(t.id))n.setAttribute("uploadStatus","complete",e),this.fire("uploadComplete",{data:r,imageElement:e});e.ui&&e.ui.ariaLiveAnnouncer.announce(i("Image upload complete")),this._uploadedImages.set(t.id,r)})),l()})).catch((r=>{if(e.ui&&e.ui.ariaLiveAnnouncer.announce(i("Error during image upload")),"error"!==t.status&&"aborted"!==t.status)throw r;"error"==t.status&&r&&s.showWarning(r,{title:i("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},(e=>{for(const n of c.get(t.id))"$graveyard"!==n.root.rootName&&e.remove(n)})),l()}));function l(){n.enqueueChange({isUndoable:!1},(e=>{for(const n of c.get(t.id))e.removeAttribute("uploadId",n),e.removeAttribute("uploadStatus",n);c.delete(t.id)})),r.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,e,n){let i=0;const r=Object.keys(t).filter((t=>{const e=parseInt(t,10);if(!isNaN(e))return i=Math.max(i,e),!0})).map((e=>`${t[e]} ${e}w`)).join(", ");if(""!=r){const t={srcset:r};e.hasAttribute("width")||e.hasAttribute("height")||(t.width=i),n.setAttributes(t,e)}}_registerConverters(t){const{conversion:e,plugins:n}=this.editor,i=n.get($p),r=n.get(kw);e.for("dataDowncast").add((e=>{e.on(`attribute:uploadId:${t}`,((t,e,n)=>{if(!n.consumable.test(e.item,t.name))return;const o=i.loaders.get(e.attributeNewValue);if(!o||!o.data)return null;const s=n.mapper.toViewElement(e.item),a=r.findViewImgElement(s);a&&(n.consumable.consume(e.item,t.name),n.writer.setAttribute("data-ck-upload-id",o.id,a))}))}))}}function cy(t,e){const n=t.plugins.get("ImageUtils");return Array.from(t.model.createRangeOn(e)).filter((t=>n.isImage(t.item))).map((t=>t.item))}const ly=function(t,e){return function(n,i){if(null==n)return n;if(!dn(n))return t(n,i);for(var r=n.length,o=e?r:-1,s=Object(n);(e?o--:++o<r)&&!1!==i(s[o],o,s););return n}}(im);const uy=function(t,e){var n=-1,i=dn(t)?Array(t.length):[];return ly(t,(function(t,r,o){i[++n]=e(t,r,o)})),i};const hy=function(t,e){return(wt(t)?Mo:uy)(t,mm(e,3))};class dy extends po{refresh(){const t=this.editor,e=t.plugins.get("ImageUtils").getClosestSelectedImageElement(t.model.document.selection);this.isEnabled=!!e,e&&e.hasAttribute("resizedWidth")?this.value={width:e.getAttribute("resizedWidth"),height:null}:this.value=null}execute(t){const e=this.editor,n=e.model,i=e.plugins.get("ImageUtils"),r=i.getClosestSelectedImageElement(n.document.selection);this.value={width:t.width,height:null},r&&n.change((e=>{e.setAttribute("resizedWidth",t.width,r),e.removeAttribute("resizedHeight",r),i.setImageNaturalSizeAttributes(r)}))}}class fy extends fo{static get requires(){return[kw]}static get pluginName(){return"ImageResizeEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:custom",value:"custom",icon:"custom"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const t=this.editor,e=new dy(t);this._registerConverters("imageBlock"),this._registerConverters("imageInline"),t.commands.add("resizeImage",e),t.commands.add("imageResize",e)}afterInit(){this._registerSchema()}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]})}_registerConverters(t){const e=this.editor,n=e.plugins.get("ImageUtils");e.conversion.for("downcast").add((e=>e.on(`attribute:resizedWidth:${t}`,((t,e,n)=>{if(!n.consumable.consume(e.item,t.name))return;const i=n.writer,r=n.mapper.toViewElement(e.item);null!==e.attributeNewValue?(i.setStyle("width",e.attributeNewValue,r),i.addClass("image_resized",r)):(i.removeStyle("width",r),i.removeClass("image_resized",r))})))),e.conversion.for("dataDowncast").attributeToAttribute({model:{name:t,key:"resizedHeight"},view:t=>({key:"style",value:{height:t}})}),e.conversion.for("editingDowncast").add((e=>e.on(`attribute:resizedHeight:${t}`,((e,i,r)=>{if(!r.consumable.consume(i.item,e.name))return;const o=r.writer,s=r.mapper.toViewElement(i.item),a="imageInline"===t?n.findViewImgElement(s):s;null!==i.attributeNewValue?o.setStyle("height",i.attributeNewValue,a):o.removeStyle("height",a)})))),e.conversion.for("upcast").attributeToAttribute({view:{name:"imageBlock"===t?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:t=>vw(t)?null:t.getStyle("width")}}),e.conversion.for("upcast").attributeToAttribute({view:{name:"imageBlock"===t?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:t=>vw(t)?null:t.getStyle("height")}})}}const gy=(()=>({small:ed.objectSizeSmall,medium:ed.objectSizeMedium,large:ed.objectSizeLarge,custom:ed.objectSizeCustom,original:ed.objectSizeFull}))();class py extends fo{static get requires(){return[fy]}static get pluginName(){return"ImageResizeButtons"}static get isOfficialPlugin(){return!0}constructor(t){super(t),this._resizeUnit=t.config.get("image.resizeUnit")}init(){const t=this.editor,e=t.config.get("image.resizeOptions"),n=t.commands.get("resizeImage");this.bind("isEnabled").to(n);for(const t of e)this._registerImageResizeButton(t);this._registerImageResizeDropdown(e)}_registerImageResizeButton(t){const e=this.editor,{name:n,value:i,icon:r}=t;e.ui.componentFactory.add(n,(n=>{const o=new Od(n),s=e.commands.get("resizeImage"),a=this._getOptionLabelValue(t,!0);if(!gy[r])throw new E("imageresizebuttons-missing-icon",e,t);if(o.set({label:a,icon:gy[r],tooltip:a,isToggleable:!0}),o.bind("isEnabled").to(this),e.plugins.has("ImageCustomResizeUI")&&my(t)){const t=e.plugins.get("ImageCustomResizeUI");this.listenTo(o,"execute",(()=>{t._showForm(this._resizeUnit)}))}else{const t=i?i+this._resizeUnit:null;o.bind("isOn").to(s,"value",by(t)),this.listenTo(o,"execute",(()=>{e.execute("resizeImage",{width:t})}))}return o}))}_registerImageResizeDropdown(t){const e=this.editor,n=e.t,i=t.find((t=>!t.value)),r=r=>{const o=e.commands.get("resizeImage"),s=Kf(r,xf),a=s.buttonView,c=n("Resize image");return a.set({tooltip:c,commandValue:i.value,icon:gy.medium,isToggleable:!0,label:this._getOptionLabelValue(i),withText:!0,class:"ck-resize-image-button",ariaLabel:c,ariaLabelledBy:void 0}),a.bind("label").to(o,"value",(t=>t&&t.width?t.width:this._getOptionLabelValue(i))),s.bind("isEnabled").to(this),Zf(s,(()=>this._getResizeDropdownListItemDefinitions(t,o)),{ariaLabel:n("Image resize list"),role:"menu"}),this.listenTo(s,"execute",(t=>{"onClick"in t.source?t.source.onClick():(e.execute(t.source.commandName,{width:t.source.commandValue}),e.editing.view.focus())})),s};e.ui.componentFactory.add("resizeImage",r),e.ui.componentFactory.add("imageResize",r)}_getOptionLabelValue(t,e=!1){const n=this.editor.t;return t.label?t.label:e?my(t)?n("Custom image size"):t.value?n("Resize image to %0",t.value+this._resizeUnit):n("Resize image to the original size"):my(t)?n("Custom"):t.value?t.value+this._resizeUnit:n("Original")}_getResizeDropdownListItemDefinitions(t,e){const{editor:n}=this,i=new Xr,r=t.map((t=>my(t)?{...t,valueWithUnits:"custom"}:t.value?{...t,valueWithUnits:`${t.value}${this._resizeUnit}`}:{...t,valueWithUnits:null}));for(const t of r){let o=null;if(n.plugins.has("ImageCustomResizeUI")&&my(t)){const i=n.plugins.get("ImageCustomResizeUI");o={type:"button",model:new Yg({label:this._getOptionLabelValue(t),role:"menuitemradio",withText:!0,icon:null,onClick:()=>{i._showForm(this._resizeUnit)}})};const s=hy(r,"valueWithUnits");o.model.bind("isOn").to(e,"value",wy(s))}else o={type:"button",model:new Yg({commandName:"resizeImage",commandValue:t.valueWithUnits,label:this._getOptionLabelValue(t),role:"menuitemradio",withText:!0,icon:null})},o.model.bind("isOn").to(e,"value",by(t.valueWithUnits));o.model.bind("isEnabled").to(e,"isEnabled"),i.add(o)}return i}}function my(t){return"custom"===t.value}function by(t){return e=>null===t&&e===t||null!==e&&e.width===t}function wy(t){return e=>!t.some((t=>by(t)(e)))}const yy="image_resized";class vy extends fo{static get requires(){return[Wb,kw]}static get pluginName(){return"ImageResizeHandles"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(t),this._setupResizerCreator()}_setupResizerCreator(){const t=this.editor,e=t.editing.view,n=t.plugins.get("ImageUtils");e.addObserver(Dw),this.listenTo(e.document,"imageLoaded",((i,r)=>{if(!r.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const o=t.editing.view.domConverter,s=o.domToView(r.target),a=n.getImageWidgetFromImageView(s);let c=this.editor.plugins.get(Wb).getResizerByViewElement(a);if(c)return void c.redraw();const l=t.editing.mapper,u=l.toModelElement(a);c=t.plugins.get(Wb).attachTo({unit:t.config.get("image.resizeUnit"),modelElement:u,viewElement:a,editor:t,getHandleHost:t=>t.querySelector("img"),getResizeHost:()=>o.mapViewToDom(l.toViewElement(u)),isCentered:()=>"alignCenter"==u.getAttribute("imageStyle"),onCommit(n){e.change((t=>{t.removeClass(yy,a)})),t.execute("resizeImage",{width:n})}}),c.on("updateSize",(()=>{a.hasClass(yy)||e.change((t=>{t.addClass(yy,a)}));const t="imageInline"===u.name?s:a;t.getStyle("height")&&e.change((e=>{e.removeStyle("height",t)}))})),c.bind("isEnabled").to(this)}))}}function _y(t){if(!t)return null;const[,e,n]=t.trim().match(/([.,\d]+)(%|px)$/)||[],i=Number.parseFloat(e);return Number.isNaN(i)?null:{value:i,unit:n}}function ky(t,e,n){return"px"===n?{value:e.value,unit:"px"}:{value:e.value/t*100,unit:"%"}}function xy(t){const{editing:e}=t,n=t.plugins.get("ImageUtils").getClosestSelectedImageElement(t.model.document.selection);if(!n)return null;const i=e.mapper.toViewElement(n);return{model:n,view:i,dom:e.view.domConverter.mapViewToDom(i)}}class Ey extends Ed{constructor(t,e,n){super(t);const i=this.locale.t;this.focusTracker=new Qr,this.keystrokes=new no,this.unit=e,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(i("Save"),ed.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),ed.cancel,"ck-button-cancel","cancel"),this._focusables=new nd,this._validators=n,this._focusCycler=new Ld({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-custom-resize-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Ad({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(t,e,n,i){const r=new Od(this.locale);return r.set({label:t,icon:e,tooltip:!0}),r.extendTemplate({attributes:{class:n}}),i&&r.delegate("execute").to(this,i),r}_createLabeledInputView(){const t=this.locale.t,e=new pf(this.locale,ig);return e.label=t("Resize image (in %0)",this.unit),e.fieldView.set({step:.1}),e}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.labeledInput.errorText=e,!1}return!0}resetFormStatus(){this.labeledInput.errorText=null}get rawSize(){const{element:t}=this.labeledInput.fieldView;return t?t.value:null}get parsedSize(){const{rawSize:t}=this;if(null===t)return null;const e=Number.parseFloat(t);return Number.isNaN(e)?null:e}get sizeWithUnits(){const{parsedSize:t,unit:e}=this;return null===t?null:`${t}${e}`}}class Ty extends fo{static get requires(){return[Zg]}static get pluginName(){return"ImageCustomResizeUI"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),this._form&&this._form.destroy()}_createForm(t){const e=this.editor;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Cd(Ey))(e.locale,t,function(t){const e=t.t;return[t=>""===t.rawSize.trim()?e("The value must not be empty."):null===t.parsedSize?e("The value should be a plain number."):void 0]}(e)),this._form.render(),this.listenTo(this._form,"submit",(()=>{this._form.isValid()&&(e.execute("resizeImage",{width:this._form.sizeWithUnits}),this._hideForm(!0))})),this.listenTo(this._form.labeledInput,"change:errorText",(()=>{e.ui.update()})),this.listenTo(this._form,"cancel",(()=>{this._hideForm(!0)})),this._form.keystrokes.set("Esc",((t,e)=>{this._hideForm(!0),e()})),Td({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(t){if(this._isVisible)return;this._form||this._createForm(t);const e=this.editor,n=this._form.labeledInput;this._form.disableCssTransitions(),this._form.resetFormStatus(),this._isInBalloon||this._balloon.add({view:this._form,position:Sw(e)});const i=function(t,e){const n=xy(t);if(!n)return null;const i=_y(n.model.getAttribute("resizedWidth")||null);return i?i.unit===e?i:ky(Cb(n.dom),{unit:"px",value:new Ui(n.dom).width},e):null}(e,t),r=i?i.value.toFixed(1):"",o=function(t,e){const n=xy(t);if(!n)return null;const i=Cb(n.dom),r=_y(window.getComputedStyle(n.dom).minWidth)||{value:1,unit:"px"};return{unit:e,lower:Math.max(.1,ky(i,r,e).value),upper:"px"===e?i:100}}(e,t);n.fieldView.value=n.fieldView.element.value=r,o&&Object.assign(n.fieldView,{min:o.lower.toFixed(1),max:Math.ceil(o.upper).toFixed(1)}),this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(t=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class Cy extends po{constructor(t,e){super(t),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(e.map((t=>{if(t.isDefault)for(const e of t.modelElements)this._defaultStyles[e]=t.name;return[t.name,t]})))}refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled?t.hasAttribute("imageStyle")?this.value=t.getAttribute("imageStyle"):this.value=this._defaultStyles[t.name]:this.value=!1}execute(t={}){const e=this.editor,n=e.model,i=e.plugins.get("ImageUtils");n.change((e=>{const r=t.value,{setImageSizes:o=!0}=t;let s=i.getClosestSelectedImageElement(n.document.selection);r&&this.shouldConvertImageType(r,s)&&(this.editor.execute(i.isBlockImage(s)?"imageTypeInline":"imageTypeBlock",{setImageSizes:o}),s=i.getClosestSelectedImageElement(n.document.selection)),!r||this._styles.get(r).isDefault?e.removeAttribute("imageStyle",s):e.setAttribute("imageStyle",r,s),o&&i.setImageNaturalSizeAttributes(s)}))}shouldConvertImageType(t,e){return!this._styles.get(t).modelElements.includes(e.name)}}const Ay={get inline(){return{name:"inline",title:"In line",icon:ed.objectInline,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:ed.objectLeft,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:ed.objectBlockLeft,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:ed.objectCenter,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:ed.objectRight,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:ed.objectBlockRight,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:ed.objectCenter,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:ed.objectRight,modelElements:["imageBlock"],className:"image-style-side"}}},Sy=(()=>({full:ed.objectFullWidth,left:ed.objectBlockLeft,right:ed.objectBlockRight,center:ed.objectCenter,inlineLeft:ed.objectLeft,inlineRight:ed.objectRight,inline:ed.objectInline}))(),Iy=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function My(t){T("image-style-configuration-definition-invalid",t)}const Py={normalizeStyles:function(t){return(t.configuredStyles.options||[]).map((t=>function(t){t="string"==typeof t?Ay[t]?{...Ay[t]}:{name:t}:function(t,e){const n={...e};for(const i in t)Object.prototype.hasOwnProperty.call(e,i)||(n[i]=t[i]);return n}(Ay[t.name],t);"string"==typeof t.icon&&(t.icon=Sy[t.icon]||t.icon);return t}(t))).filter((e=>function(t,{isBlockPluginLoaded:e,isInlinePluginLoaded:n}){const{modelElements:i,name:r}=t;if(!(i&&i.length&&r))return My({style:t}),!1;{const r=[e?"imageBlock":null,n?"imageInline":null];if(!i.some((t=>r.includes(t))))return T("image-style-missing-dependency",{style:t,missingPlugins:i.map((t=>"imageBlock"===t?"ImageBlockEditing":"ImageInlineEditing"))}),!1}return!0}(e,t)))},getDefaultStylesConfiguration:function(t,e){return t&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:t?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(t){return t.has("ImageBlockEditing")&&t.has("ImageInlineEditing")?[...Iy]:[]},warnInvalidStyle:My,DEFAULT_OPTIONS:Ay,DEFAULT_ICONS:Sy,DEFAULT_DROPDOWN_DEFINITIONS:Iy};function Oy(t,e){for(const n of e)if(n.name===t)return n}class Dy extends fo{static get pluginName(){return"ImageStyleEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[kw]}init(){const{normalizeStyles:t,getDefaultStylesConfiguration:e}=Py,n=this.editor,i=n.plugins.has("ImageBlockEditing"),r=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",e(i,r)),this.normalizedStyles=t({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:i,isInlinePluginLoaded:r}),this._setupConversion(i,r),this._setupPostFixer(),n.commands.add("imageStyle",new Cy(n,this.normalizedStyles))}_setupConversion(t,e){const n=this.editor,i=n.model.schema,r=(o=this.normalizedStyles,(t,e,n)=>{if(!n.consumable.consume(e.item,t.name))return;const i=Oy(e.attributeNewValue,o),r=Oy(e.attributeOldValue,o),s=n.mapper.toViewElement(e.item),a=n.writer;r&&a.removeClass(r.className,s),i&&a.addClass(i.className,s)});var o;const s=function(t){const e={imageInline:t.filter((t=>!t.isDefault&&t.modelElements.includes("imageInline"))),imageBlock:t.filter((t=>!t.isDefault&&t.modelElements.includes("imageBlock")))};return(t,n,i)=>{if(!n.modelRange)return;const r=n.viewItem,o=Zr(n.modelRange.getItems());if(o&&i.schema.checkAttribute(o,"imageStyle"))for(const t of e[o.name])i.consumable.consume(r,{classes:t.className})&&i.writer.setAttribute("imageStyle",t.name,o)}}(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",r),n.data.downcastDispatcher.on("attribute:imageStyle",r),t&&(i.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",s,{priority:"low"})),e&&(i.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",s,{priority:"low"}))}_setupPostFixer(){const t=this.editor,e=t.model.document,n=t.plugins.get(kw),i=new Map(this.normalizedStyles.map((t=>[t.name,t])));e.registerPostFixer((t=>{let r=!1;for(const o of e.differ.getChanges())if("insert"==o.type||"attribute"==o.type&&"imageStyle"==o.attributeKey){let e="insert"==o.type?o.position.nodeAfter:o.range.start.nodeAfter;if(e&&e.is("element","paragraph")&&e.childCount>0&&(e=e.getChild(0)),!n.isImage(e))continue;const s=e.getAttribute("imageStyle");if(!s)continue;const a=i.get(s);a&&a.modelElements.includes(e.name)||(t.removeAttribute("imageStyle",e),r=!0)}return r}))}}class Ny extends fo{static get requires(){return[Dy]}static get pluginName(){return"ImageStyleUI"}static get isOfficialPlugin(){return!0}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Wrap text":t("Wrap text"),"Break text":t("Break text"),"In line":t("In line"),"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}init(){const t=this.editor.plugins,e=this.editor.config.get("image.toolbar")||[],n=Ly(t.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const t of n)this._createButton(t);const i=Ly([...e.filter(z),...Py.getDefaultDropdownDefinitions(t)],this.localizedDefaultStylesTitles);for(const t of i)this._createDropdown(t,n)}_createDropdown(t,e){const n=this.editor.ui.componentFactory;n.add(t.name,(i=>{let r;const{defaultItem:o,items:s,title:a}=t,c=s.filter((t=>e.find((({name:e})=>Ry(e)===t)))).map((t=>{const e=n.create(t);return t===o&&(r=e),e}));s.length!==c.length&&Py.warnInvalidStyle({dropdown:t});const l=Kf(i,Gf),u=l.buttonView,h=u.arrowView;return Yf(l,c,{enableActiveItemFocusOnDropdownOpen:!0}),u.set({label:By(a,r.label),class:null,tooltip:!0}),h.unbind("label"),h.set({label:a}),u.bind("icon").toMany(c,"isOn",((...t)=>{const e=t.findIndex(Nr);return e<0?r.icon:c[e].icon})),u.bind("label").toMany(c,"isOn",((...t)=>{const e=t.findIndex(Nr);return By(a,e<0?r.label:c[e].label)})),u.bind("isOn").toMany(c,"isOn",((...t)=>t.some(Nr))),u.bind("class").toMany(c,"isOn",((...t)=>t.some(Nr)?"ck-splitbutton_flatten":void 0)),u.on("execute",(()=>{c.some((({isOn:t})=>t))?l.isOpen=!l.isOpen:r.fire("execute")})),l.bind("isEnabled").toMany(c,"isEnabled",((...t)=>t.some(Nr))),this.listenTo(l,"execute",(()=>{this.editor.editing.view.focus()})),l}))}_createButton(t){const e=t.name;this.editor.ui.componentFactory.add(Ry(e),(n=>{const i=this.editor.commands.get("imageStyle"),r=new Od(n);return r.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),r.bind("isEnabled").to(i,"isEnabled"),r.bind("isOn").to(i,"value",(t=>t===e)),r.on("execute",this._executeCommand.bind(this,e)),r}))}_executeCommand(t){this.editor.execute("imageStyle",{value:t}),this.editor.editing.view.focus()}}function Ly(t,e){for(const n of t)e[n.title]&&(n.title=e[n.title]);return t}function Ry(t){return`imageStyle:${t}`}function By(t,e){return(t?t+": ":"")+e}class Fy extends fo{static get requires(){return[Rw,kw]}static get pluginName(){return"PictureEditing"}static get isOfficialPlugin(){return!0}afterInit(){const t=this.editor;t.plugins.has("ImageBlockEditing")&&t.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),t.plugins.has("ImageInlineEditing")&&t.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const t=this.editor,e=t.conversion,n=t.plugins.get("ImageUtils");e.for("upcast").add(function(t){const e=["srcset","media","type","sizes"],n=(n,i,r)=>{const o=i.viewItem;if(!r.consumable.test(o,{name:!0}))return;const s=new Map;for(const t of o.getChildren())if(t.is("element","source")){const n={};for(const i of e)t.hasAttribute(i)&&r.consumable.test(t,{attributes:i})&&(n[i]=t.getAttribute(i));Object.keys(n).length&&s.set(t,n)}const a=t.findViewImgElement(o);if(!a)return;let c=i.modelCursor.parent;if(!c.is("element","imageBlock")){const t=r.convertItem(a,i.modelCursor);i.modelRange=t.modelRange,i.modelCursor=t.modelCursor,c=Zr(t.modelRange.getItems())}r.consumable.consume(o,{name:!0});for(const[t,e]of s)r.consumable.consume(t,{attributes:Object.keys(e)});s.size&&r.writer.setAttribute("sources",Array.from(s.values()),c),r.convertChildren(o,c)};return t=>{t.on("element:picture",n)}}(n)),e.for("downcast").add(function(t){const e=(e,n,i)=>{if(!i.consumable.consume(n.item,e.name))return;const r=i.writer,o=i.mapper.toViewElement(n.item),s=t.findViewImgElement(o),a=n.attributeNewValue;if(a&&a.length){const t=[];let e=s.parent;for(;e&&e.is("attributeElement");){const n=e.parent;r.unwrap(r.createRangeOn(s),e),t.unshift(e),e=n}const n=s.parent.is("element","picture"),i=n?s.parent:r.createContainerElement("picture",null);n||r.insert(r.createPositionBefore(s),i),r.remove(r.createRangeIn(i)),r.insert(r.createPositionAt(i,"end"),a.map((t=>r.createEmptyElement("source",t)))),r.move(r.createRangeOn(s),r.createPositionAt(i,"end"));for(const e of t)r.wrap(r.createRangeOn(i),e)}else if(s.parent.is("element","picture")){const t=s.parent;r.move(r.createRangeOn(s),r.createPositionBefore(t)),r.remove(t)}};return t=>{t.on("attribute:sources:imageBlock",e),t.on("attribute:sources:imageInline",e)}}(n))}_setupImageUploadEditingIntegration(){const t=this.editor;if(!t.plugins.has("ImageUploadEditing"))return;const e=t.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",((e,{imageElement:n,data:i})=>{const r=i.sources;r&&t.model.change((t=>{t.setAttributes({sources:r},n)}))}))}}class jy{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach((t=>this._definitions.add(t))):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",((t,e,n)=>{if(!n.consumable.test(e.item,"attribute:linkHref"))return;if(!e.item.is("selection")&&!n.schema.isInline(e.item))return;const i=n.writer,r=i.document.selection;for(const t of this._definitions){const o=i.createAttributeElement("a",t.attributes,{priority:5});t.classes&&i.addClass(t.classes,o);for(const e in t.styles)i.setStyle(e,t.styles[e],o);i.setCustomProperty("link",!0,o),t.callback(e.attributeNewValue)?e.item.is("selection")?i.wrap(r.getFirstRange(),o):i.wrap(n.mapper.toViewRange(e.range),o):i.unwrap(n.mapper.toViewRange(e.range),o)}}),{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",((t,e,{writer:n,mapper:i})=>{const r=i.toViewElement(e.item),o=Array.from(r.getChildren()).find((t=>t.is("element","a")));if(o)for(const t of this._definitions){const i=io(t.attributes);if(t.callback(e.attributeNewValue)){for(const[t,e]of i)"class"===t?n.addClass(e,o):n.setAttribute(t,e,o);t.classes&&n.addClass(t.classes,o);for(const e in t.styles)n.setStyle(e,t.styles[e],o)}else{for(const[t,e]of i)"class"===t?n.removeClass(e,o):n.removeAttribute(t,o);t.classes&&n.removeClass(t.classes,o);for(const e in t.styles)n.removeStyle(e,o)}}}))}}}const $y=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:os(t,e,n)};var Vy=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const zy=function(t){return Vy.test(t)};const Hy=function(t){return t.split("")};var Uy="\\ud800-\\udfff",qy="["+Uy+"]",Wy="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Gy="\\ud83c[\\udffb-\\udfff]",Ky="[^"+Uy+"]",Yy="(?:\\ud83c[\\udde6-\\uddff]){2}",Xy="[\\ud800-\\udbff][\\udc00-\\udfff]",Zy="(?:"+Wy+"|"+Gy+")"+"?",Qy="[\\ufe0e\\ufe0f]?",Jy=Qy+Zy+("(?:\\u200d(?:"+[Ky,Yy,Xy].join("|")+")"+Qy+Zy+")*"),tv="(?:"+[Ky+Wy+"?",Wy,Yy,Xy,qy].join("|")+")",ev=RegExp(Gy+"(?="+Gy+")|"+tv+Jy,"g");const nv=function(t){return t.match(ev)||[]};const iv=function(t){return zy(t)?nv(t):Hy(t)};const rv=function(t){return function(e){e=No(e);var n=zy(e)?iv(e):void 0,i=n?n[0]:e.charAt(0),r=n?$y(n,1).join(""):e.slice(1);return i[t]()+r}}("toUpperCase"),ov=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,sv=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,av=/^((\w+:(\/{2,})?)|(\W))/i,cv=["https?","ftps?","mailto"],lv="Ctrl+K";function uv(t,{writer:e}){const n=e.createAttributeElement("a",{href:t},{priority:5});return e.setCustomProperty("link",!0,n),n}function hv(t,e=cv){const n=String(t),i=e.join("|");return function(t,e){const n=t.replace(ov,"");return!!n.match(e)}(n,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",i)}`,"i"))?n:"#"}function dv(t,e){return!!t&&e.checkAttribute(t.name,"linkHref")}function fv(t,e){const n=(i=t,sv.test(i)?"mailto:":e);var i;const r=!!n&&!gv(t);return t&&r?n+t:t}function gv(t){return av.test(t)}function pv(t){window.open(t,"_blank","noopener")}function mv(t){const e=t.plugins.has("BookmarkEditing")?t.plugins.get("BookmarkEditing"):null;return{isScrollableToTarget:function(t){return!!t&&t.startsWith("#")&&!!e&&!!e.getElementForBookmarkId(t.slice(1))},scrollToTarget:function(n){const i=n.slice(1),r=e.getElementForBookmarkId(i);t.model.change((t=>{t.setSelection(r,"on")})),t.editing.view.scrollToTheSelection({alignToTop:!0,forceScroll:!0})}}}class bv extends po{constructor(){super(...arguments),this.manualDecorators=new Xr,this.automaticDecorators=new jy}restoreManualDecoratorStates(){for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){const t=this.editor.model,e=t.document.selection,n=e.getSelectedElement()||Zr(e.getSelectedBlocks());dv(n,t.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttribute(n,"linkHref")):(this.value=e.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref"));for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}execute(t,e={}){const n=this.editor.model,i=n.document.selection,r=[],o=[];for(const t in e)e[t]?r.push(t):o.push(t);n.change((e=>{if(i.isCollapsed){const s=i.getFirstPosition();if(i.hasAttribute("linkHref")){const a=wv(i);let c=tb(s,"linkHref",i.getAttribute("linkHref"),n);i.getAttribute("linkHref")===a&&(c=this._updateLinkContent(n,e,c,t)),e.setAttribute("linkHref",t,c),r.forEach((t=>{e.setAttribute(t,!0,c)})),o.forEach((t=>{e.removeAttribute(t,c)})),e.setSelection(e.createPositionAfter(c.end.nodeBefore))}else if(""!==t){const o=io(i.getAttributes());o.set("linkHref",t),r.forEach((t=>{o.set(t,!0)}));const{end:a}=n.insertContent(e.createText(t,o),s);e.setSelection(a)}["linkHref",...r,...o].forEach((t=>{e.removeSelectionAttribute(t)}))}else{const s=n.schema.getValidRanges(i.getRanges(),"linkHref"),a=[];for(const t of i.getSelectedBlocks())n.schema.checkAttribute(t,"linkHref")&&a.push(e.createRangeOn(t));const c=a.slice();for(const t of s)this._isRangeToUpdate(t,a)&&c.push(t);for(const s of c){let a=s;if(1===c.length){const r=wv(i);i.getAttribute("linkHref")===r&&(a=this._updateLinkContent(n,e,s,t),e.setSelection(e.createSelection(a)))}e.setAttribute("linkHref",t,a),r.forEach((t=>{e.setAttribute(t,!0,a)})),o.forEach((t=>{e.removeAttribute(t,a)}))}}}))}_getDecoratorStateFromModel(t){const e=this.editor.model,n=e.document.selection,i=n.getSelectedElement();return dv(i,e.schema)?i.getAttribute(t):n.getAttribute(t)}_isRangeToUpdate(t,e){for(const n of e)if(n.containsRange(t))return!1;return!0}_updateLinkContent(t,e,n,i){const r=e.createText(i,{linkHref:i});return t.insertContent(r,n)}}function wv(t){if(t.isCollapsed){const e=t.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(t.getFirstRange().getItems());if(e.length>1)return null;const n=e[0];return n.is("$text")||n.is("$textProxy")?n.data:null}}class yv extends po{refresh(){const t=this.editor.model,e=t.document.selection,n=e.getSelectedElement();dv(n,t.schema)?this.isEnabled=t.schema.checkAttribute(n,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref")}execute(){const t=this.editor,e=this.editor.model,n=e.document.selection,i=t.commands.get("link");e.change((t=>{const r=n.isCollapsed?[tb(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),e)]:e.schema.getValidRanges(n.getRanges(),"linkHref");for(const e of r)if(t.removeAttribute("linkHref",e),i)for(const n of i.manualDecorators)t.removeAttribute(n.id,e)}))}}class vv extends(Y()){constructor({id:t,label:e,attributes:n,classes:i,styles:r,defaultValue:o}){super(),this.id=t,this.set("value",void 0),this.defaultValue=o,this.label=e,this.attributes=n,this.classes=i,this.styles=r}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}const _v="automatic",kv=/^(https?:)?\/\//;class xv extends fo{static get pluginName(){return"LinkEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[$m,Tm,ym]}constructor(t){super(t),t.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const t=this.editor,e=this.editor.config.get("link.allowedProtocols");t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:uv}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(t,n)=>uv(hv(t,e),n)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:t=>t.getAttribute("href")}}),t.commands.add("link",new bv(t)),t.commands.add("unlink",new yv(t));const n=function(t,e){const n={"Open in a new tab":t("Open in a new tab"),Downloadable:t("Downloadable")};return e.forEach((t=>("label"in t&&n[t.label]&&(t.label=n[t.label]),t))),e}(t.t,function(t){const e=[];if(t)for(const[n,i]of Object.entries(t)){const t=Object.assign({},i,{id:`link${rv(n)}`});e.push(t)}return e}(t.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter((t=>t.mode===_v))),this._enableManualDecorators(n.filter((t=>"manual"===t.mode)));t.plugins.get($m).registerAttribute("linkHref"),function(t,e,n,i){const r=t.editing.view,o=new Set;r.document.registerPostFixer((r=>{const s=t.model.document.selection;let a=!1;if(s.hasAttribute(e)){const c=tb(s.getFirstPosition(),e,s.getAttribute(e),t.model),l=t.editing.mapper.toViewRange(c);for(const t of l.getItems())t.is("element",n)&&!t.hasClass(i)&&(r.addClass(i,t),o.add(t),a=!0)}return a})),t.conversion.for("editingDowncast").add((t=>{function e(){r.change((t=>{for(const e of o.values())t.removeClass(i,e),o.delete(e)}))}t.on("insert",e,{priority:"highest"}),t.on("remove",e,{priority:"highest"}),t.on("attribute",e,{priority:"highest"}),t.on("selection",e,{priority:"highest"})}))}(t,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(t){const e=this.editor,n=e.commands.get("link").automaticDecorators;e.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:_v,callback:t=>!!t&&kv.test(t),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(t),n.length&&e.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const e=this.editor,n=e.commands.get("link").manualDecorators;t.forEach((t=>{e.model.schema.extend("$text",{allowAttributes:t.id});const i=new vv(t);n.add(i),e.conversion.for("downcast").attributeToElement({model:i.id,view:(t,{writer:e,schema:n},{item:r})=>{if((r.is("selection")||n.isInline(r))&&t){const t=e.createAttributeElement("a",i.attributes,{priority:5});i.classes&&e.addClass(i.classes,t);for(const n in i.styles)e.setStyle(n,i.styles[n],t);return e.setCustomProperty("link",!0,t),t}}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",...i._createPattern()},model:{key:i.id}})}))}_enableLinkOpen(){const t=this.editor,e=t.editing.view.document,n=mv(t);function i(t){n.isScrollableToTarget(t)?n.scrollToTarget(t):pv(t)}this.listenTo(e,"click",((t,e)=>{if(!(o.isMac?e.domEvent.metaKey:e.domEvent.ctrlKey))return;let n=e.domTarget;if("a"!=n.tagName.toLowerCase()&&(n=n.closest("a")),!n)return;const r=n.getAttribute("href");r&&(t.stop(),e.preventDefault(),i(r))}),{context:"$capture"}),this.listenTo(e,"keydown",((e,n)=>{const r=t.commands.get("link").value;!!r&&n.keyCode===yr.enter&&n.altKey&&(e.stop(),i(r))}))}_enableSelectionAttributesFixer(){const t=this.editor.model,e=t.document.selection;this.listenTo(e,"change:attribute",((n,{attributeKeys:i})=>{i.includes("linkHref")&&!e.hasAttribute("linkHref")&&t.change((e=>{var n;!function(t,e){t.removeSelectionAttribute("linkHref");for(const n of e)t.removeSelectionAttribute(n)}(e,(n=t.schema,n.getDefinition("$text").allowAttributes.filter((t=>t.startsWith("link")))))}))}))}_enableClipboardIntegration(){const t=this.editor,e=t.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(t.plugins.get("ClipboardPipeline"),"contentInsertion",((t,i)=>{e.change((t=>{const e=t.createRangeIn(i.content);for(const i of e.getItems())if(i.hasAttribute("linkHref")){const e=fv(i.getAttribute("linkHref"),n);t.setAttribute("linkHref",e,i)}}))}))}}class Ev extends Ed{constructor(t,e,n){super(t),this.focusTracker=new Qr,this.keystrokes=new no,this._focusables=new nd;const i=t.t;this._validators=n,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(i("Save"),ed.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),ed.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(e),this.children=this._createFormChildren(e.manualDecorators),this._focusCycler=new Ld({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const r=["ck","ck-link-form","ck-responsive-form"];e.manualDecorators.length&&r.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:r,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce(((t,e)=>(t[e.name]=e.isOn,t)),{})}render(){super.render(),Ad({view:this});[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const t=this.locale.t,e=new pf(this.locale,ng);return e.fieldView.inputMode="url",e.label=t("Link URL"),e}_createButton(t,e,n,i){const r=new Od(this.locale);return r.set({label:t,icon:e,tooltip:!0}),r.extendTemplate({attributes:{class:n}}),i&&r.delegate("execute").to(this,i),r}_createManualDecoratorSwitches(t){const e=this.createCollection();for(const n of t.manualDecorators){const i=new cf(this.locale);i.set({name:n.id,label:n.label,withText:!0}),i.bind("isOn").toMany([n,t],"value",((t,e)=>void 0===e&&void 0===t?!!n.defaultValue:!!t)),i.on("execute",(()=>{n.set("value",!i.isOn)})),e.add(i)}return e}_createFormChildren(t){const e=this.createCollection();if(e.add(this.urlInputView),t.length){const t=new Ed;t.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((t=>({tag:"li",children:[t],attributes:{class:["ck","ck-list__item"]}}))),attributes:{class:["ck","ck-reset","ck-list"]}}),e.add(t)}return e.add(this.saveButtonView),e.add(this.cancelButtonView),e}get url(){const{element:t}=this.urlInputView.fieldView;return t?t.value.trim():null}}class Tv extends Ed{constructor(t,e={},n){super(t),this.focusTracker=new Qr,this.keystrokes=new no,this._focusables=new nd;const i=t.t;this._options=n,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(i("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(i("Edit link"),ed.pencil,"edit"),this.set("href",void 0),this._linkConfig=e,this._focusCycler=new Ld({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render();[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(t,e,n){const i=new Od(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.delegate("execute").to(this,n),i}_createPreviewButton(){const t=new Od(this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",(t=>t&&hv(t,this._linkConfig.allowedProtocols))),target:"_blank",rel:"noopener noreferrer"},on:{click:e.to((t=>{this._options&&this._options.isScrollableToTarget(this.href)?(t.preventDefault(),this._options.scrollToTarget(this.href)):pv(this.href)}))}}),t.bind("tooltip").to(this,"href",(t=>this._options&&this._options.isScrollableToTarget(t)?n("Scroll to target"):n("Open link in new tab"))),t.bind("label").to(this,"href",(t=>t||n("This link has no URL"))),t.bind("isEnabled").to(this,"href",(t=>!!t)),t.template.tag="a",t}}const Cv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',Av="link-ui";class Sv extends fo{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[Zg]}static get pluginName(){return"LinkUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.editing.view.addObserver(Ch),this._balloon=t.plugins.get(Zg),this._createToolbarLinkButton(),this._enableBalloonActivators(),t.conversion.for("editingDowncast").markerToHighlight({model:Av,view:{classes:["ck-fake-link-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:Av,view:(t,{writer:e})=>{if(!t.markerRange.isCollapsed)return null;const n=e.createUIElement("span");return e.addClass(["ck-fake-link-selection","ck-fake-link-selection_collapsed"],n),n}}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Create link"),keystroke:lv},{label:e("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const t=this.editor,e=new Tv(t.locale,t.config.get("link"),mv(t)),n=t.commands.get("link"),i=t.commands.get("unlink");return e.bind("href").to(n,"value"),e.editButtonView.bind("isEnabled").to(n),e.unlinkButtonView.bind("isEnabled").to(i),this.listenTo(e,"edit",(()=>{this._addFormView()})),this.listenTo(e,"unlink",(()=>{t.execute("unlink"),this._hideUI()})),e.keystrokes.set("Esc",((t,e)=>{this._hideUI(),e()})),e.keystrokes.set(lv,((t,e)=>{this._addFormView(),e()})),e}_createFormView(){const t=this.editor,e=t.commands.get("link"),n=t.config.get("link.defaultProtocol"),i=new(Cd(Ev))(t.locale,e,function(t){const e=t.t,n=t.config.get("link.allowCreatingEmptyLinks");return[t=>{if(!n&&!t.url.length)return e("Link URL must not be empty.")}]}(t));return i.urlInputView.fieldView.bind("value").to(e,"value"),i.urlInputView.bind("isEnabled").to(e,"isEnabled"),i.saveButtonView.bind("isEnabled").to(e,"isEnabled"),this.listenTo(i,"submit",(()=>{if(i.isValid()){const{value:e}=i.urlInputView.fieldView.element,r=fv(e,n);t.execute("link",r,i.getDecoratorSwitchesState()),this._closeFormView()}})),this.listenTo(i.urlInputView,"change:errorText",(()=>{t.ui.update()})),this.listenTo(i,"cancel",(()=>{this._closeFormView()})),i.keystrokes.set("Esc",((t,e)=>{this._closeFormView(),e()})),i}_createToolbarLinkButton(){const t=this.editor;t.ui.componentFactory.add("link",(()=>{const t=this._createButton(Od);return t.set({tooltip:!0}),t})),t.ui.componentFactory.add("menuBar:link",(()=>{const t=this._createButton(tf);return t.set({role:"menuitemcheckbox"}),t}))}_createButton(t){const e=this.editor,n=e.locale,i=e.commands.get("link"),r=new t(e.locale),o=n.t;return r.set({label:o("Link"),icon:Cv,keystroke:lv,isToggleable:!0}),r.bind("isEnabled").to(i,"isEnabled"),r.bind("isOn").to(i,"value",(t=>!!t)),this.listenTo(r,"execute",(()=>this._showUI(!0))),r}_enableBalloonActivators(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"click",(()=>{this._getSelectedLinkElement()&&this._showUI()})),t.keystrokes.set(lv,((e,n)=>{n(),t.commands.get("link").isEnabled&&this._showUI(!0)}))}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",((t,e)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),e())}),{priority:"high"}),this.editor.keystrokes.set("Esc",((t,e)=>{this._isUIVisible&&(this._hideUI(),e())})),Td({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=t.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),void 0!==t.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(t=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const t=this.editor,e=t.editing.view.document;let n=this._getSelectedLinkElement(),i=o();const r=()=>{const t=this._getSelectedLinkElement(),e=o();n&&!t||!n&&e!==i?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=t,i=e};function o(){return e.selection.focus.getAncestors().reverse().find((t=>t.is("element")))}this.listenTo(t.ui,"update",r),this.listenTo(this._balloon,"change:visibleView",r)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const t=this._balloon.visibleView;return!!this.formView&&t==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,e=this.editor.model,n=t.document;let i;if(e.markers.has(Av)){const e=Array.from(this.editor.editing.mapper.markerNameToElements(Av)),n=t.createRange(t.createPositionBefore(e[0]),t.createPositionAfter(e[e.length-1]));i=t.domConverter.viewRangeToDom(n)}else i=()=>{const e=this._getSelectedLinkElement();return e?t.domConverter.mapViewToDom(e):t.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:i}}_getSelectedLinkElement(){const t=this.editor.editing.view,e=t.document.selection,n=e.getSelectedElement();if(e.isCollapsed||n&&wb(n))return Iv(e.getFirstPosition());{const n=e.getFirstRange().getTrimmed(),i=Iv(n.start),r=Iv(n.end);return i&&i==r&&t.createRangeIn(i).getTrimmed().isEqual(n)?i:null}}_showFakeVisualSelection(){const t=this.editor.model;t.change((e=>{const n=t.document.selection.getFirstRange();if(t.markers.has(Av))e.updateMarker(Av,{range:n});else if(n.start.isAtEnd){const i=n.start.getLastMatchingPosition((({item:e})=>!t.schema.isContent(e)),{boundaries:n});e.addMarker(Av,{usingOperation:!1,affectsData:!1,range:e.createRange(i,n.end)})}else e.addMarker(Av,{usingOperation:!1,affectsData:!1,range:n})}))}_hideFakeVisualSelection(){const t=this.editor.model;t.markers.has(Av)&&t.change((t=>{t.removeMarker(Av)}))}}function Iv(t){return t.getAncestors().find((t=>{return(e=t).is("attributeElement")&&!!e.getCustomProperty("link");var e}))||null}const Mv=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class Pv extends fo{static get requires(){return[Rm,xv]}static get pluginName(){return"AutoLink"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.model.document.selection;t.on("change:range",(()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")})),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(t,e){return e.textNode&&e.textNode.hasAttribute("linkHref")?tb(e,"linkHref",e.textNode.getAttribute("linkHref"),t):null}_selectEntireLinks(t,e){const n=this.editor.model,i=n.document.selection,r=i.getFirstPosition(),o=i.getLastPosition();let s=e.getJoined(this._expandLinkRange(n,r)||e);s&&(s=s.getJoined(this._expandLinkRange(n,o)||e)),s&&(s.start.isBefore(r)||s.end.isAfter(o))&&t.setSelection(s)}_enablePasteLinking(){const t=this.editor,e=t.model,n=e.document.selection,i=t.plugins.get("ClipboardPipeline"),r=t.commands.get("link");i.on("inputTransformation",((t,i)=>{if(!this.isEnabled||!r.isEnabled||n.isCollapsed||"paste"!==i.method)return;if(n.rangeCount>1)return;const o=n.getFirstRange(),s=i.dataTransfer.getData("text/plain");if(!s)return;const a=s.match(Mv);a&&a[2]===s&&(e.change((t=>{this._selectEntireLinks(t,o),r.execute(s)})),t.stop())}),{priority:"high"})}_enableTypingHandling(){const t=this.editor,e=new jm(t.model,(t=>{let e=t;if(!function(t){return t.length>4&&" "===t[t.length-1]&&" "!==t[t.length-2]}(e))return;e=e.slice(0,-1),"!.:,;?".includes(e[e.length-1])&&(e=e.slice(0,-1));const n=Ov(e);return n?{url:n,removedTrailingCharacters:t.length-e.length}:void 0}));e.on("matched:data",((e,n)=>{const{batch:i,range:r,url:o,removedTrailingCharacters:s}=n;if(!i.isTyping)return;const a=r.end.getShiftedBy(-s),c=a.getShiftedBy(-o.length),l=t.model.createRange(c,a);this._applyAutoLink(o,l)})),e.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,e=t.model,n=t.commands.get("enter");n&&n.on("execute",(()=>{const t=e.document.selection.getFirstPosition();if(!t.parent.previousSibling)return;const n=e.createRangeIn(t.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(n)}))}_enableShiftEnterHandling(){const t=this.editor,e=t.model,n=t.commands.get("shiftEnter");n&&n.on("execute",(()=>{const t=e.document.selection.getFirstPosition(),n=e.createRange(e.createPositionAt(t.parent,0),t.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(n)}))}_checkAndApplyAutoLinkOnRange(t){const e=this.editor.model,{text:n,range:i}=Fm(t,e),r=Ov(n);if(r){const t=e.createRange(i.end.getShiftedBy(-r.length),i.end);this._applyAutoLink(r,t)}}_applyAutoLink(t,e){const n=this.editor.model,i=fv(t,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(t,e){return e.schema.checkAttributeInSelection(e.createSelection(t),"linkHref")}(e,n)&&gv(i)&&!function(t){const e=t.start.nodeAfter;return!!e&&e.hasAttribute("linkHref")}(e)&&this._persistAutoLink(i,e)}_persistAutoLink(t,e){const n=this.editor.model,i=this.editor.plugins.get("Delete");n.enqueueChange((r=>{r.setAttribute("linkHref",t,e),n.enqueueChange((()=>{i.requestUndoOnBackspace()}))}))}}function Ov(t){const e=Mv.exec(t);return e?e[2]:null}class Dv extends fo{static get requires(){return["ImageEditing","ImageUtils",xv]}static get pluginName(){return"LinkImageEditing"}static get isOfficialPlugin(){return!0}afterInit(){const t=this.editor,e=t.model.schema;t.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["linkHref"]}),t.conversion.for("upcast").add(function(t){const e=t.plugins.has("ImageInlineEditing"),n=t.plugins.get("ImageUtils");return t=>{t.on("element:a",((t,i,r)=>{const o=i.viewItem,s=n.findViewImgElement(o);if(!s)return;const a=s.findAncestor((t=>n.isBlockImageView(t)));if(e&&!a)return;const c={attributes:["href"]};if(!r.consumable.consume(o,c))return;const l=o.getAttribute("href");if(!l)return;let u=i.modelCursor.parent;if(!u.is("element","imageBlock")){const t=r.convertItem(s,i.modelCursor);i.modelRange=t.modelRange,i.modelCursor=t.modelCursor,u=i.modelCursor.nodeBefore}u&&u.is("element","imageBlock")&&r.writer.setAttribute("linkHref",l,u)}),{priority:"high"})}}(t)),t.conversion.for("downcast").add(function(t){const e=t.plugins.get("ImageUtils");return t=>{t.on("attribute:linkHref:imageBlock",((t,n,i)=>{if(!i.consumable.consume(n.item,t.name))return;const r=i.mapper.toViewElement(n.item),o=i.writer,s=Array.from(r.getChildren()).find((t=>t.is("element","a"))),a=e.findViewImgElement(r),c=a.parent.is("element","picture")?a.parent:a;if(s)n.attributeNewValue?o.setAttribute("href",n.attributeNewValue,s):(o.move(o.createRangeOn(c),o.createPositionAt(r,0)),o.remove(s));else{const t=o.createContainerElement("a",{href:n.attributeNewValue});o.insert(o.createPositionAt(r,0),t),o.move(o.createRangeOn(c),o.createPositionAt(t,0))}}),{priority:"high"})}}(t)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const t=this.editor,e=t.commands.get("link").automaticDecorators;e.length&&t.conversion.for("downcast").add(e.getDispatcherForLinkedImage())}_enableManualDecorators(){const t=this.editor,e=t.commands.get("link");for(const n of e.manualDecorators)t.plugins.has("ImageBlockEditing")&&t.model.schema.extend("imageBlock",{allowAttributes:n.id}),t.plugins.has("ImageInlineEditing")&&t.model.schema.extend("imageInline",{allowAttributes:n.id}),t.conversion.for("downcast").add(Nv(n)),t.conversion.for("upcast").add(Lv(t,n))}}function Nv(t){return e=>{e.on(`attribute:${t.id}:imageBlock`,((e,n,i)=>{const r=i.mapper.toViewElement(n.item),o=Array.from(r.getChildren()).find((t=>t.is("element","a")));if(o){for(const[e,n]of io(t.attributes))i.writer.setAttribute(e,n,o);t.classes&&i.writer.addClass(t.classes,o);for(const e in t.styles)i.writer.setStyle(e,t.styles[e],o)}}))}}function Lv(t,e){const n=t.plugins.has("ImageInlineEditing"),i=t.plugins.get("ImageUtils");return t=>{t.on("element:a",((t,r,o)=>{const s=r.viewItem,a=i.findViewImgElement(s);if(!a)return;const c=a.findAncestor((t=>i.isBlockImageView(t)));if(n&&!c)return;const l=new es(e._createPattern()).match(s);if(!l)return;if(!o.consumable.consume(s,l.match))return;const u=r.modelCursor.nodeBefore||r.modelCursor.parent;o.writer.setAttribute(e.id,!0,u)}),{priority:"high"})}}class Rv extends fo{static get requires(){return[xv,Sv,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"click",((e,n)=>{this._isSelectedLinkedImage(t.model.document.selection)&&(n.preventDefault(),e.stop())}),{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("linkImage",(n=>{const i=new Od(n),r=t.plugins.get("LinkUI"),o=t.commands.get("link");return i.set({isEnabled:!0,label:e("Link image"),icon:Cv,keystroke:lv,tooltip:!0,isToggleable:!0}),i.bind("isEnabled").to(o,"isEnabled"),i.bind("isOn").to(o,"value",(t=>!!t)),this.listenTo(i,"execute",(()=>{this._isSelectedLinkedImage(t.model.document.selection)?r._addActionsView():r._showUI(!0)})),i}))}_isSelectedLinkedImage(t){const e=t.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(e)&&e.hasAttribute("linkHref")}}const Bv={tokenUrl:"https://33333.cke-cs.com/token/dev/ijrDsqFix838Gh3wGO3F77FSW94BwcLXprJ4APSp3XQ26xsUHTi0jcb1hoBt",uploadUrl:"https://33333.cke-cs.com/easyimage/upload/"};var Fv=r(3078);function jv(t,e){const n=t.model.document.selection,i=n.getSelectedElement()||n.getLastPosition().parent;return!(!i||!i.is("element","mermaid")||i.getAttribute("displayMode")!==e)}class $v extends po{refresh(){const t=this.editor,e=t.model.document.selection,n=e.getSelectedElement();n&&"mermaid"===n.name||e.getLastPosition().findAncestor("mermaid")?this.isEnabled=!!n:this.isEnabled=!1,this.value=jv(t,"preview")}execute(){const t=this.editor.model,e=this.editor.model.document.selection,n=e.getSelectedElement()||e.getLastPosition().parent;t.change((t=>{"preview"!==n.getAttribute("displayMode")&&t.setAttribute("displayMode","preview",n)}))}}class Vv extends po{refresh(){const t=this.editor,e=t.model.document.selection,n=e.getSelectedElement();n&&"mermaid"===n.name||e.getLastPosition().findAncestor("mermaid")?this.isEnabled=!!n:this.isEnabled=!1,this.value=jv(t,"source")}execute(){const t=this.editor.model,e=this.editor.model.document.selection,n=e.getSelectedElement()||e.getLastPosition().parent;t.change((t=>{"source"!==n.getAttribute("displayMode")&&t.setAttribute("displayMode","source",n)}))}}class zv extends po{refresh(){const t=this.editor,e=t.model.document.selection,n=e.getSelectedElement();n&&"mermaid"===n.name||e.getLastPosition().findAncestor("mermaid")?this.isEnabled=!!n:this.isEnabled=!1,this.value=jv(t,"split")}execute(){const t=this.editor.model,e=this.editor.model.document.selection,n=e.getSelectedElement()||e.getLastPosition().parent;t.change((t=>{"split"!==n.getAttribute("displayMode")&&t.setAttribute("displayMode","split",n)}))}}class Hv extends po{refresh(){const t=this.editor.model.document.selection.getSelectedElement();t&&"mermaid"===t.name?this.isEnabled=!1:this.isEnabled=!0}execute(){const t=this.editor.model;let e;return t.change((n=>{e=n.createElement("mermaid",{displayMode:"split",source:"flowchart TB\nA --\x3e B\nB --\x3e C"}),t.insertContent(e)})),e}}class Uv extends fo{static get pluginName(){return"MermaidEditing"}init(){this._registerCommands(),this._defineConverters()}afterInit(){this.editor.model.schema.register("mermaid",{allowAttributes:["displayMode","source"],allowWhere:"$block",isObject:!0})}_registerCommands(){const t=this.editor;t.commands.add("mermaidPreviewCommand",new $v(t)),t.commands.add("mermaidSplitViewCommand",new zv(t)),t.commands.add("mermaidSourceViewCommand",new Vv(t)),t.commands.add("insertMermaidCommand",new Hv(t))}_defineConverters(){const t=this.editor;t.data.downcastDispatcher.on("insert:mermaid",this._mermaidDataDowncast.bind(this)),t.editing.downcastDispatcher.on("insert:mermaid",this._mermaidDowncast.bind(this)),t.editing.downcastDispatcher.on("attribute:source:mermaid",this._sourceAttributeDowncast.bind(this)),t.data.upcastDispatcher.on("element:code",this._mermaidUpcast.bind(this),{priority:"high"}),t.conversion.for("editingDowncast").attributeToAttribute({model:{name:"mermaid",key:"displayMode"},view:t=>({key:"class",value:"ck-mermaid__"+t+"-mode"})})}_mermaidDataDowncast(t,e,n){const i=this.editor.model,{writer:r,mapper:o}=n;if(!n.consumable.consume(e.item,"insert"))return;const s=o.toViewPosition(i.createPositionBefore(e.item)),a=r.createContainerElement("code",{class:"language-mermaid"}),c=r.createContainerElement("pre",{spellcheck:"false"}),l=r.createText(e.item.getAttribute("source"));r.insert(i.createPositionAt(a,"end"),l),r.insert(i.createPositionAt(c,"end"),a),r.insert(s,c),o.bindElements(e.item,a)}_mermaidDowncast(t,e,n){const{writer:i,mapper:r,consumable:o}=n,{editor:s}=this,{model:a,t:c}=s,l=this;if(!o.consume(e.item,"insert"))return;const u=r.toViewPosition(a.createPositionBefore(e.item)),h={class:["ck-mermaid__editing-view"],placeholder:c("Insert mermaid source code"),"data-cke-ignore-events":!0},d=i.createContainerElement("div",{class:["ck-mermaid__wrapper"]}),f=i.createUIElement("textarea",h,(function(t){const n=this.toDomElement(t);n.value=e.item.getAttribute("source");const i=za((t=>{s.model.change((n=>{n.setAttribute("source",t.target.value,e.item)}))}),300);return n.addEventListener("input",i),n.addEventListener("focus",(()=>{const t=s.model;t.document.selection.getSelectedElement()!==e.item&&t.change((t=>t.setSelection(e.item,"on")))}),!0),n})),g=i.createUIElement("div",{class:["ck-mermaid__preview"]},(function(t){const n=e.item.getAttribute("source"),i=this.toDomElement(t);return i.innerHTML=n,window.setTimeout((()=>{l._renderMermaid(i)}),100),i}));return i.insert(i.createPositionAt(d,"start"),g),i.insert(i.createPositionAt(d,"start"),f),i.insert(u,d),r.bindElements(e.item,d),yb(d,i,{widgetLabel:c("Mermaid widget"),hasSelectionHandle:!0})}_sourceAttributeDowncast(t,e,n){const i=e.attributeNewValue,r=this.editor.editing.view.domConverter;if(i){const t=n.mapper.toViewElement(e.item);for(const e of t.getChildren())if("textarea"===e.name&&e.hasClass("ck-mermaid__editing-view")){const t=r.viewToDom(e,window.document);t.value!=i&&(t.value=i)}else if("div"===e.name&&e.hasClass("ck-mermaid__preview")){const t=r.viewToDom(e,window.document);t&&(t.innerHTML=i,t.removeAttribute("data-processed"),this._renderMermaid(t))}}}_mermaidUpcast(t,e,n){const i=e.viewItem,r=!i.parent||!i.parent.is("element","pre"),o=e.modelCursor.findAncestor("code"),{consumable:s,writer:a}=n;if(!i.hasClass("language-mermaid")||r||o)return;if(!s.test(i,{name:!0}))return;const c=Array.from(i.getChildren()).filter((t=>t.is("$text"))).map((t=>t.data)).join(""),l=a.createElement("mermaid",{source:c,displayMode:"split"});n.safeInsert(l,e.modelCursor)&&(s.consume(i,{name:!0}),n.updateConversionResult(l,e))}_renderMermaid(t){Fv.init(void 0,t)}}class qv extends fo{static get requires(){return[jb]}static get pluginName(){return"MermaidToolbar"}afterInit(){const t=this.editor,e=t.t,n=t.plugins.get(jb),i=["mermaidSourceView","mermaidSplitView","mermaidPreview","|","mermaidInfo"];i&&n.register("mermaidToolbar",{ariaLabel:e("Mermaid toolbar"),items:i,getRelatedElement:t=>function(t){const e=t.getSelectedElement();if(e&&e.hasClass("ck-mermaid__wrapper"))return e;return null}(t)})}}class Wv extends fo{static get pluginName(){return"MermaidUI"}init(){this._addButtons()}_addButtons(){const t=this.editor;this._addInsertMermaidButton(),this._addMermaidInfoButton(),this._createToolbarButton(t,"mermaidPreview","Preview",'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.8 11.609V13.4a.4.4 0 0 1-.4.4H2.6a.4.4 0 0 1-.4-.4v-1.791H1V13.4A1.6 1.6 0 0 0 2.6 15h10.8a1.6 1.6 0 0 0 1.6-1.6v-1.791h-1.2ZM13.8 4.997H15V2.6A1.6 1.6 0 0 0 13.4 1H2.6A1.6 1.6 0 0 0 1 2.6v2.397h1.2V2.6c0-.22.18-.4.4-.4h10.8c.22 0 .4.18.4.4v2.397Z"/><path d="M8 11.095c-1.92 0-3.837-.919-5.749-2.757L2 8.095l.251-.242c3.815-3.677 7.683-3.677 11.498 0l.251.242-.251.243C11.84 10.176 9.925 11.095 8 11.096Zm-5.02-3c3.375 3.1 6.665 3.1 10.04 0-3.375-3.1-6.665-3.095-10.04 0Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M13.514 8.095c-3.676 3.543-7.352 3.543-11.028 0 3.676-3.542 7.352-3.542 11.028 0Zm-3.586 0A1.926 1.926 0 0 1 8 10.02a1.926 1.926 0 0 1-1.928-1.924c0-1.062.863-1.924 1.928-1.924s1.928.862 1.928 1.924Z"/><path d="M8 8.861a.767.767 0 1 0 .002-1.533A.767.767 0 0 0 8 8.86Z"/></svg>\n'),this._createToolbarButton(t,"mermaidSourceView","Source view",'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.609 2.2H13.4c.22 0 .4.18.4.4v10.8a.4.4 0 0 1-.4.4h-1.791V15H13.4a1.6 1.6 0 0 0 1.6-1.6V2.6A1.6 1.6 0 0 0 13.4 1h-1.791v1.2ZM4.997 2.2V1H2.6A1.6 1.6 0 0 0 1 2.6v10.8A1.6 1.6 0 0 0 2.6 15h2.397v-1.2H2.6a.4.4 0 0 1-.4-.4V2.6c0-.22.18-.4.4-.4h2.397Z"/><path d="M3.511 4.778a.75.75 0 0 1 .75-.75h3.697a.75.75 0 1 1 0 1.5H4.26a.75.75 0 0 1-.75-.75ZM6.595 7.629a.75.75 0 0 1 .75-.75h3.588a.75.75 0 0 1 0 1.5H7.345a.75.75 0 0 1-.75-.75ZM6.595 10.48a.75.75 0 0 1 .75-.75h1.143a.75.75 0 1 1 0 1.5H7.345a.75.75 0 0 1-.75-.75ZM3.511 7.629a.75.75 0 0 1 .75-.75h.983a.75.75 0 1 1 0 1.5h-.983a.75.75 0 0 1-.75-.75ZM3.511 10.48a.75.75 0 0 1 .75-.75h.983a.75.75 0 1 1 0 1.5h-.983a.75.75 0 0 1-.75-.75Z"/></svg>\n'),this._createToolbarButton(t,"mermaidSplitView","Split view",'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.8 3.076H8.588V13.8H13.4a.4.4 0 0 0 .4-.4V3.076Zm-6.412 0H2.2V13.4c0 .22.18.4.4.4h4.788V3.076ZM2.6 1A1.6 1.6 0 0 0 1 2.6v10.8A1.6 1.6 0 0 0 2.6 15h10.8a1.6 1.6 0 0 0 1.6-1.6V2.6A1.6 1.6 0 0 0 13.4 1H2.6Z"/></svg>\n')}_addInsertMermaidButton(){const t=this.editor,e=t.t,n=t.editing.view;t.ui.componentFactory.add("mermaid",(i=>{const r=new Od(i),o=t.commands.get("insertMermaidCommand");return r.set({label:e("Insert Mermaid diagram"),icon:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="m8 11.5 3.004-3.004 3.003 3.004-3.003 3.004L8 11.5Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M9.504 2.863v3h3v-3h-3Zm-1 4h5v-5h-5v5Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.004 14.504 8 11.5l2.504-2.504V6.07h1v2.926l2.503 2.504-3.003 3.004ZM9.414 11.5l1.59-1.59 1.59 1.59-1.59 1.59-1.59-1.59ZM6.837 4.999h2.625v-1h-2.57a2.5 2.5 0 1 0-2.974 2.814V9h-2v5h5V9h-2V6.813c.934-.19 1.68-.9 1.919-1.814Zm-3.919-.636a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 5.637v3h3v-3h-3Z"/></svg>\n',tooltip:!0}),r.bind("isOn","isEnabled").to(o,"value","isEnabled"),o.listenTo(r,"execute",(()=>{const e=t.execute("insertMermaidCommand"),i=t.editing.mapper.toViewElement(e);if(n.scrollToTheSelection(),n.focus(),i){const t=n.domConverter.viewToDom(i,document);t&&t.querySelector(".ck-mermaid__editing-view").focus()}})),r}))}_addMermaidInfoButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("mermaidInfo",(t=>{const n=new Od(t);return n.set({label:e("Read more about Mermaid diagram syntax"),icon:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 1.219C4.254 1.219 1.219 4.28 1.219 8A6.78 6.78 0 0 0 8 14.781c3.719 0 6.781-3.035 6.781-6.781 0-3.719-3.062-6.781-6.781-6.781Zm0 12.25A5.45 5.45 0 0 1 2.531 8 5.467 5.467 0 0 1 8 2.531c3.008 0 5.469 2.461 5.469 5.469A5.467 5.467 0 0 1 8 13.469Zm0-9.242c-.656 0-1.148.52-1.148 1.148 0 .656.492 1.148 1.148 1.148.629 0 1.148-.492 1.148-1.148 0-.629-.52-1.148-1.148-1.148Zm1.531 6.945v-.656a.353.353 0 0 0-.328-.329h-.328V7.454a.353.353 0 0 0-.328-.328h-1.75a.332.332 0 0 0-.328.328v.656c0 .192.136.329.328.329h.328v1.75h-.328a.333.333 0 0 0-.328.328v.656c0 .191.136.328.328.328h2.406a.332.332 0 0 0 .328-.328Z"/></svg>\n',tooltip:!0}),n.on("execute",(()=>{window.open("https://ckeditor.com/blog/basic-overview-of-creating-flowcharts-using-mermaid/","_blank","noopener")})),n}))}_createToolbarButton(t,e,n,i){const r=t.t;t.ui.componentFactory.add(e,(o=>{const s=new Od(o),a=t.commands.get(`${e}Command`);return s.set({label:r(n),icon:i,tooltip:!0}),s.bind("isOn","isEnabled").to(a,"value","isEnabled"),a.listenTo(s,"execute",(()=>{t.execute(`${e}Command`),t.editing.view.scrollToTheSelection(),t.editing.view.focus()})),s}))}}class Gv extends zg{constructor(t,e){super(t),this.view=e,this._toolbarConfig=Vf(t.config.get("toolbar")),this._elementReplacer=new et,this.listenTo(t.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(t){const e=this.editor,n=this.view,i=e.editing.view,r=n.editable,o=i.document.getRoot();r.name=o.rootName,n.render();const s=r.element;this.setEditableElement(r.name,s),n.editable.bind("isFocused").to(this.focusTracker),i.attachDomRoot(s),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),n.menuBarView&&this._initMenuBar(n.menuBarView),this._initDialogPluginIntegration(),this._initContextualBalloonIntegration(),this.fire("ready")}destroy(){super.destroy();const t=this.view,e=this.editor.editing.view;this._elementReplacer.restore(),e.getDomRoot(t.editable.name)&&e.detachDomRoot(t.editable.name),t.destroy()}_initToolbar(){const t=this.view;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),t.stickyPanel.limiterElement=t.element,t.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",(({top:t})=>t||0)),t.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(t.toolbar)}_initPlaceholder(){const t=this.editor,e=t.editing.view,n=e.document.getRoot(),i=t.sourceElement;let r;const o=t.config.get("placeholder");o&&(r="string"==typeof o?o:o[this.view.editable.name]),!r&&i&&"textarea"===i.tagName.toLowerCase()&&(r=i.getAttribute("placeholder")),r&&(n.placeholder=r),Ho({view:e,element:n,isDirectHost:!1,keepOnFocus:!0})}_initContextualBalloonIntegration(){if(!this.editor.plugins.has("ContextualBalloon"))return;const{stickyPanel:t}=this.view,e=this.editor.plugins.get("ContextualBalloon");e.on("getPositionOptions",(e=>{const n=e.return;if(!n||!t.isSticky||!t.element)return;const i=new Ui(t.element).height,r="function"==typeof n.target?n.target():n.target,o="function"==typeof n.limiter?n.limiter():n.limiter;if(r&&o&&new Ui(r).height>=new Ui(o).height-i)return;const s={...n.viewportOffsetConfig},a=(s.top||0)+i;e.return={...n,viewportOffsetConfig:{...s,top:a}}}),{priority:"low"});const n=()=>{e.visibleView&&e.updatePosition()};this.listenTo(t,"change:isSticky",n),this.listenTo(this.editor.ui,"change:viewportOffset",n)}_handleScrollToTheSelectionWithStickyPanel(t,e,n){const i=this.view.stickyPanel;if(i.isSticky){const t=new Ui(i.element).height;e.viewportOffset.top+=t}else{const t=()=>{this.editor.editing.view.scrollToTheSelection(n)};this.listenTo(i,"change:isSticky",t),setTimeout((()=>{this.stopListening(i,"change:isSticky",t)}),20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const t=this.view.stickyPanel,e=this.editor.plugins.get("Dialog");e.on("show",(()=>{const n=e.view;n.on("moveTo",((e,i)=>{if(!t.isSticky||n.wasMoved||n.isModal)return;const r=new Ui(t.contentPanelElement);i[1]<r.bottom+Xd.defaultOffset&&(i[1]=r.bottom+Xd.defaultOffset)}),{priority:"high"})}),{priority:"low"})}}class Kv extends qg{constructor(t,e,n={}){super(t),this.stickyPanel=new ep(t),this.toolbar=new Hf(t,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),n.useMenuBar&&(this.menuBarView=new vp(t)),this.editable=new Gg(t,e,void 0,{label:n.label})}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Yv extends(Jh(Zh)){static get editorName(){return"ClassicEditor"}constructor(t,e={}){if(!Xv(t)&&void 0!==e.initialData)throw new E("editor-create-initial-data",null);super(e),this.config.define("menuBar.isVisible",!1),void 0===this.config.get("initialData")&&this.config.set("initialData",function(t){return Xv(t)?(e=t,e instanceof HTMLTextAreaElement?e.value:e.innerHTML):t;var e}(t)),Xv(t)&&(this.sourceElement=t),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),i=this.config.get("menuBar"),r=new Kv(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n,useMenuBar:i.isVisible,label:this.config.get("label")});this.ui=new Gv(this,r),function(t){if(!Ut(t.updateSourceElement))throw new E("attachtoform-missing-elementapi-interface",t);const e=t.sourceElement;if(function(t){return!!t&&"textarea"===t.tagName.toLowerCase()}(e)&&e.form){let n;const i=e.form,r=()=>t.updateSourceElement();Ut(i.submit)&&(n=i.submit,i.submit=()=>{r(),n.apply(i)}),i.addEventListener("submit",r),t.on("destroy",(()=>{i.removeEventListener("submit",r),n&&(i.submit=n)}))}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(t,e={}){return new Promise((n=>{const i=new this(t,e);n(i.initPlugins().then((()=>i.ui.init(Xv(t)?t:null))).then((()=>i.data.init(i.config.get("initialData")))).then((()=>i.fire("ready"))).then((()=>i)))}))}}function Xv(t){return Ai(t)}class Zv extends po{constructor(t){super(t),this.affectsData=!1}execute(){const t=this.editor.model,e=t.document.selection;let n=t.schema.getLimitElement(e);if(e.containsEntireContent(n)||!Qv(t.schema,n))do{if(n=n.parent,!n)return}while(!Qv(t.schema,n));t.change((t=>{t.setSelection(n,"in")}))}}function Qv(t,e){return t.isLimit(e)&&(t.checkChild(e,"$text")||t.checkChild(e,"paragraph"))}const Jv=kr("Ctrl+A");class t_ extends fo{static get pluginName(){return"SelectAllEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,n=t.editing.view.document;t.commands.add("selectAll",new Zv(t)),this.listenTo(n,"keydown",((e,n)=>{_r(n)===Jv&&(t.execute("selectAll"),n.preventDefault())})),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Select all"),keystroke:"CTRL+A"}]})}}class e_ extends fo{static get pluginName(){return"SelectAllUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",(()=>{const t=this._createButton(Od);return t.set({tooltip:!0}),t})),t.ui.componentFactory.add("menuBar:selectAll",(()=>this._createButton(tf)))}_createButton(t){const e=this.editor,n=e.locale,i=e.commands.get("selectAll"),r=new t(e.locale),o=n.t;return r.set({label:o("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),r.bind("isEnabled").to(i,"isEnabled"),this.listenTo(r,"execute",(()=>{e.execute("selectAll"),e.editing.view.focus()})),r}}class n_ extends fo{static get requires(){return[t_,e_]}static get pluginName(){return"SelectAll"}static get isOfficialPlugin(){return!0}}function i_(t,e,n,i){let r,o=null;"function"==typeof i?r=i:(o=t.commands.get(i),r=()=>{t.execute(i)}),t.model.document.on("change:data",((s,a)=>{if(o&&!o.isEnabled||!e.isEnabled)return;const c=Zr(t.model.document.selection.getRanges());if(!c.isCollapsed)return;if(a.isUndo||!a.isLocal)return;const l=Array.from(t.model.document.differ.getChanges()),u=l[0];if(1!=l.length||"insert"!==u.type||"$text"!=u.name||1!=u.length)return;const h=u.position.parent;if(h.is("element","codeBlock"))return;if(h.is("element","listItem")&&"function"!=typeof i&&!["numberedList","bulletedList","todoList"].includes(i))return;if(o&&!0===o.value)return;const d=h.getChild(0),f=t.model.createRangeOn(d);if(!f.containsRange(c)&&!c.end.isEqual(f.end))return;const g=n.exec(d.data.substr(0,c.end.offset));g&&t.model.enqueueChange((e=>{const n=e.createPositionAt(h,0),i=e.createPositionAt(h,g[0].length),o=new Kc(n,i);if(!1!==r({match:g})){e.remove(o);const n=t.model.document.selection.getFirstRange(),i=e.createRangeIn(h);!h.isEmpty||i.isEqual(n)||i.containsRange(n,!0)||e.remove(h)}o.detach(),t.model.enqueueChange((()=>{t.plugins.get("Delete").requestUndoOnBackspace()}))}))}))}function r_(t,e,n,i){let r,o;n instanceof RegExp?r=n:o=n,o=o||(t=>{let e;const n=[],i=[];for(;null!==(e=r.exec(t))&&!(e&&e.length<4);){let{index:t,1:r,2:o,3:s}=e;const a=r+o+s;t+=e[0].length-a.length;const c=[t,t+r.length],l=[t+r.length+o.length,t+r.length+o.length+s.length];n.push(c),n.push(l),i.push([t+r.length,t+r.length+o.length])}return{remove:n,format:i}}),t.model.document.on("change:data",((n,r)=>{if(r.isUndo||!r.isLocal||!e.isEnabled)return;const s=t.model,a=s.document.selection;if(!a.isCollapsed)return;const c=Array.from(s.document.differ.getChanges()),l=c[0];if(1!=c.length||"insert"!==l.type||"$text"!=l.name||1!=l.length)return;const u=a.focus,h=u.parent,{text:d,range:f}=function(t,e){let n=t.start;const i=Array.from(t.getItems()).reduce(((t,i)=>!i.is("$text")&&!i.is("$textProxy")||i.getAttribute("code")?(n=e.createPositionAfter(i),""):t+i.data),"");return{text:i,range:e.createRange(n,t.end)}}(s.createRange(s.createPositionAt(h,0),u),s),g=o(d),p=o_(f.start,g.format,s),m=o_(f.start,g.remove,s);p.length&&m.length&&s.enqueueChange((e=>{if(!1!==i(e,p)){for(const t of m.reverse())e.remove(t);s.enqueueChange((()=>{t.plugins.get("Delete").requestUndoOnBackspace()}))}}))}))}function o_(t,e,n){return e.filter((t=>void 0!==t[0]&&void 0!==t[1])).map((e=>n.createRange(t.getShiftedBy(e[0]),t.getShiftedBy(e[1]))))}function s_(t,e){return(n,i)=>{if(!t.commands.get(e).isEnabled)return!1;const r=t.model.schema.getValidRanges(i,e);for(const t of r)n.setAttribute(e,!0,t);n.removeSelectionAttribute(e)}}class a_ extends po{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document.selection,i=void 0===t.forceValue?!this.value:t.forceValue;e.change((t=>{if(n.isCollapsed)i?t.setSelectionAttribute(this.attributeKey,!0):t.removeSelectionAttribute(this.attributeKey);else{const r=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const e of r)i?t.setAttribute(this.attributeKey,i,e):t.removeAttribute(this.attributeKey,e)}}))}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const t of n.getRanges())for(const n of t.getItems())if(e.checkAttribute(n,this.attributeKey))return n.hasAttribute(this.attributeKey);return!1}}const c_="bold";class l_ extends fo{static get pluginName(){return"BoldEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:c_}),t.model.schema.setAttributeProperties(c_,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:c_,view:"strong",upcastAlso:["b",t=>{const e=t.getStyle("font-weight");return e&&("bold"==e||Number(e)>=600)?{name:!0,styles:["font-weight"]}:null}]}),t.commands.add(c_,new a_(t,c_)),t.keystrokes.set("CTRL+B",c_),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Bold text"),keystroke:"CTRL+B"}]})}}function u_({editor:t,commandName:e,plugin:n,icon:i,label:r,keystroke:o}){return s=>{const a=t.commands.get(e),c=new s(t.locale);return c.set({label:r,icon:i,keystroke:o,isToggleable:!0}),c.bind("isEnabled").to(a,"isEnabled"),c.bind("isOn").to(a,"value"),c instanceof tf?c.set({role:"menuitemcheckbox"}):c.set({tooltip:!0}),n.listenTo(c,"execute",(()=>{t.execute(e),t.editing.view.focus()})),c}}const h_="bold";class d_ extends fo{static get pluginName(){return"BoldUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,n=u_({editor:t,commandName:h_,plugin:this,icon:ed.bold,label:e("Bold"),keystroke:"CTRL+B"});t.ui.componentFactory.add(h_,(()=>n(Od))),t.ui.componentFactory.add("menuBar:"+h_,(()=>n(tf)))}}const f_="italic";class g_ extends fo{static get pluginName(){return"ItalicEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:f_}),t.model.schema.setAttributeProperties(f_,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:f_,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(f_,new a_(t,f_)),t.keystrokes.set("CTRL+I",f_),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Italic text"),keystroke:"CTRL+I"}]})}}const p_="italic";class m_ extends fo{static get pluginName(){return"ItalicUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale.t,n=u_({editor:t,commandName:p_,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:e("Italic")});t.ui.componentFactory.add(p_,(()=>n(Od))),t.ui.componentFactory.add("menuBar:"+p_,(()=>n(tf)))}}class b_ extends po{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,n=e.schema,i=e.document.selection,r=Array.from(i.getSelectedBlocks()),o=void 0===t.forceValue?!this.value:t.forceValue;e.change((t=>{if(o){const e=r.filter((t=>w_(t)||v_(n,t)));this._applyQuote(t,e)}else this._removeQuote(t,r.filter(w_))}))}_getValue(){const t=Zr(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!w_(t))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,n=Zr(t.getSelectedBlocks());return!!n&&v_(e,n)}_removeQuote(t,e){y_(t,e).reverse().forEach((e=>{if(e.start.isAtStart&&e.end.isAtEnd)return void t.unwrap(e.start.parent);if(e.start.isAtStart){const n=t.createPositionBefore(e.start.parent);return void t.move(e,n)}e.end.isAtEnd||t.split(e.end);const n=t.createPositionAfter(e.end.parent);t.move(e,n)}))}_applyQuote(t,e){const n=[];y_(t,e).reverse().forEach((e=>{let i=w_(e.start);i||(i=t.createElement("blockQuote"),t.wrap(e,i)),n.push(i)})),n.reverse().reduce(((e,n)=>e.nextSibling==n?(t.merge(t.createPositionAfter(e)),e):n))}}function w_(t){return"blockQuote"==t.parent.name?t.parent:null}function y_(t,e){let n,i=0;const r=[];for(;i<e.length;){const o=e[i],s=e[i+1];n||(n=t.createPositionBefore(o)),s&&o.nextSibling==s||(r.push(t.createRange(n,t.createPositionAfter(o))),n=null),i++}return r}function v_(t,e){const n=t.checkChild(e.parent,"blockQuote"),i=t.checkChild(["$root","blockQuote"],e);return n&&i}class __ extends fo{static get pluginName(){return"BlockQuoteEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[ab,Rm]}init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new b_(t)),e.register("blockQuote",{inheritAllFrom:"$container"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer((n=>{const i=t.model.document.differ.getChanges();for(const t of i)if("insert"==t.type){const i=t.position.nodeAfter;if(!i)continue;if(i.is("element","blockQuote")&&i.isEmpty)return n.remove(i),!0;if(i.is("element","blockQuote")&&!e.checkChild(t.position,i))return n.unwrap(i),!0;if(i.is("element")){const t=n.createRangeIn(i);for(const i of t.getItems())if(i.is("element","blockQuote")&&!e.checkChild(n.createPositionBefore(i),i))return n.unwrap(i),!0}}else if("remove"==t.type){const e=t.position.parent;if(e.is("element","blockQuote")&&e.isEmpty)return n.remove(e),!0}return!1}));const n=this.editor.editing.view.document,i=t.model.document.selection,r=t.commands.get("blockQuote");this.listenTo(n,"enter",((e,n)=>{if(!i.isCollapsed||!r.value)return;i.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),n.preventDefault(),e.stop())}),{context:"blockquote"}),this.listenTo(n,"delete",((e,n)=>{if("backward"!=n.direction||!i.isCollapsed||!r.value)return;const o=i.getLastPosition().parent;o.isEmpty&&!o.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),n.preventDefault(),e.stop())}),{context:"blockquote"})}}class k_ extends fo{static get pluginName(){return"BlockQuoteUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("blockQuote",(()=>{const t=this._createButton(Od);return t.set({tooltip:!0}),t})),t.ui.componentFactory.add("menuBar:blockQuote",(()=>{const t=this._createButton(tf);return t.set({role:"menuitemcheckbox"}),t}))}_createButton(t){const e=this.editor,n=e.locale,i=e.commands.get("blockQuote"),r=new t(e.locale),o=n.t;return r.set({label:o("Block quote"),icon:ed.quote,isToggleable:!0}),r.bind("isEnabled").to(i,"isEnabled"),r.bind("isOn").to(i,"value"),this.listenTo(r,"execute",(()=>{e.execute("blockQuote"),e.editing.view.focus()})),r}}class x_ extends fo{static get pluginName(){return"CloudServicesUploadAdapter"}static get isOfficialPlugin(){return!0}static get requires(){return["CloudServices",$p]}init(){const t=this.editor,e=t.plugins.get("CloudServices"),n=e.token,i=e.uploadUrl;if(!n)return;const r=t.plugins.get("CloudServicesCore");this._uploadGateway=r.createUploadGateway(n,i),t.plugins.get($p).createUploadAdapter=t=>new E_(this._uploadGateway,t)}}class E_{constructor(t,e){this.uploadGateway=t,this.loader=e}upload(){return this.loader.file.then((t=>(this.fileUploader=this.uploadGateway.upload(t),this.fileUploader.on("progress",((t,e)=>{this.loader.uploadTotal=e.total,this.loader.uploaded=e.uploaded})),this.fileUploader.send())))}abort(){this.fileUploader.abort()}}class T_ extends po{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}refresh(){const t=this.editor.model,e=Zr(t.document.selection.getSelectedBlocks());this.value=!!e&&e.is("element","paragraph"),this.isEnabled=!!e&&C_(e,t.schema)}execute(t={}){const e=this.editor.model,n=e.document,i=t.selection||n.selection;e.canEditAt(i)&&e.change((t=>{const n=i.getSelectedBlocks();for(const i of n)!i.is("element","paragraph")&&C_(i,e.schema)&&t.rename(i,"paragraph")}))}}function C_(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}class A_ extends po{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}execute(t){const e=this.editor.model,n=t.attributes;let i=t.position;return e.canEditAt(i)?e.change((t=>{if(i=this._findPositionToInsertParagraph(i,t),!i)return null;const r=t.createElement("paragraph");return n&&e.schema.setAllowedAttributes(r,n,t),e.insertContent(r,i),t.setSelection(r,"in"),t.createPositionAt(r,0)})):null}_findPositionToInsertParagraph(t,e){const n=this.editor.model;if(n.schema.checkChild(t,"paragraph"))return t;const i=n.schema.findAllowedParent(t,"paragraph");if(!i)return null;const r=t.parent,o=n.schema.checkChild(r,"$text");return r.isEmpty||o&&t.isAtEnd?n.createPositionAfter(r):!r.isEmpty&&o&&t.isAtStart?n.createPositionBefore(r):e.split(t,i).position}}class S_ extends fo{static get pluginName(){return"Paragraph"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.model;t.commands.add("paragraph",new T_(t)),t.commands.add("insertParagraph",new A_(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(t,{writer:e})=>S_.paragraphLikeElements.has(t.name)?t.isEmpty?null:e.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}S_.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);const I_=S_;class M_ extends po{constructor(t,e){super(t),this.modelElements=e}refresh(){const t=Zr(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some((e=>P_(t,e,this.editor.model.schema)))}execute(t){const e=this.editor.model,n=e.document,i=t.value;e.change((t=>{const r=Array.from(n.selection.getSelectedBlocks()).filter((t=>P_(t,i,e.schema)));for(const e of r)e.is("element",i)||t.rename(e,i)}))}}function P_(t,e,n){return n.checkChild(t.parent,e)&&!n.isObject(t)}const O_="paragraph";class D_ extends fo{static get pluginName(){return"HeadingEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[I_]}init(){const t=this.editor,e=t.config.get("heading.options"),n=[];for(const i of e)"paragraph"!==i.model&&(t.model.schema.register(i.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(i),n.push(i.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new M_(t,n))}afterInit(){const t=this.editor,e=t.commands.get("enter"),n=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",((e,i)=>{const r=t.model.document.selection.getFirstPosition().parent;n.some((t=>r.is("element",t.model)))&&!r.is("element",O_)&&0===r.childCount&&i.writer.rename(r,O_)}))}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:k.low+1})}}class N_ extends fo{static get pluginName(){return"HeadingUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.t,n=function(t){const e=t.t,n={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return t.config.get("heading.options").map((t=>{const e=n[t.title];return e&&e!=t.title&&(t.title=e),t}))}(t),i=e("Choose heading"),r=e("Heading");t.ui.componentFactory.add("heading",(e=>{const o={},s=new Xr,a=t.commands.get("heading"),c=t.commands.get("paragraph"),l=[a];for(const t of n){const e={type:"button",model:new Yg({label:t.title,class:t.class,role:"menuitemradio",withText:!0})};"paragraph"===t.model?(e.model.bind("isOn").to(c,"value"),e.model.set("commandName","paragraph"),l.push(c)):(e.model.bind("isOn").to(a,"value",(e=>e===t.model)),e.model.set({commandName:"heading",commandValue:t.model})),s.add(e),o[t.model]=t.title}const u=Kf(e);return Zf(u,s,{ariaLabel:r,role:"menu"}),u.buttonView.set({ariaLabel:r,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:r}),u.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),u.bind("isEnabled").toMany(l,"isEnabled",((...t)=>t.some((t=>t)))),u.buttonView.bind("label").to(a,"value",c,"value",((t,e)=>{const n=e?"paragraph":t;return"boolean"==typeof n?i:o[n]?o[n]:i})),u.buttonView.bind("ariaLabel").to(a,"value",c,"value",((t,e)=>{const n=e?"paragraph":t;return"boolean"==typeof n?r:o[n]?`${o[n]}, ${r}`:r})),this.listenTo(u,"execute",(e=>{const{commandName:n,commandValue:i}=e.source;t.execute(n,i?{value:i}:void 0),t.editing.view.focus()})),u})),t.ui.componentFactory.add("menuBar:heading",(i=>{const r=new pp(i),o=t.commands.get("heading"),s=t.commands.get("paragraph"),a=[o],c=new mp(i);r.set({class:"ck-heading-dropdown"}),c.set({ariaLabel:e("Heading"),role:"menu"}),r.buttonView.set({label:e("Heading")}),r.panelView.children.add(c);for(const e of n){const n=new Cg(i,r),l=new tf(i);n.children.add(l),c.items.add(n),l.set({isToggleable:!0,label:e.title,role:"menuitemradio",class:e.class}),l.delegate("execute").to(r),l.on("execute",(()=>{const n="paragraph"===e.model?"paragraph":"heading";t.execute(n,{value:e.model}),t.editing.view.focus()})),"paragraph"===e.model?(l.bind("isOn").to(s,"value"),a.push(s)):l.bind("isOn").to(o,"value",(t=>t===e.model))}return r.bind("isEnabled").toMany(a,"isEnabled",((...t)=>t.some((t=>t)))),r}))}}new Set(["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"]);class L_ extends fo{static get pluginName(){return"IndentEditing"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.commands.add("indent",new bo(t)),t.commands.add("outdent",new bo(t))}}class R_ extends fo{static get pluginName(){return"IndentUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=t.locale,n=t.t,i="ltr"==e.uiLanguageDirection?ed.indent:ed.outdent,r="ltr"==e.uiLanguageDirection?ed.outdent:ed.indent;this._defineButton("indent",n("Increase indent"),i),this._defineButton("outdent",n("Decrease indent"),r)}_defineButton(t,e,n){const i=this.editor;i.ui.componentFactory.add(t,(()=>{const i=this._createButton(Od,t,e,n);return i.set({tooltip:!0}),i})),i.ui.componentFactory.add("menuBar:"+t,(()=>this._createButton(tf,t,e,n)))}_createButton(t,e,n,i){const r=this.editor,o=r.commands.get(e),s=new t(r.locale);return s.set({label:n,icon:i}),s.bind("isEnabled").to(o,"isEnabled"),this.listenTo(s,"execute",(()=>{r.execute(e),r.editing.view.focus()})),s}}class B_{constructor(t,e){this._startElement=t,this._referenceIndent=t.getAttribute("listIndent"),this._isForward="forward"==e.direction,this._includeSelf=!!e.includeSelf,this._sameAttributes=Cr(e.sameAttributes||[]),this._sameIndent=!!e.sameIndent,this._lowerIndent=!!e.lowerIndent,this._higherIndent=!!e.higherIndent}static first(t,e){return Zr(new this(t,e)[Symbol.iterator]())}*[Symbol.iterator](){const t=[];for(const{node:e}of new F_(this._getStartNode(),this._isForward?"forward":"backward")){const n=e.getAttribute("listIndent");if(n<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=n}else if(n>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){t.push(e);continue}}else{if(!this._sameIndent){if(this._higherIndent){t.length&&(yield*t,t.length=0);break}continue}if(this._sameAttributes.some((t=>e.getAttribute(t)!==this._startElement.getAttribute(t))))break}t.length&&(yield*t,t.length=0),yield e}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}class F_{constructor(t,e="forward"){this._previousNodesByIndent=[],this._previous=null,this._previousNodeIndent=null,this._node=t,this._isForward="forward"===e}[Symbol.iterator](){return this}next(){if(!V_(this._node))return{done:!0,value:void 0};const t=this._node.getAttribute("listIndent");let e=null;if(this._previous){const n=this._previousNodeIndent;t>n?this._previousNodesByIndent[n]=this._previous:t<n?(e=this._previousNodesByIndent[t]||null,this._previousNodesByIndent.length=t):e=this._previous}const n={node:this._node,previous:this._previous,previousNodeInList:e};return this._previous=this._node,this._previousNodeIndent=t,this._node=this._isForward?this._node.nextSibling:this._node.previousSibling,{value:n,done:!1}}}class j_{constructor(t){this._listHead=t}[Symbol.iterator](){return new F_(this._listHead)}}class $_{static next(){return _()}}function V_(t){return!!t&&t.is("element")&&t.hasAttribute("listItemId")}function z_(t,e={}){return[...H_(t,{...e,direction:"backward"}),...H_(t,{...e,direction:"forward"})]}function H_(t,e={}){const n="forward"==e.direction,i=Array.from(new B_(t,{...e,includeSelf:n,sameIndent:!0,sameAttributes:"listItemId"}));return n?i:i.reverse()}function U_(t,e){const n=new B_(t,{sameIndent:!0,sameAttributes:"listType",...e}),i=new B_(t,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...e});return[...Array.from(n).reverse(),...i]}function q_(t){return!B_.first(t,{sameIndent:!0,sameAttributes:"listItemId"})}function W_(t){return!B_.first(t,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function G_(t,e={}){t=Cr(t);const n=!1!==e.withNested,i=new Set;for(const e of t)for(const t of z_(e,{higherIndent:n}))i.add(t);return tk(i)}function K_(t){t=Cr(t);const e=new Set;for(const n of t)for(const t of U_(n))e.add(t);return tk(e)}function Y_(t,e){const n=H_(t,{direction:"forward"}),i=$_.next();for(const t of n)e.setAttribute("listItemId",i,t);return n}function X_(t,e,n){const i={};for(const[t,n]of e.getAttributes())t.startsWith("list")&&(i[t]=n);const r=H_(t,{direction:"forward"});for(const t of r)n.setAttributes(i,t);return r}function Z_(t,e,{expand:n,indentBy:i=1}={}){t=Cr(t);const r=n?G_(t):t;for(const t of r){const n=t.getAttribute("listIndent")+i;n<0?Q_(t,e):e.setAttribute("listIndent",n,t)}return r}function Q_(t,e){t=Cr(t);for(const n of t)n.is("element","listItem")&&e.rename(n,"paragraph");for(const n of t)for(const t of n.getAttributeKeys())t.startsWith("list")&&e.removeAttribute(t,n);return t}function J_(t){if(!t.length)return!1;const e=t[0].getAttribute("listItemId");return!!e&&!t.some((t=>t.getAttribute("listItemId")!=e))}function tk(t){return Array.from(t).filter((t=>"$graveyard"!==t.root.rootName)).sort(((t,e)=>t.index-e.index))}function ek(t){const e=t.document.selection.getSelectedElement();return e&&t.schema.isObject(e)&&t.schema.isBlock(e)?e:null}function nk(t,e){return e.checkChild(t.parent,"listItem")&&e.checkChild(t,"$text")&&!e.isObject(t)}function ik(t){return"numbered"==t||"customNumbered"==t}function rk(t,e,n){return H_(e,{direction:"forward"}).pop().index>t.index?X_(t,e,n):[]}class ok extends po{constructor(t,e){super(t),this._direction=e}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=sk(t.document.selection);t.change((t=>{const n=[];J_(e)&&!q_(e[0])?("forward"==this._direction&&n.push(...Z_(e,t)),n.push(...Y_(e[0],t))):"forward"==this._direction?n.push(...Z_(e,t,{expand:!0})):n.push(...function(t,e){const n=G_(t=Cr(t)),i=new Set,r=Math.min(...n.map((t=>t.getAttribute("listIndent")))),o=new Map;for(const t of n)o.set(t,B_.first(t,{lowerIndent:!0}));for(const t of n){if(i.has(t))continue;i.add(t);const n=t.getAttribute("listIndent")-1;if(n<0)Q_(t,e);else{if(t.getAttribute("listIndent")==r){const n=rk(t,o.get(t),e);for(const t of n)i.add(t);if(n.length)continue}e.setAttribute("listIndent",n,t)}}return tk(i)}(e,t));for(const e of n){if(!e.hasAttribute("listType"))continue;const n=B_.first(e,{sameIndent:!0});n&&t.setAttribute("listType",n.getAttribute("listType"),e)}this._fireAfterExecute(n)}))}_fireAfterExecute(t){this.fire("afterExecute",tk(new Set(t)))}_checkEnabled(){let t=sk(this.editor.model.document.selection),e=t[0];if(!e)return!1;if("backward"==this._direction)return!0;if(J_(t)&&!q_(t[0]))return!0;t=G_(t),e=t[0];const n=B_.first(e,{sameIndent:!0});return!!n&&n.getAttribute("listType")==e.getAttribute("listType")}}function sk(t){const e=Array.from(t.getSelectedBlocks()),n=e.findIndex((t=>!V_(t)));return-1!=n&&(e.length=n),e}class ak extends po{constructor(t,e,n={}){super(t),this.type=e,this._listWalkerOptions=n.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,n=e.document,i=ek(e),r=Array.from(n.selection.getSelectedBlocks()).filter((t=>e.schema.checkAttribute(t,"listType")||nk(t,e.schema))),o=void 0!==t.forceValue?!t.forceValue:this.value;e.change((s=>{if(o){const t=r[r.length-1],e=H_(t,{direction:"forward"}),n=[];e.length>1&&n.push(...Y_(e[1],s)),n.push(...Q_(r,s)),n.push(...function(t,e){const n=[];let i=Number.POSITIVE_INFINITY;for(const{node:r}of new F_(t.nextSibling)){const t=r.getAttribute("listIndent");if(0==t)break;t<i&&(i=t);const o=t-i;e.setAttribute("listIndent",o,r),n.push(r)}return n}(t,s)),this._fireAfterExecute(n)}else if((i||n.selection.isCollapsed)&&V_(r[0])){const e=U_(i||r[0],this._listWalkerOptions);for(const n of e)s.setAttributes({...t.additionalAttributes,listType:this.type},n);this._fireAfterExecute(e)}else{const n=[];for(const i of r)if(i.hasAttribute("listType"))for(const e of G_(i,{withNested:!1}))e.getAttribute("listType")!=this.type&&(s.setAttributes({...t.additionalAttributes,listType:this.type},e),n.push(e));else!i.is("element","listItem")&&nk(i,e.schema)&&s.rename(i,"listItem"),s.setAttributes({...t.additionalAttributes,listIndent:0,listItemId:$_.next(),listType:this.type},i),n.push(i);this._fireAfterExecute(n)}}))}_fireAfterExecute(t){this.fire("afterExecute",tk(new Set(t)))}_getValue(){const t=this.editor.model.document.selection,e=Array.from(t.getSelectedBlocks());if(!e.length)return!1;for(const t of e)if(t.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const t=this.editor.model,e=t.schema,n=t.document.selection,i=Array.from(n.getSelectedBlocks());if(!i.length)return!1;if(this.value)return!0;for(const t of i)if(e.checkAttribute(t,"listType")||nk(t,e))return!0;return!1}}class ck extends po{constructor(t,e){super(t),this._direction=e}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:t=!1}={}){const e=this.editor.model,n=e.document.selection,i=[];e.change((r=>{const{firstElement:o,lastElement:s}=this._getMergeSubjectElements(n,t),a=o.getAttribute("listIndent")||0,c=s.getAttribute("listIndent"),l=s.getAttribute("listItemId");if(a!=c){const t=(u=s,Array.from(new B_(u,{direction:"forward",higherIndent:!0})));i.push(...Z_([s,...t],r,{indentBy:a-c,expand:a<c}))}var u;if(t){let t=n;n.isCollapsed&&(t=r.createSelection(r.createRange(r.createPositionAt(o,"end"),r.createPositionAt(s,0)))),e.deleteContent(t,{doNotResetEntireContent:n.isCollapsed});const a=t.getLastPosition().parent,c=a.nextSibling;i.push(a),c&&c!==s&&c.getAttribute("listItemId")==l&&i.push(...X_(c,a,r))}else i.push(...X_(s,o,r));this._fireAfterExecute(i)}))}_fireAfterExecute(t){this.fire("afterExecute",tk(new Set(t)))}_checkEnabled(){const t=this.editor.model,e=t.document.selection,n=ek(t);if(e.isCollapsed||n){const t=n||e.getFirstPosition().parent;if(!V_(t))return!1;const i="backward"==this._direction?t.previousSibling:t.nextSibling;if(!i)return!1;if(J_([t,i]))return!1}else{const t=e.getLastPosition(),n=e.getFirstPosition();if(t.parent===n.parent)return!1;if(!V_(t.parent))return!1}return!0}_getMergeSubjectElements(t,e){const n=ek(this.editor.model);let i,r;if(t.isCollapsed||n){const o=n||t.getFirstPosition().parent,s=q_(o);"backward"==this._direction?(r=o,i=s&&!e?B_.first(o,{sameIndent:!0,lowerIndent:!0}):o.previousSibling):(i=o,r=o.nextSibling)}else i=t.getFirstPosition().parent,r=t.getLastPosition().parent;return{firstElement:i,lastElement:r}}}class lk extends po{constructor(t,e){super(t),this._direction=e}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change((t=>{const e=Y_(this._getStartBlock(),t);this._fireAfterExecute(e)}))}_fireAfterExecute(t){this.fire("afterExecute",tk(new Set(t)))}_checkEnabled(){const t=this.editor.model.document.selection,e=this._getStartBlock();return t.isCollapsed&&V_(e)&&!q_(e)}_getStartBlock(){const t=this.editor.model.document.selection.getFirstPosition().parent;return"before"==this._direction?t:t.nextSibling}}class uk extends fo{static get pluginName(){return"ListUtils"}static get isOfficialPlugin(){return!0}expandListBlocksToCompleteList(t){return K_(t)}isFirstBlockOfListItem(t){return q_(t)}isListItemBlock(t){return V_(t)}expandListBlocksToCompleteItems(t,e={}){return G_(t,e)}isNumberedListType(t){return ik(t)}}function hk(t){return t.is("element","ol")||t.is("element","ul")}function dk(t){return t.is("element","li")}function fk(t,e,n,i=mk(n,e)){return t.createAttributeElement(pk(n),null,{priority:2*e/100-100,id:i})}function gk(t,e,n){return t.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:n})}function pk(t){return"numbered"==t||"customNumbered"==t?"ol":"ul"}function mk(t,e){return`list-${t}-${e}`}function bk(t,e,n){const i=t.nodeBefore;if(V_(i)){let t=i;for(const{node:r}of new F_(t,"backward")){if(t=r,n.has(t))return;if(n.add(t),e.has(i))return}e.add(t)}else{const n=t.nodeAfter;V_(n)&&e.add(n)}}function wk(){return(t,e,n)=>{const{writer:i,schema:r}=n;if(!e.modelRange)return;const o=Array.from(e.modelRange.getItems({shallow:!0})).filter((t=>r.checkAttribute(t,"listItemId")));if(!o.length)return;const s=$_.next(),a=function(t){let e=0,n=t.parent;for(;n;){if(dk(n))e++;else{const t=n.previousSibling;t&&dk(t)&&e++}n=n.parent}return e}(e.viewItem);let c=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const l=o[0].getAttribute("listType");l&&(c=l);const u={listItemId:s,listIndent:a,listType:c};for(const t of o)t.hasAttribute("listItemId")||i.setAttributes(u,t);o.length>1&&o[1].getAttribute("listItemId")!=u.listItemId&&n.keepEmptyElement(o[0])}}function yk(t,e,n,{dataPipeline:i}={}){const r=function(t){return(e,n)=>{const i=[];for(const n of t)e.hasAttribute(n)&&i.push(`attribute:${n}`);return!!i.every((t=>!1!==n.test(e,t)))&&(i.forEach((t=>n.consume(e,t))),!0)}}(t);return(o,s,a)=>{const{writer:c,mapper:l,consumable:u}=a,h=s.item;if(!t.includes(s.attributeKey))return;if(!r(h,u))return;const d=function(t,e,n){const i=n.createRangeOn(t),r=e.toViewRange(i).getTrimmed();return r.end.nodeBefore}(h,l,n);_k(d,c,l),function(t,e){let n=t.parent;for(;n.is("attributeElement")&&["ul","ol","li"].includes(n.name);){const i=n.parent;e.unwrap(e.createRangeOn(t),n),n=i}}(d,c);const f=function(t,e,n,i,{dataPipeline:r}){let o=i.createRangeOn(e);if(!q_(t))return o;for(const s of n){if("itemMarker"!=s.scope)continue;const n=s.createElement(i,t,{dataPipeline:r});if(!n)continue;if(i.setCustomProperty("listItemMarker",!0,n),s.canInjectMarkerIntoElement&&s.canInjectMarkerIntoElement(t)?i.insert(i.createPositionAt(e,0),n):(i.insert(o.start,n),o=i.createRange(i.createPositionBefore(n),i.createPositionAfter(e))),!s.createWrapperElement||!s.canWrapElement)continue;const a=s.createWrapperElement(i,t,{dataPipeline:r});i.setCustomProperty("listItemWrapper",!0,a),s.canWrapElement(t)?o=i.wrap(o,a):(o=i.wrap(i.createRangeOn(n),a),o=i.createRange(o.start,i.createPositionAfter(e)))}return o}(h,d,e,c,{dataPipeline:i});!function(t,e,n,i){if(!t.hasAttribute("listIndent"))return;const r=t.getAttribute("listIndent");let o=t;for(let t=r;t>=0;t--){const r=gk(i,t,o.getAttribute("listItemId")),s=fk(i,t,o.getAttribute("listType"));for(const t of n)"list"!=t.scope&&"item"!=t.scope||!o.hasAttribute(t.attributeName)||t.setAttributeOnDowncast(i,o.getAttribute(t.attributeName),"list"==t.scope?s:r);if(e=i.wrap(e,r),e=i.wrap(e,s),0==t)break;if(o=B_.first(o,{lowerIndent:!0}),!o)break}}(h,f,e,c)}}function vk(t,{dataPipeline:e}={}){return(n,{writer:i})=>{if(!kk(n,t))return null;if(!e)return i.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const r=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,r),r}}function _k(t,e,n){for(;t.parent.is("attributeElement")&&t.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeOn(t),t.parent);const i=[];r(e.createPositionBefore(t).getWalker({direction:"backward"})),r(e.createRangeIn(t).getWalker());for(const t of i)e.remove(t);function r(t){for(const{item:e}of t){if(e.is("element")&&n.toModelElement(e))break;e.is("element")&&e.getCustomProperty("listItemMarker")&&i.push(e)}}}function kk(t,e,n=z_(t)){if(!V_(t))return!1;for(const n of t.getAttributeKeys())if(!n.startsWith("selection:")&&!e.includes(n))return!1;return n.length<2}const xk=["listType","listIndent","listItemId"];class Ek extends fo{static get pluginName(){return"ListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[ab,Rm,uk,ym]}constructor(t){super(t),this._downcastStrategies=[],t.config.define("list.multiBlock",!0)}init(){const t=this.editor,e=t.model,n=t.config.get("list.multiBlock");if(t.plugins.has("LegacyListEditing"))throw new E("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});e.schema.register("$listItem",{allowAttributes:xk}),n?(e.schema.extend("$container",{allowAttributesOf:"$listItem"}),e.schema.extend("$block",{allowAttributesOf:"$listItem"}),e.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):e.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const t of xk)e.schema.setAttributeProperties(t,{copyOnReplace:!0});t.commands.add("numberedList",new ak(t,"numbered")),t.commands.add("bulletedList",new ak(t,"bulleted")),t.commands.add("customNumberedList",new ak(t,"customNumbered",{multiLevel:!0})),t.commands.add("customBulletedList",new ak(t,"customBulleted",{multiLevel:!0})),t.commands.add("indentList",new ok(t,"forward")),t.commands.add("outdentList",new ok(t,"backward")),t.commands.add("splitListItemBefore",new lk(t,"before")),t.commands.add("splitListItemAfter",new lk(t,"after")),n&&(t.commands.add("mergeListItemBackward",new ck(t,"backward")),t.commands.add("mergeListItemForward",new ck(t,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const t=this.editor.commands,e=t.get("indent"),n=t.get("outdent");e&&e.registerChildCommand(t.get("indentList"),{priority:"high"}),n&&n.registerChildCommand(t.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(t){this._downcastStrategies.push(t)}getListAttributeNames(){return[...xk,...this._downcastStrategies.map((t=>t.attributeName))]}_setupDeleteIntegration(){const t=this.editor,e=t.commands.get("mergeListItemBackward"),n=t.commands.get("mergeListItemForward");this.listenTo(t.editing.view.document,"delete",((i,r)=>{const o=t.model.document.selection;ek(t.model)||t.model.change((()=>{const s=o.getFirstPosition();if(o.isCollapsed&&"backward"==r.direction){if(!s.isAtStart)return;const n=s.parent;if(!V_(n))return;if(B_.first(n,{sameAttributes:"listType",sameIndent:!0})||0!==n.getAttribute("listIndent")){if(!e||!e.isEnabled)return;e.execute({shouldMergeOnBlocksContentLevel:Tk(t.model,"backward")})}else W_(n)||t.execute("splitListItemAfter"),t.execute("outdentList");r.preventDefault(),i.stop()}else{if(o.isCollapsed&&!o.getLastPosition().isAtEnd)return;if(!n||!n.isEnabled)return;n.execute({shouldMergeOnBlocksContentLevel:Tk(t.model,"forward")}),r.preventDefault(),i.stop()}}))}),{context:"li"})}_setupEnterIntegration(){const t=this.editor,e=t.model,n=t.commands,i=n.get("enter");this.listenTo(t.editing.view.document,"enter",((n,i)=>{const r=e.document,o=r.selection.getFirstPosition().parent;if(r.selection.isCollapsed&&V_(o)&&o.isEmpty&&!i.isSoft){const e=q_(o),r=W_(o);e&&r?(t.execute("outdentList"),i.preventDefault(),n.stop()):e&&!r?(t.execute("splitListItemAfter"),i.preventDefault(),n.stop()):r&&(t.execute("splitListItemBefore"),i.preventDefault(),n.stop())}}),{context:"li"}),this.listenTo(i,"afterExecute",(()=>{const e=n.get("splitListItemBefore");if(e.refresh(),!e.isEnabled)return;2===z_(t.model.document.selection.getLastPosition().parent).length&&e.execute()}))}_setupTabIntegration(){const t=this.editor;this.listenTo(t.editing.view.document,"tab",((e,n)=>{const i=n.shiftKey?"outdentList":"indentList";this.editor.commands.get(i).isEnabled&&(t.execute(i),n.stopPropagation(),n.preventDefault(),e.stop())}),{context:"li"})}_setupConversion(){const t=this.editor,e=t.model,n=this.getListAttributeNames(),i=t.config.get("list.multiBlock"),r=i?"paragraph":"listItem";t.conversion.for("upcast").elementToElement({view:"li",model:(t,{writer:e})=>e.createElement(r,{listType:""})}).elementToElement({view:"p",model:(t,{writer:e})=>t.parent&&t.parent.is("element","li")?e.createElement(r,{listType:""}):null,converterPriority:"high"}).add((t=>{t.on("element:li",wk())})),i||t.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),t.conversion.for("editingDowncast").elementToElement({model:r,view:vk(n),converterPriority:"high"}).add((t=>{var i;t.on("attribute",yk(n,this._downcastStrategies,e)),t.on("remove",(i=e.schema,(t,e,n)=>{const{writer:r,mapper:o}=n,s=t.name.split(":")[1];if(!i.checkAttribute(s,"listItemId"))return;const a=o.toViewPosition(e.position),c=e.position.getShiftedBy(e.length),l=o.toViewPosition(c,{isPhantom:!0}),u=r.createRange(a,l).getTrimmed().end.nodeBefore;u&&_k(u,r,o)}))})),t.conversion.for("dataDowncast").elementToElement({model:r,view:vk(n,{dataPipeline:!0}),converterPriority:"high"}).add((t=>{t.on("attribute",yk(n,this._downcastStrategies,e,{dataPipeline:!0}))}));const o=(s=this._downcastStrategies,a=t.editing.view,(t,e)=>{if(e.modelPosition.offset>0)return;const n=e.modelPosition.parent;if(!V_(n))return;if(!s.some((t=>"itemMarker"==t.scope&&t.canInjectMarkerIntoElement&&t.canInjectMarkerIntoElement(n))))return;const i=e.mapper.toViewElement(n),r=a.createRangeIn(i),o=r.getWalker();let c=r.start;for(const{item:t}of o){if(t.is("element")&&e.mapper.toModelElement(t)||t.is("$textProxy"))break;t.is("element")&&t.getCustomProperty("listItemMarker")&&(c=a.createPositionAfter(t),o.skip((({previousPosition:t})=>!t.isEqual(c))))}e.viewPosition=c});var s,a;t.editing.mapper.on("modelToViewPosition",o),t.data.mapper.on("modelToViewPosition",o),this.listenTo(e.document,"change:data",function(t,e,n,i){return()=>{const i=t.document.differ.getChanges(),s=[],a=new Set,c=new Set,l=new Set;for(const t of i)if("insert"==t.type&&"$text"!=t.name)bk(t.position,a,l),t.attributes.has("listItemId")?c.add(t.position.nodeAfter):bk(t.position.getShiftedBy(t.length),a,l);else if("remove"==t.type&&t.attributes.has("listItemId"))bk(t.position,a,l);else if("attribute"==t.type){const e=t.range.start.nodeAfter;n.includes(t.attributeKey)?(bk(t.range.start,a,l),null===t.attributeNewValue?(bk(t.range.start.getShiftedBy(1),a,l),o(e)&&s.push(e)):c.add(e)):V_(e)&&o(e)&&s.push(e)}for(const t of a.values())s.push(...r(t,c));for(const t of new Set(s))e.reconvertItem(t)};function r(t,e){const i=[],r=new Set,a=[];for(const{node:c,previous:l}of new F_(t)){if(r.has(c))continue;const t=c.getAttribute("listIndent");l&&t<l.getAttribute("listIndent")&&(a.length=t+1),a[t]=Object.fromEntries(Array.from(c.getAttributes()).filter((([t])=>n.includes(t))));const u=H_(c,{direction:"forward"});for(const t of u)r.add(t),(o(t,u)||s(t,a,e))&&i.push(t)}return i}function o(t,r){const o=e.mapper.toViewElement(t);if(!o)return!1;if(i.fire("checkElement",{modelElement:t,viewElement:o}))return!0;if(!t.is("element","paragraph")&&!t.is("element","listItem"))return!1;const s=kk(t,n,r);return!(!s||!o.is("element","p"))||!(s||!o.is("element","span"))}function s(t,n,r){if(r.has(t))return!1;const o=e.mapper.toViewElement(t);let s=n.length-1;for(let t=o.parent;!t.is("editableElement");t=t.parent){const e=dk(t),r=hk(t);if(!r&&!e)continue;const o="checkAttributes:"+(e?"item":"list");if(i.fire(o,{viewElement:t,modelAttributes:n[s]}))break;if(r&&(s--,s<0))return!1}return!0}}(e,t.editing,n,this),{priority:"high"}),this.on("checkAttributes:item",((t,{viewElement:e,modelAttributes:n})=>{e.id!=n.listItemId&&(t.return=!0,t.stop())})),this.on("checkAttributes:list",((t,{viewElement:e,modelAttributes:n})=>{e.name==pk(n.listType)&&e.id==mk(n.listType,n.listIndent)||(t.return=!0,t.stop())}))}_setupModelPostFixing(){const t=this.editor.model,e=this.getListAttributeNames();t.document.registerPostFixer((n=>function(t,e,n,i){const r=t.document.differ.getChanges(),o=new Set,s=new Set,a=i.editor.config.get("list.multiBlock");let c=!1;for(const i of r){if("insert"==i.type&&"$text"!=i.name){const r=i.position.nodeAfter;if(!t.schema.checkAttribute(r,"listItemId"))for(const t of Array.from(r.getAttributeKeys()))n.includes(t)&&(e.removeAttribute(t,r),c=!0);bk(i.position,s,o),i.attributes.has("listItemId")||bk(i.position.getShiftedBy(i.length),s,o);for(const{item:e,previousPosition:n}of t.createRangeIn(r))V_(e)&&bk(n,s,o)}else"remove"==i.type?bk(i.position,s,o):"attribute"==i.type&&n.includes(i.attributeKey)&&(bk(i.range.start,s,o),null===i.attributeNewValue&&bk(i.range.start.getShiftedBy(1),s,o));if(!a&&"attribute"==i.type&&xk.includes(i.attributeKey)){const t=i.range.start.nodeAfter;null===i.attributeNewValue&&t&&t.is("element","listItem")?(e.rename(t,"paragraph"),c=!0):null===i.attributeOldValue&&t&&t.is("element")&&"listItem"!=t.name&&(e.rename(t,"listItem"),c=!0)}}const l=new Set;for(const t of s.values())c=i.fire("postFixer",{listNodes:new j_(t),listHead:t,writer:e,seenIds:l})||c;return c}(t,n,e,this))),this.on("postFixer",((t,{listNodes:e,writer:n})=>{t.return=function(t,e){let n=0,i=-1,r=null,o=!1;for(const{node:s}of t){const t=s.getAttribute("listIndent");if(t>n){let a;null===r?(r=t-n,a=n):(r>t&&(r=t),a=t-r),a>i+1&&(a=i+1),e.setAttribute("listIndent",a,s),o=!0,i=a}else r=null,n=t+1,i=t}return o}(e,n)||t.return}),{priority:"high"}),this.on("postFixer",((t,{listNodes:e,writer:n,seenIds:i})=>{t.return=function(t,e,n){const i=new Set;let r=!1;for(const{node:o}of t){if(i.has(o))continue;let t=o.getAttribute("listType"),s=o.getAttribute("listItemId");if(e.has(s)&&(s=$_.next()),e.add(s),o.is("element","listItem"))o.getAttribute("listItemId")!=s&&(n.setAttribute("listItemId",s,o),r=!0);else for(const e of H_(o,{direction:"forward"}))i.add(e),e.getAttribute("listType")!=t&&(s=$_.next(),t=e.getAttribute("listType")),e.getAttribute("listItemId")!=s&&(n.setAttribute("listItemId",s,e),r=!0)}return r}(e,i,n)||t.return}),{priority:"high"})}_setupClipboardIntegration(){const t=this.editor.model,e=this.editor.plugins.get("ClipboardPipeline");this.listenTo(t,"insertContent",function(t){return(e,[n,i])=>{const r=n.is("documentFragment")?Array.from(n.getChildren()):[n];if(!r.length)return;const o=(i?t.createSelection(i):t.document.selection).getFirstPosition();let s;if(V_(o.parent))s=o.parent;else{if(!V_(o.nodeBefore)||!V_(o.nodeAfter))return;s=o.nodeBefore}t.change((t=>{const e=s.getAttribute("listType"),n=s.getAttribute("listIndent"),i=r[0].getAttribute("listIndent")||0,o=Math.max(n-i,0);for(const n of r){const i=V_(n);s.is("element","listItem")&&n.is("element","paragraph")&&t.rename(n,"listItem"),t.setAttributes({listIndent:(i?n.getAttribute("listIndent"):0)+o,listItemId:i?n.getAttribute("listItemId"):$_.next(),listType:e},n)}}))}}(t),{priority:"high"}),this.listenTo(e,"outputTransformation",((e,n)=>{t.change((t=>{const e=Array.from(n.content.getChildren()),i=e[e.length-1];if(e.length>1&&i.is("element")&&i.isEmpty){e.slice(0,-1).every(V_)&&t.remove(i)}if("copy"==n.method||"cut"==n.method){const e=Array.from(n.content.getChildren());J_(e)&&Q_(e,t)}}))}))}_setupAccessibilityIntegration(){const t=this.editor,e=t.t;t.accessibility.addKeystrokeInfoGroup({id:"list",label:e("Keystrokes that can be used in a list"),keystrokes:[{label:e("Increase list item indent"),keystroke:"Tab"},{label:e("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function Tk(t,e){const n=t.document.selection;if(!n.isCollapsed)return!ek(t);if("forward"===e)return!0;const i=n.getFirstPosition().parent,r=i.previousSibling;return!t.schema.isObject(r)&&(!!r.isEmpty||J_([i,r]))}function Ck(t,e,n,i){t.ui.componentFactory.add(e,(()=>{const r=Ak(Od,t,e,n,i);return r.set({tooltip:!0,isToggleable:!0}),r})),t.ui.componentFactory.add(`menuBar:${e}`,(()=>{const r=Ak(tf,t,e,n,i);return r.set({role:"menuitemcheckbox",isToggleable:!0}),r}))}function Ak(t,e,n,i,r){const o=e.commands.get(n),s=new t(e.locale);return s.set({label:i,icon:r}),s.bind("isOn","isEnabled").to(o,"value","isEnabled"),s.on("execute",(()=>{e.execute(n),e.editing.view.focus()})),s}class Sk extends fo{static get pluginName(){return"ListUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||Ck(this.editor,"numberedList",t("Numbered List"),ed.numberedList),this.editor.ui.componentFactory.has("bulletedList")||Ck(this.editor,"bulletedList",t("Bulleted List"),ed.bulletedList)}}class Ik extends fo{static get requires(){return[Ek,Sk]}static get pluginName(){return"List"}static get isOfficialPlugin(){return!0}}const Mk={},Pk={},Ok={},Dk=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:t,typeAttribute:e,listType:n}of Dk)Mk[t]=n,Pk[t]=e,e&&(Ok[e]=t);function Nk(t,e){const n=(n,i,r)=>{if(!r.consumable.consume(i.item,n.name))return;const o=i.attributeNewValue,s=r.writer,a=r.mapper.toViewElement(i.item),c=[...a.getChildren()].find((t=>t.getCustomProperty("media-content")));s.remove(c);const l=t.getMediaViewElement(s,o,e);s.insert(s.createPositionAt(a,0),l)};return t=>{t.on("attribute:url:media",n)}}function Lk(t,e,n,i){return t.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(t,n,i),t.createSlot()])}function Rk(t){const e=t.getSelectedElement();return e&&e.is("element","media")?e:null}function Bk(t,e,n,i){t.change((r=>{const o=r.createElement("media",{url:e});t.insertObject(o,n,null,{setSelection:"on",findOptimalPosition:i?"auto":void 0})}))}class Fk extends po{refresh(){const t=this.editor.model,e=t.document.selection,n=Rk(e);this.value=n?n.getAttribute("url"):void 0,this.isEnabled=function(t){const e=t.getSelectedElement();return!!e&&"media"===e.name}(e)||function(t,e){const n=Eb(t,e);let i=n.start.parent;i.isEmpty&&!e.schema.isLimit(i)&&(i=i.parent);return e.schema.checkChild(i,"media")}(e,t)}execute(t){const e=this.editor.model,n=e.document.selection,i=Rk(n);i?e.change((e=>{e.setAttribute("url",t,i)})):Bk(e,t,n,!0)}}class jk{constructor(t,e){const n=e.providers,i=e.extraProviders||[],r=new Set(e.removeProviders),o=n.concat(i).filter((t=>{const e=t.name;return e?!r.has(e):(T("media-embed-no-provider-name",{provider:t}),!1)}));this.locale=t,this.providerDefinitions=o}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,e,n){return this._getMedia(e).getViewElement(t,n)}_getMedia(t){if(!t)return new $k(this.locale);t=t.trim();for(const e of this.providerDefinitions){const n=e.html,i=Cr(e.url);for(const e of i){const i=this._getUrlMatches(t,e);if(i)return new $k(this.locale,t,i,n)}}return null}_getUrlMatches(t,e){let n=t.match(e);if(n)return n;let i=t.replace(/^https?:\/\//,"");return n=i.match(e),n||(i=i.replace(/^www\./,""),n=i.match(e),n||null)}}class $k{constructor(t,e,n,i){this.url=this._getValidUrl(e),this._locale=t,this._match=n,this._previewRenderer=i}getViewElement(t,e){const n={};let i;if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),e.renderForEditingView&&(n.class="ck-media__wrapper");const r=this._getPreviewHtml(e);i=t.createRawElement("div",n,((t,e)=>{e.setContentOf(t,r)}))}else this.url&&(n.url=this.url),i=t.createEmptyElement(e.elementName,n);return t.setCustomProperty("media-content",!0,i),i}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new Md,e=this._locale.t;t.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',t.viewBox="0 0 64 42";return new id({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":e("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}class Vk extends fo{static get pluginName(){return"MediaEmbedEditing"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/shorts\/([\w-]+)(?:\?t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const e=t[1],n=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${e}${n?`?start=${n}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:[/^instagram\.com\/p\/(\w+)/,/^instagram\.com\/reel\/(\w+)/]},{name:"twitter",url:[/^twitter\.com/,/^x\.com/]},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new jk(t.locale,t.config.get("mediaEmbed"))}init(){const t=this.editor,e=t.model.schema,n=t.t,i=t.conversion,r=t.config.get("mediaEmbed.previewsInData"),o=t.config.get("mediaEmbed.elementName"),s=this.registry;t.commands.add("mediaEmbed",new Fk(t)),e.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),i.for("dataDowncast").elementToStructure({model:"media",view:(t,{writer:e})=>{const n=t.getAttribute("url");return Lk(e,s,n,{elementName:o,renderMediaPreview:!!n&&r})}}),i.for("dataDowncast").add(Nk(s,{elementName:o,renderMediaPreview:r})),i.for("editingDowncast").elementToStructure({model:"media",view:(t,{writer:e})=>{const i=t.getAttribute("url");return function(t,e,n){return e.setCustomProperty("media",!0,t),yb(t,e,{label:n})}(Lk(e,s,i,{elementName:o,renderForEditingView:!0}),e,n("media widget"))}}),i.for("editingDowncast").add(Nk(s,{elementName:o,renderForEditingView:!0})),i.for("upcast").elementToElement({view:t=>["oembed",o].includes(t.name)&&t.getAttribute("url")?{name:!0}:null,model:(t,{writer:e})=>{const n=t.getAttribute("url");return s.hasMedia(n)?e.createElement("media",{url:n}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(t,{writer:e})=>{const n=t.getAttribute("data-oembed-url");return s.hasMedia(n)?e.createElement("media",{url:n}):null}}).add((t=>{t.on("element:figure",((t,e,n)=>{if(!n.consumable.consume(e.viewItem,{name:!0,classes:"media"}))return;const{modelRange:i,modelCursor:r}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=i,e.modelCursor=r;Zr(i.getItems())||n.consumable.revert(e.viewItem,{name:!0,classes:"media"})}))}))}}const zk=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class Hk extends fo{static get requires(){return[aw,Rm,pw]}static get pluginName(){return"AutoMediaEmbed"}static get isOfficialPlugin(){return!0}constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){const t=this.editor,n=t.model.document,i=t.plugins.get("ClipboardPipeline");this.listenTo(i,"inputTransformation",(()=>{const t=n.selection.getFirstRange(),e=$u.fromPosition(t.start);e.stickiness="toPrevious";const i=$u.fromPosition(t.end);i.stickiness="toNext",n.once("change:data",(()=>{this._embedMediaBetweenPositions(e,i),e.detach(),i.detach()}),{priority:"high"})}));t.commands.get("undo").on("execute",(()=>{this._timeoutId&&(e.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)}),{priority:"high"})}_embedMediaBetweenPositions(t,n){const i=this.editor,r=i.plugins.get(Vk).registry,o=new Kc(t,n),s=o.getWalker({ignoreElementEnd:!0});let a="";for(const t of s)t.item.is("$textProxy")&&(a+=t.item.data);if(a=a.trim(),!a.match(zk))return void o.detach();if(!r.hasMedia(a))return void o.detach();i.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=$u.fromPosition(t),this._timeoutId=e.window.setTimeout((()=>{i.model.change((t=>{this._timeoutId=null,t.remove(o),o.detach();let e=null;"$graveyard"!==this._positionToInsert.root.rootName&&(e=this._positionToInsert),Bk(i.model,a,e,!1),this._positionToInsert.detach(),this._positionToInsert=null})),i.plugins.get(Rm).requestUndoOnBackspace()}),100)):o.detach()}}class Uk extends Ed{constructor(t,e){super(e),this.focusTracker=new Qr,this.keystrokes=new no,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView]})}render(){super.render(),Ad({view:this}),this.focusTracker.add(this.urlInputView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.urlInputView.focus()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(t){this.urlInputView.fieldView.value=t.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const t=this.locale.t,e=new pf(this.locale,ng),n=e.fieldView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),e.label=t("Media URL"),e.infoText=this._urlInputViewInfoDefault,n.inputMode="url",n.on("input",(()=>{e.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()})),e}}class qk extends fo{static get requires(){return[Vk,Zd]}static get pluginName(){return"MediaEmbedUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor;t.ui.componentFactory.add("mediaEmbed",(()=>{const t=this.editor.locale.t,e=this._createDialogButton(Od);return e.tooltip=!0,e.label=t("Insert media"),e})),t.ui.componentFactory.add("menuBar:mediaEmbed",(()=>{const t=this.editor.locale.t,e=this._createDialogButton(tf);return e.label=t("Media"),e}))}_createDialogButton(t){const e=this.editor,n=new t(e.locale),i=e.commands.get("mediaEmbed"),r=this.editor.plugins.get("Dialog");return n.icon='<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',n.bind("isEnabled").to(i,"isEnabled"),n.on("execute",(()=>{"mediaEmbed"===r.id?r.hide():this._showDialog()})),n}_showDialog(){const t=this.editor,e=t.plugins.get("Dialog"),n=t.commands.get("mediaEmbed"),i=t.locale.t;if(!this._formView){const e=t.plugins.get(Vk).registry;this._formView=new(Cd(Uk))(function(t,e){return[e=>{if(!e.url.length)return t("The URL must not be empty.")},n=>{if(!e.hasMedia(n.url))return t("This media URL is not supported.")}]}(t.t,e),t.locale),this._formView.on("submit",(()=>this._handleSubmitForm()))}e.show({id:"mediaEmbed",title:i("Insert media"),content:this._formView,isModal:!0,onShow:()=>{this._formView.url=n.value||"",this._formView.resetFormStatus(),this._formView.urlInputView.fieldView.select()},actionButtons:[{label:i("Cancel"),withText:!0,onExecute:()=>e.hide()},{label:i("Accept"),class:"ck-button-action",withText:!0,onExecute:()=>this._handleSubmitForm()}]})}_handleSubmitForm(){const t=this.editor,e=t.plugins.get("Dialog");this._formView.isValid()&&(t.execute("mediaEmbed",this._formView.url),e.hide(),t.editing.view.focus())}}function Wk(t){return void 0!==t&&t.endsWith("px")}function Gk(t){return t.toFixed(2).replace(/\.?0+$/,"")+"px"}function Kk(t,e,n){if(!t.childCount)return;const i=new Ih(t.document),r=function(t,e){const n=e.createRangeIn(t),i=[],r=new Set;for(const t of n.getItems()){if(!t.is("element")||!t.name.match(/^(p|h\d+|li|div)$/))continue;let e=nx(t);if(void 0===e||0!=parseFloat(e)||Array.from(t.getClassNames()).find((t=>t.startsWith("MsoList")))||(e=void 0),t.hasStyle("mso-list")||void 0!==e&&r.has(e)){const n=tx(t);i.push({element:t,id:n.id,order:n.order,indent:n.indent,marginLeft:e}),void 0!==e&&r.add(e)}else r.clear()}return i}(t,i);if(!r.length)return;const o={},s=[];for(const t of r)if(void 0!==t.indent){Yk(t)||(s.length=0);const r=`${t.id}:${t.indent}`,a=Math.min(t.indent-1,s.length);if(a<s.length&&s[a].id!==t.id&&(s.length=a),a<s.length-1)s.length=a+1;else{const c=Zk(t,e);if(a>s.length-1||s[a].listElement.name!=c.type){0==a&&"ol"==c.type&&void 0!==t.id&&o[r]&&(c.startIndex=o[r]);const e=Jk(c,i,n);if(Wk(t.marginLeft)&&(0==a||Wk(s[a-1].marginLeft))){let n=t.marginLeft;a>0&&(n=Gk(parseFloat(n)-parseFloat(s[a-1].marginLeft))),i.setStyle("padding-left",n,e)}if(0==s.length){const n=t.element.parent,r=n.getChildIndex(t.element)+1;i.insertChild(r,e,n)}else{const t=s[a-1].listItemElements;i.appendChild(e,t[t.length-1])}s[a]={...t,listElement:e,listItemElements:[]},0==a&&void 0!==t.id&&(o[r]=c.startIndex||1)}}const c="li"==t.element.name?t.element:i.createElement("li");i.appendChild(c,s[a].listElement),s[a].listItemElements.push(c),0==a&&void 0!==t.id&&o[r]++,t.element!=c&&i.appendChild(t.element,c),ex(t.element,i),i.removeStyle("text-indent",t.element),i.removeStyle("margin-left",t.element)}else{const e=s.find((e=>e.marginLeft==t.marginLeft));if(e){const n=e.listItemElements;i.appendChild(t.element,n[n.length-1]),i.removeStyle("margin-left",t.element)}else s.length=0}}function Yk(t){const e=t.element.previousSibling;return Xk(e||t.element.parent)}function Xk(t){return t.is("element","ol")||t.is("element","ul")}function Zk(t,e){const n=new RegExp(`@list l${t.id}:level${t.indent}\\s*({[^}]*)`,"gi"),i=/mso-level-number-format:([^;]{0,100});/gi,r=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,o=new RegExp(`@list\\s+l${t.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),s=new RegExp(`@list l${t.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),a=o.exec(e),c=s.exec(e),l=a&&!c,u=n.exec(e);let h="decimal",d="ol",f=null;if(u&&u[1]){const e=i.exec(u[1]);if(e&&e[1]&&(h=e[1].trim(),d="bullet"!==h&&"image"!==h?"ol":"ul"),"bullet"===h){const e=function(t){if("li"==t.name&&"ul"==t.parent.name&&t.parent.hasAttribute("type"))return t.parent.getAttribute("type");const e=function(t){if(t.getChild(0).is("$text"))return null;for(const e of t.getChildren()){if(!e.is("element","span"))continue;const t=e.getChild(0);if(t)return t.is("$text")?t:t.getChild(0)}return null}(t);if(!e)return null;const n=e._data;if("o"===n)return"circle";if("·"===n)return"disc";if("§"===n)return"square";return null}(t.element);e&&(h=e)}else{const t=r.exec(u[1]);t&&t[1]&&(f=parseInt(t[1]))}l&&(d="ol")}return{type:d,startIndex:f,style:Qk(h),isLegalStyleList:l}}function Qk(t){if(t.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(t){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return t;default:return null}}function Jk(t,e,n){const i=e.createElement(t.type);return t.style&&e.setStyle("list-style-type",t.style,i),t.startIndex&&t.startIndex>1&&e.setAttribute("start",t.startIndex,i),t.isLegalStyleList&&n&&e.addClass("legal-list",i),i}function tx(t){const e=t.getStyle("mso-list");if(void 0===e)return{};const n=e.match(/(^|\s{1,100})l(\d+)/i),i=e.match(/\s{0,100}lfo(\d+)/i),r=e.match(/\s{0,100}level(\d+)/i);return n&&i&&r?{id:n[2],order:i[1],indent:parseInt(r[1])}:{indent:1}}function ex(t,e){const n=new es({name:"span",styles:{"mso-list":"Ignore"}}),i=e.createRangeIn(t);for(const t of i)"elementStart"===t.type&&n.match(t.item)&&e.remove(t.item)}function nx(t){const e=t.getStyle("margin-left");return void 0===e||e.endsWith("px")?e:function(t){const e=parseFloat(t);return t.endsWith("pt")?Gk(96*e/72):t.endsWith("pc")?Gk(12*e*96/72):t.endsWith("in")?Gk(96*e):t.endsWith("cm")?Gk(96*e/2.54):t.endsWith("mm")?Gk(e/10*96/2.54):t}(e)}function ix(t,e){if(!t.childCount)return;const n=new Ih(t.document),i=function(t,e){const n=e.createRangeIn(t),i=new es({name:/v:(.+)/}),r=[];for(const t of n){if("elementStart"!=t.type)continue;const e=t.item,n=e.previousSibling,o=n&&n.is("element")?n.name:null,s=["Chart"],a=i.match(e),c=e.getAttribute("o:gfxdata"),l="v:shapetype"===o,u=c&&s.some((t=>e.getAttribute("id").includes(t)));a&&c&&!l&&!u&&r.push(t.item.getAttribute("id"))}return r}(t,n);!function(t,e,n){const i=n.createRangeIn(e),r=new es({name:"img"}),o=[];for(const e of i)if(e.item.is("element")&&r.match(e.item)){const n=e.item,i=n.getAttribute("v:shapes")?n.getAttribute("v:shapes").split(" "):[];i.length&&i.every((e=>t.indexOf(e)>-1))?o.push(n):n.getAttribute("src")||o.push(n)}for(const t of o)n.remove(t)}(i,t,n),function(t,e,n){const i=n.createRangeIn(e),r=[];for(const e of i)if("elementStart"==e.type&&e.item.is("element","v:shape")){const n=e.item.getAttribute("id");if(t.includes(n))continue;o(e.item.parent.getChildren(),n)||r.push(e.item)}for(const t of r){const e={src:s(t)};t.hasAttribute("alt")&&(e.alt=t.getAttribute("alt"));const i=n.createElement("img",e);n.insertChild(t.index+1,i,t.parent)}function o(t,e){for(const n of t)if(n.is("element")){if("img"==n.name&&n.getAttribute("v:shapes")==e)return!0;if(o(n.getChildren(),e))return!0}return!1}function s(t){for(const e of t.getChildren())if(e.is("element")&&e.getAttribute("src"))return e.getAttribute("src")}}(i,t,n),function(t,e){const n=e.createRangeIn(t),i=new es({name:/v:(.+)/}),r=[];for(const t of n)"elementStart"==t.type&&i.match(t.item)&&r.push(t.item);for(const t of r)e.remove(t)}(t,n);const r=function(t,e){const n=e.createRangeIn(t),i=new es({name:"img"}),r=[];for(const t of n)t.item.is("element")&&i.match(t.item)&&t.item.getAttribute("src").startsWith("file://")&&r.push(t.item);return r}(t,n);r.length&&function(t,e,n){if(t.length===e.length)for(let i=0;i<t.length;i++){const r=`data:${e[i].type};base64,${rx(e[i].hex)}`;n.setAttribute("src",r,t[i])}}(r,function(t){if(!t)return[];const e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),i=t.match(n),r=[];if(i)for(const t of i){let n=!1;t.includes("\\pngblip")?n="image/png":t.includes("\\jpegblip")&&(n="image/jpeg"),n&&r.push({hex:t.replace(e,"").replace(/[^\da-fA-F]/g,""),type:n})}return r}(e),n)}function rx(t){return btoa(t.match(/\w{2}/g).map((t=>String.fromCharCode(parseInt(t,16)))).join(""))}const ox=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,sx=/xmlns:o="urn:schemas-microsoft-com/i;class ax{constructor(t,e=!1){this.document=t,this.hasMultiLevelListPlugin=e}isActive(t){return ox.test(t)||sx.test(t)}execute(t){const e=new Ih(this.document),{body:n,stylesString:i}=t._parsedData;!function(t,e){const n=[];for(const i of e.createRangeIn(t)){const t=i.item;t.is("element","a")&&!t.hasAttribute("href")&&(t.hasAttribute("id")||t.hasAttribute("name"))&&n.push(t)}for(const t of n){const n=t.parent.getChildIndex(t)+1,i=t.getChildren();e.insertChild(n,i,t.parent)}}(n,e),Kk(n,i,this.hasMultiLevelListPlugin),ix(n,t.dataTransfer.getData("text/rtf")),function(t){const e=[],n=new Ih(t.document);for(const{item:i}of n.createRangeIn(t))if(i.is("element")){for(const t of i.getClassNames())/\bmso/gi.exec(t)&&n.removeClass(t,i);for(const t of i.getStyleNames())/\bmso/gi.exec(t)&&n.removeStyle(t,i);(i.is("element","w:sdt")||i.is("element","w:sdtpr")&&i.isEmpty||i.is("element","o:p")&&i.isEmpty)&&e.push(i)}for(const t of e){const e=t.parent,i=e.getChildIndex(t);n.insertChild(i,t.getChildren(),e),n.remove(t)}}(n),t.content=n}}function cx(t,e,n,{blockElements:i,inlineObjectElements:r}){let o=n.createPositionAt(t,"forward"==e?"after":"before");return o=o.getLastMatchingPosition((({item:t})=>t.is("element")&&!i.includes(t.name)&&!r.includes(t.name)),{direction:e}),"forward"==e?o.nodeAfter:o.nodeBefore}function lx(t,e){return!!t&&t.is("element")&&e.includes(t.name)}const ux=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class hx{constructor(t){this.document=t}isActive(t){return ux.test(t)}execute(t){const e=new Ih(this.document),{body:n}=t._parsedData;!function(t,e){for(const n of t.getChildren())if(n.is("element","b")&&"normal"===n.getStyle("font-weight")){const i=t.getChildIndex(n);e.remove(n),e.insertChild(i,n.getChildren(),t)}}(n,e),function(t,e){for(const n of e.createRangeIn(t)){const t=n.item;if(t.is("element","li")){const n=t.getChild(0);n&&n.is("element","p")&&e.unwrapElement(n)}}}(n,e),function(t,e){const n=new Ds(e.document.stylesProcessor),i=new _a(n,{renderingMode:"data"}),r=i.blockElements,o=i.inlineObjectElements,s=[];for(const n of e.createRangeIn(t)){const t=n.item;if(t.is("element","br")){const n=cx(t,"forward",e,{blockElements:r,inlineObjectElements:o}),i=cx(t,"backward",e,{blockElements:r,inlineObjectElements:o}),a=lx(n,r);(lx(i,r)||a)&&s.push(t)}}for(const t of s)t.hasClass("Apple-interchange-newline")?e.remove(t):e.replace(t,e.createElement("p"))}(n,e),t.content=n}}const dx=/<google-sheets-html-origin/i;class fx{constructor(t){this.document=t}isActive(t){return dx.test(t)}execute(t){const e=new Ih(this.document),{body:n}=t._parsedData;!function(t,e){for(const n of t.getChildren())if(n.is("element","google-sheets-html-origin")){const i=t.getChildIndex(n);e.remove(n),e.insertChild(i,n.getChildren(),t)}}(n,e),function(t,e){for(const n of t.getChildren())n.is("element","table")&&n.hasAttribute("xmlns")&&e.removeAttribute("xmlns",n)}(n,e),function(t,e){for(const n of t.getChildren())n.is("element","table")&&"0px"===n.getStyle("width")&&e.removeStyle("width",n)}(n,e),function(t,e){for(const n of Array.from(t.getChildren()))n.is("element","style")&&e.remove(n)}(n,e),t.content=n}}function gx(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((t,e)=>1===e.length?" ":Array(e.length+1).join("  ").substr(0,e.length)))}function px(t,e){const n=new DOMParser,i=function(t){return gx(gx(t)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(t){const e="</body>",n="</html>",i=t.indexOf(e);if(i<0)return t;const r=t.indexOf(n,i+e.length);return t.substring(0,i+e.length)+(r>=0?t.substring(r):"")}(t=(t=t.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),r=n.parseFromString(i,"text/html");!function(t){t.querySelectorAll("span[style*=spacerun]").forEach((t=>{const e=t,n=e.innerText.length||0;e.innerText=Array(n+1).join("  ").substr(0,n)}))}(r);const o=r.body.innerHTML,s=function(t,e){const n=new Ds(e),i=new _a(n,{renderingMode:"data"}),r=t.createDocumentFragment(),o=t.body.childNodes;for(;o.length>0;)r.appendChild(o[0]);return i.domToView(r,{skipComments:!0})}(r,e),a=function(t){const e=[],n=[],i=Array.from(t.getElementsByTagName("style"));for(const t of i)t.sheet&&t.sheet.cssRules&&t.sheet.cssRules.length&&(e.push(t.sheet),n.push(t.innerHTML));return{styles:e,stylesString:n.join(" ")}}(r);return{body:s,bodyString:o,styles:a.styles,stylesString:a.stylesString}}function mx(t,e,n,i,r=1){null!=e&&null!=r&&e>r?i.setAttribute(t,e,n):i.removeAttribute(t,n)}function bx(t,e,n={}){const i=t.createElement("tableCell",n);return t.insertElement("paragraph",i),t.insert(i,e),i}function wx(t,e){const n=e.parent.parent,i=parseInt(n.getAttribute("headingColumns")||"0"),{column:r}=t.getCellLocation(e);return!!i&&r<i}function yx(){return t=>{t.on("element:table",((t,e,n)=>{const i=e.viewItem;if(!n.consumable.test(i,{name:!0}))return;const{rows:r,headingRows:o,headingColumns:s}=function(t){let e,n=0;const i=[],r=[];let o;for(const s of Array.from(t.getChildren())){if("tbody"!==s.name&&"thead"!==s.name&&"tfoot"!==s.name)continue;"thead"!==s.name||o||(o=s);const t=Array.from(s.getChildren()).filter((t=>t.is("element","tr")));let a=null;for(const c of t){const t=Array.from(c.getChildren()).filter((t=>t.is("element","td")||t.is("element","th")));if(o&&s===o||"tbody"===s.name&&t.length>0&&(null===a||t.length===a)&&t.every((t=>t.is("element","th"))))n++,i.push(c);else{r.push(c);const t=_x(c);(!e||t<e)&&(e=t)}a=Math.max(a||0,t.length)}}return{headingRows:n,headingColumns:e||0,rows:[...i,...r]}}(i),a={};s&&(a.headingColumns=s),o&&(a.headingRows=o);const c=n.writer.createElement("table",a);if(n.safeInsert(c,e.modelCursor)){if(n.consumable.consume(i,{name:!0}),r.forEach((t=>n.convertItem(t,n.writer.createPositionAt(c,"end")))),n.convertChildren(i,n.writer.createPositionAt(c,"end")),c.isEmpty){const t=n.writer.createElement("tableRow");n.writer.insert(t,n.writer.createPositionAt(c,"end")),bx(n.writer,n.writer.createPositionAt(t,"end"))}n.updateConversionResult(c,e)}}))}}function vx(t){return e=>{e.on(`element:${t}`,((t,e,{writer:n})=>{if(!e.modelRange)return;const i=e.modelRange.start.nodeAfter,r=n.createPositionAt(i,0);if(e.viewItem.isEmpty)return void n.insertElement("paragraph",r);const o=Array.from(i.getChildren());if(o.every((t=>t.is("element","$marker")))){const t=n.createElement("paragraph");n.insert(t,n.createPositionAt(i,0));for(const e of o)n.move(n.createRangeOn(e),n.createPositionAt(t,"end"))}}),{priority:"low"})}}function _x(t){let e=0,n=0;const i=Array.from(t.getChildren()).filter((t=>"th"===t.name||"td"===t.name));for(;n<i.length&&"th"===i[n].name;){const t=i[n];e+=parseInt(t.getAttribute("colspan")||"1"),n++}return e}class kx{constructor(t,e={}){this._jumpedToStartRow=!1,this._table=t,this._startRow=void 0!==e.row?e.row:e.startRow||0,this._endRow=void 0!==e.row?e.row:e.endRow,this._startColumn=void 0!==e.column?e.column:e.startColumn||0,this._endColumn=void 0!==e.column?e.column:e.endColumn,this._includeAllSlots=!!e.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const t=this._table.getChild(this._rowIndex);if(!t||this._isOverEndRow())return{done:!0,value:void 0};if(!t.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let e=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(e=this._formatOutValue(n.cell,n.row,n.column));else{const n=t.getChild(this._cellIndex);if(!n)return this._advanceToNextRow();const i=parseInt(n.getAttribute("colspan")||"1"),r=parseInt(n.getAttribute("rowspan")||"1");(i>1||r>1)&&this._recordSpans(n,r,i),this._shouldSkipSlot()||(e=this._formatOutValue(n)),this._nextCellAtColumn=this._column+i}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,e||this.next()}skipRow(t){this._skipRows.add(t)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(t,e=this._row,n=this._column){return{done:!1,value:new xx(this,t,e,n)}}_shouldSkipSlot(){const t=this._skipRows.has(this._row),e=this._row<this._startRow,n=this._column<this._startColumn,i=void 0!==this._endColumn&&this._column>this._endColumn;return t||e||n||i}_getSpanned(){const t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}_recordSpans(t,e,n){const i={cell:t,row:this._row,column:this._column};for(let t=this._row;t<this._row+e;t++)for(let e=this._column;e<this._column+n;e++)t==this._row&&e==this._column||this._markSpannedCell(t,e,i)}_markSpannedCell(t,e,n){this._spannedCells.has(t)||this._spannedCells.set(t,new Map);this._spannedCells.get(t).set(e,n)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const t=this._getRowLength(0);for(let e=this._startRow;!this._jumpedToStartRow;e--)t===this._getRowLength(e)&&(this._row=e,this._rowIndex=e,this._jumpedToStartRow=!0)}_getRowLength(t){return[...this._table.getChild(t).getChildren()].reduce(((t,e)=>t+parseInt(e.getAttribute("colspan")||"1")),0)}}class xx{constructor(t,e,n,i){this.cell=e,this.row=t._row,this.column=t._column,this.cellAnchorRow=n,this.cellAnchorColumn=i,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function Ex(t,e){return(n,{writer:i})=>{const r=n.getAttribute("headingRows")||0,o=i.createContainerElement("table",null,[]),s=i.createContainerElement("figure",{class:"table"},o);r>0&&i.insert(i.createPositionAt(o,"end"),i.createContainerElement("thead",null,i.createSlot((t=>t.is("element","tableRow")&&t.index<r)))),r<t.getRows(n)&&i.insert(i.createPositionAt(o,"end"),i.createContainerElement("tbody",null,i.createSlot((t=>t.is("element","tableRow")&&t.index>=r))));for(const{positionOffset:t,filter:n}of e.additionalSlots)i.insert(i.createPositionAt(o,t),i.createSlot(n));return i.insert(i.createPositionAt(o,"after"),i.createSlot((t=>!t.is("element","tableRow")&&!e.additionalSlots.some((({filter:e})=>e(t)))))),e.asWidget?function(t,e){return e.setCustomProperty("table",!0,t),yb(t,e,{hasSelectionHandle:!0})}(s,i):s}}function Tx(t={}){return(e,{writer:n})=>{const i=e.parent,r=i.parent,o=r.getChildIndex(i),s=new kx(r,{row:o}),a=r.getAttribute("headingRows")||0,c=r.getAttribute("headingColumns")||0;let l=null;for(const i of s)if(i.cell==e){const e=i.row<a||i.column<c?"th":"td";l=t.asWidget?xb(n.createEditableElement(e),n):n.createContainerElement(e);break}return l}}function Cx(t={}){return(e,{writer:n})=>{if(!e.parent.is("element","tableCell"))return null;if(!Ax(e))return null;if(t.asWidget)return n.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const t=n.createContainerElement("p");return n.setCustomProperty("dataPipeline:transparentRendering",!0,t),t}}}function Ax(t){return 1==t.parent.childCount&&!!t.getAttributeKeys().next().done}class Sx extends po{refresh(){const t=this.editor.model,e=t.document.selection,n=t.schema;this.isEnabled=function(t,e){const n=t.getFirstPosition().parent,i=n===n.root?n:n.parent;return e.checkChild(i,"table")}(e,n)}execute(t={}){const e=this.editor,n=e.model,i=e.plugins.get("TableUtils"),r=e.config.get("table.defaultHeadings.rows"),o=e.config.get("table.defaultHeadings.columns");void 0===t.headingRows&&r&&(t.headingRows=r),void 0===t.headingColumns&&o&&(t.headingColumns=o),n.change((e=>{const r=i.createTable(e,t);n.insertObject(r,null,null,{findOptimalPosition:"auto"}),e.setSelection(e.createPositionAt(r.getNodeByPath([0,0,0]),0))}))}}class Ix extends po{constructor(t,e={}){super(t),this.order=e.order||"below"}refresh(){const t=this.editor.model.document.selection,e=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=e}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),i="above"===this.order,r=n.getSelectionAffectedTableCells(e),o=n.getRowIndexes(r),s=i?o.first:o.last,a=r[0].findAncestor("table");n.insertRows(a,{at:i?s:s+1,copyStructureFromAbove:!i})}}class Mx extends po{constructor(t,e={}){super(t),this.order=e.order||"right"}refresh(){const t=this.editor.model.document.selection,e=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=e}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),i="left"===this.order,r=n.getSelectionAffectedTableCells(e),o=n.getColumnIndexes(r),s=i?o.first:o.last,a=r[0].findAncestor("table");n.insertColumns(a,{columns:1,at:i?s:s+1})}}class Px extends po{constructor(t,e={}){super(t),this.direction=e.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=1===t.length}execute(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];"horizontally"===this.direction?t.splitCellHorizontally(e,2):t.splitCellVertically(e,2)}}function Ox(t,e,n){const{startRow:i,startColumn:r,endRow:o,endColumn:s}=e,a=n.createElement("table"),c=o-i+1;for(let t=0;t<c;t++)n.insertElement("tableRow",a,"end");const l=[...new kx(t,{startRow:i,endRow:o,startColumn:r,endColumn:s,includeAllSlots:!0})];for(const{row:t,column:e,cell:c,isAnchor:u,cellAnchorRow:h,cellAnchorColumn:d}of l){const l=t-i,f=a.getChild(l);if(u){const i=n.cloneElement(c);n.append(i,f),Bx(i,t,e,o,s,n)}else(h<i||d<r)&&bx(n,n.createPositionAt(f,"end"))}return function(t,e,n,i,r){const o=parseInt(e.getAttribute("headingRows")||"0");if(o>0){mx("headingRows",o-n,t,r,0)}const s=parseInt(e.getAttribute("headingColumns")||"0");if(s>0){mx("headingColumns",s-i,t,r,0)}}(a,t,i,r,n),a}function Dx(t,e,n=0){const i=[],r=new kx(t,{startRow:n,endRow:e-1});for(const t of r){const{row:n,cellHeight:r}=t;n<e&&e<=n+r-1&&i.push(t)}return i}function Nx(t,e,n){const i=t.parent,r=i.parent,o=i.index,s=e-o,a={},c=parseInt(t.getAttribute("rowspan"))-s;c>1&&(a.rowspan=c);const l=parseInt(t.getAttribute("colspan")||"1");l>1&&(a.colspan=l);const u=o+s,h=[...new kx(r,{startRow:o,endRow:u,includeAllSlots:!0})];let d,f=null;for(const e of h){const{row:i,column:r,cell:o}=e;o===t&&void 0===d&&(d=r),void 0!==d&&d===r&&i===u&&(f=bx(n,e.getPositionBefore(),a))}return mx("rowspan",s,t,n),f}function Lx(t,e){const n=[],i=new kx(t);for(const t of i){const{column:i,cellWidth:r}=t;i<e&&e<=i+r-1&&n.push(t)}return n}function Rx(t,e,n,i){const r=n-e,o={},s=parseInt(t.getAttribute("colspan"))-r;s>1&&(o.colspan=s);const a=parseInt(t.getAttribute("rowspan")||"1");a>1&&(o.rowspan=a);const c=bx(i,i.createPositionAfter(t),o);return mx("colspan",r,t,i),c}function Bx(t,e,n,i,r,o){const s=parseInt(t.getAttribute("colspan")||"1"),a=parseInt(t.getAttribute("rowspan")||"1");if(n+s-1>r){mx("colspan",r-n+1,t,o,1)}if(e+a-1>i){mx("rowspan",i-e+1,t,o,1)}}function Fx(t,e){const n=e.getColumns(t),i=new Array(n).fill(0);for(const{column:e}of new kx(t))i[e]++;const r=i.reduce(((t,e,n)=>e?t:[...t,n]),[]);if(r.length>0){const n=r[r.length-1];return e.removeColumns(t,{at:n}),!0}return!1}function jx(t,e){const n=[],i=e.getRows(t);for(let e=0;e<i;e++){t.getChild(e).isEmpty&&n.push(e)}if(n.length>0){const i=n[n.length-1];return e.removeRows(t,{at:i}),!0}return!1}function $x(t,e){Fx(t,e)||jx(t,e)}function Vx(t,e){const n=Array.from(new kx(t,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(n.every((({cellHeight:t})=>1===t)))return e.lastRow;const i=n[0].cellHeight-1;return e.lastRow+i}function zx(t,e){const n=Array.from(new kx(t,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(n.every((({cellWidth:t})=>1===t)))return e.lastColumn;const i=n[0].cellWidth-1;return e.lastColumn+i}class Hx extends po{constructor(t,e){super(t),this.direction=e.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}execute(){const t=this.editor.model,e=t.document,n=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(e.selection)[0],i=this.value,r=this.direction;t.change((t=>{const e="right"==r||"down"==r,o=e?n:i,s=e?i:n,a=s.parent;!function(t,e,n){Ux(t)||(Ux(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end")));n.remove(t)}(s,o,t);const c=this.isHorizontal?"colspan":"rowspan",l=parseInt(n.getAttribute(c)||"1"),u=parseInt(i.getAttribute(c)||"1");t.setAttribute(c,l+u,o),t.setSelection(t.createRangeIn(o));const h=this.editor.plugins.get("TableUtils");$x(a.findAncestor("table"),h)}))}_getMergeableCell(){const t=this.editor.model.document,e=this.editor.plugins.get("TableUtils"),n=e.getTableCellsContainingSelection(t.selection)[0];if(!n)return;const i=this.isHorizontal?function(t,e,n){const i=t.parent,r=i.parent,o="right"==e?t.nextSibling:t.previousSibling,s=(r.getAttribute("headingColumns")||0)>0;if(!o)return;const a="right"==e?t:o,c="right"==e?o:t,{column:l}=n.getCellLocation(a),{column:u}=n.getCellLocation(c),h=parseInt(a.getAttribute("colspan")||"1"),d=wx(n,a),f=wx(n,c);if(s&&d!=f)return;return l+h===u?o:void 0}(n,this.direction,e):function(t,e,n){const i=t.parent,r=i.parent,o=r.getChildIndex(i);if("down"==e&&o===n.getRows(r)-1||"up"==e&&0===o)return null;const s=parseInt(t.getAttribute("rowspan")||"1"),a=r.getAttribute("headingRows")||0,c="down"==e&&o+s===a,l="up"==e&&o===a;if(a&&(c||l))return null;const u=parseInt(t.getAttribute("rowspan")||"1"),h="down"==e?o+u:o,d=[...new kx(r,{endRow:h})],f=d.find((e=>e.cell===t)),g=f.column,p=d.find((({row:t,cellHeight:n,column:i})=>i===g&&("down"==e?t===h:h===t+n)));return p&&p.cell?p.cell:null}(n,this.direction,e);if(!i)return;const r=this.isHorizontal?"rowspan":"colspan",o=parseInt(n.getAttribute(r)||"1");return parseInt(i.getAttribute(r)||"1")===o?i:void 0}}function Ux(t){const e=t.getChild(0);return 1==t.childCount&&e.is("element","paragraph")&&e.isEmpty}class qx extends po{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),n=e[0];if(n){const i=n.findAncestor("table"),r=t.getRows(i)-1,o=t.getRowIndexes(e),s=0===o.first&&o.last===r;this.isEnabled=!s}else this.isEnabled=!1}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),i=e.getRowIndexes(n),r=n[0],o=r.findAncestor("table"),s=e.getCellLocation(r).column;t.change((t=>{const n=i.last-i.first+1;e.removeRows(o,{at:i.first,rows:n});const r=function(t,e,n,i){const r=t.getChild(Math.min(e,i-1));let o=r.getChild(0),s=0;for(const t of r.getChildren()){if(s>n)return o;o=t,s+=parseInt(t.getAttribute("colspan")||"1")}return o}(o,i.first,s,e.getRows(o));t.setSelection(t.createPositionAt(r,0))}))}}class Wx extends po{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),n=e[0];if(n){const i=n.findAncestor("table"),r=t.getColumns(i),{first:o,last:s}=t.getColumnIndexes(e);this.isEnabled=s-o<r-1}else this.isEnabled=!1}execute(){const t=this.editor.plugins.get("TableUtils"),[e,n]=function(t,e){const n=e.getSelectionAffectedTableCells(t),i=n[0],r=n.pop(),o=[i,r];return i.isBefore(r)?o:o.reverse()}(this.editor.model.document.selection,t),i=e.parent.parent,r=[...new kx(i)],o={first:r.find((t=>t.cell===e)).column,last:r.find((t=>t.cell===n)).column},s=function(t,e,n,i){const r=parseInt(n.getAttribute("colspan")||"1");return r>1?n:e.previousSibling||n.nextSibling?n.nextSibling||e.previousSibling:i.first?t.reverse().find((({column:t})=>t<i.first)).cell:t.reverse().find((({column:t})=>t>i.last)).cell}(r,e,n,o);this.editor.model.change((e=>{const n=o.last-o.first+1;t.removeColumns(i,{at:o.first,columns:n}),e.setSelection(e.createPositionAt(s,0))}))}}class Gx extends po{refresh(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,n=t.getSelectionAffectedTableCells(e.document.selection),i=n.length>0;this.isEnabled=i,this.value=i&&n.every((t=>this._isInHeading(t,t.parent.parent)))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,i=e.getSelectionAffectedTableCells(n.document.selection),r=i[0].findAncestor("table"),{first:o,last:s}=e.getRowIndexes(i),a=this.value?o:s+1,c=r.getAttribute("headingRows")||0;n.change((t=>{if(a){const e=Dx(r,a,a>c?c:0);for(const{cell:n}of e)Nx(n,a,t)}mx("headingRows",a,r,t,0)}))}_isInHeading(t,e){const n=parseInt(e.getAttribute("headingRows")||"0");return!!n&&t.parent.index<n}}class Kx extends po{refresh(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),i=n.length>0;this.isEnabled=i,this.value=i&&n.every((t=>wx(e,t)))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,i=e.getSelectionAffectedTableCells(n.document.selection),r=i[0].findAncestor("table"),{first:o,last:s}=e.getColumnIndexes(i),a=this.value?o:s+1;n.change((t=>{if(a){const e=Lx(r,a);for(const{cell:n,column:i}of e)Rx(n,i,a,t)}mx("headingColumns",a,r,t,0)}))}}function Yx(t){if(t.is("element","tableColumnGroup"))return t;const e=t.getChildren();return Array.from(e).find((t=>t.is("element","tableColumnGroup")))}function Xx(t){const e=Yx(t);return e?Array.from(e.getChildren()):[]}class Zx extends fo{static get pluginName(){return"TableUtils"}static get isOfficialPlugin(){return!0}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(t){const e=t.parent,n=e.parent,i=n.getChildIndex(e),r=new kx(n,{row:i});for(const{cell:e,row:n,column:i}of r)if(e===t)return{row:n,column:i}}createTable(t,e){const n=t.createElement("table"),i=e.rows||2,r=e.columns||2;return Qx(t,n,0,i,r),e.headingRows&&mx("headingRows",Math.min(e.headingRows,i),n,t,0),e.headingColumns&&mx("headingColumns",Math.min(e.headingColumns,r),n,t,0),n}insertRows(t,e={}){const n=this.editor.model,i=e.at||0,r=e.rows||1,o=void 0!==e.copyStructureFromAbove,s=e.copyStructureFromAbove?i-1:i,a=this.getRows(t),c=this.getColumns(t);if(i>a)throw new E("tableutils-insertrows-insert-out-of-range",this,{options:e});n.change((e=>{const n=t.getAttribute("headingRows")||0;if(n>i&&mx("headingRows",n+r,t,e,0),!o&&(0===i||i===a))return void Qx(e,t,i,r,c);const l=o?Math.max(i,s):i,u=new kx(t,{endRow:l}),h=new Array(c).fill(1);for(const{row:t,column:n,cellHeight:a,cellWidth:c,cell:l}of u){const u=t+a-1,d=t<=s&&s<=u;t<i&&i<=u?(e.setAttribute("rowspan",a+r,l),h[n]=-c):o&&d&&(h[n]=c)}for(let n=0;n<r;n++){const n=e.createElement("tableRow");e.insert(n,t,i);for(let t=0;t<h.length;t++){const i=h[t],r=e.createPositionAt(n,"end");i>0&&bx(e,r,i>1?{colspan:i}:void 0),t+=Math.abs(i)-1}}}))}insertColumns(t,e={}){const n=this.editor.model,i=e.at||0,r=e.columns||1;n.change((e=>{const n=t.getAttribute("headingColumns");i<n&&e.setAttribute("headingColumns",n+r,t);const o=this.getColumns(t);if(0===i||o===i){for(const n of t.getChildren())n.is("element","tableRow")&&Jx(r,e,e.createPositionAt(n,i?"end":0));return}const s=new kx(t,{column:i,includeAllSlots:!0});for(const t of s){const{row:n,cell:o,cellAnchorColumn:a,cellAnchorRow:c,cellWidth:l,cellHeight:u}=t;if(a<i){e.setAttribute("colspan",l+r,o);const t=c+u-1;for(let e=n;e<=t;e++)s.skipRow(e)}else Jx(r,e,t.getPositionBefore())}}))}removeRows(t,e){const n=this.editor.model,i=e.rows||1,r=this.getRows(t),o=e.at,s=o+i-1;if(s>r-1)throw new E("tableutils-removerows-row-index-out-of-range",this,{table:t,options:e});n.change((e=>{const n={first:o,last:s},{cellsToMove:i,cellsToTrim:r}=function(t,{first:e,last:n}){const i=new Map,r=[];for(const{row:o,column:s,cellHeight:a,cell:c}of new kx(t,{endRow:n})){const t=o+a-1;if(o>=e&&o<=n&&t>n){const t=a-(n-o+1);i.set(s,{cell:c,rowspan:t})}if(o<e&&t>=e){let i;i=t>=n?n-e+1:t-e+1,r.push({cell:c,rowspan:a-i})}}return{cellsToMove:i,cellsToTrim:r}}(t,n);if(i.size){!function(t,e,n,i){const r=new kx(t,{includeAllSlots:!0,row:e}),o=[...r],s=t.getChild(e);let a;for(const{column:t,cell:e,isAnchor:r}of o)if(n.has(t)){const{cell:e,rowspan:r}=n.get(t),o=a?i.createPositionAfter(a):i.createPositionAt(s,0);i.move(i.createRangeOn(e),o),mx("rowspan",r,e,i),a=e}else r&&(a=e)}(t,s+1,i,e)}for(let n=s;n>=o;n--)e.remove(t.getChild(n));for(const{rowspan:t,cell:n}of r)mx("rowspan",t,n,e);!function(t,{first:e,last:n},i){const r=t.getAttribute("headingRows")||0;if(e<r){mx("headingRows",n<r?r-(n-e+1):e,t,i,0)}}(t,n,e),Fx(t,this)||jx(t,this)}))}removeColumns(t,e){const n=this.editor.model,i=e.at,r=e.columns||1,o=e.at+r-1;n.change((e=>{!function(t,e,n){const i=t.getAttribute("headingColumns")||0;if(i&&e.first<i){const r=Math.min(i-1,e.last)-e.first+1;n.setAttribute("headingColumns",i-r,t)}}(t,{first:i,last:o},e);const n=Xx(t);for(let r=o;r>=i;r--){for(const{cell:n,column:i,cellWidth:o}of[...new kx(t)])i<=r&&o>1&&i+o>r?mx("colspan",o-1,n,e):i===r&&e.remove(n);if(n[r]){const t=0===r?n[1]:n[r-1],i=parseFloat(n[r].getAttribute("columnWidth")),o=parseFloat(t.getAttribute("columnWidth"));e.remove(n[r]),e.setAttribute("columnWidth",i+o+"%",t)}}jx(t,this)||Fx(t,this)}))}splitCellVertically(t,e=2){const n=this.editor.model,i=t.parent.parent,r=parseInt(t.getAttribute("rowspan")||"1"),o=parseInt(t.getAttribute("colspan")||"1");n.change((n=>{if(o>1){const{newCellsSpan:i,updatedSpan:s}=tE(o,e);mx("colspan",s,t,n);const a={};i>1&&(a.colspan=i),r>1&&(a.rowspan=r);Jx(o>e?e-1:o-1,n,n.createPositionAfter(t),a)}if(o<e){const s=e-o,a=[...new kx(i)],{column:c}=a.find((({cell:e})=>e===t)),l=a.filter((({cell:e,cellWidth:n,column:i})=>e!==t&&i===c||i<c&&i+n>c));for(const{cell:t,cellWidth:e}of l)n.setAttribute("colspan",e+s,t);const u={};r>1&&(u.rowspan=r),Jx(s,n,n.createPositionAfter(t),u);const h=i.getAttribute("headingColumns")||0;h>c&&mx("headingColumns",h+s,i,n)}}))}splitCellHorizontally(t,e=2){const n=this.editor.model,i=t.parent,r=i.parent,o=r.getChildIndex(i),s=parseInt(t.getAttribute("rowspan")||"1"),a=parseInt(t.getAttribute("colspan")||"1");n.change((n=>{if(s>1){const i=[...new kx(r,{startRow:o,endRow:o+s-1,includeAllSlots:!0})],{newCellsSpan:c,updatedSpan:l}=tE(s,e);mx("rowspan",l,t,n);const{column:u}=i.find((({cell:e})=>e===t)),h={};c>1&&(h.rowspan=c),a>1&&(h.colspan=a);let d=0;for(const t of i){const{column:e,row:i}=t,r=e===u;d>=c&&r&&(d=0),i>=o+l&&r&&(d||Jx(1,n,t.getPositionBefore(),h),d++)}}if(s<e){const i=e-s,c=[...new kx(r,{startRow:0,endRow:o})];for(const{cell:e,cellHeight:r,row:s}of c)if(e!==t&&s+r>o){const t=r+i;n.setAttribute("rowspan",t,e)}const l={};a>1&&(l.colspan=a),Qx(n,r,o+1,i,1,l);const u=r.getAttribute("headingRows")||0;u>o&&mx("headingRows",u+i,r,n)}}))}getColumns(t){return[...t.getChild(0).getChildren()].filter((t=>t.is("element","tableCell"))).reduce(((t,e)=>t+parseInt(e.getAttribute("colspan")||"1")),0)}getRows(t){return Array.from(t.getChildren()).reduce(((t,e)=>e.is("element","tableRow")?t+1:t),0)}createTableWalker(t,e={}){return new kx(t,e)}getSelectedTableCells(t){const e=[];for(const n of this.sortRanges(t.getRanges())){const t=n.getContainedElement();t&&t.is("element","tableCell")&&e.push(t)}return e}getTableCellsContainingSelection(t){const e=[];for(const n of t.getRanges()){const t=n.start.findAncestor("tableCell");t&&e.push(t)}return e}getSelectionAffectedTableCells(t){const e=this.getSelectedTableCells(t);return e.length?e:this.getTableCellsContainingSelection(t)}getRowIndexes(t){const e=t.map((t=>t.parent.index));return this._getFirstLastIndexesObject(e)}getColumnIndexes(t){const e=t[0].findAncestor("table"),n=[...new kx(e)].filter((e=>t.includes(e.cell))).map((t=>t.column));return this._getFirstLastIndexesObject(n)}isSelectionRectangular(t){if(t.length<2||!this._areCellInTheSameTableSection(t))return!1;const e=new Set,n=new Set;let i=0;for(const r of t){const{row:t,column:o}=this.getCellLocation(r),s=parseInt(r.getAttribute("rowspan"))||1,a=parseInt(r.getAttribute("colspan"))||1;e.add(t),n.add(o),s>1&&e.add(t+s-1),a>1&&n.add(o+a-1),i+=s*a}const r=function(t,e){const n=Array.from(t.values()),i=Array.from(e.values()),r=Math.max(...n),o=Math.min(...n),s=Math.max(...i),a=Math.min(...i);return(r-o+1)*(s-a+1)}(e,n);return r==i}sortRanges(t){return Array.from(t).sort(eE)}_getFirstLastIndexesObject(t){const e=t.sort(((t,e)=>t-e));return{first:e[0],last:e[e.length-1]}}_areCellInTheSameTableSection(t){const e=t[0].findAncestor("table"),n=this.getRowIndexes(t),i=parseInt(e.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(n,i))return!1;const r=this.getColumnIndexes(t),o=parseInt(e.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(r,o)}_areIndexesInSameSection({first:t,last:e},n){return t<n===e<n}}function Qx(t,e,n,i,r,o={}){for(let s=0;s<i;s++){const i=t.createElement("tableRow");t.insert(i,e,n),Jx(r,t,t.createPositionAt(i,"end"),o)}}function Jx(t,e,n,i={}){for(let r=0;r<t;r++)bx(e,n,i)}function tE(t,e){if(t<e)return{newCellsSpan:1,updatedSpan:1};const n=Math.floor(t/e);return{newCellsSpan:n,updatedSpan:t-n*e+n}}function eE(t,e){const n=t.start,i=e.start;return n.isBefore(i)?-1:1}class nE extends po{refresh(){const t=this.editor.plugins.get(Zx),e=t.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=t.isSelectionRectangular(e)}execute(){const t=this.editor.model,e=this.editor.plugins.get(Zx);t.change((n=>{const i=e.getSelectedTableCells(t.document.selection),r=i.shift(),{mergeWidth:o,mergeHeight:s}=function(t,e,n){let i=0,r=0;for(const t of e){const{row:e,column:o}=n.getCellLocation(t);i=oE(t,o,i,"colspan"),r=oE(t,e,r,"rowspan")}const{row:o,column:s}=n.getCellLocation(t),a=i-s,c=r-o;return{mergeWidth:a,mergeHeight:c}}(r,i,e);mx("colspan",o,r,n),mx("rowspan",s,r,n);for(const t of i)iE(t,r,n);$x(r.findAncestor("table"),e),n.setSelection(r,"in")}))}}function iE(t,e,n){rE(t)||(rE(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end"))),n.remove(t)}function rE(t){const e=t.getChild(0);return 1==t.childCount&&e.is("element","paragraph")&&e.isEmpty}function oE(t,e,n,i){const r=parseInt(t.getAttribute(i)||"1");return Math.max(n,e+r)}class sE extends po{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),i=e.getRowIndexes(n),r=n[0].findAncestor("table"),o=[];for(let e=i.first;e<=i.last;e++)for(const n of r.getChild(e).getChildren())o.push(t.createRangeOn(n));t.change((t=>{t.setSelection(o)}))}}class aE extends po{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,n=t.getSelectionAffectedTableCells(e.document.selection),i=n[0],r=n.pop(),o=i.findAncestor("table"),s=t.getCellLocation(i),a=t.getCellLocation(r),c=Math.min(s.column,a.column),l=Math.max(s.column,a.column),u=[];for(const t of new kx(o,{startColumn:c,endColumn:l}))u.push(e.createRangeOn(t.cell));e.change((t=>{t.setSelection(u)}))}}function cE(t){t.document.registerPostFixer((e=>function(t,e){const n=e.document.differ.getChanges();let i=!1;const r=new Set;for(const e of n){let n=null;"insert"==e.type&&"table"==e.name&&(n=e.position.nodeAfter),"insert"!=e.type&&"remove"!=e.type||"tableRow"!=e.name&&"tableCell"!=e.name||(n=e.position.findAncestor("table")),hE(e)&&(n=e.range.start.findAncestor("table")),n&&!r.has(n)&&(i=lE(n,t)||i,i=uE(n,t)||i,r.add(n))}return i}(e,t)))}function lE(t,e){let n=!1;const i=function(t){const e=parseInt(t.getAttribute("headingRows")||"0"),n=Array.from(t.getChildren()).reduce(((t,e)=>e.is("element","tableRow")?t+1:t),0),i=[];for(const{row:r,cell:o,cellHeight:s}of new kx(t)){if(s<2)continue;const t=r<e?e:n;if(r+s>t){const e=t-r;i.push({cell:o,rowspan:e})}}return i}(t);if(i.length){n=!0;for(const t of i)mx("rowspan",t.rowspan,t.cell,e,1)}return n}function uE(t,e){let n=!1;const i=function(t){const e=new Array(t.childCount).fill(0);for(const{rowIndex:n}of new kx(t,{includeAllSlots:!0}))e[n]++;return e}(t),r=[];for(const[e,n]of i.entries())!n&&t.getChild(e).is("element","tableRow")&&r.push(e);if(r.length){n=!0;for(const n of r.reverse())e.remove(t.getChild(n)),i.splice(n,1)}const o=i.filter(((e,n)=>t.getChild(n).is("element","tableRow"))),s=o[0];if(!o.every((t=>t===s))){const i=o.reduce(((t,e)=>e>t?e:t),0);for(const[r,s]of o.entries()){const o=i-s;if(o){for(let n=0;n<o;n++)bx(e,e.createPositionAt(t.getChild(r),"end"));n=!0}}}return n}function hE(t){if("attribute"!==t.type)return!1;const e=t.attributeKey;return"headingRows"===e||"colspan"===e||"rowspan"===e}function dE(t){t.document.registerPostFixer((e=>function(t,e){const n=e.document.differ.getChanges();let i=!1;for(const e of n)"insert"==e.type&&"table"==e.name&&(i=fE(e.position.nodeAfter,t)||i),"insert"==e.type&&"tableRow"==e.name&&(i=gE(e.position.nodeAfter,t)||i),"insert"==e.type&&"tableCell"==e.name&&(i=pE(e.position.nodeAfter,t)||i),"remove"!=e.type&&"insert"!=e.type||!mE(e)||(i=pE(e.position.parent,t)||i);return i}(e,t)))}function fE(t,e){let n=!1;for(const i of t.getChildren())i.is("element","tableRow")&&(n=gE(i,e)||n);return n}function gE(t,e){let n=!1;for(const i of t.getChildren())n=pE(i,e)||n;return n}function pE(t,e){if(0==t.childCount)return e.insertElement("paragraph",t),!0;const n=Array.from(t.getChildren()).filter((t=>t.is("$text")));for(const t of n)e.wrap(e.createRangeOn(t),"paragraph");return!!n.length}function mE(t){return!!t.position.parent.is("element","tableCell")&&("insert"==t.type&&"$text"==t.name||"remove"==t.type)}function bE(t,e){if(!t.is("element","paragraph"))return!1;const n=e.toViewElement(t);return!!n&&Ax(t)!==n.is("element","span")}class wE extends fo{static get pluginName(){return"TableEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Zx]}constructor(t){super(t),this._additionalSlots=[]}init(){const t=this.editor,e=t.model,n=e.schema,i=t.conversion,r=t.plugins.get(Zx);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),i.for("upcast").add((t=>{t.on("element:figure",((t,e,n)=>{if(!n.consumable.test(e.viewItem,{name:!0,classes:"table"}))return;const i=function(t){for(const e of t.getChildren())if(e.is("element","table"))return e}(e.viewItem);if(!i||!n.consumable.test(i,{name:!0}))return;n.consumable.consume(e.viewItem,{name:!0,classes:"table"});const r=Zr(n.convertItem(i,e.modelCursor).modelRange.getItems());r?(n.convertChildren(e.viewItem,n.writer.createPositionAt(r,"end")),n.updateConversionResult(r,e)):n.consumable.revert(e.viewItem,{name:!0,classes:"table"})}))})),i.for("upcast").add(yx()),i.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:Ex(r,{asWidget:!0,additionalSlots:this._additionalSlots})}),i.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:Ex(r,{additionalSlots:this._additionalSlots})}),i.for("upcast").elementToElement({model:"tableRow",view:"tr"}),i.for("upcast").add((t=>{t.on("element:tr",((t,e)=>{e.viewItem.isEmpty&&0==e.modelCursor.index&&t.stop()}),{priority:"high"})})),i.for("downcast").elementToElement({model:"tableRow",view:(t,{writer:e})=>t.isEmpty?e.createEmptyElement("tr"):e.createContainerElement("tr")}),i.for("upcast").elementToElement({model:"tableCell",view:"td"}),i.for("upcast").elementToElement({model:"tableCell",view:"th"}),i.for("upcast").add(vx("td")),i.for("upcast").add(vx("th")),i.for("editingDowncast").elementToElement({model:"tableCell",view:Tx({asWidget:!0})}),i.for("dataDowncast").elementToElement({model:"tableCell",view:Tx()}),i.for("editingDowncast").elementToElement({model:"paragraph",view:Cx({asWidget:!0}),converterPriority:"high"}),i.for("dataDowncast").elementToElement({model:"paragraph",view:Cx(),converterPriority:"high"}),i.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),i.for("upcast").attributeToAttribute({model:{key:"colspan",value:yE("colspan")},view:"colspan"}),i.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),i.for("upcast").attributeToAttribute({model:{key:"rowspan",value:yE("rowspan")},view:"rowspan"}),t.config.define("table.defaultHeadings.rows",0),t.config.define("table.defaultHeadings.columns",0),t.commands.add("insertTable",new Sx(t)),t.commands.add("insertTableRowAbove",new Ix(t,{order:"above"})),t.commands.add("insertTableRowBelow",new Ix(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new Mx(t,{order:"left"})),t.commands.add("insertTableColumnRight",new Mx(t,{order:"right"})),t.commands.add("removeTableRow",new qx(t)),t.commands.add("removeTableColumn",new Wx(t)),t.commands.add("splitTableCellVertically",new Px(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new Px(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new nE(t)),t.commands.add("mergeTableCellRight",new Hx(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new Hx(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new Hx(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new Hx(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new Kx(t)),t.commands.add("setTableRowHeader",new Gx(t)),t.commands.add("selectTableRow",new sE(t)),t.commands.add("selectTableColumn",new aE(t)),cE(e),dE(e),this.listenTo(e.document,"change:data",(()=>{!function(t,e){const n=t.document.differ;for(const t of n.getChanges()){let n,i=!1;if("attribute"==t.type){const e=t.range.start.nodeAfter;if(!e||!e.is("element","table"))continue;if("headingRows"!=t.attributeKey&&"headingColumns"!=t.attributeKey)continue;n=e,i="headingRows"==t.attributeKey}else"tableRow"!=t.name&&"tableCell"!=t.name||(n=t.position.findAncestor("table"),i="tableRow"==t.name);if(!n)continue;const r=n.getAttribute("headingRows")||0,o=n.getAttribute("headingColumns")||0,s=new kx(n);for(const t of s){const n=t.row<r||t.column<o?"th":"td",s=e.mapper.toViewElement(t.cell);s&&s.is("element")&&s.name!=n&&e.reconvertItem(i?t.cell.parent:t.cell)}}}(e,t.editing),function(t,e){const n=t.document.differ,i=new Set;for(const t of n.getChanges()){const e="attribute"==t.type?t.range.start.parent:t.position.parent;e.is("element","tableCell")&&i.add(e)}for(const t of i.values()){const n=Array.from(t.getChildren()).filter((t=>bE(t,e.mapper)));for(const t of n)e.reconvertItem(t)}}(e,t.editing)}))}registerAdditionalSlot(t){this._additionalSlots.push(t)}}function yE(t){return e=>{const n=parseInt(e.getAttribute(t));return Number.isNaN(n)||n<=0?null:n}}class vE extends Ed{constructor(t){super(t);const e=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new no,this.focusTracker=new Qr,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",((t,e)=>`${e} × ${t}`)),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":e.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:e.to("label")}]}],on:{mousedown:e.to((t=>{t.preventDefault()})),click:e.to((()=>{this.fire("execute")}))}}),this.on("boxover",((t,e)=>{const{row:n,column:i}=e.target.dataset;this.items.get(10*(parseInt(n,10)-1)+(parseInt(i,10)-1)).focus()})),this.focusTracker.on("change:focusedElement",((t,e,n)=>{if(!n)return;const{row:i,column:r}=n.dataset;this.set({rows:parseInt(i),columns:parseInt(r)})})),this.on("change:columns",(()=>this._highlightGridBoxes())),this.on("change:rows",(()=>this._highlightGridBoxes()))}render(){super.render(),Sd({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const t of this.items)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const t=this.rows,e=this.columns;this.items.map(((n,i)=>{const r=Math.floor(i/10)<t&&i%10<e;n.set("isOn",r)}))}_createGridButton(t,e,n,i){const r=new Od(t);return r.set({label:i,class:"ck-insert-table-dropdown-grid-box"}),r.extendTemplate({attributes:{"data-row":e,"data-column":n}}),r}_createGridCollection(){const t=[];for(let e=0;e<100;e++){const n=Math.floor(e/10),i=e%10,r=`${n+1} × ${i+1}`;t.push(this._createGridButton(this.locale,n+1,i+1,r))}return this.createCollection(t)}}class _E extends fo{static get pluginName(){return"TableUI"}static get isOfficialPlugin(){return!0}init(){const t=this.editor,e=this.editor.t,n="ltr"===t.locale.contentLanguageDirection;t.ui.componentFactory.add("insertTable",(n=>{const i=t.commands.get("insertTable"),r=Kf(n);let o;return r.bind("isEnabled").to(i),r.buttonView.set({icon:ed.table,label:e("Insert table"),tooltip:!0}),r.on("change:isOpen",(()=>{o||(o=new vE(n),r.panelView.children.add(o),o.delegate("execute").to(r),r.on("execute",(()=>{t.execute("insertTable",{rows:o.rows,columns:o.columns}),t.editing.view.focus()})))})),r})),t.ui.componentFactory.add("menuBar:insertTable",(n=>{const i=t.commands.get("insertTable"),r=new pp(n),o=new vE(n);return o.delegate("execute").to(r),r.on("change:isOpen",((t,e,n)=>{n||o.reset()})),o.on("execute",(()=>{t.execute("insertTable",{rows:o.rows,columns:o.columns}),t.editing.view.focus()})),r.buttonView.set({label:e("Table"),icon:ed.table}),r.panelView.children.add(o),r.bind("isEnabled").to(i),r})),t.ui.componentFactory.add("tableColumn",(t=>{const i=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:e("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:e("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:e("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:e("Select column")}}];return this._prepareDropdown(e("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',i,t)})),t.ui.componentFactory.add("tableRow",(t=>{const n=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:e("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:e("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:e("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:e("Select row")}}];return this._prepareDropdown(e("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',n,t)})),t.ui.componentFactory.add("mergeTableCells",(t=>{const i=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:e("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:e("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(e("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',i,t)}))}_prepareDropdown(t,e,n,i){const r=this.editor,o=Kf(i),s=this._fillDropdownWithListOptions(o,n);return o.buttonView.set({label:t,icon:e,tooltip:!0}),o.bind("isEnabled").toMany(s,"isEnabled",((...t)=>t.some((t=>t)))),this.listenTo(o,"execute",(t=>{r.execute(t.source.commandName),t.source instanceof cf||r.editing.view.focus()})),o}_prepareMergeSplitButtonDropdown(t,e,n,i){const r=this.editor,o=Kf(i,Gf),s="mergeTableCells",a=r.commands.get(s),c=this._fillDropdownWithListOptions(o,n);return o.buttonView.set({label:t,icon:e,tooltip:!0,isEnabled:!0}),o.bind("isEnabled").toMany([a,...c],"isEnabled",((...t)=>t.some((t=>t)))),this.listenTo(o.buttonView,"execute",(()=>{r.execute(s),r.editing.view.focus()})),this.listenTo(o,"execute",(t=>{r.execute(t.source.commandName),r.editing.view.focus()})),o}_fillDropdownWithListOptions(t,e){const n=this.editor,i=[],r=new Xr;for(const t of e)kE(t,n,i,r);return Zf(t,r),i}}function kE(t,e,n,i){if("button"===t.type||"switchbutton"===t.type){const i=t.model=new Yg(t.model),{commandName:r,bindIsOn:o}=t.model,s=e.commands.get(r);n.push(s),i.set({commandName:r}),i.bind("isEnabled").to(s),o&&i.bind("isOn").to(s,"value"),i.set({withText:!0})}i.add(t)}class xE extends fo{static get pluginName(){return"TableSelection"}static get isOfficialPlugin(){return!0}static get requires(){return[Zx,Zx]}init(){const t=this.editor,e=t.model,n=t.editing.view;this.listenTo(e,"deleteContent",((t,e)=>this._handleDeleteContent(t,e)),{priority:"high"}),this.listenTo(n.document,"insertText",((t,e)=>this._handleInsertTextEvent(t,e)),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const t=this.editor.plugins.get(Zx),e=this.editor.model.document.selection,n=t.getSelectedTableCells(e);return 0==n.length?null:n}getSelectionAsFragment(){const t=this.editor.plugins.get(Zx),e=this.getSelectedTableCells();return e?this.editor.model.change((n=>{const i=n.createDocumentFragment(),{first:r,last:o}=t.getColumnIndexes(e),{first:s,last:a}=t.getRowIndexes(e),c=e[0].findAncestor("table");let l=a,u=o;if(t.isSelectionRectangular(e)){const t={firstColumn:r,lastColumn:o,firstRow:s,lastRow:a};l=Vx(c,t),u=zx(c,t)}const h=Ox(c,{startRow:s,startColumn:r,endRow:l,endColumn:u},n);return n.insert(h,i,0),i})):null}setCellSelection(t,e){const n=this._getCellsToSelect(t,e);this.editor.model.change((t=>{t.setSelection(n.cells.map((e=>t.createRangeOn(e))),{backward:n.backward})}))}getFocusCell(){const t=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return t&&t.is("element","tableCell")?t:null}getAnchorCell(){const t=Zr(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("element","tableCell")?t:null}_defineSelectionConverter(){const t=this.editor,e=new Set;t.conversion.for("editingDowncast").add((t=>t.on("selection",((t,n,i)=>{const r=i.writer;!function(t){for(const n of e)t.removeClass("ck-editor__editable_selected",n);e.clear()}(r);const o=this.getSelectedTableCells();if(!o)return;for(const t of o){const n=i.mapper.toViewElement(t);r.addClass("ck-editor__editable_selected",n),e.add(n)}const s=i.mapper.toViewElement(o[o.length-1]);r.setSelection(s,0)}),{priority:"lowest"})))}_enablePluginDisabling(){const t=this.editor;this.on("change:isEnabled",(()=>{if(!this.isEnabled){const e=this.getSelectedTableCells();if(!e)return;t.model.change((n=>{const i=n.createPositionAt(e[0],0),r=t.model.schema.getNearestSelectionRange(i);n.setSelection(r)}))}}))}_handleDeleteContent(t,e){const n=this.editor.plugins.get(Zx),i=e[0],r=e[1],o=this.editor.model,s=!r||"backward"==r.direction,a=n.getSelectedTableCells(i);a.length&&(t.stop(),o.change((t=>{const e=a[s?a.length-1:0];o.change((t=>{for(const e of a)o.deleteContent(t.createSelection(e,"in"))}));const n=o.schema.getNearestSelectionRange(t.createPositionAt(e,0));i.is("documentSelection")?t.setSelection(n):i.setTo(n)})))}_handleInsertTextEvent(t,e){const n=this.editor,i=this.getSelectedTableCells();if(!i)return;const r=n.editing.view,o=n.editing.mapper,s=i.map((t=>r.createRangeOn(o.toViewElement(t))));e.selection=r.createSelection(s)}_getCellsToSelect(t,e){const n=this.editor.plugins.get("TableUtils"),i=n.getCellLocation(t),r=n.getCellLocation(e),o=Math.min(i.row,r.row),s=Math.max(i.row,r.row),a=Math.min(i.column,r.column),c=Math.max(i.column,r.column),l=new Array(s-o+1).fill(null).map((()=>[])),u={startRow:o,endRow:s,startColumn:a,endColumn:c};for(const{row:e,cell:n}of new kx(t.findAncestor("table"),u))l[e-o].push(n);const h=r.row<i.row,d=r.column<i.column;return h&&l.reverse(),d&&l.forEach((t=>t.reverse())),{cells:l.flat(),backward:h||d}}}class EE extends fo{static get pluginName(){return"TableClipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[wm,ym,xE,Zx]}init(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"copy",((t,e)=>this._onCopyCut(t,e))),this.listenTo(e,"cut",((t,e)=>this._onCopyCut(t,e))),this.listenTo(t.model,"insertContent",((t,[e,n])=>this._onInsertContent(t,e,n)),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(t,e){const n=this.editor.editing.view,i=this.editor.plugins.get(xE),r=this.editor.plugins.get(wm);i.getSelectedTableCells()&&("cut"!=t.name||this.editor.model.canEditAt(this.editor.model.document.selection))&&(e.preventDefault(),t.stop(),this.editor.model.enqueueChange({isUndoable:"cut"===t.name},(()=>{const o=r._copySelectedFragmentWithMarkers(t.name,this.editor.model.document.selection,(()=>i.getSelectionAsFragment()));n.document.fire("clipboardOutput",{dataTransfer:e.dataTransfer,content:this.editor.data.toView(o),method:t.name})})))}_onInsertContent(t,e,n){if(n&&!n.is("documentSelection"))return;const i=this.editor.model,r=this.editor.plugins.get(Zx),o=this.editor.plugins.get(wm),s=this.getTableIfOnlyTableInContent(e,i);if(!s)return;const a=r.getSelectionAffectedTableCells(i.document.selection);a.length?(t.stop(),e.is("documentFragment")?o._pasteMarkersIntoTransformedElement(e.markers,(t=>this._replaceSelectedCells(s,a,t))):this.editor.model.change((t=>{this._replaceSelectedCells(s,a,t)}))):$x(s,r)}_replaceSelectedCells(t,e,n){const i=this.editor.plugins.get(Zx),r={width:i.getColumns(t),height:i.getRows(t)},o=function(t,e,n,i){const r=t[0].findAncestor("table"),o=i.getColumnIndexes(t),s=i.getRowIndexes(t),a={firstColumn:o.first,lastColumn:o.last,firstRow:s.first,lastRow:s.last},c=1===t.length;c&&(a.lastRow+=e.height-1,a.lastColumn+=e.width-1,function(t,e,n,i){const r=i.getColumns(t),o=i.getRows(t);n>r&&i.insertColumns(t,{at:r,columns:n-r});e>o&&i.insertRows(t,{at:o,rows:e-o})}(r,a.lastRow+1,a.lastColumn+1,i));c||!i.isSelectionRectangular(t)?function(t,e,n){const{firstRow:i,lastRow:r,firstColumn:o,lastColumn:s}=e,a={first:i,last:r},c={first:o,last:s};CE(t,o,a,n),CE(t,s+1,a,n),TE(t,i,c,n),TE(t,r+1,c,n,i)}(r,a,n):(a.lastRow=Vx(r,a),a.lastColumn=zx(r,a));return a}(e,r,n,i),s=o.lastRow-o.firstRow+1,a=o.lastColumn-o.firstColumn+1;t=Ox(t,{startRow:0,startColumn:0,endRow:Math.min(s,r.height)-1,endColumn:Math.min(a,r.width)-1},n);const c=e[0].findAncestor("table"),l=this._replaceSelectedCellsWithPasted(t,r,c,o,n);if(this.editor.plugins.get("TableSelection").isEnabled){const t=i.sortRanges(l.map((t=>n.createRangeOn(t))));n.setSelection(t)}else n.setSelection(l[0],0);return c}_replaceSelectedCellsWithPasted(t,e,n,i,r){const{width:o,height:s}=e,a=function(t,e,n){const i=new Array(n).fill(null).map((()=>new Array(e).fill(null)));for(const{column:e,row:n,cell:r}of new kx(t))i[n][e]=r;return i}(t,o,s),c=[...new kx(n,{startRow:i.firstRow,endRow:i.lastRow,startColumn:i.firstColumn,endColumn:i.lastColumn,includeAllSlots:!0})],l=[];let u;for(const t of c){const{row:e,column:n}=t;n===i.firstColumn&&(u=t.getPositionBefore());const c=e-i.firstRow,h=n-i.firstColumn,d=a[c%s][h%o],f=d?r.cloneElement(d):null,g=this._replaceTableSlotCell(t,f,u,r);g&&(Bx(g,e,n,i.lastRow,i.lastColumn,r),l.push(g),u=r.createPositionAfter(g))}const h=parseInt(n.getAttribute("headingRows")||"0"),d=parseInt(n.getAttribute("headingColumns")||"0"),f=i.firstRow<h&&h<=i.lastRow,g=i.firstColumn<d&&d<=i.lastColumn;if(f){const t=TE(n,h,{first:i.firstColumn,last:i.lastColumn},r,i.firstRow);l.push(...t)}if(g){const t=CE(n,d,{first:i.firstRow,last:i.lastRow},r);l.push(...t)}return l}_replaceTableSlotCell(t,e,n,i){const{cell:r,isAnchor:o}=t;return o&&i.remove(r),e?(i.insert(e,n),e):null}getTableIfOnlyTableInContent(t,e){if(!t.is("documentFragment")&&!t.is("element"))return null;if(t.is("element","table"))return t;if(1==t.childCount&&t.getChild(0).is("element","table"))return t.getChild(0);const n=e.createRangeIn(t);for(const t of n.getItems())if(t.is("element","table")){const i=e.createRange(n.start,e.createPositionBefore(t));if(e.hasContent(i,{ignoreWhitespaces:!0}))return null;const r=e.createRange(e.createPositionAfter(t),n.end);return e.hasContent(r,{ignoreWhitespaces:!0})?null:t}return null}}function TE(t,e,n,i,r=0){if(e<1)return;return Dx(t,e,r).filter((({column:t,cellWidth:e})=>AE(t,e,n))).map((({cell:t})=>Nx(t,e,i)))}function CE(t,e,n,i){if(e<1)return;return Lx(t,e).filter((({row:t,cellHeight:e})=>AE(t,e,n))).map((({cell:t,column:n})=>Rx(t,n,e,i)))}function AE(t,e,n){const i=t+e-1,{first:r,last:o}=n;return t>=r&&t<=o||t<r&&i>=r}class SE extends fo{static get pluginName(){return"TableKeyboard"}static get isOfficialPlugin(){return!0}static get requires(){return[xE,Zx]}init(){const t=this.editor,e=t.editing.view.document,n=t.t;this.listenTo(e,"arrowKey",((...t)=>this._onArrowKey(...t)),{context:"table"}),this.listenTo(e,"tab",((...t)=>this._handleTabOnSelectedTable(...t)),{context:"figure"}),this.listenTo(e,"tab",((...t)=>this._handleTab(...t)),{context:["th","td"]}),t.accessibility.addKeystrokeInfoGroup({id:"table",label:n("Keystrokes that can be used in a table cell"),keystrokes:[{label:n("Move the selection to the next cell"),keystroke:"Tab"},{label:n("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:n("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:n("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(t,e){const n=this.editor,i=n.model.document.selection.getSelectedElement();i&&i.is("element","table")&&(e.preventDefault(),e.stopPropagation(),t.stop(),n.model.change((t=>{t.setSelection(t.createRangeIn(i.getChild(0).getChild(0)))})))}_handleTab(t,e){const n=this.editor,i=this.editor.plugins.get(Zx),r=this.editor.plugins.get("TableSelection"),o=n.model.document.selection,s=!e.shiftKey;let a=i.getTableCellsContainingSelection(o)[0];if(a||(a=r.getFocusCell()),!a)return;e.preventDefault(),e.stopPropagation(),t.stop();const c=a.parent,l=c.parent,u=l.getChildIndex(c),h=c.getChildIndex(a),d=0===h;if(!s&&d&&0===u)return void n.model.change((t=>{t.setSelection(t.createRangeOn(l))}));const f=h===c.childCount-1,g=u===i.getRows(l)-1;if(s&&g&&f&&(n.execute("insertTableRowBelow"),u===i.getRows(l)-1))return void n.model.change((t=>{t.setSelection(t.createRangeOn(l))}));let p;if(s&&f){const t=l.getChild(u+1);p=t.getChild(0)}else if(!s&&d){const t=l.getChild(u-1);p=t.getChild(t.childCount-1)}else p=c.getChild(h+(s?1:-1));n.model.change((t=>{t.setSelection(t.createRangeIn(p))}))}_onArrowKey(t,e){const n=this.editor,i=Er(e.keyCode,n.locale.contentLanguageDirection);this._handleArrowKeys(i,e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),t.stop())}_handleArrowKeys(t,e){const n=this.editor.plugins.get(Zx),i=this.editor.plugins.get("TableSelection"),r=this.editor.model,o=r.document.selection,s=["right","down"].includes(t),a=n.getSelectedTableCells(o);if(a.length){let n;return n=e?i.getFocusCell():s?a[a.length-1]:a[0],this._navigateFromCellInDirection(n,t,e),!0}const c=o.focus.findAncestor("tableCell");if(!c)return!1;if(!o.isCollapsed)if(e){if(o.isBackward==s&&!o.containsEntireContent(c))return!1}else{const t=o.getSelectedElement();if(!t||!r.schema.isObject(t))return!1}return!!this._isSelectionAtCellEdge(o,c,s)&&(this._navigateFromCellInDirection(c,t,e),!0)}_isSelectionAtCellEdge(t,e,n){const i=this.editor.model,r=this.editor.model.schema,o=n?t.getLastPosition():t.getFirstPosition();if(!r.getLimitElement(o).is("element","tableCell")){return i.createPositionAt(e,n?"end":0).isTouching(o)}const s=i.createSelection(o);return i.modifySelection(s,{direction:n?"forward":"backward"}),o.isEqual(s.focus)}_navigateFromCellInDirection(t,e,n=!1){const i=this.editor.model,r=t.findAncestor("table"),o=[...new kx(r,{includeAllSlots:!0})],{row:s,column:a}=o[o.length-1],c=o.find((({cell:e})=>e==t));let{row:l,column:u}=c;switch(e){case"left":u--;break;case"up":l--;break;case"right":u+=c.cellWidth;break;case"down":l+=c.cellHeight}if(l<0||l>s||u<0&&l<=0||u>a&&l>=s)return void i.change((t=>{t.setSelection(t.createRangeOn(r))}));u<0?(u=n?0:a,l--):u>a&&(u=n?a:0,l++);const h=o.find((t=>t.row==l&&t.column==u)).cell,d=["right","down"].includes(e),f=this.editor.plugins.get("TableSelection");if(n&&f.isEnabled){const e=f.getAnchorCell()||t;f.setCellSelection(e,h)}else{const t=i.createPositionAt(h,d?0:"end");i.change((e=>{e.setSelection(t)}))}}}class IE extends Sa{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(t){this.fire(t.type,t)}}class ME extends fo{static get pluginName(){return"TableMouse"}static get isOfficialPlugin(){return!0}static get requires(){return[xE,Zx]}init(){this.editor.editing.view.addObserver(IE),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const t=this.editor,e=t.plugins.get(Zx);let n=!1;const i=t.plugins.get(xE);this.listenTo(t.editing.view.document,"mousedown",((r,o)=>{const s=t.model.document.selection;if(!this.isEnabled||!i.isEnabled)return;if(!o.domEvent.shiftKey)return;const a=i.getAnchorCell()||e.getTableCellsContainingSelection(s)[0];if(!a)return;const c=this._getModelTableCellFromDomEvent(o);c&&PE(a,c)&&(n=!0,i.setCellSelection(a,c),o.preventDefault())})),this.listenTo(t.editing.view.document,"mouseup",(()=>{n=!1})),this.listenTo(t.editing.view.document,"selectionChange",(t=>{n&&t.stop()}),{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let e,n,i=!1,r=!1;const o=t.plugins.get(xE);this.listenTo(t.editing.view.document,"mousedown",((t,n)=>{this.isEnabled&&o.isEnabled&&(n.domEvent.shiftKey||n.domEvent.ctrlKey||n.domEvent.altKey||(e=this._getModelTableCellFromDomEvent(n)))})),this.listenTo(t.editing.view.document,"mousemove",((t,s)=>{if(!s.domEvent.buttons)return;if(!e)return;const a=this._getModelTableCellFromDomEvent(s);a&&PE(e,a)&&(n=a,i||n==e||(i=!0)),i&&(r=!0,o.setCellSelection(e,n),s.preventDefault())})),this.listenTo(t.editing.view.document,"mouseup",(()=>{i=!1,r=!1,e=null,n=null})),this.listenTo(t.editing.view.document,"selectionChange",(t=>{r&&t.stop()}),{priority:"highest"})}_getModelTableCellFromDomEvent(t){const e=t.target,n=this.editor.editing.view.createPositionAt(e,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}function PE(t,e){return t.parent.parent==e.parent.parent}function OE(t){const e=t.getSelectedElement();return e&&NE(e)?e:null}function DE(t){const e=t.getFirstPosition();if(!e)return null;let n=e.parent;for(;n;){if(n.is("element")&&NE(n))return n;n=n.parent}return null}function NE(t){return!!t.getCustomProperty("table")&&wb(t)}const LE={autoRefresh:!0},RE=36e5;class BE extends(Y()){constructor(t,e={}){if(super(),this._isDestroyed=!1,!t)throw new E("token-missing-token-url",this);e.initValue&&this._validateTokenValue(e.initValue),this.set("value",e.initValue),this._refresh="function"==typeof t?t:()=>{return e=t,new Promise(((t,n)=>{const i=new XMLHttpRequest;i.open("GET",e),i.addEventListener("load",(()=>{const e=i.status,r=i.response;return e<200||e>299?n(new E("token-cannot-download-new-token",null)):t(r)})),i.addEventListener("error",(()=>n(new Error("Network Error")))),i.addEventListener("abort",(()=>n(new Error("Abort")))),i.send()}));var e},this._options={...LE,...e}}init(){return new Promise(((t,e)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),t(this)):this.refreshToken().then(t).catch(e)}))}refreshToken(){const t=this._options.autoRefresh;return this._refresh().then((e=>(this._validateTokenValue(e),this.set("value",e),t&&this._registerRefreshTokenTimeout(),this))).catch((e=>{throw T("token-refresh-failed",{autoRefresh:t}),t&&this._registerRefreshTokenTimeout(5e3),e}))}destroy(){this._isDestroyed=!0,clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(t){const e="string"==typeof t,n=!/^".*"$/.test(t),i=e&&3===t.split(".").length;if(!n||!i)throw new E("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(t){if(clearTimeout(this._tokenRefreshTimeout),this._isDestroyed)return;const e=t||this._getTokenRefreshTimeoutTime();this._tokenRefreshTimeout=setTimeout((()=>{this.refreshToken()}),e)}_getTokenRefreshTimeoutTime(){try{const[,t]=this.value.split("."),{exp:e}=JSON.parse(atob(t));if(!e)return RE;return Math.floor((1e3*e-Date.now())/2)}catch(t){return RE}}static create(t,e={}){return new BE(t,e).init()}}const FE=/^data:(\S*?);base64,/;class jE extends(L()){constructor(t,e,n){if(super(),!t)throw new E("fileuploader-missing-file",null);if(!e)throw new E("fileuploader-missing-token",null);if(!n)throw new E("fileuploader-missing-api-address",null);this.file=function(t){if("string"!=typeof t)return!1;const e=t.match(FE);return!(!e||!e.length)}(t)?function(t,e=512){try{const n=t.match(FE)[1],i=atob(t.replace(FE,"")),r=[];for(let t=0;t<i.length;t+=e){const n=i.slice(t,t+e),o=new Array(n.length);for(let t=0;t<n.length;t++)o[t]=n.charCodeAt(t);r.push(new Uint8Array(o))}return new Blob(r,{type:n})}catch(t){throw new E("fileuploader-decoding-image-data-error",null)}}(t):t,this._token=e,this._apiAddress=n}onProgress(t){return this.on("progress",((e,n)=>t(n))),this}onError(t){return this.once("error",((e,n)=>t(n))),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}_attachXHRListeners(){const t=this.xhr,e=t=>()=>this.fire("error",t);t.addEventListener("error",e("Network Error")),t.addEventListener("abort",e("Abort")),t.upload&&t.upload.addEventListener("progress",(t=>{t.lengthComputable&&this.fire("progress",{total:t.total,uploaded:t.loaded})})),t.addEventListener("load",(()=>{const e=t.status,n=t.response;if(e<200||e>299)return this.fire("error",n.message||n.error)}))}_sendRequest(){const t=new FormData,e=this.xhr;return t.append("file",this.file),new Promise(((n,i)=>{e.addEventListener("load",(()=>{const t=e.status,r=e.response;return t<200||t>299?r.message?i(new E("fileuploader-uploading-data-failed",this,{message:r.message})):i(r.error):n(r)})),e.addEventListener("error",(()=>i(new Error("Network Error")))),e.addEventListener("abort",(()=>i(new Error("Abort")))),e.send(t)}))}}class $E{constructor(t,e){if(!t)throw new E("uploadgateway-missing-token",null);if(!e)throw new E("uploadgateway-missing-api-address",null);this._token=t,this._apiAddress=e}upload(t){return new jE(t,this._token,this._apiAddress)}}class VE extends vo{static get pluginName(){return"CloudServicesCore"}static get isOfficialPlugin(){return!0}createToken(t,e){return new BE(t,e)}createUploadGateway(t,e){return new $E(t,e)}}class zE extends Yv{}zE.builtinPlugins=[class extends fo{static get requires(){return[sf,aw,ab,n_,hb,Bm,pw]}static get pluginName(){return"Essentials"}static get isOfficialPlugin(){return!0}},class extends fo{static get requires(){return[Rm]}static get pluginName(){return"Autoformat"}static get isOfficialPlugin(){return!0}afterInit(){const t=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&i_(this.editor,this,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&i_(this.editor,this,/^1[.|)]\s$/,"numberedList"),t.get("todoList")&&i_(this.editor,this,/^\[\s?\]\s$/,"todoList"),t.get("checkTodoList")&&i_(this.editor,this,/^\[\s?x\s?\]\s$/,(()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")}))}_addBasicStylesAutoformats(){const t=this.editor.commands;if(t.get("bold")){const t=s_(this.editor,"bold");r_(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),r_(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(t.get("italic")){const t=s_(this.editor,"italic");r_(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),r_(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(t.get("code")){const t=s_(this.editor,"code");r_(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(t.get("strikethrough")){const t=s_(this.editor,"strikethrough");r_(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter((t=>t.match(/^heading[1-6]$/))).forEach((e=>{const n=e[7],i=new RegExp(`^(#{${n}})\\s$`);i_(this.editor,this,i,(()=>{if(!t.isEnabled||t.value===e)return!1;this.editor.execute("heading",{value:e})}))}))}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&i_(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const t=this.editor,e=t.model.document.selection;t.commands.get("codeBlock")&&i_(t,this,/^```$/,(()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})}))}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&i_(this.editor,this,/^---$/,"horizontalLine")}},class extends fo{static get requires(){return[l_,d_]}static get pluginName(){return"Bold"}static get isOfficialPlugin(){return!0}},class extends fo{static get requires(){return[g_,m_]}static get pluginName(){return"Italic"}static get isOfficialPlugin(){return!0}},class extends fo{static get requires(){return[__,k_]}static get pluginName(){return"BlockQuote"}static get isOfficialPlugin(){return!0}},class extends vo{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get isOfficialPlugin(){return!0}static get requires(){return[VE]}async init(){const t=this.context.config.get("cloudServices")||{};for(const[e,n]of Object.entries(t))this[e]=n;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl);try{this.token=await e.init(),this._tokens.set(this.tokenUrl,this.token)}catch(t){throw e.destroy(),t}}async registerTokenUrl(t){if(this._tokens.has(t))return this.getTokenFor(t);const e=this.context.plugins.get("CloudServicesCore"),n=await e.createToken(t).init();return this._tokens.set(t,n),n}getTokenFor(t){const e=this._tokens.get(t);if(!e)throw new E("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const t of this._tokens.values())t.destroy()}},class extends fo{static get pluginName(){return"EasyImage"}static get isOfficialPlugin(){return!0}static get requires(){return[x_,"ImageUpload"]}init(){const t=this.editor;t.plugins.has("ImageBlockEditing")||t.plugins.has("ImageInlineEditing")||T("easy-image-image-feature-missing",t)}},class extends fo{static get requires(){return[D_,N_]}static get pluginName(){return"Heading"}static get isOfficialPlugin(){return!0}},class extends fo{static get requires(){return[Hw,qw]}static get pluginName(){return"Image"}static get isOfficialPlugin(){return!0}},class extends fo{static get requires(){return[Kw,Yw]}static get pluginName(){return"ImageCaption"}static get isOfficialPlugin(){return!0}},class extends fo{static get requires(){return[Dy,Ny]}static get pluginName(){return"ImageStyle"}static get isOfficialPlugin(){return!0}},class extends fo{static get requires(){return[jb,kw]}static get pluginName(){return"ImageToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const t=this.editor,e=t.t,n=t.plugins.get(jb),i=t.plugins.get("ImageUtils");var r;n.register("image",{ariaLabel:e("Image toolbar"),items:(r=t.config.get("image.toolbar")||[],r.map((t=>z(t)?t.name:t))),getRelatedElement:t=>i.getClosestSelectedImageWidget(t)})}},class extends fo{static get pluginName(){return"ImageUpload"}static get isOfficialPlugin(){return!0}static get requires(){return[ay,Jw,ty]}},Zp,class extends fo{static get pluginName(){return"Indent"}static get isOfficialPlugin(){return!0}static get requires(){return[L_,R_]}},class extends fo{static get requires(){return[xv,Sv,Pv]}static get pluginName(){return"Link"}static get isOfficialPlugin(){return!0}},Ik,class extends fo{static get requires(){return[Vk,qk,Hk,Bb]}static get pluginName(){return"MediaEmbed"}static get isOfficialPlugin(){return!0}},I_,class extends fo{static get pluginName(){return"PasteFromOffice"}static get isOfficialPlugin(){return!0}static get requires(){return[ym]}init(){const t=this.editor,e=t.plugins.get("ClipboardPipeline"),n=t.editing.view.document,i=[],r=this.editor.plugins.has("MultiLevelList");i.push(new ax(n,r)),i.push(new hx(n)),i.push(new fx(n)),e.on("inputTransformation",((e,r)=>{if(r._isTransformedWithPasteFromOffice)return;if(t.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const o=r.dataTransfer.getData("text/html"),s=i.find((t=>t.isActive(o)));s&&(r._parsedData||(r._parsedData=px(o,n.stylesProcessor)),s.execute(r),r._isTransformedWithPasteFromOffice=!0)}),{priority:"high"})}},Fy,class extends fo{static get requires(){return[wE,_E,xE,ME,SE,EE,Bb]}static get pluginName(){return"Table"}static get isOfficialPlugin(){return!0}},class extends fo{static get requires(){return[jb]}static get pluginName(){return"TableToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const t=this.editor,e=t.t,n=t.plugins.get(jb),i=t.config.get("table.contentToolbar"),r=t.config.get("table.tableToolbar");i&&n.register("tableContent",{ariaLabel:e("Table toolbar"),items:i,getRelatedElement:DE}),r&&n.register("table",{ariaLabel:e("Table toolbar"),items:r,getRelatedElement:OE})}},class extends fo{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}static get isOfficialPlugin(){return!0}constructor(t){super(t),t.config.define("typing",{transformations:{include:Ym}})}init(){const t=this.editor.model.document.selection;t.on("change:range",(()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")})),this._enableTransformationWatchers()}_enableTransformationWatchers(){const t=this.editor,e=t.model,n=t.plugins.get("Delete"),i=function(t){const e=t.extra||[],n=t.remove||[],i=t=>!n.includes(t);return function(t){const e=new Set;for(const n of t)if("string"==typeof n&&Km[n])for(const t of Km[n])e.add(t);else e.add(n);return Array.from(e)}(t.include.concat(e).filter(i)).filter(i).map((t=>"string"==typeof t&&Gm[t]?Gm[t]:t)).filter((t=>"object"==typeof t)).map((t=>({from:Xm(t.from),to:Zm(t.to)})))}(t.config.get("typing.transformations")),r=new jm(t.model,(t=>{for(const e of i){if(e.from.test(t))return{normalizedTransformation:e}}}));r.on("matched:data",((t,i)=>{if(!i.batch.isTyping)return;const{from:r,to:o}=i.normalizedTransformation,s=r.exec(i.text),a=o(s.slice(1)),c=i.range;let l=s.index;e.enqueueChange((t=>{for(let n=1;n<s.length;n++){const i=s[n],r=a[n-1];if(null==r){l+=i.length;continue}const o=c.start.getShiftedBy(l),u=e.createRange(o,o.getShiftedBy(i.length)),h=Qm(o);e.insertContent(t.createText(r,h),u),l+=r.length}e.enqueueChange((()=>{n.requestUndoOnBackspace()}))}))})),r.bind("isEnabled").to(this)}}],zE.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:wrapText","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"},zE.create(document.querySelector("#mermaid"),{plugins:zE.builtinPlugins.concat([Fy,class extends fo{static get requires(){return[fy,vy,Ty,py]}static get pluginName(){return"ImageResize"}static get isOfficialPlugin(){return!0}},class extends fo{static get requires(){return[aw,kw,pw,Rm]}static get pluginName(){return"AutoImage"}static get isOfficialPlugin(){return!0}constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){const t=this.editor,n=t.model.document,i=t.plugins.get("ClipboardPipeline");this.listenTo(i,"inputTransformation",(()=>{const t=n.selection.getFirstRange(),e=$u.fromPosition(t.start);e.stickiness="toPrevious";const i=$u.fromPosition(t.end);i.stickiness="toNext",n.once("change:data",(()=>{this._embedImageBetweenPositions(e,i),e.detach(),i.detach()}),{priority:"high"})})),t.commands.get("undo").on("execute",(()=>{this._timeoutId&&(e.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)}),{priority:"high"})}_embedImageBetweenPositions(t,e){const n=this.editor,i=new Kc(t,e),r=i.getWalker({ignoreElementEnd:!0}),o=Object.fromEntries(n.model.document.selection.getAttributes()),s=this.editor.plugins.get("ImageUtils");let a="";for(const t of r)t.item.is("$textProxy")&&(a+=t.item.data);a=a.trim(),a.match(Ew)?(this._positionToInsert=$u.fromPosition(t),this._timeoutId=setTimeout((()=>{if(!n.commands.get("insertImage").isEnabled)return void i.detach();n.model.change((t=>{let e;this._timeoutId=null,t.remove(i),i.detach(),"$graveyard"!==this._positionToInsert.root.rootName&&(e=this._positionToInsert.toPosition()),s.insertImage({...o,src:a},e),this._positionToInsert.detach(),this._positionToInsert=null}));n.plugins.get("Delete").requestUndoOnBackspace()}),100)):i.detach()}},class extends fo{static get requires(){return[Dv,Rv]}static get pluginName(){return"LinkImage"}static get isOfficialPlugin(){return!0}},Zp,class extends fo{static get requires(){return[Uv,qv,Wv]}static get pluginName(){return"Mermaid"}}]),removePlugins:["UploadImage"],toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","insertImage","insertTable","blockQuote","mediaEmbed","mermaid","|","bulletedList","numberedList","outdent","indent"]},ui:{viewportOffset:{top:window.getViewportTopOffsetConfig()}},cloudServices:Bv,licenseKey:"GPL"}).then((t=>{window.editor=t})).catch((t=>{console.error(t.stack)}))})()})();
//# sourceMappingURL=snippet.js.map