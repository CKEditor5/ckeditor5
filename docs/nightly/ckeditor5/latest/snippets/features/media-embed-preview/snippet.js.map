{"version":3,"file":"features/media-embed-preview/snippet.js","mappings":";;;sBAWO,MAIMA,EAAY,CACxBC,SALwB,kGAMxBC,UAJyB,8CCA1BC,cACEC,OAAQC,SAASC,cAAe,gCAAkC,CAClEC,cAAeP,EACfQ,QAAS,CACRC,MAAO,CACN,OAAQ,OAAQ,IAAK,UACrB,IAAK,OAAQ,SACb,IAAK,OAAQ,cAAe,cAAe,aAC3C,IAAK,eAAgB,eAAgB,UAAW,WAGlDC,MAAO,CACNF,QAAS,CACR,oBAAqB,mBAAoB,sBAAuB,IAChE,qBAAsB,uBAAwB,mBAGhDG,GAAI,CACHC,eAAgB,CACfC,IAAKC,OAAOC,+BAGdC,MAAO,CACNf,SC1BsB,kCD2BtBgB,2BAA4B,CAAE,SAAU,SAAU,SAClDC,gBAAgB,GAEjBC,WAAY,CACXC,gBAAgB,EAChBC,UAAW,CACV,CACCC,KAAM,oBACNC,IAAK,KACLC,KAAMC,IACL,MAAMF,EAAME,EAAO,GAGnB,MAGG,6EALeC,kFAAiDC,mBAAoBJ,GAAQ,uGAU9F,KAKLK,WAAY,QAEZC,MAAMC,IACNhB,OAAOgB,OAASA,EAEhBhB,OAAOiB,kBAAmB,CACzBC,OAAQlB,OAAOmB,gBAAiBH,EAAOnB,GAAGuB,KAAK1B,SAC9C2B,GAAwB,iBAAhBA,GAAMC,QACfC,KAAM,wBACNP,UACE,IAEHQ,OAAOC,IACPC,QAAQC,MAAOF,EAAIG,MAAO,IAK5B,MAAMC,EAActC,SAASuC,cAAe,QAE5CD,EAAYrB,KAAO,gCACnBqB,EAAYE,QAAUC,KAAKC,UAAW,CACrC,kBAAmB,CAAE,YAAa,gBAClC,mBAAoB,CAAE,YAAa,eAAgB,6BACnD,gBAAiB,CAAE,sCAAuC,YAAa,eAAgB,aAAc,qBAGtG1C,SAAS2C,KAAKC,YAAaN,E","sources":["webpack://ckeditor5/./packages/ckeditor5-cloud-services/tests/_utils/cloud-services-config.js","webpack://ckeditor5/./node_modules/umberto/source/ckeditor5/44.1.0/_snippets/features/media-embed-preview.js","webpack://ckeditor5/./packages/ckeditor5-ckbox/tests/_utils/ckbox-config.js"],"sourcesContent":["/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n// WARNING: The URLs below should not be used for any other purpose than Easy Image plugin development.\n// Images uploaded using the testing token service may be deleted automatically at any moment.\n// If you would like to try the Easy Image service, please sign up for a free trial (https://ckeditor.com/ckeditor-cloud-services/).\n// Images uploaded during the free trial will not be deleted for the whole trial period and additionally the trial service can be converted\n// into a subscription at any moment, allowing you to preserve all uploaded images.\n\nexport const TOKEN_URL = 'https://33333.cke-cs.com/token/dev/ijrDsqFix838Gh3wGO3F77FSW94BwcLXprJ4APSp3XQ26xsUHTi0jcb1hoBt';\n\nexport const UPLOAD_URL = 'https://33333.cke-cs.com/easyimage/upload/';\n\nexport const CS_CONFIG = {\n\ttokenUrl: TOKEN_URL,\n\tuploadUrl: UPLOAD_URL\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/* globals ClassicEditor, console, window, document */\n\nimport { CS_CONFIG } from '@ckeditor/ckeditor5-cloud-services/tests/_utils/cloud-services-config.js';\nimport { TOKEN_URL } from '@ckeditor/ckeditor5-ckbox/tests/_utils/ckbox-config.js';\n\nconst IFRAME_SRC = '//ckeditor.iframe.ly/api/iframe';\nconst API_KEY = 'febab8169e71e501ae2e707f55105647';\n\nClassicEditor\n\t.create( document.querySelector( '#snippet-media-embed-preview' ), {\n\t\tcloudServices: CS_CONFIG,\n\t\ttoolbar: {\n\t\t\titems: [\n\t\t\t\t'undo', 'redo', '|', 'heading',\n\t\t\t\t'|', 'bold', 'italic',\n\t\t\t\t'|', 'link', 'insertImage', 'insertTable', 'mediaEmbed',\n\t\t\t\t'|', 'bulletedList', 'numberedList', 'outdent', 'indent'\n\t\t\t]\n\t\t},\n\t\timage: {\n\t\t\ttoolbar: [\n\t\t\t\t'imageStyle:inline', 'imageStyle:block', 'imageStyle:wrapText', '|',\n\t\t\t\t'toggleImageCaption', 'imageTextAlternative', 'ckboxImageEdit'\n\t\t\t]\n\t\t},\n\t\tui: {\n\t\t\tviewportOffset: {\n\t\t\t\ttop: window.getViewportTopOffsetConfig()\n\t\t\t}\n\t\t},\n\t\tckbox: {\n\t\t\ttokenUrl: TOKEN_URL,\n\t\t\tallowExternalImagesEditing: [ /^data:/, 'origin', /ckbox/ ],\n\t\t\tforceDemoLabel: true\n\t\t},\n\t\tmediaEmbed: {\n\t\t\tpreviewsInData: false,\n\t\t\tproviders: [\n\t\t\t\t{\n\t\t\t\t\tname: 'iframely previews',\n\t\t\t\t\turl: /.+/,\n\t\t\t\t\thtml: match => {\n\t\t\t\t\t\tconst url = match[ 0 ];\n\t\t\t\t\t\tconst iframeUrl = IFRAME_SRC + '?app=1&key=' + API_KEY + '&url=' + encodeURIComponent( url ) + '&consent=0';\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t'<div class=\"iframely-embed\">' +\n\t\t\t\t\t\t\t\t'<div class=\"iframely-responsive\">' +\n\t\t\t\t\t\t\t\t\t`<iframe src=\"${ iframeUrl }\" ` +\n\t\t\t\t\t\t\t\t\t\t'frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen>' +\n\t\t\t\t\t\t\t\t\t'</iframe>' +\n\t\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t\t'</div>'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\tlicenseKey: 'GPL'\n\t} )\n\t.then( editor => {\n\t\twindow.editor = editor;\n\n\t\twindow.attachTourBalloon( {\n\t\t\ttarget: window.findToolbarItem( editor.ui.view.toolbar,\n\t\t\t\titem => item?.label === 'Insert media' ),\n\t\t\ttext: 'Click to embed media.',\n\t\t\teditor\n\t\t} );\n\t} )\n\t.catch( err => {\n\t\tconsole.error( err.stack );\n\t} );\n\n// For a totally unknown reason, Travis and Vimeo do not like each other and the test fail on CI.\n// Ignore errors from Facebook as well\nconst metaElement = document.createElement( 'meta' );\n\nmetaElement.name = 'x-cke-crawler-ignore-patterns';\nmetaElement.content = JSON.stringify( {\n\t'request-failure': [ 'vimeo.com', 'facebook.com' ],\n\t'response-failure': [ 'vimeo.com', 'facebook.com', 'challenges.cloudflare.com' ],\n\t'console-error': [ '<svg> attribute preserveAspectRatio', 'vimeo.com', 'facebook.com', 'ErrorUtils', 'transparent NaN' ]\n} );\n\ndocument.head.appendChild( metaElement );\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n// WARNING: The URLs below should not be used for any other purpose than CKBox plugin development.\n// Images uploaded using the testing token service may be deleted automatically at any moment.\n// If you would like to try the CKBox service, please sign up for a free trial.\n// Images uploaded during the free trial will not be deleted for the whole trial period and additionally the trial service can be converted\n// into a subscription at any moment, allowing you to preserve all uploaded images.\nexport const TOKEN_URL = 'https://api.ckbox.io/token/demo';\n\n// If you want to play with non-superadmin tokens, use:\n// export const TOKEN_URL = 'https://preview.ckbox.io/cke-workspaces-demo/?page=token&role=user&workspaces=some-id1,some-id2';\n"],"names":["CS_CONFIG","tokenUrl","uploadUrl","ClassicEditor","create","document","querySelector","cloudServices","toolbar","items","image","ui","viewportOffset","top","window","getViewportTopOffsetConfig","ckbox","allowExternalImagesEditing","forceDemoLabel","mediaEmbed","previewsInData","providers","name","url","html","match","IFRAME_SRC","encodeURIComponent","licenseKey","then","editor","attachTourBalloon","target","findToolbarItem","view","item","label","text","catch","err","console","error","stack","metaElement","createElement","content","JSON","stringify","head","appendChild"],"sourceRoot":""}