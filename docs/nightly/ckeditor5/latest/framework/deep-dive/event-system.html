<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Event system | CKEditor 5 Framework Documentation</title>
    <meta name="description" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <meta name="twitter:card" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <meta name="twitter:site" content="@ckeditor">
    <meta name="x-generated-at" content="Sun Jan 19 2025 02:13:30 GMT+0000 (Coordinated Universal Time)">
    <meta property="og:title" content="Event system | CKEditor 5 Framework Documentation">
    <meta property="og:description" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ckeditor.com/docs/ckeditor5/latest/framework/deep-dive/event-system.html">
    <meta property="DC.language" content="en">
    <meta property="DC.publisher" content="CKSource">
    <meta property="DC.creator" content="CKEditor">
    <meta property="DC.title" content="Event system | CKEditor 5 Framework Documentation">
    <meta property="DC.format" content="text/html">
    <meta property="DC.type" content="Text">
    <meta property="DC.description" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <link rel="canonical" href="https://ckeditor.com/docs/ckeditor5/latest/framework/deep-dive/event-system.html">
    <link rel="icon" type="image/png" href="../../assets/img/favicons/16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="../../assets/img/favicons/32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="../../assets/img/favicons/96x96.png" sizes="96x96">
    <link rel="apple-touch-icon" type="image/png" href="../../assets/img/favicons/200x200.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
    <link rel="stylesheet" href="../../../../assets/4.4.2/css/styles.css" type="text/css" media="all">
    <link rel="stylesheet" href="../../assets/styles.css" type="text/css">
    <link rel="preconnect" href="https://dev.visualwebsiteoptimizer.com">
    <script id="vwoCode" type="text/javascript">
      window._vwo_code || (function() {
      var account_id='854367',
      version=2.1,
      settings_tolerance=2000,
      hide_element='body',
      hide_element_style = 'opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important',
      f=false,w=window,d=document,v=d.querySelector('#vwoCode'),cK='_vwo_'+account_id+'_settings',cc={};try{var c=JSON.parse(localStorage.getItem('_vwo_'+account_id+'_config'));cc=c&&typeof c==='object'?c:{}}catch(e){}var stT=cc.stT==='session'?w.sessionStorage:w.localStorage;code={use_existing_jquery:function(){return typeof use_existing_jquery!=='undefined'?use_existing_jquery:undefined},library_tolerance:function(){return typeof library_tolerance!=='undefined'?library_tolerance:undefined},settings_tolerance:function(){return cc.sT||settings_tolerance},hide_element_style:function(){return'{'+(cc.hES||hide_element_style)+'}'},hide_element:function(){if(performance.getEntriesByName('first-contentful-paint')[0]){return''}return typeof cc.hE==='string'?cc.hE:hide_element},getVersion:function(){return version},finish:function(e){if(!f){f=true;var t=d.getElementById('_vis_opt_path_hides');if(t)t.parentNode.removeChild(t);if(e)(new Image).src='https://dev.visualwebsiteoptimizer.com/ee.gif?a='+account_id+e}},finished:function(){return f},addScript:function(e){var t=d.createElement('script');t.type='text/javascript';if(e.src){t.src=e.src}else{t.text=e.text}d.getElementsByTagName('head')[0].appendChild(t)},load:function(e,t){var i=this.getSettings(),n=d.createElement('script'),r=this;t=t||{};if(i){n.textContent=i;d.getElementsByTagName('head')[0].appendChild(n);if(!w.VWO||VWO.caE){stT.removeItem(cK);r.load(e)}}else{var o=new XMLHttpRequest;o.open('GET',e,true);o.withCredentials=!t.dSC;o.responseType=t.responseType||'text';o.onload=function(){if(t.onloadCb){return t.onloadCb(o,e)}if(o.status===200){_vwo_code.addScript({text:o.responseText})}else{_vwo_code.finish('&e=loading_failure:'+e)}};o.onerror=function(){if(t.onerrorCb){return t.onerrorCb(e)}_vwo_code.finish('&e=loading_failure:'+e)};o.send()}},getSettings:function(){try{var e=stT.getItem(cK);if(!e){return}e=JSON.parse(e);if(Date.now()>e.e){stT.removeItem(cK);return}return e.s}catch(e){return}},init:function(){if(d.URL.indexOf('__vwo_disable__')>-1)return;var e=this.settings_tolerance();w._vwo_settings_timer=setTimeout(function(){_vwo_code.finish();stT.removeItem(cK)},e);var t;if(this.hide_element()!=='body'){t=d.createElement('style');var i=this.hide_element(),n=i?i+this.hide_element_style():'',r=d.getElementsByTagName('head')[0];t.setAttribute('id','_vis_opt_path_hides');v&&t.setAttribute('nonce',v.nonce);t.setAttribute('type','text/css');if(t.styleSheet)t.styleSheet.cssText=n;else t.appendChild(d.createTextNode(n));r.appendChild(t)}else{t=d.getElementsByTagName('head')[0];var n=d.createElement('div');n.style.cssText='z-index: 2147483647 !important;position: fixed !important;left: 0 !important;top: 0 !important;width: 100% !important;height: 100% !important;background: white !important;';n.setAttribute('id','_vis_opt_path_hides');n.classList.add('_vis_hide_layer');t.parentNode.insertBefore(n,t.nextSibling)}var o='https://dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&vn='+version;if(w.location.search.indexOf('_vwo_xhr')!==-1){this.addScript({src:o})}else{this.load(o+'&x=true')}}};w._vwo_code=code;code.init();})();
    </script>
    <script>if ( ["ckeditor5.github.io"].indexOf( location.hostname ) !== -1 ) {
      	( function ( w, d, e, u, a, b ) {
      		a = d.createElement( e );
      		b = d.getElementsByTagName( e )[ 0 ];
      		a.async = 1;
      		a.src = u;
      		b.parentNode.insertBefore( a, b )
      	} )( window, document, 'script', 'https://www.googletagmanager.com/gtag/js?id=G-H2PK3PSE3F' );
      	window.dataLayer = window.dataLayer || [];
      
      	function gtag() {
      		dataLayer.push( arguments );
      	}
      
      	gtag( 'js', new Date() );
      	gtag( 'config', 'G-H2PK3PSE3F' );
      }
    </script>
    <meta name="permalink-disable-domains" content="ckeditor5.github.io,fake.ckeditor.com,localhost,127.0.0.1">
    <meta name="project-version" content="44.1.0">
    <meta name="project-slug" content="ckeditor5">
  <meta name="generator" content="Hexo 6.3.0"></head>
  <body>
    <header class="top" data-project="ckeditor5">
      <div class="header__main">
        <div class="header__main-rwd-button"><a href="#"><span></span><span></span><span></span></a></div>
        <div class="header__main-title"><a class="header__main-title-home" href="../../../../index.html">CKEditor Ecosystem Documentation</a></div>
        <div class="top__search">
          <input class="top__search__box" type="text" id="docsearch_input" placeholder="Search in CKEditor 5">
          <div class="top__search__button"><img src="../../../../assets/4.4.2/img/loupe.svg" alt="Search"></div>
        </div>
      </div>
      <div class="header__sub">
        <ul class="top__menu">
          <li class="top__menu-project-logo"><a href="../../index.html">CKEditor 5</a></li>
          <li><a href="../../getting-started/index.html">Getting started</a></li>
          <li><a href="../../features/index.html">Features</a></li>
          <li><a href="../../examples/index.html">Examples</a></li>
          <li><a class="top__menu__item--active" href="../index.html">Framework</a></li>
          <li><a class="top__menu__api" href="../../api/index.html">API</a></li>
          <li><a href="../../updating/index.html">Updating</a></li>
          <li><a href="../../support/index.html">Support</a></li>
          <li><a class="top__menu-github-link" href="https://github.com/ckeditor/ckeditor5" target="_blank" title="CKEditor 5 on GitHub."><svg viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a></li>
        </ul>
      </div>
      <div class="header__menu-rwd">
        <ul class="header__menu-rwd__projects">
          <li data-project="ckeditor5"><a href="../../../latest/index.html">CKEditor 5</a>
            <ul class="tree header__menu-rwd__projects-pages">
              <li data-group="getting-started"><a href="../../getting-started/index.html">Getting started</a>
              </li>
              <li data-group="features"><a href="../../features/index.html">Features</a>
              </li>
              <li data-group="examples"><a href="../../examples/index.html">Examples</a>
              </li>
              <li data-group="framework"><a href="../index.html">Framework</a>
                <ul class="header__menu-rwd__projects-subpages">
                          <li><a href="../index.html" title="Overview">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Tutorials</span>
                            </div>
                            <ul class="tree__item-nested-list" data-id="tutorials">
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Crash course</span>
                                    </div>
                                    <ul class="tree__item-nested-list tree__item-nested-list--hidden" data-id="crash-course">
                                          <li><a href="../tutorials/crash-course/editor.html" title="Editor and configuration">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Editor and configuration</span>
                                              </div></a></li>
                                          <li><a href="../tutorials/crash-course/plugins.html" title="Plugins">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Plugins</span>
                                              </div></a></li>
                                          <li><a href="../tutorials/crash-course/model-and-schema.html" title="Model and schema">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Model and schema</span>
                                              </div></a></li>
                                          <li><a href="../tutorials/crash-course/data-conversion.html" title="Data conversion">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Data conversion</span>
                                              </div></a></li>
                                          <li><a href="../tutorials/crash-course/commands.html" title="Commands">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Commands</span>
                                              </div></a></li>
                                          <li><a href="../tutorials/crash-course/view.html" title="Editor UI">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Editor UI</span>
                                              </div></a></li>
                                          <li><a href="../tutorials/crash-course/events-and-observables.html" title="Events and observables">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Events and observables</span>
                                              </div></a></li>
                                          <li><a href="../tutorials/crash-course/keystrokes.html" title="Handling keystrokes">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Handling keystrokes</span>
                                              </div></a></li>
                                          <li><a href="../tutorials/crash-course/plugin-configuration.html" title="Plugin configuration">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Plugin configuration</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                                  <li><a href="../tutorials/creating-simple-plugin-timestamp.html" title="Creating a basic plugin">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Creating a basic plugin</span>
                                      </div></a></li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Creating an advanced plugin</span>
                                    </div>
                                    <ul class="tree__item-nested-list tree__item-nested-list--hidden" data-id="abbreviation-plugin">
                                          <li><a href="../tutorials/abbreviation-plugin/abbreviation-plugin-level-1.html" title="Defining a model and a view">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Defining a model and a view</span>
                                              </div></a></li>
                                          <li><a href="../tutorials/abbreviation-plugin/abbreviation-plugin-level-2.html" title="Getting user input with a custom UI">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Getting user input with a custom UI</span>
                                              </div></a></li>
                                          <li><a href="../tutorials/abbreviation-plugin/abbreviation-plugin-level-3.html" title="Improving accessibility and adding a command">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Improving accessibility and adding a command</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Using widgets</span>
                                    </div>
                                    <ul class="tree__item-nested-list tree__item-nested-list--hidden" data-id="widget-tutorials">
                                          <li><a href="../tutorials/widgets/implementing-a-block-widget.html" title="Implementing a block widget">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Implementing a block widget</span>
                                              </div></a></li>
                                          <li><a href="../tutorials/widgets/implementing-an-inline-widget.html" title="Implementing an inline widget">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Implementing an inline widget</span>
                                              </div></a></li>
                                          <li><a href="../tutorials/widgets/using-react-in-a-widget.html" title="Using a React component in a widget">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Using a React component in a widget</span>
                                              </div></a></li>
                                          <li><a href="../tutorials/widgets/data-from-external-source.html" title="Data from an external source">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Data from an external source</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                                  <li><a href="../tutorials/supporting-multiple-versions.html" title="Compatibility of custom plugins">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Compatibility of custom plugins</span>
                                      </div></a></li>
                            </ul>
                          </li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Development tools</span>
                            </div>
                            <ul class="tree__item-nested-list tree__item-nested-list--hidden" data-id="development-tools">
                                  <li><a href="../develpment-tools/inspector.html" title="Inspector">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Inspector</span>
                                      </div></a></li>
                                  <li><a href="../develpment-tools/testing-helpers.html" title="Testing helpers">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Testing helpers</span>
                                      </div></a></li>
                                  <li><a href="../develpment-tools/mrgit.html" title="Mr. Git">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Mr. Git</span>
                                      </div></a></li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Package Generator</span>
                                    </div>
                                    <ul class="tree__item-nested-list tree__item-nested-list--hidden" data-id="package-generator">
                                          <li><a href="../develpment-tools/package-generator/using-package-generator.html" title="Using package generator">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Using package generator</span>
                                              </div></a></li>
                                          <li><a href="../develpment-tools/package-generator/javascript-package.html" title="JavaScript package">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">JavaScript package</span>
                                              </div></a></li>
                                          <li><a href="../develpment-tools/package-generator/typescript-package.html" title="TypeScript package">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">TypeScript package</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                            </ul>
                          </li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Architecture</span>
                            </div>
                            <ul class="tree__item-nested-list" data-id="framework-architecture">
                                  <li><a href="../architecture/intro.html" title="Introduction">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Introduction</span>
                                      </div></a></li>
                                  <li><a href="../architecture/plugins.html" title="Plugins in CKEditor 5">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Plugins in CKEditor 5</span>
                                      </div></a></li>
                                  <li><a href="../architecture/core-editor-architecture.html" title="Core editor architecture">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Core editor architecture</span>
                                      </div></a></li>
                                  <li><a href="../architecture/editing-engine.html" title="Editing engine">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Editing engine</span>
                                      </div></a></li>
                                  <li><a href="../architecture/ui-library.html" title="UI library">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">UI library</span>
                                      </div></a></li>
                                  <li><a href="../architecture/ui-components.html" title="UI components">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">UI components</span>
                                      </div></a></li>
                            </ul>
                          </li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Deep dive</span>
                            </div>
                            <ul class="tree__item-nested-list" data-id="framework-deep-dive">
                                  <li><a href="clipboard.html" title="Clipboard">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Clipboard</span>
                                      </div></a></li>
                                  <li><a href="upload-adapter.html" title="Custom upload adapter">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom upload adapter</span>
                                      </div></a></li>
                                  <li><a href="" title="Event system">
                                      <div class="tree__item__wrapper tree__item__wrapper--active"><span class="tree__item--guide tree__item__text">Event system</span>
                                      </div></a></li>
                                  <li><a href="observables.html" title="Observables">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Observables</span>
                                      </div></a></li>
                                  <li><a href="schema.html" title="Schema">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Schema</span>
                                      </div></a></li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Conversion</span>
                                    </div>
                                    <ul class="tree__item-nested-list tree__item-nested-list--hidden" data-id="framework-deep-dive-conversion">
                                          <li><a href="conversion/intro.html" title="Introduction">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Introduction</span>
                                              </div></a></li>
                                          <li><a href="conversion/downcast.html" title="Model to view (downcast)">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Model to view (downcast)</span>
                                              </div></a></li>
                                          <li><a href="conversion/upcast.html" title="View to model (upcast)">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">View to model (upcast)</span>
                                              </div></a></li>
                                          <li>
                                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Conversion helpers</span>
                                            </div>
                                            <ul class="tree__item-nested-list" data-id="framework-deep-dive-conversion-helpers">
                                                  <li><a href="conversion/helpers/intro.html" title="Introduction">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Introduction</span>
                                                      </div></a></li>
                                                  <li><a href="conversion/helpers/downcast.html" title="Downcast helpers">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Downcast helpers</span>
                                                      </div></a></li>
                                                  <li><a href="conversion/helpers/upcast.html" title="Upcast helpers">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Upcast helpers</span>
                                                      </div></a></li>
                                            </ul>
                                          </li>
                                    </ul>
                                  </li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">User interface</span>
                                    </div>
                                    <ul class="tree__item-nested-list tree__item-nested-list--hidden" data-id="framework-deep-dive-ui">
                                          <li><a href="ui/focus-tracking.html" title="Focus tracking">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Focus tracking</span>
                                              </div></a></li>
                                          <li><a href="ui/widget-internals.html" title="Widget internals">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Widget internals</span>
                                              </div></a></li>
                                          <li><a href="ui/theme-customization.html" title="Theme customization">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Theme customization</span>
                                              </div></a></li>
                                          <li><a href="ui/external-ui.html" title="Third-party UI">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Third-party UI</span>
                                              </div></a></li>
                                          <li><a href="ui/document-editor.html" title="Document editor">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Document editor</span>
                                              </div></a></li>
                                          <li><a href="ui/custom-editor-creator.html" title="Creating custom editor">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Creating custom editor</span>
                                              </div></a></li>
                                          <li><a href="ui/localization.html" title="Localization">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Localization</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                            </ul>
                          </li>
                          <li><a href="../how-tos.html" title="How-tos">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">How-tos</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Contributing</span>
                            </div>
                            <ul class="tree__item-nested-list tree__item-nested-list--hidden" data-id="framework-contributing">
                                  <li><a href="../contributing/contributing.html" title="Contributing">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Contributing</span>
                                      </div></a></li>
                                  <li><a href="../contributing/development-environment.html" title="Development environment">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Development environment</span>
                                      </div></a></li>
                                  <li><a href="../contributing/testing-environment.html" title="Testing environment">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Testing environment</span>
                                      </div></a></li>
                                  <li><a href="../contributing/code-style.html" title="Code style">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Code style</span>
                                      </div></a></li>
                                  <li><a href="../contributing/package-metadata.html" title="Package metadata">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Package metadata</span>
                                      </div></a></li>
                                  <li><a href="../contributing/git-commit-message-convention.html" title="Git commit message convention">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Git commit message convention</span>
                                      </div></a></li>
                            </ul>
                          </li>
                </ul>
              </li>
              <li data-group="api-reference"><a href="../../api/index.html">API</a>
              </li>
              <li data-group="updating"><a href="../../updating/index.html">Updating</a>
              </li>
              <li data-group="support"><a href="../../support/index.html">Support</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </header>
    <main class="main">
      <section class="main__content formatted">
        <div class="main__content-inner">
          <div class="github-contrib"><a href="https://github.com/ckeditor/ckeditor5/blob/master/packages/ckeditor5-engine/docs/framework/deep-dive/event-system.md" title="Contribute to this guide"><img src="../../../../assets/4.4.2/img/edit.svg" alt="Contribute to this guide"></a>
          </div>
          <div class="rwd-breadcrumbs"><a href="../../../../index.html">Home</a><span class="rwd-breadcrumbs__separator">/</span><a href="../../index.html">CKEditor 5</a><span class="rwd-breadcrumbs__separator">/</span><a href="../index.html">Framework</a>
          </div>
          <h1 class="main__content-title">Event system
          </h1><nav class="secondary-navigation"><h3>Table of contents</h3><ol><li><a href="#listening-to-events" title="Listening to events">Listening to events</a><ol><li><a href="#listener-priorities" title="Listener priorities">Listener priorities</a></li><li><a href="#stopping-events-and-returned-value" title="Stopping events and returned value">Stopping events and returned value</a></li><li><a href="#listening-on-namespaced-events" title="Listening on namespaced events">Listening on namespaced events</a></li></ol></li><li><a href="#firing-events" title="Firing events">Firing events</a><ol><li><a href="#stopped-events" title="Stopped events">Stopped events</a></li><li><a href="#event-return-value" title="Event return value">Event return value</a></li></ol></li><li><a href="#delegating-events" title="Delegating events">Delegating events</a><ol><li><a href="#setting-events-delegation" title="Setting events delegation">Setting events delegation</a></li><li><a href="#stopping-delegation" title="Stopping delegation">Stopping delegation</a></li><li><a href="#delegated-event-info" title="Delegated event info">Delegated event info</a></li></ol></li><li><a href="#view-events-bubbling" title="View events bubbling">View events bubbling</a><ol><li><a href="#listening-to-bubbling-events" title="Listening to bubbling events">Listening to bubbling events</a></li><li><a href="#bubbling-events-flow" title="Bubbling events flow">Bubbling events flow</a></li><li><a href="#examples" title="Examples">Examples</a></li><li><a href="#bubblingeventinfo" title="BubblingEventInfo">BubblingEventInfo</a></li></ol></li></ol></nav>
<p><a href="../../api/module_utils_emittermixin-Emitter.html">Emitters</a> are objects that can fire events. They also provide means to listen to other emitters’ events.</p>
<p>Emitters are heavily used throughout the entire editor architecture. They are the building blocks for mechanisms such as the <a href="observables.html">observables</a>, <a href="../architecture/editing-engine.html#observers">engine’s view observers</a>, and <a href="../architecture/editing-engine.html#conversion">conversion</a>.</p>
<p>Any class can become an event emitter. All you need to do is mix the <a href="../../api/module_utils_emittermixin-Emitter.html"><code>Emitter</code></a> into it:</p>
<div class="code-switcher selfhosted"><div class="code-switcher__toolbar"></div><pre class="highlight"><code class="js">import { EmitterMixin, mix } from 'ckeditor5';

class AnyClass {
	// Class's code.
	// ...
}

mix( AnyClass, EmitterMixin );
</code></pre></div>
<h2 id="listening-to-events"><a class="headerlink" href="#listening-to-events">#</a> Listening to events</h2>
<p>Adding a callback to an event is simple. You can listen directly on the emitter object and use an anonymous function:</p>
<pre class="highlight"><code class="js">emitter.on( 'eventName', ( eventInfo, ...args ) =&gt; { /* ... */ } );
</code></pre>
<p>However, a function object is needed if you want to be able to remove the event listener:</p>
<pre class="highlight"><code class="js">emitter.off( 'eventName', handler );
</code></pre>
<p>There is also another way to add an event listener – by using <a href="../../api/module_utils_emittermixin-Emitter.html#function-listenTo:BASE_EMITTER"><code>listenTo()</code></a>. This way one emitter can listen to events on another emitter:</p>
<pre class="highlight"><code class="js">foo.listenTo( bar, 'eventName', ( eventInfo, ...args ) =&gt; { /* ... */ } );
</code></pre>
<p>Now you can easily detach the <code>foo</code> from <code>bar</code> simply by <a href="../../api/module_utils_emittermixin-Emitter.html#function-stopListening:BASE_STOP"><code>stopListening()</code></a>.</p>
<pre class="highlight"><code class="js">// Stop listening to a specific handler.
foo.stopListening( bar, 'eventName', handler );

// Stop listening to a specific event.
foo.stopListening( bar, 'eventName' );

// Stop listening to all events fired by a specific emitter.
foo.stopListening( bar );

// Stop listening to all events fired by all bound emitters.
foo.stopListening();
</code></pre>
<div class="info-box notice"><p>The <a href="../../api/module_utils_emittermixin-Emitter.html#function-on"><code>on()</code></a> and <a href="../../api/module_utils_emittermixin-Emitter.html#function-off"><code>off()</code></a> methods are shorthands for <a href="../../api/module_utils_emittermixin-Emitter.html#function-listenTo:BASE_EMITTER"><code>listenTo( this, /* ... */ )</code></a> and <a href="../../api/module_utils_emittermixin-Emitter.html#function-stopListening:BASE_STOP"><code>stopListening( this, /* ... */ )</code></a> (the emitter is bound to itself).</p></div>
<h3 id="listener-priorities"><a class="headerlink" href="#listener-priorities">#</a> Listener priorities</h3>
<p>By default, all listeners are bound on the <a href="../../api/module_utils_priorities-PriorityString.html"><code>normal</code></a> priority, but you can specify the priority when registering a listener:</p>
<pre class="highlight"><code class="js">this.on( 'eventName', () =&gt; { /* ... */ }, { priority: 'high' } );
this.listenTo( emitter, 'eventName', () =&gt; { /* ... */ }, { priority: 'high' } );
</code></pre>
<p>There are 5 named priorities:</p>
<ul>
<li><code>highest</code></li>
<li><code>high</code></li>
<li><code>normal</code></li>
<li><code>low</code></li>
<li><code>lowest</code></li>
</ul>
<p>Listeners are triggered in the order of these priorities (first <code>highest</code>, then <code>high</code>, etc.). For multiple listeners attached on the same priority, they are fired in the order of the registration.</p>
<p><strong>Note</strong>: If any listener <a href="../../api/module_utils_eventinfo-EventInfo.html#member-stop">stops</a> the event, no other listeners including those on lower priorities will be called.</p>
<p>It is possible to use relative priorities <a href="../../api/module_utils_priorities-PrioritiesType.html#function-get"><code>priorities.get( 'high' ) + 10</code></a> but this is strongly discouraged.</p>
<h3 id="stopping-events-and-returned-value"><a class="headerlink" href="#stopping-events-and-returned-value">#</a> Stopping events and returned value</h3>
<p>The first argument passed to an event handler is always an instance of the <a href="../../api/module_utils_eventinfo-EventInfo.html"><code>EventInfo</code></a>. There you can check the event <a href="../../api/module_utils_eventinfo-EventInfo.html#member-name"><code>name</code></a>, the <a href="../../api/module_utils_eventinfo-EventInfo.html#member-source"><code>source</code> emitter</a> of the event, and you can <a href="../../api/module_utils_eventinfo-EventInfo.html#member-stop"><code>stop()</code></a> the event from further processing.</p>
<pre class="highlight"><code class="js">emitter.on( 'eventName', ( eventInfo, data ) =&gt; {
    console.log( 'foo' );
    eventInfo.stop();
} );

emitter.on( 'eventName', ( eventInfo, data ) =&gt; {
    console.log( 'bar' ); // This won't be called.
} );

emitter.fire( 'eventName' ); // Logs "foo" only.
</code></pre>
<p>Listeners can set the <a href="../../api/module_utils_eventinfo-EventInfo.html#member-return"><code>return</code></a> value. This value will be returned by <a href="../../api/module_utils_emittermixin-Emitter.html#function-fire"><code>fire()</code></a> after all callbacks are processed.</p>
<pre class="highlight"><code class="js">emitter.on( 'eventName', ( eventInfo, data ) =&gt; {
    eventInfo.return = 123;
} );

emitter.fire( 'eventName' ); // -&gt; 123
</code></pre>
<h3 id="listening-on-namespaced-events"><a class="headerlink" href="#listening-on-namespaced-events">#</a> Listening on namespaced events</h3>
<p>The event system supports namespaced events to give you the possibility to build a structure of callbacks. You can achieve namespacing by using <code>:</code> in the event name:</p>
<pre class="highlight"><code class="js">this.fire( 'foo:bar:baz', data );
</code></pre>
<p>Then the listeners can be bound to a specific event or the whole namespace:</p>
<pre class="highlight"><code class="js">this.on( 'foo', () =&gt; { /* ... */ } );
this.on( 'foo:bar', () =&gt; { /* ... */ } );
this.on( 'foo:bar:baz', () =&gt; { /* ... */ } );
</code></pre>
<p>This way you can have more general events, listening to a broader event (<code>'foo'</code> in this case), or more detailed callbacks listening to specified events (<code>'foo:bar'</code> or <code>'foo:bar:baz'</code>).</p>
<p>This mechanism is used for instance in the conversion, where thanks to events named <code>'insert:&lt;elementName&gt;'</code> you can listen to the insertion of a specific element (like <code>'insert:p'</code>) or all elements insertion (<code>'insert'</code>).</p>
<p><strong>Note</strong>: Listeners registered on the same priority will be fired in the order of the registration (no matter if listening to a whole namespace or to a specific event).</p>
<h2 id="firing-events"><a class="headerlink" href="#firing-events">#</a> Firing events</h2>
<p>Once you mix the <a href="../../api/module_utils_emittermixin-Emitter.html"><code>Emitter</code></a> into your class, you can fire events the following way:</p>
<pre class="highlight"><code class="js">this.fire( 'eventName', argA, argB, /* ... */ );
</code></pre>
<p>All passed arguments will be available in all listeners that are added to the event.</p>
<p><strong>Note</strong>: Most base classes (like <a href="../../api/module_core_command-Command.html"><code>Command</code></a> or <a href="../../api/module_core_plugin-Plugin.html"><code>Plugin</code></a>) are <a href="../../api/module_utils_emittermixin-Emitter.html">emitters</a> already and fire their own events.</p>
<h3 id="stopped-events"><a class="headerlink" href="#stopped-events">#</a> Stopped events</h3>
<p>It is sometimes useful to know if an event was stopped by any of the listeners. There is an alternative way of firing an event just for that:</p>
<div class="code-switcher selfhosted"><div class="code-switcher__toolbar"></div><pre class="highlight"><code class="js">import { EventInfo } from 'ckeditor5';

// Prepare the event info...
const eventInfo = new EventInfo( this, 'eventName' );

// ...and fire the event.
this.fire( eventInfo, argA, argB, /* ... */ );

// Here you can check if the event was stopped.
if ( eventInfo.stop.called ) {
	// The event was stopped.
}
</code></pre></div>
<p>Note that <a href="../../api/module_utils_eventinfo-EventInfo.html"><code>EventInfo</code></a> expects the source object in the first parameter as the origin of the event.</p>
<h3 id="event-return-value"><a class="headerlink" href="#event-return-value">#</a> Event return value</h3>
<p>If any handler set the <a href="../../api/module_utils_eventinfo-EventInfo.html#member-return"><code>eventInfo.return</code></a> field, this value will be returned by <a href="../../api/module_utils_emittermixin-Emitter.html#function-fire"><code>fire()</code></a> after all callbacks are processed.</p>
<pre class="highlight"><code class="js">emitter.on( 'eventName', ( eventInfo, ...args ) =&gt; {
    eventInfo.return = 123;
} );

const result = emitter.fire( 'eventName', argA, argB, /* ... */ );

console.log( result ); // -&gt; 123
</code></pre>
<h2 id="delegating-events"><a class="headerlink" href="#delegating-events">#</a> Delegating events</h2>
<p>The <a href="../../api/module_utils_emittermixin-Emitter.html"><code>Emitter</code></a> interface also provides the <a href="../../api/module_utils_emittermixin-Emitter.html#function-delegate">event delegation</a> mechanism, so that selected events are fired by another <a href="../../api/module_utils_emittermixin-Emitter.html"><code>Emitter</code></a>.</p>
<h3 id="setting-events-delegation"><a class="headerlink" href="#setting-events-delegation">#</a> Setting events delegation</h3>
<p>Delegate specific events to another emitter:</p>
<pre class="highlight"><code class="js">emitterA.delegate( 'foo' ).to( emitterB );
emitterA.delegate( 'foo', 'bar' ).to( emitterC );
</code></pre>
<p>You can delegate events with a different name:</p>
<pre class="highlight"><code class="js">emitterA.delegate( 'foo' ).to( emitterB, 'bar' );
emitterA.delegate( 'foo' ).to( emitterB, name =&gt; `delegated:${ name }` );
</code></pre>
<p>It is also possible to delegate all the events:</p>
<pre class="highlight"><code class="js">emitterA.delegate( '*' ).to( emitterB );
</code></pre>
<p><strong>Note</strong>: Delegated events are fired from the target emitter no matter if they were stopped in any handler on the source emitter.</p>
<h3 id="stopping-delegation"><a class="headerlink" href="#stopping-delegation">#</a> Stopping delegation</h3>
<p>You can stop delegation by calling the <a href="../../api/module_utils_emittermixin-Emitter.html#function-stopDelegating"><code>stopDelegating()</code></a> method. It can be used at different levels:</p>
<pre class="highlight"><code class="js">// Stop delegating all events.
emitterA.stopDelegating();

// Stop delegating a specific event to all emitters.
emitterA.stopDelegating( 'foo' );

// Stop delegating a specific event to a specific emitter.
emitterA.stopDelegating( 'foo', emitterB );
</code></pre>
<h3 id="delegated-event-info"><a class="headerlink" href="#delegated-event-info">#</a> Delegated event info</h3>
<p>The delegated events provide the <a href="../../api/module_utils_eventinfo-EventInfo.html#member-path"><code>path</code></a> of emitters that this event met along the delegation path.</p>
<pre class="highlight"><code class="js">emitterA.delegate( 'foo' ).to( emitterB, 'bar' );
emitterB.delegate( 'bar' ).to( emitterC, 'baz' );

emitterA.on( 'foo', eventInfo =&gt; console.log( 'event', eventInfo.name, 'emitted by A; source:', eventInfo.source, 'path:', eventInfo.path ) );
emitterB.on( 'bar', eventInfo =&gt; console.log( 'event', eventInfo.name, 'emitted by B; source:', eventInfo.source, 'path:', eventInfo.path ) );
emitterC.on( 'baz', eventInfo =&gt; console.log( 'event', eventInfo.name, 'emitted by C; source:', eventInfo.source, 'path:', eventInfo.path ) );

emitterA.fire( 'foo' );

// Outputs:
//   event "foo" emitted by A; source: emitterA; path: [ emitterA ]
//   event "bar" emitted by B; source: emitterA; path: [ emitterA, emitterB ]
//   event "baz" emitted by C; source: emitterA; path: [ emitterA, emitterB, emitterC ]
</code></pre>
<h2 id="view-events-bubbling"><a class="headerlink" href="#view-events-bubbling">#</a> View events bubbling</h2>
<p>The <a href="../../api/module_engine_view_document-Document.html"><code>view.Document</code></a> is not only an <a href="../../api/module_utils_observablemixin-Observable.html">Observable</a> and an <a href="../../api/module_utils_emittermixin-Emitter.html">emitter</a> but it also implements the special <a href="../../api/module_engine_view_observer_bubblingemittermixin-BubblingEmitter.html"><code>BubblingEmitter</code></a> interface (implemented by <a href="../../api/module_engine_view_observer_bubblingemittermixin.html#function-BubblingEmitterMixin"><code>BubblingEmitterMixin</code></a>). It provides a mechanism for bubbling events over the virtual DOM tree.</p>
<p>It is different from the bubbling that you know from the DOM tree event bubbling. You do not register listeners on specific instances of the elements in the view document tree. Instead, you can register handlers for specific contexts. A context is either a name of an element, or one of the virtual contexts (<code>'$capture'</code>, <code>'$text'</code>, <code>'$root'</code>, <code>'$document'</code>), or a callback to match desired nodes.</p>
<h3 id="listening-to-bubbling-events"><a class="headerlink" href="#listening-to-bubbling-events">#</a> Listening to bubbling events</h3>
<p>Listeners registered in the context of the view element names:</p>
<pre class="highlight"><code class="js">this.listenTo( view.document, 'enter', ( evt, data ) =&gt; {
    // Listener's code.
    // ...
}, { context: 'blockquote' } );

this.listenTo( view.document, 'enter', ( evt, data ) =&gt; {
    // Listener's code.
    // ...
}, { context: 'li' } );
</code></pre>
<p>Listeners registered in the virtual contexts:</p>
<pre class="highlight"><code class="js">this.listenTo( view.document, 'arrowKey', ( evt, data ) =&gt; {
    // Listener's code.
    // ...
}, { context: '$text', priority: 'high' } );

this.listenTo( view.document, 'arrowKey', ( evt, data ) =&gt; {
    // Listener's code.
    // ...
}, { context: '$root' } );

this.listenTo( view.document, 'arrowKey', ( evt, data ) =&gt; {
    // Listener's code.
    // ...
}, { context: '$capture' } );
</code></pre>
<p>Listeners registered in the context of a custom callback function:</p>
<div class="code-switcher selfhosted"><div class="code-switcher__toolbar"></div><pre class="highlight"><code class="js">import { isWidget } from 'ckeditor5';

this.listenTo( view.document, 'arrowKey', ( evt, data ) =&gt; {
	// Listener's code.
	// ...
}, { context: isWidget } );

this.listenTo( view.document, 'arrowKey', ( evt, data ) =&gt; {
	// Listener's code.
	// ...
}, { context: isWidget, priority: 'high' } );
</code></pre></div>
<p><strong>Note</strong>: Without specifying the <code>context</code>, events are bound to the <code>'$document'</code> context.</p>
<h3 id="bubbling-events-flow"><a class="headerlink" href="#bubbling-events-flow">#</a> Bubbling events flow</h3>
<p>Bubbling always starts from the virtual <code>'$capture'</code> context. All listeners attached to this context are triggered first (and in the order of their priorities).</p>
<p>Then, the real bubbling starts from the selection position (either its anchor or focus – depending on what is deeper).</p>
<p>If text nodes are allowed at the selection position, then the first context is <code>'$text'</code>. Then the event bubbles through all elements up to the <code>'$root'</code> and finally <code>'$document'</code>.</p>
<p>In all contexts listeners can be registered at desired priorities. If a listener stops an event, this event is not fired for the remaining contexts.</p>
<h3 id="examples"><a class="headerlink" href="#examples">#</a> Examples</h3>
<p>Assuming the given content and selection:</p>
<pre class="highlight"><code class="html">&lt;blockquote&gt;
    &lt;p&gt;
        Foo[]bar
    &lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>
<p>Events will be fired for the following contexts:</p>
<ol>
<li><code>'$capture'</code></li>
<li><code>'$text'</code></li>
<li><code>'p'</code></li>
<li><code>'blockquote'</code></li>
<li><code>'$root'</code></li>
<li><code>'$document'</code></li>
</ol>
<p>Assuming the given content and selection (on a widget):</p>
<pre class="highlight"><code class="html">&lt;blockquote&gt;
    &lt;p&gt;
        Foo
        [&lt;img /&gt;]	// enhanced with toWidget()
        bar
    &lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>
<p>Events will be fired for the following contexts:</p>
<ol>
<li><code>'$capture'</code></li>
<li><code>'img'</code></li>
<li><em>widget</em> (assuming a custom matcher was used)</li>
<li><code>'p'</code></li>
<li><code>'blockquote'</code></li>
<li><code>'$root'</code></li>
<li><code>'$document'</code></li>
</ol>
<p>An even more complex example:</p>
<pre class="highlight"><code class="html">&lt;blockquote&gt;
    &lt;figure class="table"&gt;	// enhanced with toWidget()
        &lt;table&gt;
            &lt;tr&gt;
                &lt;td&gt;
                    &lt;p&gt;
                        foo[]bar
                    &lt;/p&gt;
                &lt;/td&gt;
            &lt;/tr&gt;
        &lt;/table&gt;
    &lt;/figure&gt;
&lt;/blockquote&gt;
</code></pre>
<p>Events that will be fired:</p>
<ol>
<li><code>'$capture'</code></li>
<li><code>'$text'</code></li>
<li><code>'p'</code></li>
<li><code>'td'</code></li>
<li><code>'tr'</code></li>
<li><code>'table'</code></li>
<li><code>'figure'</code></li>
<li><em>widget</em> (assuming a custom matcher was used)</li>
<li><code>'blockquote'</code></li>
<li><code>'$root'</code></li>
<li><code>'$document'</code></li>
</ol>
<h3 id="bubblingeventinfo"><a class="headerlink" href="#bubblingeventinfo">#</a> <code>BubblingEventInfo</code></h3>
<p>In some events the first parameter is not the standard <code>EventInfo</code>, but <a href="../../api/module_engine_view_observer_bubblingeventinfo-BubblingEventInfo.html"><code>BubblingEventInfo</code></a>. This is an extension that provides the current <a href="../../api/module_engine_view_observer_bubblingeventinfo-BubblingEventInfo.html#member-eventPhase"><code>eventPhase</code></a> and <a href="../../api/module_engine_view_observer_bubblingeventinfo-BubblingEventInfo.html#member-currentTarget"><code>currentTarget</code></a>.</p>
<p>Currently, this information is available for the following events:</p>
<ul>
<li><a href="../../api/module_engine_view_document-Document.html#event-enter"><code>enter</code></a>,</li>
<li><a href="../../api/module_engine_view_document-Document.html#event-delete"><code>delete</code></a>,</li>
<li><a href="../../api/module_engine_view_document-Document.html#event-arrowKey"><code>arrowKey</code></a>.</li>
</ul>
<p>Hence the events from the above example would be extended with the following <code>eventPhase</code> data:</p>
<ol>
<li><code>'$capture'</code> - <em>capturing</em></li>
<li><code>'$text'</code> - <em>at target</em></li>
<li><code>'p'</code> - <em>bubbling</em></li>
<li><code>'td'</code> - <em>bubbling</em></li>
<li><code>'tr'</code> - <em>bubbling</em></li>
<li><code>'table'</code> - <em>bubbling</em></li>
<li><code>'figure'</code> - <em>bubbling</em></li>
<li><em>widget</em> - <em>bubbling</em></li>
<li><code>'blockquote'</code> - <em>bubbling</em></li>
<li><code>'$root'</code> - <em>bubbling</em></li>
<li><code>'$document'</code> - <em>bubbling</em></li>
</ol>
<p>And for the example with the widget selected:</p>
<pre class="highlight"><code class="html">&lt;blockquote&gt;
    &lt;p&gt;
        Foo
        [&lt;img /&gt;]	 // Enhanced with toWidget().
        bar
    &lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>
<p>Events that will be fired:</p>
<ol>
<li><code>'$capture'</code> - <em>capturing</em></li>
<li><code>'img'</code> - <em>at target</em></li>
<li><em>widget</em> - <em>at target</em> (assuming a custom matcher was used)</li>
<li><code>'p'</code> - <em>bubbling</em></li>
<li><code>'blockquote'</code> - <em>bubbling</em></li>
<li><code>'$root'</code> - <em>bubbling</em></li>
<li><code>'$document'</code> - <em>bubbling</em></li>
</ol>

          <div class="info-box notice notice__feedback">
            <p>
              Every day, we work hard to keep our documentation complete. Have you spotted outdated information? Is something missing?
              Please report it via our <a href="https://github.com/ckeditor/ckeditor5/issues/new?labels=squad%3Accx%2Ctype%3Adocs&amp;template=7-docs-issue-community.yml&amp;title=Docs+issue+report+from+%22framework%2Fdeep-dive%2Fevent-system.html%22&amp;project-version=44.1.0" id="report-widget-issue-tracker">issue tracker</a>.
            </p>
            <p>
              With the release of version 42.0.0, we have rewritten much of our documentation to reflect the new import paths and features.
              We appreciate your feedback to help us ensure its accuracy and completeness.
            </p>
          </div>
          <script>
            ( () => {
                const issueTracker = document.getElementById( 'report-widget-issue-tracker' );
                const hrefUrl = new URL( issueTracker.href );
                hrefUrl.searchParams.set( 'user-agent', navigator.userAgent )
                hrefUrl.searchParams.set( 'origin-url', location.href )
                issueTracker.href = hrefUrl.toString();
            } )();
          </script>
        </div>
      </section>
      <div class="side-navigation">
        <div class="side-navigation__wrapper">
          <nav class="side-navigation__inner">
            <ul class="tree guide-tree" id="guidetree">
                          <li><a href="../index.html" title="Overview">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Tutorials</span>
                            </div>
                            <ul class="tree__item-nested-list" data-id="tutorials">
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Crash course</span>
                                      </div>
                                      <ul class="tree__item-nested-list tree__item-nested-list--hidden" data-id="crash-course">
                                              <li><a href="../tutorials/crash-course/editor.html" title="Editor and configuration">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Editor and configuration</span>
                                                  </div></a></li>
                                              <li><a href="../tutorials/crash-course/plugins.html" title="Plugins">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Plugins</span>
                                                  </div></a></li>
                                              <li><a href="../tutorials/crash-course/model-and-schema.html" title="Model and schema">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Model and schema</span>
                                                  </div></a></li>
                                              <li><a href="../tutorials/crash-course/data-conversion.html" title="Data conversion">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Data conversion</span>
                                                  </div></a></li>
                                              <li><a href="../tutorials/crash-course/commands.html" title="Commands">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Commands</span>
                                                  </div></a></li>
                                              <li><a href="../tutorials/crash-course/view.html" title="Editor UI">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Editor UI</span>
                                                  </div></a></li>
                                              <li><a href="../tutorials/crash-course/events-and-observables.html" title="Events and observables">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Events and observables</span>
                                                  </div></a></li>
                                              <li><a href="../tutorials/crash-course/keystrokes.html" title="Handling keystrokes">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Handling keystrokes</span>
                                                  </div></a></li>
                                              <li><a href="../tutorials/crash-course/plugin-configuration.html" title="Plugin configuration">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Plugin configuration</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                                    <li><a href="../tutorials/creating-simple-plugin-timestamp.html" title="Creating a basic plugin">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Creating a basic plugin</span>
                                        </div></a></li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Creating an advanced plugin</span>
                                      </div>
                                      <ul class="tree__item-nested-list tree__item-nested-list--hidden" data-id="abbreviation-plugin">
                                              <li><a href="../tutorials/abbreviation-plugin/abbreviation-plugin-level-1.html" title="Defining a model and a view">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Defining a model and a view</span>
                                                  </div></a></li>
                                              <li><a href="../tutorials/abbreviation-plugin/abbreviation-plugin-level-2.html" title="Getting user input with a custom UI">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Getting user input with a custom UI</span>
                                                  </div></a></li>
                                              <li><a href="../tutorials/abbreviation-plugin/abbreviation-plugin-level-3.html" title="Improving accessibility and adding a command">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Improving accessibility and adding a command</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Using widgets</span>
                                      </div>
                                      <ul class="tree__item-nested-list tree__item-nested-list--hidden" data-id="widget-tutorials">
                                              <li><a href="../tutorials/widgets/implementing-a-block-widget.html" title="Implementing a block widget">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Implementing a block widget</span>
                                                  </div></a></li>
                                              <li><a href="../tutorials/widgets/implementing-an-inline-widget.html" title="Implementing an inline widget">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Implementing an inline widget</span>
                                                  </div></a></li>
                                              <li><a href="../tutorials/widgets/using-react-in-a-widget.html" title="Using a React component in a widget">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Using a React component in a widget</span>
                                                  </div></a></li>
                                              <li><a href="../tutorials/widgets/data-from-external-source.html" title="Data from an external source">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Data from an external source</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                                    <li><a href="../tutorials/supporting-multiple-versions.html" title="Compatibility of custom plugins">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Compatibility of custom plugins</span>
                                        </div></a></li>
                            </ul>
                          </li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Development tools</span>
                            </div>
                            <ul class="tree__item-nested-list tree__item-nested-list--hidden" data-id="development-tools">
                                    <li><a href="../develpment-tools/inspector.html" title="Inspector">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Inspector</span>
                                        </div></a></li>
                                    <li><a href="../develpment-tools/testing-helpers.html" title="Testing helpers">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Testing helpers</span>
                                        </div></a></li>
                                    <li><a href="../develpment-tools/mrgit.html" title="Mr. Git">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Mr. Git</span>
                                        </div></a></li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Package Generator</span>
                                      </div>
                                      <ul class="tree__item-nested-list tree__item-nested-list--hidden" data-id="package-generator">
                                              <li><a href="../develpment-tools/package-generator/using-package-generator.html" title="Using package generator">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Using package generator</span>
                                                  </div></a></li>
                                              <li><a href="../develpment-tools/package-generator/javascript-package.html" title="JavaScript package">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">JavaScript package</span>
                                                  </div></a></li>
                                              <li><a href="../develpment-tools/package-generator/typescript-package.html" title="TypeScript package">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">TypeScript package</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                            </ul>
                          </li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Architecture</span>
                            </div>
                            <ul class="tree__item-nested-list" data-id="framework-architecture">
                                    <li><a href="../architecture/intro.html" title="Introduction">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Introduction</span>
                                        </div></a></li>
                                    <li><a href="../architecture/plugins.html" title="Plugins in CKEditor 5">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Plugins in CKEditor 5</span>
                                        </div></a></li>
                                    <li><a href="../architecture/core-editor-architecture.html" title="Core editor architecture">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Core editor architecture</span>
                                        </div></a></li>
                                    <li><a href="../architecture/editing-engine.html" title="Editing engine">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Editing engine</span>
                                        </div></a></li>
                                    <li><a href="../architecture/ui-library.html" title="UI library">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">UI library</span>
                                        </div></a></li>
                                    <li><a href="../architecture/ui-components.html" title="UI components">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">UI components</span>
                                        </div></a></li>
                            </ul>
                          </li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Deep dive</span>
                            </div>
                            <ul class="tree__item-nested-list" data-id="framework-deep-dive">
                                    <li><a href="clipboard.html" title="Clipboard">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Clipboard</span>
                                        </div></a></li>
                                    <li><a href="upload-adapter.html" title="Custom upload adapter">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom upload adapter</span>
                                        </div></a></li>
                                    <li><a href="" title="Event system">
                                        <div class="tree__item__wrapper tree__item__wrapper--active"><span class="tree__item--guide tree__item__text">Event system</span>
                                        </div></a></li>
                                    <li><a href="observables.html" title="Observables">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Observables</span>
                                        </div></a></li>
                                    <li><a href="schema.html" title="Schema">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Schema</span>
                                        </div></a></li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Conversion</span>
                                      </div>
                                      <ul class="tree__item-nested-list tree__item-nested-list--hidden" data-id="framework-deep-dive-conversion">
                                              <li><a href="conversion/intro.html" title="Introduction">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Introduction</span>
                                                  </div></a></li>
                                              <li><a href="conversion/downcast.html" title="Model to view (downcast)">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Model to view (downcast)</span>
                                                  </div></a></li>
                                              <li><a href="conversion/upcast.html" title="View to model (upcast)">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">View to model (upcast)</span>
                                                  </div></a></li>
                                              <li>
                                                <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Conversion helpers</span>
                                                </div>
                                                <ul class="tree__item-nested-list" data-id="framework-deep-dive-conversion-helpers">
                                                        <li><a href="conversion/helpers/intro.html" title="Introduction">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Introduction</span>
                                                            </div></a></li>
                                                        <li><a href="conversion/helpers/downcast.html" title="Downcast helpers">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Downcast helpers</span>
                                                            </div></a></li>
                                                        <li><a href="conversion/helpers/upcast.html" title="Upcast helpers">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Upcast helpers</span>
                                                            </div></a></li>
                                                </ul>
                                              </li>
                                      </ul>
                                    </li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">User interface</span>
                                      </div>
                                      <ul class="tree__item-nested-list tree__item-nested-list--hidden" data-id="framework-deep-dive-ui">
                                              <li><a href="ui/focus-tracking.html" title="Focus tracking">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Focus tracking</span>
                                                  </div></a></li>
                                              <li><a href="ui/widget-internals.html" title="Widget internals">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Widget internals</span>
                                                  </div></a></li>
                                              <li><a href="ui/theme-customization.html" title="Theme customization">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Theme customization</span>
                                                  </div></a></li>
                                              <li><a href="ui/external-ui.html" title="Third-party UI">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Third-party UI</span>
                                                  </div></a></li>
                                              <li><a href="ui/document-editor.html" title="Document editor">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Document editor</span>
                                                  </div></a></li>
                                              <li><a href="ui/custom-editor-creator.html" title="Creating custom editor">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Creating custom editor</span>
                                                  </div></a></li>
                                              <li><a href="ui/localization.html" title="Localization">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Localization</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                            </ul>
                          </li>
                          <li><a href="../how-tos.html" title="How-tos">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">How-tos</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Contributing</span>
                            </div>
                            <ul class="tree__item-nested-list tree__item-nested-list--hidden" data-id="framework-contributing">
                                    <li><a href="../contributing/contributing.html" title="Contributing">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Contributing</span>
                                        </div></a></li>
                                    <li><a href="../contributing/development-environment.html" title="Development environment">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Development environment</span>
                                        </div></a></li>
                                    <li><a href="../contributing/testing-environment.html" title="Testing environment">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Testing environment</span>
                                        </div></a></li>
                                    <li><a href="../contributing/code-style.html" title="Code style">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Code style</span>
                                        </div></a></li>
                                    <li><a href="../contributing/package-metadata.html" title="Package metadata">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Package metadata</span>
                                        </div></a></li>
                                    <li><a href="../contributing/git-commit-message-convention.html" title="Git commit message convention">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Git commit message convention</span>
                                        </div></a></li>
                            </ul>
                          </li>
            </ul>
          </nav>
        </div>
      </div>
    </main>
    <footer class="footer footer--bordered">
      <p>&copy; 2003-2025 <a href="http://cksource.com">CKSource</a>. All rights reserved.</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
docsearch({
apiKey:'fc463c26455365ad403d5ec51796cd73',indexName:'ckeditor_nightly',inputSelector:'#docsearch_input',algoliaOptions:{hitsPerPage:250,attributesToRetrieve:'*'},
transformData: function( hits ) {var sortingFn = function( a, b ) {a.custom_ranking = a.custom_ranking || 0;b.custom_ranking = b.custom_ranking || 0;if ( a.custom_ranking === b.custom_ranking ) return a.index - b.index;if ( a.custom_ranking > b.custom_ranking ) return -1;if ( a.custom_ranking < b.custom_ranking ) return 1;};var result = [];var tags = [ 'getting-started', 'features', 'examples', 'framework', 'api', 'updating', 'support' ];var hitsGrouped = { api: [] };hitsGrouped[ 'framework' ] = hits.filter( function( h ) {return h.tags.includes( 'ckeditor5' ) && h.tags.includes( 'framework' );} ).slice( 0, 7 ).map( function( item, idx ) {item.index = idx;return item;} ).sort( sortingFn );tags.forEach( function( tag ) {if ( tag !== 'framework' ) {hitsGrouped[ tag ] = hits.filter( function( h ) {return h.tags.includes( 'ckeditor5' ) && h.tags.includes( tag );} ).slice( 0, 10 ).map( function( item, idx ) {item.index = idx;return item;} ).sort( sortingFn ).slice( 0, 3 );}} );var apiSearchHits = [];if ( window.apiSearch ) apiSearchHits = window.apiSearch();hitsGrouped.api = hitsGrouped.api.filter( function( h ) {var isDuplicated = false;for ( var i = 0; i < apiSearchHits.length; i++ ) {if ( h.url.includes( apiSearchHits[ i ].urlShort ) ) {isDuplicated = true;break;}}return !isDuplicated;} );hitsGrouped.api = ( apiSearchHits || [] ).concat( hitsGrouped.api );result = result.concat( hitsGrouped[ 'framework' ] );tags.forEach( function( tag ) {if ( tag !== 'framework' ) result = result.concat( hitsGrouped[ tag ].slice( 0, 4 ) );} );return result;}
});
</script>
    <script src="../../../../assets/4.4.2/scripts/app.js"></script>
    <script src="../../assets/buildwarningbanner.js" async></script>
  </body>
</html>