(function(o){function r(d){if(s[d])return s[d].exports;var u=s[d]={i:d,l:!1,exports:{}};return o[d].call(u.exports,u,u.exports,r),u.l=!0,u.exports}var s={};return r.m=o,r.c=s,r.i=function(d){return d},r.d=function(d,u,f){r.o(d,u)||Object.defineProperty(d,u,{configurable:!1,enumerable:!0,get:f})},r.n=function(d){var u=d&&d.__esModule?function(){return d['default']}:function(){return d};return r.d(u,'a',u),u},r.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},r.p='',r(r.s=513)})([function(o,r){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class d extends Error{constructor(u,f){f&&(u+=' '+JSON.stringify(f)),super(u),this.name='CKEditorError',this.data=f}static isCKEditorError(u){return u instanceof d}}r.a=d},function(o,r,s){'use strict';var d=s(67),u=s(5),f=s(19),h=s(47),w=s(0),C=s(22);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class T{constructor(P,S){if(!(P instanceof u.a)&&!(P instanceof d.a))throw new w.a('model-position-root-invalid: Position root invalid.');if(!(S instanceof Array)||0===S.length)throw new w.a('model-position-path-incorrect: Position path must be an Array with at least one item.',{path:S});S=P.getPath().concat(S),P=P.root,this.root=P,this.path=S}get offset(){return s.i(f.a)(this.path)}set offset(P){this.path[this.path.length-1]=P}get parent(){let P=this.root;for(let S=0;S<this.path.length-1;S++)P=P.getChild(P.offsetToIndex(this.path[S]));return P}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){let P=this.parent.getChild(this.index);return P instanceof C.a&&P.startOffset<this.offset?P:null}get nodeAfter(){return null===this.textNode?this.parent.getChild(this.index):null}get nodeBefore(){return null===this.textNode?this.parent.getChild(this.index-1):null}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(P){if(this.root!=P.root)return'different';const S=s.i(h.a)(this.path,P.path);return'same'===S?'same':'prefix'===S?'before':'extension'===S?'after':this.path[S]<P.path[S]?'before':'after'}getParentPath(){return this.path.slice(0,-1)}getAncestors(){return this.parent.getAncestors({includeNode:!0,parentFirst:!0})}getCommonPath(P){if(this.root!=P.root)return[];let S=s.i(h.a)(this.path,P.path),O='string'==typeof S?Math.min(this.path.length,P.path.length):S;return this.path.slice(0,O)}getShiftedBy(P){let S=T.createFromPosition(this),O=S.offset+P;return S.offset=0>O?0:O,S}isAfter(P){return'after'==this.compareWith(P)}isBefore(P){return'before'==this.compareWith(P)}isEqual(P){return'same'==this.compareWith(P)}isTouching(P){let S=null,O=null,E=this.compareWith(P);switch(E){case'same':return!0;case'before':S=T.createFromPosition(this),O=T.createFromPosition(P);break;case'after':S=T.createFromPosition(P),O=T.createFromPosition(this);break;default:return!1;}for(let V=S.parent;S.path.length+O.path.length;){if(S.isEqual(O))return!0;if(S.path.length>O.path.length){if(S.offset!==V.maxOffset)return!1;S.path=S.path.slice(0,-1),V=V.parent,S.offset++}else{if(0!==O.offset)return!1;O.path=O.path.slice(0,-1)}}}_getTransformedByDeletion(P,S){let O=T.createFromPosition(this);if(this.root!=P.root)return O;if('same'==s.i(h.a)(P.getParentPath(),this.getParentPath())){if(P.offset<this.offset){if(P.offset+S>this.offset)return null;O.offset-=S}}else if('prefix'==s.i(h.a)(P.getParentPath(),this.getParentPath())){const E=P.path.length-1;if(P.offset<=this.path[E]){if(P.offset+S>this.path[E])return null;O.path[E]-=S}}return O}_getTransformedByInsertion(P,S,O){let E=T.createFromPosition(this);if(this.root!=P.root)return E;if('same'==s.i(h.a)(P.getParentPath(),this.getParentPath()))(P.offset<this.offset||P.offset==this.offset&&O)&&(E.offset+=S);else if('prefix'==s.i(h.a)(P.getParentPath(),this.getParentPath())){const V=P.path.length-1;P.offset<=this.path[V]&&(E.path[V]+=S)}return E}_getTransformedByMove(P,S,O,E,V){let R=this._getTransformedByDeletion(P,O);return S=S._getTransformedByDeletion(P,O),R=null===R||V&&R.isEqual(P)?this._getCombined(P,S):R._getTransformedByInsertion(S,O,E),R}_getCombined(P,S){const O=P.path.length-1;let E=T.createFromPosition(S);return E.offset=E.offset+this.path[O]-P.offset,E.path=E.path.concat(this.path.slice(O+1)),E}static createAt(P,S){if(P instanceof T)return this.createFromPosition(P);const O=P;if('end'==S)S=O.maxOffset;else{if('before'==S)return this.createBefore(O);if('after'==S)return this.createAfter(O);S||(S=0)}return this.createFromParentAndOffset(O,S)}static createAfter(P){if(!P.parent)throw new w.a('model-position-after-root: You can not make position after root.',{root:P});return this.createFromParentAndOffset(P.parent,P.endOffset)}static createBefore(P){if(!P.parent)throw new w.a('model-position-before-root: You can not make position before root.',{root:P});return this.createFromParentAndOffset(P.parent,P.startOffset)}static createFromParentAndOffset(P,S){if(!(P instanceof u.a||P instanceof d.a))throw new w.a('model-position-parent-incorrect: Position parent have to be a element or document fragment.');const O=P.getPath();return O.push(S),new this(P.root,O)}static createFromPosition(P){return new this(P.root,P.path.slice())}static fromJSON(P,S){if('$graveyard'===P.root)return new T(S.graveyard,P.path);if(!S.hasRoot(P.root))throw new w.a('model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.',{rootName:P.root});return new T(S.getRoot(P.root),P.path)}}r.a=T},function(o,r,s){'use strict';var d=s(1),u=s(55),f=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h{constructor(w,C=null){this.start=d.a.createFromPosition(w),this.end=C?d.a.createFromPosition(C):d.a.createFromPosition(w)}*[Symbol.iterator](){yield*new u.a({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get isEmpty(){return this.start.isTouching(this.end)}get root(){return this.start.root}containsPosition(w){return w.isAfter(this.start)&&w.isBefore(this.end)}containsRange(w){return this.containsPosition(w.start)&&this.containsPosition(w.end)}isEqual(w){return this.start.isEqual(w.start)&&this.end.isEqual(w.end)}isIntersecting(w){return this.start.isBefore(w.end)&&this.end.isAfter(w.start)}getDifference(w){const C=[];return this.isIntersecting(w)?(this.containsPosition(w.start)&&C.push(new h(this.start,w.start)),this.containsPosition(w.end)&&C.push(new h(w.end,this.end))):C.push(h.createFromRange(this)),C}getIntersection(w){if(this.isIntersecting(w)){let C=this.start,T=this.end;return this.containsPosition(w.start)&&(C=w.start),this.containsPosition(w.end)&&(T=w.end),new h(C,T)}return null}getMinimalFlatRanges(){const w=[],C=this.start.getCommonPath(this.end).length;let T=d.a.createFromPosition(this.start),P=T.parent;for(;T.path.length>C+1;){let S=P.maxOffset-T.offset;0!=S&&w.push(new h(T,T.getShiftedBy(S))),T.path=T.path.slice(0,-1),T.offset++,P=P.parent}for(;T.path.length<=this.end.path.length;){let S=this.end.path[T.path.length-1],O=S-T.offset;0!=O&&w.push(new h(T,T.getShiftedBy(O))),T.offset=S,T.path.push(0)}return w}getWalker(w={}){return w.boundaries=this,new u.a(w)}*getItems(w={}){w.boundaries=this,w.ignoreElementEnd=!0;const C=new u.a(w);for(let T of C)yield T.item}*getPositions(w={}){w.boundaries=this;const C=new u.a(w);yield C.position;for(let T of C)yield T.nextPosition}getTransformedByDelta(w){let C=[h.createFromRange(this)];const T=new Set(['insert','move','remove','reinsert']);for(let P of w.operations)if(T.has(P.type))for(let S=0;S<C.length;S++){const O=C[S]._getTransformedByDocumentChange(P.type,P.targetPosition||P.position,P.howMany||P.nodes.maxOffset,P.sourcePosition);C.splice(S,1,...O),S+=O.length-1}return C}getTransformedByDeltas(w){let C=[h.createFromRange(this)];for(let T of w)for(let P=0,S;P<C.length;P++)S=C[P].getTransformedByDelta(T),C.splice(P,1,...S),P+=S.length-1;for(let T=0;T<C.length;T++){const P=C[T];for(let S=T+1;S<C.length;S++){const O=C[S];(P.containsRange(O)||O.containsRange(P)||P.isEqual(O))&&C.splice(S,1)}}return C}_getTransformedByDocumentChange(w,C,T,P){return'insert'==w?this._getTransformedByInsertion(C,T,!1,!1):this._getTransformedByMove(P,C,T)}_getTransformedByInsertion(w,C,T=!1,P=!1){if(T&&this.containsPosition(w))return[new h(this.start,w),new h(w._getTransformedByInsertion(w,C,!0),this.end._getTransformedByInsertion(w,C,this.isCollapsed))];const S=h.createFromRange(this);let O=!!S.isCollapsed||!P,E=!!S.isCollapsed||P;return S.start=S.start._getTransformedByInsertion(w,C,O),S.end=S.end._getTransformedByInsertion(w,C,E),[S]}_getTransformedByMove(w,C,T){if(this.isCollapsed){const F=this.start._getTransformedByMove(w,C,T,!0,!0);return[new h(F)]}let P;const S=new h(w,w.getShiftedBy(T)),O=this.getDifference(S);let E=null;const V=this.getIntersection(S);1==O.length?E=new h(O[0].start._getTransformedByDeletion(w,T),O[0].end._getTransformedByDeletion(w,T)):2==O.length&&(E=new h(this.start,this.end._getTransformedByDeletion(w,T)));const R=C._getTransformedByDeletion(w,T);return P=E?E._getTransformedByInsertion(R,T,null!==V):[],V&&P.push(new h(V.start._getCombined(S.start,R),V.end._getCombined(S.start,R))),P}static createFromPositionAndShift(w,C){const T=w,P=w.getShiftedBy(C);return 0<C?new this(T,P):new this(P,T)}static createFromParentsAndOffsets(w,C,T,P){return new this(d.a.createFromParentAndOffset(w,C),d.a.createFromParentAndOffset(T,P))}static createFromRange(w){return new this(w.start,w.end)}static createIn(w){return this.createFromParentsAndOffsets(w,0,w,w.maxOffset)}static createOn(w){return this.createFromPositionAndShift(d.a.createBefore(w),w.offsetSize)}static createFromRanges(w){if(0===w.length)throw new f.a('range-create-from-ranges-empty-array: At least one range has to be passed.');else if(1==w.length)return this.createFromRange(w[0]);const C=w[0];w.sort((S,O)=>S.start.isAfter(O.start));const T=w.indexOf(C),P=new this(C.start,C.end);for(let S=T-1;0<=S&&w[S].end.isTouching(P.start);S++)P.start=d.a.createFromPosition(w[S].start);for(let S=T+1;S<w.length&&w[S].start.isTouching(P.end);S++)P.end=d.a.createFromPosition(w[S].end);return P}static fromJSON(w,C){return new this(d.a.fromJSON(w.start,C),d.a.fromJSON(w.end,C))}}r.a=h},function(o,r,s){'use strict';var d=s(31),u=s(4);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f{constructor(h){this.editor=h}init(){}afterInit(){}destroy(){}}r.a=f,s.i(u.a)(f,d.a)},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(u,...f){f.forEach(h=>{Object.getOwnPropertyNames(h).concat(Object.getOwnPropertySymbols(h)).forEach(w=>{if(!(w in u.prototype)){const C=Object.getOwnPropertyDescriptor(h,w);C.enumerable=!1,Object.defineProperty(u.prototype,w,C)}})})}},function(o,r,s){'use strict';function d(T){return'string'==typeof T?[new h.a(T)]:(s.i(w.a)(T)||(T=[T]),Array.from(T).map(P=>'string'==typeof P?new h.a(P):P))}var u=s(68),f=s(69),h=s(22),w=s(41);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class C extends u.a{constructor(T,P,S){super(P),this.name=T,this._children=new f.a,S&&this.insertChildren(0,S)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}getChild(T){return this._children.getNode(T)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(T){return this._children.getNodeIndex(T)}getChildStartOffset(T){return this._children.getNodeStartOffset(T)}clone(T=!1){const P=T?Array.from(this._children).map(S=>S.clone()):Array.from(this._children);return new C(this.name,this.getAttributes(),P)}offsetToIndex(T){return this._children.offsetToIndex(T)}appendChildren(T){this.insertChildren(this.childCount,T)}insertChildren(T,P){P=d(P);for(let S of P)S.parent=this;this._children.insertNodes(T,P)}removeChildren(T,P=1){const S=this._children.removeNodes(T,P);for(let O of S)O.parent=null;return S}getNodeByPath(T){let P=this;for(const S of T)P=P.getChild(S);return P}toJSON(){let T=super.toJSON();if(T.name=this.name,0<this._children.length){T.children=[];for(let P of this._children)T.children.push(P.toJSON())}return T}static fromJSON(T){let P=null;if(T.children){P=[];for(let S of T.children)S.name?P.push(C.fromJSON(S)):P.push(h.a.fromJSON(S))}return new C(T.name,T.attributes,P)}}r.a=C},function(o,r,s){'use strict';function d(ae){return!!ae&&((ae.value&&(ae=ae.value),Array.isArray(ae))?ae.some(d):!!(ae instanceof Q))}function u(ae,ne){return ae.map(oe=>{return oe instanceof Q?oe.getValue(ne):oe})}function f(ae,ne,oe){let ie=u(ae,ne);ie=1==ae.length&&ae[0]instanceof te?ie[0]:ie.reduce(F,''),L(ie)?oe.remove():oe.set(ie)}function h(ae){return{set(ne){ae.textContent=ne},remove(){ae.textContent=''}}}function w(ae,ne,oe){return{set(ie){ae.setAttributeNS(oe,ne,ie)},remove(){ae.removeAttributeNS(oe,ne)}}}function C(ae,ne){return{set(oe){ae.style[ne]=oe},remove(){ae.style[ne]=null}}}function T(ae){const ne=s.i(Z.a)(ae,oe=>{if(oe&&(oe instanceof Q||D(oe)||I(oe)||q(oe)))return oe});return ne}function P(ae){if('string'==typeof ae?ae=E(ae):ae.text&&V(ae),ae.on&&(ae.eventListeners=O(ae.on),delete ae.on),!ae.text){ae.attributes&&S(ae.attributes);const ne=new U.a;if(ae.children)if(q(ae.children))ne.add(ae.children);else for(let oe of ae.children)D(oe)||I(oe)?ne.add(oe):ne.add(new X(oe));ae.children=ne}return ae}function S(ae){for(let ne in ae)ae[ne].value&&(ae[ne].value=[].concat(ae[ne].value)),R(ae,ne)}function O(ae){for(let ne in ae)R(ae,ne);return ae}function E(ae){return{text:[ae]}}function V(ae){Array.isArray(ae.text)||(ae.text=[ae.text])}function R(ae,ne){Array.isArray(ae[ne])||(ae[ne]=[ae[ne]])}function F(ae,ne){return L(ne)?ae:L(ae)?ne:`${ae} ${ne}`}function N(ae,ne){for(let oe in ne)ae[oe]?ae[oe].push(...ne[oe]):ae[oe]=ne[oe]}function M(ae,ne){if(ne.attributes&&(!ae.attributes&&(ae.attributes={}),N(ae.attributes,ne.attributes)),ne.eventListeners&&(!ae.eventListeners&&(ae.eventListeners={}),N(ae.eventListeners,ne.eventListeners)),ne.text&&ae.text.push(...ne.text),ne.children&&ne.children.length){if(ae.children.length!=ne.children.length)throw new z.a('ui-template-extend-children-mismatch: The number of children in extended definition does not match.');let oe=0;for(let ie of ne.children)M(ae.children.get(oe++),ie)}}function L(ae){return!ae&&0!==ae}function I(ae){return ae instanceof H.a}function D(ae){return ae instanceof X}function q(ae){return ae instanceof W.a}var z=s(0),$=s(4),K=s(7),U=s(76),H=s(9),W=s(119),Z=s(490),G=s(13),J=s(53);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class X{constructor(ae){Object.assign(this,P(T(ae))),this._isRendered=!1}render(){const ae=this._renderNode(void 0,!0);return this._isRendered=!0,ae}apply(ae){if(!ae)throw new z.a('ui-template-wrong-node: No DOM Node specified.');return this._renderNode(ae)}static bind(ae,ne){return{to(oe,ie){return new ee({eventNameOrFunction:oe,attribute:oe,observable:ae,emitter:ne,callback:ie})},if(oe,ie,re){return new te({observable:ae,emitter:ne,attribute:oe,valueIfTrue:ie,callback:re})}}}static extend(ae,ne){ae._isRendered&&J.a.warn('template-extend-render: Attempting to extend a template which has already been rendered.'),M(ae,P(T(ne)))}_renderNode(ae,ne){let oe;if(oe=ae?this.tag&&this.text:this.tag?this.text:!this.text,oe)throw new z.a('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering new Node.');return this.text?this._renderText(ae):this._renderElement(ae,ne)}_renderElement(ae,ne){const oe=ae||document.createElementNS(this.ns||'http://www.w3.org/1999/xhtml',this.tag);if(this._renderAttributes(oe),ne){const ie=document.createDocumentFragment();this._renderElementChildren(oe,ie),oe.appendChild(ie)}else this._renderElementChildren(oe,oe,!!ae);return this._setUpListeners(oe),oe}_renderText(ae=document.createTextNode('')){return d(this.text)?this._bindToObservable(this.text,ae,h(ae)):ae.textContent=this.text.join(''),ae}_renderAttributes(ae){let ne,oe,ie;if(this.attributes)for(ne in this.attributes)oe=this.attributes[ne],ie=s.i(G.a)(oe[0])&&oe[0].ns?oe[0].ns:null,d(oe)?this._bindToObservable(ie?oe[0].value:oe,ae,w(ae,ne,ie)):'style'==ne&&'string'!=typeof oe[0]?this._renderStyleAttribute(oe[0],ae):(oe=oe.map(re=>re?re.value||re:re).reduce((re,se)=>re.concat(se),[]).reduce(F,''),!L(oe)&&ae.setAttributeNS(ie,ne,oe))}_renderStyleAttribute(ae,ne){for(let oe in ae){const ie=ae[oe];d(ie)?this._bindToObservable([ie],ne,C(ne,oe)):ne.style[oe]=ie}}_renderElementChildren(ae,ne,oe){let ie=0;for(let re of this.children)if(!q(re))I(re)?oe||ne.appendChild(re.element):oe?re._renderNode(ne.childNodes[ie++]):ne.appendChild(re.render());else if(!oe){re.setParent(ae);for(let se of re)ne.appendChild(se.element)}}_setUpListeners(ae){if(this.eventListeners)for(let ne in this.eventListeners){const[oe,ie]=ne.split('@');this.eventListeners[ne].forEach(re=>{re.activateDomEventListener(ae,oe,ie)})}}_bindToObservable(ae){ae.filter(ne=>!L(ne)).filter(ne=>ne.observable).forEach(ne=>ne.activateAttributeListener(...arguments)),f(...arguments)}}r.a=X,s.i($.a)(X,K.a);class Q{constructor(ae){Object.assign(this,ae)}getValue(ae){const ne=this.observable[this.attribute];return this.callback?this.callback(ne,ae):ne}activateAttributeListener(ae,ne,oe){this.emitter.listenTo(this.observable,'change:'+this.attribute,()=>{f(ae,ne,oe)})}}class ee extends Q{activateDomEventListener(ae,ne,oe){this.emitter.listenTo(ae,ne,(ie,re)=>{(!oe||re.target.matches(oe))&&('function'==typeof this.eventNameOrFunction?this.eventNameOrFunction(re):this.observable.fire(this.eventNameOrFunction,re))})}}class te extends Q{getValue(ae){const ne=super.getValue(ae);return!L(ne)&&(this.valueIfTrue||!0)}}},function(o,r,s){'use strict';function u(M,L){M[F]||(M[F]=L||s.i(E.a)())}function f(M){return M[F]}function h(M){return M._events||Object.defineProperty(M,'_events',{value:{}}),M._events}function w(){return{callbacks:[],childEvents:[]}}function C(M,L){const I=h(M);if(!I[L]){let D=L,q=null;const z=[];for(;''!==D&&!I[D];)I[D]=w(),z.push(I[D]),q&&I[D].childEvents.push(q),q=D,D=D.substr(0,D.lastIndexOf(':'));if(''!==D){for(let $ of z)$.callbacks=I[D].callbacks.slice();I[D].childEvents.push(q)}}}function T(M,L){const I=h(M)[L];if(!I)return[];let D=[I.callbacks];for(let q=0,z;q<I.childEvents.length;q++)z=T(M,I.childEvents[q]),D=D.concat(z);return D}function P(M,L){let I;return M._events&&(I=M._events[L])&&I.callbacks.length?I.callbacks:-1<L.indexOf(':')?P(M,L.substr(0,L.lastIndexOf(':'))):null}function S(M,L,I){for(let[D,q]of M){q?'function'==typeof q&&(q=q(L.name)):q=L.name;const z=new O.a(L.source,q);z.path=[...L.path],D.fire(z,...I)}}var O=s(408),E=s(64),V=s(510);r.b=function(M,L){return M[R]&&M[R][L]?M[R][L].emitter:null},r.c=u;/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const R=Symbol('listeningTo'),F=Symbol('emitterId'),N={on(M,L,I={}){C(this,M);const D=T(this,M),q=V.a.get(I.priority);L={callback:L,context:I.context||this,priority:q};for(let z of D){let $=!1;for(let K=0;K<z.length;K++)if(z[K].priority<q){z.splice(K,0,L),$=!0;break}$||z.push(L)}},once(M,L,I){this.on(M,function(q){q.off(),L.apply(this,arguments)},I)},off(M,L,I){const D=T(this,M);for(let q of D)for(let z=0;z<q.length;z++)q[z].callback==L&&(I&&I!=q[z].context||(q.splice(z,1),z--))},listenTo(M,L,I,D){let q,z,$,K;this[R]||(this[R]={}),q=this[R],f(M)||u(M),z=f(M),($=q[z])||($=q[z]={emitter:M,callbacks:{}}),(K=$.callbacks[L])||(K=$.callbacks[L]=[]),K.push(I),M.on(L,I,D)},stopListening(M,L,I){let D=this[R],q=M&&f(M),z=D&&q&&D[q],$=z&&L&&z.callbacks[L];if(D&&(!M||z)&&(!L||$))if(I)M.off(L,I);else if($){for(;I=$.pop();)M.off(L,I);delete z.callbacks[L]}else if(z){for(L in z.callbacks)this.stopListening(M,L);delete D[q]}else{for(q in D)this.stopListening(D[q].emitter);delete this[R]}},fire(M,...L){const I=M instanceof O.a?M:new O.a(this,M),D=I.name;let q=P(this,D);if(I.path.push(this),q){const z=[I,...L];q=Array.from(q);for(let $=0;$<q.length&&(q[$].callback.apply(q[$].context,z),I.off.called&&(delete I.off.called,this.off(D,q[$].callback,q[$].context)),!I.stop.called);$++);}if(this._delegations){const z=this._delegations.get(D),$=this._delegations.get('*');z&&S(z,I,L),$&&S($,I,L)}},delegate(...M){return{to:(L,I)=>{this._delegations||(this._delegations=new Map);for(let D of M){let q=this._delegations.get(D);q?q.set(L,I):this._delegations.set(D,new Map([[L,I]]))}}}},stopDelegating(M,L){if(this._delegations)if(!M)this._delegations.clear();else if(!L)this._delegations.delete(M);else{const I=this._delegations.get(M);I&&I.delete(L)}}};r.a=N},function(o,r,s){'use strict';var u=s(194),f=s(14),w=Math.max;r.a=function(C,T){if('function'!=typeof C)throw new TypeError('Expected a function');return T=w(void 0===T?C.length-1:s.i(f.a)(T),0),function(){for(var P=arguments,S=-1,O=w(P.length-T,0),E=Array(O);++S<O;)E[S]=P[T+S];switch(T){case 0:return C.call(this,E);case 1:return C.call(this,P[0],E);case 2:return C.call(this,P[0],P[1],E);}var V=Array(T+1);for(S=-1;++S<T;)V[S]=P[S];return V[T]=E,s.i(u.a)(C,this,V)}}},function(o,r,s){'use strict';var d=s(0),u=s(119),f=s(6),h=s(77),w=s(31),C=s(76),T=s(4),P=s(41);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class S{constructor(O){this.locale=O,this.t=O&&O.t,this.set('ready',!1),this._viewCollections=new C.a,this._unboundChildren=this.createCollection(),this._viewCollections.on('add',(E,V)=>{V.locale=O})}get element(){return this._element?this._element:this.template?(this._addTemplateChildren(),this._element=this.template.render()):null}set element(O){this._element=O}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=f.a.bind(this,this)}createCollection(){const O=new u.a;return this._viewCollections.add(O),O}addChildren(O){s.i(P.a)(O)||(O=[O]);for(let E of O)this._unboundChildren.add(E)}init(){if(this.ready)throw new d.a('ui-view-init-reinit: This View has already been initialized.');return Promise.resolve().then(()=>{return Promise.all(this._viewCollections.map(O=>O.init()))}).then(()=>{this.ready=!0})}destroy(){this.stopListening();const O=this._viewCollections.map(E=>E.destroy());return this._unboundChildren.clear(),this._viewCollections.clear(),this.element&&this.element.remove(),this.element=this.template=this.locale=this.t=this._viewCollections=this._unboundChildren=null,Promise.all(O)}_addTemplateChildren(){const O=E=>{if(E.children)for(let V of E.children)V instanceof S?this.addChildren(V):O(V)};O(this.template)}}r.a=S,s.i(T.a)(S,h.a),s.i(T.a)(S,w.a)},function(o,r,s){'use strict';var u=s(430),f=s(431),h=s(228),w=s(11),C=s(502);r.a=function(T){return'function'==typeof T?T:null==T?h.a:'object'==typeof T?s.i(w.a)(T)?s.i(f.a)(T[0],T[1]):s.i(u.a)(T):s.i(C.a)(T)}},function(o,r){'use strict';var d=Array.isArray;r.a=d},function(o,r,s){'use strict';var u=s(93),f=s(43);r.a=function(h){return s.i(f.a)(h)&&s.i(u.a)(h)}},function(o,r){'use strict';r.a=function(u){var f=typeof u;return!!u&&('object'==f||'function'==f)}},function(o,r,s){'use strict';var u=s(504);r.a=function(f){var h=s.i(u.a)(f),w=h%1;return h===h?w?h-w:h:0}},function(o,r,s){'use strict';var u=s(0);r.b=function(h,w){if(f.prototype[h])throw new u.a('model-batch-register-taken: This batch method name is already taken.',{name:h});f.prototype[h]=w};/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f{constructor(h,w='default'){this.document=h,this.deltas=[],this.type=w}get baseVersion(){return 0<this.deltas.length?this.deltas[0].baseVersion:null}addDelta(h){return h.batch=this,this.deltas.push(h),h}*getOperations(){for(let h of this.deltas)yield*h.operations}}r.a=f},function(o,r,s){'use strict';var d=s(0),u=s(339);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const f=new Map;r.a=class{static fromJSON(w,C){if(!f.has(w.__className))throw new d.a('delta-fromjson-no-deserializer: This delta has no defined deserializer',{name:w.__className});let T=f.get(w.__className),P=new T;for(let S of w.operations)P.addOperation(u.a.fromJSON(S,C));return P}static register(w){f.set(w.className,w)}}},function(o,r,s){'use strict';function d(E,V){const R=/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g;let F;for(E.clear();null!==(F=R.exec(V));)E.set(F[1],F[2].trim())}function u(E,V){const R=V.split(/\s+/);E.clear(),R.forEach(F=>E.add(F))}function f(E){return'string'==typeof E?[new w.a(E)]:(s.i(T.a)(E)||(E=[E]),Array.from(E).map(V=>'string'==typeof V?new w.a(V):V))}var h=s(113),w=s(18),C=s(273),T=s(41),P=s(95),S=s(169);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class O extends h.a{constructor(E,V,R){if(super(),this.name=E,this._attrs=s.i(P.a)(V)?s.i(C.a)(V):new Map(V),this._children=[],R&&this.insertChildren(0,R),this._classes=new Set,this._attrs.has('class')){const F=this._attrs.get('class');u(this._classes,F),this._attrs.delete('class')}this._styles=new Map,this._attrs.has('style')&&(d(this._styles,this._attrs.get('style')),this._attrs.delete('style')),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}clone(E){const V=[];if(E)for(let F of this.getChildren())V.push(F.clone(E));const R=new this.constructor(this.name,this._attrs,V);return R._classes=new Set(this._classes),R._styles=new Map(this._styles),R._customProperties=new Map(this._customProperties),R.getFillerOffset=this.getFillerOffset,R}appendChildren(E){return this.insertChildren(this.childCount,E)}getChild(E){return this._children[E]}getChildIndex(E){return this._children.indexOf(E)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){0<this._classes.size&&(yield'class'),0<this._styles.size&&(yield'style');for(let E of this._attrs.keys())yield E}*getAttributes(){yield*this._attrs.entries(),0<this._classes.size&&(yield['class',this.getAttribute('class')]),0<this._styles.size&&(yield['style',this.getAttribute('style')])}getAttribute(E){if('class'==E)return 0<this._classes.size?[...this._classes].join(' '):void 0;if('style'==E){if(0<this._styles.size){let V='';for(let[R,F]of this._styles)V+=`${R}:${F};`;return V}return}return this._attrs.get(E)}hasAttribute(E){return'class'==E?0<this._classes.size:'style'==E?0<this._styles.size:this._attrs.has(E)}setAttribute(E,V){this._fireChange('attributes',this),'class'==E?u(this._classes,V):'style'==E?d(this._styles,V):this._attrs.set(E,V)}insertChildren(E,V){this._fireChange('children',this);let R=0;V=f(V);for(let F of V)F.parent=this,this._children.splice(E,0,F),E++,R++;return R}removeAttribute(E){return this._fireChange('attributes',this),'class'==E?!!(0<this._classes.size)&&(this._classes.clear(),!0):'style'==E?!!(0<this._styles.size)&&(this._styles.clear(),!0):this._attrs.delete(E)}removeChildren(E,V=1){this._fireChange('children',this);for(let R=E;R<E+V;R++)this._children[R].parent=null;return this._children.splice(E,V)}isSimilar(E){if(!(E instanceof O))return!1;if(this===E)return!0;if(this.name!=E.name)return!1;if(this._attrs.size!==E._attrs.size||this._classes.size!==E._classes.size||this._styles.size!==E._styles.size)return!1;for(let[V,R]of this._attrs)if(!E._attrs.has(V)||E._attrs.get(V)!==R)return!1;for(let V of this._classes)if(!E._classes.has(V))return!1;for(let[V,R]of this._styles)if(!E._styles.has(V)||E._styles.get(V)!==R)return!1;return!0}addClass(...E){this._fireChange('attributes',this),E.forEach(V=>this._classes.add(V))}removeClass(...E){this._fireChange('attributes',this),E.forEach(V=>this._classes.delete(V))}hasClass(...E){for(let V of E)if(!this._classes.has(V))return!1;return!0}getClassNames(){return this._classes.keys()}setStyle(E,V){if(this._fireChange('attributes',this),s.i(P.a)(E)){const R=Object.keys(E);for(let F of R)this._styles.set(F,E[F])}else this._styles.set(E,V)}getStyle(E){return this._styles.get(E)}getStyleNames(){return this._styles.keys()}hasStyle(...E){for(let V of E)if(!this._styles.has(V))return!1;return!0}removeStyle(...E){this._fireChange('attributes',this),E.forEach(V=>this._styles.delete(V))}findAncestor(...E){const V=new S.a(...E);for(let R=this.parent;R;){if(V.match(R))return R;R=R.parent}return null}setCustomProperty(E,V){this._customProperties.set(E,V)}getCustomProperty(E){return this._customProperties.get(E)}removeCustomProperty(E){return this._customProperties.delete(E)}*getCustomProperties(){yield*this._customProperties.entries()}}r.a=O},function(o,r,s){'use strict';var d=s(113);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class u extends d.a{constructor(f){super(),this._data=f}clone(){return new u(this.data)}get data(){return this._data}set data(f){this._fireChange('text',this),this._data=f}isSimilar(f){return!!(f instanceof u)&&(this===f||this.data===f.data)}}r.a=u},function(o,r){'use strict';r.a=function(u){var f=u?u.length:0;return f?u[f-1]:void 0}},function(o,r,s){'use strict';function d(w,C){C.isEnabled=!1}var u=s(31),f=s(4);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h{constructor(w){this.editor=w,this.set('isEnabled',!0),this._checkEnabled&&this.on('refreshState',(C,T)=>{T.isEnabled=this._checkEnabled()})}destroy(){this.stopListening()}refreshState(){const w={isEnabled:!0};this.fire('refreshState',w),this.isEnabled=w.isEnabled}_execute(w){this.isEnabled&&this._doExecute(w)}_disable(){this.on('refreshState',d),this.refreshState()}_enable(){this.off('refreshState',d),this.refreshState()}_doExecute(){}}r.a=h,s.i(f.a)(h,u.a)},function(o,r,s){'use strict';var d=s(92),u=s(16);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f{constructor(){this.batch=null,this.operations=[]}get baseVersion(){return 0<this.operations.length?this.operations[0].baseVersion:null}set baseVersion(h){for(let w of this.operations)w.baseVersion=h++}get _reverseDeltaClass(){return f}addOperation(h){return h.delta=this,this.operations.push(h),h}clone(){let h=new this.constructor;for(let w of this.operations)h.addOperation(w.clone());return h}getReversed(){let h=new this._reverseDeltaClass;for(let w of this.operations)h.addOperation(w.getReversed());h.operations.reverse();for(let w=0;w<h.operations.length;w++)h.operations[w].baseVersion=this.operations[this.operations.length-1].baseVersion+w+1;return h}toJSON(){let h=s.i(d.a)(this);return h.__className=this.constructor.className,delete h.batch,h}static get className(){return'engine.model.delta.Delta'}static get _priority(){return 0}}r.a=f,u.a.register(f)},function(o,r,s){'use strict';var d=s(68);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class u extends d.a{constructor(f,h){super(h),this.data=f||''}get offsetSize(){return this.data.length}clone(){return new u(this.data,this.getAttributes())}toJSON(){let f=super.toJSON();return f.data=this.data,f}static fromJSON(f){return new u(f.data,f.attributes)}}r.a=u},function(o,r,s){'use strict';function d(S){let O;if('string'!=typeof S)O=S.keyCode+(S.altKey?P.alt:0)+(S.ctrlKey?P.ctrl:0)+(S.shiftKey?P.shift:0);else if(O=P[S.toLowerCase()],!O)throw new C.a('keyboard-unknown-key: Unknown key name.',{key:S});return O}function w(S){return S.split(/\s*\+\s*/)}var C=s(0),T=s(407);r.c=d,r.d=function(S){return'string'==typeof S&&(S=w(S)),S.map(O=>'string'==typeof O?d(O):O).reduce((O,E)=>E+O,0)},r.a=function(S){const O=w(S);return T.a.mac&&'ctrl'==O[0].toLowerCase()?'\u2318'+(O[1]||''):S};/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const P=function(){const S={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let O=65;90>=O;O++){const E=String.fromCharCode(O);S[E.toLowerCase()]=O}for(let O=48;57>=O;O++)S[O-48]=O;for(let O=112;123>=O;O++)S['f'+(O-111)]=O;return S}();r.b=P},function(o,r,s){'use strict';function d(h,w,C,T,P){var S=-1,O=h.length;for(C||(C=f.a),P||(P=[]);++S<O;){var E=h[S];0<w&&C(E)?1<w?d(E,w-1,C,T,P):s.i(u.a)(P,E):!T&&(P[P.length]=E)}return P}var u=s(81),f=s(464);r.a=d},function(o,r,s){'use strict';var d=s(18),u=s(171),f=s(47),h=s(0),w=s(167);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class C{constructor(T,P){this.parent=T,this.offset=P}get nodeAfter(){return this.parent instanceof d.a?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent instanceof d.a?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const T=this.parent instanceof d.a?this.parent.data.length:this.parent.childCount;return this.offset===T}get root(){return this.parent.root}get editableElement(){let T=this.parent;for(;!(T instanceof w.a);)if(T.parent)T=T.parent;else return null;return T}getShiftedBy(T){let P=C.createFromPosition(this),S=P.offset+T;return P.offset=0>S?0:S,P}getAncestors(){return this.parent.getAncestors({includeNode:!0,parentFirst:!0})}isEqual(T){return this==T||this.parent==T.parent&&this.offset==T.offset}isBefore(T){return'before'==this.compareWith(T)}isAfter(T){return'after'==this.compareWith(T)}compareWith(T){if(this.isEqual(T))return'same';if(this.parent===T.parent)return 0>this.offset-T.offset?'before':'after';const P=this.parent.getAncestors({includeNode:!0}),S=T.parent.getAncestors({includeNode:!0}),O=s.i(f.a)(P,S);let E;switch(O){case 0:return'different';case'prefix':E=P.length-1;break;case'extension':E=S.length-1;break;default:E=O-1;}const V=P[E],R=P[E+1],F=S[E+1];if(V===this.parent){const M=this.offset-F.index;return 0>=M?'before':'after'}if(V===T.parent){const M=R.index-T.offset;return 0>M?'before':'after'}const N=R.index-F.index;return 0>N?'before':'after'}static createAt(T,P){if(T instanceof C)return this.createFromPosition(T);let S=T;if('end'==P)P=S instanceof d.a?S.data.length:S.childCount;else{if('before'==P)return this.createBefore(S);if('after'==P)return this.createAfter(S);P||(P=0)}return new C(S,P)}static createAfter(T){if(T instanceof u.a)return new C(T.textNode,T.offsetInText+T.data.length);if(!T.parent)throw new h.a('view-position-after-root: You can not make position after root.',{root:T});return new C(T.parent,T.index+1)}static createBefore(T){if(T instanceof u.a)return new C(T.textNode,T.offsetInText);if(!T.parent)throw new h.a('view-position-before-root: You can not make position before root.',{root:T});return new C(T.parent,T.index)}static createFromPosition(T){return new this(T.parent,T.offset)}}r.a=C},function(o,r,s){'use strict';var d=s(9),u=s(6),f=s(385),h=s(23);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class w extends d.a{constructor(C){super(C),this.set('label'),this.set('keystroke'),this.set('tooltip'),this.set('type','button'),this.set('isOn',!1),this.set('isEnabled',!0),this.set('withText',!1),this.set('icon'),this.set('tabindex',-1),this.bind('_tooltipString').to(this,'tooltip',this,'label',this,'keystroke',this._getTooltipString.bind(this));const T=this.bindTemplate;this.template=new u.a({tag:'button',attributes:{class:['ck-button',T.if('_tooltipString','ck-tooltip_s'),T.to('isEnabled',P=>P?'ck-enabled':'ck-disabled'),T.to('isOn',P=>P?'ck-on':'ck-off'),T.if('withText','ck-button_with-text')],type:T.to('type',P=>P?P:'button'),'data-ck-tooltip':[T.to('_tooltipString')],tabindex:T.to('tabindex')},children:[{tag:'span',attributes:{class:['ck-button__label']},children:[{text:T.to('label')}]}],on:{mousedown:T.to(P=>{P.preventDefault()}),click:T.to(P=>{this.isEnabled?this.fire('execute'):P.preventDefault()})}})}init(){let C=Promise.resolve();if(this.icon&&!this.iconView){const T=this.iconView=new f.a;T.bind('content').to(this,'icon'),this.element.insertBefore(T.element,this.element.firstChild),C=C.then(()=>this.addChildren(T))}return C.then(()=>super.init())}focus(){this.element.focus()}_getTooltipString(C,T,P){if(C){if('string'==typeof C)return C;if(P&&(P=s.i(h.a)(P)),C instanceof Function)return C(T,P);if(!0===C)return`${T}${P?` (${P})`:''}`}return!1}}r.a=w},function(o,r){'use strict';r.a=function(u,f){for(var h=-1,w=u.length,C=Array(w);++h<w;)C[h]=f(u[h],h,u);return C}},function(o,r,s){'use strict';var d=s(32),u=s(1),f=s(2),h=s(0),w=s(47),C=s(29);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class T extends d.a{constructor(P,S,O,E){super(E),this.sourcePosition=u.a.createFromPosition(P),this.howMany=S,this.targetPosition=u.a.createFromPosition(O),this.isSticky=!1}get type(){return'move'}clone(){const P=new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion);return P.isSticky=this.isSticky,P}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){let P=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);const S=new this.constructor(this.getMovedRangeStart(),this.howMany,P,this.baseVersion+1);return S.isSticky=this.isSticky,S}_execute(){let P=this.sourcePosition.parent,S=this.targetPosition.parent,O=this.sourcePosition.offset,E=this.targetPosition.offset;if(!P||!S)throw new h.a('move-operation-position-invalid: Source position or target position is invalid.');else if(O+this.howMany>P.maxOffset)throw new h.a('move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.');else if(P===S&&O<E&&E<O+this.howMany)throw new h.a('move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.');else if(this.sourcePosition.root==this.targetPosition.root&&'prefix'==s.i(w.a)(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){let R=this.sourcePosition.path.length-1;if(this.targetPosition.path[R]>=O&&this.targetPosition.path[R]<O+this.howMany)throw new h.a('move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.')}const V=C.a.move(f.a.createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition);return{sourcePosition:this.sourcePosition,range:V}}static get className(){return'engine.model.operation.MoveOperation'}static fromJSON(P,S){let O=u.a.fromJSON(P.sourcePosition,S),E=u.a.fromJSON(P.targetPosition,S);const V=new this(O,P.howMany,E,P.baseVersion);return P.isSticky&&(V.isSticky=!0),V}}r.a=T},function(o,r,s){'use strict';function u(I){if(!I.isFlat)throw new M.a('model-writer-remove-range-not-flat: Trying to remove a range that starts and ends in different element.');const D=I.start.parent;P(I.start),P(I.end);const q=D.removeChildren(I.start.index,I.end.index-I.start.index);return T(D,I.start.index),q}function C(I){const D=[];I instanceof Array||(I=[I]);for(let q=0;q<I.length;q++)if('string'==typeof I[q])D.push(new E.a(I[q]));else if(I[q]instanceof V.a)D.push(new E.a(I[q].data,I[q].getAttributes()));else if(I[q]instanceof F.a||I[q]instanceof N.a)for(let z of I[q])D.push(z);else I[q]instanceof O.a&&D.push(I[q]);for(let q=1;q<D.length;q++){const z=D[q],$=D[q-1];z instanceof E.a&&$ instanceof E.a&&S(z,$)&&(D.splice(q-1,2,new E.a($.data+z.data,$.getAttributes())),q--)}return D}function T(I,D){const q=I.getChild(D-1),z=I.getChild(D);if(q instanceof E.a&&z instanceof E.a&&S(q,z)){const $=new E.a(q.data+z.data,q.getAttributes());I.removeChildren(D-1,2),I.insertChildren(D-1,$)}}function P(I){const D=I.textNode,q=I.parent;if(D){const z=I.offset-D.startOffset,$=D.index;q.removeChildren($,1);const K=new E.a(D.data.substr(0,z),D.getAttributes()),U=new E.a(D.data.substr(z),D.getAttributes());q.insertChildren($,[K,U])}}function S(I,D){const q=I.getAttributes(),z=D.getAttributes();for(let $ of q){if($[1]!==D.getAttribute($[0]))return!1;z.next()}return z.next().done}var O=s(68),E=s(22),V=s(38),R=s(2),F=s(67),N=s(69),M=s(0);r.c=u,r.b=C;/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a={insert:function(I,D){D=C(D);const q=D.reduce((K,U)=>K+U.offsetSize,0),z=I.parent;P(I);const $=I.index;return z.insertChildren($,D),T(z,$+D.length),T(z,$),new R.a(I,I.getShiftedBy(q))},remove:u,move:function(I,D){if(!I.isFlat)throw new M.a('model-writer-move-range-not-flat: Trying to move a range that starts and ends in different element.');const q=this.remove(I);return D=D._getTransformedByDeletion(I.start,I.end.offset-I.start.offset),this.insert(D,q)},setAttribute:function(I,D,q){P(I.start),P(I.end);for(let z of I.getItems()){let $=z instanceof V.a?z.textNode:z;null===q?$.removeAttribute(D):$.setAttribute(D,q),T($.parent,$.index)}T(I.end.parent,I.end.index)},removeAttribute:function(I,D){this.setAttribute(I,D,null)},normalizeNodes:C}},function(o,r,s){'use strict';(function(d,u){var f=s(437),h={'function':!0,object:!0},w=h[typeof exports]&&exports&&!exports.nodeType?exports:void 0,C=h[typeof d]&&d&&!d.nodeType?d:void 0,T=s.i(f.a)(w&&C&&'object'==typeof u&&u),P=s.i(f.a)(h[typeof self]&&self),S=s.i(f.a)(h[typeof window]&&window),O=s.i(f.a)(h[typeof this]&&this),E=T||S!==(O&&O.window)&&S||P||O||Function('return this')();r.a=E}).call(r,s(153)(o),s(307))},function(o,r,s){'use strict';function d(L){R in L||(Object.defineProperty(L,R,{value:new Map}),Object.defineProperty(L,F,{value:new Map}),Object.defineProperty(L,N,{value:new Map}))}function u(...L){const I=h(...L),D=Array.from(this._bindings.keys()),q=D.length;if(!I.callback&&1<I.to.length)throw new O.a('observable-bind-to-no-callback: Binding multiple observables only possible with callback.');if(1<q&&I.callback)throw new O.a('observable-bind-to-extra-callback: Cannot bind multiple attributes and use a callback in one binding.');I.to.forEach(z=>{if(z.attrs.length&&z.attrs.length!==q)throw new O.a('observable-bind-to-attrs-length: The number of attributes must match.');z.attrs.length||(z.attrs=this._bindAttrs)}),this._to=I.to,I.callback&&(this._bindings.get(D[0]).callback=I.callback),P(this._observable,this._to),C(this),this._bindAttrs.forEach(z=>{T(this._observable,z)})}function f(L){return L.every(I=>'string'==typeof I)}function h(...L){if(!L.length)throw new O.a('observable-bind-to-parse-error: Invalid argument syntax in `to()`.');const I={to:[]};let D;return'function'==typeof L[L.length-1]&&(I.callback=L.pop()),L.forEach(q=>{if('string'==typeof q)D.attrs.push(q);else if('object'==typeof q)D={observable:q,attrs:[]},I.to.push(D);else throw new O.a('observable-bind-to-parse-error: Invalid argument syntax in `to()`.')}),I}function w(L,I,D,q){const z=L[F],$=z.get(D),K=$||{};K[q]||(K[q]=new Set),K[q].add(I),$||z.set(D,K)}function C(L){let I;L._bindings.forEach((D,q)=>{L._to.forEach(z=>{I=z.attrs[D.callback?0:L._bindAttrs.indexOf(q)],D.to.push([z.observable,I]),w(L._observable,D,z.observable,I)})})}function T(L,I){const D=L[N],q=D.get(I);let z;q.callback?z=q.callback.apply(L,q.to.map($=>$[0][$[1]])):(z=q.to[0],z=z[0][z[1]]),L.hasOwnProperty(I)?L[I]=z:L.set(I,z)}function P(L,I){I.forEach(D=>{const q=L[F];let z;q.get(D.observable)||L.listenTo(D.observable,'change',($,K)=>{z=q.get(D.observable)[K],z&&z.forEach(U=>{T(L,U.attr)})})})}var S=s(7),O=s(0),E=s(52),V=s(13);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const R=Symbol('attributes'),F=Symbol('boundObservables'),N=Symbol('boundAttributes'),M={set(L,I){if(s.i(V.a)(L))return void Object.keys(L).forEach(q=>{this.set(q,L[q])},this);d(this);const D=this[R];if(L in this&&!D.has(L))throw new O.a('observable-set-cannot-override: Cannot override an existing property.');Object.defineProperty(this,L,{enumerable:!0,configurable:!0,get(){return D.get(L)},set(q){const z=D.get(L);z===q&&D.has(L)||(D.set(L,q),this.fire('change:'+L,L,q,z))}}),this[L]=I},bind(...L){if(!L.length||!f(L))throw new O.a('observable-bind-wrong-attrs: All attributes must be strings.');if(new Set(L).size!==L.length)throw new O.a('observable-bind-duplicate-attrs: Attributes must be unique.');d(this);const I=this[N];L.forEach(q=>{if(I.has(q))throw new O.a('observable-bind-rebind: Cannot bind the same attribute more that once.')});const D=new Map;return L.forEach(q=>{const z={attr:q,to:[]};I.set(q,z),D.set(q,z)}),{to:u,_observable:this,_bindAttrs:L,_to:[],_bindings:D}},unbind(...L){if(R in this){const I=this[N],D=this[F];if(L.length){if(!f(L))throw new O.a('observable-unbind-wrong-attrs: Attributes must be strings.');L.forEach(q=>{const z=I.get(q);let $,K,U,H;z.to.forEach(W=>{$=W[0],K=W[1],U=D.get($),H=U[K],H.delete(z),H.size||delete U[K],Object.keys(U).length||(D.delete($),this.stopListening($,'change'))}),I.delete(q)})}else D.forEach((q,z)=>{this.stopListening(z,'change')}),D.clear(),I.clear()}}};r.a=M,s.i(E.a)(M,S.a)},function(o,r,s){'use strict';var d=s(92);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class u{constructor(f){this.baseVersion=f}toJSON(){const f=s.i(d.a)(this,!0);return f.__className=this.constructor.className,delete f.delta,f}static get className(){return'engine.model.operation.Operation'}static fromJSON(f){return new this(f.baseVersion)}}r.a=u},function(o,r,s){'use strict';var d=s(25),u=s(115);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f{constructor(h,w=null){this.start=d.a.createFromPosition(h),this.end=w?d.a.createFromPosition(w):d.a.createFromPosition(h)}*[Symbol.iterator](){yield*new u.a({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}isEqual(h){return this==h||this.start.isEqual(h.start)&&this.end.isEqual(h.end)}containsPosition(h){return h.isAfter(this.start)&&h.isBefore(this.end)}containsRange(h){return this.containsPosition(h.start)&&this.containsPosition(h.end)}getDifference(h){const w=[];return this.isIntersecting(h)?(this.containsPosition(h.start)&&w.push(new f(this.start,h.start)),this.containsPosition(h.end)&&w.push(new f(h.end,this.end))):w.push(f.createFromRange(this)),w}getIntersection(h){if(this.isIntersecting(h)){let w=this.start,C=this.end;return this.containsPosition(h.start)&&(w=h.start),this.containsPosition(h.end)&&(C=h.end),new f(w,C)}return null}getWalker(h={}){return h.boundaries=this,new u.a(h)}*getItems(h={}){h.boundaries=this,h.ignoreElementEnd=!0;const w=new u.a(h);for(let C of w)yield C.item}*getPositions(h={}){h.boundaries=this;const w=new u.a(h);yield w.position;for(let C of w)yield C.nextPosition}isIntersecting(h){return this.start.isBefore(h.end)&&this.end.isAfter(h.start)}static createFromParentsAndOffsets(h,w,C,T){return new this(new d.a(h,w),new d.a(C,T))}static createFromRange(h){return new this(h.start,h.end)}static createFromPositionAndShift(h,w){const C=h,T=h.getShiftedBy(w);return 0<w?new this(C,T):new this(T,C)}static createIn(h){return this.createFromParentsAndOffsets(h,0,h,h.childCount)}static createOn(h){return this.createFromPositionAndShift(d.a.createBefore(h),1)}}r.a=f},function(o,r){'use strict';r.a=function(u,f,h){var w=-1,C=u.length;0>f&&(f=-f>C?0:C+f),h=h>C?C:h,0>h&&(h+=C),C=f>h?0:h-f>>>0,f>>>=0;for(var T=Array(C);++w<C;)T[w]=u[w+f];return T}},function(o,r){'use strict';var f=/^(?:0|[1-9]\d*)$/;r.a=function(h,w){return w=null==w?9007199254740991:w,!!w&&('number'==typeof h||f.test(h))&&-1<h&&0==h%1&&h<w}},function(o,r,s){'use strict';var d=s(32),u=s(1),f=s(69),h=s(37),w=s(29),C=s(22),T=s(5);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class P extends d.a{constructor(S,O,E){super(E),this.position=u.a.createFromPosition(S),this.nodes=new f.a(s.i(w.b)(O))}get type(){return'insert'}clone(){const S=new f.a([...this.nodes].map(O=>O.clone(!0)));return new P(this.position,S,this.baseVersion)}getReversed(){return new h.a(this.position,this.nodes.maxOffset,this.baseVersion+1)}_execute(){const S=this.nodes;this.nodes=new f.a([...S].map(E=>E.clone(!0)));const O=w.a.insert(this.position,S);return{range:O}}static get className(){return'engine.model.operation.InsertOperation'}static fromJSON(S,O){let E=[];for(let V of S.nodes)V.name?E.push(T.a.fromJSON(V)):E.push(C.a.fromJSON(V));return new P(u.a.fromJSON(S.position,O),E,S.baseVersion)}}r.a=P},function(o,r,s){'use strict';var d=s(28),u=s(1),f=s(5),h=s(109);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class w extends d.a{constructor(C,T,P){const S=C.root.document.graveyard,O=new u.a(S,[S.maxOffset,0]);super(C,T,O,P)}get type(){return'remove'}get _holderElementOffset(){return this.targetPosition.path[0]}set _holderElementOffset(C){this.targetPosition.path[0]=C}get _needsHolderElement(){if(this.delta)for(let C of this.delta.operations)if(C instanceof w){if(C==this)return!0;if(C._holderElementOffset==this._holderElementOffset)return!1}return!0}getReversed(){return new h.a(this.targetPosition,this.howMany,this.sourcePosition,this.baseVersion+1)}clone(){let C=new w(this.sourcePosition,this.howMany,this.baseVersion);return C.targetPosition=u.a.createFromPosition(this.targetPosition),C}_execute(){if(this._needsHolderElement){const C=this.targetPosition.root,T=new f.a('$graveyardHolder');C.insertChildren(this._holderElementOffset,T),this.sourcePosition.root==C&&this.sourcePosition.path[0]>=this._holderElementOffset&&this.sourcePosition.path[0]++}return super._execute()}static get className(){return'engine.model.operation.RemoveOperation'}static fromJSON(C,T){let P=u.a.fromJSON(C.sourcePosition,T);const S=new w(P,C.howMany,C.baseVersion);return S.targetPosition=u.a.fromJSON(C.targetPosition,T),S}}r.a=w},function(o,r,s){'use strict';var d=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class u{constructor(f,h,w){if(this.textNode=f,0>h||h>f.offsetSize)throw new d.a('model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>w||h+w>f.offsetSize)throw new d.a('model-textproxy-wrong-length: Given length value is incorrect.');this.data=f.data.substring(h,h+w),this.offsetInText=h}get startOffset(){return null===this.textNode.startOffset?null:this.textNode.startOffset+this.offsetInText}get offsetSize(){return this.data.length}get endOffset(){return null===this.startOffset?null:this.startOffset+this.offsetSize}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getPath(){const f=this.textNode.getPath();return 0<f.length&&(f[f.length-1]+=this.offsetInText),f}getAncestors(f={includeNode:!1,parentFirst:!1}){const h=[];for(let w=f.includeNode?this:this.parent;w;)h[f.parentFirst?'push':'unshift'](w),w=w.parent;return h}hasAttribute(f){return this.textNode.hasAttribute(f)}getAttribute(f){return this.textNode.getAttribute(f)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}r.a=u},function(o,r,s){'use strict';function d(){return 0===this.childCount?0:null}var u=s(17);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends u.a{constructor(h,w,C){super(h,w,C),this.getFillerOffset=d}}r.a=f},function(o,r,s){'use strict';var h=s(117),w=s(5);r.c=function(T){return T.setCustomProperty(C,!0),s.i(h.a)(T)},r.a=function(T){return!!T.getCustomProperty(C)&&s.i(h.b)(T)},r.b=function(T){return T instanceof w.a&&'image'==T.name};/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const C=Symbol('isImage')},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(u){return!!(u&&u[Symbol.iterator])}},function(o,r,s){'use strict';var u=s(79),f=s(124),h=s(125),w=s(135),C=s(448),T=s(91);r.a=function(S,O,E){var V=-1,R=f.a,F=S.length,N=!0,M=[],L=M;if(E)N=!1,R=h.a;else if(F>=200){var I=O?null:s.i(C.a)(S);if(I)return s.i(T.a)(I);N=!1,R=w.a,L=new u.a}else L=O?[]:M;outer:for(;++V<F;){var D=S[V],q=O?O(D):D;if(D=E||0!==D?D:0,N&&q===q){for(var z=L.length;z--;)if(L[z]===q)continue outer;O&&L.push(q),M.push(D)}else R(L,q,E)||(L!==M&&L.push(q),M.push(D))}return M}},function(o,r){'use strict';r.a=function(u){return!!u&&'object'==typeof u}},function(o,r,s){'use strict';var u=s(43),h=Object.prototype,w=h.toString;r.a=function(C){return'symbol'==typeof C||s.i(u.a)(C)&&w.call(C)=='[object Symbol]'}},function(o,r,s){'use strict';var u=s(98),f=s(159),h=s(112),w=s(39),C=s(0);r.a=function(){return new T};/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class T{constructor(){this._dispatchers=[],this._from=null}for(...P){return this._dispatchers=P,this}fromElement(P){return this._from={type:'element',name:P,priority:null},this}fromAttribute(P){return this._from={type:'attribute',key:P,priority:null},this}fromMarker(P){return this._from={type:'marker',name:P,priority:null},this}withPriority(P){return this._from.priority=P,this}toElement(P){const S=null===this._from.priority?'normal':this._from.priority;for(let O of this._dispatchers)'element'==this._from.type?(P='string'==typeof P?new w.a(P):P,O.on('insert:'+this._from.name,s.i(u.a)(P),{priority:S})):'attribute'==this._from.type?(P='string'==typeof P?new h.a(P):P,O.on('addAttribute:'+this._from.key,s.i(u.b)(P),{priority:S}),O.on('changeAttribute:'+this._from.key,s.i(u.b)(P),{priority:S}),O.on('removeAttribute:'+this._from.key,s.i(u.c)(P),{priority:S}),O.on('selectionAttribute:'+this._from.key,s.i(f.a)(P),{priority:S})):(P='string'==typeof P?new h.a(P):P,O.on('addMarker:'+this._from.name,s.i(u.d)(P),{priority:S}),O.on('removeMarker:'+this._from.name,s.i(u.e)(P),{priority:S}),O.on('selectionMarker:'+this._from.name,s.i(f.b)(P),{priority:S}))}toAttribute(P,S){if('attribute'!=this._from.type)throw new C.a('build-model-converter-non-attribute-to-attribute: To-attribute conversion is supported only from model attributes.');let O=P?'string'==typeof P?S?function(){return{key:P,value:S}}:function(E){return{key:P,value:E}}:P:void 0;for(let E of this._dispatchers){const V={priority:this._from.priority||'normal'};E.on('addAttribute:'+this._from.key,s.i(u.f)(O),V),E.on('changeAttribute:'+this._from.key,s.i(u.f)(O),V),E.on('removeAttribute:'+this._from.key,s.i(u.g)(O),V)}}}},function(o,r,s){'use strict';var d=s(77),u=s(4);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f{constructor(h){this.document=h,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}r.a=f,s.i(u.a)(f,d.a)},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(u,f){const h=Math.min(u.length,f.length);for(let w=0;w<h;w++)if(u[w]!=f[w])return w;return u.length==f.length?'same':u.length<f.length?'prefix':'extension'}},function(o,r,s){'use strict';var u=s(234);r.a=function(f,h){var w=f[h];return s.i(u.a)(w)?w:void 0}},function(o,r,s){'use strict';var u=s(11),f=s(44),h=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,w=/^\w*$/;r.a=function(C,T){if(s.i(u.a)(C))return!1;var P=typeof C;return'number'==P||'symbol'==P||'boolean'==P||null==C||s.i(f.a)(C)||w.test(C)||!h.test(C)||null!=T&&C in Object(T)}},function(o,r,s){'use strict';var u=s(44);r.a=function(h){if('string'==typeof h||s.i(u.a)(h))return h;var w=h+'';return'0'==w&&1/h==-(1/0)?'-0':w}},function(o,r){'use strict';r.a=function(u,f){return u===f||u!==u&&f!==f}},function(o,r,s){'use strict';var d=s(489);s.d(r,'a',function(){return d.a})},function(o,r){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const d={error(u,f){console.error(u,f)},warn(u,f){console.warn(u,f)}};r.a=d},function(o,r,s){'use strict';function d(S,O,E,V){if(s.i(T.a)(S)){for(let N of S)d(N,O,E,V);return}const R=Array.from(S.getAttributeKeys());R.push(O.key);const F={name:S.name||'$text',attributes:R,inside:E.context};V.schema.check(F)&&S.setAttribute(O.key,O.value)}var f=s(169),h=s(5),w=s(1),C=s(29),T=s(41);r.a=function(){return new P};/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class P{constructor(){this._dispatchers=[],this._from=[]}for(...S){return this._dispatchers=S,this}fromElement(S){return this.from({name:S})}fromAttribute(S,O=/.*/){let E={};return E[S]=O,this.from(E)}from(S){return S instanceof f.a||(S=new f.a(S)),this._from.push({matcher:S,consume:!1,priority:null}),this}consuming(S){let O=this._from[this._from.length-1];return O.consume=S,this}withPriority(S){let O=this._from[this._from.length-1];return O.priority=S,this}toElement(S){this._setCallback(function(E){return(V,R,F,N)=>{let M=E.matcher.matchAll(R.input);if(M)for(let L of M){const I=S instanceof Function?S(R.input):new h.a(S),D=Array.from(I.getAttributeKeys());if(N.schema.check({name:I.name,attributes:D,inside:R.context})&&F.consume(R.input,E.consume||L.match)){R.context.push(I);const q=N.convertChildren(R.input,F,R),z=w.a.createAt(I,'end');C.a.insert(z,q),R.context.pop(),R.output=I;break}}}},'normal')}toAttribute(S,O){this._setCallback(function(V){return(R,F,N,M)=>{let L=V.matcher.matchAll(F.input);if(L)for(let I of L)if(N.consume(F.input,V.consume||I.match)){F.output||(F.output=M.convertChildren(F.input,N,F));let D=S instanceof Function?S(F.input):{key:S,value:O};d(F.output,D,F,M);break}}},'low')}_setCallback(S,O){for(let E of this._from){const V=E.matcher.getElementName(),R=V?'element:'+V:'element',F=S(E),N=null===E.priority?O:E.priority;for(let M of this._dispatchers)M.on(R,F,{priority:N})}}}},function(o,r,s){'use strict';function d(P,S,O,E,V){return{done:!1,value:{type:P,item:S,previousPosition:O,nextPosition:E,length:V}}}var u=s(22),f=s(38),h=s(5),w=s(1),C=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class T{constructor(P={}){if(!P.boundaries&&!P.startPosition)throw new C.a('model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');const S=P.direction||'forward';if('forward'!=S&&'backward'!=S)throw new C.a('model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:S});this.direction=S,this.boundaries=P.boundaries||null,this.position=P.startPosition?w.a.createFromPosition(P.startPosition):w.a.createFromPosition(this.boundaries['backward'==this.direction?'end':'start']),this.singleCharacters=!!P.singleCharacters,this.shallow=!!P.shallow,this.ignoreElementEnd=!!P.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}next(){return'forward'==this.direction?this._next():this._previous()}_next(){const P=this.position,S=w.a.createFromPosition(this.position),O=this._visitedParent;if(null===O.parent&&S.offset===O.maxOffset)return{done:!0};if(O===this._boundaryEndParent&&S.offset==this.boundaries.end.offset)return{done:!0};const E=S.textNode?S.textNode:S.nodeAfter;if(E instanceof h.a)return this.shallow?S.offset++:(S.path.push(0),this._visitedParent=E),this.position=S,d('elementStart',E,P,S,1);if(E instanceof u.a){let V,R;if(this.singleCharacters)V=1;else{let N=E.endOffset;this._boundaryEndParent==O&&this.boundaries.end.offset<N&&(N=this.boundaries.end.offset),V=N-S.offset}R=S.offset-E.startOffset;const F=new f.a(E,R,V);return S.offset+=V,this.position=S,d('text',F,P,S,V)}return S.path.pop(),S.offset++,this.position=S,this._visitedParent=O.parent,this.ignoreElementEnd?this._next():d('elementEnd',O,P,S)}_previous(){const P=this.position,S=w.a.createFromPosition(this.position),O=this._visitedParent;if(null===O.parent&&0===S.offset)return{done:!0};if(O==this._boundaryStartParent&&S.offset==this.boundaries.start.offset)return{done:!0};const E=S.textNode?S.textNode:S.nodeBefore;if(E instanceof h.a)return S.offset--,this.shallow?(this.position=S,d('elementStart',E,P,S,1)):(S.path.push(E.maxOffset),this.position=S,this._visitedParent=E,this.ignoreElementEnd?this._previous():d('elementEnd',E,P,S));if(E instanceof u.a){let V,R;if(this.singleCharacters)V=1;else{let N=E.startOffset;this._boundaryStartParent==O&&this.boundaries.start.offset>N&&(N=this.boundaries.start.offset),V=S.offset-N}R=S.offset-E.startOffset;const F=new f.a(E,R-V,V);return S.offset-=V,this.position=S,d('text',F,P,S,V)}return S.path.pop(),this.position=S,this._visitedParent=O.parent,d('elementStart',O,P,S,1)}}r.a=T},function(o,r,s){'use strict';function d(R){return R instanceof Text&&R.data.substr(0,O)===E}function C(R,F){if(F.keyCode==T.b.arrowleft){const N=F.domTarget.ownerDocument.defaultView.getSelection();if(1==N.rangeCount&&N.getRangeAt(0).collapsed){const M=N.getRangeAt(0).startContainer,L=N.getRangeAt(0).startOffset;if(d(M)&&L<=O){const I=new Range;I.setStart(M,0),I.collapse(!0),N.removeAllRanges(),N.addRange(I)}}}}var T=s(23);s.d(r,'i',function(){return E}),r.c=d,r.f=function(R){return R.data.length==O&&d(R)},r.g=function(R){return d(R)?R.data.slice(O):R.data},r.e=function(R,F){let N=V.get(F);return N||(N=F(window.document),V.set(F,N)),R.isEqualNode(N)},r.h=function(R){R.on('keydown',C)};/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.b=R=>{const F=R.createElement('br');return F.dataset.ckeFiller=!0,F};r.a=R=>R.createTextNode('\xA0');const O=7;r.d=O;let E='';for(let R=0;R<O;R++)E+='\u200B';const V=new WeakMap},function(o,r,s){'use strict';var d=s(46),u=s(114);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{constructor(h){super(h),this.useCapture=!1}observe(h){const w='string'==typeof this.domEventType?[this.domEventType]:this.domEventType;w.forEach(C=>{this.listenTo(h,C,(T,P)=>{this.isEnabled&&this.onDomEvent(P)},{useCapture:this.useCapture})})}fire(h,w,C){this.isEnabled&&this.document.fire(h,new u.a(this.document,w,C))}}r.a=f},function(o,r){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a={window,document}},function(o,r,s){'use strict';var d=s(77),u=s(31),f=s(0),h=s(4);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class w{constructor(){this.set('isFocused',!1),this.focusedElement=null,this._elements=new Set,this._nextEventLoopTimeout=null}add(C){if(this._elements.has(C))throw new f.a('focusTracker-add-element-already-exist');this.listenTo(C,'focus',()=>this._focus(C),{useCapture:!0}),this.listenTo(C,'blur',()=>this._blur(),{useCapture:!0}),this._elements.add(C)}remove(C){C===this.focusedElement&&this._blur(C),this._elements.has(C)&&(this.stopListening(C),this._elements.delete(C))}_focus(C){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=C,this.isFocused=!0}_blur(){this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}r.a=w,s.i(h.a)(w,d.a),s.i(h.a)(w,u.a)},function(o,r,s){'use strict';var d=s(77),u=s(23);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=class{constructor(){this._listener=Object.create(d.a),this._keystrokes=new Map}listenTo(h){this._listener.listenTo(h,'keydown',(w,C)=>{this.press(C)})}set(h,w){const C=s.i(u.d)(h),T=this._keystrokes.get(C);T?T.push(w):this._keystrokes.set(C,[w])}press(h){const w=s.i(u.c)(h),C=this._keystrokes.get(w);if(!C)return!1;for(let T of C)T(h,()=>{h.preventDefault(),h.stopPropagation()});return!0}destroy(){this._keystrokes=new Map,this._listener.stopListening()}}},function(o,r,s){'use strict';var u=s(51),f=Object.prototype,h=f.hasOwnProperty;r.a=function(w,C,T){var P=w[C];h.call(w,C)&&s.i(u.a)(P,T)&&(T!==void 0||C in w)||(w[C]=T)}},function(o,r,s){'use strict';var u=s(79),f=s(124),h=s(125),w=s(27),C=s(133),T=s(135);r.a=function(S,O,E,V){var R=-1,F=f.a,N=!0,M=S.length,L=[],I=O.length;if(!M)return L;E&&(O=s.i(w.a)(O,s.i(C.a)(E))),V?(F=h.a,N=!1):O.length>=200&&(F=T.a,N=!1,O=new u.a(O));outer:for(;++R<M;){var D=S[R],q=E?E(D):D;if(D=V||0!==D?D:0,N&&q===q){for(var z=I;z--;)if(O[z]===q)continue outer;L.push(D)}else F(O,q,V)||L.push(D)}return L}},function(o,r,s){'use strict';var u=s(198),f=s(428),h=s(206),w=s(93),C=s(35),T=s(89);r.a=function(P){var S=s.i(T.a)(P);if(!(S||s.i(w.a)(P)))return s.i(f.a)(P);var O=s.i(h.a)(P),V=O||[],R=V.length;for(var F in P)!s.i(u.a)(P,F)||!!O&&('length'==F||s.i(C.a)(F,R))||S&&'constructor'==F||V.push(F);return V}},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(){let u='e';for(let f=0;8>f;f++)u+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return u}},function(o){o.exports=function(){var s=[];return s.toString=function(){for(var u=[],f=0,h;f<this.length;f++)h=this[f],h[2]?u.push('@media '+h[2]+'{'+h[1]+'}'):u.push(h[1]);return u.join('')},s.i=function(d,u){'string'==typeof d&&(d=[[null,d,'']]);for(var f={},h=0,w;h<this.length;h++)w=this[h][0],'number'==typeof w&&(f[w]=!0);for(h=0;h<d.length;h++){var C=d[h];'number'==typeof C[0]&&f[C[0]]||(u&&!C[2]?C[2]=u:u&&(C[2]='('+C[2]+') and ('+u+')'),s.push(C))}},s}},function(o){function s(I,D){for(var q=0;q<I.length;q++){var z=I[q],$=O[z.id];if($){$.refs++;for(var K=0;K<$.parts.length;K++)$.parts[K](z.parts[K]);for(;K<z.parts.length;K++)$.parts.push(C(z.parts[K],D))}else{for(var U=[],K=0;K<z.parts.length;K++)U.push(C(z.parts[K],D));O[z.id]={id:z.id,refs:1,parts:U}}}}function d(I){for(var D=[],q={},z=0;z<I.length;z++){var $=I[z],K=$[0],U=$[1],H=$[2],W=$[3],Z={css:U,media:H,sourceMap:W};q[K]?q[K].parts.push(Z):D.push(q[K]={id:K,parts:[Z]})}return D}function u(I,D){var q=R(),z=M[M.length-1];if('top'===I.insertAt)z?z.nextSibling?q.insertBefore(D,z.nextSibling):q.appendChild(D):q.insertBefore(D,q.firstChild),M.push(D);else if('bottom'===I.insertAt)q.appendChild(D);else throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.')}function f(I){I.parentNode.removeChild(I);var D=M.indexOf(I);0<=D&&M.splice(D,1)}function h(I){var D=document.createElement('style');return D.type='text/css',u(I,D),D}function w(I){var D=document.createElement('link');return D.rel='stylesheet',u(I,D),D}function C(I,D){var q,z,$;if(D.singleton){var K=N++;q=F||(F=h(D)),z=T.bind(null,q,K,!1),$=T.bind(null,q,K,!0)}else I.sourceMap&&'function'==typeof URL&&'function'==typeof URL.createObjectURL&&'function'==typeof URL.revokeObjectURL&&'function'==typeof Blob&&'function'==typeof btoa?(q=w(D),z=S.bind(null,q),$=function(){f(q),q.href&&URL.revokeObjectURL(q.href)}):(q=h(D),z=P.bind(null,q),$=function(){f(q)});return z(I),function(H){if(H){if(H.css===I.css&&H.media===I.media&&H.sourceMap===I.sourceMap)return;z(I=H)}else $()}}function T(I,D,q,z){var $=q?'':z.css;if(I.styleSheet)I.styleSheet.cssText=L(D,$);else{var K=document.createTextNode($),U=I.childNodes;U[D]&&I.removeChild(U[D]),U.length?I.insertBefore(K,U[D]):I.appendChild(K)}}function P(I,D){var q=D.css,z=D.media;if(z&&I.setAttribute('media',z),I.styleSheet)I.styleSheet.cssText=q;else{for(;I.firstChild;)I.removeChild(I.firstChild);I.appendChild(document.createTextNode(q))}}function S(I,D){var q=D.css,z=D.sourceMap;z&&(q+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(z))))+' */');var $=new Blob([q],{type:'text/css'}),K=I.href;I.href=URL.createObjectURL($),K&&URL.revokeObjectURL(K)}var O={},E=function(I){var D;return function(){return'undefined'==typeof D&&(D=I.apply(this,arguments)),D}},V=E(function(){return /msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),R=E(function(){return document.head||document.getElementsByTagName('head')[0]}),F=null,N=0,M=[];o.exports=function(I,D){if('undefined'!=typeof DEBUG&&DEBUG&&'object'!=typeof document)throw new Error('The style-loader cannot be used in a non-browser environment');D=D||{},'undefined'==typeof D.singleton&&(D.singleton=V()),'undefined'==typeof D.insertAt&&(D.insertAt='bottom');var q=d(I);return s(q,D),function($){for(var K=[],U=0;U<q.length;U++){var H=q[U],W=O[H.id];W.refs--,K.push(W)}if($){var Z=d($);s(Z,D)}for(var U=0,W;U<K.length;U++)if(W=K[U],0===W.refs){for(var G=0;G<W.parts.length;G++)W.parts[G]();delete O[W.id]}}};var L=function(){var I=[];return function(D,q){return I[D]=q,I.filter(Boolean).join('\n')}}()},function(o,r,s){'use strict';function d(T){return'string'==typeof T?[new h.a(T)]:(s.i(w.a)(T)||(T=[T]),Array.from(T).map(P=>'string'==typeof P?new h.a(P):P))}var u=s(69),f=s(5),h=s(22),w=s(41);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class C{constructor(T){this._children=new u.a,T&&this.insertChildren(0,T)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}getChild(T){return this._children.getNode(T)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(T){return this._children.getNodeIndex(T)}getChildStartOffset(T){return this._children.getNodeStartOffset(T)}getPath(){return[]}offsetToIndex(T){return this._children.offsetToIndex(T)}appendChildren(T){this.insertChildren(this.childCount,T)}insertChildren(T,P){P=d(P);for(let S of P)S.parent=this;this._children.insertNodes(T,P)}removeChildren(T,P=1){const S=this._children.removeNodes(T,P);for(let O of S)O.parent=null;return S}toJSON(){let T=[];for(let P of this._children)T.push(P.toJSON());return T}static fromJSON(T){let P=[];for(let S of T)S.name?P.push(f.a.fromJSON(S)):P.push(h.a.fromJSON(S));return new C(P)}}r.a=C},function(o,r,s){'use strict';var d=s(150),u=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f{constructor(h){this.parent=null,this._attrs=s.i(d.a)(h)}get index(){let h;if(!this.parent)return null;if(null===(h=this.parent.getChildIndex(this)))throw new u.a('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return h}get startOffset(){let h;if(!this.parent)return null;if(null===(h=this.parent.getChildStartOffset(this)))throw new u.a('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return h}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const h=this.index;return null!==h&&this.parent.getChild(h+1)||null}get previousSibling(){const h=this.index;return null!==h&&this.parent.getChild(h-1)||null}get root(){let h=this;for(;h.parent;)h=h.parent;return h}get document(){return this.root==this?null:this.root.document||null}clone(){return new f(this._attrs)}getPath(){const h=[];for(let w=this;w.parent;)h.unshift(w.startOffset),w=w.parent;return h}getAncestors(h={includeNode:!1,parentFirst:!1}){const w=[];for(let C=h.includeNode?this:this.parent;C;)w[h.parentFirst?'push':'unshift'](C),C=C.parent;return w}remove(){this.parent.removeChildren(this.index)}hasAttribute(h){return this._attrs.has(h)}getAttribute(h){return this._attrs.get(h)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}setAttribute(h,w){this._attrs.set(h,w)}setAttributesTo(h){this._attrs=s.i(d.a)(h)}removeAttribute(h){return this._attrs.delete(h)}clearAttributes(){this._attrs.clear()}toJSON(){let h={};return this._attrs.size&&(h.attributes=[...this._attrs]),h}}r.a=f},function(o,r,s){'use strict';var d=s(68),u=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f{constructor(h){this._nodes=[],h&&this.insertNodes(0,h)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((h,w)=>h+w.offsetSize,0)}getNode(h){return this._nodes[h]||null}getNodeIndex(h){const w=this._nodes.indexOf(h);return-1==w?null:w}getNodeStartOffset(h){const w=this.getNodeIndex(h);return null===w?null:this._nodes.slice(0,w).reduce((C,T)=>C+T.offsetSize,0)}indexToOffset(h){if(h==this._nodes.length)return this.maxOffset;const w=this._nodes[h];if(!w)throw new u.a('model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.');return this.getNodeStartOffset(w)}offsetToIndex(h){let w=0;for(let C of this._nodes){if(h>=w&&h<w+C.offsetSize)return this.getNodeIndex(C);w+=C.offsetSize}if(w!=h)throw new u.a('model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.');return this.length}insertNodes(h,w){for(let C of w)if(!(C instanceof d.a))throw new u.a('model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.');this._nodes.splice(h,0,...w)}removeNodes(h,w=1){return this._nodes.splice(h,w)}toJSON(){return this._nodes.map(h=>h.toJSON())}}r.a=f},function(o,r,s){'use strict';var d=s(32),u=s(2),f=s(0),h=s(29),w=s(496);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class C extends d.a{constructor(T,P,S,O,E){super(E),this.range=u.a.createFromRange(T),this.key=P,this.oldValue=S===void 0?null:S,this.newValue=O===void 0?null:O}get type(){return null===this.oldValue?'addAttribute':null===this.newValue?'removeAttribute':'changeAttribute'}clone(){return new C(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new C(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_execute(){for(let T of this.range.getItems()){if(null!==this.oldValue&&!s.i(w.a)(T.getAttribute(this.key),this.oldValue))throw new f.a('attribute-operation-wrong-old-value: Changed node has different attribute value than operation\'s old attribute value.',{item:T,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&T.hasAttribute(this.key))throw new f.a('attribute-operation-attribute-exists: The attribute with given key already exists.',{node:T,key:this.key});if(s.i(w.a)(this.oldValue,this.newValue))return}return h.a.setAttribute(this.range,this.key,this.newValue),{range:this.range,key:this.key,oldValue:this.oldValue,newValue:this.newValue}}static get className(){return'engine.model.operation.AttributeOperation'}static fromJSON(T,P){return new C(u.a.fromJSON(T.range,P),T.key,T.oldValue,T.newValue,T.baseVersion)}}r.a=C},function(o,r,s){'use strict';var d=s(32);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class u extends d.a{clone(){return new u(this.baseVersion)}getReversed(){return new u(this.baseVersion+1)}_execute(){}static get className(){return'engine.model.operation.NoOperation'}}r.a=u},function(o,r,s){'use strict';var d=s(5);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class u extends d.a{constructor(f,h,w='main'){super(h),this._doc=f,this.rootName=w}get document(){return this._doc}toJSON(){return this.rootName}}r.a=u},function(o,r,s){'use strict';var d=s(1),u=s(5),f=s(2),h=s(7),w=s(0),C=s(4),T=s(150),P=s(509);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class S{constructor(){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map}get anchor(){if(0<this._ranges.length){const O=this._ranges[this._ranges.length-1];return this._lastRangeBackward?O.end:O.start}return null}get focus(){if(0<this._ranges.length){const O=this._ranges[this._ranges.length-1];return this._lastRangeBackward?O.start:O.end}return null}get isCollapsed(){const O=this._ranges.length;return!(1!==O)&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(O){if(this.rangeCount!=O.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(O.anchor)||!this.focus.isEqual(O.focus))return!1;for(let E of this._ranges){let V=!1;for(let R of O._ranges)if(E.isEqual(R)){V=!0;break}if(!V)return!1}return!0}*getRanges(){for(let O of this._ranges)yield f.a.createFromRange(O)}getFirstRange(){let O=null;for(let E of this._ranges)(!O||E.start.isBefore(O.start))&&(O=E);return O?f.a.createFromRange(O):null}getLastRange(){let O=null;for(let E of this._ranges)(!O||E.end.isAfter(O.end))&&(O=E);return O?f.a.createFromRange(O):null}getFirstPosition(){const O=this.getFirstRange();return O?d.a.createFromPosition(O.start):null}getLastPosition(){const O=this.getLastRange();return O?d.a.createFromPosition(O.end):null}addRange(O,E=!1){this._pushRange(O),this._lastRangeBackward=!!E,this.fire('change:range',{directChange:!0})}removeAllRanges(){0<this._ranges.length&&(this._removeAllRanges(),this.fire('change:range',{directChange:!0}))}setRanges(O,E=!1){O=Array.from(O);const V=O.some(R=>{if(!(R instanceof f.a))throw new w.a('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');return this._ranges.every(F=>{return!F.isEqual(R)})});if(O.length!==this._ranges.length||V){this._removeAllRanges();for(let R of O)this._pushRange(R);this._lastRangeBackward=!!E,this.fire('change:range',{directChange:!0})}}setTo(O){this.setRanges(O.getRanges(),O.isBackward)}collapse(O,E){const V=d.a.createAt(O,E),R=new f.a(V,V);this.setRanges([R])}collapseToStart(){const O=this.getFirstPosition();null!==O&&this.setRanges([new f.a(O,O)])}collapseToEnd(){const O=this.getLastPosition();null!==O&&this.setRanges([new f.a(O,O)])}setFocus(O,E){if(null===this.anchor)throw new w.a('model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');const V=d.a.createAt(O,E);if('same'!=V.compareWith(this.focus)){const R=this.anchor;this._ranges.length&&this._popRange(),'before'==V.compareWith(R)?this.addRange(new f.a(V,R),!0):this.addRange(new f.a(R,V))}}getAttribute(O){return this._attrs.get(O)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(O){return this._attrs.has(O)}clearAttributes(){if(0<this._attrs.size){const O=Array.from(this._attrs.keys());this._attrs.clear(),this.fire('change:attribute',{attributeKeys:O,directChange:!0})}}removeAttribute(O){this.hasAttribute(O)&&(this._attrs.delete(O),this.fire('change:attribute',{attributeKeys:[O],directChange:!0}))}setAttribute(O,E){this.getAttribute(O)!==E&&(this._attrs.set(O,E),this.fire('change:attribute',{attributeKeys:[O],directChange:!0}))}setAttributesTo(O){if(O=s.i(T.a)(O),!s.i(P.a)(O,this._attrs)){const E=new Set(Array.from(O.keys()).concat(Array.from(this._attrs.keys())));for(let[V,R]of O)this._attrs.get(V)===R&&E.delete(V);this._attrs=O,this.fire('change:attribute',{attributeKeys:Array.from(E),directChange:!0})}}getSelectedElement(){if(1!==this.rangeCount)return null;const O=this.getFirstRange(),E=O.start.nodeAfter,V=O.end.nodeBefore;return E instanceof u.a&&E==V?E:null}static createFromSelection(O){const E=new this;return E.setTo(O),E}_pushRange(O){if(!(O instanceof f.a))throw new w.a('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');this._checkRange(O),this._ranges.push(f.a.createFromRange(O))}_checkRange(O){for(let E=0;E<this._ranges.length;E++)if(O.isIntersecting(this._ranges[E]))throw new w.a('model-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:O,intersectingRange:this._ranges[E]})}_popRange(){this._ranges.pop()}_removeAllRanges(){for(;0<this._ranges.length;)this._popRange()}}r.a=S,s.i(C.a)(S,h.a)},function(o,r,s){'use strict';function d(T){return'string'==typeof T?[new u.a(T)]:(s.i(h.a)(T)||(T=[T]),Array.from(T).map(P=>'string'==typeof P?new u.a(P):P))}var u=s(18),f=s(4),h=s(41),w=s(7);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class C{constructor(T){this._children=[],T&&this.insertChildren(0,T)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}getAncestors(){return[]}appendChildren(T){return this.insertChildren(this.childCount,T)}getChild(T){return this._children[T]}getChildIndex(T){return this._children.indexOf(T)}getChildren(){return this._children[Symbol.iterator]()}insertChildren(T,P){this._fireChange('children',this);let S=0;P=d(P);for(let O of P)O.parent=this,this._children.splice(T,0,O),T++,S++;return S}removeChildren(T,P=1){this._fireChange('children',this);for(let S=T;S<T+P;S++)this._children[S].parent=null;return this._children.splice(T,P)}_fireChange(T,P){this.fire('change:'+T,P)}}r.a=C,s.i(f.a)(C,w.a)},function(o,r,s){'use strict';var d=s(0),u=s(33),f=s(25),h=s(4),w=s(7),C=s(17);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class T{constructor(){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel=''}setFake(P=!0,S={}){this._isFake=P,this._fakeSelectionLabel=P?S.label||'':'',this.fire('change')}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const P=this._ranges[this._ranges.length-1],S=this._lastRangeBackward?P.end:P.start;return f.a.createFromPosition(S)}get focus(){if(!this._ranges.length)return null;const P=this._ranges[this._ranges.length-1],S=this._lastRangeBackward?P.start:P.end;return f.a.createFromPosition(S)}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}addRange(P,S){if(!(P instanceof u.a))throw new d.a('view-selection-invalid-range: Invalid Range.');this._pushRange(P),this._lastRangeBackward=!!S,this.fire('change')}*getRanges(){for(let P of this._ranges)yield u.a.createFromRange(P)}getFirstRange(){let P=null;for(let S of this._ranges)(!P||S.start.isBefore(P.start))&&(P=S);return P?u.a.createFromRange(P):null}getLastRange(){let P=null;for(let S of this._ranges)(!P||S.end.isAfter(P.end))&&(P=S);return P?u.a.createFromRange(P):null}getFirstPosition(){const P=this.getFirstRange();return P?f.a.createFromPosition(P.start):null}getLastPosition(){const P=this.getLastRange();return P?f.a.createFromPosition(P.end):null}isEqual(P){if(this.isFake!=P.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=P.fakeSelectionLabel)return!1;if(this.rangeCount!=P.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(P.anchor)||!this.focus.isEqual(P.focus))return!1;for(let S of this._ranges){let O=!1;for(let E of P._ranges)if(S.isEqual(E)){O=!0;break}if(!O)return!1}return!0}removeAllRanges(){this._ranges.length&&(this._ranges=[],this.fire('change'))}setRanges(P,S){this._ranges=[];for(let O of P){if(!(O instanceof u.a))throw new d.a('view-selection-invalid-range: Invalid Range.');this._pushRange(O)}this._lastRangeBackward=!!S,this.fire('change')}setTo(P){this._isFake=P._isFake,this._fakeSelectionLabel=P._fakeSelectionLabel,this.setRanges(P.getRanges(),P.isBackward)}collapse(P,S){const O=f.a.createAt(P,S),E=new u.a(O,O);this.setRanges([E])}collapseToStart(){const P=this.getFirstPosition();null!==P&&this.setRanges([new u.a(P,P)])}collapseToEnd(){const P=this.getLastPosition();null!==P&&this.setRanges([new u.a(P,P)])}setFocus(P,S){if(null===this.anchor)throw new d.a('view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');const O=f.a.createAt(P,S);if('same'!=O.compareWith(this.focus)){const E=this.anchor;this._ranges.pop(),'before'==O.compareWith(E)?this.addRange(new u.a(O,E),!0):this.addRange(new u.a(E,O))}}getSelectedElement(){if(1!==this.rangeCount)return null;const P=this.getFirstRange(),S=P.start.nodeAfter,O=P.end.nodeBefore;return S instanceof C.a&&S==O?S:null}static createFromSelection(P){const S=new T;return S.setTo(P),S}_pushRange(P){for(let S of this._ranges)if(P.isIntersecting(S))throw new d.a('view-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:P,intersectingRange:S});this._ranges.push(u.a.createFromRange(P))}}r.a=T,s.i(h.a)(T,w.a)},function(o,r,s){'use strict';var d=s(7),u=s(0),f=s(64),h=s(4);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class w{constructor(C){this._items=[],this._itemMap=new Map,this._idProperty=C&&C.idProperty||'id'}get length(){return this._items.length}add(C,T){let P;const S=this._idProperty;if(S in C){if(P=C[S],'string'!=typeof P)throw new u.a('collection-add-invalid-id');if(this.get(P))throw new u.a('collection-add-item-already-exists')}else C[S]=P=s.i(f.a)();if(void 0===T)T=this._items.length;else if(T>this._items.length||0>T)throw new u.a('collection-add-item-invalid-index');return this._items.splice(T,0,C),this._itemMap.set(P,C),this.fire('add',C,T),this}get(C){let T;if('string'==typeof C)T=this._itemMap.get(C);else if('number'==typeof C)T=this._items[C];else throw new u.a('collection-get-invalid-arg: Index or id must be given.');return T||null}getIndex(C){let T;return T='string'==typeof C?this._itemMap.get(C):C,this._items.indexOf(T)}remove(C){let O=!1,T,P,S;const E=this._idProperty;if('string'==typeof C?(P=C,S=this._itemMap.get(P),O=!S,S&&(T=this._items.indexOf(S))):'number'==typeof C?(T=C,S=this._items[T],O=!S,S&&(P=S[E])):(S=C,P=S[E],T=this._items.indexOf(S),O=-1==T||!this._itemMap.get(P)),O)throw new u.a('collection-remove-404: Item not found.');return this._items.splice(T,1),this._itemMap.delete(P),this.fire('remove',S),S}map(C,T){return this._items.map(C,T)}find(C,T){return this._items.find(C,T)}filter(C,T){return this._items.filter(C,T)}clear(){for(;this.length;)this.remove(0)}[Symbol.iterator](){return this._items[Symbol.iterator]()}}r.a=w,s.i(h.a)(w,d.a)},function(o,r,s){'use strict';function d(S){return S['data-ck-expando']||(S['data-ck-expando']=s.i(h.a)())}function u(S){return S&&s.i(C.a)(S.addEventListener)}var f=s(7),h=s(64),w=s(52),C=s(234);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const T=s.i(w.a)({},f.a,{listenTo(...S){const O=S[0];u(O)&&(S[0]=this._getProxyEmitter(O)||new P(O)),f.a.listenTo.apply(this,S)},stopListening(...S){const O=S[0];if(u(O)){let E=this._getProxyEmitter(O);if(!E)return;S[0]=E}f.a.stopListening.apply(this,S)},_getProxyEmitter(S){return s.i(f.b)(this,d(S))}});r.a=T;class P{constructor(S){s.i(f.c)(this,d(S)),this._domNode=S}}s.i(w.a)(P.prototype,f.a,{on(S,O,E={}){if(f.a.on.apply(this,arguments),!(this._domListeners&&this._domListeners[S])){const V=this._createDomListener(S);this._domNode.addEventListener(S,V,!!E.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[S]=V}},off(S){f.a.off.apply(this,arguments);let O;!this._domListeners[S]||(O=this._events[S])&&O.callbacks.length||this._domListeners[S].removeListener()},_createDomListener(S){const O=E=>{this.fire(S,E)};return O.removeListener=()=>{this._domNode.removeEventListener(S,O),delete this._domListeners[S]},O}})},function(o,r,s){'use strict';function d(T){var P=-1,S=T?T.length:0;for(this.clear();++P<S;){var O=T[P];this.set(O[0],O[1])}}var u=s(467),f=s(468),h=s(469),w=s(470),C=s(471);d.prototype.clear=u.a,d.prototype['delete']=f.a,d.prototype.get=h.a,d.prototype.has=w.a,d.prototype.set=C.a,r.a=d},function(o,r,s){'use strict';function d(w){var C=-1,T=w?w.length:0;for(this.__data__=new u.a;++C<T;)this.add(w[C])}var u=s(121),f=s(478),h=s(479);d.prototype.add=d.prototype.push=f.a,d.prototype.has=h.a,r.a=d},function(o,r){'use strict';r.a=function(u,f){for(var h=-1,w=u.length,C=0,T=[],P;++h<w;)P=u[h],f(P,h,u)&&(T[C++]=P);return T}},function(o,r){'use strict';r.a=function(u,f){for(var h=-1,w=f.length,C=u.length;++h<w;)u[C+h]=f[h];return u}},function(o,r,s){'use strict';var u=s(51);r.a=function(f,h){for(var w=f.length;w--;)if(s.i(u.a)(f[w][0],h))return w;return-1}},function(o,r,s){'use strict';var u=s(132),f=s(228),h=s(44);r.a=function(T,P,S){var O=0,E=T?T.length:O;if('number'==typeof P&&P===P&&E<=4294967295>>>1){for(;O<E;){var V=O+E>>>1,R=T[V];null!==R&&!s.i(h.a)(R)&&(S?R<=P:R<P)?O=V+1:E=V}return E}return s.i(u.a)(T,P,f.a,S)}},function(o,r,s){'use strict';var u=s(34);r.a=function(f,h,w,C){for(var T=f.length,P=C?T:-1;(C?P--:++P<T)&&h(f[P],P,f););return w?s.i(u.a)(f,C?0:P,C?P+1:T):s.i(u.a)(f,C?P+1:0,C?T:P)}},function(o,r,s){'use strict';var u=s(11),f=s(486);r.a=function(h){return s.i(u.a)(h)?h:s.i(f.a)(h)}},function(o,r,s){'use strict';var u=s(465);r.a=function(f,h){var w=f.__data__;return s.i(u.a)(h)?w['string'==typeof h?'string':'hash']:w.map}},function(o,r){'use strict';r.a=function(u){var f=!1;if(null!=u&&'function'!=typeof u.toString)try{f=!!(u+'')}catch(h){}return f}},function(o,r,s){'use strict';var u=s(51),f=s(93),h=s(35),w=s(13);r.a=function(C,T,P){if(!s.i(w.a)(P))return!1;var S=typeof T;return!('number'==S?!(s.i(f.a)(P)&&s.i(h.a)(T,P.length)):!('string'==S&&T in P))&&s.i(u.a)(P[T],C)}},function(o,r){'use strict';var u=Object.prototype;r.a=function(f){var h=f&&f.constructor,w='function'==typeof h&&h.prototype||u;return f===w}},function(o,r,s){'use strict';var d=s(48),u=s.i(d.a)(Object,'create');r.a=u},function(o,r){'use strict';r.a=function(u){var f=-1,h=Array(u.size);return u.forEach(function(w){h[++f]=w}),h}},function(o,r,s){'use strict';var u=s(196);r.a=function(f){return s.i(u.a)(f,!1,!0)}},function(o,r,s){'use strict';var u=s(453),f=s(146),h=s(94);r.a=function(w){return null!=w&&s.i(h.a)(s.i(u.a)(w))&&!s.i(f.a)(w)}},function(o,r){'use strict';r.a=function(f){return'number'==typeof f&&-1<f&&0==f%1&&f<=9007199254740991}},function(o,r,s){'use strict';var u=s(139),f=s(87),h=s(43),C=Object.prototype,T=Function.prototype.toString,P=C.hasOwnProperty,S=T.call(Object),O=C.toString;r.a=function(E){if(!s.i(h.a)(E)||O.call(E)!='[object Object]'||s.i(f.a)(E))return!1;var V=s.i(u.a)(E);if(null===V)return!0;var R=P.call(V,'constructor')&&V.constructor;return'function'==typeof R&&R instanceof R&&T.call(R)==S}},function(o,r,s){'use strict';var u=s(80),f=s(27),h=s(130),w=s(201),C=s(12),T=Math.max;r.a=function(P){if(!(P&&P.length))return[];var S=0;return P=s.i(u.a)(P,function(O){if(s.i(C.a)(O))return S=T(O.length,S),!0}),s.i(w.a)(S,function(O){return s.i(f.a)(P,s.i(h.a)(O))})}},function(o,r,s){'use strict';var u=s(55),f=s(2),h=s(1);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=function(w,C,T){const P=[];for(let S of C){const O=new u.a({boundaries:S,mergeCharacters:!0});let E=O.next(),V=S.start,R=S.start,F=S.end;for(;!E.done;){const N=E.value.item.name||'$text',M=h.a.createBefore(E.value.item);T.check({name:N,inside:M,attributes:w})||(!R.isEqual(V)&&P.push(new f.a(R,V)),R=O.position),V=O.position,E=O.next()}R&&!R.isEqual(F)&&P.push(new f.a(R,F))}return P}},function(o,r,s){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function S(H,W){const Z=z.a.createFromPosition(H),G=z.a.createFromPosition(H);for(;G.nodeAfter&&0===W.getModelLength(G.nodeAfter);)G.offset++;return new q.a(Z,G)}function M(H){const W=H.split(':');return W[0]+':'+W[1]}var L=s(2),I=s(1),D=s(5),q=s(33),z=s(25),$=s(17),K=s(18),U=s(116);r.a=function(H){return(W,Z,G,J)=>{if(G.consume(Z.item,'insert')){const Y=J.mapper.toViewPosition(Z.range.start),X=H instanceof $.a?H.clone(!0):H(Z,G,J);J.mapper.bindElements(Z.item,X),U.a.insert(Y,X)}}},r.h=function(){return(H,W,Z,G)=>{if(Z.consume(W.item,'insert')){const J=G.mapper.toViewPosition(W.range.start),Y=new K.a(W.item.data);U.a.insert(J,Y)}}},r.f=function(H){return H=H||((W,Z)=>({value:W,key:Z})),(W,Z,G,J)=>{if(G.consume(Z.item,M(W.name))){const{key:Y,value:X}=H(Z.attributeNewValue,Z.attributeKey,Z,G,J);J.mapper.toViewElement(Z.item).setAttribute(Y,X)}}},r.g=function(H){return H=H||((W,Z)=>({key:Z})),(W,Z,G,J)=>{if(G.consume(Z.item,M(W.name))){const{key:Y}=H(Z.attributeOldValue,Z.attributeKey,Z,G,J);J.mapper.toViewElement(Z.item).removeAttribute(Y)}}},r.b=function(H){return(W,Z,G,J)=>{let Y=J.mapper.toViewRange(Z.range);const X=H instanceof $.a?H.clone(!0):H(Z.attributeNewValue,Z,G,J);if(X){if(!G.consume(Z.item,M(W.name)))return;if(null!==Z.attributeOldValue&&!(H instanceof $.a)){const Q=H(Z.attributeOldValue,Z,G,J);Y=U.a.unwrap(Y,Q)}U.a.wrap(Y,X)}}},r.c=function(H){return(W,Z,G,J)=>{if(G.consume(Z.item,M(W.name))){const Y=J.mapper.toViewRange(Z.range),X=H instanceof $.a?H.clone(!0):H(Z.attributeOldValue,Z,G,J);U.a.unwrap(Y,X)}}},r.d=function(H){return(W,Z,G,J)=>{const Y=J.mapper.toViewRange(Z.range),X=H instanceof $.a?H.clone(!0):H(Z,G,J);if(X){if(!G.consume(Z.range,'addMarker'))return;if(Y.isCollapsed)U.a.wrapPosition(Y.start,X);else{const Q=U.a.breakViewRangePerContainer(Y);for(let ee of Q)U.a.wrap(ee,X)}}}},r.e=function(H){return(W,Z,G,J)=>{if(G.consume(Z.range,'removeMarker')){const Y=H instanceof $.a?H.clone(!0):H(Z,G,J);if(Z.range.isCollapsed){const X=Z.range.start;let Q=J.mapper.toViewPosition(X);Q.parent instanceof K.a&&(Q=z.a.createAfter(Q.parent));const ee=S(Q,J.mapper);U.a.unwrap(ee,Y)}else{const X=J.mapper.toViewRange(Z.range),Q=U.a.breakViewRangePerContainer(X);for(let ee of Q)U.a.unwrap(ee,Y)}}}},r.j=function(){return(H,W,Z,G)=>{if(Z.consume(W.item,'move')){const J=L.a.createFromPositionAndShift(W.sourcePosition,W.item.offsetSize),Y=G.mapper.toViewRange(J),X=G.mapper.toViewPosition(W.targetPosition);U.a.move(Y,X)}}},r.i=function(){return(H,W,Z,G)=>{if(Z.consume(W.item,'remove')){const J=L.a.createFromPositionAndShift(W.sourcePosition,W.item.offsetSize),Y=G.mapper.toViewRange(J);U.a.remove(Y),G.mapper.unbindModelElement(W.item)}}},r.k=function(){return(H,W,Z,G)=>{if(Z.consume(W.element,'rename')){const J=new D.a(W.oldName,W.element.getAttributes());W.element.parent.insertChildren(W.element.index,J);const Y=G.mapper.toViewElement(W.element);G.mapper.unbindModelElement(W.element),G.mapper.bindElements(J,Y);const X=L.a.createFromParentsAndOffsets(W.element.parent,W.element.startOffset,W.element,0),Q=I.a.createAt(J,0),ee=L.a.createIn(W.element),te=L.a.createOn(J);G.dispatcher.convertInsertion(X),G.dispatcher.convertMove(Q,ee),G.dispatcher.convertRemove(te.start,te),J.remove()}}},r.l=function(H){return(W,Z,G,J)=>{for(let Y of H){const X=Y.getRange();X.containsPosition(Z.range.start)&&J.dispatcher.convertMarker('addMarker',Y.name,Z.range)}}},r.m=function(H){return(W,Z,G,J)=>{for(let Y of H){const X=Y.getRange();(Z.range.containsRange(X)||Z.range.isEqual(X))&&J.dispatcher.convertMarker('addMarker',Y.name,X)}}},r.n=function(H){return(W,Z,G,J)=>{const Y=Z.sourcePosition._getTransformedByInsertion(Z.targetPosition,Z.item.offsetSize),X=L.a.createOn(Z.item);for(let Q of H){const ee=Q.getRange(),te=ee.containsPosition(Y)||ee.start.isEqual(Y)||ee.end.isEqual(Y),ae=X.getIntersection(ee);te&&null===ae?J.dispatcher.convertMarker('removeMarker',Q.name,X):null!==ae&&J.dispatcher.convertMarker('addMarker',Q.name,ae)}}}},function(o,r,s){'use strict';var d=s(21),u=s(16),f=s(102),h=s(15),w=s(36);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class C extends d.a{get position(){return this._insertOperation?this._insertOperation.position:null}get nodes(){return this._insertOperation?this._insertOperation.nodes:null}get _insertOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return f.a}static get className(){return'engine.model.delta.InsertDelta'}static get _priority(){return 20}}r.a=C,s.i(h.b)('insert',function(T,P){const S=new C,O=new w.a(T,P,this.document.version);return this.addDelta(S),S.addOperation(O),this.document.applyOperation(O),this}),u.a.register(C)},function(o,r,s){'use strict';var d=s(21),u=s(16),f=s(103),h=s(15),w=s(1),C=s(5),T=s(37),P=s(28),S=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class O extends d.a{get position(){return this._removeOperation?this._removeOperation.sourcePosition:null}getReversed(){let E=super.getReversed();return 0<E.operations.length&&(E.operations[1].isSticky=!1),E}get _removeOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return f.a}static get className(){return'engine.model.delta.MergeDelta'}}r.a=O,s.i(h.b)('merge',function(E){const V=new O;this.addDelta(V);const R=E.nodeBefore,F=E.nodeAfter;if(!(R instanceof C.a))throw new S.a('batch-merge-no-element-before: Node before merge position must be an element.');if(!(F instanceof C.a))throw new S.a('batch-merge-no-element-after: Node after merge position must be an element.');const N=w.a.createFromParentAndOffset(F,0),M=w.a.createFromParentAndOffset(R,R.maxOffset),L=new P.a(N,F.maxOffset,M,this.document.version);L.isSticky=!0,V.addOperation(L),this.document.applyOperation(L);const I=new T.a(E,1,this.document.version);return V.addOperation(I),this.document.applyOperation(I),this}),u.a.register(O)},function(o,r,s){'use strict';function d(O,E,V,R,F){const N=new w.a(V,R,F,O.document.version);E.addOperation(N),O.document.applyOperation(N)}var u=s(21),f=s(16),h=s(15),w=s(28),C=s(1),T=s(2),P=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class S extends u.a{get howMany(){return this._moveOperation?this._moveOperation.howMany:null}get sourcePosition(){return this._moveOperation?this._moveOperation.sourcePosition:null}get targetPosition(){return this._moveOperation?this._moveOperation.targetPosition:null}get _moveOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return S}static get className(){return'engine.model.delta.MoveDelta'}static get _priority(){return 20}}r.a=S,s.i(h.b)('move',function(O,E){const V=new S;if(this.addDelta(V),O instanceof T.a){if(!O.isFlat)throw new P.a('batch-move-range-not-flat: Range to move is not flat.');d(this,V,O.start,O.end.offset-O.start.offset,E)}else d(this,V,C.a.createBefore(O),1,E);return this}),f.a.register(S)},function(o,r,s){'use strict';function d(S,O,E,V){const R=new w.a(E,V,S.document.version);O.addOperation(R),S.document.applyOperation(R)}var u=s(101),f=s(15),h=s(16),w=s(37),C=s(1),T=s(2);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class P extends u.a{static get className(){return'engine.model.delta.RemoveDelta'}}r.a=P,s.i(f.b)('remove',function(S){const O=new P;if(this.addDelta(O),S instanceof T.a){let E=S.getMinimalFlatRanges().reverse();for(let V of E)d(this,O,V.start,V.end.offset-V.start.offset)}else d(this,O,C.a.createBefore(S),1);return this}),h.a.register(P)},function(o,r,s){'use strict';var d=s(21),u=s(16),f=s(15),h=s(1),w=s(5),C=s(36),T=s(28),P=s(0),S=s(100);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class O extends d.a{get position(){return this._moveOperation?this._moveOperation.sourcePosition:null}getReversed(){let E=super.getReversed();return 0<E.operations.length&&(E.operations[0].isSticky=!0),E}get _cloneOperation(){return this.operations[0]||null}get _moveOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return S.a}static get className(){return'engine.model.delta.SplitDelta'}static get _priority(){return 5}}r.a=O,s.i(f.b)('split',function(E){const V=new O;this.addDelta(V);const R=E.parent;if(!R.parent)throw new P.a('batch-split-root: Root element can not be split.');const F=new w.a(R.name,R.getAttributes()),N=new C.a(h.a.createAfter(R),F,this.document.version);V.addOperation(N),this.document.applyOperation(N);const M=new T.a(E,R.maxOffset-E.offset,h.a.createFromParentAndOffset(F,0),this.document.version);return M.isSticky=!0,V.addOperation(M),this.document.applyOperation(M),this}),u.a.register(O)},function(o,r,s){'use strict';function d(N,M,L){const I=w(N,M)||f,D=I(N,M,L),q=R.a.last(M.operations).baseVersion;return u(q,D)}function u(N,M){for(let L of M)for(let I of L.operations)I.baseVersion=++N;return M}function f(N,M,L){L=C(N.constructor,M.constructor,L);const I=new N.constructor;let D=M.operations,q=[];for(let z of N.operations){const $=[z];for(let K of D)for(let U=0;U<$.length;U++){const H=$[U];Array.prototype.push.apply(q,s.i(E.a)(K,H,!L));const W=s.i(E.a)(H,K,L);Array.prototype.splice.apply($,[U,1].concat(W)),U+=W.length-1}D=q,q=[];for(let K of $)I.addOperation(K)}return[I]}function w(N,M){let L=F.get(N.constructor);if(!L||!L.get(M.constructor)){const I=F.keys();for(let D of I)if(N instanceof D&&F.get(D).get(M.constructor)){L=F.get(D);break}}return L?L.get(M.constructor):void 0}function C(N,M,L){return!!(N._priority>M._priority)||!(N._priority<M._priority)&&L}function P(N){return N.reduce((M,L)=>{return M+L.operations.length},0)}function S(N,M){const L=N[N.length-1];let I=L.operations.length+L.baseVersion,D=new O.a;for(let q=0;q<M;q++)D.addOperation(new V.a(I++));N.push(D)}var O=s(21),E=s(340),V=s(71),R=s(488);r.c=f,r.b=function(N,M,L){let I=F.get(N);I||(I=new Map,F.set(N,I)),I.set(M,L)},r.a=function(N,M,L){let I=Array.from(N),D=Array.from(M);for(let $=0,K;$<I.length;$++){K=[I[$]];for(let U=0,H;U<D.length;U++){H=[D[U]];for(let W=0;W<K.length;W++)for(let Z=0;Z<H.length;Z++){let G=d(K[W],H[Z],L),J=d(H[Z],K[W],!L);K.splice(W,1,...G),W+=G.length-1,H.splice(Z,1,...J),Z+=J.length-1}D.splice(U,1,...H),U+=H.length-1}I.splice($,1,...K),$+=K.length-1}const q=P(I)-P(N),z=P(D)-P(M);return z<q?S(D,q-z):q<z&&S(I,z-q),{deltasA:I,deltasB:D}};/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const F=new Map},function(o,r,s){'use strict';var d=s(21),u=s(16),f=s(106),h=s(15),w=s(1),C=s(37),T=s(28),P=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class S extends d.a{get position(){return this._moveOperation?this._moveOperation.targetPosition:null}get _moveOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return f.a}static get className(){return'engine.model.delta.UnwrapDelta'}static get _priority(){return 10}}r.a=S,s.i(h.b)('unwrap',function(O){if(null===O.parent)throw new P.a('batch-unwrap-element-no-parent: Trying to unwrap an element that has no parent.');const E=new S;this.addDelta(E);let V=w.a.createFromParentAndOffset(O,0);const R=new T.a(V,O.maxOffset,w.a.createBefore(O),this.document.version);R.isSticky=!0,E.addOperation(R),this.document.applyOperation(R);const F=new C.a(w.a.createBefore(O),1,this.document.version);return E.addOperation(F),this.document.applyOperation(F),this}),u.a.register(S)},function(o,r,s){'use strict';var d=s(21),u=s(16),f=s(105),h=s(15),w=s(1),C=s(2),T=s(5),P=s(36),S=s(28),O=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class E extends d.a{get range(){let V=this._moveOperation;return V?C.a.createFromPositionAndShift(V.sourcePosition,V.howMany):null}get howMany(){let V=this.range;return V?V.end.offset-V.start.offset:0}get _insertOperation(){return this.operations[0]||null}get _moveOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return f.a}static get className(){return'engine.model.delta.WrapDelta'}static get _priority(){return 10}}r.a=E,s.i(h.b)('wrap',function(V,R){if(!V.isFlat)throw new O.a('batch-wrap-range-not-flat: Range to wrap is not flat.');let F=R instanceof T.a?R:new T.a(R);if(0<F.childCount)throw new O.a('batch-wrap-element-not-empty: Element to wrap with is not empty.');if(null!==F.parent)throw new O.a('batch-wrap-element-attached: Element to wrap with is already attached to tree model.');const N=new E;this.addDelta(N);let M=new P.a(V.end,F,this.document.version);N.addOperation(M),this.document.applyOperation(M);let L=w.a.createFromParentAndOffset(F,0),I=new S.a(V.start,V.end.offset-V.start.offset,L,this.document.version);return N.addOperation(I),this.document.applyOperation(I),this}),u.a.register(E)},function(o,r,s){'use strict';function d(){const T=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document,'change',(P,S,O)=>{T.has(S)&&u.call(this,S,O.range,O.sourcePosition)},{priority:'high'})}function u(T,P,S){const O=P.end.offset-P.start.offset;let E=P.start;'move'==T&&(E=E._getTransformedByInsertion(S,O));const V=this._getTransformedByDocumentChange(T,E,O,S);'move'!=T||3!=V.length||V[1].isEmpty||(V[2]=P);const R=f.a.createFromRanges(V);if(!R.isEqual(this)){const F=f.a.createFromRange(this);this.start=R.start,this.end=R.end,this.fire('change',F)}}var f=s(2),h=s(7),w=s(4);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class C extends f.a{constructor(T,P){super(T,P),d.call(this)}detach(){this.stopListening()}}r.a=C,s.i(w.a)(C,h.a)},function(o,r,s){'use strict';var d=s(32),u=s(2);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{constructor(h,w,C,T,P){super(P),this.name=h,this.oldRange=w?u.a.createFromRange(w):null,this.newRange=C?u.a.createFromRange(C):null,this._markers=T}get type(){return'marker'}clone(){return new f(this.name,this.oldRange,this.newRange,this._markers,this.baseVersion)}getReversed(){return new f(this.name,this.newRange,this.oldRange,this._markers,this.baseVersion+1)}_execute(){const h=this.newRange?'set':'remove';return this._markers[h](this.name,this.newRange),{name:this.name,type:h}}toJSON(){const h=super.toJSON();return delete h._markers,h}static get className(){return'engine.model.operation.MarkerOperation'}static fromJSON(h,w){return new f(h.name,h.oldRange?u.a.fromJSON(h.oldRange,w):null,h.newRange?u.a.fromJSON(h.newRange,w):null,w.markers,h.baseVersion)}}r.a=f},function(o,r,s){'use strict';var d=s(28),u=s(37);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{get position(){return this.targetPosition}set position(h){this.targetPosition=h}get type(){return'reinsert'}getReversed(){return new u.a(this.targetPosition,this.howMany,this.baseVersion+1)}static get className(){return'engine.model.operation.ReinsertOperation'}}r.a=f},function(o,r,s){'use strict';var d=s(32),u=s(5),f=s(0),h=s(1);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class w extends d.a{constructor(C,T,P,S){super(S),this.position=C,this.oldName=T,this.newName=P}get type(){return'rename'}clone(){return new w(h.a.createFromPosition(this.position),this.oldName,this.newName,this.baseVersion)}getReversed(){return new w(h.a.createFromPosition(this.position),this.newName,this.oldName,this.baseVersion+1)}_execute(){const C=this.position.nodeAfter;if(!(C instanceof u.a))throw new f.a('rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.');else if(C.name!==this.oldName)throw new f.a('rename-operation-wrong-name: Element to change has different name than operation\'s old name.');return this.oldName==this.newName?void 0:(C.name=this.newName,{element:C,oldName:this.oldName})}static get className(){return'engine.model.operation.RenameOperation'}static fromJSON(C,T){return new w(h.a.fromJSON(C.position,T),C.oldName,C.newName,C.baseVersion)}}r.a=w},function(o,r,s){'use strict';var d=s(32),u=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{constructor(h,w,C,T,P){super(P),this.root=h,this.key=w,this.oldValue=C,this.newValue=T}get type(){return null===this.oldValue?'addRootAttribute':null===this.newValue?'removeRootAttribute':'changeRootAttribute'}clone(){return new f(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new f(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_execute(){if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new u.a('rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation\'s old attribute value.',{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new u.a('rootattribute-operation-attribute-exists: The attribute with given key already exists.',{root:this.root,key:this.key});return null===this.newValue?this.root.removeAttribute(this.key):this.root.setAttribute(this.key,this.newValue),{root:this.root,key:this.key,oldValue:this.oldValue,newValue:this.newValue}}static get className(){return'engine.model.operation.RootAttributeOperation'}static fromJSON(h,w){if(!w.hasRoot(h.root))throw new u.a('rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.',{rootName:h});return new f(w.getRoot(h.root),h.key,h.oldValue,h.newValue,h.baseVersion)}}r.a=f},function(o,r,s){'use strict';function d(){if(this.childCount)return null;let w=this.parent;for(;w instanceof h;){if(1<w.childCount)return null;w=w.parent}return!w||1<w.childCount?null:0}var u=s(17);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const f=10;class h extends u.a{constructor(w,C,T){super(w,C,T),this.priority=f,this.getFillerOffset=d}clone(w){const C=super.clone(w);return C.priority=this.priority,C}isSimilar(w){return super.isSimilar(w)&&this.priority==w.priority}}r.a=h,h.DEFAULT_PRIORITY=f},function(o,r,s){'use strict';var d=s(0),u=s(7),f=s(4);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h{constructor(){this.parent=null}get index(){let w;if(!this.parent)return null;if(-1==(w=this.parent.getChildIndex(this)))throw new d.a('view-node-not-found-in-parent: The node\'s parent does not contain this node.');return w}get nextSibling(){const w=this.index;return null!==w&&this.parent.getChild(w+1)||null}get previousSibling(){const w=this.index;return null!==w&&this.parent.getChild(w-1)||null}get root(){let w=this;for(;w.parent;)w=w.parent;return w}get document(){return this.parent instanceof h?this.parent.document:null}getAncestors(w={includeNode:!1,parentFirst:!1}){const C=[];for(let T=w.includeNode?this:this.parent;T;)C[w.parentFirst?'push':'unshift'](T),T=T.parent;return C}remove(){this.parent.removeChildren(this.index)}_fireChange(w,C){this.fire('change:'+w,C),this.parent&&this.parent._fireChange(w,C)}}r.a=h,s.i(f.a)(h,u.a)},function(o,r,s){'use strict';var d=s(52);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class u{constructor(f,h,w){this.document=f,this.domEvent=h,this.domTarget=h.target,s.i(d.a)(this,w)}get target(){return this.document.domConverter.getCorrespondingViewElement(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}r.a=u},function(o,r,s){'use strict';var d=s(17),u=s(18),f=s(171),h=s(25),w=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class C{constructor(T={}){if(!T.boundaries&&!T.startPosition)throw new w.a('view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');if(T.direction&&'forward'!=T.direction&&'backward'!=T.direction)throw new w.a('view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:T.direction});this.boundaries=T.boundaries||null,this.position=T.startPosition?h.a.createFromPosition(T.startPosition):h.a.createFromPosition(T.boundaries['backward'==T.direction?'end':'start']),this.direction=T.direction||'forward',this.singleCharacters=!!T.singleCharacters,this.shallow=!!T.shallow,this.ignoreElementEnd=!!T.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}next(){return'forward'==this.direction?this._next():this._previous()}_next(){let T=h.a.createFromPosition(this.position);const P=this.position,S=T.parent;if(null===S.parent&&T.offset===S.childCount)return{done:!0};if(S===this._boundaryEndParent&&T.offset==this.boundaries.end.offset)return{done:!0};let O;if(O=S instanceof u.a?S.data[T.offset]:S.getChild(T.offset),O instanceof d.a)return this.shallow?T.offset++:T=new h.a(O,0),this.position=T,this._formatReturnValue('elementStart',O,P,T,1);if(O instanceof u.a){if(this.singleCharacters)return T=new h.a(O,0),this.position=T,this._next();let E=O.data.length,V=O;return O==this._boundaryEndParent?(E=this.boundaries.end.offset,V=new f.a(O,0,E),T=h.a.createAfter(V)):T.offset++,this.position=T,this._formatReturnValue('text',V,P,T,E)}if('string'==typeof O){let E;if(this.singleCharacters)E=1;else{const R=S===this._boundaryEndParent?this.boundaries.end.offset:S.data.length;E=R-T.offset}const V=new f.a(S,T.offset,E);return T.offset+=E,this.position=T,this._formatReturnValue('text',V,P,T,E)}return T=h.a.createAfter(S),this.position=T,this.ignoreElementEnd?this._next():this._formatReturnValue('elementEnd',S,P,T)}_previous(){let T=h.a.createFromPosition(this.position);const P=this.position,S=T.parent;if(null===S.parent&&0===T.offset)return{done:!0};if(S==this._boundaryStartParent&&T.offset==this.boundaries.start.offset)return{done:!0};let O;if(O=S instanceof u.a?S.data[T.offset-1]:S.getChild(T.offset-1),O instanceof d.a)return this.shallow?(T.offset--,this.position=T,this._formatReturnValue('elementStart',O,P,T,1)):(T=new h.a(O,O.childCount),this.position=T,this.ignoreElementEnd?this._previous():this._formatReturnValue('elementEnd',O,P,T));if(O instanceof u.a){if(this.singleCharacters)return T=new h.a(O,O.data.length),this.position=T,this._previous();let E=O.data.length,V=O;if(O==this._boundaryStartParent){const R=this.boundaries.start.offset;V=new f.a(O,R,O.data.length-R),E=V.data.length,T=h.a.createBefore(V)}else T.offset--;return this.position=T,this._formatReturnValue('text',V,P,T,E)}if('string'==typeof O){let E;if(!this.singleCharacters){const R=S===this._boundaryStartParent?this.boundaries.start.offset:0;E=T.offset-R}else E=1;T.offset-=E;const V=new f.a(S,T.offset,E);return this.position=T,this._formatReturnValue('text',V,P,T,E)}return T=h.a.createBefore(S),this.position=T,this._formatReturnValue('elementStart',S,P,T,1)}_formatReturnValue(T,P,S,O,E){return P instanceof f.a&&(P.offsetInText+P.data.length==P.textNode.data.length&&('forward'!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?S=h.a.createAfter(P.textNode):(O=h.a.createAfter(P.textNode),this.position=O)),0===P.offsetInText&&('backward'!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?S=h.a.createBefore(P.textNode):(O=h.a.createBefore(P.textNode),this.position=O))),{done:!1,value:{type:T,item:P,previousPosition:S,nextPosition:O,length:E}}}}r.a=C},function(o,r,s){'use strict';function f(ie){const re=ie.offset,se=ie.parent;if(se instanceof X.a)return ie;if(se instanceof J.a&&0===se.childCount){const ce=se.parent,ue=se.index;return se.remove(),f(new Z.a(ce,ue))}const le=se.getChild(re-1),de=se.getChild(re);if(!le||!de)return ie;if(le instanceof G.a||de instanceof G.a)return ie;if(le instanceof Y.a||de instanceof Y.a)return ie;if(le instanceof X.a&&de instanceof X.a)return q(le,de);if(le.isSimilar(de)){const ce=le.childCount;return le.appendChildren(de.getChildren()),de.remove(),f(new Z.a(le,ce))}return ie}function C(ie,re){re=s.i(ne.a)(re)?[...re]:[re],U(re);const se=R(ie);if(!se)throw new te.a('view-writer-invalid-position-container');const le=N(ie,!0),de=se.insertChildren(le.offset,re),ce=le.getShiftedBy(de),ue=f(le);if(0===de)return new Q.a(ue,ue);ue.isEqual(le)||ce.offset--;const pe=f(ce);return new Q.a(ue,pe)}function T(ie){if(W(ie),ie.isCollapsed)return new ae.a;const{start:re,end:se}=F(ie,!0),le=re.parent,de=se.offset-re.offset,ce=le.removeChildren(re.offset,de),ue=f(re);return ie.start=ue,ie.end=Z.a.createFromPosition(ue),new ae.a(ce)}function P(ie,re){let se;if(re.isAfter(ie.end)){re=N(re,!0);const le=re.parent,de=le.childCount;ie=F(ie,!0),se=T(ie),re.offset+=le.childCount-de}else se=T(ie);return C(re,se)}function S(ie,re){if(!(re instanceof J.a))throw new te.a('view-writer-wrap-invalid-attribute');if(W(ie),ie.isCollapsed)return ie;if(ie.end.isEqual(ie.start.getShiftedBy(1))){const ge=ie.start.nodeAfter;if(ge instanceof J.a&&z(re,ge))return ie}if(K(ie)&&z(re,ie.start.parent)){const ge=ie.start.parent.parent,fe=ie.start.parent.index;return Q.a.createFromParentsAndOffsets(ge,fe,ge,fe+1)}const{start:se,end:le}=F(ie,!0),de=se.parent,ce=M(de,se.offset,le.offset,re),ue=L(de,ce.start.offset,ce.end.offset,re),pe=f(ue.start);pe.isEqual(ue.start)||ue.end.offset--;const me=f(ue.end);return new Q.a(pe,me)}function R(ie){let re=ie.parent;for(;!H(re);){if(!re)return;re=re.parent}return re}function F(ie,re=!1){const se=ie.start,le=ie.end;if(W(ie),ie.isCollapsed){const pe=N(ie.start,re);return new Q.a(pe,pe)}const de=N(le,re),ce=de.parent.childCount,ue=N(se,re);return de.offset+=de.parent.childCount-ce,new Q.a(ue,de)}function N(ie,re=!1){const se=ie.offset,le=ie.parent;if(ie.parent instanceof Y.a)throw new te.a('view-writer-cannot-break-empty-element');if(!re&&le instanceof X.a&&H(le.parent))return Z.a.createFromPosition(ie);if(H(le))return Z.a.createFromPosition(ie);if(le instanceof X.a)return N(D(ie),re);const de=le.childCount;if(se==de){const ce=new Z.a(le.parent,le.index+1);return N(ce,re)}if(0===se){const ce=new Z.a(le.parent,le.index);return N(ce,re)}const ce=le.index+1,ue=le.clone();le.parent.insertChildren(ce,ue);const pe=le.childCount-se,me=le.removeChildren(se,pe);ue.appendChildren(me);const ge=new Z.a(le.parent,ce);return N(ge,re)}function M(ie,re,se,le){let de=re;const ce=[];for(;de<se;){const pe=ie.getChild(de);if(pe.isSimilar(le)){const me=pe.getChildren(),ge=pe.childCount;pe.remove(),ie.insertChildren(de,me),ce.push(new Z.a(ie,de),new Z.a(ie,de+ge)),de+=ge,se+=ge-1}else pe instanceof J.a&&M(pe,0,pe.childCount,le),de++}let ue=0;for(let pe of ce)if(pe.offset-=ue,pe.offset!=re&&pe.offset!=se){const me=f(pe);me.isEqual(pe)||(ue++,se--)}return Q.a.createFromParentsAndOffsets(ie,re,ie,se)}function L(ie,re,se,le){let de=re;const ce=[];for(;de<se;){const pe=ie.getChild(de),me=pe instanceof X.a,ge=pe instanceof J.a,fe=pe instanceof Y.a;if(me||fe||ge&&le.priority<=pe.priority){const he=le.clone();pe.remove(),he.appendChildren(pe),ie.insertChildren(de,he),ce.push(new Z.a(ie,de))}else pe instanceof J.a&&L(pe,0,pe.childCount,le);de++}let ue=0;for(let pe of ce)if(pe.offset-=ue,pe.offset!=re){const me=f(pe);me.isEqual(pe)||(ue++,se--)}return Q.a.createFromParentsAndOffsets(ie,re,ie,se)}function I(ie){const re=ie.nodeBefore;if(re&&re instanceof X.a)return new Z.a(re,re.data.length);const se=ie.nodeAfter;return se&&se instanceof X.a?new Z.a(se,0):ie}function D(ie){if(ie.offset==ie.parent.data.length)return new Z.a(ie.parent.parent,ie.parent.index+1);if(0===ie.offset)return new Z.a(ie.parent.parent,ie.parent.index);const re=ie.parent.data.slice(ie.offset);return ie.parent.data=ie.parent.data.slice(0,ie.offset),ie.parent.parent.insertChildren(ie.parent.index+1,new X.a(re)),new Z.a(ie.parent.parent,ie.parent.index+1)}function q(ie,re){const se=ie.data.length;return ie.data+=re.data,re.remove(),new Z.a(ie,se)}function z(ie,re){if(ie.name!==re.name||ie.priority!==re.priority)return!1;for(let se of ie.getAttributeKeys())if('class'!==se&&'style'!==se&&re.hasAttribute(se)&&re.getAttribute(se)!==ie.getAttribute(se))return!1;for(let se of ie.getStyleNames())if(re.hasStyle(se)&&re.getStyle(se)!==ie.getStyle(se))return!1;for(let se of ie.getAttributeKeys())'class'!==se&&'style'!==se&&(re.hasAttribute(se)||re.setAttribute(se,ie.getAttribute(se)));for(let se of ie.getStyleNames())re.hasStyle(se)||re.setStyle(se,ie.getStyle(se));for(let se of ie.getClassNames())re.hasClass(se)||re.addClass(se);return!0}function $(ie,re){if(ie.name!==re.name||ie.priority!==re.priority)return!1;for(let se of ie.getAttributeKeys())if('class'!==se&&'style'!==se&&(!re.hasAttribute(se)||re.getAttribute(se)!==ie.getAttribute(se)))return!1;if(!re.hasClass(...ie.getClassNames()))return!1;for(let se of ie.getStyleNames())if(!re.hasStyle(se)||re.getStyle(se)!==ie.getStyle(se))return!1;for(let se of ie.getAttributeKeys())'class'!==se&&'style'!==se&&re.removeAttribute(se);return re.removeClass(...ie.getClassNames()),re.removeStyle(...ie.getStyleNames()),!0}function K(ie){return ie.start.parent==ie.end.parent&&ie.start.parent instanceof J.a&&0===ie.start.offset&&ie.end.offset===ie.start.parent.childCount}function U(ie){for(let re of ie){if(!(re instanceof X.a||re instanceof J.a||re instanceof G.a||re instanceof Y.a))throw new te.a('view-writer-insert-invalid-node');re instanceof X.a||U(re.getChildren())}}function H(ie){return ie instanceof G.a||ie instanceof ae.a}function W(ie){const re=R(ie.start),se=R(ie.end);if(!re||!se||re!==se)throw new te.a('view-writer-invalid-range-container')}var Z=s(25),G=s(39),J=s(112),Y=s(168),X=s(18),Q=s(33),ee=s(115),te=s(0),ae=s(74),ne=s(41);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a={breakAttributes:function(ie){return ie instanceof Z.a?N(ie):F(ie)},breakContainer:function(ie){const re=ie.parent;if(!(re instanceof G.a))throw new te.a('view-writer-break-non-container-element: Trying to break an element which is not a container element.');if(!re.parent)throw new te.a('view-writer-break-root: Trying to break root element.');if(ie.isAtStart)return Z.a.createBefore(re);if(!ie.isAtEnd){const se=re.clone(!1);C(Z.a.createAfter(re),se);const le=new Q.a(ie,Z.a.createAt(re,'end')),de=new Z.a(se,0);P(le,de)}return Z.a.createAfter(re)},mergeAttributes:f,mergeContainers:function(ie){const re=ie.nodeBefore,se=ie.nodeAfter;if(!re||!se||!(re instanceof G.a)||!(se instanceof G.a))throw new te.a('view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.');const le=re.getChild(re.childCount-1),de=le instanceof X.a?Z.a.createAt(le,'end'):Z.a.createAt(re,'end');return P(Q.a.createIn(se),Z.a.createAt(re,'end')),T(Q.a.createOn(se)),de},insert:C,remove:T,move:P,wrap:S,wrapPosition:function(ie,re){if(!(re instanceof J.a))throw new te.a('view-writer-wrap-invalid-attribute');if(re.isSimilar(ie.parent))return I(Z.a.createFromPosition(ie));ie.parent instanceof X.a&&(ie=D(ie));const se=new J.a;se.priority=Number.POSITIVE_INFINITY,se.isSimilar=()=>!1,ie.parent.insertChildren(ie.offset,se);const le=new Q.a(ie,ie.getShiftedBy(1));S(le,re);const de=new Z.a(se.parent,se.index);se.remove();const ce=de.nodeBefore,ue=de.nodeAfter;return ce instanceof X.a&&ue instanceof X.a?q(ce,ue):I(de)},unwrap:function(ie,re){if(!(re instanceof J.a))throw new te.a('view-writer-unwrap-invalid-attribute');if(W(ie),ie.isCollapsed)return ie;if(ie.end.isEqual(ie.start.getShiftedBy(1))){const me=ie.start.nodeAfter;if(!re.isSimilar(me)&&me instanceof J.a&&$(re,me))return ie}const{start:se,end:le}=F(ie,!0),de=se.parent,ce=M(de,se.offset,le.offset,re),ue=f(ce.start);ue.isEqual(ce.start)||ce.end.offset--;const pe=f(ce.end);return new Q.a(ue,pe)},rename:function(ie,re){const se=new G.a(re,ie.getAttributes());return C(Z.a.createAfter(ie),se),P(Q.a.createIn(ie),Z.a.createAt(se)),T(Q.a.createOn(ie)),se},breakViewRangePerContainer:function(ie){const re=[],se=new ee.a({boundaries:ie});let le=ie.start;for(let de of se)de.item instanceof G.a&&(le.isEqual(de.previousPosition)||re.push(new Q.a(le,de.previousPosition)),le=de.nextPosition);return re.push(new Q.a(le,ie.end)),re}}},function(o,r){'use strict';function f(){return null}r.b=function(T){return!!T.getCustomProperty(h)},r.a=function(T){return T.setAttribute('contenteditable',!1),T.getFillerOffset=f,T.addClass('ck-widget'),T.setCustomProperty(h,!0),T};/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const h=Symbol('isWidget');r.c='ck-widget_selected'},function(o,r){'use strict';/**
 * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function d(f){return f.focus}class u{constructor(f){if(Object.assign(this,f),f.actions&&f.keystrokeHandler)for(let h in f.actions){let w=f.actions[h];'string'==typeof w&&(w=[w]);for(let C of w)f.keystrokeHandler.set(C,(T,P)=>{this[h](),P()})}}get first(){return this.focusables.find(d)||null}get last(){return this.focusables.filter(d).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let f=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((h,w)=>{const C=h.element===this.focusTracker.focusedElement;return C&&(f=w),C}),f)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(f){f&&f.focus()}_getFocusableItem(f){const h=this.current,w=this.focusables.length;if(!w||null===h)return null;let C=(h+w+f)%w;do{let T=this.focusables.get(C);if(d(T))return T;C=(C+w+f)%w}while(C!==h);return null}}r.a=u},function(o,r,s){'use strict';function d(P){return P.every(S=>'string'==typeof S)}var u=s(0),f=s(31),h=s(76),w=s(4),C=s(9);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class T extends h.a{constructor(P){super({idProperty:'viewUid'}),this.on('add',(S,O,E)=>{O.element&&this._parentElement&&this._parentElement.insertBefore(O.element,this._parentElement.children[E])}),this.on('remove',(S,O)=>{O.element&&this._parentElement&&O.element.remove()}),this.locale=P,this.set('ready',!1),this._parentElement=null,this._boundItemsToViewsMap=new Map}init(){if(this.ready)throw new u.a('ui-viewcollection-init-reinit: This ViewCollection has already been initialized.');return Promise.all(this.map(P=>P.init())).then(()=>{this.ready=!0})}destroy(){let P=[];for(let S of this)P.push(S.destroy());return Promise.all(P)}add(P,S){super.add(P,S);let O=Promise.resolve();return this.ready&&!P.ready&&(O=O.then(()=>{return P.init()})),O}setParent(P){this._parentElement=P}bindTo(P){return{as:S=>{let O=S.prototype instanceof C.a?E=>{const V=new S(this.locale,E);return this._boundItemsToViewsMap.set(E,V),V}:E=>{const V=S(E);return this._boundItemsToViewsMap.set(E,V),V};for(let E of P)this.add(O(E));this.listenTo(P,'add',(E,V,R)=>{this.add(O(V),R)}),this.listenTo(P,'remove',(E,V)=>{this.remove(this._boundItemsToViewsMap.get(V)),this._boundItemsToViewsMap.delete(V)})}}}delegate(...P){if(!P.length||!d(P))throw new u.a('ui-viewcollection-delegate-wrong-events: All event names must be strings.');return{to:S=>{for(let O of this)for(let E of P)O.delegate(E).to(S);this.on('add',(O,E)=>{for(let V of P)E.delegate(V).to(S)}),this.on('remove',(O,E)=>{for(let V of P)E.stopDelegating(V,S)})}}}}r.a=T,s.i(w.a)(h.a,f.a)},function(o,r,s){'use strict';function d(w,C){let T=u([w],C);T.sort((P,S)=>P.start.isBefore(S.start)?-1:1);for(let P=1;P<T.length;P++){let S=T[P-1],O=T[P];S.end.isTouching(O.start)&&(S.end=O.end,T.splice(P,1),P--)}return T}function u(w,C){for(let T of C)for(let P of T.operations)for(let S=0;S<w.length;S++){let O;switch(P.type){case'insert':O=w[S]._getTransformedByInsertion(P.position,P.nodes.maxOffset,!0);break;case'move':case'remove':case'reinsert':O=w[S]._getTransformedByMove(P.sourcePosition,P.targetPosition,P.howMany,!0);}O&&(w.splice(S,1,...O),S=S+O.length-1)}return w}var f=s(20);r.b=u;/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h extends f.a{constructor(w){super(w),this._stack=[],this._createdBatches=new WeakSet,this.refreshState()}addBatch(w){const C={ranges:Array.from(this.editor.document.selection.getRanges()),isBackward:this.editor.document.selection.isBackward};this._stack.push({batch:w,selection:C}),this.refreshState()}clearStack(){this._stack=[],this.refreshState()}_checkEnabled(){return 0<this._stack.length}_restoreSelection(w,C,T){const P=this.editor.document,S=[];for(let O of w){const E=d(O,T),V=E.find(R=>R.start.root!=P.graveyard);V&&S.push(V)}S.length&&P.selection.setRanges(S,C)}}r.a=h},function(o,r,s){'use strict';function d(T){var P=-1,S=T?T.length:0;for(this.clear();++P<S;){var O=T[P];this.set(O[0],O[1])}}var u=s(472),f=s(473),h=s(474),w=s(475),C=s(476);d.prototype.clear=u.a,d.prototype['delete']=f.a,d.prototype.get=h.a,d.prototype.has=w.a,d.prototype.set=C.a,r.a=d},function(o,r,s){'use strict';function d(P){this.__data__=new u.a(P)}var u=s(78),f=s(481),h=s(482),w=s(483),C=s(484),T=s(485);d.prototype.clear=f.a,d.prototype['delete']=h.a,d.prototype.get=w.a,d.prototype.has=C.a,d.prototype.set=T.a,r.a=d},function(o,r,s){'use strict';var d=s(30),u=d.a.Symbol;r.a=u},function(o,r,s){'use strict';var u=s(127);r.a=function(f,h){return!!f.length&&-1<s.i(u.a)(f,h,0)}},function(o,r){'use strict';r.a=function(u,f,h){for(var w=-1,C=u.length;++w<C;)if(h(f,u[w]))return!0;return!1}},function(o,r,s){'use strict';var u=s(85),f=s(49),h=s(50);r.a=function(w,C){C=s.i(f.a)(C,w)?[C]:s.i(u.a)(C);for(var T=0,P=C.length;null!=w&&T<P;)w=w[s.i(h.a)(C[T++])];return T&&T==P?w:void 0}},function(o,r,s){'use strict';var u=s(207);r.a=function(f,h,w){if(h!==h)return s.i(u.a)(f,w);for(var C=w-1,T=f.length;++C<T;)if(f[C]===h)return C;return-1}},function(o,r,s){'use strict';var u=s(79),f=s(124),h=s(125),w=s(27),C=s(133),T=s(135),P=Math.min;r.a=function(S,O,E){for(var V=E?h.a:f.a,R=S[0].length,F=S.length,N=F,M=Array(F),L=Infinity,I=[],D;N--;)D=S[N],N&&O&&(D=s.i(w.a)(D,s.i(C.a)(O))),L=P(D.length,L),M[N]=!E&&(O||120<=R&&120<=D.length)?new u.a(N&&D):void 0;D=S[0];var q=-1,z=M[0];outer:for(;++q<R&&I.length<L;){var $=D[q],K=O?O($):$;if($=E||0!==$?$:0,z?!s.i(T.a)(z,K):!V(I,K,E)){for(N=F;--N;){var U=M[N];if(U?!s.i(T.a)(U,K):!V(S[N],K,E))continue outer}z&&z.push(K),I.push($)}}return I}},function(o,r,s){'use strict';function d(w,C,T,P,S){return!(w!==C)||(null!=w&&null!=C&&(s.i(f.a)(w)||s.i(h.a)(C))?s.i(u.a)(w,C,d,T,P,S):w!==w&&C!==C)}var u=s(426),f=s(13),h=s(43);r.a=d},function(o,r){'use strict';r.a=function(u){return function(f){return null==f?void 0:f[u]}}},function(o,r,s){'use strict';var u=s(27),f=s(127),h=s(425),w=s(133),C=Array.prototype,T=C.splice;r.a=function(P,S,O,E){var V=E?h.a:f.a,R=-1,F=S.length,N=P;for(O&&(N=s.i(u.a)(P,s.i(w.a)(O)));++R<F;)for(var M=0,L=S[R],I=O?O(L):L;-1<(M=V(N,I,M,E));)N!==P&&T.call(N,M,1),T.call(P,M,1);return P}},function(o,r,s){'use strict';var u=s(44),w=Math.floor,C=Math.min;r.a=function(T,P,S,O){P=S(P);for(var E=0,V=T?T.length:0,R=P!==P,F=null===P,N=s.i(u.a)(P),M=void 0===P;E<V;){var L=w((E+V)/2),I=S(T[L]),D=I!==void 0,q=null===I,z=I===I,$=s.i(u.a)(I);if(R)var K=O||z;else K=M?z&&(O||D):F?z&&D&&(O||!q):N?z&&D&&!q&&(O||!$):q||$?!1:O?I<=P:I<P;K?E=L+1:V=L}return C(V,4294967295-1)}},function(o,r){'use strict';r.a=function(u){return function(f){return u(f)}}},function(o,r,s){'use strict';var u=s(81),f=s(62),h=s(42);r.a=function(w,C,T){for(var P=-1,S=w.length,O;++P<S;)O=O?s.i(u.a)(s.i(f.a)(O,w[P],C,T),s.i(f.a)(w[P],O,C,T)):w[P];return O&&O.length?s.i(h.a)(O,C,T):[]}},function(o,r){'use strict';r.a=function(u,f){return u.has(f)}},function(o,r,s){'use strict';var u=s(12);r.a=function(f){return s.i(u.a)(f)?f:[]}},function(o,r,s){'use strict';var u=s(193);r.a=function(f){var h=new f.constructor(f.byteLength);return new u.a(h).set(new u.a(f)),h}},function(o,r,s){'use strict';var u=s(61);r.a=function(f,h,w,C){w||(w={});for(var T=-1,P=h.length;++T<P;){var S=h[T],O=C?C(w[S],f[S],S,w,f):f[S];s.i(u.a)(w,S,O)}return w}},function(o,r){'use strict';var u=Object.getPrototypeOf;r.a=function(f){return u(Object(f))}},function(o,r,s){'use strict';function d(z){return N.call(z)}var u=s(409),f=s(191),h=s(411),w=s(192),C=s(413),T=s(210),P='[object Map]',O='[object Promise]',E='[object Set]',V='[object WeakMap]',R='[object DataView]',F=Object.prototype,N=F.toString,M=s.i(T.a)(u.a),L=s.i(T.a)(f.a),I=s.i(T.a)(h.a),D=s.i(T.a)(w.a),q=s.i(T.a)(C.a);(u.a&&d(new u.a(new ArrayBuffer(1)))!=R||f.a&&d(new f.a)!=P||h.a&&d(h.a.resolve())!=O||w.a&&d(new w.a)!=E||C.a&&d(new C.a)!=V)&&(d=function(z){var $=N.call(z),K=$=='[object Object]'?z.constructor:void 0,U=K?s.i(T.a)(K):void 0;if(U)switch(U){case M:return R;case L:return P;case I:return O;case D:return E;case q:return V;}return $}),r.a=d},function(o,r){'use strict';r.a=function(u){var f=-1,h=Array(u.size);return u.forEach(function(w,C){h[++f]=[C,w]}),h}},function(o,r,s){'use strict';var u=s(34),f=s(14);r.a=function(h,w,C){var T=h?h.length:0;return T?(w=C||void 0===w?1:s.i(f.a)(w),s.i(u.a)(h,0>w?0:w,T)):[]}},function(o,r,s){'use strict';var u=s(34),f=s(14);r.a=function(h,w,C){var T=h?h.length:0;return T?(w=C||void 0===w?1:s.i(f.a)(w),w=T-w,s.i(u.a)(h,0,0>w?0:w)):[]}},function(o,r){'use strict';r.a=function(u){return u&&u.length?u[0]:void 0}},function(o,r,s){'use strict';var u=s(12),h=Object.prototype,w=h.hasOwnProperty,C=h.toString,T=h.propertyIsEnumerable;r.a=function(P){return s.i(u.a)(P)&&w.call(P,'callee')&&(!T.call(P,'callee')||C.call(P)=='[object Arguments]')}},function(o,r,s){'use strict';var u=s(13),w=Object.prototype,C=w.toString;r.a=function(T){var P=s.i(u.a)(T)?C.call(T):'';return P=='[object Function]'||P=='[object GeneratorFunction]'}},function(o,r,s){'use strict';var u=s(11),f=s(43),w=Object.prototype,C=w.toString;r.a=function(T){return'string'==typeof T||!s.i(u.a)(T)&&s.i(f.a)(T)&&C.call(T)=='[object String]'}},function(o,r,s){'use strict';var u=s(131);r.a=function(f,h){return f&&f.length&&h&&h.length?s.i(u.a)(f,h):f}},function(o,r,s){'use strict';var u=s(194),f=s(27),h=s(96);r.a=function(w,C){if(!(w&&w.length))return[];var T=s.i(h.a)(w);return null==C?T:s.i(f.a)(T,function(P){return s.i(u.a)(C,void 0,P)})}},function(o,r,s){'use strict';var u=s(95),f=s(273);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=function(h){return s.i(u.a)(h)?s.i(f.a)(h):new Map(h)}},function(o,r,s){'use strict';var d=s(6),u=s(3),f=s(186),h=s(40),w=s(174);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class C extends u.a{constructor(T){super(T),T.config.set('image.defaultToolbar',[]),this.isEnabled=!0}afterInit(){const T=this.editor,P=T.config.get('image.toolbar')||T.config.get('image.defaultToolbar');if(P.length){const S=this._panel=new w.a(T),O=[],E=new f.a;d.a.extend(S.template,{attributes:{class:['ck-toolbar__container']}}),O.push(S.content.add(E));for(let V of P)O.push(E.items.add(T.ui.componentFactory.create(V)));return O.push(T.ui.view.body.add(S)),this.listenTo(this.editor.editing.view,'render',()=>{this.isEnabled&&this.show()},{priority:'low'}),this.listenTo(T.ui.focusTracker,'change:isFocused',(V,R,F,N)=>{!N&&F&&this.isEnabled&&this.show()}),Promise.all(O)}}show(){const T=this.editor.editing.view.selection.getSelectedElement();T&&s.i(h.a)(T)&&this._panel.attach()}hide(){this._panel.detach()}}r.a=C},function(o,r,s){'use strict';function d(L,I,D,q,z){if(q.test(D.input)&&L.schema.check({name:'paragraph',inside:D.context})){const $=new C.a('paragraph');M.add($),D.context.push($);const K=z.convertItem(D.input,q,D);K&&(D.output=$,$.appendChildren(K)),D.context.pop()}}function u(L,I,D,q,z){if(N.paragraphLikeElements.has(D.input.name)&&q.test(D.input,{name:!0})&&!h(D.input)&&L.schema.check({name:'paragraph',inside:D.context})){q.consume(D.input,{name:!0});const $=new C.a('paragraph');D.context.push($);const K=z.convertChildren(D.input,q,D);$.appendChildren(E.a.normalizeNodes(K)),D.context.pop(),D.output=$}}function f(L,I){if(I.output){let D;for(D=s.i(F.a)(I.output)?I.output[0]:I.output.getChild(0);D&&D.nextSibling;){const q=D.nextSibling;M.has(D)&&M.has(q)?(E.a.insert(T.a.createAt(D,'end'),Array.from(q.getChildren())),E.a.remove(P.a.createOn(q))):D=D.nextSibling}}}function h(L){const I=O.a.createIn(L);for(const D of I)if(D.item instanceof S.a&&N.paragraphLikeElements.has(D.item.name))return!0;return!1}var w=s(3),C=s(5),T=s(1),P=s(2),S=s(17),O=s(33),E=s(29),V=s(45),R=s(54),F=s(11);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class N extends w.a{init(){const L=this.editor,I=L.document,D=L.data,q=L.editing;I.schema.registerItem('paragraph','$block'),s.i(V.a)().for(D.modelToView,q.modelToView).fromElement('paragraph').toElement('p'),s.i(R.a)().for(D.viewToModel).fromElement('p').toElement('paragraph'),D.viewToModel.on('text',(z,$,K,U)=>{d(I,z,$,K,U)},{priority:'lowest'}),D.viewToModel.on('element',f,{priority:'lowest'}),D.viewToModel.on('documentFragment',f,{priority:'lowest'}),D.viewToModel.on('element',(z,$,K,U)=>{u(I,z,$,K,U)},{priority:'low'})}}r.a=N,N.paragraphLikeElements=new Set(['blockquote','dd','div','dt','h1','h2','h3','h4','h5','h6','li','p','td']);const M=new WeakSet},function(o){o.exports=function(s){if(!s.webpackPolyfill){var d=Object.create(s);d.children||(d.children=[]),Object.defineProperty(d,'loaded',{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,'id',{enumerable:!0,get:function(){return d.i}}),Object.defineProperty(d,'exports',{enumerable:!0}),d.webpackPolyfill=1}return d}},function(o,r,s){'use strict';var d=s(3),u=s(45),f=s(54),h=s(157);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const w='bold';class C extends d.a{init(){const T=this.editor,P=T.data,S=T.editing;T.document.schema.allow({name:'$inline',attributes:[w]}),s.i(u.a)().for(P.modelToView,S.modelToView).fromAttribute(w).toElement('strong'),s.i(f.a)().for(P.viewToModel).fromElement('strong').fromElement('b').fromAttribute('style',{'font-weight':'bold'}).toAttribute(w,!0),T.commands.set(w,new h.a(T,w))}}r.a=C},function(o,r,s){'use strict';var d=s(3),u=s(45),f=s(54),h=s(157);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const w='italic';class C extends d.a{init(){const T=this.editor,P=T.data,S=T.editing;T.document.schema.allow({name:'$inline',attributes:[w]}),s.i(u.a)().for(P.modelToView,S.modelToView).fromAttribute(w).toElement('em'),s.i(f.a)().for(P.viewToModel).fromElement('em').fromElement('i').fromAttribute('style',{'font-style':'italic'}).toAttribute(w,!0),T.commands.set(w,new h.a(T,w))}}r.a=C},function(o,r,s){'use strict';var u=s(55);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=function(f,h,w){if(h.isCollapsed)return w.check({name:'$text',inside:h.getFirstPosition(),attributes:f});const C=h.getRanges();for(let T of C){const P=new u.a({boundaries:T,mergeCharacters:!0});for(let S=P.position,O=P.next();!O.done;){const E=O.value.item.name||'$text';if(w.check({name:E,inside:S,attributes:f}))return!0;S=P.position,O=P.next()}}return!1}},function(o,r,s){'use strict';var d=s(20),u=s(97),f=s(156);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h extends d.a{constructor(w,C){super(w),this.attributeKey=C,this.set('value',!1),this.listenTo(this.editor.document.selection,'change:attribute',()=>{this.value=this.editor.document.selection.hasAttribute(this.attributeKey)})}_checkEnabled(){const w=this.editor.document;return s.i(f.a)(this.attributeKey,w.selection,w.schema)}_doExecute(w={}){const C=this.editor.document,T=C.selection,P=w.forceValue===void 0?!this.value:w.forceValue;C.enqueueChanges(()=>{if(T.isCollapsed)P?T.setAttribute(this.attributeKey,!0):T.removeAttribute(this.attributeKey);else{const S=s.i(u.a)(this.attributeKey,T.getRanges(),C.schema),O=w.batch||C.batch();for(let E of S)P?O.setAttribute(E,this.attributeKey,P):O.removeAttribute(E,this.attributeKey)}})}}r.a=h},function(o,r,s){'use strict';var d=s(1),u=s(2),f=s(25),h=s(33),w=s(18),C=s(7),T=s(4);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class P{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map}bindElements(S,O){this._modelToViewMapping.set(S,O),this._viewToModelMapping.set(O,S)}unbindViewElement(S){const O=this.toModelElement(S);this._unbindElements(O,S)}unbindModelElement(S){const O=this.toViewElement(S);this._unbindElements(S,O)}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap}toModelElement(S){return this._viewToModelMapping.get(S)}toViewElement(S){return this._modelToViewMapping.get(S)}toModelRange(S){return new u.a(this.toModelPosition(S.start),this.toModelPosition(S.end))}toViewRange(S){return new h.a(this.toViewPosition(S.start),this.toViewPosition(S.end))}toModelPosition(S){const O={viewPosition:S,modelPosition:this._defaultToModelPosition(S),mapper:this};return this.fire('viewToModelPosition',O),O.modelPosition}_defaultToViewPosition(S){let O=this._modelToViewMapping.get(S.parent);return this._findPositionIn(O,S.offset)}toViewPosition(S){const O={viewPosition:this._defaultToViewPosition(S),modelPosition:S,mapper:this};return this.fire('modelToViewPosition',O),O.viewPosition}_defaultToModelPosition(S){let O=S.parent,E=this._viewToModelMapping.get(O);for(;!E;)O=O.parent,E=this._viewToModelMapping.get(O);let V=this._toModelOffset(S.parent,S.offset,O);return d.a.createFromParentAndOffset(E,V)}registerViewToModelLength(S,O){this._viewToModelLengthCallbacks.set(S,O)}_toModelOffset(S,O,E){if(E!=S){const R=this._toModelOffset(S.parent,S.index,E),F=this._toModelOffset(S,O,S);return R+F}if(S instanceof w.a)return O;let V=0;for(let R=0;R<O;R++)V+=this.getModelLength(S.getChild(R));return V}_unbindElements(S,O){this._viewToModelMapping.delete(O),this._modelToViewMapping.delete(S)}getModelLength(S){if(this._viewToModelMapping.has(S)){const O=this._viewToModelLengthCallbacks.get(S.name);return O?O(S):1}if(S instanceof w.a)return S.data.length;let O=0;for(let E of S.getChildren())O+=this.getModelLength(E);return O}_findPositionIn(S,O){let E,V=0,R=0,F=0;if(S instanceof w.a)return new f.a(S,O);for(;R<O;)E=S.getChild(F),V=this.getModelLength(E),R+=V,F++;return R==O?this._moveViewPositionToTextNode(new f.a(S,F)):this._findPositionIn(E,O-(R-V))}_moveViewPositionToTextNode(S){const O=S.nodeBefore,E=S.nodeAfter;if(O instanceof w.a)return new f.a(O,O.data.length);return E instanceof w.a?new f.a(E,0):S}}r.a=P,s.i(T.a)(P,C.a)},function(o,r,s){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function w(E,V,R,F,N){if(E.isCollapsed&&F.consume(E,N)){let M=V.getFirstPosition();M=O.a.wrapPosition(M,R),V.removeAllRanges(),V.addRange(new S.a(M,M))}}var P=s(17),S=s(33),O=s(116);r.e=function(){return(E,V,R,F)=>{const N=V.selection;if(!N.isCollapsed&&R.consume(N,'selection')){F.viewSelection.removeAllRanges();for(let M of N.getRanges()){const L=F.mapper.toViewRange(M);F.viewSelection.addRange(L,N.isBackward)}}}},r.f=function(){return(E,V,R,F)=>{const N=V.selection;if(N.isCollapsed&&R.consume(N,'selection')){const M=N.getFirstPosition(),L=F.mapper.toViewPosition(M),I=O.a.breakAttributes(L);F.viewSelection.removeAllRanges(),F.viewSelection.addRange(new S.a(I,I))}}},r.a=function(E){return(V,R,F,N)=>{const M=E instanceof P.a?E.clone(!0):E(R.value,R,R.selection,F,N),L='selectionAttribute:'+R.key;w(R.selection,N.viewSelection,M,F,L)}},r.b=function(E){return(V,R,F,N)=>{const M=E instanceof P.a?E.clone(!0):E(R,F,N),L='selectionMarker:'+R.name;w(R.selection,N.viewSelection,M,F,L)}},r.c=function(){return(E,V,R,F)=>{for(let N of F.viewSelection.getRanges())N.isCollapsed&&N.end.parent.document&&O.a.mergeAttributes(N.start);F.viewSelection.removeAllRanges()}},r.d=function(){return(E,V,R,F)=>F.viewSelection.setFake(!1)}},function(o,r,s){'use strict';var d=s(326),u=s(2),f=s(38),h=s(7),w=s(4),C=s(52);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class T{constructor(P={}){this.conversionApi=s.i(C.a)({dispatcher:this},P)}convertChange(P,S){'remove'!==P&&S.range&&'$graveyard'==S.range.root.rootName||'remove'==P&&'$graveyard'==S.sourcePosition.root.rootName||'rename'==P&&'$graveyard'==S.element.root.rootName||('insert'==P||'reinsert'==P?this.convertInsertion(S.range):'move'==P?this.convertMove(S.sourcePosition,S.range):'remove'==P?this.convertRemove(S.sourcePosition,S.range):'addAttribute'==P||'removeAttribute'==P||'changeAttribute'==P?this.convertAttribute(P,S.range,S.key,S.oldValue,S.newValue):'rename'==P&&this.convertRename(S.element,S.oldName))}convertInsertion(P){const S=this._createInsertConsumable(P);for(let O of P){const E=O.item,V=u.a.createFromPositionAndShift(O.previousPosition,O.length),R={item:E,range:V};this._testAndFire('insert',R,S);for(let F of E.getAttributeKeys())R.attributeKey=F,R.attributeOldValue=null,R.attributeNewValue=E.getAttribute(F),this._testAndFire('addAttribute:'+F,R,S)}}convertMove(P,S){const O=this._createConsumableForRange(S,'move'),E=Array.from(S.getItems({shallow:!0})),V=P.parent==S.start.parent,R=S.start.isAfter(P);let F=0;for(let N of E){const M={sourcePosition:P,targetPosition:V&&R?S.end:S.start.getShiftedBy(F),item:N};F+=M.item.offsetSize,this._testAndFire('move',M,O)}}convertRemove(P,S){const O=this._createConsumableForRange(S,'remove');for(let E of S.getItems({shallow:!0})){this._testAndFire('remove',{sourcePosition:P,item:E},O)}}convertAttribute(P,S,O,E,V){const R=this._createConsumableForRange(S,P+':'+O);for(let F of S){const N=F.item,M=u.a.createFromPositionAndShift(F.previousPosition,F.length);this._testAndFire(P+':'+O,{item:N,range:M,attributeKey:O,attributeOldValue:E,attributeNewValue:V},R,this.conversionApi)}}convertRename(P,S){const O=new d.a;O.add(P,'rename');this.fire('rename:'+P.name+':'+S,{element:P,oldName:S},O,this.conversionApi)}convertSelection(P,S){const O=this._createSelectionConsumable(P,S);this.fire('selection',{selection:P},O,this.conversionApi);for(let E of S){const V={selection:P,name:E.name};O.test(P,'selectionMarker:'+E.name)&&this.fire('selectionMarker:'+E.name,V,O,this.conversionApi)}for(let E of P.getAttributeKeys()){const V={selection:P,key:E,value:P.getAttribute(E)};O.test(P,'selectionAttribute:'+V.key)&&this.fire('selectionAttribute:'+V.key,V,O,this.conversionApi)}}convertMarker(P,S,O){if(O.root.document&&'$graveyard'!=O.root.rootName){const E=this._createMarkerConsumable(P,O);this.fire(P+':'+S,{name:S,range:O},E,this.conversionApi)}}_createInsertConsumable(P){const S=new d.a;for(let O of P){const E=O.item;S.add(E,'insert');for(let V of E.getAttributeKeys())S.add(E,'addAttribute:'+V)}return S}_createConsumableForRange(P,S){const O=new d.a;for(let E of P.getItems())O.add(E,S);return O}_createSelectionConsumable(P,S){const O=new d.a;O.add(P,'selection');for(let E of S)O.add(P,'selectionMarker:'+E.name);for(let E of P.getAttributeKeys())O.add(P,'selectionAttribute:'+E);return O}_createMarkerConsumable(P,S){const O=new d.a;return O.add(S,P),O}_testAndFire(P,S,O){if(O.test(S.item,P))if('insert'===P||'remove'===P||'move'==P)S.item instanceof f.a?this.fire(P+':$text',S,O,this.conversionApi):this.fire(P+':'+S.item.name,S,O,this.conversionApi);else{const E=S.item.name||'$text';this.fire(P+':'+E,S,O,this.conversionApi)}}}r.a=T,s.i(w.a)(T,h.a)},function(o,r,s){'use strict';var d=s(331),u=s(166),f=s(56);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=class{constructor(){this._domParser=new DOMParser,this._domConverter=new u.a({blockFiller:f.a}),this._htmlWriter=new d.a}toData(w){const C=this._domConverter.viewToDom(w,document);return this._htmlWriter.getHtml(C)}toView(w){const C=this._toDom(w);return this._domConverter.domToView(C)}_toDom(w){const C=this._domParser.parseFromString(w,'text/html'),T=C.createDocumentFragment(),P=C.body.childNodes;for(;0<P.length;)T.appendChild(P[0]);return T}}},function(o,r,s){'use strict';function d(N,M,L,I){I instanceof O.a?f(N,N.document,M,L,I):u(N,N.document,M,L,I)}function u(N,M,L,I,D){const q=D.getAttribute(L);let z,$;const K=D instanceof E.a?new F:new R;N.addDelta(K),q!=I&&(D instanceof E.a?$=new P.a(D,L,q,I,M.version):(z=D instanceof V.a?new O.a(S.a.createBefore(D),S.a.createFromParentAndOffset(D,0)):new O.a(S.a.createBefore(D),S.a.createAfter(D)),$=new T.a(z,L,q,I,M.version)),K.addOperation($),M.applyOperation($))}function f(N,M,L,I,D){function q(){let W=new O.a($,K);const Z=new T.a(W,L,U,I,M.version);z.addOperation(Z),M.applyOperation(Z)}const z=new R;N.addDelta(z);let $=D.start,K,U,H;for(let W of D)H=W.item.getAttribute(L),K&&U!=H&&(U!=I&&q(),$=K),K=W.nextPosition,U=H;K instanceof S.a&&K!=$&&U!=I&&q()}var h=s(21),w=s(16),C=s(15),T=s(70),P=s(111),S=s(1),O=s(2),E=s(72),V=s(5);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class R extends h.a{get key(){return this.operations[0]?this.operations[0].key:null}get value(){return this.operations[0]?this.operations[0].newValue:null}get range(){if(this._range)return this._range;let N=null,M=null;for(let L of this.operations)(null==N||N.isAfter(L.range.start))&&(N=L.range.start),(null==M||M.isBefore(L.range.end))&&(M=L.range.end);return N&&M?(this._range=new O.a(N,M),this._range):null}get _reverseDeltaClass(){return R}static get className(){return'engine.model.delta.AttributeDelta'}static get _priority(){return 20}}r.a=R;class F extends h.a{static get className(){return'engine.model.delta.RootAttributeDelta'}}s.i(C.b)('setAttribute',function(N,M,L){return d(this,M,L,N),this}),s.i(C.b)('removeAttribute',function(N,M){return d(this,M,null,N),this}),w.a.register(R),w.a.register(F)},function(o,r,s){'use strict';function d(O,E,V){E.addOperation(V),O.document.applyOperation(V)}var u=s(21),f=s(16),h=s(15),w=s(110),C=s(5),T=s(1),P=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class S extends u.a{get _reverseDeltaClass(){return S}static get className(){return'engine.model.delta.RenameDelta'}}r.a=S,s.i(h.b)('rename',function(O,E){if(!(O instanceof C.a))throw new P.a('batch-rename-not-element-instance: Trying to rename an object which is not an instance of Element.');const V=new S;return this.addDelta(V),d(this,V,new w.a(T.a.createBefore(O),O.name,E,this.document.version)),this}),f.a.register(S)},function(o,r,s){'use strict';var d=s(99),u=s(15),f=s(16),h=s(36),w=s(29);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class C extends d.a{static get className(){return'engine.model.delta.WeakInsertDelta'}}r.a=C,s.i(u.b)('weakInsert',function(T,P){const S=new C;this.addDelta(S),P=s.i(w.b)(P);for(let E of P)E.setAttributesTo(this.document.selection.getAttributes());const O=new h.a(T,P,this.document.version);return S.addOperation(O),this.document.applyOperation(O),this}),f.a.register(C)},function(o,r,s){'use strict';function d(){const O=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document,'change',(E,V,R)=>{O.has(V)&&u.call(this,V,R.range,R.sourcePosition)},{priority:'high'})}function u(O,E,V){let R=E.end.offset-E.start.offset,F;switch(O){case'insert':let N='sticksToNext'==this.stickiness;F=this._getTransformedByInsertion(E.start,R,N);break;case'move':case'remove':case'reinsert':let M=w.a.createFromPositionAndShift(V,R),L=M.containsPosition(this)||M.start.isEqual(this)&&'sticksToNext'==this.stickiness||M.end.isEqual(this)&&'sticksToPrevious'==this.stickiness;if(L)F=this._getCombined(V,E.start);else{let I='sticksToNext'==this.stickiness;F=this._getTransformedByMove(V,E.start,R,I)}}if(!this.isEqual(F)){const N=h.a.createFromPosition(this);this.path=F.path,this.root=F.root,this.fire('change',N)}}var f=s(72),h=s(1),w=s(2),C=s(7),T=s(4),P=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class S extends h.a{constructor(O,E,V){if(!(O instanceof f.a))throw new P.a('model-liveposition-root-not-rootelement: LivePosition root has to be an instance of RootElement.');super(O,E),this.stickiness=V||'sticksToNext',d.call(this)}detach(){this.stopListening()}}r.a=S,s.i(T.a)(S,C.a)},function(o,r,s){'use strict';function d(N,M,L){let I=s.i(V.a)(N);return L&&(I=I.slice(I.indexOf(L)+1)),I.some(D=>D.tagName&&M.includes(D.tagName.toLowerCase()))}var u=s(18),f=s(17),h=s(25),w=s(33),C=s(75),T=s(74),P=s(39),S=s(115),O=s(56),E=s(399),V=s(189),R=s(396);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=class{constructor(N={}){this.blockFiller=N.blockFiller||O.b,this.preElements=['pre'],this.blockElements=['p','div','h1','h2','h3','h4','h5','h6'],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(N,M){this._fakeSelectionMapping.set(N,C.a.createFromSelection(M))}fakeSelectionToView(N){return this._fakeSelectionMapping.get(N)}bindElements(N,M){this._domToViewMapping.set(N,M),this._viewToDomMapping.set(M,N)}bindDocumentFragments(N,M){this._domToViewMapping.set(N,M),this._viewToDomMapping.set(M,N)}viewToDom(N,M,L={}){if(N instanceof u.a){const I=this._processDataFromViewText(N);return M.createTextNode(I)}if(this.getCorrespondingDom(N))return this.getCorrespondingDom(N);let I;if(N instanceof T.a)I=M.createDocumentFragment(),L.bind&&this.bindDocumentFragments(I,N);else{I=M.createElement(N.name),L.bind&&this.bindElements(I,N);for(let D of N.getAttributeKeys())I.setAttribute(D,N.getAttribute(D))}if(L.withChildren||void 0===L.withChildren)for(let D of this.viewChildrenToDom(N,M,L))I.appendChild(D);return I}*viewChildrenToDom(N,M,L={}){let I=N.getFillerOffset&&N.getFillerOffset(),D=0;for(let q of N.getChildren())I===D&&(yield this.blockFiller(M)),yield this.viewToDom(q,M,L),D++;I===D&&(yield this.blockFiller(M))}viewRangeToDom(N){const M=this.viewPositionToDom(N.start),L=this.viewPositionToDom(N.end),I=new Range;return I.setStart(M.parent,M.offset),I.setEnd(L.parent,L.offset),I}viewPositionToDom(N){const M=N.parent;if(M instanceof u.a){const L=this.getCorrespondingDomText(M);if(!L)return null;let I=N.offset;return s.i(O.c)(L)&&(I+=O.d),{parent:L,offset:I}}let L,I,D;if(0===N.offset){if(L=this.getCorrespondingDom(N.parent),!L)return null;D=L.childNodes[0]}else{if(I=this.getCorrespondingDom(N.nodeBefore),!I)return null;L=I.parentNode,D=I.nextSibling}if(this.isText(D)&&s.i(O.c)(D))return{parent:D,offset:O.d};const q=I?s.i(E.a)(I)+1:0;return{parent:L,offset:q}}domToView(N,M={}){if(s.i(O.e)(N,this.blockFiller))return null;if(this.isText(N)){if(s.i(O.f)(N))return null;const L=this._processDataFromDomText(N);return''===L?null:new u.a(L)}if(this.getCorrespondingView(N))return this.getCorrespondingView(N);let L;if(this.isDocumentFragment(N))L=new T.a,M.bind&&this.bindDocumentFragments(N,L);else{const I=M.keepOriginalCase?N.tagName:N.tagName.toLowerCase();L=new f.a(I),M.bind&&this.bindElements(N,L);const D=N.attributes;for(let q=D.length-1;0<=q;q--)L.setAttribute(D[q].name,D[q].value)}if(M.withChildren||void 0===M.withChildren)for(let I of this.domChildrenToView(N,M))L.appendChildren(I);return L}*domChildrenToView(N,M={}){for(let L=0;L<N.childNodes.length;L++){const I=N.childNodes[L],D=this.domToView(I,M);null!==D&&(yield D)}}domSelectionToView(N){if(1===N.rangeCount){let I=N.getRangeAt(0).startContainer;this.isText(I)&&(I=I.parentNode);const D=this.fakeSelectionToView(I);if(D)return D}const M=new C.a,L=this.isDomSelectionBackward(N);for(let I=0;I<N.rangeCount;I++){const D=N.getRangeAt(I),q=this.domRangeToView(D);q&&M.addRange(q,L)}return M}domRangeToView(N){const M=this.domPositionToView(N.startContainer,N.startOffset),L=this.domPositionToView(N.endContainer,N.endOffset);return M&&L?new w.a(M,L):null}domPositionToView(N,M){if(s.i(O.e)(N,this.blockFiller))return this.domPositionToView(N.parentNode,s.i(E.a)(N));if(this.isText(N)){if(s.i(O.f)(N))return this.domPositionToView(N.parentNode,s.i(E.a)(N));const L=this.getCorrespondingViewText(N);let I=M;return L?(s.i(O.c)(N)&&(I-=O.d,I=0>I?0:I),new h.a(L,I)):null}if(0===M){const L=this.getCorrespondingView(N);if(L)return new h.a(L,0)}else{const L=this.getCorrespondingView(N.childNodes[M-1]);if(L&&L.parent)return new h.a(L.parent,L.index+1)}return null}getCorrespondingView(N){if(this.isElement(N))return this.getCorrespondingViewElement(N);return this.isDocumentFragment(N)?this.getCorrespondingViewDocumentFragment(N):this.isText(N)?this.getCorrespondingViewText(N):null}getCorrespondingViewElement(N){return this._domToViewMapping.get(N)}getCorrespondingViewDocumentFragment(N){return this._domToViewMapping.get(N)}getCorrespondingViewText(N){if(s.i(O.f)(N))return null;const M=N.previousSibling;if(M){if(!this.isElement(M))return null;const L=this.getCorrespondingViewElement(M);if(L){const I=L.nextSibling;return I instanceof u.a?L.nextSibling:null}}else{const L=this.getCorrespondingViewElement(N.parentNode);if(L){const I=L.getChild(0);return I instanceof u.a?I:null}}return null}getCorrespondingDom(N){if(N instanceof f.a)return this.getCorrespondingDomElement(N);return N instanceof T.a?this.getCorrespondingDomDocumentFragment(N):N instanceof u.a?this.getCorrespondingDomText(N):null}getCorrespondingDomElement(N){return this._viewToDomMapping.get(N)}getCorrespondingDomDocumentFragment(N){return this._viewToDomMapping.get(N)}getCorrespondingDomText(N){const M=N.previousSibling;return M&&this.getCorrespondingDom(M)?this.getCorrespondingDom(M).nextSibling:!M&&N.parent&&this.getCorrespondingDom(N.parent)?this.getCorrespondingDom(N.parent).childNodes[0]:null}focus(N){const M=this.getCorrespondingDomElement(N);M&&M.ownerDocument.activeElement!==M&&M.focus()}isText(N){return N&&N.nodeType==Node.TEXT_NODE}isElement(N){return N&&N.nodeType==Node.ELEMENT_NODE}isDocumentFragment(N){return N&&N.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isDomSelectionBackward(N){if(N.isCollapsed)return!1;const M=new Range;M.setStart(N.anchorNode,N.anchorOffset),M.setEnd(N.focusNode,N.focusOffset);const L=M.collapsed;return M.detach(),L}_processDataFromViewText(N){let M=N.data;if(N.getAncestors().some(z=>this.preElements.includes(z.name)))return M;const L=this._getTouchingViewTextNode(N,!1),I=this._getTouchingViewTextNode(N,!0);let D=M.match(/ *$/)[0],q=M.substr(0,M.length-D.length);if(L&&' '!=L.data.charAt(L.data.length-1)||(q=q.replace(/^ /,'\xA0')),q=q.replace(/  /g,' \xA0'),0<D.length){let z=!1;I?(' '==I.data.charAt(0)||'\xA0'==I.data.charAt(0))&&0==D.length%2&&(z=!0):D.length%2&&(z=!0),z&&(D='\xA0'+D.substr(0,D.length-1)),D=D.replace(/  /g,' \xA0')}return q+D}_getTouchingViewTextNode(N,M){if(!N.parent)return null;const L=new S.a({startPosition:M?h.a.createAfter(N):h.a.createBefore(N),direction:M?'forward':'backward'});for(let I of L){if(I.item instanceof P.a)return null;if(I.item instanceof u.a)return I.item}return null}_processDataFromDomText(N){let M=s.i(O.g)(N);if(d(N,this.preElements))return M;M=M.replace(/[^\S\u00A0]{2,}/g,' ');const L=this._getTouchingDomTextNode(N,!1),I=this._getTouchingDomTextNode(N,!0);return(!L||/[^\S\u00A0]/.test(L.data.charAt(L.data.length-1)))&&(M=M.replace(/^ /,'')),I||(M=M.replace(/ $/,'')),M=M.replace(/ \u00A0/g,'  '),(!L||/[^\S\u00A0]/.test(L.data.charAt(L.data.length-1)))&&(M=M.replace(/^\u00A0/,' ')),I&&'\xA0'!=I.data.charAt(0)||(M=M.replace(/\u00A0( *)$/,' $1')),M}_getTouchingDomTextNode(N,M){if(!N.parentNode)return null;const L=M?'nextNode':'previousNode',I=N.ownerDocument,D=I.createTreeWalker(I.childNodes[0],NodeFilter.SHOW_TEXT);D.currentNode=N;const q=D[L]();if(null!==q){const z=s.i(R.a)(N,q);if(z&&!d(N,this.blockElements,z)&&!d(q,this.blockElements,z))return q}return null}}},function(o,r,s){'use strict';var d=s(39),u=s(0),f=s(4),h=s(31);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const w=Symbol('document');class C extends d.a{constructor(T,P,S){super(T,P,S),this.set('isReadOnly',!1),this.set('isFocused',!1)}get document(){return this.getCustomProperty(w)}set document(T){if(this.getCustomProperty(w))throw new u.a('view-editableelement-document-already-set: View document is already set.');this.setCustomProperty(w,T),this.bind('isFocused').to(T,'isFocused',P=>P&&T.selection.editableElement==this),this.listenTo(T,'render',()=>{this.isFocused=T.isFocused&&T.selection.editableElement==this},{priority:'high'})}}r.a=C,s.i(f.a)(C,h.a)},function(o,r,s){'use strict';function d(){return null}var u=s(17),f=s(0),h=s(113);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class w extends u.a{constructor(C,T,P){super(C,T,P),this.getFillerOffset=d}insertChildren(C,T){if(T&&(T instanceof h.a||0<Array.from(T).length))throw new f.a('view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.')}}r.a=w},function(o,r){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function d(T,P){if('function'==typeof P)return P(T);const S={};return P.name&&(S.name=u(P.name,T.name),!S.name)?null:P.attribute&&(S.attribute=f(P.attribute,T),!S.attribute)?null:P.class&&(S.class=h(P.class,T),!S.class)?!1:P.style&&(S.style=w(P.style,T),!S.style)?!1:S}function u(T,P){return T instanceof RegExp?T.test(P):T===P}function f(T,P){const S=[];for(let O in T){const E=T[O];if(P.hasAttribute(O)){const V=P.getAttribute(O);if(E instanceof RegExp){if(E.test(V))S.push(O);else return null;}else if(V===E)S.push(O);else return null}else return null}return S}function h(T,P){const S=[];for(let O of T)if(O instanceof RegExp){const E=P.getClassNames();for(let V of E)O.test(V)&&S.push(V);if(0===S.length)return null}else if(P.hasClass(O))S.push(O);else return null;return S}function w(T,P){const S=[];for(let O in T){const E=T[O];if(P.hasStyle(O)){const V=P.getStyle(O);if(E instanceof RegExp){if(E.test(V))S.push(O);else return null;}else if(V===E)S.push(O);else return null}else return null}return S}r.a=class{constructor(...T){this._patterns=[],this.add(...T)}add(...T){for(let P of T)('string'==typeof P||P instanceof RegExp)&&(P={name:P}),P.class&&('string'==typeof P.class||P.class instanceof RegExp)&&(P.class=[P.class]),this._patterns.push(P)}match(...T){for(let P of T)for(let S of this._patterns){const O=d(P,S);if(O)return{element:P,pattern:S,match:O}}return null}matchAll(...T){const P=[];for(let S of T)for(let O of this._patterns){const E=d(S,O);E&&P.push({element:S,pattern:O,match:E})}return 0<P.length?P:null}getElementName(){return 1==this._patterns.length&&this._patterns[0].name&&!(this._patterns[0].name instanceof RegExp)?this._patterns[0].name:null}}},function(o,r,s){'use strict';var d=s(46),u=s(75),f=s(56);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h extends d.a{constructor(w){super(w),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=w.domConverter,this.renderer=w.renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(w){this._domElements.push(w),this.isEnabled&&this._mutationObserver.observe(w,this._config)}enable(){super.enable();for(let w of this._domElements)this._mutationObserver.observe(w,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(w){if(0!==w.length){const C=this.domConverter,T=new Map,P=new Set;for(let V of w)if('childList'===V.type){const R=C.getCorrespondingViewElement(V.target);R&&P.add(R)}for(let V of w)if('characterData'===V.type){const R=C.getCorrespondingViewText(V.target);R&&!P.has(R.parent)?T.set(R,{type:'text',oldText:R.data,newText:s.i(f.g)(V.target),node:R}):!R&&s.i(f.c)(V.target)&&P.add(C.getCorrespondingViewElement(V.target.parentNode))}const S=[];for(let V of T.values())this.renderer.markToSync('text',V.node),S.push(V);for(let V of P){const R=C.getCorrespondingDomElement(V),F=V.getChildren(),N=C.domChildrenToView(R);this.renderer.markToSync('children',V),S.push({type:'children',oldChildren:Array.from(F),newChildren:Array.from(N),node:V})}const O=w[0].target.ownerDocument.getSelection();let E=null;if(O&&O.anchorNode){const V=C.domPositionToView(O.anchorNode,O.anchorOffset),R=C.domPositionToView(O.focusNode,O.focusOffset);V&&R&&(E=new u.a,E.collapse(V),E.setFocus(R))}this.document.fire('mutations',S,E),this.document.render()}}}r.a=h},function(o,r,s){'use strict';var d=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class u{constructor(f,h,w){if(this.textNode=f,0>h||h>f.data.length)throw new d.a('view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>w||h+w>f.data.length)throw new d.a('view-textproxy-wrong-length: Given length value is incorrect.');this.data=f.data.substring(h,h+w),this.offsetInText=h}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(f={includeNode:!1,parentFirst:!1}){const h=[];for(let w=f.includeNode?this.textNode:this.parent;null!==w;)h[f.parentFirst?'push':'unshift'](w),w=w.parent;return h}}r.a=u},function(o,r,s){'use strict';var d=s(3),u=s(45),f=s(54),h=s(152),w=s(353);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const C=[{id:'paragraph',viewElement:'p',label:'Paragraph'},{id:'heading1',viewElement:'h2',label:'Heading 1'},{id:'heading2',viewElement:'h3',label:'Heading 2'},{id:'heading3',viewElement:'h4',label:'Heading 3'}];class T extends d.a{static get requires(){return[h.a]}init(){const P=this.editor,S=P.data,O=P.editing;for(let V of C)'paragraph'!==V.id&&(P.document.schema.registerItem(V.id,'$block'),s.i(u.a)().for(S.modelToView,O.modelToView).fromElement(V.id).toElement(V.viewElement),s.i(f.a)().for(S.viewToModel).fromElement(V.viewElement).toElement(V.id));const E=new w.a(P,C);P.commands.set('heading',E)}afterInit(){const P=this.editor,S=P.commands.get('heading'),O=P.commands.get('enter');O&&this.listenTo(O,'afterExecute',(E,V)=>{const R=P.document.selection.getFirstPosition().parent,F=V.batch,N=C.some(M=>M.id==R.name);N&&R.name!=S.defaultFormat.id&&0===R.childCount&&F.rename(R,S.defaultFormat.id)})}}r.a=T},function(o,r,s){'use strict';function d(){return new T.a('figure',{class:'image'},new P.a('img'))}var u=s(3),f=s(45),h=s(175),w=s(354),C=s(40),T=s(39),P=s(168);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class S extends u.a{static get requires(){return[h.a]}init(){const O=this.editor,E=O.document,V=E.schema,R=O.data,F=O.editing;V.registerItem('image'),V.requireAttributes('image',['src']),V.allow({name:'image',attributes:['alt','src'],inside:'$root'}),V.objects.add('image'),s.i(f.a)().for(R.modelToView).fromElement('image').toElement(()=>d()),s.i(f.a)().for(F.modelToView).fromElement('image').toElement(()=>s.i(C.c)(d())),s.i(w.a)([F.modelToView,R.modelToView],'src'),s.i(w.a)([F.modelToView,R.modelToView],'alt'),R.viewToModel.on('element:figure',s.i(w.b)()),F.modelToView.on('selection',s.i(w.c)(O.t),{priority:'lowest'})}}r.a=S},function(o,r,s){'use strict';var d=s(503),u=s(58),f=s(181),h=s(40);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const w=f.a.arrowVerticalOffset,C={south:(P,S)=>({top:P.bottom+w,left:P.left+P.width/2-S.width/2,name:'s'}),north:(P,S)=>({top:P.top-S.height-w,left:P.left+P.width/2-S.width/2,name:'n'})};class T extends f.a{constructor(P){super(P.locale),this.editor=P;const S=P.editing.view;P.ui.focusTracker.add(this.element),this.listenTo(P.ui.focusTracker,'change:isFocused',(O,E,V,R)=>{R&&!V&&this.detach()}),P.listenTo(S,'render',()=>{const O=S.selection.getSelectedElement();O&&s.i(h.a)(O)||this.detach()},{priority:'low'}),this._throttledAttach=s.i(d.a)(()=>{this._attach()},100)}attach(){this._attach(),this.editor.ui.view.listenTo(u.a.window,'scroll',this._throttledAttach),this.editor.ui.view.listenTo(u.a.window,'resize',this._throttledAttach)}detach(){this.hide(),this.editor.ui.view.stopListening(u.a.window,'scroll',this._throttledAttach),this.editor.ui.view.stopListening(u.a.window,'resize',this._throttledAttach)}_attach(){const P=this.editor.editing.view;this.attachTo({target:P.domConverter.viewRangeToDom(P.selection.getFirstRange()),positions:[C.north,C.south]})}}r.a=T},function(o,r,s){'use strict';var d=s(3),u=s(117);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{init(){let h;this.editor.editing.modelToView.on('selection',(w,C,T,P)=>{h&&h.hasClass(u.c)&&h.removeClass(u.c);const S=P.viewSelection,O=S.getSelectedElement();O&&s.i(u.b)(O)&&(S.setFake(!0),O.addClass(u.c),h=O)},{priority:'low'})}}r.a=f},function(o,r,s){'use strict';function u(w,C,T){let P=w.textNode||(T?w.nodeBefore:w.nodeAfter),S=null;for(;P&&P.getAttribute('linkHref')==C;)S=P,P=T?P.previousSibling:P.nextSibling;return S?h.a.createAt(S,T?'before':'after'):w}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */var f=s(2),h=s(1);r.a=function(w,C){return new f.a(u(w,C,!0),u(w,C,!1))}},function(o,r,s){'use strict';var d=s(112);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class u extends d.a{}r.a=u},function(o,r,s){'use strict';var d=s(3),u=s(369),f=s(368),h=s(367);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class w extends d.a{init(){const C=this.editor,T=C.document.schema;T.registerItem('listItem','$block'),T.allow({name:'listItem',inside:'$root',attributes:['type','indent']}),T.requireAttributes('listItem',['type','indent']);const P=C.data,S=C.editing;S.mapper.on('modelToViewPosition',h.a),S.mapper.on('viewToModelPosition',h.b),P.mapper.on('modelToViewPosition',h.a),S.modelToView.on('insert',h.c,{priority:'high'}),S.modelToView.on('insert:listItem',h.d),P.modelToView.on('insert',h.c,{priority:'high'}),P.modelToView.on('insert:listItem',h.d),S.modelToView.on('changeAttribute:type:listItem',h.e),P.modelToView.on('changeAttribute:type:listItem',h.e),S.modelToView.on('remove:listItem',h.f),S.modelToView.on('remove',h.g,{priority:'low'}),P.modelToView.on('remove:listItem',h.f),P.modelToView.on('remove',h.g,{priority:'low'}),S.modelToView.on('move:listItem',h.h),S.modelToView.on('move',h.g,{priority:'low'}),P.modelToView.on('move:listItem',h.h),P.modelToView.on('move',h.g,{priority:'low'}),S.modelToView.on('changeAttribute:indent:listItem',h.i),P.modelToView.on('changeAttribute:indent:listItem',h.i),P.viewToModel.on('element:li',h.j),P.viewToModel.on('element:ul',h.k,{priority:'high'}),P.viewToModel.on('element:ol',h.k,{priority:'high'}),C.commands.set('numberedList',new u.a(C,'numbered')),C.commands.set('bulletedList',new u.a(C,'bulleted')),C.commands.set('indentList',new f.a(C,'forward')),C.commands.set('outdentList',new f.a(C,'backward'))}}r.a=w},function(o,r,s){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function f(w,C){let T=w.nodeAfter;for(T||(T=w.parent);null!==T&&!C.itemExtends(T.name||'$text','$block');)T=T.parent;return null!==T&&null!==T.parent?h.a.createBefore(T):null}var h=s(1);r.a=function(w){return Array.from(w.getAncestors()).find(C=>'listItem'==C.name)||null},r.b=function(w,C){let T=f(w.getFirstPosition(),C);const P=w.getLastPosition(),S=[];for(;null!==T&&T.isBefore(P);)S.push(T.nodeAfter),T.offset++,T=f(T,C);return S},r.c=f},function(o,r,s){'use strict';var d=s(187);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class u{constructor(f,h=20){this.document=f,this.size=0,this.limit=h,this._changeCallback=(w,C,T,P)=>{this._onBatch(P)},f.on('change',this._changeCallback)}get batch(){return this._batch||(this._batch=this.document.batch()),this._batch}input(f){this.size+=f,this.size>=this.limit&&this._reset()}destroy(){this.document.off('change',this._changeCallback)}_onBatch(f){'transparent'!=f.type&&f!==this._batch&&1>=s.i(d.a)(f.getOperations())&&this._reset()}_reset(){this._batch=null,this.size=0}}r.a=u},function(o,r,s){'use strict';var d=s(9),u=s(6),f=s(402),h=s(190);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const w=s.i(h.a)('px');class C extends d.a{constructor(T){super(T);const P=this.bindTemplate;this.set('top',0),this.set('left',0),this.set('position','se'),this.set('isVisible',!1),this.content=this.createCollection(),this.template=new u.a({tag:'div',attributes:{class:['ck-balloon-panel',P.to('position',S=>`ck-balloon-panel_arrow_${S}`),P.if('isVisible','ck-balloon-panel_visible')],style:{top:P.to('top',w),left:P.to('left',w),maxWidth:P.to('maxWidth',w)},tabindex:-1},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(T){this.show();const P=C.defaultPositions,S=Object.assign({},{element:this.element,positions:[P.se,P.sw,P.ne,P.nw],limiter:document.body,fitInViewport:!0},T),{top:O,left:E,name:V}=s.i(f.a)(S);Object.assign(this,{top:O,left:E,position:V})}}r.a=C,C.arrowHorizontalOffset=30,C.arrowVerticalOffset=15,C.defaultPositions={se:T=>({top:T.bottom+C.arrowVerticalOffset,left:T.left+T.width/2-C.arrowHorizontalOffset,name:'se'}),sw:(T,P)=>({top:T.bottom+C.arrowVerticalOffset,left:T.left+T.width/2-P.width+C.arrowHorizontalOffset,name:'sw'}),ne:(T,P)=>({top:T.top-P.height-C.arrowVerticalOffset,left:T.left+T.width/2-C.arrowHorizontalOffset,name:'ne'}),nw:(T,P)=>({top:T.top-P.height-C.arrowVerticalOffset,left:T.left+T.width/2-P.width+C.arrowHorizontalOffset,name:'nw'})}},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function({emitter:u,activator:f,callback:h,contextElement:w}){u.listenTo(document,'mouseup',(C,{target:T})=>{f()&&!w.contains(T)&&h()})}},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function({view:u}){u.listenTo(u.element,'submit',(f,h)=>{h.preventDefault(),u.fire('submit')},{useCapture:!0})}},function(o,r,s){'use strict';var d=s(9),u=s(6);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{constructor(h){super(h),this.set('value'),this.set('id');const w=this.bindTemplate;this.template=new u.a({tag:'input',attributes:{type:'text',class:['ck-input','ck-input-text'],id:w.to('id')}}),this.on('change:value',(C,T,P)=>this.element.value=P||'')}select(){this.element.select()}focus(){this.element.focus()}}r.a=f},function(o,r,s){'use strict';var d=s(9),u=s(6),f=s(64),h=s(386);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class w extends d.a{constructor(C,T){super(C);const P=`ck-input-${s.i(f.a)()}`;this.set('label'),this.set('value'),this.labelView=this._createLabelView(P),this.inputView=this._createInputView(T,P),this.template=new u.a({tag:'div',children:[this.labelView,this.inputView]})}_createLabelView(C){const T=new h.a(this.locale);return T.for=C,T.bind('text').to(this,'label'),T}_createInputView(C,T){const P=new C(this.locale);return P.id=T,P.bind('value').to(this),P}select(){this.inputView.select()}focus(){this.inputView.focus()}}r.a=w},function(o,r,s){'use strict';var d=s(9),u=s(6),f=s(59),h=s(118),w=s(60);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class C extends d.a{constructor(T){super(T),this.items=this.createCollection(),this.focusTracker=new f.a,this.keystrokes=new w.a,this._focusCycler=new h.a({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:['arrowleft','arrowup'],focusNext:['arrowright','arrowdown']}}),this.template=new u.a({tag:'div',attributes:{class:['ck-toolbar']},children:this.items}),this.items.on('add',(P,S)=>{this.focusTracker.add(S.element)}),this.items.on('remove',(P,S)=>{this.focusTracker.remove(S.element)})}init(){return this.keystrokes.listenTo(this.element),super.init()}focus(){this._focusCycler.focusFirst()}}r.a=C},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(u){let f=0;for(let h of u)f++;return f}},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(u,f,h){function w(N){const M=(V[N-1]===void 0?-1:V[N-1])+1,L=V[N+1]===void 0?-1:V[N+1],I=M>L?-1:1;E[N+I]&&(E[N]=E[N+I].slice(0)),E[N]||(E[N]=[]),E[N].push(M>L?C:T);let D=Math.max(M,L),q=D-N;for(;q<P&&D<S&&h(u[q],f[D]);)q++,D++,E[N].push('equal');return D}h=h||function(N,M){return N===M};let C,T;if(f.length<u.length){let N=u;u=f,f=N,C='delete',T='insert'}else C='insert',T='delete';const P=u.length,S=f.length,O=S-P,E={},V={};let R=0,F;do{for(F=-R;F<O;F++)V[F]=w(F);for(F=O+R;F>O;F--)V[F]=w(F);V[O]=w(O),R++}while(V[O]!==S);return E[O].slice(1)}},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(u){const f=[];for(;u&&u.nodeType!=Node.DOCUMENT_NODE;)f.unshift(u),u=u.parentNode;return f}},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(u){return f=>f+u}},function(o,r,s){'use strict';var d=s(48),u=s(30),f=s.i(d.a)(u.a,'Map');r.a=f},function(o,r,s){'use strict';var d=s(48),u=s(30),f=s.i(d.a)(u.a,'Set');r.a=f},function(o,r,s){'use strict';var d=s(30),u=d.a.Uint8Array;r.a=u},function(o,r){'use strict';r.a=function(u,f,h){var w=h.length;return 0===w?u.call(f):1===w?u.call(f,h[0]):2===w?u.call(f,h[0],h[1]):3===w?u.call(f,h[0],h[1],h[2]):u.apply(f,h)}},function(o,r){'use strict';r.a=function(u,f,h,w){var C=-1,T=u.length;for(w&&T&&(h=u[++C]);++C<T;)h=f(h,u[C],C,u);return h}},function(o,r,s){'use strict';function d(me,ge,fe,he,be,_e,ke){var we;if(he&&(we=_e?he(me,be,_e,ke):he(me)),void 0!=we)return we;if(!s.i(L.a)(me))return me;var ye=s.i(F.a)(me);if(!ye){var ve=s.i(O.a)(me),xe=ve==U||ve=='[object GeneratorFunction]';if(s.i(N.a)(me))return s.i(C.a)(me,ge);if(ve==G||ve==D||xe&&!_e){if(s.i(M.a)(me))return _e?me:{};if(we=s.i(R.a)(xe?{}:me),!ge)return s.i(P.a)(me,s.i(w.a)(we,me))}else{if(!pe[ve])return _e?me:{};we=s.i(V.a)(me,ve,d,ge)}}else if(we=s.i(E.a)(me),!ge)return s.i(T.a)(me,we);ke||(ke=new u.a);var Ce=ke.get(me);if(Ce)return Ce;if(ke.set(me,we),!ye)var Te=fe?s.i(S.a)(me):s.i(I.a)(me);return s.i(f.a)(Te||me,function(Pe,Ae){Te&&(Ae=Pe,Pe=me[Ae]),s.i(h.a)(we,Ae,d(Pe,ge,fe,he,Ae,me,ke))}),we}var u=s(122),f=s(416),h=s(61),w=s(418),C=s(438),T=s(203),P=s(446),S=s(452),O=s(140),E=s(461),V=s(462),R=s(463),F=s(11),N=s(494),M=s(87),L=s(13),I=s(63),D='[object Arguments]',U='[object Function]',G='[object Object]',pe={};pe[D]=pe['[object Array]']=pe['[object ArrayBuffer]']=pe['[object DataView]']=pe['[object Boolean]']=pe['[object Date]']=pe['[object Float32Array]']=pe['[object Float64Array]']=pe['[object Int8Array]']=pe['[object Int16Array]']=pe['[object Int32Array]']=pe['[object Map]']=pe['[object Number]']=pe[G]=pe['[object RegExp]']=pe['[object Set]']=pe['[object String]']=pe['[object Symbol]']=pe['[object Uint8Array]']=pe['[object Uint8ClampedArray]']=pe['[object Uint16Array]']=pe['[object Uint32Array]']=!0,pe['[object Error]']=pe[U]=pe['[object WeakMap]']=!1,r.a=d},function(o,r){'use strict';r.a=function(u,f,h){for(var w=u.length,C=h?w:-1;h?C--:++C<w;)if(f(u[C],C,u))return C;return-1}},function(o,r,s){'use strict';var u=s(139),f=Object.prototype,h=f.hasOwnProperty;r.a=function(w,C){return h.call(w,C)||'object'==typeof w&&C in w&&null===s.i(u.a)(w)}},function(o,r,s){'use strict';var u=s(85),f=s(35),h=s(49),w=s(19),C=s(477),T=s(50),P=Array.prototype,S=P.splice;r.a=function(O,E){for(var V=O?E.length:0,R=V-1,F;V--;)if(F=E[V],V==R||F!==N){var N=F;if(s.i(f.a)(F))S.call(O,F,1);else if(!s.i(h.a)(F,O)){var M=s.i(u.a)(F),L=s.i(C.a)(O,M);null!=L&&delete L[s.i(T.a)(s.i(w.a)(M))]}else delete O[s.i(T.a)(F)]}return O}},function(o,r,s){'use strict';var u=s(51);r.a=function(f,h){for(var w=-1,C=f.length,T=0,P=[];++w<C;){var S=f[w],O=h?h(S):S;if(!w||!s.i(u.a)(O,E)){var E=O;P[T++]=0===S?0:S}}return P}},function(o,r){'use strict';r.a=function(u,f){for(var h=-1,w=Array(u);++h<u;)w[h]=f(h);return w}},function(o,r){'use strict';r.a=function(u,f,h){for(var w=-1,C=u.length,T=f.length,P={},S;++w<C;)S=w<T?f[w]:void 0,h(P,u[w],S);return P}},function(o,r){'use strict';r.a=function(u,f){var h=-1,w=u.length;for(f||(f=Array(w));++h<w;)f[h]=u[h];return f}},function(o,r,s){'use strict';var u=s(79),f=s(417);r.a=function(C,T,P,S,O,E){var V=O&2,R=C.length,F=T.length;if(R!=F&&!(V&&F>R))return!1;var N=E.get(C);if(N)return N==T;var M=-1,L=!0,I=O&1?new u.a:void 0;for(E.set(C,T);++M<R;){var D=C[M],q=T[M];if(S)var z=V?S(q,D,M,T,C,E):S(D,q,M,C,T,E);if(void 0!==z){if(z)continue;L=!1;break}if(I){if(!s.i(f.a)(T,function($,K){if(!I.has(K)&&(D===$||P(D,$,S,O,E)))return I.add(K)})){L=!1;break}}else if(!(D===q||P(D,q,S,O,E))){L=!1;break}}return E['delete'](C),L}},function(o,r){'use strict';function d(f){return u(Object(f))}var u=Object.getOwnPropertySymbols;u||(d=function(){return[]}),r.a=d},function(o,r,s){'use strict';var u=s(201),f=s(145),h=s(11),w=s(94),C=s(147);r.a=function(T){var P=T?T.length:void 0;return s.i(w.a)(P)&&(s.i(h.a)(T)||s.i(C.a)(T)||s.i(f.a)(T))?s.i(u.a)(P,String):null}},function(o,r){'use strict';r.a=function(u,f,h){for(var w=u.length,C=f+(h?0:-1),T;h?C--:++C<w;)if(T=u[C],T!==T)return C;return-1}},function(o,r,s){'use strict';var u=s(13);r.a=function(f){return f===f&&!s.i(u.a)(f)}},function(o,r){'use strict';r.a=function(u,f){return function(h){return null!=h&&h[u]===f&&(f!==void 0||u in Object(h))}}},function(o,r){'use strict';var u=Function.prototype.toString;r.a=function(f){if(null!=f){try{return u.call(f)}catch(h){}try{return f+''}catch(h){}}return''}},function(o,r,s){'use strict';var u=s(34),f=s(88),h=s(14),w=Math.ceil,C=Math.max;r.a=function(T,P,S){P=(S?s.i(f.a)(T,P,S):void 0===P)?1:C(s.i(h.a)(P),0);var O=T?T.length:0;if(!O||1>P)return[];for(var E=0,V=0,R=Array(w(O/P));E<O;)R[V++]=s.i(u.a)(T,E,E+=P);return R}},function(o,r){'use strict';r.a=function(u){for(var f=-1,h=u?u.length:0,w=0,C=[],T;++f<h;)T=u[f],T&&(C[w++]=T);return C}},function(o,r,s){'use strict';var u=s(81),f=s(24),h=s(203),w=s(11);r.a=function(){for(var C=arguments.length,T=Array(C?C-1:0),P=arguments[0],S=C;S--;)T[S-1]=arguments[S];return C?s.i(u.a)(s.i(w.a)(P)?s.i(h.a)(P):[P],s.i(f.a)(T,1)):[]}},function(o,r,s){'use strict';var d=s(62),u=s(24),f=s(12),h=s(8),w=s.i(h.a)(function(C,T){return s.i(f.a)(C)?s.i(d.a)(C,s.i(u.a)(T,1,f.a,!0)):[]});r.a=w},function(o,r,s){'use strict';var d=s(62),u=s(24),f=s(10),h=s(12),w=s(19),C=s(8),T=s.i(C.a)(function(P,S){var O=s.i(w.a)(S);return s.i(h.a)(O)&&(O=void 0),s.i(h.a)(P)?s.i(d.a)(P,s.i(u.a)(S,1,h.a,!0),s.i(f.a)(O)):[]});r.a=T},function(o,r,s){'use strict';var d=s(62),u=s(24),f=s(12),h=s(19),w=s(8),C=s.i(w.a)(function(T,P){var S=s.i(h.a)(P);return s.i(f.a)(S)&&(S=void 0),s.i(f.a)(T)?s.i(d.a)(T,s.i(u.a)(P,1,f.a,!0),void 0,S):[]});r.a=C},function(o,r,s){'use strict';var u=s(10),f=s(84);r.a=function(h,w){return h&&h.length?s.i(f.a)(h,s.i(u.a)(w,3),!0,!0):[]}},function(o,r,s){'use strict';var u=s(10),f=s(84);r.a=function(h,w){return h&&h.length?s.i(f.a)(h,s.i(u.a)(w,3),!0):[]}},function(o,r,s){'use strict';var u=s(422),f=s(88);r.a=function(h,w,C,T){var P=h?h.length:0;return P?(C&&'number'!=typeof C&&s.i(f.a)(h,w,C)&&(C=0,T=P),s.i(u.a)(h,w,C,T)):[]}},function(o,r,s){'use strict';var u=s(197),f=s(10);r.a=function(h,w){return h&&h.length?s.i(u.a)(h,s.i(f.a)(w,3)):-1}},function(o,r,s){'use strict';var u=s(197),f=s(10);r.a=function(h,w){return h&&h.length?s.i(u.a)(h,s.i(f.a)(w,3),!0):-1}},function(o,r,s){'use strict';var d=s(144);s.d(r,'a',function(){return d.a})},function(o,r,s){'use strict';var u=s(24);r.a=function(f){var h=f?f.length:0;return h?s.i(u.a)(f,1):[]}},function(o,r,s){'use strict';var u=s(24);r.a=function(h){var w=h?h.length:0;return w?s.i(u.a)(h,1/0):[]}},function(o,r,s){'use strict';var u=s(24),f=s(14);r.a=function(h,w){var C=h?h.length:0;return C?(w=void 0===w?1:s.i(f.a)(w),s.i(u.a)(h,w)):[]}},function(o,r){'use strict';r.a=function(u){for(var f=-1,h=u?u.length:0,w={},C;++f<h;)C=u[f],w[C[0]]=C[1];return w}},function(o,r,s){'use strict';var u=s(126);r.a=function(f,h,w){var C=null==f?void 0:s.i(u.a)(f,h);return C===void 0?w:C}},function(o,r){'use strict';r.a=function(u){return u}},function(o,r,s){'use strict';var u=s(127),f=s(14),h=Math.max;r.a=function(w,C,T){var P=w?w.length:0;return P?(T=s.i(f.a)(T),0>T&&(T=h(P+T,0)),s.i(u.a)(w,C,T)):-1}},function(o,r,s){'use strict';var u=s(143);r.a=function(f){return s.i(u.a)(f,1)}},function(o,r,s){'use strict';var d=s(27),u=s(128),f=s(136),h=s(8),w=s.i(h.a)(function(C){var T=s.i(d.a)(C,f.a);return T.length&&T[0]===C[0]?s.i(u.a)(T):[]});r.a=w},function(o,r,s){'use strict';var d=s(27),u=s(128),f=s(10),h=s(136),w=s(19),C=s(8),T=s.i(C.a)(function(P){var S=s.i(w.a)(P),O=s.i(d.a)(P,h.a);return S===s.i(w.a)(O)?S=void 0:O.pop(),O.length&&O[0]===P[0]?s.i(u.a)(O,s.i(f.a)(S)):[]});r.a=T},function(o,r,s){'use strict';var d=s(27),u=s(128),f=s(136),h=s(19),w=s(8),C=s.i(w.a)(function(T){var P=s.i(h.a)(T),S=s.i(d.a)(T,f.a);return P===s.i(h.a)(S)?P=void 0:S.pop(),S.length&&S[0]===T[0]?s.i(u.a)(S,void 0,P):[]});r.a=C},function(o,r,s){'use strict';var u=s(146),f=s(87),h=s(13),w=s(210),C=/[\\^$.*+?()[\]{}|]/g,T=/^\[object .+?Constructor\]$/,P=Object.prototype,S=Function.prototype.toString,O=P.hasOwnProperty,E=RegExp('^'+S.call(O).replace(C,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');r.a=function(V){if(!s.i(h.a)(V))return!1;var R=s.i(u.a)(V)||s.i(f.a)(V)?E:T;return R.test(s.i(w.a)(V))}},function(o,r){'use strict';var u=Array.prototype,f=u.join;r.a=function(h,w){return h?f.call(h,w):''}},function(o,r,s){'use strict';var u=s(207),f=s(14),h=Math.max,w=Math.min;r.a=function(C,T,P){var S=C?C.length:0;if(!S)return-1;var O=S;if(void 0!==P&&(O=s.i(f.a)(P),O=(0>O?h(S+O,0):w(O,S-1))+1),T!==T)return s.i(u.a)(C,O,!0);for(;O--;)if(C[O]===T)return O;return-1}},function(o,r,s){'use strict';var u=s(432),f=s(14);r.a=function(h,w){return h&&h.length?s.i(u.a)(h,s.i(f.a)(w)):void 0}},function(o,r,s){'use strict';var d=s(148),u=s(8),f=s.i(u.a)(d.a);r.a=f},function(o,r,s){'use strict';var u=s(10),f=s(131);r.a=function(h,w,C){return h&&h.length&&w&&w.length?s.i(f.a)(h,w,s.i(u.a)(C)):h}},function(o,r,s){'use strict';var u=s(131);r.a=function(f,h,w){return f&&f.length&&h&&h.length?s.i(u.a)(f,h,void 0,w):f}},function(o,r,s){'use strict';var d=s(27),u=s(419),f=s(24),h=s(199),w=s(445),C=s(35),T=s(8),P=s.i(T.a)(function(S,O){O=s.i(f.a)(O,1);var E=S?S.length:0,V=s.i(u.a)(S,O);return s.i(h.a)(S,s.i(d.a)(O,function(R){return s.i(C.a)(R,E)?+R:R}).sort(w.a)),V});r.a=P},function(o,r,s){'use strict';var u=s(10),f=s(199);r.a=function(h,w){var C=[];if(!(h&&h.length))return C;var T=-1,P=[],S=h.length;for(w=s.i(u.a)(w,3);++T<S;){var O=h[T];w(O,T,h)&&(C.push(O),P.push(T))}return s.i(f.a)(h,P),C}},function(o,r){'use strict';var u=Array.prototype,f=u.reverse;r.a=function(h){return h?f.call(h):h}},function(o,r,s){'use strict';var u=s(34),f=s(88),h=s(14);r.a=function(w,C,T){var P=w?w.length:0;return P?(T&&'number'!=typeof T&&s.i(f.a)(w,C,T)?(C=0,T=P):(C=null==C?0:s.i(h.a)(C),T=void 0===T?P:s.i(h.a)(T)),s.i(u.a)(w,C,T)):[]}},function(o,r,s){'use strict';var u=s(83);r.a=function(f,h){return s.i(u.a)(f,h)}},function(o,r,s){'use strict';var u=s(10),f=s(132);r.a=function(h,w,C){return s.i(f.a)(h,w,s.i(u.a)(C))}},function(o,r,s){'use strict';var u=s(83),f=s(51);r.a=function(h,w){var C=h?h.length:0;if(C){var T=s.i(u.a)(h,w);if(T<C&&s.i(f.a)(h[T],w))return T}return-1}},function(o,r,s){'use strict';var u=s(83);r.a=function(f,h){return s.i(u.a)(f,h,!0)}},function(o,r,s){'use strict';var u=s(10),f=s(132);r.a=function(h,w,C){return s.i(f.a)(h,w,s.i(u.a)(C),!0)}},function(o,r,s){'use strict';var u=s(83),f=s(51);r.a=function(h,w){var C=h?h.length:0;if(C){var T=s.i(u.a)(h,w,!0)-1;if(s.i(f.a)(h[T],w))return T}return-1}},function(o,r,s){'use strict';var u=s(200);r.a=function(f){return f&&f.length?s.i(u.a)(f):[]}},function(o,r,s){'use strict';var u=s(10),f=s(200);r.a=function(h,w){return h&&h.length?s.i(f.a)(h,s.i(u.a)(w)):[]}},function(o,r,s){'use strict';var u=s(142);r.a=function(f){return s.i(u.a)(f,1)}},function(o,r,s){'use strict';var u=s(34),f=s(14);r.a=function(h,w,C){return h&&h.length?(w=C||void 0===w?1:s.i(f.a)(w),s.i(u.a)(h,0,0>w?0:w)):[]}},function(o,r,s){'use strict';var u=s(34),f=s(14);r.a=function(h,w,C){var T=h?h.length:0;return T?(w=C||void 0===w?1:s.i(f.a)(w),w=T-w,s.i(u.a)(h,0>w?0:w,T)):[]}},function(o,r,s){'use strict';var u=s(10),f=s(84);r.a=function(h,w){return h&&h.length?s.i(f.a)(h,s.i(u.a)(w,3),!1,!0):[]}},function(o,r,s){'use strict';var u=s(10),f=s(84);r.a=function(h,w){return h&&h.length?s.i(f.a)(h,s.i(u.a)(w,3)):[]}},function(o,r,s){'use strict';var u=s(146),f=s(13),h=s(44),w=0/0,C=/^\s+|\s+$/g,T=/^[-+]0x[0-9a-f]+$/i,P=/^0b[01]+$/i,S=/^0o[0-7]+$/i,O=parseInt;r.a=function(E){if('number'==typeof E)return E;if(s.i(h.a)(E))return w;if(s.i(f.a)(E)){var V=s.i(u.a)(E.valueOf)?E.valueOf():E;E=s.i(f.a)(V)?V+'':V}if('string'!=typeof E)return 0===E?E:+E;E=E.replace(C,'');var R=P.test(E);return R||S.test(E)?O(E.slice(2),R?2:8):T.test(E)?w:+E}},function(o,r,s){'use strict';var d=s(24),u=s(42),f=s(12),h=s(8),w=s.i(h.a)(function(C){return s.i(u.a)(s.i(d.a)(C,1,f.a,!0))});r.a=w},function(o,r,s){'use strict';var d=s(24),u=s(10),f=s(42),h=s(12),w=s(19),C=s(8),T=s.i(C.a)(function(P){var S=s.i(w.a)(P);return s.i(h.a)(S)&&(S=void 0),s.i(f.a)(s.i(d.a)(P,1,h.a,!0),s.i(u.a)(S))});r.a=T},function(o,r,s){'use strict';var d=s(24),u=s(42),f=s(12),h=s(19),w=s(8),C=s.i(w.a)(function(T){var P=s.i(h.a)(T);return s.i(f.a)(P)&&(P=void 0),s.i(u.a)(s.i(d.a)(T,1,f.a,!0),void 0,P)});r.a=C},function(o,r,s){'use strict';var u=s(42);r.a=function(f){return f&&f.length?s.i(u.a)(f):[]}},function(o,r,s){'use strict';var u=s(10),f=s(42);r.a=function(h,w){return h&&h.length?s.i(f.a)(h,s.i(u.a)(w)):[]}},function(o,r,s){'use strict';var u=s(42);r.a=function(f,h){return f&&f.length?s.i(u.a)(f,void 0,h):[]}},function(o,r,s){'use strict';var d=s(62),u=s(12),f=s(8),h=s.i(f.a)(function(w,C){return s.i(u.a)(w)?s.i(d.a)(w,C):[]});r.a=h},function(o,r,s){'use strict';var d=s(80),u=s(134),f=s(12),h=s(8),w=s.i(h.a)(function(C){return s.i(u.a)(s.i(d.a)(C,f.a))});r.a=w},function(o,r,s){'use strict';var d=s(80),u=s(10),f=s(134),h=s(12),w=s(19),C=s(8),T=s.i(C.a)(function(P){var S=s.i(w.a)(P);return s.i(h.a)(S)&&(S=void 0),s.i(f.a)(s.i(d.a)(P,h.a),s.i(u.a)(S))});r.a=T},function(o,r,s){'use strict';var d=s(80),u=s(134),f=s(12),h=s(19),w=s(8),C=s.i(w.a)(function(T){var P=s.i(h.a)(T);return s.i(f.a)(P)&&(P=void 0),s.i(u.a)(s.i(d.a)(T,f.a),void 0,P)});r.a=C},function(o,r,s){'use strict';var d=s(8),u=s(96),f=s.i(d.a)(u.a);r.a=f},function(o,r,s){'use strict';var u=s(61),f=s(202);r.a=function(h,w){return s.i(f.a)(h||[],w||[],u.a)}},function(o,r,s){'use strict';var u=s(434),f=s(202);r.a=function(h,w){return s.i(f.a)(h||[],w||[],u.a)}},function(o,r,s){'use strict';var d=s(8),u=s(149),f=s.i(d.a)(function(h){var w=h.length,C=1<w?h[w-1]:void 0;return C='function'==typeof C?(h.pop(),C):void 0,s.i(u.a)(h,C)});r.a=f},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(u){const f=new Map;for(let h in u)f.set(h,u[h]);return f}},function(o,r){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function d(C){return!!C&&1==C.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(C)}function u(C){return!!C&&1==C.length&&/[\ud800-\udbff]/.test(C)}function f(C){return!!C&&1==C.length&&/[\udc00-\udfff]/.test(C)}r.a=function(C,T){return u(C.charAt(T-1))&&f(C.charAt(T))},r.b=function(C,T){return d(C.charAt(T))}},function(o,r,s){'use strict';var d=s(308),u=s(309),f=s(3),h=s(172),w=s(178),C=s(154),T=s(155);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class P extends f.a{static get requires(){return[h.a,w.a,C.a,T.a]}init(){this._addListAutoformats(),this._addHeadingAutoformats(),this._addInlineAutoformats()}_addListAutoformats(){new d.a(this.editor,/^[\*\-]\s$/,'bulletedList'),new d.a(this.editor,/^\d+[\.|)]?\s$/,'numberedList')}_addHeadingAutoformats(){new d.a(this.editor,/^(#{1,3})\s$/,S=>{const{batch:O,match:E}=S,V=E[1].length;this.editor.execute('heading',{batch:O,formatId:`heading${V}`})})}_addInlineAutoformats(){new u.a(this.editor,/(\*\*)([^\*]+)(\*\*)$/g,'bold'),new u.a(this.editor,/(__)([^_]+)(__)$/g,'bold'),new u.a(this.editor,/(?:^|[^\*])(\*)([^\*_]+)(\*)$/g,'italic'),new u.a(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,'italic')}}},function(o,r,s){'use strict';var d=s(3),u=s(154),f=s(26),h=s(292),w=s.n(h);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class C extends d.a{static get requires(){return[u.a]}init(){const T=this.editor,P=T.t,S=T.commands.get('bold'),O='CTRL+B';T.ui.componentFactory.add('bold',E=>{const V=new f.a(E);return V.set({label:P('Bold'),icon:w.a,keystroke:O,tooltip:!0}),V.bind('isOn','isEnabled').to(S,'value','isEnabled'),this.listenTo(V,'execute',()=>T.execute('bold')),V}),T.keystrokes.set(O,'bold')}}r.a=C},function(o,r,s){'use strict';var d=s(3),u=s(155),f=s(26),h=s(293),w=s.n(h);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class C extends d.a{static get requires(){return[u.a]}init(){const T=this.editor,P=T.t,S=T.commands.get('italic'),O='CTRL+I';T.ui.componentFactory.add('italic',E=>{const V=new f.a(E);return V.set({label:P('Italic'),icon:w.a,keystroke:O,tooltip:!0}),V.bind('isOn','isEnabled').to(S,'value','isEnabled'),this.listenTo(V,'execute',()=>T.execute('italic')),V}),T.keystrokes.set(O,'italic')}}r.a=C},function(o,r,s){'use strict';var d=s(3),u=s(310),f=s(313),h=s(312),w=s(161);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class C extends d.a{init(){const T=this.editor,P=T.document,S=T.editing.view;this._htmlDataProcessor=new w.a,S.addObserver(u.a),this.listenTo(S,'paste',(E,V)=>{const R=V.dataTransfer;let F='';R.getData('text/html')?F=s.i(h.a)(R.getData('text/html')):R.getData('text/plain')&&(F=s.i(f.a)(R.getData('text/plain'))),F=this._htmlDataProcessor.toView(F),V.preventDefault(),S.fire('clipboardInput',{dataTransfer:R,content:F})},{priority:'low'}),this.listenTo(S,'clipboardInput',(E,V)=>{if(!V.content.isEmpty){const R=this.editor.data,F=R.viewToModel.convert(V.content,{context:['$clipboardHolder']});P.enqueueChanges(()=>{R.insertContent(F,P.selection)})}},{priority:'low'});const O=(E,V)=>{const R=V.dataTransfer,F=T.data.toView(T.data.getSelectedContent(P.selection));V.preventDefault(),S.fire('clipboardOutput',{dataTransfer:R,content:F,method:E.name})};this.listenTo(S,'copy',O,{priority:'low'}),this.listenTo(S,'cut',O,{priority:'low'}),this.listenTo(S,'clipboardOutput',(E,V)=>{V.content.isEmpty||V.dataTransfer.setData('text/html',this._htmlDataProcessor.toData(V.content)),'cut'==V.method&&P.enqueueChanges(()=>{T.data.deleteContent(P.selection,P.batch(),{merge:!0})})},{priority:'low'})}}r.a=C},function(o,r,s){'use strict';var d=s(316),u=s(161),f=s(318),h=s(319),w=s(406),C=s(303),T=s.n(C);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class P extends d.a{constructor(S,O){super(S,O),this.document.createRoot(),this.data.processor=new u.a,this.ui=new f.a(this,new h.a(this.locale)),this._elementReplacer=new w.a}destroy(){return this.updateEditorElement(),this._elementReplacer.restore(),this.ui.destroy().then(()=>super.destroy())}static create(S,O){return new Promise(E=>{const V=new P(S,O);E(V.initPlugins().then(()=>V._elementReplacer.replace(S,V.ui.view.element)).then(()=>V.ui.init()).then(()=>V.fire('uiReady')).then(()=>V.editing.view.attachDomRoot(V.ui.view.editableElement)).then(()=>V.loadDataFromEditorElement()).then(()=>{V.fire('dataReady'),V.fire('ready')}).then(()=>V))})}}r.a=P},function(o,r,s){'use strict';var d=s(3),u=s(351),f=s(352);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h extends d.a{init(){const w=this.editor,C=w.editing.view;C.addObserver(f.a),w.commands.set('enter',new u.a(w)),this.listenTo(C,'enter',(T,P)=>{w.execute('enter'),P.preventDefault()},{priority:'low'})}}r.a=h},function(o,r,s){'use strict';var d=s(172),u=s(3),f=s(389),h=s(380),w=s(76);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class C extends u.a{static get requires(){return[d.a]}init(){const T=this.editor,P=T.commands.get('heading'),S=P.formats,O=new w.a;for(let V of S)O.add(new f.a({formatId:V.id,label:V.label}));const E=new f.a({label:'Heading',withText:!0,items:O});E.bind('isEnabled').to(P,'isEnabled'),E.bind('label').to(P,'value',V=>V.label),T.ui.componentFactory.add('headings',V=>{const R=s.i(h.a)(E,V);return this.listenTo(R,'execute',({source:{formatId:F}})=>{T.execute('heading',{formatId:F}),T.editing.view.focus()}),R})}}r.a=C},function(o,r,s){'use strict';var d=s(3),u=s(173),f=s(362),h=s(355),w=s(305),C=s.n(w);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class T extends d.a{static get requires(){return[u.a,f.a,h.a]}}r.a=T},function(o,r,s){'use strict';var d=s(3),u=s(361),f=s(26);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h extends d.a{static get requires(){return[u.a]}init(){const w=this.editor.config.get('image.styles');for(let T of w)this._createButton(T);const C=this.editor.config.get('image.defaultToolbar');C&&w.forEach(T=>C.push(T.name))}_createButton(w){const C=this.editor,T=C.commands.get(w.name);C.ui.componentFactory.add(w.name,P=>{const S=new f.a(P);return S.set({label:w.title,icon:w.icon,tooltip:!0}),S.bind('isEnabled').to(T,'isEnabled'),S.bind('isOn').to(T,'value'),this.listenTo(S,'execute',()=>C.execute(w.name)),S})}}r.a=h},function(o,r,s){'use strict';function d(L){return L.parent.getAncestors().find(I=>I instanceof w.a)}var u=s(3),f=s(343),h=s(364),w=s(177),C=s(182),T=s(26),P=s(181),S=s(365),O=s(297),E=s.n(O),V=s(298),R=s.n(V),F=s(306),N=s.n(F);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class M extends u.a{static get requires(){return[h.a]}init(){this.editor.editing.view.addObserver(f.a),this.balloonPanelView=this._createBalloonPanel(),this.formView=this._createForm(),this._createToolbarLinkButton(),this._createToolbarUnlinkButton()}_createToolbarLinkButton(){const L=this.editor,I=L.commands.get('link'),D=L.t;L.keystrokes.set('CTRL+K',()=>this._showPanel()),L.ui.componentFactory.add('link',q=>{const z=new T.a(q);return z.isEnabled=!0,z.label=D('Link'),z.icon=E.a,z.keystroke='CTRL+K',z.tooltip=!0,z.bind('isEnabled').to(I,'isEnabled'),this.listenTo(z,'execute',()=>this._showPanel()),z})}_createToolbarUnlinkButton(){const L=this.editor,I=L.t,D=L.commands.get('unlink');L.ui.componentFactory.add('unlink',q=>{const z=new T.a(q);return z.isEnabled=!1,z.label=I('Unlink'),z.icon=R.a,z.tooltip=!0,z.bind('isEnabled').to(D,'isEnabled'),this.listenTo(z,'execute',()=>L.execute('unlink')),z})}_createBalloonPanel(){const L=this.editor,I=L.editing.view,D=new P.a(L.locale);return D.maxWidth=300,L.ui.focusTracker.add(D.element),this.listenTo(I,'click',()=>{const q=I.selection,z=d(q.getFirstPosition());q.isCollapsed&&z&&(this._attachPanelToElement(),this.listenTo(I,'render',()=>{const $=d(q.getFirstPosition());q.isCollapsed&&z===$?this._attachPanelToElement(z):this._hidePanel()}),this.listenTo(D,'change:isVisible',()=>this.stopListening(I,'render')))}),L.keystrokes.set('Tab',(q,z)=>{D.isVisible&&!this.formView.focusTracker.isFocused&&(this.formView.focus(),z())}),L.keystrokes.set('Esc',(q,z)=>{D.isVisible&&(this._hidePanel(!0),z())}),s.i(C.a)({emitter:D,activator:()=>D.isVisible,contextElement:D.element,callback:()=>this._hidePanel()}),L.ui.view.body.add(D),D}_createForm(){const L=this.editor,I=new S.a(L.locale);return I.urlInputView.bind('value').to(L.commands.get('link'),'value'),this.listenTo(I,'submit',()=>{L.execute('link',I.urlInputView.inputView.element.value),this._hidePanel(!0)}),this.listenTo(I,'unlink',()=>{L.execute('unlink'),this._hidePanel(!0)}),I.keystrokes.set('Esc',(D,q)=>{this._hidePanel(!0),q()}),this.listenTo(I,'cancel',()=>this._hidePanel(!0)),this.balloonPanelView.content.add(I),I}_attachPanelToElement(L){const I=this.editor.editing.view,D=L||d(I.selection.getFirstPosition()),q=D?I.domConverter.getCorrespondingDomElement(D):I.domConverter.viewRangeToDom(I.selection.getFirstRange());this.balloonPanelView.attachTo({target:q,limiter:I.domConverter.getCorrespondingDomElement(I.selection.editableElement)})}_hidePanel(L){this.balloonPanelView.hide(),L&&this.editor.editing.view.focus()}_showPanel(){this._attachPanelToElement(),this.formView.urlInputView.select()}}r.a=M},function(o,r,s){'use strict';var d=s(3),u=s(178),f=s(26),h=s(23),w=s(300),C=s.n(w),T=s(299),P=s.n(T);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class S extends d.a{static get requires(){return[u.a]}init(){const O=this.editor.t;this._addButton('numberedList',O('Numbered List'),C.a),this._addButton('bulletedList',O('Bulleted List'),P.a),this.listenTo(this.editor.editing.view,'enter',(E,V)=>{const R=this.editor.document,F=R.selection.getLastPosition().parent;R.selection.isCollapsed&&'listItem'==F.name&&F.isEmpty&&(this.editor.execute('outdentList'),V.preventDefault(),E.stop())}),this.listenTo(this.editor.editing.view,'keydown',(E,V)=>{let R=null;if(V.keystroke==s.i(h.d)('tab')?R='indentList':V.keystroke==s.i(h.d)('Shift+tab')&&(R='outdentList'),R){const F=this.editor.commands.get(R);F.isEnabled&&(this.editor.execute(R),V.preventDefault(),E.stop())}})}_addButton(O,E,V){const R=this.editor,F=R.commands.get(O);R.ui.componentFactory.add(O,N=>{const M=new f.a(N);return M.set({label:E,icon:V,tooltip:!0}),M.bind('isOn','isEnabled').to(F,'value','isEnabled'),this.listenTo(M,'execute',()=>R.execute(O)),M})}}r.a=S},function(o,r,s){'use strict';var d=s(3),u=s(374),f=s(371);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h extends d.a{static get requires(){return[u.a,f.a]}}r.a=h},function(o,r,s){'use strict';var d=s(3),u=s(393),f=s(26),h=s(302),w=s.n(h),C=s(301),T=s.n(C);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class P extends d.a{static get requires(){return[u.a]}init(){const S=this.editor,O=S.t;this._addButton('undo',O('Undo'),'CTRL+Z',w.a),this._addButton('redo',O('Redo'),'CTRL+Y',T.a),S.keystrokes.set('CTRL+Z','undo'),S.keystrokes.set('CTRL+Y','redo'),S.keystrokes.set('CTRL+SHIFT+Z','redo')}_addButton(S,O,E,V){const R=this.editor,F=R.commands.get(S);R.ui.componentFactory.add(S,N=>{const M=new f.a(N);return M.set({label:O,icon:V,keystroke:E,tooltip:!0}),M.bind('isEnabled').to(F,'isEnabled'),this.listenTo(M,'execute',()=>R.execute(S)),M})}}r.a=P},function(o,r,s){r=o.exports=s(65)(),r.push([o.i,'@charset "UTF-8";\n/**\n * Makes element unselectable.\n */\n/**\n * Wraps (S)CSS into .ck-editor namespace.\n */\n/**\n * Resets an element, ignoring its children.\n */\n.ck-reset, .ck-reset_all, .ck-reset_all *, .ck-reset_all a, .ck-reset_all textarea {\n  box-sizing: border-box;\n  width: auto;\n  height: auto;\n  position: static; }\n\n/**\n * Resets an element AND its children.\n */\n/**\n * Default width/height of an icon.\n */\nsvg.ck-icon {\n  min-width: 20px;\n  min-height: 20px;\n  font-size: 1em;\n  vertical-align: middle;\n  color: inherit;\n  cursor: inherit; }\n  svg.ck-icon * {\n    cursor: inherit;\n    color: inherit;\n    fill: currentColor; }\n\n/**\n * Applies styles to the main part of the tooltip.\n */\n/**\n * Applies styles to the arrow part of the tooltip.\n */\n/**\n * Applies styles to both arrow and main part of the tooltip.\n */\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n[data-ck-tooltip]::after {\n  visibility: hidden;\n  opacity: 0;\n  display: none;\n  position: absolute;\n  z-index: 999;\n  pointer-events: none;\n  -webkit-backface-visibility: hidden; }\n\n[data-ck-tooltip]::before {\n  visibility: hidden;\n  opacity: 0;\n  display: none;\n  position: absolute;\n  z-index: 999;\n  pointer-events: none;\n  -webkit-backface-visibility: hidden; }\n\n[data-ck-tooltip]::after {\n  content: attr(data-ck-tooltip); }\n\n[data-ck-tooltip]::before {\n  content: "";\n  width: 0;\n  height: 0; }\n\n.ck-button,\na.ck-button {\n  display: inline-block;\n  position: relative;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none; }\n  .ck-button::after,\n  a.ck-button::after {\n    display: block; }\n  .ck-button::before,\n  a.ck-button::before {\n    display: block; }\n  .ck-button.ck-button_with-text .ck-button__label,\n  a.ck-button.ck-button_with-text .ck-button__label {\n    display: block; }\n  .ck-button:hover::after,\n  a.ck-button:hover::after {\n    visibility: visible;\n    opacity: 1; }\n  .ck-button:hover::before,\n  a.ck-button:hover::before {\n    visibility: visible;\n    opacity: 1; }\n  .ck-button:focus:not(:hover)::after,\n  a.ck-button:focus:not(:hover)::after {\n    display: none; }\n  .ck-button:focus:not(:hover)::before,\n  a.ck-button:focus:not(:hover)::before {\n    display: none; }\n  .ck-button .ck-button__label,\n  a.ck-button .ck-button__label {\n    display: none; }\n\n.ck-toolbar {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none; }\n  .ck-toolbar-separator {\n    display: inline-block; }\n  .ck-toolbar-newline {\n    display: block;\n    clear: left; }\n\n.ck-dropdown {\n  display: inline-block;\n  position: relative; }\n  .ck-dropdown::after {\n    content: \'\';\n    width: 0;\n    height: 0;\n    pointer-events: none;\n    z-index: 1;\n    position: absolute;\n    top: 50%;\n    transform: translate(0, -50%); }\n\n.ck-dropdown__panel {\n  -webkit-backface-visibility: hidden;\n  display: none;\n  z-index: 999;\n  position: absolute;\n  left: 0px;\n  transform: translateY(100%); }\n  .ck-dropdown__panel-visible {\n    display: inline-block; }\n\n.ck-list {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none; }\n  .ck-list__item {\n    display: block; }\n\n.ck-label {\n  display: block; }\n\n.cke-voice-label {\n  display: none; }\n\n.ck-balloon-panel {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  display: none;\n  position: absolute;\n  z-index: 999; }\n  .ck-balloon-panel:before, .ck-balloon-panel:after {\n    content: "";\n    position: absolute; }\n  .ck-balloon-panel:before {\n    z-index: 1; }\n  .ck-balloon-panel:after {\n    z-index: 2; }\n  .ck-balloon-panel_arrow_s:before, .ck-balloon-panel_arrow_se:before, .ck-balloon-panel_arrow_sw:before {\n    z-index: 1; }\n  .ck-balloon-panel_arrow_s:after, .ck-balloon-panel_arrow_se:after, .ck-balloon-panel_arrow_sw:after {\n    z-index: 2; }\n  .ck-balloon-panel_arrow_n:before, .ck-balloon-panel_arrow_ne:before, .ck-balloon-panel_arrow_nw:before {\n    z-index: 1; }\n  .ck-balloon-panel_arrow_n:after, .ck-balloon-panel_arrow_ne:after, .ck-balloon-panel_arrow_nw:after {\n    z-index: 2; }\n  .ck-balloon-panel_visible {\n    display: block; }\n\n.ck-editor .ck-toolbar.ck-toolbar_sticky {\n  position: fixed;\n  top: 0; }\n  .ck-editor .ck-toolbar.ck-toolbar_sticky.ck-toolbar_sticky_bottom-limit {\n    top: auto;\n    position: absolute; }\n\n/**\n * Colors configured by the user.\n *\n * @type Map\n * @example\n *\t\t$ck-colors: ( \'foreground\': red );\n * @see $_ck-colors\n */\n/**\n * Internal map with default colors.\n *\n * @type Map\n * @see ck-color-add\n */\n/**\n * Returns a color of given name and lightness offset.\n *\n * @param {String} $name [ \'background\' ] - Name of the color.\n * @param {Number} $offset [ 0 ] - Offset of the lightness.\n * @return {String}\n * @see $_ck-colors\n */\n/**\n * Returns a border\u2013color for a given name and lightness offset.\n *\n * @param {String} $name [ \'background\' ] - Name of the color.\n * @param {Number} $offset [ 0 ] - Offset of the lightness.\n * @return {String}\n * @see $ck-color\n */\n/**\n * Adds a color to internal color map.\n *\n * @example\n *\t\t@include ck-color-add( ( \'special\': yellow, \'hover\': #00FF00 ) );\n * @param {Map} $map - A map with new colors.\n * @see $_ck-colors\n */\n/**\n * Base font size.\n *\n * @see $ck-font-sizes\n */\n/**\n * Base font face.\n *\n */\n/**\n * Base font sizes for scaling.\n *\n * @see ck-font-size\n */\n/**\n * Returns font-size in units for given level.\n *\n * @param {Number} $level [ 0 ] - Size of the font.\n * @return {String}\n * @see $ck-font-sizes\n * @see $ck-font-size-base\n */\n/**\n * Default border-radius value.\n *\n */\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n/**\n * Default spacing value ("unit").\n *\n */\n/**\n * Internal map with default spacings.\n *\n * @type Map\n * @see ck-spacing\n */\n/**\n * Returns a spacing value with units for given name.\n *\n * @param {String} $spacing [ \'standard\' ] - Spacing level.\n * @return {String}\n * @see $ck-def-spacing\n * @see $ck-def-spacings\n */\n/**\n * A visual style of focused element\'s outer shadow.\n */\n/**\n * A visual style of focused element\'s border or outline.\n */\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n  display: none; }\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n.ck-disabled {\n  opacity: .5; }\n\n/**\n * A visual style of focused element\'s border or outline.\n */\n/**\n * Brings visual styling for :focus state.\n */\n/**\n * A visual style of element\'s inner shadow (i.e. input).\n */\n/**\n * A visual style of element\'s drop shadow (i.e. panel).\n */\n/**\n * A helper to combine multiple shadows.\n */\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n/**\n * Resets an element, ignoring its children.\n */\n.ck-reset, .ck-reset_all, .ck-reset_all *, .ck-reset_all a, .ck-reset_all textarea {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  background: transparent;\n  text-decoration: none;\n  vertical-align: middle;\n  transition: none; }\n\n/**\n * Resets an element AND its children.\n */\n.ck-reset_all, .ck-reset_all *, .ck-reset_all a, .ck-reset_all textarea {\n  border-collapse: collapse;\n  font: normal normal normal 12px Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n  color: #333333;\n  text-align: left;\n  white-space: nowrap;\n  cursor: auto;\n  float: none; }\n\n.ck-reset_all .ck-rtl * {\n  text-align: right; }\n\n.ck-reset_all iframe {\n  vertical-align: inherit; }\n\n.ck-reset_all textarea {\n  white-space: pre-wrap; }\n\n.ck-reset_all textarea,\n.ck-reset_all input[type="text"],\n.ck-reset_all input[type="password"] {\n  cursor: text; }\n\n.ck-reset_all textarea[disabled],\n.ck-reset_all input[type="text"][disabled],\n.ck-reset_all input[type="password"][disabled] {\n  cursor: default; }\n\n.ck-reset_all fieldset {\n  padding: 10px;\n  border: 2px groove #E0DFE3; }\n\n.ck-reset_all button::-moz-focus-inner {\n  padding: 0;\n  border: 0; }\n\nsvg.ck-icon {\n  width: 1.66667em;\n  height: 1.66667em; }\n\n[data-ck-tooltip]::after {\n  left: 50%;\n  transition: opacity .2s ease-in-out .2s; }\n\n[data-ck-tooltip]::before {\n  left: 50%;\n  transition: opacity .2s ease-in-out .2s; }\n\n[data-ck-tooltip]::after {\n  border-radius: 2px;\n  color: white;\n  font-size: 0.7rem;\n  background: #333333;\n  padding: 0.4em 0.64em; }\n\n[data-ck-tooltip]::before {\n  border-style: solid; }\n\n/**\n * A class once applied displays the tooltip south of the element.\n *\n *       [element]\n *           ^\n *     +-----------+\n *     |  Tooltip  |\n *     +-----------+\n */\n.ck-tooltip_s::after {\n  bottom: -4px;\n  transform: translate(-50%, 100%); }\n\n.ck-tooltip_s::before {\n  bottom: 0;\n  transform: translate(-50%, 100%);\n  border-color: transparent transparent #333333 transparent;\n  border-width: 0 5px 5px 5px; }\n\n/**\n * A class once applied displays the tooltip north of the element.\n *\n *     +-----------+\n *     |  Tooltip  |\n *     +-----------+\n *           V\n *       [element]\n */\n.ck-tooltip_n::after {\n  top: -4px;\n  transform: translate(-50%, -100%); }\n\n.ck-tooltip_n::before {\n  top: 0;\n  transform: translate(-50%, -100%);\n  border-color: #333333 transparent transparent transparent;\n  border-width: 5px 5px 0 5px; }\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $color - Background color of the button.\n */\n/**\n * Implements button states.\n *\n * @param {String} $color - Background color of the button.\n */\n/**\n * A helper to define button\u2013specific icon styles.\n *\n */\n.ck-button,\na.ck-button {\n  background: white;\n  border-color: #bfbfbf;\n  border-width: 1px;\n  border-style: solid;\n  white-space: nowrap;\n  cursor: default;\n  vertical-align: middle;\n  padding: 0.4em;\n  line-height: 1.66667; }\n  .ck-button:not(.ck-disabled):hover, .ck-button:not(.ck-disabled):focus,\n  a.ck-button:not(.ck-disabled):hover,\n  a.ck-button:not(.ck-disabled):focus {\n    background: #e6e6e6;\n    border-color: #a6a6a6; }\n  .ck-button:not(.ck-disabled):active,\n  a.ck-button:not(.ck-disabled):active {\n    background: #d9d9d9;\n    border-color: #999999;\n    box-shadow: inset 0 2px 2px #bfbfbf; }\n  .ck-button.ck-rounded-corners,\n  .ck-rounded-corners .ck-button,\n  a.ck-button.ck-rounded-corners,\n  .ck-rounded-corners\n  a.ck-button {\n    border-radius: 2px; }\n  .ck-button:focus,\n  a.ck-button:focus {\n    outline: none;\n    border: 1px solid #6ab5f9;\n    box-shadow: 0 0 3px 2px #9bcdfb; }\n  .ck-button .ck-icon,\n  a.ck-button .ck-icon {\n    float: left; }\n  .ck-button.ck-button_with-text,\n  a.ck-button.ck-button_with-text {\n    padding: 0.4em 0.8em; }\n    .ck-button.ck-button_with-text .ck-icon,\n    a.ck-button.ck-button_with-text .ck-icon {\n      margin-left: -0.4em;\n      margin-right: 0.4em; }\n    .ck-button.ck-button_with-text .ck-button__label,\n    a.ck-button.ck-button_with-text .ck-button__label {\n      display: block; }\n  .ck-button.ck-on,\n  a.ck-button.ck-on {\n    background: #f7f7f7;\n    border-color: #b9b9b9; }\n    .ck-button.ck-on:not(.ck-disabled):hover, .ck-button.ck-on:not(.ck-disabled):focus,\n    a.ck-button.ck-on:not(.ck-disabled):hover,\n    a.ck-button.ck-on:not(.ck-disabled):focus {\n      background: #dedede;\n      border-color: #a1a1a1; }\n    .ck-button.ck-on:not(.ck-disabled):active,\n    a.ck-button.ck-on:not(.ck-disabled):active {\n      background: #d2d2d2;\n      border-color: #949494;\n      box-shadow: inset 0 2px 2px #b9b9b9; }\n  .ck-button-action,\n  a.ck-button-action {\n    background: #61b145;\n    border-color: #498534;\n    text-shadow: 0 -1px #4e8e37;\n    color: white; }\n    .ck-button-action:not(.ck-disabled):hover, .ck-button-action:not(.ck-disabled):focus,\n    a.ck-button-action:not(.ck-disabled):hover,\n    a.ck-button-action:not(.ck-disabled):focus {\n      background: #579f3e;\n      border-color: #3f732d; }\n    .ck-button-action:not(.ck-disabled):active,\n    a.ck-button-action:not(.ck-disabled):active {\n      background: #52963b;\n      border-color: #3a6a29;\n      box-shadow: inset 0 2px 2px #498534; }\n    .ck-button-action:hover, .ck-button-action:focus, .ck-button-action:active,\n    a.ck-button-action:hover,\n    a.ck-button-action:focus,\n    a.ck-button-action:active {\n      text-shadow: 0 -1px #3a6a29; }\n  .ck-button-bold,\n  a.ck-button-bold {\n    font-weight: bold; }\n  .ck-button .ck-icon use,\n  .ck-button .ck-icon use *,\n  a.ck-button .ck-icon use,\n  a.ck-button .ck-icon use * {\n    color: inherit; }\n  .ck-button .ck-button__label,\n  a.ck-button .ck-button__label {\n    float: left;\n    line-height: inherit;\n    font-size: inherit;\n    font-weight: inherit;\n    color: inherit;\n    cursor: inherit; }\n\n.ck-toolbar {\n  line-height: 1;\n  padding: 0.4em;\n  border: 1px solid #bfbfbf;\n  white-space: initial;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none; }\n  .ck-toolbar.ck-rounded-corners,\n  .ck-rounded-corners .ck-toolbar {\n    border-radius: 2px; }\n  .ck-toolbar-separator {\n    width: 1px;\n    height: calc( 1em + 2 * 0.64em);\n    vertical-align: middle;\n    background: #bfbfbf; }\n  .ck-toolbar-newline {\n    height: 0.4em; }\n  .ck-toolbar > * {\n    margin-right: 0.4em; }\n  .ck-toolbar > *:last-child {\n    margin-right: 0; }\n\n.ck-dropdown::after {\n  border-style: solid;\n  border-width: .4em .4em 0 .4em;\n  border-color: #707070 transparent;\n  right: 0.8em; }\n\n.ck-dropdown .ck-button.ck-dropdown__button {\n  padding-right: 1.6em; }\n  .ck-dropdown .ck-button.ck-dropdown__button .ck-button__label {\n    width: 7em;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n\n.ck-dropdown__panel {\n  border: 1px solid #b9b9b9;\n  bottom: 1px;\n  background: white;\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2); }\n  .ck-dropdown__panel.ck-rounded-corners,\n  .ck-rounded-corners .ck-dropdown__panel {\n    border-radius: 2px; }\n\n.ck-list {\n  list-style-type: none;\n  background: white; }\n  .ck-list.ck-rounded-corners,\n  .ck-rounded-corners .ck-list {\n    border-radius: 2px; }\n  .ck-list__item {\n    padding: 0.64em;\n    cursor: pointer;\n    min-width: 12em; }\n    .ck-list__item:hover, .ck-list__item:focus {\n      background: #f7f7f7; }\n    .ck-list__item:focus {\n      box-shadow: 0 0 3px 2px #9bcdfb;\n      outline: none; }\n    .ck-list__item:last-of-type {\n      border: none; }\n\n.ck-label {\n  font-weight: bold; }\n\n.ck-input-text {\n  box-shadow: 2px 2px 3px #e6e6e6 inset;\n  border: 1px solid #b9b9b9;\n  padding: 0.64em;\n  min-width: 250px; }\n  .ck-input-text.ck-rounded-corners,\n  .ck-rounded-corners .ck-input-text {\n    border-radius: 2px; }\n  .ck-input-text:focus {\n    outline: none;\n    border: 1px solid #6ab5f9;\n    box-shadow: 0 0 3px 2px #9bcdfb, 2px 2px 3px #e6e6e6 inset; }\n\n.ck-balloon-panel {\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);\n  min-width: 50px;\n  min-height: 15px;\n  background: white;\n  border: 1px solid #b9b9b9; }\n  .ck-balloon-panel.ck-rounded-corners,\n  .ck-rounded-corners .ck-balloon-panel {\n    border-radius: 2px; }\n  .ck-balloon-panel:before, .ck-balloon-panel:after {\n    width: 0;\n    height: 0;\n    border-style: solid; }\n  .ck-balloon-panel_arrow_s:before, .ck-balloon-panel_arrow_s:after, .ck-balloon-panel_arrow_se:before, .ck-balloon-panel_arrow_se:after, .ck-balloon-panel_arrow_sw:before, .ck-balloon-panel_arrow_sw:after {\n    border-width: 0 10px 15px 10px; }\n  .ck-balloon-panel_arrow_s:before, .ck-balloon-panel_arrow_se:before, .ck-balloon-panel_arrow_sw:before {\n    border-color: transparent transparent #b9b9b9 transparent; }\n  .ck-balloon-panel_arrow_s:after, .ck-balloon-panel_arrow_se:after, .ck-balloon-panel_arrow_sw:after {\n    border-color: transparent transparent white transparent;\n    margin-top: 2px; }\n  .ck-balloon-panel_arrow_n:before, .ck-balloon-panel_arrow_n:after, .ck-balloon-panel_arrow_ne:before, .ck-balloon-panel_arrow_ne:after, .ck-balloon-panel_arrow_nw:before, .ck-balloon-panel_arrow_nw:after {\n    border-width: 15px 10px 0 10px; }\n  .ck-balloon-panel_arrow_n:before, .ck-balloon-panel_arrow_ne:before, .ck-balloon-panel_arrow_nw:before {\n    border-color: #b9b9b9 transparent transparent; }\n  .ck-balloon-panel_arrow_n:after, .ck-balloon-panel_arrow_ne:after, .ck-balloon-panel_arrow_nw:after {\n    border-color: white transparent transparent transparent;\n    margin-bottom: 2px; }\n  .ck-balloon-panel_arrow_s:before, .ck-balloon-panel_arrow_s:after {\n    left: 50%;\n    margin-left: -10px;\n    top: -15px; }\n  .ck-balloon-panel_arrow_se:before, .ck-balloon-panel_arrow_se:after {\n    left: 20px;\n    top: -15px; }\n  .ck-balloon-panel_arrow_sw:before, .ck-balloon-panel_arrow_sw:after {\n    right: 20px;\n    top: -15px; }\n  .ck-balloon-panel_arrow_n:before, .ck-balloon-panel_arrow_n:after {\n    left: 50%;\n    margin-left: -10px;\n    bottom: -15px; }\n  .ck-balloon-panel_arrow_ne:before, .ck-balloon-panel_arrow_ne:after {\n    left: 20px;\n    bottom: -15px; }\n  .ck-balloon-panel_arrow_nw:before, .ck-balloon-panel_arrow_nw:after {\n    right: 20px;\n    bottom: -15px; }\n\n.ck-toolbar__container {\n  background: #f7f7f7; }\n  .ck-toolbar__container .ck-toolbar {\n    border-radius: 0;\n    border: 0; }\n    .ck-toolbar__container .ck-toolbar .ck-button {\n      border-width: 0; }\n      .ck-toolbar__container .ck-toolbar .ck-button:not(:hover):not(:focus):not(.ck-on), .ck-toolbar__container .ck-toolbar .ck-button.ck-disabled {\n        background: #f7f7f7; }\n      .ck-toolbar__container .ck-toolbar .ck-button.ck-on {\n        background: #dedede;\n        border-color: #a1a1a1; }\n        .ck-toolbar__container .ck-toolbar .ck-button.ck-on:not(.ck-disabled):hover, .ck-toolbar__container .ck-toolbar .ck-button.ck-on:not(.ck-disabled):focus {\n          background: #c6c6c6;\n          border-color: #888888; }\n        .ck-toolbar__container .ck-toolbar .ck-button.ck-on:not(.ck-disabled):active {\n          background: #b9b9b9;\n          border-color: #7c7c7c;\n          box-shadow: inset 0 2px 2px #a1a1a1; }\n    .ck-toolbar__container .ck-toolbar .ck-dropdown__button {\n      border-width: 1px; }\n      .ck-toolbar__container .ck-toolbar .ck-dropdown__button:not(:hover):not(:focus):not(.ck-on) {\n        background: white; }\n  .ck-toolbar__container.ck-balloon-panel_arrow_s:after, .ck-toolbar__container.ck-balloon-panel_arrow_se:after, .ck-toolbar__container.ck-balloon-panel_arrow_sw:after {\n    border-bottom-color: #f7f7f7; }\n  .ck-toolbar__container.ck-balloon-panel_arrow_n:after, .ck-toolbar__container.ck-balloon-panel_arrow_ne:after, .ck-toolbar__container.ck-balloon-panel_arrow_nw:after {\n    border-top-color: #f7f7f7; }\n\n.ck-editor .ck-toolbar.ck-toolbar_sticky {\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);\n  border: 1px solid #bfbfbf;\n  border-width: 0 0 1px;\n  background: #f7f7f7; }\n\n.ck-editor {\n  position: relative; }\n  .ck-editor.ck-rounded-corners,\n  .ck-rounded-corners .ck-editor {\n    border-radius: 2px; }\n  .ck-editor .ck-editor__top .ck-toolbar {\n    border-radius: 0;\n    border-top: 0;\n    border-left: 0;\n    border-right: 0; }\n    .ck-editor .ck-editor__top .ck-toolbar .ck-button {\n      border-width: 0; }\n      .ck-editor .ck-editor__top .ck-toolbar .ck-button:not(:hover):not(:focus):not(.ck-on), .ck-editor .ck-editor__top .ck-toolbar .ck-button.ck-disabled {\n        background: #f7f7f7; }\n      .ck-editor .ck-editor__top .ck-toolbar .ck-button.ck-on {\n        background: #dedede;\n        border-color: #a1a1a1; }\n        .ck-editor .ck-editor__top .ck-toolbar .ck-button.ck-on:not(.ck-disabled):hover, .ck-editor .ck-editor__top .ck-toolbar .ck-button.ck-on:not(.ck-disabled):focus {\n          background: #c6c6c6;\n          border-color: #888888; }\n        .ck-editor .ck-editor__top .ck-toolbar .ck-button.ck-on:not(.ck-disabled):active {\n          background: #b9b9b9;\n          border-color: #7c7c7c;\n          box-shadow: inset 0 2px 2px #a1a1a1; }\n    .ck-editor .ck-editor__top .ck-toolbar .ck-dropdown__button {\n      border-width: 1px; }\n      .ck-editor .ck-editor__top .ck-toolbar .ck-dropdown__button:not(:hover):not(:focus):not(.ck-on) {\n        background: white; }\n  .ck-editor .ck-editor__main {\n    background: white; }\n  .ck-editor .ck-editor__bottom {\n    border-bottom: 0;\n    border-left: 0;\n    border-right: 0;\n    padding: 0.8em; }\n  .ck-editor .ck-editor__editable.ck-focused {\n    outline: 1px solid #6ab5f9;\n    box-shadow: 2px 2px 3px #e6e6e6 inset; }\n  .ck-editor .ck-editor__editable_inline {\n    overflow: auto;\n    padding: 0 0.8em; }\n\n.ck-editor,\n.ck-editor-bottom {\n  background: #f7f7f7;\n  border: 1px solid #b9b9b9; }\n',''])},function(o,r,s){r=o.exports=s(65)(),r.push([o.i,'/**\n * Default spacing value ("unit").\n *\n */\n/**\n * Internal map with default spacings.\n *\n * @type Map\n * @see ck-spacing\n */\n/**\n * Returns a spacing value with units for given name.\n *\n * @param {String} $spacing [ \'standard\' ] - Spacing level.\n * @return {String}\n * @see $ck-def-spacing\n * @see $ck-def-spacings\n */\n.ck-alternate-text-form {\n  padding: 1.2em;\n  overflow: hidden; }\n  .ck-alternate-text-form .ck-label {\n    margin-bottom: 0.4em; }\n  .ck-alternate-text-form__actions {\n    clear: both;\n    padding-top: 1.2em; }\n    .ck-alternate-text-form__actions .ck-button {\n      float: right; }\n      .ck-alternate-text-form__actions .ck-button + .ck-button {\n        margin-right: 0.64em; }\n        .ck-alternate-text-form__actions .ck-button + .ck-button + .ck-button {\n          float: left; }\n',''])},function(o,r,s){r=o.exports=s(65)(),r.push([o.i,'.ck-widget {\n  margin: 10px 0;\n  padding: 0; }\n  .ck-widget.ck-widget_selected, .ck-widget.ck-widget_selected:hover {\n    outline: 2px solid #ace; }\n  .ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected {\n    outline: 2px solid #ddd; }\n  .ck-widget:hover {\n    outline: 2px solid yellow; }\n\n.ck-widget.image {\n  text-align: center;\n  clear: both; }\n  .ck-widget.image.image-style-side {\n    display: inline-block;\n    float: right;\n    margin-left: 0.8em; }\n',''])},function(o,r,s){r=o.exports=s(65)(),r.push([o.i,'/**\n * Default spacing value ("unit").\n *\n */\n/**\n * Internal map with default spacings.\n *\n * @type Map\n * @see ck-spacing\n */\n/**\n * Returns a spacing value with units for given name.\n *\n * @param {String} $spacing [ \'standard\' ] - Spacing level.\n * @return {String}\n * @see $ck-def-spacing\n * @see $ck-def-spacings\n */\n.ck-link-form {\n  padding: 1.2em;\n  overflow: hidden; }\n  .ck-link-form .ck-label {\n    margin-bottom: 0.4em; }\n  .ck-link-form__actions {\n    clear: both;\n    padding-top: 1.2em; }\n    .ck-link-form__actions .ck-button {\n      float: right; }\n      .ck-link-form__actions .ck-button + .ck-button {\n        margin-right: 0.64em; }\n        .ck-link-form__actions .ck-button + .ck-button + .ck-button {\n          float: left; }\n',''])},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>bold</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="bold" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:bold" sketch:type="MSLayerGroup" transform="translate(4.000000, 3.000000)">\n                <path d="M11.135257,7.40877709 C11.4960763,7.65684034 11.7892376,7.96832419 12.0147496,8.34323798 C12.2402617,8.71815176 12.353016,9.15930309 12.353016,9.66670521 C12.353016,10.2755877 12.2247579,10.7900294 11.968238,11.2100456 C11.711718,11.6300618 11.343857,11.9612776 10.8646439,12.2037031 C10.3572418,12.463042 9.77232867,12.6462677 9.10988702,12.753386 C8.44744538,12.8605042 7.66803104,12.9140625 6.77162064,12.9140625 L0.5390625,12.9140625 L0.5390625,12.254443 C0.713834339,12.2375296 0.933705291,12.2121599 1.19868195,12.1783331 C1.46365861,12.1445063 1.64970326,12.1050423 1.75682149,12.0599399 C1.96542013,11.9753729 2.10777248,11.864028 2.1838828,11.7259018 C2.25999311,11.5877757 2.2980477,11.4087782 2.2980477,11.1889039 L2.2980477,2.73224432 C2.2980477,2.52928347 2.26704026,2.36015197 2.20502445,2.22484474 C2.14300863,2.08953751 1.99360914,1.97114546 1.75682149,1.86966504 C1.58204965,1.79637362 1.37909184,1.73576817 1.14794199,1.68784686 C0.916792141,1.63992554 0.713834339,1.60187096 0.5390625,1.57368195 L0.5390625,0.9140625 L7.05914707,0.9140625 C8.69974724,0.9140625 9.88366774,1.13957117 10.6109441,1.59059527 C11.3382205,2.04161937 11.7018532,2.70686994 11.7018532,3.58636694 C11.7018532,3.99228863 11.6201063,4.34887421 11.4566101,4.65613438 C11.2931138,4.96339455 11.0591486,5.22977666 10.7547073,5.45528872 C10.4784551,5.66388736 10.1486486,5.8442943 9.76527814,5.99651493 C9.38190766,6.14873557 8.97035434,6.27558419 8.53060584,6.37706461 L8.53060584,6.53774115 C8.97035434,6.58284356 9.42700939,6.68009417 9.9005847,6.8294959 C10.37416,6.97889764 10.7857133,7.17198943 11.135257,7.40877709 L11.135257,7.40877709 Z M8.41221261,3.79778343 C8.41221261,3.13252288 8.22475853,2.61385294 7.84984474,2.24175806 C7.47493096,1.86966318 6.91256872,1.68361853 6.16274115,1.68361853 C6.05562292,1.68361853 5.91608943,1.68784681 5.7441365,1.69630351 C5.57218356,1.70476022 5.42419349,1.71180736 5.30016187,1.71744516 L5.30016187,6.16564812 L5.73990817,6.16564812 C6.65323197,6.16564812 7.32693912,5.95282432 7.76104982,5.52717032 C8.19516051,5.10151633 8.41221261,4.52505979 8.41221261,3.79778343 L8.41221261,3.79778343 Z M9.00417878,9.55676863 C9.00417878,8.72237404 8.75611924,8.0824932 8.25999273,7.6371069 C7.76386622,7.1917206 7.05069506,6.96903079 6.12045785,6.96903079 C6.01333962,6.96903079 5.87098728,6.97325908 5.69339654,6.98171578 C5.5158058,6.99017248 5.38472888,6.99721962 5.30016187,7.00285743 L5.30016187,11.3918638 C5.35090208,11.6004624 5.50875814,11.7766411 5.7737348,11.920405 C6.03871146,12.0641689 6.36006132,12.1360498 6.737794,12.1360498 C7.40869235,12.1360498 7.95414144,11.9105411 8.37415764,11.459517 C8.79417383,11.0084929 9.00417878,10.3742498 9.00417878,9.55676863 L9.00417878,9.55676863 Z" id="B" sketch:type="MSShapeGroup"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>italic</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="italic" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:italic" sketch:type="MSLayerGroup" transform="translate(5.000000, 3.000000)">\n                <path d="M8.82538319,0.9140625 L8.6985333,1.47220203 C8.52376146,1.47783984 8.29543393,1.50320956 8.01354387,1.54831197 C7.73165381,1.59341438 7.52305829,1.63569726 7.38775106,1.67516187 C7.1509634,1.74845328 6.9818319,1.86120762 6.88035148,2.01342825 C6.77887106,2.16564888 6.70558074,2.33196153 6.66047833,2.51237117 L4.63088002,11.2819272 C4.61960442,11.3213918 4.61114784,11.3664935 4.60551004,11.4172337 C4.59987224,11.467974 4.59705338,11.5130757 4.59705338,11.5525403 C4.59705338,11.6822097 4.62524197,11.7921452 4.68161998,11.88235 C4.73799799,11.9725548 4.83947689,12.0514829 4.98605973,12.1191365 C5.07062674,12.1586011 5.2566714,12.2051123 5.54419926,12.2586714 C5.83172712,12.3122305 6.04596036,12.3446474 6.18690539,12.355923 L6.0600555,12.9140625 L0.65625,12.9140625 L0.783099894,12.355923 C0.94095833,12.3446474 1.166467,12.3277342 1.45963266,12.305183 C1.75279833,12.2826318 1.96139385,12.2488055 2.08542548,12.2037031 C2.30529973,12.1247739 2.47161237,12.0162478 2.58436839,11.8781217 C2.69712442,11.7399956 2.77323359,11.5722735 2.8126982,11.3749504 L4.83383985,2.59693776 C4.84511545,2.54619755 4.85357203,2.4954581 4.85920983,2.44471789 C4.86484763,2.39397768 4.86766649,2.34323823 4.86766649,2.29249802 C4.86766649,2.17974199 4.84370619,2.08108195 4.79578488,1.99651493 C4.74786357,1.91194791 4.6477941,1.83583874 4.49557347,1.76818512 C4.34335283,1.70053151 4.13616674,1.63710719 3.87400899,1.57791028 C3.61185123,1.51871337 3.41875943,1.48347764 3.2947278,1.47220203 L3.4215777,0.9140625 L8.82538319,0.9140625 Z" id="I" sketch:type="MSShapeGroup"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="100%" height="100%" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M17.084,3.988l0.053,0.005l0.076,0.008l0.097,0.014l0.096,0.019l0.093,0.022l0.09,0.026l0.091,0.029l0.09,0.034l0.087,0.038l0.084,0.041l0.083,0.044l0.082,0.049l0.079,0.053l0.075,0.055l0.073,0.059l0.071,0.063l0.067,0.066l0.064,0.067l0.062,0.073l0.057,0.075l0.054,0.078l0.05,0.081l0.046,0.081l0.042,0.085l0.039,0.088l0.033,0.088l0.03,0.09l0.025,0.092l0.021,0.094l0.016,0.095l0.011,0.095l0.007,0.096l0.002,0.083l0,8.025l-0.002,0.09l-0.008,0.102l-0.013,0.1l-0.017,0.097l-0.023,0.097l-0.027,0.096l-0.032,0.094l-0.036,0.091l-0.039,0.088l-0.045,0.087l-0.048,0.084l-0.052,0.081l-0.056,0.078l-0.058,0.074l-0.063,0.074l-0.067,0.069l-0.069,0.066l-0.072,0.062l-0.076,0.06l-0.078,0.056l-0.08,0.051l-0.085,0.049l-0.087,0.045l-0.088,0.039l-0.09,0.036l-0.095,0.032l-0.095,0.027l-0.097,0.022l-0.098,0.018l-0.101,0.013l-0.101,0.007l-0.088,0.003l-14.028,0l-0.088,-0.003l-0.101,-0.007l-0.101,-0.013l-0.098,-0.018l-0.096,-0.022l-0.096,-0.027l-0.095,-0.032l-0.09,-0.036l-0.088,-0.039l-0.087,-0.045l-0.084,-0.049l-0.08,-0.051l-0.079,-0.056l-0.076,-0.06l-0.072,-0.062l-0.069,-0.066l-0.066,-0.069l-0.064,-0.074l-0.058,-0.074l-0.055,-0.078l-0.052,-0.081l-0.05,-0.085l-0.043,-0.086l-0.04,-0.088l-0.037,-0.092l-0.031,-0.093l-0.027,-0.095l-0.023,-0.097l-0.017,-0.098l-0.013,-0.101l-0.008,-0.102l-0.002,-0.089l0,-8.024l0.002,-0.085l0.007,-0.096l0.011,-0.094l0.017,-0.095l0.02,-0.093l0.025,-0.092l0.03,-0.092l0.034,-0.088l0.038,-0.087l0.042,-0.084l0.046,-0.082l0.05,-0.082l0.054,-0.077l0.057,-0.074l0.062,-0.074l0.065,-0.068l0.065,-0.064l0.072,-0.064l0.074,-0.059l0.075,-0.055l0.078,-0.052l0.082,-0.05l0.083,-0.044l0.084,-0.041l0.088,-0.038l0.089,-0.034l0.091,-0.029l0.091,-0.026l0.093,-0.022l0.095,-0.019l0.097,-0.014l0.077,-0.009l0.053,-0.004l0.053,-0.001l14,0l0.054,0.001Zm-14.054,0.999l-0.056,0.006l-0.055,0.008l-0.053,0.01l-0.052,0.013l-0.051,0.014l-0.049,0.016l-0.048,0.019l-0.047,0.02l-0.045,0.021l-0.043,0.024l-0.042,0.025l-0.041,0.027l-0.038,0.028l-0.037,0.03l-0.036,0.031l-0.033,0.033l-0.032,0.034l-0.03,0.036l-0.028,0.036l-0.027,0.038l-0.024,0.039l-0.023,0.041l-0.02,0.041l-0.019,0.042l-0.016,0.043l-0.014,0.044l-0.013,0.045l-0.01,0.046l-0.008,0.046l-0.005,0.048l-0.004,0.047l-0.001,0.049l0,8l0.001,0.051l0.004,0.051l0.007,0.05l0.008,0.049l0.012,0.049l0.013,0.047l0.016,0.046l0.018,0.046l0.02,0.044l0.022,0.043l0.024,0.042l0.026,0.041l0.028,0.039l0.03,0.038l0.031,0.036l0.033,0.035l0.035,0.033l0.036,0.031l0.038,0.03l0.039,0.028l0.041,0.026l0.042,0.024l0.043,0.022l0.044,0.02l0.045,0.018l0.047,0.016l0.047,0.013l0.049,0.011l0.049,0.009l0.05,0.007l0.051,0.003l0.051,0.002l14,0l0.052,-0.002l0.05,-0.003l0.05,-0.007l0.05,-0.009l0.048,-0.011l0.047,-0.013l0.047,-0.016l0.045,-0.018l0.044,-0.02l0.044,-0.022l0.041,-0.024l0.041,-0.026l0.039,-0.028l0.038,-0.03l0.036,-0.031l0.035,-0.033l0.033,-0.035l0.032,-0.036l0.029,-0.038l0.028,-0.039l0.026,-0.041l0.024,-0.042l0.022,-0.043l0.02,-0.044l0.018,-0.046l0.016,-0.046l0.014,-0.047l0.011,-0.049l0.009,-0.049l0.006,-0.05l0.004,-0.051l0.001,-0.051l0,-8l-0.001,-0.049l-0.004,-0.047l-0.005,-0.048l-0.008,-0.046l-0.01,-0.046l-0.012,-0.045l-0.015,-0.044l-0.016,-0.043l-0.019,-0.042l-0.02,-0.041l-0.023,-0.041l-0.024,-0.039l-0.027,-0.038l-0.028,-0.036l-0.03,-0.036l-0.032,-0.034l-0.033,-0.033l-0.036,-0.031l-0.037,-0.03l-0.038,-0.028l-0.041,-0.027l-0.042,-0.025l-0.043,-0.024l-0.045,-0.021l-0.047,-0.02l-0.048,-0.019l-0.049,-0.016l-0.051,-0.014l-0.052,-0.013l-0.053,-0.01l-0.055,-0.008l-0.056,-0.006l-14,0Zm3.97,3.013l-1,0l0,4l1,0l0,1l-3,0l0,-1l1,0l0,-4l-1,0l0,-1l3,0l0,1Z" style="fill:#353535;"/></svg>\n'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="100%" height="100%" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve"><path d="M2,16l16,0l0,1l-16,0l0,-1Zm15,-2l-14,0l0,-8l14,0l0,8Zm-1,-7l-12,0l0,6l12,0l0,-6Zm-14,-4l16,0l0,1l-16,0l0,-1Z" style="fill:#343434;"/></svg>\n'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="100%" height="100%" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve"><path id="_-Curves-" d="M18,16l-16,0l0,-1l16,0l0,1Zm-11.022,-3l-4.978,0l0,-1l4.978,0l0,1Zm11.022,-7l0,7l-9,0l0,-7l9,0Zm-1,6l0,-5l-7,0l0,5l7,0Zm-10.022,-2l-4.978,0l0,-1l4.978,0l0,1Zm0,-3l-4.978,0l0,-1l4.978,0l0,1Zm11.022,-3l-16,0l0,-1l16,0l0,1Z" style="fill:#343434;"/></svg>\n'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>link</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="link" sketch:type="MSArtboardGroup" fill="#222222">\n            <g id="icon:link" sketch:type="MSLayerGroup">\n                <g id="Rectangle-18-+-Rectangle-18-Copy-+-Path-28" transform="translate(9.646447, 9.853553) rotate(-315.000000) translate(-9.646447, -9.853553) translate(5.646447, 0.853553)" sketch:type="MSShapeGroup">\n                    <path d="M8,6.55919636 L8,4.82450549 C8,2.61334348 6.2104719,0.828427125 4,0.828427125 C1.79353398,0.828427125 -3.20810045e-12,2.61822724 -3.20810045e-12,4.82450549 L-3.20810045e-12,7.75542568 C-3.20810045e-12,9.96658769 1.7895281,11.751504 4,11.751504 C4.5511606,11.751504 5.07655559,11.6398264 5.55466651,11.437876 L5.12132034,11.437876 L5.12132034,10.5346402 C4.77469964,10.6745028 4.39616036,10.751504 4,10.751504 C2.34314575,10.751504 1,9.41562927 1,7.75542568 L1,4.82450549 C1,3.1698171 2.34651712,1.82842712 4,1.82842712 C5.65685425,1.82842712 7,3.1643019 7,4.82450549 L7,6.55919636 L8,6.55919636 Z" id="Shape"></path>\n                    <path d="M2.63603897,6.90151354 C3.06184352,6.74698845 3.52119959,6.66270951 4,6.66270951 C6.2104719,6.66270951 8,8.44762587 8,10.6587879 L8,13.5897081 C8,15.7959863 6.20646602,17.5857864 4,17.5857864 C1.7895281,17.5857864 -2.32347475e-12,15.8008701 -2.32347475e-12,13.5897081 L-2.32347475e-12,11.6627095 L1,11.6627095 L1,13.5897081 C1,15.2499117 2.34314575,16.5857864 4,16.5857864 C5.65348288,16.5857864 7,15.2443965 7,13.5897081 L7,10.6587879 C7,8.99858429 5.65685425,7.66270951 4,7.66270951 C3.5092458,7.66270951 3.04553235,7.78087311 2.63603897,7.99032058 L2.63603897,6.90151354 Z" id="Shape"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>unlink</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="unlink" sketch:type="MSArtboardGroup" fill="#222222">\n            <g id="icon:unlink" sketch:type="MSLayerGroup">\n                <g id="Rectangle-18-+-Rectangle-18-Copy-+-Path-28-Copy" transform="translate(12.828427, 13.035534) rotate(-315.000000) translate(-12.828427, -13.035534) translate(4.328427, 4.035534)" sketch:type="MSShapeGroup">\n                    <path d="M8,6.55919636 L8,4.82450549 C8,2.61334348 6.2104719,0.828427125 4,0.828427125 C1.79353398,0.828427125 -3.20454774e-12,2.61822724 -3.20454774e-12,4.82450549 L-3.20454774e-12,7.75542568 C-3.20454774e-12,9.96658769 1.7895281,11.751504 4,11.751504 C4.5511606,11.751504 5.07655559,11.6398264 5.55466651,11.437876 L5.12132034,11.437876 L5.12132034,10.5346402 C4.77469964,10.6745028 4.39616036,10.751504 4,10.751504 C2.34314575,10.751504 1,9.41562927 1,7.75542568 L1,4.82450549 C1,3.1698171 2.34651712,1.82842712 4,1.82842712 C5.65685425,1.82842712 7,3.1643019 7,4.82450549 L7,6.55919636 L8,6.55919636 Z" id="Shape"></path>\n                    <path d="M12.1301896,9.691731 L12.1301896,6.07623654 L11.1099103,6.07623654 L11.1099103,9.691731 L7.79324873,9.691731 L7.79324873,10.7120103 L11.1099103,10.7120103 L11.1099103,14.3275047 L12.1301896,14.3275047 L12.1301896,10.7120103 L16.0445169,10.7120103 L16.0445169,9.691731 L12.1301896,9.691731 Z M7.52584209,8.6418508 C6.80172121,7.49371533 5.53005392,6.73384534 4.08111717,6.73384534 C3.59260703,6.73384534 3.12393555,6.82077136 2.68949598,6.98014985 L2.68949598,8.10315471 C3.10729359,7.8871288 3.58041083,7.76525387 4.08111717,7.76525387 C5.2472836,7.76525387 6.26112906,8.4209623 6.77783518,9.38985772 L7.52584209,8.6418508 Z M8.16223435,12.3942945 L8.16223435,13.8784107 C8.16223435,16.1539849 6.33232877,18 4.08111717,18 C1.82581847,18 -8.17124146e-14,16.1590221 -8.17124146e-14,13.8784107 L-8.17124146e-14,11.890888 L1.02027929,11.890888 L1.02027929,13.8784107 C1.02027929,15.5907588 2.39066309,16.9685915 4.08111717,16.9685915 C5.76813152,16.9685915 7.14195505,15.5850704 7.14195505,13.8784107 L7.14195505,11.3740152 L8.16223435,12.3942945 Z" id="Shape"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>bulletedlist</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="bulletedlist" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:bulletedlist" sketch:type="MSLayerGroup" transform="translate(1.000000, 3.000000)">\n                <path d="M5,13 L5,14 L15,14 L15,13 L5,13 L5,13 Z M5,1 L5,2 L17,2 L17,1 L5,1 L5,1 Z M5,7 L5,8 L16,8 L16,7 L5,7 L5,7 Z M0,1.5 C0,0.671572875 0.665797234,0 1.5,0 L1.5,0 C2.32842712,0 3,0.665797234 3,1.5 L3,1.5 C3,2.32842712 2.33420277,3 1.5,3 L1.5,3 C0.671572875,3 0,2.33420277 0,1.5 L0,1.5 Z M0,7.5 C0,6.67157288 0.665797234,6 1.5,6 L1.5,6 C2.32842712,6 3,6.66579723 3,7.5 L3,7.5 C3,8.32842712 2.33420277,9 1.5,9 L1.5,9 C0.671572875,9 0,8.33420277 0,7.5 L0,7.5 Z M0,13.5 C0,12.6715729 0.665797234,12 1.5,12 L1.5,12 C2.32842712,12 3,12.6657972 3,13.5 L3,13.5 C3,14.3284271 2.33420277,15 1.5,15 L1.5,15 C0.671572875,15 0,14.3342028 0,13.5 L0,13.5 Z" id="path4634" sketch:type="MSShapeGroup"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>numberedlist</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="numberedlist" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:numberedlist" sketch:type="MSLayerGroup" transform="translate(2.000000, 2.000000)">\n                <path d="M5,15 L15,15 L15,14 L5,14 L5,15 Z M4,2 L4,3 L17,3 L17,2 L4,2 L4,2 Z M5,8 L5,9 L16,9 L16,8 L5,8 L5,8 Z" id="path4634" sketch:type="MSShapeGroup"></path>\n                <g id="path4712-path-+-path4712-path-+-path4712-path-copy" sketch:type="MSShapeGroup">\n                    <path d="M0,0.5 C0,0.77699 0.223,1 0.5,1 L1,1 L1,4.5 C1,4.77699 1.223,5 1.5,5 C1.777,5 2,4.77699 2,4.5 L2,0.5 C2,0.223 1.777,0 1.5,0 L0.5,0 C0.223,0 0,0.223 0,0.5 Z" id="path4712-path"></path>\n                    <path d="M0.5,6 C0.223,6 0,6.223 0,6.5 C0,6.77699 0.223,7 0.5,7 L2,7 L2,8 L0.5,8 C0.223,8 0,8.223 0,8.5 L0,10.5 C0,10.77699 0.223,11 0.5,11 L2.5,11 C2.777,11 3,10.77699 3,10.5 C3,10.223 2.777,10 2.5,10 L1,10 L1,9 L2.5,9 C2.5693,9 2.62764,8.994 2.6875,8.9688 C2.81468,8.9278 2.9182,8.82667 2.96875,8.68755 C2.99395,8.62765 2.99995,8.5693 2.99995,8.50005 L2.99995,6.50005 C2.99995,6.43075 2.99395,6.3724 2.96875,6.31255 C2.91825,6.17342 2.81468,6.07227 2.6875,6.0313 C2.6471,6.0142 2.6076,6.006 2.5625,6.0001 L2.5,6.0001 L0.5,6.0001 L0.5,6 Z" id="path4712-path"></path>\n                    <path d="M2.85209534,16.8526748 C2.94267961,16.7627344 3,16.6389489 3,16.5023012 L3,12.4976988 C3,12.3570579 2.94465639,12.2332311 2.85505992,12.1442682 C2.76454727,12.057652 2.64101746,12 2.50461102,12 L0.495388985,12 C0.215752602,12 0,12.2238576 0,12.5 C0,12.7680664 0.221793203,13 0.495388985,13 L2,13 L2,14 L0.495388985,14 C0.215752602,14 0,14.2238576 0,14.5 C0,14.7680664 0.221793203,15 0.495388985,15 L2,15 L2,16 L0.495388985,16 C0.215752602,16 0,16.2238576 0,16.5 C0,16.7680664 0.221793203,17 0.495388985,17 L2.50461102,17 C2.6440432,17 2.76759251,16.9443442 2.85643212,16.854302 Z" id="Rectangle-403"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 3.8.2 (29753) - http://www.bohemiancoding.com/sketch -->\n    <title>redo</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Mockups" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="redo" fill="#454545">\n            <g id="undo">\n                <path d="M10.00002,15.99998 L11,12.0184937 C7.58334,12.0184937 2.38444,12.88666 1,16 C1,10.01667 7.60112,8.03985596 11,8.03985596 C10.99998,7.18907596 9.99999,4.71945 10,4 L18,10 L10.00002,15.99998 Z"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 3.8.2 (29753) - http://www.bohemiancoding.com/sketch -->\n    <title>undo</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Mockups" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="undo" fill="#454545">\n            <g>\n                <path d="M2,10 L9.99998,15.99998 L9,12.0184937 C12.41666,12.0184937 17.61556,12.88666 19,16 C19,10.01667 12.39888,8.03985596 9,8.03985596 C9.00002,7.18907596 10.00001,4.71945 10,4 L2,10 Z"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(o,r,s){var d=s(288);'string'==typeof d&&(d=[[o.i,d,'']]);s(66)(d,{});d.locals&&(o.exports=d.locals),!1},function(o,r,s){var d=s(289);'string'==typeof d&&(d=[[o.i,d,'']]);s(66)(d,{});d.locals&&(o.exports=d.locals),!1},function(o,r,s){var d=s(290);'string'==typeof d&&(d=[[o.i,d,'']]);s(66)(d,{});d.locals&&(o.exports=d.locals),!1},function(o,r,s){var d=s(291);'string'==typeof d&&(d=[[o.i,d,'']]);s(66)(d,{});d.locals&&(o.exports=d.locals),!1},function(o){var s=function(){return this}();try{s=s||Function('return this')()||(1,eval)('this')}catch(d){'object'==typeof window&&(s=window)}o.exports=s},function(o,r,s){'use strict';var d=s(2),u=s(38);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=class{constructor(h,w,C){let T;if('function'==typeof C)T=C;else{T=S=>{const{batch:O}=S;h.execute(C,{batch:O})}}h.document.on('change',(P,S,O)=>{if('insert'==S){const E=O.range.getItems().next().value;if(E instanceof u.a){const V=E.textNode,R=V.data;if('paragraph'===V.parent.name&&R){const F=w.exec(R);F&&h.document.enqueueChanges(()=>{const N=h.document.batch(),M=d.a.createFromParentsAndOffsets(V.parent,0,V.parent,F[0].length);N.remove(M),T({batch:N,match:F})})}}}})}}},function(o,r,s){'use strict';function d(w){return Array.from(w.getChildren()).reduce((C,T)=>C+T.data,'')}var u=s(107),f=s(97);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=class{constructor(w,C,T){this.editor=w;let P,S,O,E;C instanceof RegExp?P=C:O=C,'string'==typeof T?S=T:E=T,O=O||(V=>{let R,F=[],N=[];for(;null!==(R=P.exec(V))&&!(R&&4>R.length);){let{index:M,1:L,2:I,3:D}=R;M+=R[0].length-(L+I+D).length;const z=[M,M+L.length],$=[M+L.length+I.length,M+L.length+I.length+D.length];F.push(z),F.push($),N.push([M+L.length,M+L.length+I.length])}return{remove:F,format:N}}),E=E||((V,R)=>{for(let F of R)V.setAttribute(F,S,!0)}),w.document.on('change',(V,R)=>{if('insert'===R){const F=this.editor.document.selection;if(F.isCollapsed&&F.focus&&F.focus.parent){const N=F.focus.parent,M=d(N).slice(0,F.focus.offset),L=O(M),I=[];L.format.forEach(z=>{void 0===z[0]||void 0===z[1]||I.push(u.a.createFromParentsAndOffsets(N,z[0],N,z[1]))});const D=[];if(L.remove.slice().reverse().forEach(z=>{void 0===z[0]||void 0===z[1]||D.push(u.a.createFromParentsAndOffsets(N,z[0],N,z[1]))}),!!(I.length&&D.length)){const q=w.document.batch();w.document.enqueueChanges(()=>{const z=s.i(f.a)(S,I,w.document.schema);E(q,z);for(let $ of D)q.remove($)})}}}})}}},function(o,r,s){'use strict';var d=s(57),u=s(311);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{constructor(h){super(h),this.domEventType=['paste','copy','cut']}onDomEvent(h){this.fire(h.type,h,{dataTransfer:new u.a(h.clipboardData)})}}r.a=f},function(o,r){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=class{constructor(u){this._native=u}getData(u){return this._native.getData(u)}setData(u,f){this._native.setData(u,f)}}},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(u){return u.replace(/<span class="Apple-converted-space">(\s+)<\/span>/g,(f,h)=>{return 1==h.length?' ':h})}},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(u){return u=u.replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n\n/g,'</p><p>').replace(/\n/g,' ').replace(/^\s/,'&nbsp;').replace(/\s$/,'&nbsp;').replace(/\s\s/g,' &nbsp;'),-1<u.indexOf('</p><p>')&&(u=`<p>${u}</p>`),u}},function(o,r,s){'use strict';var d=s(60);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class u extends d.a{constructor(f){super(),this.editor=f}set(f,h){if('string'==typeof h){const w=h;h=()=>{this.editor.execute(w)}}super.set(f,h)}listenTo(f){this._listener.listenTo(f,'keydown',(h,w)=>{const C=this.press(w);C&&w.preventDefault()})}}r.a=u},function(o,r,s){'use strict';var d=s(7),u=s(394),f=s(317),h=s(508),w=s(320),C=s(335),T=s(0),P=s(4);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class S{constructor(O){this.config=new u.a(O),this.plugins=new f.a(this),this.commands=new Map,this.locale=new h.a(this.config.get('lang')),this.t=this.locale.t,this.document=new C.a,this.data=new w.a(this.document)}initPlugins(){function E(F,N){return F.reduce((M,L)=>{return M.then(L[N].bind(L))},Promise.resolve())}const V=this,R=this.config;return function(){return V.plugins.load(R.get('plugins')||[])}().then(F=>{return E(F,'init').then(()=>E(F,'afterInit'))}).then(()=>this.fire('pluginsReady'))}destroy(){return this.fire('destroy'),this.stopListening(),Promise.resolve().then(()=>{this.document.destroy(),this.data.destroy()})}execute(O,E){let V=this.commands.get(O);if(!V)throw new T.a('editor-command-not-found: Specified command has not been added to the editor.');V._execute(E)}static create(O){return new Promise(E=>{const V=new this(O);E(V.initPlugins().then(()=>{V.fire('dataReady'),V.fire('ready')}).then(()=>V))})}}r.a=S,s.i(P.a)(S,d.a)},function(o,r,s){'use strict';var d=s(315),u=s(314),f=s(322),h=s(397),w=s(405);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class C extends d.a{constructor(T,P){super(P),this.element=T,this.editing=new f.a(this.document),this.keystrokes=new u.a(this),this.keystrokes.listenTo(this.editing.view)}destroy(){return Promise.resolve().then(()=>this.keystrokes.destroy()).then(()=>this.editing.destroy()).then(super.destroy())}setData(T){this.data.set(T)}getData(){return this.data.get()}updateEditorElement(){s.i(w.a)(this.element,this.getData())}loadDataFromEditorElement(){this.setData(s.i(h.a)(this.element))}static create(T,P){return new Promise(S=>{const O=new this(T,P);S(O.initPlugins().then(()=>{O.fire('dataReady'),O.fire('ready')}).then(()=>O))})}}r.a=C},function(o,r,s){'use strict';var d=s(3),u=s(0),f=s(53);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h{constructor(w){this._editor=w,this._plugins=new Map}*[Symbol.iterator](){for(const w of this._plugins)'function'==typeof w[0]&&(yield w)}get(w){return this._plugins.get(w)}load(w){function C(R){return S.get(R)||E.has(R)?void 0:T(R).catch(F=>{throw f.a.error('plugincollection-load: It was not possible to load the plugin.',{plugin:R}),F})}function T(R){return new Promise(F=>{E.add(R),P(R),R.requires&&R.requires.forEach(C);const N=new R(O);S._add(R,N),V.push(N),F()})}function P(R){if(!(R.prototype instanceof d.a))throw new u.a('plugincollection-instance: The loaded plugin module is not an instance of Plugin.',{plugin:R})}const S=this,O=this._editor,E=new Set,V=[];return Promise.all(w.map(C)).then(()=>V)}_add(w,C){this._plugins.set(w,C),w.pluginName&&this._plugins.set(w.pluginName,C)}}r.a=h},function(o,r,s){'use strict';var d=s(376),u=s(59);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=class{constructor(h,w){this.editor=h,this.view=w,this.componentFactory=new d.a(h),this.focusTracker=new u.a,w.set('width',h.config.get('ui.width')),w.set('height',h.config.get('ui.height')),w.toolbar.bind('isActive').to(this.focusTracker,'isFocused'),w.toolbar.limiterElement=w.element;const C=h.editing.createRoot('div');w.editable.bind('isReadOnly').to(C),w.editable.bind('isFocused').to(h.editing.view),w.editable.name=C.rootName,this.focusTracker.add(w.editableElement)}init(){const h=this.editor;return this.view.init().then(()=>{const w=h.config.get('toolbar'),C=[];if(w)for(let T of w)C.push(this.view.toolbar.items.add(this.componentFactory.create(T)));return Promise.all(C)}).then(()=>{const w=this.view.toolbar.focusTracker;this.focusTracker.add(this.view.toolbar.element),h.keystrokes.set('Alt+F10',(C,T)=>{this.focusTracker.isFocused&&!w.isFocused&&(this.view.toolbar.focus(),T())}),this.view.toolbar.keystrokes.set('Esc',(C,T)=>{w.isFocused&&(h.editing.view.focus(),T())})})}destroy(){return this.view.destroy()}}},function(o,r,s){'use strict';var d=s(383),u=s(382),f=s(390);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h extends d.a{constructor(w){super(w),this.toolbar=new f.a(w),this.editable=new u.a(w),this.top.add(this.toolbar),this.main.add(this.editable)}get editableElement(){return this.editable.element}}r.a=h},function(o,r,s){'use strict';var d=s(4),u=s(7),f=s(158),h=s(160),w=s(98),C=s(330),T=s(328),P=s(74),S=s(2),O=s(1),E=s(324),V=s(321),R=s(325),F=s(323);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class N{constructor(M,L){this.model=M,this.processor=L,this.mapper=new f.a,this.modelToView=new h.a({mapper:this.mapper}),this.modelToView.on('insert:$text',s.i(w.h)(),{priority:'lowest'}),this.viewToModel=new C.a({schema:M.schema}),this.viewToModel.on('text',s.i(T.a)(),{priority:'lowest'}),this.viewToModel.on('element',s.i(T.b)(),{priority:'lowest'}),this.viewToModel.on('documentFragment',s.i(T.b)(),{priority:'lowest'}),this.on('insertContent',(I,D)=>s.i(E.a)(this,D.content,D.selection,D.batch)),this.on('deleteContent',(I,D)=>s.i(V.a)(D.selection,D.batch,D.options)),this.on('modifySelection',(I,D)=>s.i(R.a)(this,D.selection,D.options)),this.on('getSelectedContent',(I,D)=>{D.content=s.i(F.a)(D.selection)})}get(M='main'){return this.stringify(this.model.getRoot(M))}stringify(M){const L=this.toView(M);return this.processor.toData(L)}toView(M){const L=S.a.createIn(M),I=new P.a;return this.mapper.bindElements(M,I),this.modelToView.convertInsertion(L),this.mapper.clearBindings(),I}set(M,L='main'){const I=this.model.getRoot(L);this.model.enqueueChanges(()=>{this.model.selection.removeAllRanges(),this.model.selection.clearAttributes(),this.model.batch('transparent').remove(S.a.createIn(I)).insert(O.a.createAt(I,0),this.parse(M))})}parse(M,L='$root'){const I=this.processor.toView(M);return this.toModel(I,L)}toModel(M,L='$root'){return this.viewToModel.convert(M,{context:[L]})}destroy(){}insertContent(M,L,I){this.fire('insertContent',{content:M,selection:L,batch:I})}deleteContent(M,L,I){this.fire('deleteContent',{batch:L,selection:M,options:I})}modifySelection(M,L){this.fire('modifySelection',{selection:M,options:L})}getSelectedContent(M){const L={selection:M};return this.fire('getSelectedContent',L),L.content}}r.a=N,s.i(d.a)(N,u.a)},function(o,r,s){'use strict';function u(T,P){const S=T.schema.check({name:'$text',inside:P}),O=T.schema.check({name:'paragraph',inside:P});return!S&&O}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */var f=s(165),h=s(1),w=s(5),C=s(47);r.a=function(T,P,S={}){if(!T.isCollapsed){const O=T.getFirstRange(),E=O.start,V=f.a.createFromPosition(O.end);if(O.isEmpty||P.remove(O),S.merge){const R=V.path,F=Math.min(E.path.length-1,R.length-1);let N=s.i(C.a)(E.path,R);if('number'==typeof N)for(;N<F;N++){const M=E.path.slice(0,N);M.push(E.path[N]+1);const L=new h.a(V.root,M),I=L.nodeAfter;0<I.childCount?P.merge(L):P.remove(I)}}if(T.collapse(E),u(P.document,E)){const R=new w.a('paragraph');P.insert(E,R),T.collapse(R)}V.detach()}}},function(o,r,s){'use strict';var d=s(342),u=s(158),f=s(160),h=s(98),w=s(327),C=s(159),T=s(7);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=class{constructor(S){this.model=S,this.view=new d.a,this.mapper=new u.a,this.modelToView=new f.a({mapper:this.mapper,viewSelection:this.view.selection}),this._listener=Object.create(T.a),this._listener.listenTo(this.model,'change',(O,E,V)=>{this.modelToView.convertChange(E,V)},{priority:'low'}),this._listener.listenTo(this.model,'changesDone',()=>{const O=S.selection,E=Array.from(S.markers.getMarkersAtPosition(O.getFirstPosition()));this.modelToView.convertSelection(O,E),this.view.render()},{priority:'low'}),this._listener.listenTo(this.model.markers,'add',(O,E)=>{this.modelToView.convertMarker('addMarker',E.name,E.getRange())}),this._listener.listenTo(this.model.markers,'remove',(O,E)=>{this.modelToView.convertMarker('removeMarker',E.name,E.getRange())}),this._listener.listenTo(this.view,'selectionChange',s.i(w.a)(S,this.mapper)),this.modelToView.on('insert:$text',s.i(h.h)(),{priority:'lowest'}),this.modelToView.on('remove',s.i(h.i)(),{priority:'low'}),this.modelToView.on('move',s.i(h.j)(),{priority:'low'}),this.modelToView.on('rename',s.i(h.k)(),{priority:'low'}),this.modelToView.on('insert',s.i(h.l)(this.model.markers),{priority:'lowest'}),this.modelToView.on('insert',s.i(h.m)(this.model.markers),{priority:'lowest'}),this.modelToView.on('move',s.i(h.n)(this.model.markers),{priority:'lowest'}),this.modelToView.on('selection',s.i(C.c)(),{priority:'low'}),this.modelToView.on('selection',s.i(C.d)(),{priority:'low'}),this.modelToView.on('selection',s.i(C.e)(),{priority:'low'}),this.modelToView.on('selection',s.i(C.f)(),{priority:'low'})}createRoot(S,O='main'){const E=this.view.createRoot(S,O),V=this.model.getRoot(O);return this.mapper.bindElements(V,E),E}destroy(){this.view.destroy(),this._listener.stopListening()}}},function(o,r,s){'use strict';function u(S){const O=[];Array.from(S.getItems({direction:'backward'})).map(E=>h.a.createOn(E)).filter(E=>{const V=(E.start.isAfter(S.start)||E.start.isEqual(S.start))&&(E.end.isBefore(S.end)||E.end.isEqual(S.end));return V}).forEach(E=>{O.push(E.start.parent),s.i(P.c)(E)}),O.forEach(E=>{for(let V=E;V.parent&&V.isEmpty;){const R=h.a.createOn(V);V=V.parent,s.i(P.c)(R)}})}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */var f=s(67),h=s(2),w=s(1),C=s(38),T=s(22),P=s(29);r.a=function(S){const O=new f.a,E=S.getFirstRange();if(!E||E.isCollapsed)return O;const V=E.start.root,R=E.start.getCommonPath(E.end),F=V.getNodeByPath(R);let N=E.start.parent==E.end.parent?E:h.a.createFromParentsAndOffsets(F,E.start.path[R.length],F,E.end.path[R.length]+1);const M=N.end.offset-N.start.offset;for(const L of N.getItems({shallow:!0}))L instanceof C.a?O.appendChildren(new T.a(L.data,L.getAttributes())):O.appendChildren(L.clone(!0));if(N!=E){const L=E._getTransformedByMove(N.start,w.a.createAt(O,0),M)[0],I=new h.a(w.a.createAt(O),L.start),D=new h.a(L.end,w.a.createAt(O,'end'));u(D),u(I)}return O}},function(o,r,s){'use strict';var u=s(1),f=s(165),h=s(22),w=s(5),C=s(2),T=s(53);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=function(S,O,E,V){V||(V=S.model.batch()),E.isCollapsed||S.deleteContent(E,V,{merge:!0});const R=new P(S,V,E.anchor);R.handleNodes(O.getChildren(),{isFirst:!0,isLast:!0});const F=R.getSelectionRange();F?E.setRanges([F]):T.a.warn('insertcontent-no-range: Cannot determine a proper selection range after insertion.')};class P{constructor(S,O,E){this.dataController=S,this.batch=O,this.position=E,this.canMergeWith=new Set([this.position.parent]),this.schema=S.model.schema}handleNodes(S,O){S=Array.from(S);for(let E=0;E<S.length;E++){const V=S[E].clone();this._handleNode(V,{isFirst:0===E&&O.isFirst,isLast:E===S.length-1&&O.isLast})}}getSelectionRange(){return this.nodeToSelect?C.a.createOn(this.nodeToSelect):this.dataController.model.getNearestSelectionRange(this.position)}_handleNode(S,O){if(this._checkIsObject(S))return void this._handleObject(S,O);const E=this._checkAndSplitToAllowedPosition(S,O);return E?void(this._insert(S),this._mergeSiblingsOf(S,O)):void this._handleDisallowedNode(S,O)}_handleObject(S,O){this._checkAndSplitToAllowedPosition(S)?this._insert(S):this._tryAutoparagraphing(S,O)}_handleDisallowedNode(S,O){S instanceof w.a?this.handleNodes(S.getChildren(),O):this._tryAutoparagraphing(S,O)}_insert(S){if(!this._checkIsAllowed(S,[this.position.parent]))return void T.a.error('insertcontent-wrong-position: The node cannot be inserted on the given position.',{node:S,position:this.position});const O=f.a.createFromPosition(this.position);this.batch.insert(this.position,S),this.position=u.a.createFromPosition(O),O.detach(),this.nodeToSelect=this._checkIsObject(S)&&!this.schema.check({name:'$text',inside:[this.position.parent]})?S:null}_mergeSiblingsOf(S,O){if(S instanceof w.a){const E=O.isFirst&&S.previousSibling instanceof w.a&&this.canMergeWith.has(S.previousSibling),V=O.isLast&&S.nextSibling instanceof w.a&&this.canMergeWith.has(S.nextSibling),R=f.a.createBefore(S),F=f.a.createAfter(S);if(E){const N=f.a.createFromPosition(this.position);this.batch.merge(R),this.position=u.a.createFromPosition(N),N.detach()}if(V){let N;this.position.isEqual(F)||T.a.error('insertcontent-wrong-position-on-merge: The insertion position should equal the merge position'),this.position=u.a.createAt(F.nodeBefore,'end'),N=new f.a(this.position.root,this.position.path,'sticksToPrevious'),this.batch.merge(F),this.position=u.a.createFromPosition(N),N.detach()}R.detach(),F.detach()}}_tryAutoparagraphing(S,O){const E=new w.a('paragraph');this._getAllowedIn(E,this.position.parent)&&this._checkIsAllowed(S,[E])&&(E.appendChildren(S),this._handleNode(E,O))}_checkAndSplitToAllowedPosition(S){const O=this._getAllowedIn(S,this.position.parent);if(!O)return!1;for(;O!=this.position.parent;)if(this.position.isAtStart){const E=this.position.parent;this.position=u.a.createBefore(E),E.isEmpty&&this.batch.remove(E)}else if(this.position.isAtEnd)this.position=u.a.createAfter(this.position.parent);else{const E=u.a.createAfter(this.position.parent);this.batch.split(this.position),this.position=E,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(S,O){return this._checkIsAllowed(S,[O])?O:O.parent?this._getAllowedIn(S,O.parent):null}_checkIsAllowed(S,O){return this.schema.check({name:this._getNodeSchemaName(S),attributes:Array.from(S.getAttributeKeys()),inside:O})}_checkIsObject(S){return this.schema.objects.has(this._getNodeSchemaName(S))}_getNodeSchemaName(S){return S instanceof h.a?'$text':S.name}}},function(o,r,s){'use strict';function u(P,S){const O=P.position.textNode;if(O){const E=O.data;for(let V=P.position.offset-O.startOffset;s.i(T.a)(E,V)||'character'==S&&s.i(T.b)(E,V);)P.next(),V=P.position.offset-O.startOffset}return P.position}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function f(P,S){const O=P.root,E=h.a.createAt(O,S?'end':0);return S?new C.a(P,E):new C.a(E,P)}var h=s(1),w=s(55),C=s(2),T=s(274);r.a=function(P,S,O={}){const E=P.model.schema,V='backward'!=O.direction;O.unit=O.unit?O.unit:'character';const R=S.focus,F=new w.a({boundaries:f(R,V),singleCharacters:!0,direction:V?'forward':'backward'});let N=F.next();if(!N.done){let M=N.value;if('text'==M.type)return void S.setFocus(u(F,O.unit));if(M.type==(V?'elementStart':'elementEnd'))return void S.setFocus(M.item,V?'after':'before');if(N=F.next(),!N.done)if(M=N.value,'text'==M.type)S.setFocus(M.previousPosition);else{const L=E.objects.has(M.item.name),I=L?V?'after':'before':V?0:'end';S.setFocus(M.item,I)}}}},function(o,r,s){'use strict';var d=s(38);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=class{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(f,h){f instanceof d.a&&(f=this._getSymbolForTextProxy(f)),this._consumable.has(f)||this._consumable.set(f,new Map),this._consumable.get(f).set(h,!0)}consume(f,h){return f instanceof d.a&&(f=this._getSymbolForTextProxy(f)),!!this.test(f,h)&&(this._consumable.get(f).set(h,!1),!0)}test(f,h){f instanceof d.a&&(f=this._getSymbolForTextProxy(f));const w=this._consumable.get(f);if(w===void 0)return null;const C=w.get(h);return void 0===C?null:C}revert(f,h){f instanceof d.a&&(f=this._getSymbolForTextProxy(f));const w=this.test(f,h);return!1===w?(this._consumable.get(f).set(h,!0),!0):!0!==w&&null}_getSymbolForTextProxy(f){let h=null;const w=this._textProxyRegistry.get(f.startOffset);if(w){const C=w.get(f.endOffset);C&&(h=C.get(f.parent))}return h||(h=this._addSymbolForTextProxy(f.startOffset,f.endOffset,f.parent)),h}_addSymbolForTextProxy(f,h,w){const C=Symbol();let T,P;return T=this._textProxyRegistry.get(f),T||(T=new Map,this._textProxyRegistry.set(f,T)),P=T.get(h),P||(P=new Map,T.set(h,P)),P.set(w,C),C}}},function(o,r,s){'use strict';var u=s(73);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=function(f,h){return(w,C)=>{const T=C.newSelection,P=new u.a,S=[];for(let O of T.getRanges())S.push(h.toModelRange(O));P.setRanges(S,T.isBackward),P.isEqual(f.selection)||f.enqueueChanges(()=>{f.selection.setTo(P)})}}},function(o,r,s){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */var f=s(67),h=s(22),w=s(29);r.b=function(){return(C,T,P,S)=>{if(!T.output&&P.consume(T.input,{name:!0})){const O=S.convertChildren(T.input,P,T);T.output=new f.a(s.i(w.b)(O))}}},r.a=function(){return(C,T,P,S)=>{const O={name:'$text',inside:T.context};S.schema.check(O)&&P.consume(T.input)&&(T.output=new h.a(T.input.data))}}},function(o,r,s){'use strict';var d=s(11),u=s(0),f=s(17),h=s(18),w=s(74);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class C{constructor(){this._consumables=new Map}add(P,S){let O;return P instanceof h.a||P instanceof w.a?void this._consumables.set(P,!0):void(this._consumables.has(P)?O=this._consumables.get(P):(O=new T,this._consumables.set(P,O)),O.add(S))}test(P,S){const O=this._consumables.get(P);return void 0===O?null:P instanceof h.a||P instanceof w.a?O:O.test(S)}consume(P,S){return!!this.test(P,S)&&(P instanceof h.a||P instanceof w.a?this._consumables.set(P,!1):this._consumables.get(P).consume(S),!0)}revert(P,S){const O=this._consumables.get(P);O!==void 0&&(P instanceof h.a||P instanceof w.a?this._consumables.set(P,!0):O.revert(S))}static consumablesFromElement(P){const S={name:!0,attribute:[],class:[],style:[]},O=P.getAttributeKeys();for(let R of O)'style'!=R&&'class'!=R&&S.attribute.push(R);const E=P.getClassNames();for(let R of E)S.class.push(R);const V=P.getStyleNames();for(let R of V)S.style.push(R);return S}static createFrom(P,S){if(S||(S=new C),P instanceof h.a)return S.add(P),S;P instanceof f.a&&S.add(P,C.consumablesFromElement(P)),P instanceof w.a&&S.add(P);for(let O of P.getChildren())S=C.createFrom(O,S);return S}}r.a=C;class T{constructor(){this._canConsumeName=null,this._consumables={attribute:new Map,style:new Map,class:new Map}}add(P){for(let S in P.name&&(this._canConsumeName=!0),this._consumables)S in P&&this._add(S,P[S])}test(P){if(P.name&&!this._canConsumeName)return this._canConsumeName;for(let S in this._consumables)if(S in P){const O=this._test(S,P[S]);if(!0!==O)return O}return!0}consume(P){for(let S in P.name&&(this._canConsumeName=!1),this._consumables)S in P&&this._consume(S,P[S])}revert(P){for(let S in P.name&&(this._canConsumeName=!0),this._consumables)S in P&&this._revert(S,P[S])}_add(P,S){const O=s.i(d.a)(S)?S:[S],E=this._consumables[P];for(let V of O){if('attribute'===P&&('class'===V||'style'===V))throw new u.a('viewconsumable-invalid-attribute: Classes and styles should be handled separately.');E.set(V,!0)}}_test(P,S){const O=s.i(d.a)(S)?S:[S],E=this._consumables[P];for(let V of O)if('attribute'===P&&('class'===V||'style'===V)){const R=this._test(V,[...this._consumables[V].keys()]);if(!0!==R)return R}else{const R=E.get(V);if(R===void 0)return null;if(!R)return!1}return!0}_consume(P,S){const O=s.i(d.a)(S)?S:[S],E=this._consumables[P];for(let V of O)'attribute'===P&&('class'===V||'style'===V)?this._consume(V,[...this._consumables[V].keys()]):E.set(V,!1)}_revert(P,S){const O=s.i(d.a)(S)?S:[S],E=this._consumables[P];for(let V of O)if('attribute'===P&&('class'===V||'style'===V))this._revert(V,[...this._consumables[V].keys()]);else{const R=E.get(V);!1===R&&E.set(V,!0)}}}},function(o,r,s){'use strict';var d=s(329),u=s(17),f=s(18),h=s(7),w=s(4),C=s(52);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class T{constructor(P={}){this.conversionApi=s.i(C.a)({},P),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this)}convert(P,S={}){this.fire('viewCleanup',P);const O=d.a.createFrom(P);return this._convertItem(P,O,S)}_convertItem(P,S,O={}){const E=s.i(C.a)({},O,{input:P,output:null});return P instanceof u.a?this.fire('element:'+P.name,E,S,this.conversionApi):P instanceof f.a?this.fire('text',E,S,this.conversionApi):this.fire('documentFragment',E,S,this.conversionApi),E.output}_convertChildren(P,S,O={}){const E=Array.from(P.getChildren()),V=E.map(R=>this._convertItem(R,S,O));return V.reduce((R,F)=>F?R.concat(F):R,[])}}r.a=T,s.i(w.a)(T,h.a)},function(o,r){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=class{getHtml(u){const f=document.implementation.createHTMLDocument(''),h=f.createElement('div');return h.appendChild(u),h.innerHTML}}},function(o,r,s){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */var d=s(162),u=s(99),f=s(100),h=s(101),w=s(102),C=s(163),T=s(103),P=s(105),S=s(164),O=s(106)},function(o,r,s){'use strict';function d(K,U){function H(){const X=new h.a(K.position.getShiftedBy(J),K.position.getShiftedBy(Y)),Q=new T.a(X,U.key,G,U.value,0);W.addOperation(Q)}const W=new E.a,Z=K.nodes;let G=Z.getNode(0).getAttribute(U.key),J=0,Y=Z.getNode(0).offsetSize;for(let X=1;X<Z.length;X++){const Q=Z.getNode(X),ee=Q.getAttribute(U.key);ee!=G&&(G!=U.value&&H(),G=ee,J=Y),Y+=Q.offsetSize}return H(),W}function u(){let K=new O.a;return K.addOperation(new C.a(0)),K}var f=s(104),h=s(2),w=s(1),C=s(71),T=s(70),P=s(36),S=s(109),O=s(21),E=s(162),V=s(99),R=s(334),F=s(100),N=s(101),M=s(103),L=s(164),I=s(106),D=s(105),q=s(163),z=s(102),$=s(47);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */s.i(f.b)(E.a,L.a,(K,U,H)=>{const W=s.i(f.c)(K,U,H);return K.range.containsPosition(U.position)&&W.push(d(U,K)),W}),s.i(f.b)(E.a,M.a,(K,U,H)=>{const W=new w.a(U.position.root,U.position.path.slice(0,-1)),Z=s.i(f.c)(K,U,H);for(let G of K.operations)if(G.range.containsPosition(W)||G.range.start.isEqual(W)){const J=new E.a,Y=W.getShiftedBy(1),X=w.a.createFromPosition(Y);X.path.push(0);const Q=U._cloneOperation.nodes.getNode(0).getAttribute(G.key);J.addOperation(new T.a(new h.a(Y,X),G.key,Q===void 0?null:Q,G.newValue,0)),Z.push(J);break}return Z}),s.i(f.b)(V.a,F.a,(K,U,H)=>{return K.position.isEqual(U.position)?[U.getReversed(),K.clone()]:s.i(f.c)(K,U,H)}),s.i(f.b)(R.a,M.a,(K,U,H)=>{const W=K.operations[0];let Z=null,G=null;const J=U.position,Y=U._moveOperation.targetPosition;W.oldRange.containsPosition(U.position)&&(Z=W.oldRange.end._getCombined(J,Y)),W.newRange.containsPosition(U.position)&&(G=W.newRange.end._getCombined(J,Y));const X=s.i(f.c)(K,U,H)[0],Q=X.operations[0];return Z&&(Q.oldRange.end=Z),G&&(Q.newRange.end=G),[X]}),s.i(f.b)(N.a,F.a,(K,U,H)=>{const W=K.sourcePosition.root==U.position.root&&'same'===s.i($.a)(K.sourcePosition.getParentPath(),U.position.getParentPath()),Z=K.sourcePosition.offset<=U.position.offset&&K.sourcePosition.offset+K.howMany>U.position.offset;return W&&Z?[U.getReversed(),K.clone()]:s.i(f.c)(K,U,H)}),s.i(f.b)(F.a,V.a,(K,U,H)=>{return K.position.isEqual(U.position)?[u()]:s.i(f.c)(K,U,H)}),s.i(f.b)(F.a,N.a,(K,U,H)=>{const W=K.position.root==U.sourcePosition.root&&'same'===s.i($.a)(K.position.getParentPath(),U.sourcePosition.getParentPath()),Z=U.sourcePosition.offset<=K.position.offset&&U.sourcePosition.offset+U.howMany>K.position.offset;return W&&Z?[u()]:s.i(f.c)(K,U,H)}),s.i(f.b)(M.a,M.a,(K,U,H)=>{const W=K.position.getParentPath(),Z=U.position.getParentPath();if('same'==s.i($.a)(W,Z)){if(K.position.offset==U.position.offset)return[u()];if(K.position.offset<U.position.offset){const G=K.clone();return G._moveOperation.howMany=U.position.offset-K.position.offset,K._cloneOperation instanceof S.a&&U._cloneOperation instanceof S.a&&K._cloneOperation.sourcePosition.offset>U._cloneOperation.sourcePosition.offset&&G._cloneOperation.sourcePosition.offset--,[G]}const G=K.clone();return G._cloneOperation.position.offset++,G._moveOperation.sourcePosition.path[G._moveOperation.sourcePosition.path.length-2]++,G._moveOperation.targetPosition.path[G._moveOperation.targetPosition.path.length-2]++,G._moveOperation.sourcePosition.offset=K.position.offset-U.position.offset,K._cloneOperation instanceof S.a&&U._cloneOperation instanceof S.a&&K._cloneOperation.sourcePosition.offset>U._cloneOperation.sourcePosition.offset&&G._cloneOperation.sourcePosition.offset--,[G]}return s.i(f.c)(K,U,H)}),s.i(f.b)(M.a,D.a,(K,U,H)=>{return'same'===s.i($.a)(U.position.path,K.position.getParentPath())?[u()]:s.i(f.c)(K,U,H)}),s.i(f.b)(M.a,I.a,(K,U,H)=>{const W='same'===s.i($.a)(K.position.getParentPath(),U.range.start.getParentPath()),Z=U.range.start.offset<K.position.offset&&U.range.end.offset>=K.position.offset;if(W&&Z)return[u()];if('same'===s.i($.a)(K.position.getParentPath(),U.range.end.getShiftedBy(-1).path)){const G=K.clone(),J=w.a.createFromPosition(U.range.start);J.path.push(U.howMany-1);const Y=J.getShiftedBy(1);G._cloneOperation.position=Y;const X=w.a.createFromPosition(J);X.path.push(K.position.offset),G._moveOperation.sourcePosition=X;const Q=w.a.createFromPosition(Y);return Q.path.push(0),G._moveOperation.targetPosition=Q,[G]}return s.i(f.c)(K,U,H)}),s.i(f.b)(M.a,E.a,(K,U)=>{K=K.clone();const H=new w.a(K.position.root,K.position.path.slice(0,-1));if(K._cloneOperation instanceof P.a)for(let W of U.operations)if(W.range.containsPosition(H)||W.range.start.isEqual(H)){null===W.newValue?K._cloneOperation.nodes.getNode(0).removeAttribute(W.key):K._cloneOperation.nodes.getNode(0).setAttribute(W.key,W.newValue);break}return[K]}),s.i(f.b)(D.a,M.a,(K,U,H)=>{if('same'===s.i($.a)(K.position.path,U.position.getParentPath())){const W=[U.getReversed(),K.clone()];return W[1].operations[1].targetPosition.path[0]++,W}return s.i(f.c)(K,U,H)}),s.i(f.b)(L.a,E.a,(K,U)=>{const H=[K.clone()];return U.range.containsPosition(K.position)&&H.push(d(K,U)),H}),s.i(f.b)(I.a,M.a,(K,U,H)=>{const W='same'===s.i($.a)(K.range.start.getParentPath(),U.position.getParentPath()),Z=K.range.start.offset<U.position.offset&&K.range.end.offset>=U.position.offset;if(W&&Z)return[U.getReversed(),K.clone()];if('same'===s.i($.a)(U.position.getParentPath(),K.range.end.getShiftedBy(-1).path)){const G=K.clone();return G._insertOperation.position.offset++,G._moveOperation.howMany++,G._moveOperation.targetPosition.path[G._moveOperation.targetPosition.path.length-2]++,[G]}return s.i(f.c)(K,U,H)}),s.i(f.b)(q.a,M.a,(K,U,H)=>{const W=new w.a(U.position.root,U.position.path.slice(0,-1)),Z=s.i(f.c)(K,U,H);if(K.operations[0].position.isEqual(W)){const G=K.clone();G.operations[0].position=K.operations[0].position.getShiftedBy(1),Z.push(G)}return Z}),s.i(f.b)(M.a,q.a,(K,U)=>{K=K.clone();const H=new w.a(K.position.root,K.position.path.slice(0,-1));return K._cloneOperation instanceof P.a&&U.operations[0].position.isEqual(H)&&(K._cloneOperation.nodes.getNode(0).name=U.operations[0].newName),[K]}),s.i(f.b)(z.a,M.a,(K,U,H)=>{const W=s.i(f.c)(K,U,H),Z=U._cloneOperation.position;for(let G of W)for(let J of G.operations){const Y=J.sourcePosition.getShiftedBy(J.howMany);Y.isEqual(Z)&&(J.howMany+=1)}return W}),s.i(f.b)(M.a,z.a,(K,U,H)=>{U=U.clone();const W=K._cloneOperation.position;for(let Z of U.operations){const G=Z.sourcePosition.getShiftedBy(Z.howMany);G.isEqual(W)&&(Z.howMany+=1)}return s.i(f.c)(K,U,H)})},function(o,r,s){'use strict';function d(P,S,O,E){const V=P.document,R=new T,F=new w.a(S,O,E,V.markers,V.version);P.addDelta(R),R.addOperation(F),V.applyOperation(F)}var u=s(21),f=s(16),h=s(15),w=s(108),C=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class T extends u.a{get _reverseDeltaClass(){return T}static get className(){return'engine.model.delta.MarkerDelta'}}r.a=T,s.i(h.b)('setMarker',function(P,S){const O='string'==typeof P?P:P.name,E=this.document.markers.get(O);if(!S&&!E)throw new C.a('batch-setMarker-no-range: Range parameter is required when adding a new marker.');const V=E?E.getRange():null;return S?d(this,O,V,S):d(this,O,null,V),this}),s.i(h.b)('removeMarker',function(P){const S='string'==typeof P?P:P.name;if(!this.document.markers.has(S))throw new C.a('batch-removeMarker-no-marker: Trying to remove marker that does not exist.');const O=this.document.markers.get(S).getRange();return d(this,S,O,null),this}),f.a.register(T)},function(o,r,s){'use strict';function d(z){const $=z.textNode;if($){const K=$.data,U=z.offset-$.startOffset;return!s.i(I.a)(K,U)&&!s.i(I.b)(K,U)}return!0}function*u(z,$){for(let K=!1;!K;){if(K=!0,z){const U=z.next();U.done||(K=!1,yield{walker:z,value:U.value})}if($){const U=$.next();U.done||(K=!1,yield{walker:$,value:U.value})}}}var f=s(332),h=s(333),w=s(2),C=s(1),T=s(72),P=s(15),S=s(336),O=s(337),E=s(341),V=s(55),R=s(338),F=s(92),N=s(7),M=s(0),L=s(4),I=s(274);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const D='$graveyard';class q{constructor(){this.version=0,this.schema=new E.a,this.history=new S.a(this),this.markers=new R.a,this.selection=new O.a(this),this._pendingChanges=[],this._roots=new Map,this.selection.on('change:range',()=>{for(let z of this.selection.getRanges())if(!this._validateSelectionRange(z))throw new M.a('document-selection-wrong-position: Range from document selection starts or ends at incorrect position.',{range:z})}),this.createRoot('$root',D)}get graveyard(){return this.getRoot(D)}applyOperation(z){if(z.baseVersion!==this.version)throw new M.a('model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.',{operation:z});let $=z._execute();this.version++,this.history.addDelta(z.delta);const K=z.delta&&z.delta.batch;$&&this.fire('change',z.type,$,K)}batch(z){return new P.a(this,z)}createRoot(z='$root',$='main'){if(this._roots.has($))throw new M.a('model-document-createRoot-name-exists: Root with specified name already exists.',{name:$});const K=new T.a(this,z,$);return this._roots.set($,K),K}destroy(){this.selection.destroy(),this.stopListening()}enqueueChanges(z){if(this._pendingChanges.push(z),1==this._pendingChanges.length){for(;this._pendingChanges.length;)this._pendingChanges[0](),this._pendingChanges.shift();this.fire('changesDone')}}getRoot(z='main'){if(!this._roots.has(z))throw new M.a('model-document-getRoot-root-not-exist: Root with specified name does not exist.',{name:z});return this._roots.get(z)}hasRoot(z){return this._roots.has(z)}getRootNames(){return Array.from(this._roots.keys()).filter(z=>z!=D)}getNearestSelectionRange(z,$='both'){if(this.schema.check({name:'$text',inside:z}))return new w.a(z);let K,U;('both'==$||'backward'==$)&&(K=new V.a({startPosition:z,direction:'backward'})),('both'==$||'forward'==$)&&(U=new V.a({startPosition:z}));for(let H of u(K,U)){const W=H.walker==K?'elementEnd':'elementStart',Z=H.value;if(Z.type==W&&this.schema.objects.has(Z.item.name))return w.a.createOn(Z.item);if(this.schema.check({name:'$text',inside:Z.nextPosition}))return new w.a(Z.nextPosition)}return null}toJSON(){const z=s.i(F.a)(this);return z.selection='[engine.model.LiveSelection]',z}_getDefaultRoot(){for(let z of this._roots.values())if(z!==this.graveyard)return z;return this.graveyard}_getDefaultRange(){const z=this._getDefaultRoot(),$=new C.a(z,[0]),K=this.getNearestSelectionRange($);return K||new w.a($)}_validateSelectionRange(z){return d(z.start)&&d(z.end)}}r.a=q,s.i(L.a)(q,N.a)},function(o,r,s){'use strict';var d=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=class{constructor(){this._deltas=[],this._historyPoints=new Map}addDelta(f){if(0<f.operations.length&&!this._historyPoints.has(f.baseVersion)){const h=this._deltas.length;this._deltas[h]=f,this._historyPoints.set(f.baseVersion,h)}}*getDeltas(f=0,h=Number.POSITIVE_INFINITY){if(0!==this._deltas.length){let w=this._getIndex(f);if(-1!=w)for(;w<this._deltas.length;){const C=this._deltas[w++];if(C.baseVersion>=h)break;yield C}}}getDelta(f){let h=this._historyPoints.get(f);if(h===void 0)return null;const w=[];for(h;h<this._deltas.length;h++){const C=this._deltas[h];if(C.baseVersion!=f)break;w.push(C)}return 0===w.length?null:w}removeDelta(f){this.updateDelta(f,[])}updateDelta(f,h){const w=this.getDelta(f);if(null!==w){for(let T of h)T.baseVersion=f;this._deltas.splice(this._getIndex(f),w.length,...h);const C=h.length-w.length;for(let T of this._historyPoints.keys())T>f&&this._historyPoints.set(T,this._historyPoints.get(T)+C)}}_getIndex(f){let h=this._historyPoints.get(f);if(h===void 0){const w=this._deltas[this._deltas.length-1],C=w.baseVersion+w.operations.length;if(0>f||f>=C)return-1;throw new d.a('model-history-wrong-version: Given base version points to the middle of a delta.')}return h}}},function(o,r,s){'use strict';function d(F){return F instanceof C.a||F instanceof w.a?F.getAttributes():null}var u=s(1),f=s(2),h=s(107),w=s(22),C=s(38),T=s(150),P=s(0),S=s(53),O=s(73);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const E='selection:',V=new Set(['addAttribute','removeAttribute','changeAttribute','addRootAttribute','removeRootAttribute','changeRootAttribute']);class R extends O.a{constructor(F){super(),this._document=F,this._attributePriority=new Map,this.listenTo(this._document,'change',(N,M)=>{V.has(M)&&this._updateAttributes(!1)})}get isCollapsed(){const F=this._ranges.length;return!(0!==F)||super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().start}get rangeCount(){return this._ranges.length?this._ranges.length:1}destroy(){for(let F=0;F<this._ranges.length;F++)this._ranges[F].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}addRange(F,N=!1){super.addRange(F,N),this.refreshAttributes()}removeAllRanges(){super.removeAllRanges(),this.refreshAttributes()}setRanges(F,N=!1){super.setRanges(F,N),this.refreshAttributes()}setAttribute(F,N){if(this.isCollapsed&&0===this.anchor.parent.childCount&&this._storeAttribute(F,N),this._setAttribute(F,N)){this.fire('change:attribute',{attributeKeys:[F],directChange:!0})}}removeAttribute(F){if(this.isCollapsed&&0===this.anchor.parent.childCount&&this._removeStoredAttribute(F),this._removeAttribute(F)){this.fire('change:attribute',{attributeKeys:[F],directChange:!0})}}setAttributesTo(F){F=s.i(T.a)(F),this.isCollapsed&&0===this.anchor.parent.childCount&&this._setStoredAttributesTo(F);const N=this._setAttributesTo(F);if(0<N.size){const M=Array.from(N);this.fire('change:attribute',{attributeKeys:M,directChange:!0})}}clearAttributes(){this.setAttributesTo([])}refreshAttributes(){this._updateAttributes(!0)}static createFromSelection(F){const N=new this(F._document);return N.setTo(F),N}_popRange(){this._ranges.pop().detach()}_pushRange(F){const N=this._prepareRange(F);N&&this._ranges.push(N)}_prepareRange(F){if(!(F instanceof f.a))throw new P.a('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');if(F.root==this._document.graveyard)return void S.a.warn('model-selection-range-in-graveyard: Trying to add a Range that is in the graveyard root. Range rejected.');this._checkRange(F);const N=h.a.createFromRange(F);return this.listenTo(N,'change',(M,L)=>{N.root==this._document.graveyard&&this._fixGraveyardSelection(N,L),this.fire('change:range',{directChange:!1})}),N}_updateAttributes(F){const N=s.i(T.a)(this._getSurroundingAttributes()),M=s.i(T.a)(this.getAttributes());if(F)this._attributePriority=new Map,this._attrs=new Map;else for(let[I,D]of this._attributePriority)'low'==D&&(this._attrs.delete(I),this._attributePriority.delete(I));this._setAttributesTo(N,!1);const L=[];for(let[I,D]of this.getAttributes())M.has(I)&&M.get(I)===D||L.push(I);for(let[I]of M)this.hasAttribute(I)||L.push(I);0<L.length&&this.fire('change:attribute',{attributeKeys:L,directChange:!1})}static _getStoreAttributeKey(F){return E+F}_setAttribute(F,N,M=!0){const L=M?'normal':'low';if('low'==L&&'normal'==this._attributePriority.get(F))return!1;const I=super.getAttribute(F);return I!==N&&(this._attrs.set(F,N),this._attributePriority.set(F,L),!0)}_removeAttribute(F,N=!0){const M=N?'normal':'low';return'low'==M&&'normal'==this._attributePriority.get(F)?!1:!!super.hasAttribute(F)&&(this._attrs.delete(F),this._attributePriority.set(F,M),!0)}_setAttributesTo(F,N=!0){const M=new Set;for(let[L,I]of this.getAttributes())F.get(L)!==I&&this._removeAttribute(L,N)&&M.add(L);for(let[L,I]of F){const D=this._setAttribute(L,I,N);D&&M.add(L)}return M}*_getStoredAttributes(){const F=this.getFirstPosition().parent;if(this.isCollapsed&&0===F.childCount)for(let N of F.getAttributeKeys())if(0===N.indexOf(E)){const M=N.substr(E.length);yield[M,F.getAttribute(N)]}}_removeStoredAttribute(F){const N=R._getStoreAttributeKey(F);this._document.batch().removeAttribute(this.anchor.parent,N)}_storeAttribute(F,N){const M=R._getStoreAttributeKey(F);this._document.batch().setAttribute(this.anchor.parent,M,N)}_setStoredAttributesTo(F){const N=this.anchor.parent,M=this._document.batch();for(let[L]of this._getStoredAttributes()){const I=R._getStoreAttributeKey(L);M.removeAttribute(N,I)}for(let[L,I]of F){const D=R._getStoreAttributeKey(L);M.setAttribute(N,D,I)}}_getSurroundingAttributes(){const F=this.getFirstPosition();let N=null;if(!this.isCollapsed){const M=this.getFirstRange();for(let L of M)'text'==L.type&&null==N&&(N=L.item.getAttributes())}else{const M=F.textNode?F.textNode:F.nodeBefore,L=F.textNode?F.textNode:F.nodeAfter;if(N=d(M),N||(N=d(L)),!N)for(let I=M;I&&!N;)I=I.previousSibling,N=d(I);if(!N)for(let I=L;I&&!N;)I=I.nextSibling,N=d(I);N||(N=this._getStoredAttributes())}return N}_fixGraveyardSelection(F,N){const M=F.start.path,L=N.start.path.length-(M.length-2),I=N.start.path.slice(0,L);I[I.length-1]-=M[1];const D=new u.a(N.root,I);let q=this._document.getNearestSelectionRange(D);q||(q=new f.a(new u.a(D.root,[0])));const z=this._prepareRange(q),$=this._ranges.indexOf(F);F.detach(),this._ranges.splice($,1,z)}}r.a=R},function(o,r,s){'use strict';var d=s(107),u=s(1),f=s(2),h=s(7),w=s(0),C=s(4);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class T{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(S){return this._markers.has(S)}get(S){return this._markers.get(S)||null}set(S,O){const E=S instanceof P?S.name:S,V=this._markers.get(E);if(V){const N=V.getRange();if(N.isEqual(O))return V;this.remove(E)}const R=d.a.createFromRange(O),F=new P(E,R);return this._markers.set(E,F),this.fire('add',F),F}remove(S){const O=S instanceof P?S.name:S,E=this._markers.get(O);return!!E&&(this._markers.delete(O),this.fire('remove',E),this._destroyMarker(E),!0)}*getMarkersAtPosition(S){for(let O of this)O.getRange().containsPosition(S)&&(yield O)}destroy(){for(let S of this._markers.values())this._destroyMarker(S);this._markers=null,this.stopListening()}*getMarkersGroup(S){for(let O of this._markers.values())O.name.startsWith(S+':')&&(yield O)}_destroyMarker(S){S.stopListening(),S._liveRange.detach(),S._liveRange=null}}r.a=T,s.i(C.a)(T,h.a);class P{constructor(S,O){this.name=S,this._liveRange=O,this._liveRange.delegate('change').to(this)}getStart(){if(!this._liveRange)throw new w.a('marker-destroyed: Operating on destroyed marker instance.');return u.a.createFromPosition(this._liveRange.start)}getEnd(){if(!this._liveRange)throw new w.a('marker-destroyed: Operating on destroyed marker instance.');return u.a.createFromPosition(this._liveRange.end)}getRange(){if(!this._liveRange)throw new w.a('marker-destroyed: Operating on destroyed marker instance.');return f.a.createFromRange(this._liveRange)}}s.i(C.a)(P,h.a)},function(o,r,s){'use strict';var d=s(70),u=s(36),f=s(108),h=s(28),w=s(71),C=s(32),T=s(109),P=s(37),S=s(110),O=s(111);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const E={};E[d.a.className]=d.a,E[u.a.className]=u.a,E[f.a.className]=f.a,E[h.a.className]=h.a,E[w.a.className]=w.a,E[C.a.className]=C.a,E[T.a.className]=T.a,E[P.a.className]=P.a,E[S.a.className]=S.a,E[O.a.className]=O.a;r.a=class{static fromJSON(R,F){return E[R.__className].fromJSON(R,F)}}},function(o,r,s){'use strict';function u(L){return[L.clone()]}function f(L,I){for(let D=0;D<I.length;D++)I[D].baseVersion=L+D+1;return I}function h(L,I){return null===L.targetPosition._getTransformedByDeletion(I.sourcePosition,I.howMany)}function w(L){return 0===L.length?null:1==L.length?L[0]:(L[0].end=L[L.length-1].end,L[0])}var C=s(36),T=s(70),P=s(111),S=s(110),O=s(108),E=s(28),V=s(37),R=s(71),F=s(2),N=s(47);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=function(L,I,D){let q,z;L instanceof C.a?q=M.InsertOperation:L instanceof T.a?q=M.AttributeOperation:L instanceof P.a?q=M.RootAttributeOperation:L instanceof S.a?q=M.RenameOperation:L instanceof O.a?q=M.MarkerOperation:L instanceof E.a?q=M.MoveOperation:z=u,q&&(I instanceof C.a?z=q.InsertOperation:I instanceof T.a?z=q.AttributeOperation:I instanceof P.a?z=q.RootAttributeOperation:I instanceof S.a?z=q.RenameOperation:I instanceof O.a?z=q.MarkerOperation:I instanceof E.a?z=q.MoveOperation:z=u);let $=z(L,I,D);return f(L.baseVersion,$)};const M={InsertOperation:{InsertOperation(L,I,D){const q=L.clone();return q.position=q.position._getTransformedByInsertion(I.position,I.nodes.maxOffset,!D),[q]},AttributeOperation:u,RootAttributeOperation:u,RenameOperation:u,MarkerOperation:u,MoveOperation(L,I,D){const q=L.clone();return q.position=L.position._getTransformedByMove(I.sourcePosition,I.targetPosition,I.howMany,!D,I.isSticky),[q]}},AttributeOperation:{InsertOperation(L,I){const D=L.range._getTransformedByInsertion(I.position,I.nodes.maxOffset,!0,!1);return D.reverse().map(q=>{return new T.a(q,L.key,L.oldValue,L.newValue,L.baseVersion)})},AttributeOperation(L,I,D){if(L.key===I.key){let q=L.range.getDifference(I.range).map($=>{return new T.a($,L.key,L.oldValue,L.newValue,L.baseVersion)});const z=L.range.getIntersection(I.range);return z&&(D?q.push(new T.a(z,I.key,I.newValue,L.newValue,L.baseVersion)):0===q.length&&q.push(new R.a(0))),q}return[L.clone()]},RootAttributeOperation:u,RenameOperation:u,MarkerOperation:u,MoveOperation(L,I){const D=F.a.createFromPositionAndShift(I.sourcePosition,I.howMany);let q=[];I instanceof V.a&&I._needsHolderElement&&L.range.root==I.targetPosition.root&&L.range.start.path[0]>=I._holderElementOffset&&(L=L.clone(),L.range.start.path[0]++,L.range.end.path[0]++);const z=w(L.range.getDifference(D)),$=L.range.getIntersection(D);return null!==z&&(z.start=z.start._getTransformedByDeletion(I.sourcePosition,I.howMany),z.end=z.end._getTransformedByDeletion(I.sourcePosition,I.howMany),q=z._getTransformedByInsertion(I.getMovedRangeStart(),I.howMany,!0,!1).reverse()),null!==$&&($.start=$.start._getCombined(I.sourcePosition,I.getMovedRangeStart()),$.end=$.end._getCombined(I.sourcePosition,I.getMovedRangeStart()),q.push($)),q.map(K=>{return new T.a(K,L.key,L.oldValue,L.newValue,L.baseVersion)})}},RootAttributeOperation:{InsertOperation:u,AttributeOperation:u,RootAttributeOperation(L,I,D){return L.root!==I.root||L.key!==I.key||(L.newValue===I.newValue||D)&&L.newValue!==I.newValue?[L.clone()]:[new R.a(L.baseVersion)]},RenameOperation:u,MarkerOperation:u,MoveOperation:u},RenameOperation:{InsertOperation(L,I){const D=L.clone();return D.position=D.position._getTransformedByInsertion(I.position,I.nodes.maxOffset,!0),[D]},AttributeOperation:u,RootAttributeOperation:u,RenameOperation(L,I,D){const q=L.clone();if(L.position.isEqual(I.position))if(D)q.oldName=I.newName;else return[new R.a(L.baseVersion)];return[q]},MarkerOperation:u,MoveOperation(L,I){const D=L.clone(),q=D.position.isEqual(I.sourcePosition);return D.position=D.position._getTransformedByMove(I.sourcePosition,I.targetPosition,I.howMany,!0,q),[D]}},MarkerOperation:{InsertOperation(L,I){const D=L.clone();return D.oldRange&&(D.oldRange=D.oldRange._getTransformedByInsertion(I.position,I.nodes.maxOffset,!1,!1)[0]),D.newRange&&(D.newRange=D.newRange._getTransformedByInsertion(I.position,I.nodes.maxOffset,!1,!1)[0]),[D]},AttributeOperation:u,RootAttributeOperation:u,RenameOperation:u,MarkerOperation(L,I,D){const q=L.clone();if(L.name==I.name)if(D)q.oldRange=I.newRange;else return[new R.a(L.baseVersion)];return[q]},MoveOperation(L,I){const D=L.clone();if(D.oldRange){const q=D.oldRange._getTransformedByMove(I.sourcePosition,I.targetPosition,I.howMany);D.oldRange=F.a.createFromRanges(q)}if(D.newRange){const q=D.newRange._getTransformedByMove(I.sourcePosition,I.targetPosition,I.howMany);D.newRange=F.a.createFromRanges(q)}return[D]}},MoveOperation:{InsertOperation(L,I,D){let q=F.a.createFromPositionAndShift(L.sourcePosition,L.howMany);q=q._getTransformedByInsertion(I.position,I.nodes.maxOffset,!1,L.isSticky)[0];let z=new L.constructor(q.start,q.end.offset-q.start.offset,L instanceof V.a?L.baseVersion:L.targetPosition._getTransformedByInsertion(I.position,I.nodes.maxOffset,!D),L instanceof V.a?void 0:L.baseVersion);return z.isSticky=L.isSticky,z._holderElementOffset=L._holderElementOffset,[z]},AttributeOperation:u,RootAttributeOperation:u,RenameOperation:u,MarkerOperation:u,MoveOperation(L,I,D){if(h(L,I)&&h(I,L))return[I.getReversed()];if(L instanceof V.a&&I instanceof V.a){const J=L.targetPosition.path[0],Y=I.targetPosition.path[0];J>=Y&&D&&(L=L.clone(),L.targetPosition.path[0]++)}L instanceof V.a&&!(I instanceof V.a)?D=!0:!(L instanceof V.a)&&I instanceof V.a&&(D=!1);const q=F.a.createFromPositionAndShift(L.sourcePosition,L.howMany),z=F.a.createFromPositionAndShift(I.sourcePosition,I.howMany);let $=[],K=w(q.getDifference(z));K&&(K.start=K.start._getTransformedByMove(I.sourcePosition,I.targetPosition,I.howMany,!L.isSticky,!1),K.end=K.end._getTransformedByMove(I.sourcePosition,I.targetPosition,I.howMany,L.isSticky,!1),$.push(K));const U=q.getIntersection(z);let H=s.i(N.a)(L.sourcePosition.getParentPath(),I.sourcePosition.getParentPath()),W=q.containsPosition(I.targetPosition)||q.start.isEqual(I.targetPosition)&&L.isSticky||q.end.isEqual(I.targetPosition)&&L.isSticky,Z=z.containsRange(q)&&(z.containsPosition(L.targetPosition)||z.start.isEqual(L.targetPosition)||z.end.isEqual(L.targetPosition));if(null!==U&&('extension'===H||'same'===H&&D||Z)&&!W&&(U.start=U.start._getCombined(I.sourcePosition,I.getMovedRangeStart()),U.end=U.end._getCombined(I.sourcePosition,I.getMovedRangeStart()),K&&q.start.isBefore(z.start)?$.push(U):$.unshift(U)),0===$.length)return L instanceof V.a?(L=L.clone(),L.howMany=0,L.sourcePosition=I.targetPosition,[L]):[new R.a(L.baseVersion)];let G=L.targetPosition._getTransformedByMove(I.sourcePosition,I.targetPosition,I.howMany,!D,I.isSticky||Z);return $.reverse().map(J=>{let Y=new L.constructor(J.start,J.end.offset-J.start.offset,L instanceof V.a?L.baseVersion:G,L instanceof V.a?void 0:L.baseVersion);return Y.isSticky=L.isSticky,Y._holderElementOffset=L._holderElementOffset,Y})}}}},function(o,r,s){'use strict';function d(O,E,V){for(let R=V.length-1,F=E.length-1;0<=R&&0<=F;){const N=E[F];if(!O.hasItem(N))return!1;const M=O._extensionChains.get(N);if(M.includes(V[R]))R--,F--;else return!1}return!0}var u=s(1),f=s(5),h=s(92),w=s(11),C=s(147),T=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class P{constructor(){this.objects=new Set,this._items=new Map,this._extensionChains=new Map,this.registerItem('$root'),this.registerItem('$block'),this.registerItem('$inline'),this.registerItem('$text','$inline'),this.allow({name:'$block',inside:'$root'}),this.allow({name:'$inline',inside:'$block'}),this.registerItem('$clipboardHolder','$root'),this.allow({name:'$inline',inside:'$clipboardHolder'})}allow(O){this._getItem(O.name).allow(P._normalizeQueryPath(O.inside),O.attributes)}disallow(O){this._getItem(O.name).disallow(P._normalizeQueryPath(O.inside),O.attributes)}requireAttributes(O,E){this._getItem(O).requireAttributes(E)}check(O){if(!this.hasItem(O.name))return!1;s.i(w.a)(O.attributes)?0===O.attributes.length&&O.attributes.push(void 0):O.attributes=[O.attributes];const E=P._normalizeQueryPath(O.inside),V=this._extensionChains.get(O.name).map(R=>{return this._getItem(R)});if(!this._getItem(O.name)._checkRequiredAttributes(O.attributes))return!1;for(let R of O.attributes)for(let F of V)if(F._hasMatchingPath('disallow',E,R))return!1;for(let R of O.attributes){let F=!1;for(let N of V)if(N._hasMatchingPath('allow',E,R)){F=!0;break}if(!F)return!1}return!0}hasItem(O){return this._items.has(O)}registerItem(O,E){if(this.hasItem(O))throw new T.a('model-schema-item-exists: Item with specified name already exists in schema.');if(!!E&&!this.hasItem(E))throw new T.a('model-schema-no-item: Item with specified name does not exist in schema.');this._items.set(O,new S(this));const V=this.hasItem(E)?this._extensionChains.get(E).concat(O):[O];this._extensionChains.set(O,V)}itemExtends(O,E){if(!this.hasItem(O)||!this.hasItem(E))throw new T.a('model-schema-no-item: Item with specified name does not exist in schema.');const V=this._extensionChains.get(O);return V.some(R=>R==E)}_getItem(O){if(!this.hasItem(O))throw new T.a('model-schema-no-item: Item with specified name does not exist in schema.');return this._items.get(O)}static _normalizeQueryPath(O){let E=[];if(s.i(w.a)(O))for(let V of O)V instanceof f.a?E.push(V.name):s.i(C.a)(V)&&E.push(V);else if(O instanceof u.a){for(let V=O.parent;null!==V;)E.push(V.name),V=V.parent;E.reverse()}else s.i(C.a)(O)&&(E=O.split(' '));return E}}r.a=P;class S{constructor(O){this._schema=O,this._allowed=[],this._disallowed=[],this._requiredAttributes=[]}allow(O,E){this._addPath('_allowed',O,E)}disallow(O,E){this._addPath('_disallowed',O,E)}requireAttributes(O){this._requiredAttributes.push(O)}_addPath(O,E,V){E=E.slice(),s.i(w.a)(V)||(V=[V]);for(let R of V)this[O].push({path:E,attribute:R})}_getPaths(O,E){const V='allow'===O?this._allowed:this._disallowed,R=[];for(let F of V)F.attribute===E&&R.push(F.path);return R}_checkRequiredAttributes(O){let E=!0;for(let V of this._requiredAttributes){E=!0;for(let R of V)if(-1==O.indexOf(R)){E=!1;break}if(E)break}return E}_hasMatchingPath(O,E,V){const R=this._getPaths(O,V);for(const F of R)if(d(this._schema,E,F))return!0;return!1}toJSON(){const O=s.i(h.a)(this);return O._schema='[model.Schema]',O}}},function(o,r,s){'use strict';var d=s(75),u=s(349),f=s(166),h=s(350),w=s(56),C=s(53),T=s(170),P=s(348),S=s(345),O=s(346),E=s(344),V=s(4),R=s(31);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class F{constructor(){this.domRoots=new Map,this.selection=new d.a,this.domConverter=new f.a,this.roots=new Map,this.set('isFocused',!1),this.renderer=new u.a(this.domConverter,this.selection),this.renderer.bind('isFocused').to(this,'isFocused'),this._observers=new Map,this.addObserver(T.a),this.addObserver(P.a),this.addObserver(S.a),this.addObserver(O.a),this.addObserver(E.a),s.i(w.h)(this),this.on('render',()=>{this.disableObservers(),this.renderer.render(),this.enableObservers()})}addObserver(N){let M=this._observers.get(N);if(M)return M;M=new N(this),this._observers.set(N,M);for(let[L,I]of this.domRoots)M.observe(I,L);return M.enable(),M}getObserver(N){return this._observers.get(N)}createRoot(N,M='main'){const L='string'==typeof N?N:N.tagName,I=new h.a(L.toLowerCase(),M);return I.document=this,this.roots.set(M,I),I.on('change:children',(D,q)=>this.renderer.markToSync('children',q)),I.on('change:attributes',(D,q)=>this.renderer.markToSync('attributes',q)),I.on('change:text',(D,q)=>this.renderer.markToSync('text',q)),this.domConverter.isElement(N)&&this.attachDomRoot(N,M),I}attachDomRoot(N,M='main'){const L=this.getRoot(M);this.domRoots.set(M,N),this.domConverter.bindElements(N,L),this.renderer.markToSync('children',L),this.renderer.domDocuments.add(N.ownerDocument);for(let I of this._observers.values())I.observe(N,M)}getRoot(N='main'){return this.roots.get(N)}getDomRoot(N='main'){return this.domRoots.get(N)}render(){this.fire('render')}focus(){if(!this.isFocused){const N=this.selection.editableElement;N?(this.domConverter.focus(N),this.render()):C.a.warn('view-focus-no-selection: There is no selection in any editable to focus.')}}disableObservers(){for(let N of this._observers.values())N.disable()}enableObservers(){for(let N of this._observers.values())N.enable()}destroy(){for(let N of this._observers.values())N.destroy()}}r.a=F,s.i(V.a)(F,R.a)},function(o,r,s){'use strict';var d=s(57);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class u extends d.a{constructor(f){super(f),this.domEventType='click'}onDomEvent(f){this.fire(f.type,f)}}r.a=u},function(o,r,s){'use strict';function d(C){return C==h.b.arrowright||C==h.b.arrowleft||C==h.b.arrowup||C==h.b.arrowdown}var u=s(46),f=s(75),h=s(23);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class w extends u.a{constructor(C){super(C)}observe(){const C=this.document;C.on('keydown',(T,P)=>{const S=C.selection;S.isFake&&d(P.keyCode)&&this.isEnabled&&(P.preventDefault(),this._handleSelectionMove(P.keyCode))},{priority:'lowest'})}_handleSelectionMove(C){const T=this.document.selection,P=f.a.createFromSelection(T);P.setFake(!1),(C==h.b.arrowleft||C==h.b.arrowup)&&P.collapseToStart(),(C==h.b.arrowright||C==h.b.arrowdown)&&P.collapseToEnd(),this.document.fire('selectionChange',{oldSelection:T,newSelection:P,domSelection:null})}}r.a=w},function(o,r,s){'use strict';var d=s(57);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class u extends d.a{constructor(f){super(f),this.domEventType=['focus','blur'],this.useCapture=!0,f.on('focus',()=>{f.isFocused=!0}),f.on('blur',(h,w)=>{const C=f.selection.editableElement;(null===C||C===w.target)&&(f.isFocused=!1,f.render())})}onDomEvent(f){this.fire(f.type,f)}}r.a=u},function(o,r,s){'use strict';var d=s(57),u=s(23);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{constructor(h){super(h),this.domEventType='keydown'}onDomEvent(h){this.fire('keydown',h,{keyCode:h.keyCode,altKey:h.altKey,ctrlKey:h.ctrlKey||h.metaKey,shiftKey:h.shiftKey,get keystroke(){return s.i(u.c)(this)}})}}r.a=f},function(o,r,s){'use strict';var d=s(57);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class u extends d.a{constructor(f){super(f),this.domEventType='mousedown'}onDomEvent(f){this.fire(f.type,f)}}r.a=u},function(o,r,s){'use strict';var d=s(46),u=s(170),f=s(53);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h extends d.a{constructor(w){super(w),this.mutationObserver=w.getObserver(u.a),this.document=w,this.selection=w.selection,this.domConverter=w.domConverter,this._documents=new WeakSet,this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),2e3)}observe(w){const C=w.ownerDocument;this._documents.has(C)||(this.listenTo(C,'selectionchange',()=>{this._handleSelectionChange(C)}),this._documents.add(C))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval)}_handleSelectionChange(w){if(this.isEnabled&&this.document.isFocused){this.mutationObserver.flush();const C=w.defaultView.getSelection(),T=this.domConverter.domSelectionToView(C);return this.selection.isEqual(T)?void 0:this._isInfiniteLoop(T)?void f.a.warn('selectionchange-infinite-loop: Selection change observer detected an infinite rendering loop.'):void this.document.fire('selectionChange',{oldSelection:this.selection,newSelection:T,domSelection:C})}}_isInfiniteLoop(w){return this._lastSelection&&this._lastButOneSelection&&(w.isEqual(this._lastSelection)||w.isEqual(this._lastButOneSelection))?this._loopbackCounter++:(this._lastButOneSelection=this._lastSelection,this._lastSelection=w,this._loopbackCounter=0),!!(50<this._loopbackCounter)}_clearInfiniteLoop(){this._lastSelection=null,this._lastButOneSelection=null,this._loopbackCounter=0}}r.a=h},function(o,r,s){'use strict';var d=s(18),u=s(17),f=s(25),h=s(56),w=s(4),C=s(188),T=s(400),P=s(404),S=s(31),O=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class E{constructor(V,R){this.domDocuments=new Set,this.domConverter=V,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=R,this._inlineFiller=null,this.isFocused=!1,this._fakeSelectionContainer=null}markToSync(V,R){if('text'===V)this.domConverter.getCorrespondingDom(R.parent)&&this.markedTexts.add(R);else{if(!this.domConverter.getCorrespondingDom(R))return;if('attributes'===V)this.markedAttributes.add(R);else if('children'===V)this.markedChildren.add(R);else throw new O.a('view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.')}}render(){let V;this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?V=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(V=this.selection.getFirstPosition(),this.markedChildren.add(V.parent));for(let R of this.markedTexts)!this.markedChildren.has(R.parent)&&this.domConverter.getCorrespondingDom(R.parent)&&this._updateText(R,{inlineFillerPosition:V});for(let R of this.markedAttributes)this._updateAttrs(R);for(let R of this.markedChildren)this._updateChildren(R,{inlineFillerPosition:V});this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear(),this._inlineFiller=this._getInlineFillerNode(V)}_getInlineFillerNode(V){if(!V)return void(this._inlineFiller=null);const R=this.domConverter.viewPositionToDom(V);if(!R||!s.i(h.c)(R.parent))throw new O.a('view-renderer-cannot-find-filler: Cannot find filler node by its position.');return R.parent}_getInlineFillerPosition(){const V=this.selection.getFirstPosition();return V.parent instanceof d.a?f.a.createBefore(this.selection.getFirstPosition().parent):V}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const V=this.selection.getFirstPosition(),R=this.domConverter.viewPositionToDom(V);return R&&this.domConverter.isText(R.parent)&&s.i(h.c)(R.parent)}_removeInlineFiller(){const V=this._inlineFiller;if(!s.i(h.c)(V))throw new O.a('view-renderer-filler-was-lost: The inline filler node was lost.');s.i(h.f)(V)?V.parentNode.removeChild(V):V.data=V.data.substr(h.d),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const V=this.selection.getFirstPosition(),R=V.parent,F=V.offset;if(!this.domConverter.getCorrespondingDomElement(R.root))return!1;if(!(R instanceof u.a))return!1;if(F===R.getFillerOffset())return!1;const N=V.nodeBefore,M=V.nodeAfter;return N instanceof d.a||M instanceof d.a?!1:!0}_updateText(V,R){const F=this.domConverter.getCorrespondingDom(V),N=this.domConverter.viewToDom(V,F.ownerDocument),M=F.data;let L=N.data;const I=R.inlineFillerPosition;I&&I.parent==V.parent&&I.offset==V.index&&(L=h.i+L),M!=L&&(F.data=L)}_updateAttrs(V){const R=this.domConverter.getCorrespondingDom(V),F=Array.from(R.attributes).map(M=>M.name),N=V.getAttributeKeys();for(let M of N)R.setAttribute(M,V.getAttribute(M));for(let M of F)V.hasAttribute(M)||R.removeAttribute(M)}_updateChildren(V,R){const N=this.domConverter,M=N.getCorrespondingDom(V),L=M.ownerDocument,I=R.inlineFillerPosition,D=M.childNodes,q=Array.from(N.viewChildrenToDom(V,L,{bind:!0}));if(I&&I.parent==V){const K=q[I.offset];this.domConverter.isText(K)?K.data=h.i+K.data:q.splice(I.offset,0,L.createTextNode(h.i))}const z=s.i(C.a)(D,q,function(K,U){if(K===U)return!0;return N.isText(K)&&N.isText(U)?K.data===U.data:s.i(h.e)(K,N.blockFiller)&&s.i(h.e)(U,N.blockFiller)});let $=0;for(let K of z)'insert'===K?(s.i(T.a)(M,$,q[$]),$++):'delete'===K?s.i(P.a)(D[$]):$++}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const V=this.domConverter.getCorrespondingDomElement(this.selection.editableElement);this.isFocused&&V&&(this.selection.isFake?this._updateFakeSelection(V):(this._removeFakeSelection(),this._updateDomSelection(V)))}_updateFakeSelection(V){const R=V.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=R.createElement('div'),this._fakeSelectionContainer.style.position='fixed',this._fakeSelectionContainer.style.top=0,this._fakeSelectionContainer.style.left='-9999px',this._fakeSelectionContainer.appendChild(R.createTextNode('\xA0'))),this._fakeSelectionContainer.parentElement||V.appendChild(this._fakeSelectionContainer);const F=this.selection.fakeSelectionLabel||'\xA0';this._fakeSelectionContainer.firstChild.data=F;const N=R.getSelection();N.removeAllRanges();const M=new Range;M.selectNodeContents(this._fakeSelectionContainer),N.addRange(M),this.domConverter.bindFakeSelection(this._fakeSelectionContainer,this.selection)}_updateDomSelection(V){const R=V.ownerDocument.defaultView.getSelection(),F=R&&this.domConverter.domSelectionToView(R);if(!(F&&this.selection.isEqual(F))){const N=this.domConverter.viewPositionToDom(this.selection.anchor),M=this.domConverter.viewPositionToDom(this.selection.focus);R.collapse(N.parent,N.offset),R.extend(M.parent,M.offset)}}_removeDomSelection(){for(let V of this.domDocuments){const R=V.getSelection();if(R.rangeCount){const F=V.activeElement,N=this.domConverter.getCorrespondingViewElement(F);F&&N&&V.getSelection().removeAllRanges()}}}_removeFakeSelection(){const V=this._fakeSelectionContainer;V&&V.remove()}_updateFocus(){if(this.isFocused){const V=this.selection.editableElement;V&&this.domConverter.focus(V)}}}r.a=E,s.i(w.a)(E,S.a)},function(o,r,s){'use strict';var d=s(167);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const u=Symbol('rootName');class f extends d.a{constructor(h){super(h),this.rootName='main'}get rootName(){return this.getCustomProperty(u)}set rootName(h){this.setCustomProperty(u,h)}}r.a=f},function(o,r,s){'use strict';function d(C,T,P){const S=P.isCollapsed,O=P.getFirstRange(),E=O.start.parent,V=O.end.parent;if(E.root==E)return void(S||C.deleteContent(P,T));if(S)u(T,P,O.start);else{const R=O.start.isAtStart&&O.end.isAtEnd;C.deleteContent(P,T,{merge:R}),R||(E==V?u(T,P,P.focus):P.collapse(V))}}function u(C,T,P){if(P.isAtEnd){const S=P.parent,O=new S.constructor(S.name,S.getAttributes());C.insert(h.a.createAfter(P.parent),O)}else C.split(P);T.collapse(P.parent.nextSibling)}var f=s(20),h=s(1);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class w extends f.a{_doExecute(){const C=this.editor.document,T=C.batch();C.enqueueChanges(()=>{d(this.editor.data,T,C.selection),this.fire('afterExecute',{batch:T})})}}r.a=w},function(o,r,s){'use strict';var d=s(46),u=s(114),f=s(23);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h extends d.a{constructor(w){super(w),w.on('keydown',(C,T)=>{this.isEnabled&&T.keyCode==f.b.enter&&w.fire('enter',new u.a(w,T.domEvent))})}observe(){}}r.a=h},function(o,r,s){'use strict';function d(w,C=!0){let T=w.parent;if(T instanceof f.a)return C?w.nodeAfter:w.nodeBefore;for(;!(T.parent instanceof f.a);)T=T.parent;return T}var u=s(20),f=s(72);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h extends u.a{constructor(w,C){super(w),this.formats=C,this.set('value',this.defaultFormat),this.listenTo(w.document,'changesDone',()=>this._updateValue())}get defaultFormat(){return this._getFormatById('paragraph')}_doExecute(w={}){const C=w.formatId||this.defaultFormat.id,T=this.editor.document,P=T.selection,S=P.getFirstPosition(),O=[],E=[...P.getRanges()],V=P.isBackward,R=C===this.value.id;if(P.isCollapsed){const F=d(S);F&&O.push(F)}else for(let F of E){let N=d(F.start);const M=d(F.end,!1);for(O.push(N);N!==M;)N=N.nextSibling,O.push(N)}T.enqueueChanges(()=>{const F=w.batch||T.batch();for(let N of O)R?N.name===C&&F.rename(N,this.defaultFormat.id):F.rename(N,C);T.selection.setRanges(E,V)})}_getFormatById(w){return this.formats.find(C=>C.id===w)||this.defaultFormat}_updateValue(){const w=this.editor.document.selection.getFirstPosition(),C=d(w);C&&(this.value=this._getFormatById(C.name))}}r.a=h},function(o,r,s){'use strict';function h(T,P,S,O){const E=T.name.split(':'),V=E[0]+':'+E[1];if(S.consume(P.item,V)){const R=O.mapper.toViewElement(P.item),F=R.getChild(0);'removeAttribute'==E[0]?F.removeAttribute(P.attributeKey):F.setAttribute(P.attributeKey,P.attributeNewValue)}}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */var w=s(5),C=s(40);r.b=function(){return(T,P,S,O)=>{const E=P.input;if(S.test(E,{name:!0,class:'image'})&&O.schema.check({name:'image',inside:P.context,attributes:'src'})){const V=E.getChild(0);if(V&&'img'==V.name&&S.test(V,{name:!0,attribute:'src'})){S.consume(E,{name:!0,class:'image'}),S.consume(V,{name:!0,attribute:'src'});const R=new w.a('image',{src:V.getAttribute('src')});S.consume(V,{attribute:['alt']})&&R.setAttribute('alt',V.getAttribute('alt')),P.output=R}}}},r.c=function(T){return(P,S,O,E)=>{const V=E.viewSelection,R=V.getSelectedElement();if(R&&s.i(C.a)(R)){let F=T('image widget');const N=R.getChild(0),M=N.getAttribute('alt');M&&(F=`${M} ${F}`),V.setFake(!0,{label:F})}}},r.a=function(T,P){for(let S of T)S.on(`addAttribute:${P}:image`,h),S.on(`changeAttribute:${P}:image`,h),S.on(`removeAttribute:${P}:image`,h)}},function(o,r,s){'use strict';var d=s(3),u=s(26),f=s(357),h=s(375),w=s(182),C=s(151),T=s(358),P=s(174),S=s(294),O=s.n(S),E=s(304),V=s.n(E);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class R extends d.a{static get requires(){return[f.a]}init(){return this._createButton(),this._createBalloonPanel().then(F=>{this.balloonPanel=F,this.form=F.content.get(0)})}_createButton(){const F=this.editor,N=F.commands.get('imageAlternateText'),M=F.t;F.ui.componentFactory.add('imageAlternateText',L=>{const I=new u.a(L);return I.set({label:M('Change alternate text'),icon:O.a,tooltip:!0}),I.bind('isEnabled').to(N,'isEnabled'),this.listenTo(I,'execute',()=>this._showBalloonPanel()),I})}_createBalloonPanel(){const F=this.editor,N=new P.a(F),M=new T.a(F.locale);this.listenTo(M,'submit',()=>{F.execute('imageAlternateText',{newValue:M.lebeledInput.inputView.element.value}),this._hideBalloonPanel()});const L=F.plugins.get(C.a);return L&&this.listenTo(N,'change:isVisible',()=>{N.isVisible?(L.hide(),L.isEnabled=!1):(L.show(),L.isEnabled=!0)}),this.listenTo(M,'cancel',()=>this._hideBalloonPanel()),s.i(h.a)({emitter:N,activator:()=>N.isVisible,callback:()=>this._hideBalloonPanel()}),s.i(w.a)({emitter:N,activator:()=>N.isVisible,contextElement:N.element,callback:()=>this._hideBalloonPanel()}),Promise.all([N.content.add(M),F.ui.view.body.add(N)]).then(()=>N)}_showBalloonPanel(){const F=this.editor,N=F.commands.get('imageAlternateText');this.form.lebeledInput.value=N.value||'',this.balloonPanel.attach(),this.form.lebeledInput.select()}_hideBalloonPanel(){const F=this.editor;this.balloonPanel.detach(),F.editing.view.focus()}}r.a=R},function(o,r,s){'use strict';var d=s(20),u=s(40);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{constructor(h){super(h),this.set('value',!1),this.listenTo(h.document,'changesDone',()=>{this._updateValue(),this.refreshState()})}_updateValue(){const h=this.editor.document,w=h.selection.getSelectedElement();this.value=s.i(u.b)(w)&&w.hasAttribute('alt')&&w.getAttribute('alt')}_checkEnabled(){const h=this.editor.document.selection.getSelectedElement();return s.i(u.b)(h)}_doExecute(h){const w=this.editor,C=w.document,T=C.selection.getSelectedElement();C.enqueueChanges(()=>{const P=h.batch||C.batch();P.setAttribute(T,'alt',h.newValue)})}}r.a=f},function(o,r,s){'use strict';var d=s(356),u=s(3);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends u.a{init(){this.editor.commands.set('imageAlternateText',new d.a(this.editor))}}r.a=f},function(o,r,s){'use strict';var d=s(9),u=s(26),f=s(6),h=s(185),w=s(184),C=s(183);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class T extends d.a{constructor(P){super(P);const S=this.locale.t;this.lebeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(S('Save')),this.saveButtonView.type='submit',this.cancelButtonView=this._createButton(S('Cancel'),'cancel'),f.a.extend(this.saveButtonView.template,{attributes:{class:['ck-button-action']}}),this.template=new f.a({tag:'form',attributes:{class:['ck-alternate-text-form']},children:[this.lebeledInput,{tag:'div',attributes:{class:['ck-alternate-text-form__actions']},children:[this.saveButtonView,this.cancelButtonView]}]}),s.i(C.a)({view:this})}_createButton(P,S){const O=new u.a(this.locale);return O.label=P,O.withText=!0,S&&O.delegate('execute').to(this,S),O}_createLabeledInputView(){const P=this.locale.t,S=new h.a(this.locale,w.a);return S.label=P('Alternate image text'),S}}r.a=T},function(o,r,s){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function f(P,S,O,E){const V=S.input,R=S.output;if(O.test(V,{class:P.className})&&s.i(T.b)(R)){const F=[...R.getAttributeKeys(),'imageStyle'];E.schema.check({name:'image',inside:S.context,attributes:F})&&(O.consume(V,{class:P.className}),R.setAttribute('imageStyle',P.value))}}function h(P,S){for(let O of S)if(O.value===P)return O}function w(P,S,O){return S&&('changeAttribute'==P||'removeAttribute'==P)&&(O.removeClass(S.className),!0)}function C(P,S,O){return S&&('addAttribute'==P||'changeAttribute'==P)&&(O.addClass(S.className),!0)}var T=s(40);r.a=function(P){return(S,O,E,V)=>{const R=S.name.split(':')[0],F=R+':imageStyle';if(E.test(O.item,F)){const N=h(O.attributeNewValue,P),M=h(O.attributeOldValue,P),L=V.mapper.toViewElement(O.item);(w(R,M,L)||C(R,N,L))&&E.consume(O.item,F)}}},r.b=function(P){const S=P.filter(O=>null!==O.value);return(O,E,V,R)=>{for(let F of S)f(F,E,V,R)}}},function(o,r,s){'use strict';var d=s(20),u=s(40);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{constructor(h,w){super(h),this.set('value',!1),this.style=w,this.listenTo(h.document,'changesDone',()=>{this._updateValue(),this.refreshState()})}_updateValue(){const h=this.editor.document,w=h.selection.getSelectedElement();return w?void(null===this.style.value?this.value=!w.hasAttribute('imageStyle'):this.value=w.getAttribute('imageStyle')==this.style.value):void(this.value=!1)}_checkEnabled(){const h=this.editor.document.selection.getSelectedElement();return s.i(u.b)(h)}_doExecute(h={}){if(!this.value){const w=this.editor,C=w.document,T=C.selection,P=T.getSelectedElement();C.enqueueChanges(()=>{const S=h.batch||C.batch();S.setAttribute(P,'imageStyle',this.style.value)})}}}r.a=f},function(o,r,s){'use strict';var d=s(3),u=s(360),f=s(173),h=s(359),w=s(295),C=s.n(w),T=s(296),P=s.n(T);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class S extends d.a{static get requires(){return[f.a]}init(){const O=this.editor,E=O.t,V=O.document,R=V.schema,F=O.data,N=O.editing;O.config.define('image.styles',[{name:'imageStyleFull',title:E('Full size image'),icon:C.a,value:null},{name:'imageStyleSide',title:E('Side image'),icon:P.a,value:'side',className:'image-style-side'}]);const M=O.config.get('image.styles');R.allow({name:'image',attributes:'imageStyle',inside:'$root'});const L=s.i(h.a)(M);N.modelToView.on('addAttribute:imageStyle:image',L),F.modelToView.on('addAttribute:imageStyle:image',L),N.modelToView.on('changeAttribute:imageStyle:image',L),F.modelToView.on('changeAttribute:imageStyle:image',L),N.modelToView.on('removeAttribute:imageStyle:image',L),F.modelToView.on('removeAttribute:imageStyle:image',L),F.viewToModel.on('element:figure',s.i(h.b)(M),{priority:'low'});for(let I of M)O.commands.set(I.name,new u.a(O,I))}}r.a=S},function(o,r,s){'use strict';function d(V){return V==O.b.arrowright||V==O.b.arrowleft||V==O.b.arrowup||V==O.b.arrowdown}function u(V){return V==O.b.delete||V==O.b.backspace}var f=s(3),h=s(175),w=s(347),C=s(2),T=s(73),P=s(5),S=s(117),O=s(23);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class E extends f.a{static get requires(){return[h.a]}init(){const V=this.editor.editing.view;V.addObserver(w.a),this.listenTo(V,'mousedown',(...R)=>this._onMousedown(...R)),this.listenTo(V,'keydown',(...R)=>this._onKeydown(...R),{priority:'high'})}_onMousedown(V,R){let F=R.target;const N=this.editor,M=N.editing.view;if(s.i(S.b)(F)||(F=F.findAncestor(I=>s.i(S.b)(I)),!!F)){R.preventDefault(),M.isFocused||M.focus();const L=N.editing.mapper.toModelElement(F);N.document.enqueueChanges(()=>{this._setSelectionOverElement(L)})}}_onKeydown(V,R){const F=R.keyCode,N=F==O.b.delete||F==O.b.arrowdown||F==O.b.arrowright;(u(F)&&this._handleDelete(N)||d(F)&&this._handleArrowKeys(N))&&(R.preventDefault(),V.stop())}_handleDelete(V){const R=this.editor.document,F=R.selection;if(F.isCollapsed){const N=this._getObjectElementNextToSelection(V);if(N)return R.enqueueChanges(()=>{const M=F.anchor.parent;if(M.isEmpty){const L=R.batch();L.remove(M)}this._setSelectionOverElement(N)}),!0}}_handleArrowKeys(V){const R=this.editor.document,F=R.schema,N=R.selection,M=N.getSelectedElement();if(M&&F.objects.has(M.name)){const I=V?N.getLastPosition():N.getFirstPosition(),D=R.getNearestSelectionRange(I,V?'forward':'backward');return D&&R.enqueueChanges(()=>{N.setRanges([D])}),!0}if(N.isCollapsed){const L=this._getObjectElementNextToSelection(V);if(L instanceof P.a&&R.schema.objects.has(L.name))return R.enqueueChanges(()=>{this._setSelectionOverElement(L)}),!0}}_setSelectionOverElement(V){this.editor.document.selection.setRanges([C.a.createOn(V)])}_getObjectElementNextToSelection(V){const R=this.editor.document,F=R.schema,N=R.selection,M=this.editor.data,L=T.a.createFromSelection(N);M.modifySelection(L,{direction:V?'forward':'backward'});const I=V?L.focus.nodeBefore:L.focus.nodeAfter;return I instanceof P.a&&F.objects.has(I.name)?I:null}}r.a=E},function(o,r,s){'use strict';var d=s(20),u=s(22),f=s(2),h=s(97),w=s(156),C=s(176);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class T extends d.a{constructor(P){super(P),this.set('value',void 0),this.listenTo(this.editor.document.selection,'change:attribute',()=>{this.value=this.editor.document.selection.getAttribute('linkHref')})}_checkEnabled(){const P=this.editor.document;return s.i(w.a)('linkHref',P.selection,P.schema)}_doExecute(P){const S=this.editor.document,O=S.selection;S.enqueueChanges(()=>{const E=S.batch();if(O.isCollapsed){const V=O.getFirstPosition(),R=V.parent;if(O.hasAttribute('linkHref')){const F=s.i(C.a)(O.getFirstPosition(),O.getAttribute('linkHref'));E.setAttribute(F,'linkHref',P),O.setRanges([F])}else if(S.schema.check({name:'$text',attributes:'linkHref',inside:R.name})){const F=new u.a(P,{linkHref:P});E.insert(V,F),O.setRanges([f.a.createOn(F)])}}else{const V=s.i(h.a)('linkHref',O.getRanges(),S.schema);for(let R of V)E.setAttribute(R,'linkHref',P)}})}}r.a=T},function(o,r,s){'use strict';var d=s(3),u=s(45),f=s(54),h=s(177),w=s(363),C=s(366);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class T extends d.a{init(){const P=this.editor,S=P.data,O=P.editing;P.document.schema.allow({name:'$inline',attributes:'linkHref'}),s.i(u.a)().for(S.modelToView,O.modelToView).fromAttribute('linkHref').toElement(E=>new h.a('a',{href:E})),s.i(f.a)().for(S.viewToModel).fromElement('a').toAttribute(E=>({key:'linkHref',value:E.getAttribute('href')})),P.commands.set('link',new w.a(P)),P.commands.set('unlink',new C.a(P))}}r.a=T},function(o,r,s){'use strict';var d=s(9),u=s(6),f=s(119),h=s(26),w=s(185),C=s(184),T=s(183),P=s(59),S=s(118),O=s(60);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class E extends d.a{constructor(V){super(V);const R=V.t;this.focusTracker=new P.a,this.keystrokes=new O.a,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton('Save'),this.saveButtonView.type='submit',this.cancelButtonView=this._createButton(R('Cancel'),'cancel'),this.unlinkButtonView=this._createButton(R('Unlink'),'unlink'),this._focusables=new f.a,this._focusCycler=new S.a({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),u.a.extend(this.saveButtonView.template,{attributes:{class:['ck-button-action']}}),this.template=new u.a({tag:'form',attributes:{class:['ck-link-form']},children:[this.urlInputView,{tag:'div',attributes:{class:['ck-link-form__actions']},children:[this.saveButtonView,this.cancelButtonView,this.unlinkButtonView]}]}),s.i(T.a)({view:this});const F=[this.urlInputView,this.saveButtonView,this.cancelButtonView,this.unlinkButtonView];F.forEach(N=>{this._focusables.add(N),this.focusTracker.add(N.element)})}init(){return this.keystrokes.listenTo(this.element),super.init()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const V=this.locale.t,R=new w.a(this.locale,C.a);return R.label=V('Link URL'),R}_createButton(V,R){const F=new h.a(this.locale);return F.label=V,F.withText=!0,R&&F.delegate('execute').to(this,R),F}}r.a=E},function(o,r,s){'use strict';var d=s(20),u=s(176);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{constructor(h){super(h),this.listenTo(h.document.selection,'change:attribute',()=>this.refreshState())}_doExecute(){const h=this.editor.document,w=h.selection;h.enqueueChanges(()=>{const C=w.isCollapsed?[s.i(u.a)(w.getFirstPosition(),w.getAttribute('linkHref'))]:w.getRanges(),T=h.batch();for(let P of C)T.removeAttribute(P,'linkHref')})}_checkEnabled(){return this.editor.document.selection.hasAttribute('linkHref')}}r.a=f},function(o,r,s){'use strict';function V(K,U){const H='numbered'==K.getAttribute('type')?'ol':'ul',W=new M.a,Z=new D.a(H,null);return Z.appendChildren(W),U.bindElements(K,W),W}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function R(K,U){const H=U.getNext?'nextSibling':'previousSibling',W=!!U.checkAllSiblings,Z=!!U.sameIndent,G=!!U.biggerIndent,J=K.getAttribute('indent');for(let Y=K[H],X;Y&&'listItem'==Y.name;){if(X=Y.getAttribute('indent'),Z&&J==X||G&&J<X)return Y;if(!W||J>X)return null;Y=Y[H]}return null}function F(K,U){K&&U&&('ul'==K.name||'ol'==K.name)&&K.name==U.name&&$.a.mergeContainers(q.a.createAfter(K))}function N(K,U,H){const W=U.parent,Z=R(K,{sameIndent:!0,biggerIndent:!0});if(Z){let Q=H.toViewElement(Z),ee=q.a.createAfter(Q);$.a.breakContainer(ee)}const G=R(K,{sameIndent:!0,checkAllSiblings:!0});let J;if(G){let Q=H.toViewElement(G),ee=q.a.createAfter(Q);J=$.a.breakContainer(ee)}else{const Q=K.previousSibling;J=Q&&'listItem'==Q.name?q.a.createAt(H.toViewElement(Q),'end'):H.toViewPosition(I.a.createBefore(K))}$.a.insert(J,W);const Y=R(K,{getNext:!0,biggerIndent:!0}),X=H.toViewElement(Y);if(X){let Q=z.a.createOn(X.parent),ee=q.a.createAt(U,'end');$.a.move(Q,ee)}F(W,W.nextSibling),F(W.previousSibling,W)}var M=s(370),L=s(5),I=s(1),D=s(39),q=s(25),z=s(33),$=s(116);r.d=function(K,U,H,W){if(H.test(U.item,'insert')&&H.test(U.item,'addAttribute:type')&&H.test(U.item,'addAttribute:indent')){H.consume(U.item,'insert'),H.consume(U.item,'addAttribute:type'),H.consume(U.item,'addAttribute:indent');const Z=U.item,G=V(Z,W.mapper);N(Z,G,W.mapper)}},r.e=function(K,U,H,W){if(H.consume(U.item,'changeAttribute:type')){const Z=W.mapper.toViewElement(U.item);$.a.breakContainer(q.a.createBefore(Z)),$.a.breakContainer(q.a.createAfter(Z));let G=Z.parent;const J='numbered'==U.attributeNewValue?'ol':'ul';G=$.a.rename(G,J),F(G,G.nextSibling),F(G.previousSibling,G)}},r.f=function(K,U,H,W){if(H.consume(U.item,'remove')){const Z=W.mapper.toViewElement(U.item);$.a.breakContainer(q.a.createBefore(Z)),$.a.breakContainer(q.a.createAfter(Z));const G=Z.parent;$.a.remove(z.a.createOn(G))}},r.h=function(K,U,H,W){if(H.consume(U.item,'move')){const Z=W.mapper.toViewElement(U.item);$.a.breakContainer(q.a.createBefore(Z)),$.a.breakContainer(q.a.createAfter(Z));const G=Z.parent,J=G.previousSibling,Y=G.nextSibling;let X=W.mapper.toViewPosition(U.targetPosition);('ol'==X.parent.name||'ul'==X.parent.name)&&(X=$.a.breakContainer(X)),$.a.move(z.a.createOn(G),X),F(J,Y),F(G,G.nextSibling),F(G.previousSibling,G)}},r.i=function(K,U,H,W){if(H.consume(U.item,'changeAttribute:indent')){const Z=W.mapper.toViewElement(U.item);$.a.breakContainer(q.a.createBefore(Z)),$.a.breakContainer(q.a.createAfter(Z));const G=Z.parent,J=G.previousSibling;$.a.remove(z.a.createOn(G)),F(J,J.nextSibling),N(U.item,Z,W.mapper)}},r.c=function(K,U,H,W){if('listItem'!=U.item.name)for(let Z=W.mapper.toViewPosition(U.range.start);('ul'==Z.parent.name||'ol'==Z.parent.name)&&(Z=$.a.breakContainer(Z),null!==Z.parent.parent);)Z=q.a.createBefore(Z.parent)},r.g=function(K,U,H,W){const Z=W.mapper.toViewPosition(U.sourcePosition),G=Z.nodeBefore,J=Z.nodeAfter;F(G,J)},r.j=function(K,U,H,W){if(H.consume(U.input,{name:!0})){const Z=new L.a('listItem');U.indent=U.indent?U.indent:0;const G='ul'==U.input.parent.name?'bulleted':'numbered';Z.setAttribute('type',G),Z.setAttribute('indent',U.indent),U.context.push(Z),U.indent++;let J=[Z];for(let Y of U.input.getChildren()){const X=W.convertItem(Y,H,U);'ul'==Y.name||'ol'==Y.name?J=J.concat(Array.from(X.getChildren())):Z.appendChildren(X)}U.indent--,U.context.pop(),U.output=U.output?U.output.concat(J):J}},r.k=function(K,U,H){if(H.test(U.input,{name:!0})){const W=Array.from(U.input.getChildren());for(let Z of W)Z.name&&'li'==Z.name||Z.remove()}},r.a=function(K,U){'li'==U.viewPosition.parent.name&&'listItem'!=U.modelPosition.parent.name&&(U.viewPosition=q.a.createBefore(U.viewPosition.parent),K.stop())},r.b=function(K,U){const H=U.viewPosition,W=U.mapper,Z=H.nodeAfter,G=H.nodeBefore;let J;if(Z)'ul'==Z.name||'ol'==Z.name?J=W.toModelElement(Z.getChild(0)):'li'==Z.name&&(J=W.toModelElement(Z)),J&&(U.modelPosition=I.a.createBefore(J));else if(G){let Y;if('ul'==G.name||'ol'==G.name?Y=G.getChild(G.childCount-1):'li'==G.name&&(Y=G),Y){J=W.toModelElement(Y);const X=W.getModelLength(Y);U.modelPosition=I.a.createBefore(J).getShiftedBy(X)}}null!==U.modelPosition&&K.stop()}},function(o,r,s){'use strict';var d=s(20),u=s(179);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{constructor(h,w){super(h),this._indentBy='forward'==w?1:-1,this.listenTo(h.document.selection,'change:range',()=>{this.refreshState()}),this.listenTo(h.document,'changesDone',()=>{this.refreshState()})}_doExecute(){const h=this.editor.document,w=h.batch(),C=s.i(u.a)(h.selection.getFirstPosition());h.enqueueChanges(()=>{const T=C.getAttribute('indent');let P=[C],S=C.nextSibling;for(;S&&'listItem'==S.name&&S.getAttribute('indent')>T;)P.push(S),S=S.nextSibling;0>this._indentBy&&(P=P.reverse());for(let O of P){const E=O.getAttribute('indent')+this._indentBy;0>E?w.rename(O,'paragraph').removeAttribute(O,'indent').removeAttribute(O,'type'):w.setAttribute(O,'indent',E)}})}_checkEnabled(){const h=s.i(u.a)(this.editor.document.selection.getFirstPosition());if(!h)return!1;const w=h.previousSibling,C=h.getAttribute('indent'),T=C+this._indentBy;if(0<this._indentBy){if(!w||'listItem'!=w.name)return!1;if(w.getAttribute('indent')+1<T)return!1}return!0}}r.a=f},function(o,r,s){'use strict';var d=s(20),u=s(179);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{constructor(h,w){super(h),this.type='bulleted'==w?'bulleted':'numbered',this.set('value',!1);const C=()=>{this.refreshValue(),this.refreshState()};this.listenTo(h.document.selection,'change:range',C),this.listenTo(h.document,'changesDone',C)}refreshValue(){const h=this.editor.document.selection.getFirstPosition(),w=s.i(u.a)(h);this.value=null!==w&&w.getAttribute('type')==this.type}_doExecute(h={}){const w=this.editor.document,C=s.i(u.b)(w.selection,w.schema),T=!0===this.value;w.enqueueChanges(()=>{const P=h.batch||w.batch();if(T){let S=C[C.length-1].nextSibling,O=Number.POSITIVE_INFINITY,E=[];for(;S&&'listItem'==S.name&&0!==S.getAttribute('indent');){const V=S.getAttribute('indent');V<O&&(O=V);const R=V-O;E.push({element:S,indent:R}),S=S.nextSibling}E=E.reverse();for(let V of E)P.setAttribute(V.element,'indent',V.indent)}for(let S of C)T&&'listItem'==S.name?P.rename(S,'paragraph').removeAttribute(S,'type').removeAttribute(S,'indent'):T||'listItem'==S.name?T||'listItem'!=S.name||S.getAttribute('type')==this.type||P.setAttribute(S,'type',this.type):P.setAttribute(S,'type',this.type).setAttribute(S,'indent',0).rename(S,'listItem')})}_checkEnabled(){if(this.value)return!0;const h=this.editor.document.selection,w=this.editor.document.schema,C=s.i(u.c)(h.getFirstPosition(),w);return w.check({name:'listItem',inside:C,attributes:['type','indent']})}}r.a=f},function(o,r,s){'use strict';function d(){const h=!this.isEmpty&&('ul'==this.getChild(0).name||'ol'==this.getChild(0).name);return this.isEmpty||h?0:null}var u=s(39);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends u.a{constructor(h,w){super('li',h,w),this.getFillerOffset=d}}r.a=f},function(o,r,s){'use strict';var d=s(3),u=s(372),f=s(373);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h extends d.a{init(){const w=this.editor,C=w.editing.view;C.addObserver(f.a),w.commands.set('forwardDelete',new u.a(w,'forward')),w.commands.set('delete',new u.a(w,'backward')),this.listenTo(C,'delete',(T,P)=>{w.execute('forward'==P.direction?'forwardDelete':'delete',{unit:P.unit}),P.preventDefault()})}}r.a=h},function(o,r,s){'use strict';var d=s(20),u=s(73),f=s(180),h=s(187);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class w extends d.a{constructor(C,T){super(C),this.direction=T,this._buffer=new f.a(C.document,C.config.get('undo.step'))}_doExecute(C={}){const T=this.editor.document,P=this.editor.data;T.enqueueChanges(()=>{const S=u.a.createFromSelection(T.selection);if(S.isCollapsed&&P.modifySelection(S,{direction:this.direction,unit:C.unit}),!S.isCollapsed){let O=0;S.getFirstRange().getMinimalFlatRanges().forEach(E=>{O+=s.i(h.a)(E.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),P.deleteContent(S,this._buffer.batch,{merge:!0}),this._buffer.input(O),T.selection.setRanges(S.getRanges(),S.isBackward)}})}}r.a=w},function(o,r,s){'use strict';var d=s(46),u=s(114),f=s(23);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h extends d.a{constructor(w){super(w),w.on('keydown',(C,T)=>{const P={};if(T.keyCode==f.b.delete)P.direction='forward',P.unit='character';else if(T.keyCode==f.b.backspace)P.direction='backward',P.unit='codePoint';else return;P.unit=T.altKey?'word':P.unit,w.fire('delete',new u.a(w,T.domEvent,P))})}observe(){}}r.a=h},function(o,r,s){'use strict';function d(F){return!!F.ctrlKey||R.includes(F.keyCode)}function u(F,N){return F instanceof T.a&&N instanceof T.a?F.data===N.data:F===N}var f=s(3),h=s(180),w=s(2),C=s(25),T=s(18),P=s(188),S=s(395),O=s(23);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class E extends f.a{init(){const F=this.editor,N=F.editing.view;this._buffer=new h.a(F.document,F.config.get('typing.undoStep')||20),this.listenTo(N,'keydown',(M,L)=>{this._handleKeydown(L)},{priority:'lowest'}),this.listenTo(N,'mutations',(M,L,I)=>{this._handleMutations(L,I)})}destroy(){super.destroy(),this._buffer.destroy(),this._buffer=null}_handleKeydown(F){const N=this.editor.document;d(F)||N.selection.isCollapsed||N.enqueueChanges(()=>{this.editor.data.deleteContent(N.selection,this._buffer.batch)})}_handleMutations(F,N){const M=this.editor.document,L=new V(this.editor.editing,this._buffer);M.enqueueChanges(()=>L.handle(F,N))}}r.a=E;class V{constructor(F,N){this.editing=F,this.buffer=N,this.insertedCharacterCount=0}handle(F,N){for(let M of F)this._handleTextMutation(M,N),this._handleTextNodeInsertion(M);this.buffer.input(Math.max(this.insertedCharacterCount,0))}_handleTextMutation(F,N){if('text'==F.type){const M=F.newText.replace(/\u00A0/g,' '),L=F.oldText.replace(/\u00A0/g,' '),I=s.i(P.a)(L,M);let D=null,q=null;for(let Z=0;Z<I.length;Z++){const G=I[Z];'equal'!=G&&(D=null==D?Z:D,q=Z)}let z=0,$=0;for(let Z=D;Z<=q;Z++)'insert'!=I[Z]&&z++,'delete'!=I[Z]&&$++;let K=null;N&&(K=this.editing.mapper.toModelPosition(N.anchor));const U=new C.a(F.node,D),H=this.editing.mapper.toModelPosition(U);if(0<z){const Z=w.a.createFromPositionAndShift(H,z);this._remove(Z,z)}const W=F.newText.substr(D,$);this._insert(H,W),K&&this.editing.model.selection.collapse(K)}}_handleTextNodeInsertion(F){if('children'==F.type&&1==F.newChildren.length-F.oldChildren.length){const N=s.i(P.a)(F.oldChildren,F.newChildren,u),M=s.i(S.a)(N,F.newChildren);if(!(1<M.length)){const L=M[0];if(L.values[0]instanceof T.a){const I=new C.a(F.node,L.index),D=this.editing.mapper.toModelPosition(I);let q=L.values[0].data;q=q.replace(/\u00A0/g,' '),this._insert(D,q),this.editing.model.selection.collapse(D.getShiftedBy(q.length))}}}}_insert(F,N){this.buffer.batch.weakInsert(F,N),this.insertedCharacterCount+=N.length}_remove(F,N){this.buffer.batch.remove(F),this.insertedCharacterCount-=N}}const R=[s.i(O.c)('arrowUp'),s.i(O.c)('arrowRight'),s.i(O.c)('arrowDown'),s.i(O.c)('arrowLeft'),16,17,18,20,27,33,34,35,36];for(let F=112;135>=F;F++)R.push(F)},function(o,r,s){'use strict';var u=s(23);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=function({emitter:f,activator:h,callback:w}){f.listenTo(document,'keydown',(C,{keyCode:T})=>{T==u.b.esc&&h()&&w()})}},function(o,r,s){'use strict';var d=s(0);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=class{constructor(f){this.editor=f,this._components=new Map}add(f,h){if(this._components.get(f))throw new d.a('componentfactory-item-exists: The item already exists in the component factory.',{name:f});this._components.set(f,h)}create(f){return this._components.get(f)(this.editor.locale)}}},function(o,r,s){'use strict';var u=s(26),f=s(379),h=s(378);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=function(w,C){const T=new u.a(C);T.bind('label','isOn','isEnabled','withText','keystroke','tooltip').to(w);const P=new h.a(C);return new f.a(C,T,P)}},function(o,r,s){'use strict';var d=s(9),u=s(6);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{constructor(h){super(h);const w=this.bindTemplate;this.set('isVisible',!1),this.children=this.createCollection(),this.template=new u.a({tag:'div',attributes:{class:['ck-reset','ck-dropdown__panel',w.if('isVisible','ck-dropdown__panel-visible')]},children:this.children})}}r.a=f},function(o,r,s){'use strict';var d=s(9),u=s(6),f=s(59),h=s(60);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class w extends d.a{constructor(C,T,P){super(C),u.a.extend(T.template,{attributes:{class:['ck-dropdown__button']}}),this.buttonView=T,this.panelView=P,this.set('isOpen',!1),this.focusTracker=new f.a,this.keystrokes=new h.a,this.template=new u.a({tag:'div',attributes:{class:['ck-dropdown']},children:[T,P]}),this.listenTo(T,'execute',()=>this.isOpen=!this.isOpen),P.bind('isVisible').to(this,'isOpen')}init(){this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);const C=(T,P)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,P())};return this.keystrokes.set('arrowdown',(T,P)=>{this.isOpen||(this.isOpen=!0,P())}),this.keystrokes.set('arrowright',(T,P)=>{this.isOpen&&P()}),this.keystrokes.set('arrowleft',C),this.keystrokes.set('esc',C),super.init()}focus(){this.buttonView.focus()}}r.a=w},function(o,r,s){'use strict';function u(C){C.listenTo(document,'click',(T,{target:P})=>{C.element==P||C.element.contains(P)||(C.isOpen=!1)})}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */var f=s(388),h=s(387),w=s(377);r.a=function(C,T){const P=s.i(w.a)(C,T),S=P.listView=new f.a(T);return S.items.bindTo(C.items).as(O=>{const E=new h.a(T);return E.bind(...Object.keys(O)).to(O),E}),S.items.delegate('execute').to(P),P.panelView.children.add(S),P.on('change:isOpen',(O,E,V)=>{V?u(P):P.stopListening(document)}),P.on('execute',()=>{P.isOpen=!1}),P.keystrokes.set('arrowdown',(O,E)=>{P.isOpen&&(S.focus(),E())}),P.keystrokes.set('arrowup',(O,E)=>{P.isOpen&&(S.focusLast(),E())}),P}},function(o,r,s){'use strict';var d=s(9),u=s(6);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{constructor(h,w){super(h);const C=this.bindTemplate;w&&(this.element=this.editableElement=w),this.template=new u.a({tag:'div',attributes:{class:[C.to('isFocused',T=>T?'ck-focused':'ck-blurred'),'ck-editor__editable'],contenteditable:C.to('isReadOnly',T=>!T)}}),this.set('isReadOnly',!1),this.set('isFocused',!1)}init(){return this.editableElement?this.template.apply(this.editableElement):this.editableElement=this.element,super.init()}destroy(){return this.editableElement.contentEditable=!1,super.destroy()}}r.a=f},function(o,r,s){'use strict';var d=s(381),u=s(6);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{constructor(h,w){super(h,w);const C=this.bindTemplate,T=this.t;this.set('name',null);const P=S=>{return T('Rich Text Editor, %0',[S])};u.a.extend(this.template,{attributes:{role:'textbox','aria-label':C.to('name',P),title:C.to('name',P),class:'ck-editor__editable_inline'}})}}r.a=f},function(o,r,s){'use strict';var d=s(384),u=s(64),f=s(6);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h extends d.a{constructor(w){super(w);const C=this.t,T=s.i(u.a)();this.set('width',null),this.set('height',null),this.top=this.createCollection(),this.main=this.createCollection(),this.template=new f.a({tag:'div',attributes:{class:['ck-reset','ck-editor','ck-rounded-corners'],role:'application',dir:'ltr',lang:w.lang,'aria-labelledby':`cke-editor__aria-label_${T}`},children:[{tag:'span',attributes:{id:`cke-editor__aria-label_${T}`,class:'cke-voice-label'},children:[C('Rich Text Editor')]},{tag:'div',attributes:{class:'ck-editor__top ck-reset_all',role:'presentation'},children:this.top},{tag:'div',attributes:{class:'ck-editor__main',role:'presentation'},children:this.main}]})}}r.a=h},function(o,r,s){'use strict';var d=s(9),u=s(6);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{constructor(h){super(h),this.body=this.createCollection()}init(){return Promise.resolve().then(()=>this._renderBodyCollection()).then(()=>super.init())}destroy(){return this._bodyCollectionContainer.remove(),super.destroy()}_renderBodyCollection(){const h=this._bodyCollectionContainer=new u.a({tag:'div',attributes:{class:['ck-body','ck-rounded-corners','ck-reset_all']},children:this.body}).render();document.body.appendChild(h)}}r.a=f},function(o,r,s){'use strict';var d=s(9),u=s(6);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{constructor(){super();const h=this.bindTemplate;this.set('content'),this.set('viewBox','0 0 20 20'),this.template=new u.a({tag:'svg',ns:'http://www.w3.org/2000/svg',attributes:{class:'ck-icon',viewBox:h.to('viewBox')}}),this.on('change:content',(w,C,T)=>{for(const P=new DOMParser().parseFromString(T.trim(),'image/svg+xml').firstChild;0<P.childNodes.length;)this.element.appendChild(P.childNodes[0])})}}r.a=f},function(o,r,s){'use strict';var d=s(9),u=s(6);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{constructor(h){super(h),this.set('text'),this.set('for');const w=this.bindTemplate;this.template=new u.a({tag:'label',attributes:{class:['ck-label'],for:w.to('for')},children:[{text:w.to('text')}]})}}r.a=f},function(o,r,s){'use strict';var d=s(9),u=s(6);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{constructor(){super(),this.set('tabindex',-1);const h=this.bindTemplate;this.template=new u.a({tag:'li',attributes:{class:['ck-list__item'],style:h.to('style'),tabindex:h.to('tabindex')},children:[{text:h.to('label')}],on:{click:h.to('execute')}})}focus(){this.element.focus()}}r.a=f},function(o,r,s){'use strict';var d=s(9),u=s(6),f=s(59),h=s(118),w=s(60);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class C extends d.a{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new f.a,this.keystrokes=new w.a,this._focusCycler=new h.a({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'arrowup',focusNext:'arrowdown'}}),this.template=new u.a({tag:'ul',attributes:{class:['ck-reset','ck-list']},children:this.items}),this.items.on('add',(T,P)=>{this.focusTracker.add(P.element)}),this.items.on('remove',(T,P)=>{this.focusTracker.remove(P.element)})}init(){return this.keystrokes.listenTo(this.element),super.init()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}r.a=C},function(o,r,s){'use strict';var d=s(52),u=s(4),f=s(31);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h{constructor(w,C){C&&s.i(d.a)(this,C),w&&this.set(w)}}r.a=h,s.i(u.a)(h,f.a)},function(o,r,s){'use strict';var d=s(58),u=s(6),f=s(186),h=s(190);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const w=s.i(h.a)('px');class C extends f.a{constructor(T){super(T);const P=this.bindTemplate;this.set('isActive',!1),this.set('isSticky',!1),this.set('limiterElement',null),this.set('limiterOffset',50),this.set('_marginLeft',null),this.set('_isStickyToTheLimiter',!1),u.a.extend(this.template,{attributes:{class:[P.if('isSticky','ck-toolbar_sticky'),P.if('_isStickyToTheLimiter','ck-toolbar_sticky_bottom-limit')],style:{width:P.to('isSticky',S=>{return S?w(this._elementPlaceholder.getBoundingClientRect().width):null}),bottom:P.to('_isStickyToTheLimiter',S=>{return S?w(this.limiterOffset):null}),marginLeft:P.to('_marginLeft')}}}),this._elementPlaceholder=new u.a({tag:'div',attributes:{class:['ck-toolbar__placeholder'],style:{display:P.to('isSticky',S=>S?'block':'none'),height:P.to('isSticky',S=>{return S?w(this._toolbarRect.height):null})}}}).render()}init(){super.init(),this.element.parentNode.insertBefore(this._elementPlaceholder,this.element),this.listenTo(d.a.window,'scroll',()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,'change:isActive',()=>{this._checkIfShouldBeSticky()})}destroy(){return super.destroy().then(()=>{this._elementPlaceholder.remove()})}_checkIfShouldBeSticky(){const T=this._limiterRect=this.limiterElement.getBoundingClientRect(),P=this._toolbarRect=this.element.getBoundingClientRect();this.isSticky=this.isActive&&0>T.top&&this._toolbarRect.height+this.limiterOffset<T.height,this.isSticky?(this._isStickyToTheLimiter=T.bottom<P.height+this.limiterOffset,this._marginLeft=this._isStickyToTheLimiter?null:w(-d.a.window.scrollX)):(this._isStickyToTheLimiter=!1,this._marginLeft=null)}}r.a=C},function(o,r,s){'use strict';var d=s(120),u=s(104);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{_doExecute(){const h=this._stack.pop();this.editor.document.enqueueChanges(()=>{const w=h.batch.deltas[h.batch.deltas.length-1],C=w.baseVersion+w.operations.length,T=Array.from(this.editor.document.history.getDeltas(C)).filter(P=>{return!this._createdBatches.has(P.batch)});this._restoreSelection(h.selection.ranges,h.selection.isBackward,T),this._redo(h.batch)}),this.refreshState()}_redo(h){const w=this.editor.document,C=w.batch();this._createdBatches.add(C);const T=h.deltas.slice();T.reverse();for(let P of T){const S=P.baseVersion+P.operations.length;let O=[P.getReversed()];for(let E of w.history.getDeltas(S))this._createdBatches.has(E.batch)||(O=s.i(u.a)(O,[E],!0).deltasA);for(let E of O){E.baseVersion=w.version,C.addDelta(E);for(let V of E.operations)w.applyOperation(V)}}}}r.a=f},function(o,r,s){'use strict';var d=s(120),u=s(104);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class f extends d.a{_doExecute(h=null){let w=h?this._stack.findIndex(T=>T.batch==h):this._stack.length-1;const C=this._stack.splice(w,1)[0];this.editor.document.enqueueChanges(()=>{const T=this._undo(C.batch),P=this.editor.document.history.getDeltas(C.batch.baseVersion);this._restoreSelection(C.selection.ranges,C.selection.isBackward,P),this.fire('revert',C.batch,T)}),this.refreshState()}_getItemIndexFromBaseVersion(h){for(let w=0;w<this._stack.length;w++)if(this._stack[w].batch.baseVersion==h)return w;return null}_undo(h){const w=this.editor.document,C=w.batch();this._createdBatches.add(C);const T=w.history,P=h.deltas.slice();P.reverse();for(let S of P){const O=S.baseVersion,E=O+S.operations.length,V=T.getDelta(O);if(null!==V){V.reverse();let R=[];for(let N of V)R.push(N.getReversed());const F={};for(let N of T.getDeltas(E)){const M=this._getItemIndexFromBaseVersion(N.baseVersion);null!==M&&(this._stack[M].selection.ranges=s.i(d.b)(this._stack[M].selection.ranges,R));const L=s.i(u.a)(R,[N],!0);R=L.deltasA;const I=L.deltasB;F[N.baseVersion]||(F[N.baseVersion]=[]),F[N.baseVersion]=F[N.baseVersion].concat(I)}for(let N of R){N.baseVersion=w.version,C.addDelta(N);for(let M of N.operations)w.applyOperation(M)}T.removeDelta(O);for(let N of R)T.removeDelta(N.baseVersion);for(let N in F)T.updateDelta(+N,F[N])}}return C}}r.a=f},function(o,r,s){'use strict';var d=s(3),u=s(392),f=s(391);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class h extends d.a{constructor(w){super(w),this._batchRegistry=new WeakSet}init(){this._undoCommand=new u.a(this.editor),this._redoCommand=new f.a(this.editor),this.editor.commands.set('undo',this._undoCommand),this.editor.commands.set('redo',this._redoCommand),this.listenTo(this.editor.document,'change',(w,C,T,P)=>{this._batchRegistry.has(P)||'transparent'==P.type||(this._redoCommand._createdBatches.has(P)?this._undoCommand.addBatch(P):!this._undoCommand._createdBatches.has(P)&&(this._undoCommand.addBatch(P),this._redoCommand.clearStack()),this._batchRegistry.add(P))},{priority:'highest'}),this.listenTo(this._undoCommand,'revert',(w,C,T)=>{this._redoCommand.addBatch(T)})}}r.a=h},function(o,r,s){'use strict';var d=s(95);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=class{constructor(f){this._config={},f&&this._setObjectToTarget(this._config,f)}set(f,h){this._setToTarget(this._config,f,h)}define(f,h){this._setToTarget(this._config,f,h,!0)}get(f){return this._getFromSource(this._config,f)}_setToTarget(f,h,w,C=!1){if(s.i(d.a)(h))return void this._setObjectToTarget(f,h,C);const T=h.split('.');h=T.pop();for(let P of T)s.i(d.a)(f[P])||(f[P]={}),f=f[P];return s.i(d.a)(w)?(s.i(d.a)(f[h])||(f[h]={}),f=f[h],void this._setObjectToTarget(f,w,C)):void(C&&'undefined'!=typeof f[h]||(f[h]=w))}_getFromSource(f,h){const w=h.split('.');h=w.pop();for(let C of w){if(!s.i(d.a)(f[C])){f=null;break}f=f[C]}return f?f[h]:void 0}_setObjectToTarget(f,h,w){Object.keys(h).forEach(C=>{this._setToTarget(f,C,h[C],w)})}}},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(u,f){function h(){P&&(C.push(P),P=null)}function w(S){return P&&P.type==S}const C=[];let T=0,P;return u.forEach(S=>{'equal'==S?(h(),T++):'insert'==S?(w('insert')?P.values.push(f[T]):(h(),P={type:'insert',index:T,values:[f[T]]}),T++):w('delete')?P.howMany++:(h(),P={type:'delete',index:T,howMany:1})}),h(),C}},function(o,r,s){'use strict';var u=s(189);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=function(f,h){const w=s.i(u.a)(f),C=s.i(u.a)(h);let T=0;for(;w[T]==C[T]&&w[T];)T++;return 0==T?null:w[T-1]}},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(u){return u instanceof HTMLTextAreaElement?u.value:u.innerHTML}},function(o,r,s){'use strict';var u=s(58);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=function(f){for(;f&&'html'!=f.tagName.toLowerCase();){if('static'!=u.a.window.getComputedStyle(f).position)return f;f=f.parentElement}return null}},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(u){let f=0;for(;u.previousSibling;)u=u.previousSibling,f++;return f}},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(u,f,h){u.insertBefore(h,u.childNodes[f]||null)}},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(u){return'[object Range]'==Object.prototype.toString.apply(u)}},function(o,r,s){'use strict';function u(P,S,O){const{left:E,top:V,name:R}=P(S,O);return[R,O.clone().moveTo(E,V)]}/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function f(P,S,O,E,V){let R=0,F=0,N,M;const L=O.getArea();return P.some(I=>{function D(){F=K,R=$,N=z,M=q}const[q,z]=u(I,S,O);let $,K;if(E)if(V){const U=E.getIntersection(V);$=U?U.getIntersectionArea(z):0}else $=E.getIntersectionArea(z);return V&&(K=V.getIntersectionArea(z)),V&&!E?K>F&&D():!V&&E?$>R&&D():K>F&&$>=R?D():K>=F&&$>R&&D(),$===L}),N?[M,N]:null}function h({left:P,top:S}){const{scrollX:O,scrollY:E}=w.a.window;return{left:P+O,top:S+E}}var w=s(58),C=s(403),T=s(398);r.a=function({element:P,target:S,positions:O,limiter:E,fitInViewport:V}){const R=s.i(T.a)(P.parentElement),F=new C.a(P),N=new C.a(S);let M,L;if(!E&&!V)[M,L]=u(O[0],N,F);else{const q=E&&new C.a(E),z=V&&C.a.getViewportRect();[M,L]=f(O,N,F,q,z)||u(O[0],N,F)}let{left:I,top:D}=h(M);if(R){const q=h(new C.a(R));I-=q.left,D-=q.top}return{left:I,top:D,name:L}}},function(o,r,s){'use strict';var d=s(58),u=s(401),f=s(495);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const h=['top','right','bottom','left','width','height'];class w{constructor(C){(s.i(f.a)(C)||s.i(u.a)(C))&&(C=C.getBoundingClientRect()),h.forEach(T=>this[T]=C[T])}clone(){return new w(this)}moveTo(C,T){return this.top=T,this.right=C+this.width,this.bottom=T+this.height,this.left=C,this}moveBy(C,T){return this.top+=T,this.right+=C,this.left+=C,this.bottom+=T,this}getIntersection(C){const T={top:Math.max(this.top,C.top),right:Math.min(this.right,C.right),bottom:Math.min(this.bottom,C.bottom),left:Math.max(this.left,C.left)};return T.width=T.right-T.left,T.height=T.bottom-T.top,0>T.width||0>T.height?null:new w(T)}getIntersectionArea(C){const T=this.getIntersection(C);return T?T.getArea():0}getArea(){return this.width*this.height}static getViewportRect(){const{innerWidth:C,innerHeight:T}=d.a.window;return new w({top:0,right:C,bottom:T,left:0,width:C,height:T})}}r.a=w},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(u){const f=u.parentNode;f&&f.removeChild(u)}},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(u,f){u instanceof HTMLTextAreaElement&&(u.value=f),u.innerHTML=f}},function(o,r){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=class{constructor(){this._replacedElements=[]}replace(u,f){this._replacedElements.push({element:u,newElement:f}),u.style.display='none',f&&u.parentNode.insertBefore(f,u.nextSibling)}restore(){this._replacedElements.forEach(({element:u,newElement:f})=>{u.style.display='',f&&f.remove()}),this._replacedElements=[]}}},function(o,r){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const u=navigator.userAgent.toLowerCase(),f={mac:function(h){return-1<h.indexOf('macintosh')}(u)};r.a=f},function(o,r,s){'use strict';var d=s(511);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=class{constructor(f,h){this.source=f,this.name=h,this.path=[],this.stop=s.i(d.a)(),this.off=s.i(d.a)()}}},function(o,r,s){'use strict';var d=s(48),u=s(30),f=s.i(d.a)(u.a,'DataView');r.a=f},function(o,r,s){'use strict';function d(T){var P=-1,S=T?T.length:0;for(this.clear();++P<S;){var O=T[P];this.set(O[0],O[1])}}var u=s(456),f=s(457),h=s(458),w=s(459),C=s(460);d.prototype.clear=u.a,d.prototype['delete']=f.a,d.prototype.get=h.a,d.prototype.has=w.a,d.prototype.set=C.a,r.a=d},function(o,r,s){'use strict';var d=s(48),u=s(30),f=s.i(d.a)(u.a,'Promise');r.a=f},function(o,r,s){'use strict';var d=s(30),u=d.a.Reflect;r.a=u},function(o,r,s){'use strict';var d=s(48),u=s(30),f=s.i(d.a)(u.a,'WeakMap');r.a=f},function(o,r){'use strict';r.a=function(u,f){return u.set(f[0],f[1]),u}},function(o,r){'use strict';r.a=function(u,f){return u.add(f),u}},function(o,r){'use strict';r.a=function(u,f){for(var h=-1,w=u.length;++h<w&&!(!1===f(u[h],h,u)););return u}},function(o,r){'use strict';r.a=function(u,f){for(var h=-1,w=u.length;++h<w;)if(f(u[h],h,u))return!0;return!1}},function(o,r,s){'use strict';var u=s(138),f=s(63);r.a=function(h,w){return h&&s.i(u.a)(w,s.i(f.a)(w),h)}},function(o,r,s){'use strict';var u=s(227);r.a=function(f,h){for(var w=-1,T=h.length,P=Array(T);++w<T;)P[w]=null==f?void 0:s.i(u.a)(f,h[w]);return P}},function(o,r){'use strict';r.a=function(u,f,h){return u===u&&(void 0!==h&&(u=u<=h?u:h),void 0!==f&&(u=u>=f?u:f)),u}},function(o,r,s){'use strict';var u=s(13),f=Object.create;r.a=function(h){return s.i(u.a)(h)?f(h):{}}},function(o,r,s){'use strict';var u=s(14),f=s(505);r.a=function(h,w,C,T){var P=h.length;for(C=s.i(u.a)(C),0>C&&(C=-C>P?0:P+C),T=void 0===T||T>P?P:s.i(u.a)(T),0>T&&(T+=P),T=C>T?0:s.i(f.a)(T);C<T;)h[C++]=w;return h}},function(o,r,s){'use strict';var u=s(81),f=s(11);r.a=function(h,w,C){var T=w(h);return s.i(f.a)(h)?T:s.i(u.a)(T,C(h))}},function(o,r){'use strict';r.a=function(u,f){return f in Object(u)}},function(o,r){'use strict';r.a=function(u,f,h,w){for(var C=h-1,T=u.length;++C<T;)if(w(u[C],f))return C;return-1}},function(o,r,s){'use strict';var u=s(122),f=s(204),h=s(450),w=s(451),C=s(140),T=s(11),P=s(87),S=s(497),E='[object Arguments]',V='[object Array]',R='[object Object]',F=Object.prototype,N=F.hasOwnProperty;r.a=function(M,L,I,D,q,z){var $=s.i(T.a)(M),K=s.i(T.a)(L),U=V,H=V;$||(U=s.i(C.a)(M),U=U==E?R:U),K||(H=s.i(C.a)(L),H=H==E?R:H);var W=U==R&&!s.i(P.a)(M),Z=H==R&&!s.i(P.a)(L),G=U==H;if(G&&!W)return z||(z=new u.a),$||s.i(S.a)(M)?s.i(f.a)(M,L,I,D,q,z):s.i(h.a)(M,L,U,I,D,q,z);if(!(q&2)){var J=W&&N.call(M,'__wrapped__'),Y=Z&&N.call(L,'__wrapped__');if(J||Y){var X=J?M.value():M,Q=Y?L.value():L;return z||(z=new u.a),I(X,Q,D,q,z)}}return!!G&&(z||(z=new u.a),s.i(w.a)(M,L,I,D,q,z))}},function(o,r,s){'use strict';var u=s(122),f=s(129);r.a=function(C,T,P,S){var O=P.length,E=O,V=!S;if(null==C)return!E;for(C=Object(C);O--;){var R=P[O];if(V&&R[2]?R[1]!==C[R[0]]:!(R[0]in C))return!1}for(;++O<E;){R=P[O];var F=R[0],N=C[F],M=R[1];if(!(V&&R[2])){var L=new u.a;if(S)var I=S(N,M,F,C,T,L);if(void 0===I?!s.i(f.a)(M,N,S,1|2,L):!I)return!1}else if(void 0===N&&!(F in C))return!1}return!0}},function(o,r){'use strict';var u=Object.keys;r.a=function(f){return u(Object(f))}},function(o,r,s){'use strict';function d(T){T=null==T?T:Object(T);var P=[];for(var S in T)P.push(S);return P}var u=s(412),f=s(466),h=Object.prototype,w=u.a?u.a.enumerate:void 0,C=h.propertyIsEnumerable;w&&!C.call({valueOf:1},'valueOf')&&(d=function(T){return s.i(f.a)(w(T))}),r.a=d},function(o,r,s){'use strict';var u=s(427),f=s(454),h=s(209);r.a=function(w){var C=s.i(f.a)(w);return 1==C.length&&C[0][2]?s.i(h.a)(C[0][0],C[0][1]):function(T){return T===w||s.i(u.a)(T,w,C)}}},function(o,r,s){'use strict';var u=s(129),f=s(227),h=s(493),w=s(49),C=s(208),T=s(209),P=s(50);r.a=function(E,V){return s.i(w.a)(E)&&s.i(C.a)(V)?s.i(T.a)(s.i(P.a)(E),V):function(R){var F=s.i(f.a)(R,E);return F===void 0&&F===V?s.i(h.a)(R,E):s.i(u.a)(V,F,void 0,1|2)}}},function(o,r,s){'use strict';var u=s(35);r.a=function(f,h){var w=f.length;if(w)return h+=0>h?w:0,s.i(u.a)(h,w)?f[h]:void 0}},function(o,r,s){'use strict';var u=s(126);r.a=function(f){return function(h){return s.i(u.a)(h,f)}}},function(o,r,s){'use strict';var u=s(61),f=s(85),h=s(35),w=s(49),C=s(13),T=s(50);r.a=function(P,S,O,E){S=s.i(w.a)(S,P)?[S]:s.i(f.a)(S);for(var V=-1,R=S.length,N=P,M;null!=N&&++V<R;){if(M=s.i(T.a)(S[V]),s.i(C.a)(N)){var L=O;if(V!=R-1){var I=N[M];L=E?E(I,M,N):void 0,void 0===L&&(L=null==I?s.i(h.a)(S[V+1])?[]:{}:I)}s.i(u.a)(N,M,L)}N=N[M]}return P}},function(o,r,s){'use strict';var u=s(27);r.a=function(f,h){return s.i(u.a)(h,function(w){return[w,f[w]]})}},function(o,r,s){'use strict';var u=s(123),f=s(44),w=u.a?u.a.prototype:void 0,C=w?w.toString:void 0;r.a=function(T){if('string'==typeof T)return T;if(s.i(f.a)(T))return C?C.call(T):'';var P=T+'';return'0'==P&&1/T==-(1/0)?'-0':P}},function(o,r){'use strict';r.a=function(u){return u&&u.Object===Object?u:null}},function(o,r){'use strict';r.a=function(u,f){if(f)return u.slice();var h=new u.constructor(u.length);return u.copy(h),h}},function(o,r,s){'use strict';var u=s(137);r.a=function(f,h){var w=h?s.i(u.a)(f.buffer):f.buffer;return new f.constructor(w,f.byteOffset,f.byteLength)}},function(o,r,s){'use strict';var u=s(414),f=s(195),h=s(141);r.a=function(w,C,T){var P=C?T(s.i(h.a)(w),!0):s.i(h.a)(w);return s.i(f.a)(P,u.a,new w.constructor)}},function(o,r){'use strict';var u=/\w*$/;r.a=function(f){var h=new f.constructor(f.source,u.exec(f));return h.lastIndex=f.lastIndex,h}},function(o,r,s){'use strict';var u=s(415),f=s(195),h=s(91);r.a=function(w,C,T){var P=C?T(s.i(h.a)(w),!0):s.i(h.a)(w);return s.i(f.a)(P,u.a,new w.constructor)}},function(o,r,s){'use strict';var u=s(123),f=u.a?u.a.prototype:void 0,h=f?f.valueOf:void 0;r.a=function(w){return h?Object(h.call(w)):{}}},function(o,r,s){'use strict';var u=s(137);r.a=function(f,h){var w=h?s.i(u.a)(f.buffer):f.buffer;return new f.constructor(w,f.byteOffset,f.length)}},function(o,r,s){'use strict';var u=s(44);r.a=function(f,h){if(f!==h){var w=f!==void 0,C=null===f,T=f===f,P=s.i(u.a)(f),S=h!==void 0,O=null===h,E=h===h,V=s.i(u.a)(h);if(!O&&!V&&!P&&f>h||P&&S&&E&&!O&&!V||C&&S&&E||!w&&E||!T)return 1;if(!C&&!P&&!V&&f<h||V&&w&&T&&!C&&!P||O&&w&&T||!S&&T||!E)return-1}return 0}},function(o,r,s){'use strict';var u=s(138),f=s(205);r.a=function(h,w){return s.i(u.a)(h,s.i(f.a)(h),w)}},function(o,r,s){'use strict';var u=s(88),f=s(8);r.a=function(h){return s.i(f.a)(function(w,C){var T=-1,P=C.length,S=1<P?C[P-1]:void 0,O=2<P?C[2]:void 0;for(S=3<h.length&&'function'==typeof S?(P--,S):void 0,O&&s.i(u.a)(C[0],C[1],O)&&(S=3>P?void 0:S,P=1),w=Object(w);++T<P;){var E=C[T];E&&h(w,E,T,S)}return w})}},function(o,r,s){'use strict';var d=s(192),u=s(500),f=s(91),w=d.a&&1/s.i(f.a)(new d.a([,-0]))[1]==1/0?function(C){return new d.a(C)}:u.a;r.a=w},function(o,r,s){'use strict';var u=s(435),f=s(140),h=s(141),w=s(480);r.a=function(P){return function(S){var O=s.i(f.a)(S);return O=='[object Map]'?s.i(h.a)(S):O=='[object Set]'?s.i(w.a)(S):s.i(u.a)(S,P(S))}}},function(o,r,s){'use strict';var u=s(123),f=s(193),h=s(204),w=s(141),C=s(91),q=u.a?u.a.prototype:void 0,z=q?q.valueOf:void 0;r.a=function($,K,U,H,W,Z,G){switch(U){case'[object DataView]':if($.byteLength!=K.byteLength||$.byteOffset!=K.byteOffset)return!1;$=$.buffer,K=K.buffer;case'[object ArrayBuffer]':return $.byteLength==K.byteLength&&H(new f.a($),new f.a(K));case'[object Boolean]':case'[object Date]':return+$==+K;case'[object Error]':return $.name==K.name&&$.message==K.message;case'[object Number]':return $==+$?$==+K:K!=+K;case'[object RegExp]':case'[object String]':return $==K+'';case'[object Map]':var J=w.a;case'[object Set]':var Y=Z&2;if(J||(J=C.a),$.size!=K.size&&!Y)return!1;var X=G.get($);return X?X==K:(Z|=1,G.set($,K),s.i(h.a)(J($),J(K),H,W,Z,G));case'[object Symbol]':if(z)return z.call($)==z.call(K);}return!1}},function(o,r,s){'use strict';var u=s(198),f=s(63);r.a=function(w,C,T,P,S,O){var E=S&2,V=s.i(f.a)(w),R=V.length,F=s.i(f.a)(C),N=F.length;if(R!=N&&!E)return!1;for(var M=R,L;M--;)if(L=V[M],E?!(L in C):!s.i(u.a)(C,L))return!1;var I=O.get(w);if(I)return I==C;var D=!0;O.set(w,C);for(var q=E;++M<R;){L=V[M];var z=w[L],$=C[L];if(P)var K=E?P($,z,L,C,w,O):P(z,$,L,w,C,O);if(void 0===K?!(z===$||T(z,$,P,S,O)):!K){D=!1;break}q||(q='constructor'==L)}if(D&&!q){var U=w.constructor,H=C.constructor;U!=H&&'constructor'in w&&'constructor'in C&&!('function'==typeof U&&U instanceof U&&'function'==typeof H&&H instanceof H)&&(D=!1)}return O['delete'](w),D}},function(o,r,s){'use strict';var u=s(423),f=s(205),h=s(63);r.a=function(w){return s.i(u.a)(w,h.a,f.a)}},function(o,r,s){'use strict';var d=s(130),u=s.i(d.a)('length');r.a=u},function(o,r,s){'use strict';var u=s(208),f=s(506);r.a=function(h){for(var w=s.i(f.a)(h),C=w.length;C--;)w[C][2]=s.i(u.a)(w[C][1]);return w}},function(o,r,s){'use strict';var u=s(85),f=s(145),h=s(11),w=s(35),C=s(49),T=s(94),P=s(147),S=s(50);r.a=function(O,E,V){E=s.i(C.a)(E,O)?[E]:s.i(u.a)(E);for(var F=-1,N=E.length,R,M;++F<N&&(M=s.i(S.a)(E[F]),!!(R=null!=O&&V(O,M)));)O=O[M];if(R)return R;var N=O?O.length:0;return!!N&&s.i(T.a)(N)&&s.i(w.a)(M,N)&&(s.i(h.a)(O)||s.i(P.a)(O)||s.i(f.a)(O))}},function(o,r,s){'use strict';var u=s(90);r.a=function(){this.__data__=u.a?s.i(u.a)(null):{}}},function(o,r){'use strict';r.a=function(u){return this.has(u)&&delete this.__data__[u]}},function(o,r,s){'use strict';var u=s(90),h=Object.prototype,w=h.hasOwnProperty;r.a=function(C){var T=this.__data__;if(u.a){var P=T[C];return P==='__lodash_hash_undefined__'?void 0:P}return w.call(T,C)?T[C]:void 0}},function(o,r,s){'use strict';var u=s(90),f=Object.prototype,h=f.hasOwnProperty;r.a=function(w){var C=this.__data__;return u.a?C[w]!==void 0:h.call(C,w)}},function(o,r,s){'use strict';var u=s(90);r.a=function(h,w){var C=this.__data__;return C[h]=u.a&&void 0===w?'__lodash_hash_undefined__':w,this}},function(o,r){'use strict';var u=Object.prototype,f=u.hasOwnProperty;r.a=function(h){var w=h.length,C=h.constructor(w);return w&&'string'==typeof h[0]&&f.call(h,'index')&&(C.index=h.index,C.input=h.input),C}},function(o,r,s){'use strict';var u=s(137),f=s(439),h=s(440),w=s(441),C=s(442),T=s(443),P=s(444);r.a=function(G,J,Y,X){var Q=G.constructor;return J==='[object ArrayBuffer]'?s.i(u.a)(G):J==='[object Boolean]'||J==='[object Date]'?new Q(+G):J==='[object DataView]'?s.i(f.a)(G,X):J==='[object Float32Array]'||J==='[object Float64Array]'||J==='[object Int8Array]'||J==='[object Int16Array]'||J==='[object Int32Array]'||J==='[object Uint8Array]'||J==='[object Uint8ClampedArray]'||J==='[object Uint16Array]'||J==='[object Uint32Array]'?s.i(P.a)(G,X):J==='[object Map]'?s.i(h.a)(G,X,Y):J==='[object Number]'||J==='[object String]'?new Q(G):J==='[object RegExp]'?s.i(w.a)(G):J==='[object Set]'?s.i(C.a)(G,X,Y):J==='[object Symbol]'?s.i(T.a)(G):void 0}},function(o,r,s){'use strict';var u=s(421),f=s(139),h=s(89);r.a=function(w){return'function'!=typeof w.constructor||s.i(h.a)(w)?{}:s.i(u.a)(s.i(f.a)(w))}},function(o,r,s){'use strict';var u=s(145),f=s(11);r.a=function(h){return s.i(f.a)(h)||s.i(u.a)(h)}},function(o,r){'use strict';r.a=function(u){var f=typeof u;return'string'==f||'number'==f||'symbol'==f||'boolean'==f?'__proto__'!==u:null===u}},function(o,r){'use strict';r.a=function(u){for(var h=[],f;!(f=u.next()).done;)h.push(f.value);return h}},function(o,r){'use strict';r.a=function(){this.__data__=[]}},function(o,r,s){'use strict';var u=s(82),f=Array.prototype,h=f.splice;r.a=function(w){var C=this.__data__,T=s.i(u.a)(C,w);if(0>T)return!1;var P=C.length-1;return T==P?C.pop():h.call(C,T,1),!0}},function(o,r,s){'use strict';var u=s(82);r.a=function(f){var h=this.__data__,w=s.i(u.a)(h,f);return 0>w?void 0:h[w][1]}},function(o,r,s){'use strict';var u=s(82);r.a=function(f){return-1<s.i(u.a)(this.__data__,f)}},function(o,r,s){'use strict';var u=s(82);r.a=function(f,h){var w=this.__data__,C=s.i(u.a)(w,f);return 0>C?w.push([f,h]):w[C][1]=h,this}},function(o,r,s){'use strict';var u=s(410),f=s(78),h=s(191);r.a=function(){this.__data__={hash:new u.a,map:new(h.a||f.a),string:new u.a}}},function(o,r,s){'use strict';var u=s(86);r.a=function(f){return s.i(u.a)(this,f)['delete'](f)}},function(o,r,s){'use strict';var u=s(86);r.a=function(f){return s.i(u.a)(this,f).get(f)}},function(o,r,s){'use strict';var u=s(86);r.a=function(f){return s.i(u.a)(this,f).has(f)}},function(o,r,s){'use strict';var u=s(86);r.a=function(f,h){return s.i(u.a)(this,f).set(f,h),this}},function(o,r,s){'use strict';var u=s(126),f=s(34);r.a=function(h,w){return 1==w.length?h:s.i(u.a)(h,s.i(f.a)(w,0,-1))}},function(o,r){'use strict';r.a=function(f){return this.__data__.set(f,'__lodash_hash_undefined__'),this}},function(o,r){'use strict';r.a=function(u){return this.__data__.has(u)}},function(o,r){'use strict';r.a=function(u){var f=-1,h=Array(u.size);return u.forEach(function(w){h[++f]=[w,w]}),h}},function(o,r,s){'use strict';var u=s(78);r.a=function(){this.__data__=new u.a}},function(o,r){'use strict';r.a=function(u){return this.__data__['delete'](u)}},function(o,r){'use strict';r.a=function(u){return this.__data__.get(u)}},function(o,r){'use strict';r.a=function(u){return this.__data__.has(u)}},function(o,r,s){'use strict';var u=s(78),f=s(121);r.a=function(w,C){var T=this.__data__;return T instanceof u.a&&T.__data__.length==200&&(T=this.__data__=new f.a(T.__data__)),T.set(w,C),this}},function(o,r,s){'use strict';var d=s(499),u=s(507),f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,h=/\\(\\)?/g,w=s.i(d.a)(function(C){var T=[];return s.i(u.a)(C).replace(f,function(P,S,O,E){T.push(O?E.replace(h,'$1'):S||P)}),T});r.a=w},function(o,r,s){'use strict';var d=s(211),u=s(212),f=s(213),h=s(214),w=s(215),C=s(216),T=s(142),P=s(143),S=s(217),O=s(218),E=s(219),V=s(220),R=s(221),F=s(222),N=s(223),M=s(224),L=s(225),I=s(226),D=s(144),q=s(229),z=s(230),$=s(231),K=s(232),U=s(233),H=s(235),W=s(19),Z=s(236),G=s(237),J=s(238),Y=s(148),X=s(239),Q=s(240),ee=s(241),te=s(242),ae=s(243),ne=s(244),oe=s(245),ie=s(246),re=s(247),se=s(248),le=s(249),de=s(250),ce=s(251),ue=s(252),pe=s(253),me=s(254),ge=s(255),fe=s(256),he=s(257),be=s(259),_e=s(260),ke=s(261),we=s(262),ye=s(263),ve=s(264),xe=s(96),Ce=s(149),Te=s(265),Pe=s(266),Ae=s(267),Se=s(268),Oe=s(269),Ee=s(270),Ve=s(271),Re=s(272);r.a={chunk:d.a,compact:u.a,concat:f.a,difference:h.a,differenceBy:w.a,differenceWith:C.a,drop:T.a,dropRight:P.a,dropRightWhile:S.a,dropWhile:O.a,fill:E.a,findIndex:V.a,findLastIndex:R.a,first:F.a,flatten:N.a,flattenDeep:M.a,flattenDepth:L.a,fromPairs:I.a,head:D.a,indexOf:q.a,initial:z.a,intersection:$.a,intersectionBy:K.a,intersectionWith:U.a,join:H.a,last:W.a,lastIndexOf:Z.a,nth:G.a,pull:J.a,pullAll:Y.a,pullAllBy:X.a,pullAllWith:Q.a,pullAt:ee.a,remove:te.a,reverse:ae.a,slice:ne.a,sortedIndex:oe.a,sortedIndexBy:ie.a,sortedIndexOf:re.a,sortedLastIndex:se.a,sortedLastIndexBy:le.a,sortedLastIndexOf:de.a,sortedUniq:ce.a,sortedUniqBy:ue.a,tail:pe.a,take:me.a,takeRight:ge.a,takeRightWhile:fe.a,takeWhile:he.a,union:be.a,unionBy:_e.a,unionWith:ke.a,uniq:we.a,uniqBy:ye.a,uniqWith:ve.a,unzip:xe.a,unzipWith:Ce.a,without:Te.a,xor:Pe.a,xorBy:Ae.a,xorWith:Se.a,zip:Oe.a,zipObject:Ee.a,zipObjectDeep:Ve.a,zipWith:Re.a}},function(o,r,s){'use strict';var d=s(211),u=s(212),f=s(213),h=s(214),w=s(215),C=s(216),T=s(142),P=s(143),S=s(217),O=s(218),E=s(219),V=s(220),R=s(221),F=s(222),N=s(223),M=s(224),L=s(225),I=s(226),D=s(144),q=s(229),z=s(230),$=s(231),K=s(232),U=s(233),H=s(235),W=s(19),Z=s(236),G=s(237),J=s(238),Y=s(148),X=s(239),Q=s(240),ee=s(241),te=s(242),ae=s(243),ne=s(244),oe=s(245),ie=s(246),re=s(247),se=s(248),le=s(249),de=s(250),ce=s(251),ue=s(252),pe=s(253),me=s(254),ge=s(255),fe=s(256),he=s(257),be=s(259),_e=s(260),ke=s(261),we=s(262),ye=s(263),ve=s(264),xe=s(96),Ce=s(149),Te=s(265),Pe=s(266),Ae=s(267),Se=s(268),Oe=s(269),Ee=s(270),Ve=s(271),Re=s(272),Fe=s(487);s.d(r,'a',function(){return Fe.a})},function(o,r,s){'use strict';var d=s(61),u=s(138),f=s(447),h=s(93),w=s(89),C=s(498),T=Object.prototype,P=T.propertyIsEnumerable,S=!P.call({valueOf:1},'valueOf'),O=s.i(f.a)(function(E,V){if(S||s.i(w.a)(V)||s.i(h.a)(V))return void s.i(u.a)(V,s.i(C.a)(V),E);for(var R in V)s.i(d.a)(E,R,V[R])});r.a=O},function(o,r,s){'use strict';var u=s(196);r.a=function(f,h){return s.i(u.a)(f,!0,!0,h)}},function(o,r){'use strict';r.a=function(u){return function(){return u}}},function(o,r,s){'use strict';var u=s(13),f=s(501),h=s(258),C=Math.max,T=Math.min;r.a=function(P,S,O){function E(Y){var X=q,Q=z;return q=z=void 0,W=Y,K=P.apply(Q,X),K}function V(Y){return W=Y,U=setTimeout(N,S),Z?E(Y):K}function R(Y){var X=Y-H,Q=Y-W,ee=S-X;return G?T(ee,$-Q):ee}function F(Y){var X=Y-H,Q=Y-W;return!H||X>=S||0>X||G&&Q>=$}function N(){var Y=s.i(f.a)();return F(Y)?M(Y):void(U=setTimeout(N,R(Y)))}function M(Y){return(clearTimeout(U),U=void 0,J&&q)?E(Y):(q=z=void 0,K)}function D(){var Y=s.i(f.a)(),X=F(Y);if(q=arguments,z=this,H=Y,X){if(void 0===U)return V(H);if(G)return clearTimeout(U),U=setTimeout(N,S),E(H)}return void 0===U&&(U=setTimeout(N,S)),K}var H=0,W=0,Z=!1,G=!1,J=!0,q,z,$,K,U;if('function'!=typeof P)throw new TypeError('Expected a function');return S=s.i(h.a)(S)||0,s.i(u.a)(O)&&(Z=!!O.leading,G='maxWait'in O,$=G?C(s.i(h.a)(O.maxWait)||0,S):$,J='trailing'in O?!!O.trailing:J),D.cancel=function(){void 0!==U&&clearTimeout(U),H=W=0,q=z=U=void 0},D.flush=function(){return void 0===U?K:M(s.i(f.a)())},D}},function(o,r,s){'use strict';var u=s(424),f=s(455);r.a=function(h,w){return null!=h&&s.i(f.a)(h,w,u.a)}},function(o,r,s){'use strict';(function(d){var u=s(491),f=s(30),h={'function':!0,object:!0},w=h[typeof exports]&&exports&&!exports.nodeType?exports:void 0,C=h[typeof d]&&d&&!d.nodeType?d:void 0,T=C&&C.exports===w?w:void 0,P=T?f.a.Buffer:void 0,S=P?function(O){return O instanceof P}:s.i(u.a)(!1);r.a=S}).call(r,s(153)(o))},function(o,r,s){'use strict';var u=s(43),f=s(95);r.a=function(h){return!!h&&1===h.nodeType&&s.i(u.a)(h)&&!s.i(f.a)(h)}},function(o,r,s){'use strict';var u=s(129);r.a=function(f,h){return s.i(u.a)(f,h)}},function(o,r,s){'use strict';var u=s(94),f=s(43),G={};G['[object Float32Array]']=G['[object Float64Array]']=G['[object Int8Array]']=G['[object Int16Array]']=G['[object Int32Array]']=G['[object Uint8Array]']=G['[object Uint8ClampedArray]']=G['[object Uint16Array]']=G['[object Uint32Array]']=!0,G['[object Arguments]']=G['[object Array]']=G['[object ArrayBuffer]']=G['[object Boolean]']=G['[object DataView]']=G['[object Date]']=G['[object Error]']=G['[object Function]']=G['[object Map]']=G['[object Number]']=G['[object Object]']=G['[object RegExp]']=G['[object Set]']=G['[object String]']=G['[object WeakMap]']=!1;var J=Object.prototype,Y=J.toString;r.a=function(X){return s.i(f.a)(X)&&s.i(u.a)(X.length)&&!!G[Y.call(X)]}},function(o,r,s){'use strict';var u=s(429),f=s(206),h=s(35),w=s(89),C=Object.prototype,T=C.hasOwnProperty;r.a=function(P){for(var S=-1,O=s.i(w.a)(P),E=s.i(u.a)(P),V=E.length,R=s.i(f.a)(P),N=R||[],M=N.length,L;++S<V;)L=E[S],!!R&&('length'==L||s.i(h.a)(L,M))||'constructor'==L&&(O||!T.call(P,L))||N.push(L);return N}},function(o,r,s){'use strict';function d(h,w){if('function'!=typeof h||w&&'function'!=typeof w)throw new TypeError('Expected a function');var C=function(){var T=arguments,P=w?w.apply(this,T):T[0],S=C.cache;if(S.has(P))return S.get(P);var O=h.apply(this,T);return C.cache=S.set(P,O),O};return C.cache=new(d.Cache||u.a),C}var u=s(121);d.Cache=u.a,r.a=d},function(o,r){'use strict';r.a=function(){}},function(o,r){'use strict';var d=Date.now;r.a=d},function(o,r,s){'use strict';var u=s(130),f=s(433),h=s(49),w=s(50);r.a=function(C){return s.i(h.a)(C)?s.i(u.a)(s.i(w.a)(C)):s.i(f.a)(C)}},function(o,r,s){'use strict';var u=s(492),f=s(13);r.a=function(w,C,T){var P=!0,S=!0;if('function'!=typeof w)throw new TypeError('Expected a function');return s.i(f.a)(T)&&(P='leading'in T?!!T.leading:P,S='trailing'in T?!!T.trailing:S),s.i(u.a)(w,C,{leading:P,maxWait:C,trailing:S})}},function(o,r,s){'use strict';var u=s(258),f=1/0;r.a=function(w){if(!w)return 0===w?w:0;if(w=s.i(u.a)(w),w===f||w===-f){var C=0>w?-1:1;return C*1.7976931348623157e308}return w===w?w:0}},function(o,r,s){'use strict';var u=s(420),f=s(14);r.a=function(w){return w?s.i(u.a)(s.i(f.a)(w),0,4294967295):0}},function(o,r,s){'use strict';var d=s(449),u=s(63),f=s.i(d.a)(u.a);r.a=f},function(o,r,s){'use strict';var u=s(436);r.a=function(f){return null==f?'':s.i(u.a)(f)}},function(o,r,s){'use strict';var d=s(512);/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=class{constructor(f){this.lang=f||'en',this.t=(...h)=>this._t(...h)}_t(f,h){let w=s.i(d.a)(this.lang,f);return h&&(w=w.replace(/\%(\d+)/g,(C,T)=>{return T<h.length?h[T]:C})),w}}},function(o,r){'use strict';r.a=/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function(u,f){if(u.size!=f.size)return!1;for(let h of u.entries()){let w=JSON.stringify(h[1]),C=JSON.stringify(f.get(h[0]));if(w!==C)return!1}return!0}},function(o,r){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const d={get(u){return'number'==typeof u?u:this[u]||this.normal},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};r.a=d},function(o,r){'use strict';/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */r.a=function(){return function u(){u.called=!0}}},function(o,r){'use strict';function f(C,T){return C in w&&T in w[C]}r.a=function(C,T){return f(C,T)?w[C][T]:T.replace(/ \[context: [^\]]+\]$/,'')};/**
 * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */let w={}},function(o,r,s){'use strict';function d(){var L=document.querySelector('#editor'),I=document.createElement('p');I.innerHTML=`
		<h2>That's a shame...</h2>
		<p>We're not proud of this but this early developer preview does not work in your web browser.</p>
		<p>Please consider using <a href="https://www.google.com/chrome/">Google Chrome</a> instead.</p>
		<p>We're terribly sorry.</p>
	`,I.classList.add('message'),L.style.display='none',L.parentNode.insertBefore(I,L)}Object.defineProperty(r,'__esModule',{value:!0});var u=s(279),f=s(275),h=s(276),w=s(278),C=s(280),T=s(281),P=s(282),S=s(283),O=s(151),E=s(277),V=s(284),R=s(285),F=s(152),N=s(286),M=s(287);/**
 * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */try{u.a.create(document.querySelector('#editor'),{plugins:[h.a,w.a,C.a,T.a,P.a,S.a,O.a,E.a,V.a,R.a,F.a,N.a,M.a],toolbar:['headings','bold','italic','link','unlink','bulletedList','numberedList','undo','redo']}).then(function(L){window.editor=L}).catch(function(L){console.error(L.stack)})}catch(L){d()}}]);
//# sourceMappingURL=app.bundle.js.map